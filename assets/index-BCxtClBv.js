var Qp=e=>{throw TypeError(e)};var lh=(e,t,n)=>t.has(e)||Qp("Cannot "+n);var H=(e,t,n)=>(lh(e,t,"read from private field"),n?n.call(e):t.get(e)),je=(e,t,n)=>t.has(e)?Qp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ye=(e,t,n,r)=>(lh(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ke=(e,t,n)=>(lh(e,t,"access private method"),n);var lu=(e,t,n,r)=>({set _(o){ye(e,t,o,n)},get _(){return H(e,t,r)}});function Xw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function NA(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Kw={exports:{}},Yd={},Yw={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dc=Symbol.for("react.element"),TA=Symbol.for("react.portal"),IA=Symbol.for("react.fragment"),RA=Symbol.for("react.strict_mode"),OA=Symbol.for("react.profiler"),kA=Symbol.for("react.provider"),PA=Symbol.for("react.context"),DA=Symbol.for("react.forward_ref"),MA=Symbol.for("react.suspense"),jA=Symbol.for("react.memo"),LA=Symbol.for("react.lazy"),Zp=Symbol.iterator;function BA(e){return e===null||typeof e!="object"?null:(e=Zp&&e[Zp]||e["@@iterator"],typeof e=="function"?e:null)}var Qw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zw=Object.assign,Jw={};function tl(e,t,n){this.props=e,this.context=t,this.refs=Jw,this.updater=n||Qw}tl.prototype.isReactComponent={};tl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ey(){}ey.prototype=tl.prototype;function W1(e,t,n){this.props=e,this.context=t,this.refs=Jw,this.updater=n||Qw}var z1=W1.prototype=new ey;z1.constructor=W1;Zw(z1,tl.prototype);z1.isPureReactComponent=!0;var Jp=Array.isArray,ty=Object.prototype.hasOwnProperty,H1={current:null},ny={key:!0,ref:!0,__self:!0,__source:!0};function ry(e,t,n){var r,o={},a=null,d=null;if(t!=null)for(r in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(a=""+t.key),t)ty.call(t,r)&&!ny.hasOwnProperty(r)&&(o[r]=t[r]);var h=arguments.length-2;if(h===1)o.children=n;else if(1<h){for(var m=Array(h),g=0;g<h;g++)m[g]=arguments[g+2];o.children=m}if(e&&e.defaultProps)for(r in h=e.defaultProps,h)o[r]===void 0&&(o[r]=h[r]);return{$$typeof:Dc,type:e,key:a,ref:d,props:o,_owner:H1.current}}function FA(e,t){return{$$typeof:Dc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dc}function UA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var em=/\/+/g;function ch(e,t){return typeof e=="object"&&e!==null&&e.key!=null?UA(""+e.key):t.toString(36)}function Fu(e,t,n,r,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(a){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case Dc:case TA:d=!0}}if(d)return d=e,o=o(d),e=r===""?"."+ch(d,0):r,Jp(o)?(n="",e!=null&&(n=e.replace(em,"$&/")+"/"),Fu(o,t,n,"",function(g){return g})):o!=null&&($1(o)&&(o=FA(o,n+(!o.key||d&&d.key===o.key?"":(""+o.key).replace(em,"$&/")+"/")+e)),t.push(o)),1;if(d=0,r=r===""?".":r+":",Jp(e))for(var h=0;h<e.length;h++){a=e[h];var m=r+ch(a,h);d+=Fu(a,t,n,m,o)}else if(m=BA(e),typeof m=="function")for(e=m.call(e),h=0;!(a=e.next()).done;)a=a.value,m=r+ch(a,h++),d+=Fu(a,t,n,m,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function cu(e,t,n){if(e==null)return e;var r=[],o=0;return Fu(e,r,"","",function(a){return t.call(n,a,o++)}),r}function VA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jn={current:null},Uu={transition:null},WA={ReactCurrentDispatcher:jn,ReactCurrentBatchConfig:Uu,ReactCurrentOwner:H1};function sy(){throw Error("act(...) is not supported in production builds of React.")}Je.Children={map:cu,forEach:function(e,t,n){cu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cu(e,function(){t++}),t},toArray:function(e){return cu(e,function(t){return t})||[]},only:function(e){if(!$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Je.Component=tl;Je.Fragment=IA;Je.Profiler=OA;Je.PureComponent=W1;Je.StrictMode=RA;Je.Suspense=MA;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WA;Je.act=sy;Je.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Zw({},e.props),o=e.key,a=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,d=H1.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(m in t)ty.call(t,m)&&!ny.hasOwnProperty(m)&&(r[m]=t[m]===void 0&&h!==void 0?h[m]:t[m])}var m=arguments.length-2;if(m===1)r.children=n;else if(1<m){h=Array(m);for(var g=0;g<m;g++)h[g]=arguments[g+2];r.children=h}return{$$typeof:Dc,type:e.type,key:o,ref:a,props:r,_owner:d}};Je.createContext=function(e){return e={$$typeof:PA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kA,_context:e},e.Consumer=e};Je.createElement=ry;Je.createFactory=function(e){var t=ry.bind(null,e);return t.type=e,t};Je.createRef=function(){return{current:null}};Je.forwardRef=function(e){return{$$typeof:DA,render:e}};Je.isValidElement=$1;Je.lazy=function(e){return{$$typeof:LA,_payload:{_status:-1,_result:e},_init:VA}};Je.memo=function(e,t){return{$$typeof:jA,type:e,compare:t===void 0?null:t}};Je.startTransition=function(e){var t=Uu.transition;Uu.transition={};try{e()}finally{Uu.transition=t}};Je.unstable_act=sy;Je.useCallback=function(e,t){return jn.current.useCallback(e,t)};Je.useContext=function(e){return jn.current.useContext(e)};Je.useDebugValue=function(){};Je.useDeferredValue=function(e){return jn.current.useDeferredValue(e)};Je.useEffect=function(e,t){return jn.current.useEffect(e,t)};Je.useId=function(){return jn.current.useId()};Je.useImperativeHandle=function(e,t,n){return jn.current.useImperativeHandle(e,t,n)};Je.useInsertionEffect=function(e,t){return jn.current.useInsertionEffect(e,t)};Je.useLayoutEffect=function(e,t){return jn.current.useLayoutEffect(e,t)};Je.useMemo=function(e,t){return jn.current.useMemo(e,t)};Je.useReducer=function(e,t,n){return jn.current.useReducer(e,t,n)};Je.useRef=function(e){return jn.current.useRef(e)};Je.useState=function(e){return jn.current.useState(e)};Je.useSyncExternalStore=function(e,t,n){return jn.current.useSyncExternalStore(e,t,n)};Je.useTransition=function(){return jn.current.useTransition()};Je.version="18.3.1";Yw.exports=Je;var E=Yw.exports;const Zs=Kd(E),iy=Xw({__proto__:null,default:Zs},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zA=E,HA=Symbol.for("react.element"),$A=Symbol.for("react.fragment"),GA=Object.prototype.hasOwnProperty,qA=zA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XA={key:!0,ref:!0,__self:!0,__source:!0};function oy(e,t,n){var r,o={},a=null,d=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(d=t.ref);for(r in t)GA.call(t,r)&&!XA.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:HA,type:e,key:a,ref:d,props:o,_owner:qA.current}}Yd.Fragment=$A;Yd.jsx=oy;Yd.jsxs=oy;Kw.exports=Yd;var p=Kw.exports,ay={exports:{}},dr={},ly={exports:{}},cy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Q,ee){var he=Q.length;Q.push(ee);e:for(;0<he;){var ue=he-1>>>1,me=Q[ue];if(0<o(me,ee))Q[ue]=ee,Q[he]=me,he=ue;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ee=Q[0],he=Q.pop();if(he!==ee){Q[0]=he;e:for(var ue=0,me=Q.length,we=me>>>1;ue<we;){var Re=2*(ue+1)-1,tt=Q[Re],de=Re+1,Ce=Q[de];if(0>o(tt,he))de<me&&0>o(Ce,tt)?(Q[ue]=Ce,Q[de]=he,ue=de):(Q[ue]=tt,Q[Re]=he,ue=Re);else if(de<me&&0>o(Ce,he))Q[ue]=Ce,Q[de]=he,ue=de;else break e}}return ee}function o(Q,ee){var he=Q.sortIndex-ee.sortIndex;return he!==0?he:Q.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var m=[],g=[],y=1,v=null,C=3,T=!1,P=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Q){for(var ee=n(g);ee!==null;){if(ee.callback===null)r(g);else if(ee.startTime<=Q)r(g),ee.sortIndex=ee.expirationTime,t(m,ee);else break;ee=n(g)}}function D(Q){if(_=!1,S(Q),!P)if(n(m)!==null)P=!0,fe(V);else{var ee=n(g);ee!==null&&ne(D,ee.startTime-Q)}}function V(Q,ee){P=!1,_&&(_=!1,I(L),L=-1),T=!0;var he=C;try{for(S(ee),v=n(m);v!==null&&(!(v.expirationTime>ee)||Q&&!te());){var ue=v.callback;if(typeof ue=="function"){v.callback=null,C=v.priorityLevel;var me=ue(v.expirationTime<=ee);ee=e.unstable_now(),typeof me=="function"?v.callback=me:v===n(m)&&r(m),S(ee)}else r(m);v=n(m)}if(v!==null)var we=!0;else{var Re=n(g);Re!==null&&ne(D,Re.startTime-ee),we=!1}return we}finally{v=null,C=he,T=!1}}var W=!1,F=null,L=-1,j=5,G=-1;function te(){return!(e.unstable_now()-G<j)}function q(){if(F!==null){var Q=e.unstable_now();G=Q;var ee=!0;try{ee=F(!0,Q)}finally{ee?se():(W=!1,F=null)}}else W=!1}var se;if(typeof N=="function")se=function(){N(q)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,X=re.port2;re.port1.onmessage=q,se=function(){X.postMessage(null)}}else se=function(){k(q,0)};function fe(Q){F=Q,W||(W=!0,se())}function ne(Q,ee){L=k(function(){Q(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){P||T||(P=!0,fe(V))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return n(m)},e.unstable_next=function(Q){switch(C){case 1:case 2:case 3:var ee=3;break;default:ee=C}var he=C;C=ee;try{return Q()}finally{C=he}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,ee){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var he=C;C=Q;try{return ee()}finally{C=he}},e.unstable_scheduleCallback=function(Q,ee,he){var ue=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ue+he:ue):he=ue,Q){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=he+me,Q={id:y++,callback:ee,priorityLevel:Q,startTime:he,expirationTime:me,sortIndex:-1},he>ue?(Q.sortIndex=he,t(g,Q),n(m)===null&&Q===n(g)&&(_?(I(L),L=-1):_=!0,ne(D,he-ue))):(Q.sortIndex=me,t(m,Q),P||T||(P=!0,fe(V))),Q},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(Q){var ee=C;return function(){var he=C;C=ee;try{return Q.apply(this,arguments)}finally{C=he}}}})(cy);ly.exports=cy;var KA=ly.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA=E,cr=KA;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uy=new Set,rc={};function ko(e,t){Ha(e,t),Ha(e+"Capture",t)}function Ha(e,t){for(rc[e]=t,e=0;e<t.length;e++)uy.add(t[e])}var Is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r0=Object.prototype.hasOwnProperty,QA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tm={},nm={};function ZA(e){return r0.call(nm,e)?!0:r0.call(tm,e)?!1:QA.test(e)?nm[e]=!0:(tm[e]=!0,!1)}function JA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function e3(e,t,n,r){if(t===null||typeof t>"u"||JA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ln(e,t,n,r,o,a,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=d}var vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vn[e]=new Ln(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vn[t]=new Ln(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vn[e]=new Ln(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vn[e]=new Ln(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vn[e]=new Ln(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vn[e]=new Ln(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vn[e]=new Ln(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vn[e]=new Ln(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vn[e]=new Ln(e,5,!1,e.toLowerCase(),null,!1,!1)});var G1=/[\-:]([a-z])/g;function q1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(G1,q1);vn[t]=new Ln(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(G1,q1);vn[t]=new Ln(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(G1,q1);vn[t]=new Ln(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vn[e]=new Ln(e,1,!1,e.toLowerCase(),null,!1,!1)});vn.xlinkHref=new Ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vn[e]=new Ln(e,1,!1,e.toLowerCase(),null,!0,!0)});function X1(e,t,n,r){var o=vn.hasOwnProperty(t)?vn[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(e3(t,n,o,r)&&(n=null),r||o===null?ZA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ms=YA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uu=Symbol.for("react.element"),ra=Symbol.for("react.portal"),sa=Symbol.for("react.fragment"),K1=Symbol.for("react.strict_mode"),s0=Symbol.for("react.profiler"),dy=Symbol.for("react.provider"),fy=Symbol.for("react.context"),Y1=Symbol.for("react.forward_ref"),i0=Symbol.for("react.suspense"),o0=Symbol.for("react.suspense_list"),Q1=Symbol.for("react.memo"),ni=Symbol.for("react.lazy"),hy=Symbol.for("react.offscreen"),rm=Symbol.iterator;function _l(e){return e===null||typeof e!="object"?null:(e=rm&&e[rm]||e["@@iterator"],typeof e=="function"?e:null)}var Ut=Object.assign,uh;function Ll(e){if(uh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);uh=t&&t[1]||""}return`
`+uh+e}var dh=!1;function fh(e,t){if(!e||dh)return"";dh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var o=g.stack.split(`
`),a=r.stack.split(`
`),d=o.length-1,h=a.length-1;1<=d&&0<=h&&o[d]!==a[h];)h--;for(;1<=d&&0<=h;d--,h--)if(o[d]!==a[h]){if(d!==1||h!==1)do if(d--,h--,0>h||o[d]!==a[h]){var m=`
`+o[d].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=d&&0<=h);break}}}finally{dh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ll(e):""}function t3(e){switch(e.tag){case 5:return Ll(e.type);case 16:return Ll("Lazy");case 13:return Ll("Suspense");case 19:return Ll("SuspenseList");case 0:case 2:case 15:return e=fh(e.type,!1),e;case 11:return e=fh(e.type.render,!1),e;case 1:return e=fh(e.type,!0),e;default:return""}}function a0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sa:return"Fragment";case ra:return"Portal";case s0:return"Profiler";case K1:return"StrictMode";case i0:return"Suspense";case o0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fy:return(e.displayName||"Context")+".Consumer";case dy:return(e._context.displayName||"Context")+".Provider";case Y1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q1:return t=e.displayName||null,t!==null?t:a0(e.type)||"Memo";case ni:t=e._payload,e=e._init;try{return a0(e(t))}catch{}}return null}function n3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return a0(t);case 8:return t===K1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ri(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function r3(e){var t=gy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){r=""+d,a.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function du(e){e._valueTracker||(e._valueTracker=r3(e))}function py(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=gy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function rd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function l0(e,t){var n=t.checked;return Ut({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ri(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function my(e,t){t=t.checked,t!=null&&X1(e,"checked",t,!1)}function c0(e,t){my(e,t);var n=Ri(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?u0(e,t.type,n):t.hasOwnProperty("defaultValue")&&u0(e,t.type,Ri(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function im(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function u0(e,t,n){(t!=="number"||rd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Bl=Array.isArray;function ma(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ri(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function d0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Ut({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function om(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ae(92));if(Bl(n)){if(1<n.length)throw Error(ae(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ri(n)}}function xy(e,t){var n=Ri(t.value),r=Ri(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function am(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function f0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fu,yy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fu=fu||document.createElement("div"),fu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},s3=["Webkit","ms","Moz","O"];Object.keys(Hl).forEach(function(e){s3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hl[t]=Hl[e]})});function vy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hl.hasOwnProperty(e)&&Hl[e]?(""+t).trim():t+"px"}function by(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=vy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var i3=Ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function h0(e,t){if(t){if(i3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function g0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p0=null;function Z1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var m0=null,xa=null,wa=null;function lm(e){if(e=Lc(e)){if(typeof m0!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=tf(t),m0(e.stateNode,e.type,t))}}function Ey(e){xa?wa?wa.push(e):wa=[e]:xa=e}function Cy(){if(xa){var e=xa,t=wa;if(wa=xa=null,lm(e),t)for(e=0;e<t.length;e++)lm(t[e])}}function Sy(e,t){return e(t)}function Ay(){}var hh=!1;function _y(e,t,n){if(hh)return e(t,n);hh=!0;try{return Sy(e,t,n)}finally{hh=!1,(xa!==null||wa!==null)&&(Ay(),Cy())}}function ic(e,t){var n=e.stateNode;if(n===null)return null;var r=tf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ae(231,t,typeof n));return n}var x0=!1;if(Is)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){x0=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{x0=!1}function o3(e,t,n,r,o,a,d,h,m){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(y){this.onError(y)}}var $l=!1,sd=null,id=!1,w0=null,a3={onError:function(e){$l=!0,sd=e}};function l3(e,t,n,r,o,a,d,h,m){$l=!1,sd=null,o3.apply(a3,arguments)}function c3(e,t,n,r,o,a,d,h,m){if(l3.apply(this,arguments),$l){if($l){var g=sd;$l=!1,sd=null}else throw Error(ae(198));id||(id=!0,w0=g)}}function Po(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ny(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cm(e){if(Po(e)!==e)throw Error(ae(188))}function u3(e){var t=e.alternate;if(!t){if(t=Po(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return cm(o),e;if(a===r)return cm(o),t;a=a.sibling}throw Error(ae(188))}if(n.return!==r.return)n=o,r=a;else{for(var d=!1,h=o.child;h;){if(h===n){d=!0,n=o,r=a;break}if(h===r){d=!0,r=o,n=a;break}h=h.sibling}if(!d){for(h=a.child;h;){if(h===n){d=!0,n=a,r=o;break}if(h===r){d=!0,r=a,n=o;break}h=h.sibling}if(!d)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?e:t}function Ty(e){return e=u3(e),e!==null?Iy(e):null}function Iy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Iy(e);if(t!==null)return t;e=e.sibling}return null}var Ry=cr.unstable_scheduleCallback,um=cr.unstable_cancelCallback,d3=cr.unstable_shouldYield,f3=cr.unstable_requestPaint,qt=cr.unstable_now,h3=cr.unstable_getCurrentPriorityLevel,J1=cr.unstable_ImmediatePriority,Oy=cr.unstable_UserBlockingPriority,od=cr.unstable_NormalPriority,g3=cr.unstable_LowPriority,ky=cr.unstable_IdlePriority,Qd=null,fs=null;function p3(e){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(Qd,e,void 0,(e.current.flags&128)===128)}catch{}}var Wr=Math.clz32?Math.clz32:w3,m3=Math.log,x3=Math.LN2;function w3(e){return e>>>=0,e===0?32:31-(m3(e)/x3|0)|0}var hu=64,gu=4194304;function Fl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ad(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,d=n&268435455;if(d!==0){var h=d&~o;h!==0?r=Fl(h):(a&=d,a!==0&&(r=Fl(a)))}else d=n&~o,d!==0?r=Fl(d):a!==0&&(r=Fl(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wr(t),o=1<<n,r|=e[n],t&=~o;return r}function y3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v3(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var d=31-Wr(a),h=1<<d,m=o[d];m===-1?(!(h&n)||h&r)&&(o[d]=y3(h,t)):m<=t&&(e.expiredLanes|=h),a&=~h}}function y0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Py(){var e=hu;return hu<<=1,!(hu&4194240)&&(hu=64),e}function gh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Mc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wr(t),e[t]=n}function b3(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Wr(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}function eg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wr(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var mt=0;function Dy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var My,tg,jy,Ly,By,v0=!1,pu=[],vi=null,bi=null,Ei=null,oc=new Map,ac=new Map,ii=[],E3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dm(e,t){switch(e){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":oc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ac.delete(t.pointerId)}}function Tl(e,t,n,r,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},t!==null&&(t=Lc(t),t!==null&&tg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function C3(e,t,n,r,o){switch(t){case"focusin":return vi=Tl(vi,e,t,n,r,o),!0;case"dragenter":return bi=Tl(bi,e,t,n,r,o),!0;case"mouseover":return Ei=Tl(Ei,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return oc.set(a,Tl(oc.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,ac.set(a,Tl(ac.get(a)||null,e,t,n,r,o)),!0}return!1}function Fy(e){var t=ro(e.target);if(t!==null){var n=Po(t);if(n!==null){if(t=n.tag,t===13){if(t=Ny(n),t!==null){e.blockedOn=t,By(e.priority,function(){jy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=b0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);p0=r,n.target.dispatchEvent(r),p0=null}else return t=Lc(n),t!==null&&tg(t),e.blockedOn=n,!1;t.shift()}return!0}function fm(e,t,n){Vu(e)&&n.delete(t)}function S3(){v0=!1,vi!==null&&Vu(vi)&&(vi=null),bi!==null&&Vu(bi)&&(bi=null),Ei!==null&&Vu(Ei)&&(Ei=null),oc.forEach(fm),ac.forEach(fm)}function Il(e,t){e.blockedOn===t&&(e.blockedOn=null,v0||(v0=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,S3)))}function lc(e){function t(o){return Il(o,e)}if(0<pu.length){Il(pu[0],e);for(var n=1;n<pu.length;n++){var r=pu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(vi!==null&&Il(vi,e),bi!==null&&Il(bi,e),Ei!==null&&Il(Ei,e),oc.forEach(t),ac.forEach(t),n=0;n<ii.length;n++)r=ii[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)Fy(n),n.blockedOn===null&&ii.shift()}var ya=Ms.ReactCurrentBatchConfig,ld=!0;function A3(e,t,n,r){var o=mt,a=ya.transition;ya.transition=null;try{mt=1,ng(e,t,n,r)}finally{mt=o,ya.transition=a}}function _3(e,t,n,r){var o=mt,a=ya.transition;ya.transition=null;try{mt=4,ng(e,t,n,r)}finally{mt=o,ya.transition=a}}function ng(e,t,n,r){if(ld){var o=b0(e,t,n,r);if(o===null)Sh(e,t,r,cd,n),dm(e,r);else if(C3(o,e,t,n,r))r.stopPropagation();else if(dm(e,r),t&4&&-1<E3.indexOf(e)){for(;o!==null;){var a=Lc(o);if(a!==null&&My(a),a=b0(e,t,n,r),a===null&&Sh(e,t,r,cd,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else Sh(e,t,r,null,n)}}var cd=null;function b0(e,t,n,r){if(cd=null,e=Z1(r),e=ro(e),e!==null)if(t=Po(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ny(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cd=e,null}function Uy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h3()){case J1:return 1;case Oy:return 4;case od:case g3:return 16;case ky:return 536870912;default:return 16}default:return 16}}var xi=null,rg=null,Wu=null;function Vy(){if(Wu)return Wu;var e,t=rg,n=t.length,r,o="value"in xi?xi.value:xi.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var d=n-e;for(r=1;r<=d&&t[n-r]===o[a-r];r++);return Wu=o.slice(e,1<r?1-r:void 0)}function zu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mu(){return!0}function hm(){return!1}function fr(e){function t(n,r,o,a,d){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=d,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(n=e[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?mu:hm,this.isPropagationStopped=hm,this}return Ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mu)},persist:function(){},isPersistent:mu}),t}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sg=fr(nl),jc=Ut({},nl,{view:0,detail:0}),N3=fr(jc),ph,mh,Rl,Zd=Ut({},jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ig,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rl&&(Rl&&e.type==="mousemove"?(ph=e.screenX-Rl.screenX,mh=e.screenY-Rl.screenY):mh=ph=0,Rl=e),ph)},movementY:function(e){return"movementY"in e?e.movementY:mh}}),gm=fr(Zd),T3=Ut({},Zd,{dataTransfer:0}),I3=fr(T3),R3=Ut({},jc,{relatedTarget:0}),xh=fr(R3),O3=Ut({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),k3=fr(O3),P3=Ut({},nl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),D3=fr(P3),M3=Ut({},nl,{data:0}),pm=fr(M3),j3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=B3[e])?!!t[e]:!1}function ig(){return F3}var U3=Ut({},jc,{key:function(e){if(e.key){var t=j3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?L3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ig,charCode:function(e){return e.type==="keypress"?zu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),V3=fr(U3),W3=Ut({},Zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mm=fr(W3),z3=Ut({},jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ig}),H3=fr(z3),$3=Ut({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),G3=fr($3),q3=Ut({},Zd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),X3=fr(q3),K3=[9,13,27,32],og=Is&&"CompositionEvent"in window,Gl=null;Is&&"documentMode"in document&&(Gl=document.documentMode);var Y3=Is&&"TextEvent"in window&&!Gl,Wy=Is&&(!og||Gl&&8<Gl&&11>=Gl),xm=" ",wm=!1;function zy(e,t){switch(e){case"keyup":return K3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ia=!1;function Q3(e,t){switch(e){case"compositionend":return Hy(t);case"keypress":return t.which!==32?null:(wm=!0,xm);case"textInput":return e=t.data,e===xm&&wm?null:e;default:return null}}function Z3(e,t){if(ia)return e==="compositionend"||!og&&zy(e,t)?(e=Vy(),Wu=rg=xi=null,ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wy&&t.locale!=="ko"?null:t.data;default:return null}}var J3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ym(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!J3[e.type]:t==="textarea"}function $y(e,t,n,r){Ey(r),t=ud(t,"onChange"),0<t.length&&(n=new sg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ql=null,cc=null;function e_(e){nv(e,0)}function Jd(e){var t=la(e);if(py(t))return e}function t_(e,t){if(e==="change")return t}var Gy=!1;if(Is){var wh;if(Is){var yh="oninput"in document;if(!yh){var vm=document.createElement("div");vm.setAttribute("oninput","return;"),yh=typeof vm.oninput=="function"}wh=yh}else wh=!1;Gy=wh&&(!document.documentMode||9<document.documentMode)}function bm(){ql&&(ql.detachEvent("onpropertychange",qy),cc=ql=null)}function qy(e){if(e.propertyName==="value"&&Jd(cc)){var t=[];$y(t,cc,e,Z1(e)),_y(e_,t)}}function n_(e,t,n){e==="focusin"?(bm(),ql=t,cc=n,ql.attachEvent("onpropertychange",qy)):e==="focusout"&&bm()}function r_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jd(cc)}function s_(e,t){if(e==="click")return Jd(t)}function i_(e,t){if(e==="input"||e==="change")return Jd(t)}function o_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hr=typeof Object.is=="function"?Object.is:o_;function uc(e,t){if(Hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!r0.call(t,o)||!Hr(e[o],t[o]))return!1}return!0}function Em(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cm(e,t){var n=Em(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Em(n)}}function Xy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ky(){for(var e=window,t=rd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=rd(e.document)}return t}function ag(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function a_(e){var t=Ky(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Xy(n.ownerDocument.documentElement,n)){if(r!==null&&ag(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=Cm(n,a);var d=Cm(n,r);o&&d&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var l_=Is&&"documentMode"in document&&11>=document.documentMode,oa=null,E0=null,Xl=null,C0=!1;function Sm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;C0||oa==null||oa!==rd(r)||(r=oa,"selectionStart"in r&&ag(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xl&&uc(Xl,r)||(Xl=r,r=ud(E0,"onSelect"),0<r.length&&(t=new sg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=oa)))}function xu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var aa={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionend:xu("Transition","TransitionEnd")},vh={},Yy={};Is&&(Yy=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function ef(e){if(vh[e])return vh[e];if(!aa[e])return e;var t=aa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Yy)return vh[e]=t[n];return e}var Qy=ef("animationend"),Zy=ef("animationiteration"),Jy=ef("animationstart"),ev=ef("transitionend"),tv=new Map,Am="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(e,t){tv.set(e,t),ko(t,[e])}for(var bh=0;bh<Am.length;bh++){var Eh=Am[bh],c_=Eh.toLowerCase(),u_=Eh[0].toUpperCase()+Eh.slice(1);Li(c_,"on"+u_)}Li(Qy,"onAnimationEnd");Li(Zy,"onAnimationIteration");Li(Jy,"onAnimationStart");Li("dblclick","onDoubleClick");Li("focusin","onFocus");Li("focusout","onBlur");Li(ev,"onTransitionEnd");Ha("onMouseEnter",["mouseout","mouseover"]);Ha("onMouseLeave",["mouseout","mouseover"]);Ha("onPointerEnter",["pointerout","pointerover"]);Ha("onPointerLeave",["pointerout","pointerover"]);ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ko("onBeforeInput",["compositionend","keypress","textInput","paste"]);ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ul));function _m(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,c3(r,t,void 0,e),e.currentTarget=null}function nv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var d=r.length-1;0<=d;d--){var h=r[d],m=h.instance,g=h.currentTarget;if(h=h.listener,m!==a&&o.isPropagationStopped())break e;_m(o,h,g),a=m}else for(d=0;d<r.length;d++){if(h=r[d],m=h.instance,g=h.currentTarget,h=h.listener,m!==a&&o.isPropagationStopped())break e;_m(o,h,g),a=m}}}if(id)throw e=w0,id=!1,w0=null,e}function Rt(e,t){var n=t[T0];n===void 0&&(n=t[T0]=new Set);var r=e+"__bubble";n.has(r)||(rv(t,e,2,!1),n.add(r))}function Ch(e,t,n){var r=0;t&&(r|=4),rv(n,e,r,t)}var wu="_reactListening"+Math.random().toString(36).slice(2);function dc(e){if(!e[wu]){e[wu]=!0,uy.forEach(function(n){n!=="selectionchange"&&(d_.has(n)||Ch(n,!1,e),Ch(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wu]||(t[wu]=!0,Ch("selectionchange",!1,t))}}function rv(e,t,n,r){switch(Uy(t)){case 1:var o=A3;break;case 4:o=_3;break;default:o=ng}n=o.bind(null,t,n,e),o=void 0,!x0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Sh(e,t,n,r,o){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var h=r.stateNode.containerInfo;if(h===o||h.nodeType===8&&h.parentNode===o)break;if(d===4)for(d=r.return;d!==null;){var m=d.tag;if((m===3||m===4)&&(m=d.stateNode.containerInfo,m===o||m.nodeType===8&&m.parentNode===o))return;d=d.return}for(;h!==null;){if(d=ro(h),d===null)return;if(m=d.tag,m===5||m===6){r=a=d;continue e}h=h.parentNode}}r=r.return}_y(function(){var g=a,y=Z1(n),v=[];e:{var C=tv.get(e);if(C!==void 0){var T=sg,P=e;switch(e){case"keypress":if(zu(n)===0)break e;case"keydown":case"keyup":T=V3;break;case"focusin":P="focus",T=xh;break;case"focusout":P="blur",T=xh;break;case"beforeblur":case"afterblur":T=xh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=gm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=I3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=H3;break;case Qy:case Zy:case Jy:T=k3;break;case ev:T=G3;break;case"scroll":T=N3;break;case"wheel":T=X3;break;case"copy":case"cut":case"paste":T=D3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=mm}var _=(t&4)!==0,k=!_&&e==="scroll",I=_?C!==null?C+"Capture":null:C;_=[];for(var N=g,S;N!==null;){S=N;var D=S.stateNode;if(S.tag===5&&D!==null&&(S=D,I!==null&&(D=ic(N,I),D!=null&&_.push(fc(N,D,S)))),k)break;N=N.return}0<_.length&&(C=new T(C,P,null,n,y),v.push({event:C,listeners:_}))}}if(!(t&7)){e:{if(C=e==="mouseover"||e==="pointerover",T=e==="mouseout"||e==="pointerout",C&&n!==p0&&(P=n.relatedTarget||n.fromElement)&&(ro(P)||P[Rs]))break e;if((T||C)&&(C=y.window===y?y:(C=y.ownerDocument)?C.defaultView||C.parentWindow:window,T?(P=n.relatedTarget||n.toElement,T=g,P=P?ro(P):null,P!==null&&(k=Po(P),P!==k||P.tag!==5&&P.tag!==6)&&(P=null)):(T=null,P=g),T!==P)){if(_=gm,D="onMouseLeave",I="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(_=mm,D="onPointerLeave",I="onPointerEnter",N="pointer"),k=T==null?C:la(T),S=P==null?C:la(P),C=new _(D,N+"leave",T,n,y),C.target=k,C.relatedTarget=S,D=null,ro(y)===g&&(_=new _(I,N+"enter",P,n,y),_.target=S,_.relatedTarget=k,D=_),k=D,T&&P)t:{for(_=T,I=P,N=0,S=_;S;S=qo(S))N++;for(S=0,D=I;D;D=qo(D))S++;for(;0<N-S;)_=qo(_),N--;for(;0<S-N;)I=qo(I),S--;for(;N--;){if(_===I||I!==null&&_===I.alternate)break t;_=qo(_),I=qo(I)}_=null}else _=null;T!==null&&Nm(v,C,T,_,!1),P!==null&&k!==null&&Nm(v,k,P,_,!0)}}e:{if(C=g?la(g):window,T=C.nodeName&&C.nodeName.toLowerCase(),T==="select"||T==="input"&&C.type==="file")var V=t_;else if(ym(C))if(Gy)V=i_;else{V=r_;var W=n_}else(T=C.nodeName)&&T.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(V=s_);if(V&&(V=V(e,g))){$y(v,V,n,y);break e}W&&W(e,C,g),e==="focusout"&&(W=C._wrapperState)&&W.controlled&&C.type==="number"&&u0(C,"number",C.value)}switch(W=g?la(g):window,e){case"focusin":(ym(W)||W.contentEditable==="true")&&(oa=W,E0=g,Xl=null);break;case"focusout":Xl=E0=oa=null;break;case"mousedown":C0=!0;break;case"contextmenu":case"mouseup":case"dragend":C0=!1,Sm(v,n,y);break;case"selectionchange":if(l_)break;case"keydown":case"keyup":Sm(v,n,y)}var F;if(og)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else ia?zy(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(Wy&&n.locale!=="ko"&&(ia||L!=="onCompositionStart"?L==="onCompositionEnd"&&ia&&(F=Vy()):(xi=y,rg="value"in xi?xi.value:xi.textContent,ia=!0)),W=ud(g,L),0<W.length&&(L=new pm(L,e,null,n,y),v.push({event:L,listeners:W}),F?L.data=F:(F=Hy(n),F!==null&&(L.data=F)))),(F=Y3?Q3(e,n):Z3(e,n))&&(g=ud(g,"onBeforeInput"),0<g.length&&(y=new pm("onBeforeInput","beforeinput",null,n,y),v.push({event:y,listeners:g}),y.data=F))}nv(v,t)})}function fc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ud(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=ic(e,n),a!=null&&r.unshift(fc(e,a,o)),a=ic(e,t),a!=null&&r.push(fc(e,a,o))),e=e.return}return r}function qo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nm(e,t,n,r,o){for(var a=t._reactName,d=[];n!==null&&n!==r;){var h=n,m=h.alternate,g=h.stateNode;if(m!==null&&m===r)break;h.tag===5&&g!==null&&(h=g,o?(m=ic(n,a),m!=null&&d.unshift(fc(n,m,h))):o||(m=ic(n,a),m!=null&&d.push(fc(n,m,h)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var f_=/\r\n?/g,h_=/\u0000|\uFFFD/g;function Tm(e){return(typeof e=="string"?e:""+e).replace(f_,`
`).replace(h_,"")}function yu(e,t,n){if(t=Tm(t),Tm(e)!==t&&n)throw Error(ae(425))}function dd(){}var S0=null,A0=null;function _0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var N0=typeof setTimeout=="function"?setTimeout:void 0,g_=typeof clearTimeout=="function"?clearTimeout:void 0,Im=typeof Promise=="function"?Promise:void 0,p_=typeof queueMicrotask=="function"?queueMicrotask:typeof Im<"u"?function(e){return Im.resolve(null).then(e).catch(m_)}:N0;function m_(e){setTimeout(function(){throw e})}function Ah(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),lc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);lc(t)}function Ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Rm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rl=Math.random().toString(36).slice(2),ls="__reactFiber$"+rl,hc="__reactProps$"+rl,Rs="__reactContainer$"+rl,T0="__reactEvents$"+rl,x_="__reactListeners$"+rl,w_="__reactHandles$"+rl;function ro(e){var t=e[ls];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rs]||n[ls]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Rm(e);e!==null;){if(n=e[ls])return n;e=Rm(e)}return t}e=n,n=e.parentNode}return null}function Lc(e){return e=e[ls]||e[Rs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function la(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function tf(e){return e[hc]||null}var I0=[],ca=-1;function Bi(e){return{current:e}}function kt(e){0>ca||(e.current=I0[ca],I0[ca]=null,ca--)}function Nt(e,t){ca++,I0[ca]=e.current,e.current=t}var Oi={},Nn=Bi(Oi),Yn=Bi(!1),wo=Oi;function $a(e,t){var n=e.type.contextTypes;if(!n)return Oi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Qn(e){return e=e.childContextTypes,e!=null}function fd(){kt(Yn),kt(Nn)}function Om(e,t,n){if(Nn.current!==Oi)throw Error(ae(168));Nt(Nn,t),Nt(Yn,n)}function sv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(ae(108,n3(e)||"Unknown",o));return Ut({},n,r)}function hd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oi,wo=Nn.current,Nt(Nn,e),Nt(Yn,Yn.current),!0}function km(e,t,n){var r=e.stateNode;if(!r)throw Error(ae(169));n?(e=sv(e,t,wo),r.__reactInternalMemoizedMergedChildContext=e,kt(Yn),kt(Nn),Nt(Nn,e)):kt(Yn),Nt(Yn,n)}var Cs=null,nf=!1,_h=!1;function iv(e){Cs===null?Cs=[e]:Cs.push(e)}function y_(e){nf=!0,iv(e)}function Fi(){if(!_h&&Cs!==null){_h=!0;var e=0,t=mt;try{var n=Cs;for(mt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Cs=null,nf=!1}catch(o){throw Cs!==null&&(Cs=Cs.slice(e+1)),Ry(J1,Fi),o}finally{mt=t,_h=!1}}return null}var ua=[],da=0,gd=null,pd=0,br=[],Er=0,yo=null,As=1,_s="";function Zi(e,t){ua[da++]=pd,ua[da++]=gd,gd=e,pd=t}function ov(e,t,n){br[Er++]=As,br[Er++]=_s,br[Er++]=yo,yo=e;var r=As;e=_s;var o=32-Wr(r)-1;r&=~(1<<o),n+=1;var a=32-Wr(t)+o;if(30<a){var d=o-o%5;a=(r&(1<<d)-1).toString(32),r>>=d,o-=d,As=1<<32-Wr(t)+o|n<<o|r,_s=a+e}else As=1<<a|n<<o|r,_s=e}function lg(e){e.return!==null&&(Zi(e,1),ov(e,1,0))}function cg(e){for(;e===gd;)gd=ua[--da],ua[da]=null,pd=ua[--da],ua[da]=null;for(;e===yo;)yo=br[--Er],br[Er]=null,_s=br[--Er],br[Er]=null,As=br[--Er],br[Er]=null}var ar=null,or=null,Mt=!1,Ur=null;function av(e,t){var n=Cr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Pm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ar=e,or=Ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ar=e,or=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=yo!==null?{id:As,overflow:_s}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Cr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ar=e,or=null,!0):!1;default:return!1}}function R0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function O0(e){if(Mt){var t=or;if(t){var n=t;if(!Pm(e,t)){if(R0(e))throw Error(ae(418));t=Ci(n.nextSibling);var r=ar;t&&Pm(e,t)?av(r,n):(e.flags=e.flags&-4097|2,Mt=!1,ar=e)}}else{if(R0(e))throw Error(ae(418));e.flags=e.flags&-4097|2,Mt=!1,ar=e}}}function Dm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ar=e}function vu(e){if(e!==ar)return!1;if(!Mt)return Dm(e),Mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_0(e.type,e.memoizedProps)),t&&(t=or)){if(R0(e))throw lv(),Error(ae(418));for(;t;)av(e,t),t=Ci(t.nextSibling)}if(Dm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){or=Ci(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}or=null}}else or=ar?Ci(e.stateNode.nextSibling):null;return!0}function lv(){for(var e=or;e;)e=Ci(e.nextSibling)}function Ga(){or=ar=null,Mt=!1}function ug(e){Ur===null?Ur=[e]:Ur.push(e)}var v_=Ms.ReactCurrentBatchConfig;function Ol(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,e));var o=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(d){var h=o.refs;d===null?delete h[a]:h[a]=d},t._stringRef=a,t)}if(typeof e!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,e))}return e}function bu(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mm(e){var t=e._init;return t(e._payload)}function cv(e){function t(I,N){if(e){var S=I.deletions;S===null?(I.deletions=[N],I.flags|=16):S.push(N)}}function n(I,N){if(!e)return null;for(;N!==null;)t(I,N),N=N.sibling;return null}function r(I,N){for(I=new Map;N!==null;)N.key!==null?I.set(N.key,N):I.set(N.index,N),N=N.sibling;return I}function o(I,N){return I=Ni(I,N),I.index=0,I.sibling=null,I}function a(I,N,S){return I.index=S,e?(S=I.alternate,S!==null?(S=S.index,S<N?(I.flags|=2,N):S):(I.flags|=2,N)):(I.flags|=1048576,N)}function d(I){return e&&I.alternate===null&&(I.flags|=2),I}function h(I,N,S,D){return N===null||N.tag!==6?(N=Ph(S,I.mode,D),N.return=I,N):(N=o(N,S),N.return=I,N)}function m(I,N,S,D){var V=S.type;return V===sa?y(I,N,S.props.children,D,S.key):N!==null&&(N.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ni&&Mm(V)===N.type)?(D=o(N,S.props),D.ref=Ol(I,N,S),D.return=I,D):(D=Yu(S.type,S.key,S.props,null,I.mode,D),D.ref=Ol(I,N,S),D.return=I,D)}function g(I,N,S,D){return N===null||N.tag!==4||N.stateNode.containerInfo!==S.containerInfo||N.stateNode.implementation!==S.implementation?(N=Dh(S,I.mode,D),N.return=I,N):(N=o(N,S.children||[]),N.return=I,N)}function y(I,N,S,D,V){return N===null||N.tag!==7?(N=po(S,I.mode,D,V),N.return=I,N):(N=o(N,S),N.return=I,N)}function v(I,N,S){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Ph(""+N,I.mode,S),N.return=I,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case uu:return S=Yu(N.type,N.key,N.props,null,I.mode,S),S.ref=Ol(I,null,N),S.return=I,S;case ra:return N=Dh(N,I.mode,S),N.return=I,N;case ni:var D=N._init;return v(I,D(N._payload),S)}if(Bl(N)||_l(N))return N=po(N,I.mode,S,null),N.return=I,N;bu(I,N)}return null}function C(I,N,S,D){var V=N!==null?N.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return V!==null?null:h(I,N,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case uu:return S.key===V?m(I,N,S,D):null;case ra:return S.key===V?g(I,N,S,D):null;case ni:return V=S._init,C(I,N,V(S._payload),D)}if(Bl(S)||_l(S))return V!==null?null:y(I,N,S,D,null);bu(I,S)}return null}function T(I,N,S,D,V){if(typeof D=="string"&&D!==""||typeof D=="number")return I=I.get(S)||null,h(N,I,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case uu:return I=I.get(D.key===null?S:D.key)||null,m(N,I,D,V);case ra:return I=I.get(D.key===null?S:D.key)||null,g(N,I,D,V);case ni:var W=D._init;return T(I,N,S,W(D._payload),V)}if(Bl(D)||_l(D))return I=I.get(S)||null,y(N,I,D,V,null);bu(N,D)}return null}function P(I,N,S,D){for(var V=null,W=null,F=N,L=N=0,j=null;F!==null&&L<S.length;L++){F.index>L?(j=F,F=null):j=F.sibling;var G=C(I,F,S[L],D);if(G===null){F===null&&(F=j);break}e&&F&&G.alternate===null&&t(I,F),N=a(G,N,L),W===null?V=G:W.sibling=G,W=G,F=j}if(L===S.length)return n(I,F),Mt&&Zi(I,L),V;if(F===null){for(;L<S.length;L++)F=v(I,S[L],D),F!==null&&(N=a(F,N,L),W===null?V=F:W.sibling=F,W=F);return Mt&&Zi(I,L),V}for(F=r(I,F);L<S.length;L++)j=T(F,I,L,S[L],D),j!==null&&(e&&j.alternate!==null&&F.delete(j.key===null?L:j.key),N=a(j,N,L),W===null?V=j:W.sibling=j,W=j);return e&&F.forEach(function(te){return t(I,te)}),Mt&&Zi(I,L),V}function _(I,N,S,D){var V=_l(S);if(typeof V!="function")throw Error(ae(150));if(S=V.call(S),S==null)throw Error(ae(151));for(var W=V=null,F=N,L=N=0,j=null,G=S.next();F!==null&&!G.done;L++,G=S.next()){F.index>L?(j=F,F=null):j=F.sibling;var te=C(I,F,G.value,D);if(te===null){F===null&&(F=j);break}e&&F&&te.alternate===null&&t(I,F),N=a(te,N,L),W===null?V=te:W.sibling=te,W=te,F=j}if(G.done)return n(I,F),Mt&&Zi(I,L),V;if(F===null){for(;!G.done;L++,G=S.next())G=v(I,G.value,D),G!==null&&(N=a(G,N,L),W===null?V=G:W.sibling=G,W=G);return Mt&&Zi(I,L),V}for(F=r(I,F);!G.done;L++,G=S.next())G=T(F,I,L,G.value,D),G!==null&&(e&&G.alternate!==null&&F.delete(G.key===null?L:G.key),N=a(G,N,L),W===null?V=G:W.sibling=G,W=G);return e&&F.forEach(function(q){return t(I,q)}),Mt&&Zi(I,L),V}function k(I,N,S,D){if(typeof S=="object"&&S!==null&&S.type===sa&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case uu:e:{for(var V=S.key,W=N;W!==null;){if(W.key===V){if(V=S.type,V===sa){if(W.tag===7){n(I,W.sibling),N=o(W,S.props.children),N.return=I,I=N;break e}}else if(W.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ni&&Mm(V)===W.type){n(I,W.sibling),N=o(W,S.props),N.ref=Ol(I,W,S),N.return=I,I=N;break e}n(I,W);break}else t(I,W);W=W.sibling}S.type===sa?(N=po(S.props.children,I.mode,D,S.key),N.return=I,I=N):(D=Yu(S.type,S.key,S.props,null,I.mode,D),D.ref=Ol(I,N,S),D.return=I,I=D)}return d(I);case ra:e:{for(W=S.key;N!==null;){if(N.key===W)if(N.tag===4&&N.stateNode.containerInfo===S.containerInfo&&N.stateNode.implementation===S.implementation){n(I,N.sibling),N=o(N,S.children||[]),N.return=I,I=N;break e}else{n(I,N);break}else t(I,N);N=N.sibling}N=Dh(S,I.mode,D),N.return=I,I=N}return d(I);case ni:return W=S._init,k(I,N,W(S._payload),D)}if(Bl(S))return P(I,N,S,D);if(_l(S))return _(I,N,S,D);bu(I,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,N!==null&&N.tag===6?(n(I,N.sibling),N=o(N,S),N.return=I,I=N):(n(I,N),N=Ph(S,I.mode,D),N.return=I,I=N),d(I)):n(I,N)}return k}var qa=cv(!0),uv=cv(!1),md=Bi(null),xd=null,fa=null,dg=null;function fg(){dg=fa=xd=null}function hg(e){var t=md.current;kt(md),e._currentValue=t}function k0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function va(e,t){xd=e,dg=fa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kn=!0),e.firstContext=null)}function _r(e){var t=e._currentValue;if(dg!==e)if(e={context:e,memoizedValue:t,next:null},fa===null){if(xd===null)throw Error(ae(308));fa=e,xd.dependencies={lanes:0,firstContext:e}}else fa=fa.next=e;return t}var so=null;function gg(e){so===null?so=[e]:so.push(e)}function dv(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,gg(t)):(n.next=o.next,o.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ri=!1;function pg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ns(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Si(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,it&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Os(e,n)}return o=r.interleaved,o===null?(t.next=t,gg(r)):(t.next=o.next,o.next=t),r.interleaved=t,Os(e,n)}function Hu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,eg(e,n)}}function jm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=d:a=a.next=d,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wd(e,t,n,r){var o=e.updateQueue;ri=!1;var a=o.firstBaseUpdate,d=o.lastBaseUpdate,h=o.shared.pending;if(h!==null){o.shared.pending=null;var m=h,g=m.next;m.next=null,d===null?a=g:d.next=g,d=m;var y=e.alternate;y!==null&&(y=y.updateQueue,h=y.lastBaseUpdate,h!==d&&(h===null?y.firstBaseUpdate=g:h.next=g,y.lastBaseUpdate=m))}if(a!==null){var v=o.baseState;d=0,y=g=m=null,h=a;do{var C=h.lane,T=h.eventTime;if((r&C)===C){y!==null&&(y=y.next={eventTime:T,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var P=e,_=h;switch(C=t,T=n,_.tag){case 1:if(P=_.payload,typeof P=="function"){v=P.call(T,v,C);break e}v=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=_.payload,C=typeof P=="function"?P.call(T,v,C):P,C==null)break e;v=Ut({},v,C);break e;case 2:ri=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,C=o.effects,C===null?o.effects=[h]:C.push(h))}else T={eventTime:T,lane:C,tag:h.tag,payload:h.payload,callback:h.callback,next:null},y===null?(g=y=T,m=v):y=y.next=T,d|=C;if(h=h.next,h===null){if(h=o.shared.pending,h===null)break;C=h,h=C.next,C.next=null,o.lastBaseUpdate=C,o.shared.pending=null}}while(!0);if(y===null&&(m=v),o.baseState=m,o.firstBaseUpdate=g,o.lastBaseUpdate=y,t=o.shared.interleaved,t!==null){o=t;do d|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);bo|=d,e.lanes=d,e.memoizedState=v}}function Lm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(ae(191,o));o.call(r)}}}var Bc={},hs=Bi(Bc),gc=Bi(Bc),pc=Bi(Bc);function io(e){if(e===Bc)throw Error(ae(174));return e}function mg(e,t){switch(Nt(pc,t),Nt(gc,e),Nt(hs,Bc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:f0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=f0(t,e)}kt(hs),Nt(hs,t)}function Xa(){kt(hs),kt(gc),kt(pc)}function hv(e){io(pc.current);var t=io(hs.current),n=f0(t,e.type);t!==n&&(Nt(gc,e),Nt(hs,n))}function xg(e){gc.current===e&&(kt(hs),kt(gc))}var Bt=Bi(0);function yd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nh=[];function wg(){for(var e=0;e<Nh.length;e++)Nh[e]._workInProgressVersionPrimary=null;Nh.length=0}var $u=Ms.ReactCurrentDispatcher,Th=Ms.ReactCurrentBatchConfig,vo=0,Ft=null,rn=null,dn=null,vd=!1,Kl=!1,mc=0,b_=0;function Cn(){throw Error(ae(321))}function yg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Hr(e[n],t[n]))return!1;return!0}function vg(e,t,n,r,o,a){if(vo=a,Ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$u.current=e===null||e.memoizedState===null?A_:__,e=n(r,o),Kl){a=0;do{if(Kl=!1,mc=0,25<=a)throw Error(ae(301));a+=1,dn=rn=null,t.updateQueue=null,$u.current=N_,e=n(r,o)}while(Kl)}if($u.current=bd,t=rn!==null&&rn.next!==null,vo=0,dn=rn=Ft=null,vd=!1,t)throw Error(ae(300));return e}function bg(){var e=mc!==0;return mc=0,e}function rs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Ft.memoizedState=dn=e:dn=dn.next=e,dn}function Nr(){if(rn===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=rn.next;var t=dn===null?Ft.memoizedState:dn.next;if(t!==null)dn=t,rn=e;else{if(e===null)throw Error(ae(310));rn=e,e={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},dn===null?Ft.memoizedState=dn=e:dn=dn.next=e}return dn}function xc(e,t){return typeof t=="function"?t(e):t}function Ih(e){var t=Nr(),n=t.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=e;var r=rn,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var d=o.next;o.next=a.next,a.next=d}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var h=d=null,m=null,g=a;do{var y=g.lane;if((vo&y)===y)m!==null&&(m=m.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var v={lane:y,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};m===null?(h=m=v,d=r):m=m.next=v,Ft.lanes|=y,bo|=y}g=g.next}while(g!==null&&g!==a);m===null?d=r:m.next=h,Hr(r,t.memoizedState)||(Kn=!0),t.memoizedState=r,t.baseState=d,t.baseQueue=m,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do a=o.lane,Ft.lanes|=a,bo|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rh(e){var t=Nr(),n=t.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var d=o=o.next;do a=e(a,d.action),d=d.next;while(d!==o);Hr(a,t.memoizedState)||(Kn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function gv(){}function pv(e,t){var n=Ft,r=Nr(),o=t(),a=!Hr(r.memoizedState,o);if(a&&(r.memoizedState=o,Kn=!0),r=r.queue,Eg(wv.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||dn!==null&&dn.memoizedState.tag&1){if(n.flags|=2048,wc(9,xv.bind(null,n,r,o,t),void 0,null),hn===null)throw Error(ae(349));vo&30||mv(n,t,o)}return o}function mv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ft.updateQueue,t===null?(t={lastEffect:null,stores:null},Ft.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xv(e,t,n,r){t.value=n,t.getSnapshot=r,yv(t)&&vv(e)}function wv(e,t,n){return n(function(){yv(t)&&vv(e)})}function yv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Hr(e,n)}catch{return!0}}function vv(e){var t=Os(e,1);t!==null&&zr(t,e,1,-1)}function Bm(e){var t=rs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xc,lastRenderedState:e},t.queue=e,e=e.dispatch=S_.bind(null,Ft,e),[t.memoizedState,e]}function wc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ft.updateQueue,t===null?(t={lastEffect:null,stores:null},Ft.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bv(){return Nr().memoizedState}function Gu(e,t,n,r){var o=rs();Ft.flags|=e,o.memoizedState=wc(1|t,n,void 0,r===void 0?null:r)}function rf(e,t,n,r){var o=Nr();r=r===void 0?null:r;var a=void 0;if(rn!==null){var d=rn.memoizedState;if(a=d.destroy,r!==null&&yg(r,d.deps)){o.memoizedState=wc(t,n,a,r);return}}Ft.flags|=e,o.memoizedState=wc(1|t,n,a,r)}function Fm(e,t){return Gu(8390656,8,e,t)}function Eg(e,t){return rf(2048,8,e,t)}function Ev(e,t){return rf(4,2,e,t)}function Cv(e,t){return rf(4,4,e,t)}function Sv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Av(e,t,n){return n=n!=null?n.concat([e]):null,rf(4,4,Sv.bind(null,t,e),n)}function Cg(){}function _v(e,t){var n=Nr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Nv(e,t){var n=Nr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Tv(e,t,n){return vo&21?(Hr(n,t)||(n=Py(),Ft.lanes|=n,bo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kn=!0),e.memoizedState=n)}function E_(e,t){var n=mt;mt=n!==0&&4>n?n:4,e(!0);var r=Th.transition;Th.transition={};try{e(!1),t()}finally{mt=n,Th.transition=r}}function Iv(){return Nr().memoizedState}function C_(e,t,n){var r=_i(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rv(e))Ov(t,n);else if(n=dv(e,t,n,r),n!==null){var o=Mn();zr(n,e,r,o),kv(n,t,r)}}function S_(e,t,n){var r=_i(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rv(e))Ov(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var d=t.lastRenderedState,h=a(d,n);if(o.hasEagerState=!0,o.eagerState=h,Hr(h,d)){var m=t.interleaved;m===null?(o.next=o,gg(t)):(o.next=m.next,m.next=o),t.interleaved=o;return}}catch{}finally{}n=dv(e,t,o,r),n!==null&&(o=Mn(),zr(n,e,r,o),kv(n,t,r))}}function Rv(e){var t=e.alternate;return e===Ft||t!==null&&t===Ft}function Ov(e,t){Kl=vd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function kv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,eg(e,n)}}var bd={readContext:_r,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},A_={readContext:_r,useCallback:function(e,t){return rs().memoizedState=[e,t===void 0?null:t],e},useContext:_r,useEffect:Fm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gu(4194308,4,Sv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gu(4,2,e,t)},useMemo:function(e,t){var n=rs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=rs();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=C_.bind(null,Ft,e),[r.memoizedState,e]},useRef:function(e){var t=rs();return e={current:e},t.memoizedState=e},useState:Bm,useDebugValue:Cg,useDeferredValue:function(e){return rs().memoizedState=e},useTransition:function(){var e=Bm(!1),t=e[0];return e=E_.bind(null,e[1]),rs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ft,o=rs();if(Mt){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=t(),hn===null)throw Error(ae(349));vo&30||mv(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Fm(wv.bind(null,r,a,e),[e]),r.flags|=2048,wc(9,xv.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=rs(),t=hn.identifierPrefix;if(Mt){var n=_s,r=As;n=(r&~(1<<32-Wr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=mc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=b_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},__={readContext:_r,useCallback:_v,useContext:_r,useEffect:Eg,useImperativeHandle:Av,useInsertionEffect:Ev,useLayoutEffect:Cv,useMemo:Nv,useReducer:Ih,useRef:bv,useState:function(){return Ih(xc)},useDebugValue:Cg,useDeferredValue:function(e){var t=Nr();return Tv(t,rn.memoizedState,e)},useTransition:function(){var e=Ih(xc)[0],t=Nr().memoizedState;return[e,t]},useMutableSource:gv,useSyncExternalStore:pv,useId:Iv,unstable_isNewReconciler:!1},N_={readContext:_r,useCallback:_v,useContext:_r,useEffect:Eg,useImperativeHandle:Av,useInsertionEffect:Ev,useLayoutEffect:Cv,useMemo:Nv,useReducer:Rh,useRef:bv,useState:function(){return Rh(xc)},useDebugValue:Cg,useDeferredValue:function(e){var t=Nr();return rn===null?t.memoizedState=e:Tv(t,rn.memoizedState,e)},useTransition:function(){var e=Rh(xc)[0],t=Nr().memoizedState;return[e,t]},useMutableSource:gv,useSyncExternalStore:pv,useId:Iv,unstable_isNewReconciler:!1};function jr(e,t){if(e&&e.defaultProps){t=Ut({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function P0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ut({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sf={isMounted:function(e){return(e=e._reactInternals)?Po(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mn(),o=_i(e),a=Ns(r,o);a.payload=t,n!=null&&(a.callback=n),t=Si(e,a,o),t!==null&&(zr(t,e,o,r),Hu(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mn(),o=_i(e),a=Ns(r,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Si(e,a,o),t!==null&&(zr(t,e,o,r),Hu(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mn(),r=_i(e),o=Ns(n,r);o.tag=2,t!=null&&(o.callback=t),t=Si(e,o,r),t!==null&&(zr(t,e,r,n),Hu(t,e,r))}};function Um(e,t,n,r,o,a,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,d):t.prototype&&t.prototype.isPureReactComponent?!uc(n,r)||!uc(o,a):!0}function Pv(e,t,n){var r=!1,o=Oi,a=t.contextType;return typeof a=="object"&&a!==null?a=_r(a):(o=Qn(t)?wo:Nn.current,r=t.contextTypes,a=(r=r!=null)?$a(e,o):Oi),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Vm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sf.enqueueReplaceState(t,t.state,null)}function D0(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},pg(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=_r(a):(a=Qn(t)?wo:Nn.current,o.context=$a(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(P0(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&sf.enqueueReplaceState(o,o.state,null),wd(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ka(e,t){try{var n="",r=t;do n+=t3(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Oh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function M0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var T_=typeof WeakMap=="function"?WeakMap:Map;function Dv(e,t,n){n=Ns(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Cd||(Cd=!0,$0=r),M0(e,t)},n}function Mv(e,t,n){n=Ns(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){M0(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){M0(e,t),typeof r!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function Wm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new T_;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=W_.bind(null,e,t,n),t.then(e,e))}function zm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hm(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ns(-1,1),t.tag=2,Si(n,t,1))),n.lanes|=1),e)}var I_=Ms.ReactCurrentOwner,Kn=!1;function Dn(e,t,n,r){t.child=e===null?uv(t,null,n,r):qa(t,e.child,n,r)}function $m(e,t,n,r,o){n=n.render;var a=t.ref;return va(t,o),r=vg(e,t,n,r,a,o),n=bg(),e!==null&&!Kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ks(e,t,o)):(Mt&&n&&lg(t),t.flags|=1,Dn(e,t,r,o),t.child)}function Gm(e,t,n,r,o){if(e===null){var a=n.type;return typeof a=="function"&&!Og(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,jv(e,t,a,r,o)):(e=Yu(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var d=a.memoizedProps;if(n=n.compare,n=n!==null?n:uc,n(d,r)&&e.ref===t.ref)return ks(e,t,o)}return t.flags|=1,e=Ni(a,r),e.ref=t.ref,e.return=t,t.child=e}function jv(e,t,n,r,o){if(e!==null){var a=e.memoizedProps;if(uc(a,r)&&e.ref===t.ref)if(Kn=!1,t.pendingProps=r=a,(e.lanes&o)!==0)e.flags&131072&&(Kn=!0);else return t.lanes=e.lanes,ks(e,t,o)}return j0(e,t,n,r,o)}function Lv(e,t,n){var r=t.pendingProps,o=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(ga,rr),rr|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nt(ga,rr),rr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Nt(ga,rr),rr|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Nt(ga,rr),rr|=r;return Dn(e,t,o,n),t.child}function Bv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function j0(e,t,n,r,o){var a=Qn(n)?wo:Nn.current;return a=$a(t,a),va(t,o),n=vg(e,t,n,r,a,o),r=bg(),e!==null&&!Kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ks(e,t,o)):(Mt&&r&&lg(t),t.flags|=1,Dn(e,t,n,o),t.child)}function qm(e,t,n,r,o){if(Qn(n)){var a=!0;hd(t)}else a=!1;if(va(t,o),t.stateNode===null)qu(e,t),Pv(t,n,r),D0(t,n,r,o),r=!0;else if(e===null){var d=t.stateNode,h=t.memoizedProps;d.props=h;var m=d.context,g=n.contextType;typeof g=="object"&&g!==null?g=_r(g):(g=Qn(n)?wo:Nn.current,g=$a(t,g));var y=n.getDerivedStateFromProps,v=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function";v||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==r||m!==g)&&Vm(t,d,r,g),ri=!1;var C=t.memoizedState;d.state=C,wd(t,r,d,o),m=t.memoizedState,h!==r||C!==m||Yn.current||ri?(typeof y=="function"&&(P0(t,n,y,r),m=t.memoizedState),(h=ri||Um(t,n,h,r,C,m,g))?(v||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=m),d.props=r,d.state=m,d.context=g,r=h):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,fv(e,t),h=t.memoizedProps,g=t.type===t.elementType?h:jr(t.type,h),d.props=g,v=t.pendingProps,C=d.context,m=n.contextType,typeof m=="object"&&m!==null?m=_r(m):(m=Qn(n)?wo:Nn.current,m=$a(t,m));var T=n.getDerivedStateFromProps;(y=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==v||C!==m)&&Vm(t,d,r,m),ri=!1,C=t.memoizedState,d.state=C,wd(t,r,d,o);var P=t.memoizedState;h!==v||C!==P||Yn.current||ri?(typeof T=="function"&&(P0(t,n,T,r),P=t.memoizedState),(g=ri||Um(t,n,g,r,C,P,m)||!1)?(y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,P,m),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,P,m)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=P),d.props=r,d.state=P,d.context=m,r=g):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),r=!1)}return L0(e,t,n,r,a,o)}function L0(e,t,n,r,o,a){Bv(e,t);var d=(t.flags&128)!==0;if(!r&&!d)return o&&km(t,n,!1),ks(e,t,a);r=t.stateNode,I_.current=t;var h=d&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&d?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,h,a)):Dn(e,t,h,a),t.memoizedState=r.state,o&&km(t,n,!0),t.child}function Fv(e){var t=e.stateNode;t.pendingContext?Om(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Om(e,t.context,!1),mg(e,t.containerInfo)}function Xm(e,t,n,r,o){return Ga(),ug(o),t.flags|=256,Dn(e,t,n,r),t.child}var B0={dehydrated:null,treeContext:null,retryLane:0};function F0(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uv(e,t,n){var r=t.pendingProps,o=Bt.current,a=!1,d=(t.flags&128)!==0,h;if((h=d)||(h=e!==null&&e.memoizedState===null?!1:(o&2)!==0),h?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Nt(Bt,o&1),e===null)return O0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=r.children,e=r.fallback,a?(r=t.mode,a=t.child,d={mode:"hidden",children:d},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=d):a=lf(d,r,0,null),e=po(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=F0(n),t.memoizedState=B0,e):Sg(t,d));if(o=e.memoizedState,o!==null&&(h=o.dehydrated,h!==null))return R_(e,t,d,r,h,o,n);if(a){a=r.fallback,d=t.mode,o=e.child,h=o.sibling;var m={mode:"hidden",children:r.children};return!(d&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=m,t.deletions=null):(r=Ni(o,m),r.subtreeFlags=o.subtreeFlags&14680064),h!==null?a=Ni(h,a):(a=po(a,d,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,d=e.child.memoizedState,d=d===null?F0(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},a.memoizedState=d,a.childLanes=e.childLanes&~n,t.memoizedState=B0,r}return a=e.child,e=a.sibling,r=Ni(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Sg(e,t){return t=lf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Eu(e,t,n,r){return r!==null&&ug(r),qa(t,e.child,null,n),e=Sg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function R_(e,t,n,r,o,a,d){if(n)return t.flags&256?(t.flags&=-257,r=Oh(Error(ae(422))),Eu(e,t,d,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=lf({mode:"visible",children:r.children},o,0,null),a=po(a,o,d,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&qa(t,e.child,null,d),t.child.memoizedState=F0(d),t.memoizedState=B0,a);if(!(t.mode&1))return Eu(e,t,d,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(ae(419)),r=Oh(a,r,void 0),Eu(e,t,d,r)}if(h=(d&e.childLanes)!==0,Kn||h){if(r=hn,r!==null){switch(d&-d){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|d)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,Os(e,o),zr(r,e,o,-1))}return Rg(),r=Oh(Error(ae(421))),Eu(e,t,d,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=z_.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,or=Ci(o.nextSibling),ar=t,Mt=!0,Ur=null,e!==null&&(br[Er++]=As,br[Er++]=_s,br[Er++]=yo,As=e.id,_s=e.overflow,yo=t),t=Sg(t,r.children),t.flags|=4096,t)}function Km(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),k0(e.return,t,n)}function kh(e,t,n,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function Vv(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Dn(e,t,r.children,n),r=Bt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Km(e,n,t);else if(e.tag===19)Km(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Nt(Bt,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&yd(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),kh(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&yd(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}kh(t,!0,n,null,a);break;case"together":kh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ks(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),bo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,n=Ni(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ni(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function O_(e,t,n){switch(t.tag){case 3:Fv(t),Ga();break;case 5:hv(t);break;case 1:Qn(t.type)&&hd(t);break;case 4:mg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Nt(md,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Nt(Bt,Bt.current&1),t.flags|=128,null):n&t.child.childLanes?Uv(e,t,n):(Nt(Bt,Bt.current&1),e=ks(e,t,n),e!==null?e.sibling:null);Nt(Bt,Bt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Vv(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Nt(Bt,Bt.current),r)break;return null;case 22:case 23:return t.lanes=0,Lv(e,t,n)}return ks(e,t,n)}var Wv,U0,zv,Hv;Wv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};U0=function(){};zv=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,io(hs.current);var a=null;switch(n){case"input":o=l0(e,o),r=l0(e,r),a=[];break;case"select":o=Ut({},o,{value:void 0}),r=Ut({},r,{value:void 0}),a=[];break;case"textarea":o=d0(e,o),r=d0(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=dd)}h0(n,r);var d;n=null;for(g in o)if(!r.hasOwnProperty(g)&&o.hasOwnProperty(g)&&o[g]!=null)if(g==="style"){var h=o[g];for(d in h)h.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(rc.hasOwnProperty(g)?a||(a=[]):(a=a||[]).push(g,null));for(g in r){var m=r[g];if(h=o!=null?o[g]:void 0,r.hasOwnProperty(g)&&m!==h&&(m!=null||h!=null))if(g==="style")if(h){for(d in h)!h.hasOwnProperty(d)||m&&m.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in m)m.hasOwnProperty(d)&&h[d]!==m[d]&&(n||(n={}),n[d]=m[d])}else n||(a||(a=[]),a.push(g,n)),n=m;else g==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,h=h?h.__html:void 0,m!=null&&h!==m&&(a=a||[]).push(g,m)):g==="children"?typeof m!="string"&&typeof m!="number"||(a=a||[]).push(g,""+m):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(rc.hasOwnProperty(g)?(m!=null&&g==="onScroll"&&Rt("scroll",e),a||h===m||(a=[])):(a=a||[]).push(g,m))}n&&(a=a||[]).push("style",n);var g=a;(t.updateQueue=g)&&(t.flags|=4)}};Hv=function(e,t,n,r){n!==r&&(t.flags|=4)};function kl(e,t){if(!Mt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Sn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function k_(e,t,n){var r=t.pendingProps;switch(cg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(t),null;case 1:return Qn(t.type)&&fd(),Sn(t),null;case 3:return r=t.stateNode,Xa(),kt(Yn),kt(Nn),wg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ur!==null&&(X0(Ur),Ur=null))),U0(e,t),Sn(t),null;case 5:xg(t);var o=io(pc.current);if(n=t.type,e!==null&&t.stateNode!=null)zv(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ae(166));return Sn(t),null}if(e=io(hs.current),vu(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ls]=t,r[hc]=a,e=(t.mode&1)!==0,n){case"dialog":Rt("cancel",r),Rt("close",r);break;case"iframe":case"object":case"embed":Rt("load",r);break;case"video":case"audio":for(o=0;o<Ul.length;o++)Rt(Ul[o],r);break;case"source":Rt("error",r);break;case"img":case"image":case"link":Rt("error",r),Rt("load",r);break;case"details":Rt("toggle",r);break;case"input":sm(r,a),Rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Rt("invalid",r);break;case"textarea":om(r,a),Rt("invalid",r)}h0(n,a),o=null;for(var d in a)if(a.hasOwnProperty(d)){var h=a[d];d==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&yu(r.textContent,h,e),o=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&yu(r.textContent,h,e),o=["children",""+h]):rc.hasOwnProperty(d)&&h!=null&&d==="onScroll"&&Rt("scroll",r)}switch(n){case"input":du(r),im(r,a,!0);break;case"textarea":du(r),am(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=dd)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{d=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(n,{is:r.is}):(e=d.createElement(n),n==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,n),e[ls]=t,e[hc]=r,Wv(e,t,!1,!1),t.stateNode=e;e:{switch(d=g0(n,r),n){case"dialog":Rt("cancel",e),Rt("close",e),o=r;break;case"iframe":case"object":case"embed":Rt("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ul.length;o++)Rt(Ul[o],e);o=r;break;case"source":Rt("error",e),o=r;break;case"img":case"image":case"link":Rt("error",e),Rt("load",e),o=r;break;case"details":Rt("toggle",e),o=r;break;case"input":sm(e,r),o=l0(e,r),Rt("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ut({},r,{value:void 0}),Rt("invalid",e);break;case"textarea":om(e,r),o=d0(e,r),Rt("invalid",e);break;default:o=r}h0(n,o),h=o;for(a in h)if(h.hasOwnProperty(a)){var m=h[a];a==="style"?by(e,m):a==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&yy(e,m)):a==="children"?typeof m=="string"?(n!=="textarea"||m!=="")&&sc(e,m):typeof m=="number"&&sc(e,""+m):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(rc.hasOwnProperty(a)?m!=null&&a==="onScroll"&&Rt("scroll",e):m!=null&&X1(e,a,m,d))}switch(n){case"input":du(e),im(e,r,!1);break;case"textarea":du(e),am(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ri(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ma(e,!!r.multiple,a,!1):r.defaultValue!=null&&ma(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=dd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Sn(t),null;case 6:if(e&&t.stateNode!=null)Hv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ae(166));if(n=io(pc.current),io(hs.current),vu(t)){if(r=t.stateNode,n=t.memoizedProps,r[ls]=t,(a=r.nodeValue!==n)&&(e=ar,e!==null))switch(e.tag){case 3:yu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yu(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ls]=t,t.stateNode=r}return Sn(t),null;case 13:if(kt(Bt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Mt&&or!==null&&t.mode&1&&!(t.flags&128))lv(),Ga(),t.flags|=98560,a=!1;else if(a=vu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ae(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ae(317));a[ls]=t}else Ga(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Sn(t),a=!1}else Ur!==null&&(X0(Ur),Ur=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Bt.current&1?on===0&&(on=3):Rg())),t.updateQueue!==null&&(t.flags|=4),Sn(t),null);case 4:return Xa(),U0(e,t),e===null&&dc(t.stateNode.containerInfo),Sn(t),null;case 10:return hg(t.type._context),Sn(t),null;case 17:return Qn(t.type)&&fd(),Sn(t),null;case 19:if(kt(Bt),a=t.memoizedState,a===null)return Sn(t),null;if(r=(t.flags&128)!==0,d=a.rendering,d===null)if(r)kl(a,!1);else{if(on!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=yd(e),d!==null){for(t.flags|=128,kl(a,!1),r=d.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,d=a.alternate,d===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,e=d.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Nt(Bt,Bt.current&1|2),t.child}e=e.sibling}a.tail!==null&&qt()>Ya&&(t.flags|=128,r=!0,kl(a,!1),t.lanes=4194304)}else{if(!r)if(e=yd(d),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),kl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!d.alternate&&!Mt)return Sn(t),null}else 2*qt()-a.renderingStartTime>Ya&&n!==1073741824&&(t.flags|=128,r=!0,kl(a,!1),t.lanes=4194304);a.isBackwards?(d.sibling=t.child,t.child=d):(n=a.last,n!==null?n.sibling=d:t.child=d,a.last=d)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=qt(),t.sibling=null,n=Bt.current,Nt(Bt,r?n&1|2:n&1),t):(Sn(t),null);case 22:case 23:return Ig(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rr&1073741824&&(Sn(t),t.subtreeFlags&6&&(t.flags|=8192)):Sn(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function P_(e,t){switch(cg(t),t.tag){case 1:return Qn(t.type)&&fd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xa(),kt(Yn),kt(Nn),wg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xg(t),null;case 13:if(kt(Bt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));Ga()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return kt(Bt),null;case 4:return Xa(),null;case 10:return hg(t.type._context),null;case 22:case 23:return Ig(),null;case 24:return null;default:return null}}var Cu=!1,_n=!1,D_=typeof WeakSet=="function"?WeakSet:Set,Se=null;function ha(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$t(e,t,r)}else n.current=null}function V0(e,t,n){try{n()}catch(r){$t(e,t,r)}}var Ym=!1;function M_(e,t){if(S0=ld,e=Ky(),ag(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var d=0,h=-1,m=-1,g=0,y=0,v=e,C=null;t:for(;;){for(var T;v!==n||o!==0&&v.nodeType!==3||(h=d+o),v!==a||r!==0&&v.nodeType!==3||(m=d+r),v.nodeType===3&&(d+=v.nodeValue.length),(T=v.firstChild)!==null;)C=v,v=T;for(;;){if(v===e)break t;if(C===n&&++g===o&&(h=d),C===a&&++y===r&&(m=d),(T=v.nextSibling)!==null)break;v=C,C=v.parentNode}v=T}n=h===-1||m===-1?null:{start:h,end:m}}else n=null}n=n||{start:0,end:0}}else n=null;for(A0={focusedElem:e,selectionRange:n},ld=!1,Se=t;Se!==null;)if(t=Se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Se=e;else for(;Se!==null;){t=Se;try{var P=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var _=P.memoizedProps,k=P.memoizedState,I=t.stateNode,N=I.getSnapshotBeforeUpdate(t.elementType===t.type?_:jr(t.type,_),k);I.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(D){$t(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,Se=e;break}Se=t.return}return P=Ym,Ym=!1,P}function Yl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&V0(t,n,a)}o=o.next}while(o!==r)}}function of(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function W0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function $v(e){var t=e.alternate;t!==null&&(e.alternate=null,$v(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ls],delete t[hc],delete t[T0],delete t[x_],delete t[w_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gv(e){return e.tag===5||e.tag===3||e.tag===4}function Qm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function z0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dd));else if(r!==4&&(e=e.child,e!==null))for(z0(e,t,n),e=e.sibling;e!==null;)z0(e,t,n),e=e.sibling}function H0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(H0(e,t,n),e=e.sibling;e!==null;)H0(e,t,n),e=e.sibling}var wn=null,Br=!1;function Gs(e,t,n){for(n=n.child;n!==null;)qv(e,t,n),n=n.sibling}function qv(e,t,n){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(Qd,n)}catch{}switch(n.tag){case 5:_n||ha(n,t);case 6:var r=wn,o=Br;wn=null,Gs(e,t,n),wn=r,Br=o,wn!==null&&(Br?(e=wn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):wn.removeChild(n.stateNode));break;case 18:wn!==null&&(Br?(e=wn,n=n.stateNode,e.nodeType===8?Ah(e.parentNode,n):e.nodeType===1&&Ah(e,n),lc(e)):Ah(wn,n.stateNode));break;case 4:r=wn,o=Br,wn=n.stateNode.containerInfo,Br=!0,Gs(e,t,n),wn=r,Br=o;break;case 0:case 11:case 14:case 15:if(!_n&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,d=a.destroy;a=a.tag,d!==void 0&&(a&2||a&4)&&V0(n,t,d),o=o.next}while(o!==r)}Gs(e,t,n);break;case 1:if(!_n&&(ha(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){$t(n,t,h)}Gs(e,t,n);break;case 21:Gs(e,t,n);break;case 22:n.mode&1?(_n=(r=_n)||n.memoizedState!==null,Gs(e,t,n),_n=r):Gs(e,t,n);break;default:Gs(e,t,n)}}function Zm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new D_),t.forEach(function(r){var o=H_.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Pr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,d=t,h=d;e:for(;h!==null;){switch(h.tag){case 5:wn=h.stateNode,Br=!1;break e;case 3:wn=h.stateNode.containerInfo,Br=!0;break e;case 4:wn=h.stateNode.containerInfo,Br=!0;break e}h=h.return}if(wn===null)throw Error(ae(160));qv(a,d,o),wn=null,Br=!1;var m=o.alternate;m!==null&&(m.return=null),o.return=null}catch(g){$t(o,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xv(t,e),t=t.sibling}function Xv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pr(t,e),ns(e),r&4){try{Yl(3,e,e.return),of(3,e)}catch(_){$t(e,e.return,_)}try{Yl(5,e,e.return)}catch(_){$t(e,e.return,_)}}break;case 1:Pr(t,e),ns(e),r&512&&n!==null&&ha(n,n.return);break;case 5:if(Pr(t,e),ns(e),r&512&&n!==null&&ha(n,n.return),e.flags&32){var o=e.stateNode;try{sc(o,"")}catch(_){$t(e,e.return,_)}}if(r&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,d=n!==null?n.memoizedProps:a,h=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&my(o,a),g0(h,d);var g=g0(h,a);for(d=0;d<m.length;d+=2){var y=m[d],v=m[d+1];y==="style"?by(o,v):y==="dangerouslySetInnerHTML"?yy(o,v):y==="children"?sc(o,v):X1(o,y,v,g)}switch(h){case"input":c0(o,a);break;case"textarea":xy(o,a);break;case"select":var C=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var T=a.value;T!=null?ma(o,!!a.multiple,T,!1):C!==!!a.multiple&&(a.defaultValue!=null?ma(o,!!a.multiple,a.defaultValue,!0):ma(o,!!a.multiple,a.multiple?[]:"",!1))}o[hc]=a}catch(_){$t(e,e.return,_)}}break;case 6:if(Pr(t,e),ns(e),r&4){if(e.stateNode===null)throw Error(ae(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(_){$t(e,e.return,_)}}break;case 3:if(Pr(t,e),ns(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lc(t.containerInfo)}catch(_){$t(e,e.return,_)}break;case 4:Pr(t,e),ns(e);break;case 13:Pr(t,e),ns(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Ng=qt())),r&4&&Zm(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(_n=(g=_n)||y,Pr(t,e),_n=g):Pr(t,e),ns(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!y&&e.mode&1)for(Se=e,y=e.child;y!==null;){for(v=Se=y;Se!==null;){switch(C=Se,T=C.child,C.tag){case 0:case 11:case 14:case 15:Yl(4,C,C.return);break;case 1:ha(C,C.return);var P=C.stateNode;if(typeof P.componentWillUnmount=="function"){r=C,n=C.return;try{t=r,P.props=t.memoizedProps,P.state=t.memoizedState,P.componentWillUnmount()}catch(_){$t(r,n,_)}}break;case 5:ha(C,C.return);break;case 22:if(C.memoizedState!==null){ex(v);continue}}T!==null?(T.return=C,Se=T):ex(v)}y=y.sibling}e:for(y=null,v=e;;){if(v.tag===5){if(y===null){y=v;try{o=v.stateNode,g?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=v.stateNode,m=v.memoizedProps.style,d=m!=null&&m.hasOwnProperty("display")?m.display:null,h.style.display=vy("display",d))}catch(_){$t(e,e.return,_)}}}else if(v.tag===6){if(y===null)try{v.stateNode.nodeValue=g?"":v.memoizedProps}catch(_){$t(e,e.return,_)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;y===v&&(y=null),v=v.return}y===v&&(y=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Pr(t,e),ns(e),r&4&&Zm(e);break;case 21:break;default:Pr(t,e),ns(e)}}function ns(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gv(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(sc(o,""),r.flags&=-33);var a=Qm(e);H0(e,a,o);break;case 3:case 4:var d=r.stateNode.containerInfo,h=Qm(e);z0(e,h,d);break;default:throw Error(ae(161))}}catch(m){$t(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function j_(e,t,n){Se=e,Kv(e)}function Kv(e,t,n){for(var r=(e.mode&1)!==0;Se!==null;){var o=Se,a=o.child;if(o.tag===22&&r){var d=o.memoizedState!==null||Cu;if(!d){var h=o.alternate,m=h!==null&&h.memoizedState!==null||_n;h=Cu;var g=_n;if(Cu=d,(_n=m)&&!g)for(Se=o;Se!==null;)d=Se,m=d.child,d.tag===22&&d.memoizedState!==null?tx(o):m!==null?(m.return=d,Se=m):tx(o);for(;a!==null;)Se=a,Kv(a),a=a.sibling;Se=o,Cu=h,_n=g}Jm(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,Se=a):Jm(e)}}function Jm(e){for(;Se!==null;){var t=Se;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_n||of(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_n)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:jr(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Lm(t,a,r);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Lm(t,d,n)}break;case 5:var h=t.stateNode;if(n===null&&t.flags&4){n=h;var m=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&n.focus();break;case"img":m.src&&(n.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var y=g.memoizedState;if(y!==null){var v=y.dehydrated;v!==null&&lc(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}_n||t.flags&512&&W0(t)}catch(C){$t(t,t.return,C)}}if(t===e){Se=null;break}if(n=t.sibling,n!==null){n.return=t.return,Se=n;break}Se=t.return}}function ex(e){for(;Se!==null;){var t=Se;if(t===e){Se=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Se=n;break}Se=t.return}}function tx(e){for(;Se!==null;){var t=Se;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{of(4,t)}catch(m){$t(t,n,m)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(m){$t(t,o,m)}}var a=t.return;try{W0(t)}catch(m){$t(t,a,m)}break;case 5:var d=t.return;try{W0(t)}catch(m){$t(t,d,m)}}}catch(m){$t(t,t.return,m)}if(t===e){Se=null;break}var h=t.sibling;if(h!==null){h.return=t.return,Se=h;break}Se=t.return}}var L_=Math.ceil,Ed=Ms.ReactCurrentDispatcher,Ag=Ms.ReactCurrentOwner,Sr=Ms.ReactCurrentBatchConfig,it=0,hn=null,Qt=null,yn=0,rr=0,ga=Bi(0),on=0,yc=null,bo=0,af=0,_g=0,Ql=null,qn=null,Ng=0,Ya=1/0,bs=null,Cd=!1,$0=null,Ai=null,Su=!1,wi=null,Sd=0,Zl=0,G0=null,Xu=-1,Ku=0;function Mn(){return it&6?qt():Xu!==-1?Xu:Xu=qt()}function _i(e){return e.mode&1?it&2&&yn!==0?yn&-yn:v_.transition!==null?(Ku===0&&(Ku=Py()),Ku):(e=mt,e!==0||(e=window.event,e=e===void 0?16:Uy(e.type)),e):1}function zr(e,t,n,r){if(50<Zl)throw Zl=0,G0=null,Error(ae(185));Mc(e,n,r),(!(it&2)||e!==hn)&&(e===hn&&(!(it&2)&&(af|=n),on===4&&oi(e,yn)),Zn(e,r),n===1&&it===0&&!(t.mode&1)&&(Ya=qt()+500,nf&&Fi()))}function Zn(e,t){var n=e.callbackNode;v3(e,t);var r=ad(e,e===hn?yn:0);if(r===0)n!==null&&um(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&um(n),t===1)e.tag===0?y_(nx.bind(null,e)):iv(nx.bind(null,e)),p_(function(){!(it&6)&&Fi()}),n=null;else{switch(Dy(r)){case 1:n=J1;break;case 4:n=Oy;break;case 16:n=od;break;case 536870912:n=ky;break;default:n=od}n=r2(n,Yv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Yv(e,t){if(Xu=-1,Ku=0,it&6)throw Error(ae(327));var n=e.callbackNode;if(ba()&&e.callbackNode!==n)return null;var r=ad(e,e===hn?yn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ad(e,r);else{t=r;var o=it;it|=2;var a=Zv();(hn!==e||yn!==t)&&(bs=null,Ya=qt()+500,go(e,t));do try{U_();break}catch(h){Qv(e,h)}while(!0);fg(),Ed.current=a,it=o,Qt!==null?t=0:(hn=null,yn=0,t=on)}if(t!==0){if(t===2&&(o=y0(e),o!==0&&(r=o,t=q0(e,o))),t===1)throw n=yc,go(e,0),oi(e,r),Zn(e,qt()),n;if(t===6)oi(e,r);else{if(o=e.current.alternate,!(r&30)&&!B_(o)&&(t=Ad(e,r),t===2&&(a=y0(e),a!==0&&(r=a,t=q0(e,a))),t===1))throw n=yc,go(e,0),oi(e,r),Zn(e,qt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(ae(345));case 2:Ji(e,qn,bs);break;case 3:if(oi(e,r),(r&130023424)===r&&(t=Ng+500-qt(),10<t)){if(ad(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Mn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=N0(Ji.bind(null,e,qn,bs),t);break}Ji(e,qn,bs);break;case 4:if(oi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var d=31-Wr(r);a=1<<d,d=t[d],d>o&&(o=d),r&=~a}if(r=o,r=qt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*L_(r/1960))-r,10<r){e.timeoutHandle=N0(Ji.bind(null,e,qn,bs),r);break}Ji(e,qn,bs);break;case 5:Ji(e,qn,bs);break;default:throw Error(ae(329))}}}return Zn(e,qt()),e.callbackNode===n?Yv.bind(null,e):null}function q0(e,t){var n=Ql;return e.current.memoizedState.isDehydrated&&(go(e,t).flags|=256),e=Ad(e,t),e!==2&&(t=qn,qn=n,t!==null&&X0(t)),e}function X0(e){qn===null?qn=e:qn.push.apply(qn,e)}function B_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!Hr(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oi(e,t){for(t&=~_g,t&=~af,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wr(t),r=1<<n;e[n]=-1,t&=~r}}function nx(e){if(it&6)throw Error(ae(327));ba();var t=ad(e,0);if(!(t&1))return Zn(e,qt()),null;var n=Ad(e,t);if(e.tag!==0&&n===2){var r=y0(e);r!==0&&(t=r,n=q0(e,r))}if(n===1)throw n=yc,go(e,0),oi(e,t),Zn(e,qt()),n;if(n===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ji(e,qn,bs),Zn(e,qt()),null}function Tg(e,t){var n=it;it|=1;try{return e(t)}finally{it=n,it===0&&(Ya=qt()+500,nf&&Fi())}}function Eo(e){wi!==null&&wi.tag===0&&!(it&6)&&ba();var t=it;it|=1;var n=Sr.transition,r=mt;try{if(Sr.transition=null,mt=1,e)return e()}finally{mt=r,Sr.transition=n,it=t,!(it&6)&&Fi()}}function Ig(){rr=ga.current,kt(ga)}function go(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,g_(n)),Qt!==null)for(n=Qt.return;n!==null;){var r=n;switch(cg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fd();break;case 3:Xa(),kt(Yn),kt(Nn),wg();break;case 5:xg(r);break;case 4:Xa();break;case 13:kt(Bt);break;case 19:kt(Bt);break;case 10:hg(r.type._context);break;case 22:case 23:Ig()}n=n.return}if(hn=e,Qt=e=Ni(e.current,null),yn=rr=t,on=0,yc=null,_g=af=bo=0,qn=Ql=null,so!==null){for(t=0;t<so.length;t++)if(n=so[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var d=a.next;a.next=o,r.next=d}n.pending=r}so=null}return e}function Qv(e,t){do{var n=Qt;try{if(fg(),$u.current=bd,vd){for(var r=Ft.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}vd=!1}if(vo=0,dn=rn=Ft=null,Kl=!1,mc=0,Ag.current=null,n===null||n.return===null){on=1,yc=t,Qt=null;break}e:{var a=e,d=n.return,h=n,m=t;if(t=yn,h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var g=m,y=h,v=y.tag;if(!(y.mode&1)&&(v===0||v===11||v===15)){var C=y.alternate;C?(y.updateQueue=C.updateQueue,y.memoizedState=C.memoizedState,y.lanes=C.lanes):(y.updateQueue=null,y.memoizedState=null)}var T=zm(d);if(T!==null){T.flags&=-257,Hm(T,d,h,a,t),T.mode&1&&Wm(a,g,t),t=T,m=g;var P=t.updateQueue;if(P===null){var _=new Set;_.add(m),t.updateQueue=_}else P.add(m);break e}else{if(!(t&1)){Wm(a,g,t),Rg();break e}m=Error(ae(426))}}else if(Mt&&h.mode&1){var k=zm(d);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Hm(k,d,h,a,t),ug(Ka(m,h));break e}}a=m=Ka(m,h),on!==4&&(on=2),Ql===null?Ql=[a]:Ql.push(a),a=d;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var I=Dv(a,m,t);jm(a,I);break e;case 1:h=m;var N=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof N.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ai===null||!Ai.has(S)))){a.flags|=65536,t&=-t,a.lanes|=t;var D=Mv(a,h,t);jm(a,D);break e}}a=a.return}while(a!==null)}e2(n)}catch(V){t=V,Qt===n&&n!==null&&(Qt=n=n.return);continue}break}while(!0)}function Zv(){var e=Ed.current;return Ed.current=bd,e===null?bd:e}function Rg(){(on===0||on===3||on===2)&&(on=4),hn===null||!(bo&268435455)&&!(af&268435455)||oi(hn,yn)}function Ad(e,t){var n=it;it|=2;var r=Zv();(hn!==e||yn!==t)&&(bs=null,go(e,t));do try{F_();break}catch(o){Qv(e,o)}while(!0);if(fg(),it=n,Ed.current=r,Qt!==null)throw Error(ae(261));return hn=null,yn=0,on}function F_(){for(;Qt!==null;)Jv(Qt)}function U_(){for(;Qt!==null&&!d3();)Jv(Qt)}function Jv(e){var t=n2(e.alternate,e,rr);e.memoizedProps=e.pendingProps,t===null?e2(e):Qt=t,Ag.current=null}function e2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=P_(n,t),n!==null){n.flags&=32767,Qt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{on=6,Qt=null;return}}else if(n=k_(n,t,rr),n!==null){Qt=n;return}if(t=t.sibling,t!==null){Qt=t;return}Qt=t=e}while(t!==null);on===0&&(on=5)}function Ji(e,t,n){var r=mt,o=Sr.transition;try{Sr.transition=null,mt=1,V_(e,t,n,r)}finally{Sr.transition=o,mt=r}return null}function V_(e,t,n,r){do ba();while(wi!==null);if(it&6)throw Error(ae(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(b3(e,a),e===hn&&(Qt=hn=null,yn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Su||(Su=!0,r2(od,function(){return ba(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Sr.transition,Sr.transition=null;var d=mt;mt=1;var h=it;it|=4,Ag.current=null,M_(e,n),Xv(n,e),a_(A0),ld=!!S0,A0=S0=null,e.current=n,j_(n),f3(),it=h,mt=d,Sr.transition=a}else e.current=n;if(Su&&(Su=!1,wi=e,Sd=o),a=e.pendingLanes,a===0&&(Ai=null),p3(n.stateNode),Zn(e,qt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Cd)throw Cd=!1,e=$0,$0=null,e;return Sd&1&&e.tag!==0&&ba(),a=e.pendingLanes,a&1?e===G0?Zl++:(Zl=0,G0=e):Zl=0,Fi(),null}function ba(){if(wi!==null){var e=Dy(Sd),t=Sr.transition,n=mt;try{if(Sr.transition=null,mt=16>e?16:e,wi===null)var r=!1;else{if(e=wi,wi=null,Sd=0,it&6)throw Error(ae(331));var o=it;for(it|=4,Se=e.current;Se!==null;){var a=Se,d=a.child;if(Se.flags&16){var h=a.deletions;if(h!==null){for(var m=0;m<h.length;m++){var g=h[m];for(Se=g;Se!==null;){var y=Se;switch(y.tag){case 0:case 11:case 15:Yl(8,y,a)}var v=y.child;if(v!==null)v.return=y,Se=v;else for(;Se!==null;){y=Se;var C=y.sibling,T=y.return;if($v(y),y===g){Se=null;break}if(C!==null){C.return=T,Se=C;break}Se=T}}}var P=a.alternate;if(P!==null){var _=P.child;if(_!==null){P.child=null;do{var k=_.sibling;_.sibling=null,_=k}while(_!==null)}}Se=a}}if(a.subtreeFlags&2064&&d!==null)d.return=a,Se=d;else e:for(;Se!==null;){if(a=Se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Yl(9,a,a.return)}var I=a.sibling;if(I!==null){I.return=a.return,Se=I;break e}Se=a.return}}var N=e.current;for(Se=N;Se!==null;){d=Se;var S=d.child;if(d.subtreeFlags&2064&&S!==null)S.return=d,Se=S;else e:for(d=N;Se!==null;){if(h=Se,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:of(9,h)}}catch(V){$t(h,h.return,V)}if(h===d){Se=null;break e}var D=h.sibling;if(D!==null){D.return=h.return,Se=D;break e}Se=h.return}}if(it=o,Fi(),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(Qd,e)}catch{}r=!0}return r}finally{mt=n,Sr.transition=t}}return!1}function rx(e,t,n){t=Ka(n,t),t=Dv(e,t,1),e=Si(e,t,1),t=Mn(),e!==null&&(Mc(e,1,t),Zn(e,t))}function $t(e,t,n){if(e.tag===3)rx(e,e,n);else for(;t!==null;){if(t.tag===3){rx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ai===null||!Ai.has(r))){e=Ka(n,e),e=Mv(t,e,1),t=Si(t,e,1),e=Mn(),t!==null&&(Mc(t,1,e),Zn(t,e));break}}t=t.return}}function W_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Mn(),e.pingedLanes|=e.suspendedLanes&n,hn===e&&(yn&n)===n&&(on===4||on===3&&(yn&130023424)===yn&&500>qt()-Ng?go(e,0):_g|=n),Zn(e,t)}function t2(e,t){t===0&&(e.mode&1?(t=gu,gu<<=1,!(gu&130023424)&&(gu=4194304)):t=1);var n=Mn();e=Os(e,t),e!==null&&(Mc(e,t,n),Zn(e,n))}function z_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),t2(e,n)}function H_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(t),t2(e,n)}var n2;n2=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yn.current)Kn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Kn=!1,O_(e,t,n);Kn=!!(e.flags&131072)}else Kn=!1,Mt&&t.flags&1048576&&ov(t,pd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var o=$a(t,Nn.current);va(t,n),o=vg(null,t,r,e,o,n);var a=bg();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qn(r)?(a=!0,hd(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,pg(t),o.updater=sf,t.stateNode=o,o._reactInternals=t,D0(t,r,e,n),t=L0(null,t,r,!0,a,n)):(t.tag=0,Mt&&a&&lg(t),Dn(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=G_(r),e=jr(r,e),o){case 0:t=j0(null,t,r,e,n);break e;case 1:t=qm(null,t,r,e,n);break e;case 11:t=$m(null,t,r,e,n);break e;case 14:t=Gm(null,t,r,jr(r.type,e),n);break e}throw Error(ae(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:jr(r,o),j0(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:jr(r,o),qm(e,t,r,o,n);case 3:e:{if(Fv(t),e===null)throw Error(ae(387));r=t.pendingProps,a=t.memoizedState,o=a.element,fv(e,t),wd(t,r,null,n);var d=t.memoizedState;if(r=d.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=Ka(Error(ae(423)),t),t=Xm(e,t,r,n,o);break e}else if(r!==o){o=Ka(Error(ae(424)),t),t=Xm(e,t,r,n,o);break e}else for(or=Ci(t.stateNode.containerInfo.firstChild),ar=t,Mt=!0,Ur=null,n=uv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ga(),r===o){t=ks(e,t,n);break e}Dn(e,t,r,n)}t=t.child}return t;case 5:return hv(t),e===null&&O0(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,d=o.children,_0(r,o)?d=null:a!==null&&_0(r,a)&&(t.flags|=32),Bv(e,t),Dn(e,t,d,n),t.child;case 6:return e===null&&O0(t),null;case 13:return Uv(e,t,n);case 4:return mg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qa(t,null,r,n):Dn(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:jr(r,o),$m(e,t,r,o,n);case 7:return Dn(e,t,t.pendingProps,n),t.child;case 8:return Dn(e,t,t.pendingProps.children,n),t.child;case 12:return Dn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,d=o.value,Nt(md,r._currentValue),r._currentValue=d,a!==null)if(Hr(a.value,d)){if(a.children===o.children&&!Yn.current){t=ks(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var h=a.dependencies;if(h!==null){d=a.child;for(var m=h.firstContext;m!==null;){if(m.context===r){if(a.tag===1){m=Ns(-1,n&-n),m.tag=2;var g=a.updateQueue;if(g!==null){g=g.shared;var y=g.pending;y===null?m.next=m:(m.next=y.next,y.next=m),g.pending=m}}a.lanes|=n,m=a.alternate,m!==null&&(m.lanes|=n),k0(a.return,n,t),h.lanes|=n;break}m=m.next}}else if(a.tag===10)d=a.type===t.type?null:a.child;else if(a.tag===18){if(d=a.return,d===null)throw Error(ae(341));d.lanes|=n,h=d.alternate,h!==null&&(h.lanes|=n),k0(d,n,t),d=a.sibling}else d=a.child;if(d!==null)d.return=a;else for(d=a;d!==null;){if(d===t){d=null;break}if(a=d.sibling,a!==null){a.return=d.return,d=a;break}d=d.return}a=d}Dn(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,va(t,n),o=_r(o),r=r(o),t.flags|=1,Dn(e,t,r,n),t.child;case 14:return r=t.type,o=jr(r,t.pendingProps),o=jr(r.type,o),Gm(e,t,r,o,n);case 15:return jv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:jr(r,o),qu(e,t),t.tag=1,Qn(r)?(e=!0,hd(t)):e=!1,va(t,n),Pv(t,r,o),D0(t,r,o,n),L0(null,t,r,!0,e,n);case 19:return Vv(e,t,n);case 22:return Lv(e,t,n)}throw Error(ae(156,t.tag))};function r2(e,t){return Ry(e,t)}function $_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(e,t,n,r){return new $_(e,t,n,r)}function Og(e){return e=e.prototype,!(!e||!e.isReactComponent)}function G_(e){if(typeof e=="function")return Og(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Y1)return 11;if(e===Q1)return 14}return 2}function Ni(e,t){var n=e.alternate;return n===null?(n=Cr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yu(e,t,n,r,o,a){var d=2;if(r=e,typeof e=="function")Og(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case sa:return po(n.children,o,a,t);case K1:d=8,o|=8;break;case s0:return e=Cr(12,n,t,o|2),e.elementType=s0,e.lanes=a,e;case i0:return e=Cr(13,n,t,o),e.elementType=i0,e.lanes=a,e;case o0:return e=Cr(19,n,t,o),e.elementType=o0,e.lanes=a,e;case hy:return lf(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dy:d=10;break e;case fy:d=9;break e;case Y1:d=11;break e;case Q1:d=14;break e;case ni:d=16,r=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=Cr(d,n,t,o),t.elementType=e,t.type=r,t.lanes=a,t}function po(e,t,n,r){return e=Cr(7,e,r,t),e.lanes=n,e}function lf(e,t,n,r){return e=Cr(22,e,r,t),e.elementType=hy,e.lanes=n,e.stateNode={isHidden:!1},e}function Ph(e,t,n){return e=Cr(6,e,null,t),e.lanes=n,e}function Dh(e,t,n){return t=Cr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function q_(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gh(0),this.expirationTimes=gh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gh(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function kg(e,t,n,r,o,a,d,h,m){return e=new q_(e,t,n,h,m),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Cr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pg(a),e}function X_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ra,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function s2(e){if(!e)return Oi;e=e._reactInternals;e:{if(Po(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var n=e.type;if(Qn(n))return sv(e,n,t)}return t}function i2(e,t,n,r,o,a,d,h,m){return e=kg(n,r,!0,e,o,a,d,h,m),e.context=s2(null),n=e.current,r=Mn(),o=_i(n),a=Ns(r,o),a.callback=t??null,Si(n,a,o),e.current.lanes=o,Mc(e,o,r),Zn(e,r),e}function cf(e,t,n,r){var o=t.current,a=Mn(),d=_i(o);return n=s2(n),t.context===null?t.context=n:t.pendingContext=n,t=Ns(a,d),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Si(o,t,d),e!==null&&(zr(e,o,d,a),Hu(e,o,d)),d}function _d(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pg(e,t){sx(e,t),(e=e.alternate)&&sx(e,t)}function K_(){return null}var o2=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dg(e){this._internalRoot=e}uf.prototype.render=Dg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));cf(e,t,null,null)};uf.prototype.unmount=Dg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Eo(function(){cf(null,e,null,null)}),t[Rs]=null}};function uf(e){this._internalRoot=e}uf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ly();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ii.length&&t!==0&&t<ii[n].priority;n++);ii.splice(n,0,e),n===0&&Fy(e)}};function Mg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function df(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ix(){}function Y_(e,t,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var g=_d(d);a.call(g)}}var d=i2(t,r,e,0,null,!1,!1,"",ix);return e._reactRootContainer=d,e[Rs]=d.current,dc(e.nodeType===8?e.parentNode:e),Eo(),d}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var h=r;r=function(){var g=_d(m);h.call(g)}}var m=kg(e,0,!1,null,null,!1,!1,"",ix);return e._reactRootContainer=m,e[Rs]=m.current,dc(e.nodeType===8?e.parentNode:e),Eo(function(){cf(t,m,n,r)}),m}function ff(e,t,n,r,o){var a=n._reactRootContainer;if(a){var d=a;if(typeof o=="function"){var h=o;o=function(){var m=_d(d);h.call(m)}}cf(t,d,e,o)}else d=Y_(n,t,e,o,r);return _d(d)}My=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fl(t.pendingLanes);n!==0&&(eg(t,n|1),Zn(t,qt()),!(it&6)&&(Ya=qt()+500,Fi()))}break;case 13:Eo(function(){var r=Os(e,1);if(r!==null){var o=Mn();zr(r,e,1,o)}}),Pg(e,1)}};tg=function(e){if(e.tag===13){var t=Os(e,134217728);if(t!==null){var n=Mn();zr(t,e,134217728,n)}Pg(e,134217728)}};jy=function(e){if(e.tag===13){var t=_i(e),n=Os(e,t);if(n!==null){var r=Mn();zr(n,e,t,r)}Pg(e,t)}};Ly=function(){return mt};By=function(e,t){var n=mt;try{return mt=e,t()}finally{mt=n}};m0=function(e,t,n){switch(t){case"input":if(c0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=tf(r);if(!o)throw Error(ae(90));py(r),c0(r,o)}}}break;case"textarea":xy(e,n);break;case"select":t=n.value,t!=null&&ma(e,!!n.multiple,t,!1)}};Sy=Tg;Ay=Eo;var Q_={usingClientEntryPoint:!1,Events:[Lc,la,tf,Ey,Cy,Tg]},Pl={findFiberByHostInstance:ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z_={bundleType:Pl.bundleType,version:Pl.version,rendererPackageName:Pl.rendererPackageName,rendererConfig:Pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ty(e),e===null?null:e.stateNode},findFiberByHostInstance:Pl.findFiberByHostInstance||K_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{Qd=Au.inject(Z_),fs=Au}catch{}}dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q_;dr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mg(t))throw Error(ae(200));return X_(e,t,null,n)};dr.createRoot=function(e,t){if(!Mg(e))throw Error(ae(299));var n=!1,r="",o=o2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=kg(e,1,!1,null,null,n,!1,r,o),e[Rs]=t.current,dc(e.nodeType===8?e.parentNode:e),new Dg(t)};dr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=Ty(t),e=e===null?null:e.stateNode,e};dr.flushSync=function(e){return Eo(e)};dr.hydrate=function(e,t,n){if(!df(t))throw Error(ae(200));return ff(null,e,t,!0,n)};dr.hydrateRoot=function(e,t,n){if(!Mg(e))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",d=o2;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=i2(t,null,e,1,n??null,o,!1,a,d),e[Rs]=t.current,dc(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new uf(t)};dr.render=function(e,t,n){if(!df(t))throw Error(ae(200));return ff(null,e,t,!1,n)};dr.unmountComponentAtNode=function(e){if(!df(e))throw Error(ae(40));return e._reactRootContainer?(Eo(function(){ff(null,null,e,!1,function(){e._reactRootContainer=null,e[Rs]=null})}),!0):!1};dr.unstable_batchedUpdates=Tg;dr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!df(n))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return ff(e,t,n,!1,r)};dr.version="18.3.1-next-f1338f8080-20240426";function a2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a2)}catch(e){console.error(e)}}a2(),ay.exports=dr;var Do=ay.exports;const J_=Kd(Do);var l2,ox=Do;l2=ox.createRoot,ox.hydrateRoot;var sl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Co=typeof window>"u"||"Deno"in globalThis;function vr(){}function e4(e,t){return typeof e=="function"?e(t):e}function K0(e){return typeof e=="number"&&e>=0&&e!==1/0}function c2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ea(e,t){return typeof e=="function"?e(t):e}function Vr(e,t){return typeof e=="function"?e(t):e}function ax(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:a,queryKey:d,stale:h}=e;if(d){if(r){if(t.queryHash!==jg(d,t.options))return!1}else if(!vc(t.queryKey,d))return!1}if(n!=="all"){const m=t.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof h=="boolean"&&t.isStale()!==h||o&&o!==t.state.fetchStatus||a&&!a(t))}function lx(e,t){const{exact:n,status:r,predicate:o,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(So(t.options.mutationKey)!==So(a))return!1}else if(!vc(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function jg(e,t){return((t==null?void 0:t.queryKeyHashFn)||So)(e)}function So(e){return JSON.stringify(e,(t,n)=>Y0(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function vc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!vc(e[n],t[n])):!1}function u2(e,t){if(e===t)return e;const n=cx(e)&&cx(t);if(n||Y0(e)&&Y0(t)){const r=n?e:Object.keys(e),o=r.length,a=n?t:Object.keys(t),d=a.length,h=n?[]:{};let m=0;for(let g=0;g<d;g++){const y=n?g:a[g];(!n&&r.includes(y)||n)&&e[y]===void 0&&t[y]===void 0?(h[y]=void 0,m++):(h[y]=u2(e[y],t[y]),h[y]===e[y]&&e[y]!==void 0&&m++)}return o===d&&m===o?e:h}return t}function Nd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function cx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Y0(e){if(!ux(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ux(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ux(e){return Object.prototype.toString.call(e)==="[object Object]"}function t4(e){return new Promise(t=>{setTimeout(t,e)})}function Q0(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?u2(e,t):t}function n4(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function r4(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Lg=Symbol();function d2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Lg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var oo,li,Oa,Bw,s4=(Bw=class extends sl{constructor(){super();je(this,oo);je(this,li);je(this,Oa);ye(this,Oa,t=>{if(!Co&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,li)||this.setEventListener(H(this,Oa))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,li))==null||t.call(this),ye(this,li,void 0))}setEventListener(t){var n;ye(this,Oa,t),(n=H(this,li))==null||n.call(this),ye(this,li,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){H(this,oo)!==t&&(ye(this,oo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof H(this,oo)=="boolean"?H(this,oo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},oo=new WeakMap,li=new WeakMap,Oa=new WeakMap,Bw),Bg=new s4,ka,ci,Pa,Fw,i4=(Fw=class extends sl{constructor(){super();je(this,ka,!0);je(this,ci);je(this,Pa);ye(this,Pa,t=>{if(!Co&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,ci)||this.setEventListener(H(this,Pa))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,ci))==null||t.call(this),ye(this,ci,void 0))}setEventListener(t){var n;ye(this,Pa,t),(n=H(this,ci))==null||n.call(this),ye(this,ci,t(this.setOnline.bind(this)))}setOnline(t){H(this,ka)!==t&&(ye(this,ka,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return H(this,ka)}},ka=new WeakMap,ci=new WeakMap,Pa=new WeakMap,Fw),Td=new i4;function Z0(){let e,t;const n=new Promise((o,a)=>{e=o,t=a});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function o4(e){return Math.min(1e3*2**e,3e4)}function f2(e){return(e??"online")==="online"?Td.isOnline():!0}var h2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Mh(e){return e instanceof h2}function g2(e){let t=!1,n=0,r=!1,o;const a=Z0(),d=_=>{var k;r||(C(new h2(_)),(k=e.abort)==null||k.call(e))},h=()=>{t=!0},m=()=>{t=!1},g=()=>Bg.isFocused()&&(e.networkMode==="always"||Td.isOnline())&&e.canRun(),y=()=>f2(e.networkMode)&&e.canRun(),v=_=>{var k;r||(r=!0,(k=e.onSuccess)==null||k.call(e,_),o==null||o(),a.resolve(_))},C=_=>{var k;r||(r=!0,(k=e.onError)==null||k.call(e,_),o==null||o(),a.reject(_))},T=()=>new Promise(_=>{var k;o=I=>{(r||g())&&_(I)},(k=e.onPause)==null||k.call(e)}).then(()=>{var _;o=void 0,r||(_=e.onContinue)==null||_.call(e)}),P=()=>{if(r)return;let _;const k=n===0?e.initialPromise:void 0;try{_=k??e.fn()}catch(I){_=Promise.reject(I)}Promise.resolve(_).then(v).catch(I=>{var W;if(r)return;const N=e.retry??(Co?0:3),S=e.retryDelay??o4,D=typeof S=="function"?S(n,I):S,V=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,I);if(t||!V){C(I);return}n++,(W=e.onFail)==null||W.call(e,n,I),t4(D).then(()=>g()?void 0:T()).then(()=>{t?C(I):P()})})};return{promise:a,cancel:d,continue:()=>(o==null||o(),a),cancelRetry:h,continueRetry:m,canStart:y,start:()=>(y()?P():T().then(P),a)}}function a4(){let e=[],t=0,n=h=>{h()},r=h=>{h()},o=h=>setTimeout(h,0);const a=h=>{t?e.push(h):o(()=>{n(h)})},d=()=>{const h=e;e=[],h.length&&o(()=>{r(()=>{h.forEach(m=>{n(m)})})})};return{batch:h=>{let m;t++;try{m=h()}finally{t--,t||d()}return m},batchCalls:h=>(...m)=>{a(()=>{h(...m)})},schedule:a,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{o=h}}}var sn=a4(),ao,Uw,p2=(Uw=class{constructor(){je(this,ao)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),K0(this.gcTime)&&ye(this,ao,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Co?1/0:5*60*1e3))}clearGcTimeout(){H(this,ao)&&(clearTimeout(H(this,ao)),ye(this,ao,void 0))}},ao=new WeakMap,Uw),Da,Ma,yr,An,Rc,lo,Lr,ws,Vw,l4=(Vw=class extends p2{constructor(t){super();je(this,Lr);je(this,Da);je(this,Ma);je(this,yr);je(this,An);je(this,Rc);je(this,lo);ye(this,lo,!1),ye(this,Rc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,yr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,Da,c4(this.options)),this.state=t.state??H(this,Da),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=H(this,An))==null?void 0:t.promise}setOptions(t){this.options={...H(this,Rc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,yr).remove(this)}setData(t,n){const r=Q0(this.state.data,t,this.options);return Ke(this,Lr,ws).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ke(this,Lr,ws).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=H(this,An))==null?void 0:r.promise;return(o=H(this,An))==null||o.cancel(t),n?n.then(vr).catch(vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,Da))}isActive(){return this.observers.some(t=>Vr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!c2(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=H(this,An))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=H(this,An))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),H(this,yr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(H(this,An)&&(H(this,lo)?H(this,An).cancel({revert:!0}):H(this,An).cancelRetry()),this.scheduleGc()),H(this,yr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ke(this,Lr,ws).call(this,{type:"invalidate"})}fetch(t,n){var m,g,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(H(this,An))return H(this,An).continueRetry(),H(this,An).promise}if(t&&this.setOptions(t),!this.options.queryFn){const v=this.observers.find(C=>C.options.queryFn);v&&this.setOptions(v.options)}const r=new AbortController,o=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(ye(this,lo,!0),r.signal)})},a=()=>{const v=d2(this.options,n),C={queryKey:this.queryKey,meta:this.meta};return o(C),ye(this,lo,!1),this.options.persister?this.options.persister(v,C,this):v(C)},d={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};o(d),(m=this.options.behavior)==null||m.onFetch(d,this),ye(this,Ma,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=d.fetchOptions)==null?void 0:g.meta))&&Ke(this,Lr,ws).call(this,{type:"fetch",meta:(y=d.fetchOptions)==null?void 0:y.meta});const h=v=>{var C,T,P,_;Mh(v)&&v.silent||Ke(this,Lr,ws).call(this,{type:"error",error:v}),Mh(v)||((T=(C=H(this,yr).config).onError)==null||T.call(C,v,this),(_=(P=H(this,yr).config).onSettled)==null||_.call(P,this.state.data,v,this)),this.scheduleGc()};return ye(this,An,g2({initialPromise:n==null?void 0:n.initialPromise,fn:d.fetchFn,abort:r.abort.bind(r),onSuccess:v=>{var C,T,P,_;if(v===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(k){h(k);return}(T=(C=H(this,yr).config).onSuccess)==null||T.call(C,v,this),(_=(P=H(this,yr).config).onSettled)==null||_.call(P,v,this.state.error,this),this.scheduleGc()},onError:h,onFail:(v,C)=>{Ke(this,Lr,ws).call(this,{type:"failed",failureCount:v,error:C})},onPause:()=>{Ke(this,Lr,ws).call(this,{type:"pause"})},onContinue:()=>{Ke(this,Lr,ws).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0})),H(this,An).start()}},Da=new WeakMap,Ma=new WeakMap,yr=new WeakMap,An=new WeakMap,Rc=new WeakMap,lo=new WeakMap,Lr=new WeakSet,ws=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...m2(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Mh(o)&&o.revert&&H(this,Ma)?{...H(this,Ma),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),sn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),H(this,yr).notify({query:this,type:"updated",action:t})})},Vw);function m2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:f2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function c4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ss,Ww,u4=(Ww=class extends sl{constructor(t={}){super();je(this,ss);this.config=t,ye(this,ss,new Map)}build(t,n,r){const o=n.queryKey,a=n.queryHash??jg(o,n);let d=this.get(a);return d||(d=new l4({cache:this,queryKey:o,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(d)),d}add(t){H(this,ss).has(t.queryHash)||(H(this,ss).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=H(this,ss).get(t.queryHash);n&&(t.destroy(),n===t&&H(this,ss).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){sn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return H(this,ss).get(t)}getAll(){return[...H(this,ss).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ax(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>ax(t,r)):n}notify(t){sn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){sn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){sn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ss=new WeakMap,Ww),is,kn,co,os,Js,zw,d4=(zw=class extends p2{constructor(t){super();je(this,os);je(this,is);je(this,kn);je(this,co);this.mutationId=t.mutationId,ye(this,kn,t.mutationCache),ye(this,is,[]),this.state=t.state||x2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){H(this,is).includes(t)||(H(this,is).push(t),this.clearGcTimeout(),H(this,kn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,is,H(this,is).filter(n=>n!==t)),this.scheduleGc(),H(this,kn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){H(this,is).length||(this.state.status==="pending"?this.scheduleGc():H(this,kn).remove(this))}continue(){var t;return((t=H(this,co))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,d,h,m,g,y,v,C,T,P,_,k,I,N,S,D,V,W,F;ye(this,co,g2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(L,j)=>{Ke(this,os,Js).call(this,{type:"failed",failureCount:L,error:j})},onPause:()=>{Ke(this,os,Js).call(this,{type:"pause"})},onContinue:()=>{Ke(this,os,Js).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,kn).canRun(this)}));const n=this.state.status==="pending",r=!H(this,co).canStart();try{if(!n){Ke(this,os,Js).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(o=H(this,kn).config).onMutate)==null?void 0:a.call(o,t,this));const j=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,t));j!==this.state.context&&Ke(this,os,Js).call(this,{type:"pending",context:j,variables:t,isPaused:r})}const L=await H(this,co).start();return await((g=(m=H(this,kn).config).onSuccess)==null?void 0:g.call(m,L,t,this.state.context,this)),await((v=(y=this.options).onSuccess)==null?void 0:v.call(y,L,t,this.state.context)),await((T=(C=H(this,kn).config).onSettled)==null?void 0:T.call(C,L,null,this.state.variables,this.state.context,this)),await((_=(P=this.options).onSettled)==null?void 0:_.call(P,L,null,t,this.state.context)),Ke(this,os,Js).call(this,{type:"success",data:L}),L}catch(L){try{throw await((I=(k=H(this,kn).config).onError)==null?void 0:I.call(k,L,t,this.state.context,this)),await((S=(N=this.options).onError)==null?void 0:S.call(N,L,t,this.state.context)),await((V=(D=H(this,kn).config).onSettled)==null?void 0:V.call(D,void 0,L,this.state.variables,this.state.context,this)),await((F=(W=this.options).onSettled)==null?void 0:F.call(W,void 0,L,t,this.state.context)),L}finally{Ke(this,os,Js).call(this,{type:"error",error:L})}}finally{H(this,kn).runNext(this)}}},is=new WeakMap,kn=new WeakMap,co=new WeakMap,os=new WeakSet,Js=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),sn.batch(()=>{H(this,is).forEach(r=>{r.onMutationUpdate(t)}),H(this,kn).notify({mutation:this,type:"updated",action:t})})},zw);function x2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var nr,Oc,Hw,f4=(Hw=class extends sl{constructor(t={}){super();je(this,nr);je(this,Oc);this.config=t,ye(this,nr,new Map),ye(this,Oc,Date.now())}build(t,n,r){const o=new d4({mutationCache:this,mutationId:++lu(this,Oc)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){const n=_u(t),r=H(this,nr).get(n)??[];r.push(t),H(this,nr).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=_u(t);if(H(this,nr).has(n)){const o=(r=H(this,nr).get(n))==null?void 0:r.filter(a=>a!==t);o&&(o.length===0?H(this,nr).delete(n):H(this,nr).set(n,o))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=H(this,nr).get(_u(t)))==null?void 0:r.find(o=>o.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=H(this,nr).get(_u(t)))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){sn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...H(this,nr).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>lx(n,r))}findAll(t={}){return this.getAll().filter(n=>lx(t,n))}notify(t){sn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return sn.batch(()=>Promise.all(t.map(n=>n.continue().catch(vr))))}},nr=new WeakMap,Oc=new WeakMap,Hw);function _u(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function dx(e){return{onFetch:(t,n)=>{var y,v,C,T,P;const r=t.options,o=(C=(v=(y=t.fetchOptions)==null?void 0:y.meta)==null?void 0:v.fetchMore)==null?void 0:C.direction,a=((T=t.state.data)==null?void 0:T.pages)||[],d=((P=t.state.data)==null?void 0:P.pageParams)||[];let h={pages:[],pageParams:[]},m=0;const g=async()=>{let _=!1;const k=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?_=!0:t.signal.addEventListener("abort",()=>{_=!0}),t.signal)})},I=d2(t.options,t.fetchOptions),N=async(S,D,V)=>{if(_)return Promise.reject();if(D==null&&S.pages.length)return Promise.resolve(S);const W={queryKey:t.queryKey,pageParam:D,direction:V?"backward":"forward",meta:t.options.meta};k(W);const F=await I(W),{maxPages:L}=t.options,j=V?r4:n4;return{pages:j(S.pages,F,L),pageParams:j(S.pageParams,D,L)}};if(o&&a.length){const S=o==="backward",D=S?h4:fx,V={pages:a,pageParams:d},W=D(r,V);h=await N(V,W,S)}else{const S=e??a.length;do{const D=m===0?d[0]??r.initialPageParam:fx(r,h);if(m>0&&D==null)break;h=await N(h,D),m++}while(m<S)}return h};t.options.persister?t.fetchFn=()=>{var _,k;return(k=(_=t.options).persister)==null?void 0:k.call(_,g,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=g}}}function fx(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function h4(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ht,ui,di,ja,La,fi,Ba,Fa,$w,g4=($w=class{constructor(e={}){je(this,Ht);je(this,ui);je(this,di);je(this,ja);je(this,La);je(this,fi);je(this,Ba);je(this,Fa);ye(this,Ht,e.queryCache||new u4),ye(this,ui,e.mutationCache||new f4),ye(this,di,e.defaultOptions||{}),ye(this,ja,new Map),ye(this,La,new Map),ye(this,fi,0)}mount(){lu(this,fi)._++,H(this,fi)===1&&(ye(this,Ba,Bg.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,Ht).onFocus())})),ye(this,Fa,Td.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,Ht).onOnline())})))}unmount(){var e,t;lu(this,fi)._--,H(this,fi)===0&&((e=H(this,Ba))==null||e.call(this),ye(this,Ba,void 0),(t=H(this,Fa))==null||t.call(this),ye(this,Fa,void 0))}isFetching(e){return H(this,Ht).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return H(this,ui).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=H(this,Ht).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=H(this,Ht).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Ea(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return H(this,Ht).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=H(this,Ht).get(r.queryHash),a=o==null?void 0:o.state.data,d=e4(t,a);if(d!==void 0)return H(this,Ht).build(this,r).setData(d,{...n,manual:!0})}setQueriesData(e,t,n){return sn.batch(()=>H(this,Ht).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=H(this,Ht).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=H(this,Ht);sn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=H(this,Ht),r={type:"active",...e};return sn.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=sn.batch(()=>H(this,Ht).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(vr).catch(vr)}invalidateQueries(e={},t={}){return sn.batch(()=>{if(H(this,Ht).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=sn.batch(()=>H(this,Ht).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let a=o.fetch(void 0,n);return n.throwOnError||(a=a.catch(vr)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(vr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=H(this,Ht).build(this,t);return n.isStaleByTime(Ea(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(vr).catch(vr)}fetchInfiniteQuery(e){return e.behavior=dx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(vr).catch(vr)}ensureInfiniteQueryData(e){return e.behavior=dx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Td.isOnline()?H(this,ui).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,Ht)}getMutationCache(){return H(this,ui)}getDefaultOptions(){return H(this,di)}setDefaultOptions(e){ye(this,di,e)}setQueryDefaults(e,t){H(this,ja).set(So(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...H(this,ja).values()];let n={};return t.forEach(r=>{vc(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){H(this,La).set(So(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...H(this,La).values()];let n={};return t.forEach(r=>{vc(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...H(this,di).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=jg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Lg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...H(this,di).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){H(this,Ht).clear(),H(this,ui).clear()}},Ht=new WeakMap,ui=new WeakMap,di=new WeakMap,ja=new WeakMap,La=new WeakMap,fi=new WeakMap,Ba=new WeakMap,Fa=new WeakMap,$w),$n,rt,kc,Pn,uo,Ua,hi,as,Pc,Va,Wa,fo,ho,gi,za,gt,Vl,J0,e1,t1,n1,r1,s1,i1,w2,Gw,p4=(Gw=class extends sl{constructor(t,n){super();je(this,gt);je(this,$n);je(this,rt);je(this,kc);je(this,Pn);je(this,uo);je(this,Ua);je(this,hi);je(this,as);je(this,Pc);je(this,Va);je(this,Wa);je(this,fo);je(this,ho);je(this,gi);je(this,za,new Set);this.options=n,ye(this,$n,t),ye(this,as,null),ye(this,hi,Z0()),this.options.experimental_prefetchInRender||H(this,hi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(H(this,rt).addObserver(this),hx(H(this,rt),this.options)?Ke(this,gt,Vl).call(this):this.updateResult(),Ke(this,gt,n1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return o1(H(this,rt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return o1(H(this,rt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ke(this,gt,r1).call(this),Ke(this,gt,s1).call(this),H(this,rt).removeObserver(this)}setOptions(t,n){const r=this.options,o=H(this,rt);if(this.options=H(this,$n).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vr(this.options.enabled,H(this,rt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ke(this,gt,i1).call(this),H(this,rt).setOptions(this.options),r._defaulted&&!Nd(this.options,r)&&H(this,$n).getQueryCache().notify({type:"observerOptionsUpdated",query:H(this,rt),observer:this});const a=this.hasListeners();a&&gx(H(this,rt),o,this.options,r)&&Ke(this,gt,Vl).call(this),this.updateResult(n),a&&(H(this,rt)!==o||Vr(this.options.enabled,H(this,rt))!==Vr(r.enabled,H(this,rt))||Ea(this.options.staleTime,H(this,rt))!==Ea(r.staleTime,H(this,rt)))&&Ke(this,gt,J0).call(this);const d=Ke(this,gt,e1).call(this);a&&(H(this,rt)!==o||Vr(this.options.enabled,H(this,rt))!==Vr(r.enabled,H(this,rt))||d!==H(this,gi))&&Ke(this,gt,t1).call(this,d)}getOptimisticResult(t){const n=H(this,$n).getQueryCache().build(H(this,$n),t),r=this.createResult(n,t);return x4(this,r)&&(ye(this,Pn,r),ye(this,Ua,this.options),ye(this,uo,H(this,rt).state)),r}getCurrentResult(){return H(this,Pn)}trackResult(t,n){const r={};return Object.keys(t).forEach(o=>{Object.defineProperty(r,o,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(o),n==null||n(o),t[o])})}),r}trackProp(t){H(this,za).add(t)}getCurrentQuery(){return H(this,rt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=H(this,$n).defaultQueryOptions(t),r=H(this,$n).getQueryCache().build(H(this,$n),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Ke(this,gt,Vl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),H(this,Pn)))}createResult(t,n){var L;const r=H(this,rt),o=this.options,a=H(this,Pn),d=H(this,uo),h=H(this,Ua),g=t!==r?t.state:H(this,kc),{state:y}=t;let v={...y},C=!1,T;if(n._optimisticResults){const j=this.hasListeners(),G=!j&&hx(t,n),te=j&&gx(t,r,n,o);(G||te)&&(v={...v,...m2(y.data,t.options)}),n._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:P,errorUpdatedAt:_,status:k}=v;if(n.select&&v.data!==void 0)if(a&&v.data===(d==null?void 0:d.data)&&n.select===H(this,Pc))T=H(this,Va);else try{ye(this,Pc,n.select),T=n.select(v.data),T=Q0(a==null?void 0:a.data,T,n),ye(this,Va,T),ye(this,as,null)}catch(j){ye(this,as,j)}else T=v.data;if(n.placeholderData!==void 0&&T===void 0&&k==="pending"){let j;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(h==null?void 0:h.placeholderData))j=a.data;else if(j=typeof n.placeholderData=="function"?n.placeholderData((L=H(this,Wa))==null?void 0:L.state.data,H(this,Wa)):n.placeholderData,n.select&&j!==void 0)try{j=n.select(j),ye(this,as,null)}catch(G){ye(this,as,G)}j!==void 0&&(k="success",T=Q0(a==null?void 0:a.data,j,n),C=!0)}H(this,as)&&(P=H(this,as),T=H(this,Va),_=Date.now(),k="error");const I=v.fetchStatus==="fetching",N=k==="pending",S=k==="error",D=N&&I,V=T!==void 0,F={status:k,fetchStatus:v.fetchStatus,isPending:N,isSuccess:k==="success",isError:S,isInitialLoading:D,isLoading:D,data:T,dataUpdatedAt:v.dataUpdatedAt,error:P,errorUpdatedAt:_,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>g.dataUpdateCount||v.errorUpdateCount>g.errorUpdateCount,isFetching:I,isRefetching:I&&!N,isLoadingError:S&&!V,isPaused:v.fetchStatus==="paused",isPlaceholderData:C,isRefetchError:S&&V,isStale:Fg(t,n),refetch:this.refetch,promise:H(this,hi)};if(this.options.experimental_prefetchInRender){const j=q=>{F.status==="error"?q.reject(F.error):F.data!==void 0&&q.resolve(F.data)},G=()=>{const q=ye(this,hi,F.promise=Z0());j(q)},te=H(this,hi);switch(te.status){case"pending":t.queryHash===r.queryHash&&j(te);break;case"fulfilled":(F.status==="error"||F.data!==te.value)&&G();break;case"rejected":(F.status!=="error"||F.error!==te.reason)&&G();break}}return F}updateResult(t){const n=H(this,Pn),r=this.createResult(H(this,rt),this.options);if(ye(this,uo,H(this,rt).state),ye(this,Ua,this.options),H(this,uo).data!==void 0&&ye(this,Wa,H(this,rt)),Nd(r,n))return;ye(this,Pn,r);const o={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:d}=this.options,h=typeof d=="function"?d():d;if(h==="all"||!h&&!H(this,za).size)return!0;const m=new Set(h??H(this,za));return this.options.throwOnError&&m.add("error"),Object.keys(H(this,Pn)).some(g=>{const y=g;return H(this,Pn)[y]!==n[y]&&m.has(y)})};(t==null?void 0:t.listeners)!==!1&&a()&&(o.listeners=!0),Ke(this,gt,w2).call(this,{...o,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ke(this,gt,n1).call(this)}},$n=new WeakMap,rt=new WeakMap,kc=new WeakMap,Pn=new WeakMap,uo=new WeakMap,Ua=new WeakMap,hi=new WeakMap,as=new WeakMap,Pc=new WeakMap,Va=new WeakMap,Wa=new WeakMap,fo=new WeakMap,ho=new WeakMap,gi=new WeakMap,za=new WeakMap,gt=new WeakSet,Vl=function(t){Ke(this,gt,i1).call(this);let n=H(this,rt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(vr)),n},J0=function(){Ke(this,gt,r1).call(this);const t=Ea(this.options.staleTime,H(this,rt));if(Co||H(this,Pn).isStale||!K0(t))return;const r=c2(H(this,Pn).dataUpdatedAt,t)+1;ye(this,fo,setTimeout(()=>{H(this,Pn).isStale||this.updateResult()},r))},e1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(H(this,rt)):this.options.refetchInterval)??!1},t1=function(t){Ke(this,gt,s1).call(this),ye(this,gi,t),!(Co||Vr(this.options.enabled,H(this,rt))===!1||!K0(H(this,gi))||H(this,gi)===0)&&ye(this,ho,setInterval(()=>{(this.options.refetchIntervalInBackground||Bg.isFocused())&&Ke(this,gt,Vl).call(this)},H(this,gi)))},n1=function(){Ke(this,gt,J0).call(this),Ke(this,gt,t1).call(this,Ke(this,gt,e1).call(this))},r1=function(){H(this,fo)&&(clearTimeout(H(this,fo)),ye(this,fo,void 0))},s1=function(){H(this,ho)&&(clearInterval(H(this,ho)),ye(this,ho,void 0))},i1=function(){const t=H(this,$n).getQueryCache().build(H(this,$n),this.options);if(t===H(this,rt))return;const n=H(this,rt);ye(this,rt,t),ye(this,kc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},w2=function(t){sn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(H(this,Pn))}),H(this,$n).getQueryCache().notify({query:H(this,rt),type:"observerResultsUpdated"})})},Gw);function m4(e,t){return Vr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function hx(e,t){return m4(e,t)||e.state.data!==void 0&&o1(e,t,t.refetchOnMount)}function o1(e,t,n){if(Vr(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Fg(e,t)}return!1}function gx(e,t,n,r){return(e!==t||Vr(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Fg(e,n)}function Fg(e,t){return Vr(t.enabled,e)!==!1&&e.isStaleByTime(Ea(t.staleTime,e))}function x4(e,t){return!Nd(e.getCurrentResult(),t)}var pi,mi,Gn,Ss,Ts,Qu,a1,qw,w4=(qw=class extends sl{constructor(n,r){super();je(this,Ts);je(this,pi);je(this,mi);je(this,Gn);je(this,Ss);ye(this,pi,n),this.setOptions(r),this.bindMethods(),Ke(this,Ts,Qu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var o;const r=this.options;this.options=H(this,pi).defaultMutationOptions(n),Nd(this.options,r)||H(this,pi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:H(this,Gn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&So(r.mutationKey)!==So(this.options.mutationKey)?this.reset():((o=H(this,Gn))==null?void 0:o.state.status)==="pending"&&H(this,Gn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=H(this,Gn))==null||n.removeObserver(this)}onMutationUpdate(n){Ke(this,Ts,Qu).call(this),Ke(this,Ts,a1).call(this,n)}getCurrentResult(){return H(this,mi)}reset(){var n;(n=H(this,Gn))==null||n.removeObserver(this),ye(this,Gn,void 0),Ke(this,Ts,Qu).call(this),Ke(this,Ts,a1).call(this)}mutate(n,r){var o;return ye(this,Ss,r),(o=H(this,Gn))==null||o.removeObserver(this),ye(this,Gn,H(this,pi).getMutationCache().build(H(this,pi),this.options)),H(this,Gn).addObserver(this),H(this,Gn).execute(n)}},pi=new WeakMap,mi=new WeakMap,Gn=new WeakMap,Ss=new WeakMap,Ts=new WeakSet,Qu=function(){var r;const n=((r=H(this,Gn))==null?void 0:r.state)??x2();ye(this,mi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},a1=function(n){sn.batch(()=>{var r,o,a,d,h,m,g,y;if(H(this,Ss)&&this.hasListeners()){const v=H(this,mi).variables,C=H(this,mi).context;(n==null?void 0:n.type)==="success"?((o=(r=H(this,Ss)).onSuccess)==null||o.call(r,n.data,v,C),(d=(a=H(this,Ss)).onSettled)==null||d.call(a,n.data,null,v,C)):(n==null?void 0:n.type)==="error"&&((m=(h=H(this,Ss)).onError)==null||m.call(h,n.error,v,C),(y=(g=H(this,Ss)).onSettled)==null||y.call(g,void 0,n.error,v,C))}this.listeners.forEach(v=>{v(H(this,mi))})})},qw),y2=E.createContext(void 0),Ui=e=>{const t=E.useContext(y2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},y4=({client:e,children:t})=>(E.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(y2.Provider,{value:e,children:t})),v2=E.createContext(!1),v4=()=>E.useContext(v2);v2.Provider;function b4(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var E4=E.createContext(b4()),C4=()=>E.useContext(E4);function b2(e,t){return typeof e=="function"?e(...t):!!e}function E2(){}var S4=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},A4=e=>{E.useEffect(()=>{e.clearReset()},[e])},_4=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&b2(n,[e.error,r]),N4=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},T4=(e,t)=>e.isLoading&&e.isFetching&&!t,I4=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,px=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function R4(e,t,n){var y,v,C,T,P;const r=Ui(),o=v4(),a=C4(),d=r.defaultQueryOptions(e);(v=(y=r.getDefaultOptions().queries)==null?void 0:y._experimental_beforeQuery)==null||v.call(y,d),d._optimisticResults=o?"isRestoring":"optimistic",N4(d),S4(d,a),A4(a);const h=!r.getQueryCache().get(d.queryHash),[m]=E.useState(()=>new t(r,d)),g=m.getOptimisticResult(d);if(E.useSyncExternalStore(E.useCallback(_=>{const k=o?()=>{}:m.subscribe(sn.batchCalls(_));return m.updateResult(),k},[m,o]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),E.useEffect(()=>{m.setOptions(d,{listeners:!1})},[d,m]),I4(d,g))throw px(d,m,a);if(_4({result:g,errorResetBoundary:a,throwOnError:d.throwOnError,query:r.getQueryCache().get(d.queryHash)}))throw g.error;if((T=(C=r.getDefaultOptions().queries)==null?void 0:C._experimental_afterQuery)==null||T.call(C,d,g),d.experimental_prefetchInRender&&!Co&&T4(g,o)){const _=h?px(d,m,a):(P=r.getQueryCache().get(d.queryHash))==null?void 0:P.promise;_==null||_.catch(E2).finally(()=>{m.updateResult()})}return d.notifyOnChangeProps?g:m.trackResult(g)}function Qa(e,t){return R4(e,p4)}function ki(e,t){const n=Ui(),[r]=E.useState(()=>new w4(n,e));E.useEffect(()=>{r.setOptions(e)},[r,e]);const o=E.useSyncExternalStore(E.useCallback(d=>r.subscribe(sn.batchCalls(d)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=E.useCallback((d,h)=>{r.mutate(d,h).catch(E2)},[r]);if(o.error&&b2(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bc.apply(this,arguments)}var yi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(yi||(yi={}));const mx="popstate";function O4(e){e===void 0&&(e={});function t(r,o){let{pathname:a,search:d,hash:h}=r.location;return l1("",{pathname:a,search:d,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Id(o)}return P4(t,n,null,e)}function Kt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function C2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function k4(){return Math.random().toString(36).substr(2,8)}function xx(e,t){return{usr:e.state,key:e.key,idx:t}}function l1(e,t,n,r){return n===void 0&&(n=null),bc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?il(t):t,{state:n,key:t&&t.key||r||k4()})}function Id(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function il(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function P4(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:a=!1}=r,d=o.history,h=yi.Pop,m=null,g=y();g==null&&(g=0,d.replaceState(bc({},d.state,{idx:g}),""));function y(){return(d.state||{idx:null}).idx}function v(){h=yi.Pop;let k=y(),I=k==null?null:k-g;g=k,m&&m({action:h,location:_.location,delta:I})}function C(k,I){h=yi.Push;let N=l1(_.location,k,I);g=y()+1;let S=xx(N,g),D=_.createHref(N);try{d.pushState(S,"",D)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;o.location.assign(D)}a&&m&&m({action:h,location:_.location,delta:1})}function T(k,I){h=yi.Replace;let N=l1(_.location,k,I);g=y();let S=xx(N,g),D=_.createHref(N);d.replaceState(S,"",D),a&&m&&m({action:h,location:_.location,delta:0})}function P(k){let I=o.location.origin!=="null"?o.location.origin:o.location.href,N=typeof k=="string"?k:Id(k);return N=N.replace(/ $/,"%20"),Kt(I,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,I)}let _={get action(){return h},get location(){return e(o,d)},listen(k){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(mx,v),m=k,()=>{o.removeEventListener(mx,v),m=null}},createHref(k){return t(o,k)},createURL:P,encodeLocation(k){let I=P(k);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:C,replace:T,go(k){return d.go(k)}};return _}var wx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(wx||(wx={}));function D4(e,t,n){return n===void 0&&(n="/"),M4(e,t,n,!1)}function M4(e,t,n,r){let o=typeof t=="string"?il(t):t,a=Ug(o.pathname||"/",n);if(a==null)return null;let d=S2(e);j4(d);let h=null;for(let m=0;h==null&&m<d.length;++m){let g=q4(a);h=$4(d[m],g,r)}return h}function S2(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(a,d,h)=>{let m={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:d,route:a};m.relativePath.startsWith("/")&&(Kt(m.relativePath.startsWith(r),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(r.length));let g=Ti([r,m.relativePath]),y=n.concat(m);a.children&&a.children.length>0&&(Kt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),S2(a.children,t,y,g)),!(a.path==null&&!a.index)&&t.push({path:g,score:z4(g,a.index),routesMeta:y})};return e.forEach((a,d)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,d);else for(let m of A2(a.path))o(a,d,m)}),t}function A2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let d=A2(r.join("/")),h=[];return h.push(...d.map(m=>m===""?a:[a,m].join("/"))),o&&h.push(...d),h.map(m=>e.startsWith("/")&&m===""?"/":m)}function j4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:H4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const L4=/^:[\w-]+$/,B4=3,F4=2,U4=1,V4=10,W4=-2,yx=e=>e==="*";function z4(e,t){let n=e.split("/"),r=n.length;return n.some(yx)&&(r+=W4),t&&(r+=F4),n.filter(o=>!yx(o)).reduce((o,a)=>o+(L4.test(a)?B4:a===""?U4:V4),r)}function H4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function $4(e,t,n){let{routesMeta:r}=e,o={},a="/",d=[];for(let h=0;h<r.length;++h){let m=r[h],g=h===r.length-1,y=a==="/"?t:t.slice(a.length)||"/",v=vx({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),C=m.route;if(!v&&g&&n&&!r[r.length-1].route.index&&(v=vx({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),d.push({params:o,pathname:Ti([a,v.pathname]),pathnameBase:Q4(Ti([a,v.pathnameBase])),route:C}),v.pathnameBase!=="/"&&(a=Ti([a,v.pathnameBase]))}return d}function vx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=G4(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],d=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((g,y,v)=>{let{paramName:C,isOptional:T}=y;if(C==="*"){let _=h[v]||"";d=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const P=h[v];return T&&!P?g[C]=void 0:g[C]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:d,pattern:e}}function G4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),C2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,m)=>(r.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function q4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return C2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ug(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function X4(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?il(e):e;return{pathname:n?n.startsWith("/")?n:K4(n,t):t,search:Z4(r),hash:J4(o)}}function K4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function jh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Y4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Vg(e,t){let n=Y4(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Wg(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=il(e):(o=bc({},e),Kt(!o.pathname||!o.pathname.includes("?"),jh("?","pathname","search",o)),Kt(!o.pathname||!o.pathname.includes("#"),jh("#","pathname","hash",o)),Kt(!o.search||!o.search.includes("#"),jh("#","search","hash",o)));let a=e===""||o.pathname==="",d=a?"/":o.pathname,h;if(d==null)h=n;else{let v=t.length-1;if(!r&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),v-=1;o.pathname=C.join("/")}h=v>=0?t[v]:"/"}let m=X4(o,h),g=d&&d!=="/"&&d.endsWith("/"),y=(a||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}const Ti=e=>e.join("/").replace(/\/\/+/g,"/"),Q4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,J4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function eN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _2=["post","put","patch","delete"];new Set(_2);const tN=["get",..._2];new Set(tN);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ec(){return Ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ec.apply(this,arguments)}const zg=E.createContext(null),nN=E.createContext(null),Vi=E.createContext(null),hf=E.createContext(null),js=E.createContext({outlet:null,matches:[],isDataRoute:!1}),N2=E.createContext(null);function rN(e,t){let{relative:n}=t===void 0?{}:t;ol()||Kt(!1);let{basename:r,navigator:o}=E.useContext(Vi),{hash:a,pathname:d,search:h}=R2(e,{relative:n}),m=d;return r!=="/"&&(m=d==="/"?r:Ti([r,d])),o.createHref({pathname:m,search:h,hash:a})}function ol(){return E.useContext(hf)!=null}function ps(){return ol()||Kt(!1),E.useContext(hf).location}function T2(e){E.useContext(Vi).static||E.useLayoutEffect(e)}function Ls(){let{isDataRoute:e}=E.useContext(js);return e?mN():sN()}function sN(){ol()||Kt(!1);let e=E.useContext(zg),{basename:t,future:n,navigator:r}=E.useContext(Vi),{matches:o}=E.useContext(js),{pathname:a}=ps(),d=JSON.stringify(Vg(o,n.v7_relativeSplatPath)),h=E.useRef(!1);return T2(()=>{h.current=!0}),E.useCallback(function(g,y){if(y===void 0&&(y={}),!h.current)return;if(typeof g=="number"){r.go(g);return}let v=Wg(g,JSON.parse(d),a,y.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Ti([t,v.pathname])),(y.replace?r.replace:r.push)(v,y.state,y)},[t,r,d,a,e])}function I2(){let{matches:e}=E.useContext(js),t=e[e.length-1];return t?t.params:{}}function R2(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=E.useContext(Vi),{matches:o}=E.useContext(js),{pathname:a}=ps(),d=JSON.stringify(Vg(o,r.v7_relativeSplatPath));return E.useMemo(()=>Wg(e,JSON.parse(d),a,n==="path"),[e,d,a,n])}function iN(e,t){return oN(e,t)}function oN(e,t,n,r){ol()||Kt(!1);let{navigator:o}=E.useContext(Vi),{matches:a}=E.useContext(js),d=a[a.length-1],h=d?d.params:{};d&&d.pathname;let m=d?d.pathnameBase:"/";d&&d.route;let g=ps(),y;if(t){var v;let k=typeof t=="string"?il(t):t;m==="/"||(v=k.pathname)!=null&&v.startsWith(m)||Kt(!1),y=k}else y=g;let C=y.pathname||"/",T=C;if(m!=="/"){let k=m.replace(/^\//,"").split("/");T="/"+C.replace(/^\//,"").split("/").slice(k.length).join("/")}let P=D4(e,{pathname:T}),_=dN(P&&P.map(k=>Object.assign({},k,{params:Object.assign({},h,k.params),pathname:Ti([m,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:Ti([m,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,n,r);return t&&_?E.createElement(hf.Provider,{value:{location:Ec({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:yi.Pop}},_):_}function aN(){let e=pN(),t=eN(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:o},n):null,null)}const lN=E.createElement(aN,null);class cN extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?E.createElement(js.Provider,{value:this.props.routeContext},E.createElement(N2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uN(e){let{routeContext:t,match:n,children:r}=e,o=E.useContext(zg);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(js.Provider,{value:t},r)}function dN(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let d=e,h=(o=n)==null?void 0:o.errors;if(h!=null){let y=d.findIndex(v=>v.route.id&&(h==null?void 0:h[v.route.id])!==void 0);y>=0||Kt(!1),d=d.slice(0,Math.min(d.length,y+1))}let m=!1,g=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<d.length;y++){let v=d[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=y),v.route.id){let{loaderData:C,errors:T}=n,P=v.route.loader&&C[v.route.id]===void 0&&(!T||T[v.route.id]===void 0);if(v.route.lazy||P){m=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((y,v,C)=>{let T,P=!1,_=null,k=null;n&&(T=h&&v.route.id?h[v.route.id]:void 0,_=v.route.errorElement||lN,m&&(g<0&&C===0?(P=!0,k=null):g===C&&(P=!0,k=v.route.hydrateFallbackElement||null)));let I=t.concat(d.slice(0,C+1)),N=()=>{let S;return T?S=_:P?S=k:v.route.Component?S=E.createElement(v.route.Component,null):v.route.element?S=v.route.element:S=y,E.createElement(uN,{match:v,routeContext:{outlet:y,matches:I,isDataRoute:n!=null},children:S})};return n&&(v.route.ErrorBoundary||v.route.errorElement||C===0)?E.createElement(cN,{location:n.location,revalidation:n.revalidation,component:_,error:T,children:N(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):N()},null)}var O2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(O2||{}),Rd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Rd||{});function fN(e){let t=E.useContext(zg);return t||Kt(!1),t}function hN(e){let t=E.useContext(nN);return t||Kt(!1),t}function gN(e){let t=E.useContext(js);return t||Kt(!1),t}function k2(e){let t=gN(),n=t.matches[t.matches.length-1];return n.route.id||Kt(!1),n.route.id}function pN(){var e;let t=E.useContext(N2),n=hN(Rd.UseRouteError),r=k2(Rd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function mN(){let{router:e}=fN(O2.UseNavigateStable),t=k2(Rd.UseNavigateStable),n=E.useRef(!1);return T2(()=>{n.current=!0}),E.useCallback(function(o,a){a===void 0&&(a={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Ec({fromRouteId:t},a)))},[e,t])}function c1(e){let{to:t,replace:n,state:r,relative:o}=e;ol()||Kt(!1);let{future:a,static:d}=E.useContext(Vi),{matches:h}=E.useContext(js),{pathname:m}=ps(),g=Ls(),y=Wg(t,Vg(h,a.v7_relativeSplatPath),m,o==="path"),v=JSON.stringify(y);return E.useEffect(()=>g(JSON.parse(v),{replace:n,state:r,relative:o}),[g,v,o,n,r]),null}function wr(e){Kt(!1)}function xN(e){let{basename:t="/",children:n=null,location:r,navigationType:o=yi.Pop,navigator:a,static:d=!1,future:h}=e;ol()&&Kt(!1);let m=t.replace(/^\/*/,"/"),g=E.useMemo(()=>({basename:m,navigator:a,static:d,future:Ec({v7_relativeSplatPath:!1},h)}),[m,h,a,d]);typeof r=="string"&&(r=il(r));let{pathname:y="/",search:v="",hash:C="",state:T=null,key:P="default"}=r,_=E.useMemo(()=>{let k=Ug(y,m);return k==null?null:{location:{pathname:k,search:v,hash:C,state:T,key:P},navigationType:o}},[m,y,v,C,T,P,o]);return _==null?null:E.createElement(Vi.Provider,{value:g},E.createElement(hf.Provider,{children:n,value:_}))}function wN(e){let{children:t,location:n}=e;return iN(u1(t),n)}new Promise(()=>{});function u1(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,o)=>{if(!E.isValidElement(r))return;let a=[...t,o];if(r.type===E.Fragment){n.push.apply(n,u1(r.props.children,a));return}r.type!==wr&&Kt(!1),!r.props.index||!r.props.children||Kt(!1);let d={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=u1(r.props.children,a)),n.push(d)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function d1(){return d1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d1.apply(this,arguments)}function yN(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function vN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bN(e,t){return e.button===0&&(!t||t==="_self")&&!vN(e)}const EN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],CN="6";try{window.__reactRouterVersion=CN}catch{}const SN="startTransition",bx=iy[SN];function AN(e){let{basename:t,children:n,future:r,window:o}=e,a=E.useRef();a.current==null&&(a.current=O4({window:o,v5Compat:!0}));let d=a.current,[h,m]=E.useState({action:d.action,location:d.location}),{v7_startTransition:g}=r||{},y=E.useCallback(v=>{g&&bx?bx(()=>m(v)):m(v)},[m,g]);return E.useLayoutEffect(()=>d.listen(y),[d,y]),E.createElement(xN,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:d,future:r})}const _N=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ao=E.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:a,replace:d,state:h,target:m,to:g,preventScrollReset:y,viewTransition:v}=t,C=yN(t,EN),{basename:T}=E.useContext(Vi),P,_=!1;if(typeof g=="string"&&NN.test(g)&&(P=g,_N))try{let S=new URL(window.location.href),D=g.startsWith("//")?new URL(S.protocol+g):new URL(g),V=Ug(D.pathname,T);D.origin===S.origin&&V!=null?g=V+D.search+D.hash:_=!0}catch{}let k=rN(g,{relative:o}),I=TN(g,{replace:d,state:h,target:m,preventScrollReset:y,relative:o,viewTransition:v});function N(S){r&&r(S),S.defaultPrevented||I(S)}return E.createElement("a",d1({},C,{href:P||k,onClick:_||a?r:N,ref:n,target:m}))});var Ex;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ex||(Ex={}));var Cx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Cx||(Cx={}));function TN(e,t){let{target:n,replace:r,state:o,preventScrollReset:a,relative:d,viewTransition:h}=t===void 0?{}:t,m=Ls(),g=ps(),y=R2(e,{relative:d});return E.useCallback(v=>{if(bN(v,n)){v.preventDefault();let C=r!==void 0?r:Id(g)===Id(y);m(e,{replace:C,state:o,preventScrollReset:a,relative:d,viewTransition:h})}},[g,m,y,r,o,n,e,a,d,h])}const IN=1,RN=1e6;let Lh=0;function ON(){return Lh=(Lh+1)%Number.MAX_SAFE_INTEGER,Lh.toString()}const Bh=new Map,Sx=e=>{if(Bh.has(e))return;const t=setTimeout(()=>{Bh.delete(e),Jl({type:"REMOVE_TOAST",toastId:e})},RN);Bh.set(e,t)},kN=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,IN)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Sx(n):e.toasts.forEach(r=>{Sx(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Zu=[];let Ju={toasts:[]};function Jl(e){Ju=kN(Ju,e),Zu.forEach(t=>{t(Ju)})}function PN({...e}){const t=ON(),n=o=>Jl({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>Jl({type:"DISMISS_TOAST",toastId:t});return Jl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function qr(){const[e,t]=E.useState(Ju);return E.useEffect(()=>(Zu.push(t),()=>{const n=Zu.indexOf(t);n>-1&&Zu.splice(n,1)}),[e]),{...e,toast:PN,dismiss:n=>Jl({type:"DISMISS_TOAST",toastId:n})}}function Ue(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function DN(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function P2(...e){return t=>e.forEach(n=>DN(n,t))}function xt(...e){return E.useCallback(P2(...e),e)}function MN(e,t=[]){let n=[];function r(a,d){const h=E.createContext(d),m=n.length;n=[...n,d];function g(v){const{scope:C,children:T,...P}=v,_=(C==null?void 0:C[e][m])||h,k=E.useMemo(()=>P,Object.values(P));return p.jsx(_.Provider,{value:k,children:T})}function y(v,C){const T=(C==null?void 0:C[e][m])||h,P=E.useContext(T);if(P)return P;if(d!==void 0)return d;throw new Error(`\`${v}\` must be used within \`${a}\``)}return g.displayName=a+"Provider",[g,y]}const o=()=>{const a=n.map(d=>E.createContext(d));return function(h){const m=(h==null?void 0:h[e])||a;return E.useMemo(()=>({[`__scope${e}`]:{...h,[e]:m}}),[h,m])}};return o.scopeName=e,[r,jN(o,...t)]}function jN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const d=r.reduce((h,{useScope:m,scopeName:g})=>{const v=m(a)[`__scope${g}`];return{...h,...v}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}var _o=E.forwardRef((e,t)=>{const{children:n,...r}=e,o=E.Children.toArray(n),a=o.find(LN);if(a){const d=a.props.children,h=o.map(m=>m===a?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:m);return p.jsx(f1,{...r,ref:t,children:E.isValidElement(d)?E.cloneElement(d,void 0,h):null})}return p.jsx(f1,{...r,ref:t,children:n})});_o.displayName="Slot";var f1=E.forwardRef((e,t)=>{const{children:n,...r}=e;if(E.isValidElement(n)){const o=FN(n);return E.cloneElement(n,{...BN(r,n.props),ref:t?P2(t,o):o})}return E.Children.count(n)>1?E.Children.only(null):null});f1.displayName="SlotClone";var Hg=({children:e})=>p.jsx(p.Fragment,{children:e});function LN(e){return E.isValidElement(e)&&e.type===Hg}function BN(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...h)=>{a(...h),o(...h)}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function FN(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function D2(e){const t=e+"CollectionProvider",[n,r]=MN(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=T=>{const{scope:P,children:_}=T,k=Zs.useRef(null),I=Zs.useRef(new Map).current;return p.jsx(o,{scope:P,itemMap:I,collectionRef:k,children:_})};d.displayName=t;const h=e+"CollectionSlot",m=Zs.forwardRef((T,P)=>{const{scope:_,children:k}=T,I=a(h,_),N=xt(P,I.collectionRef);return p.jsx(_o,{ref:N,children:k})});m.displayName=h;const g=e+"CollectionItemSlot",y="data-radix-collection-item",v=Zs.forwardRef((T,P)=>{const{scope:_,children:k,...I}=T,N=Zs.useRef(null),S=xt(P,N),D=a(g,_);return Zs.useEffect(()=>(D.itemMap.set(N,{ref:N,...I}),()=>void D.itemMap.delete(N))),p.jsx(_o,{[y]:"",ref:S,children:k})});v.displayName=g;function C(T){const P=a(e+"CollectionConsumer",T);return Zs.useCallback(()=>{const k=P.collectionRef.current;if(!k)return[];const I=Array.from(k.querySelectorAll(`[${y}]`));return Array.from(P.itemMap.values()).sort((D,V)=>I.indexOf(D.ref.current)-I.indexOf(V.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:d,Slot:m,ItemSlot:v},C,r]}function UN(e,t){const n=E.createContext(t),r=a=>{const{children:d,...h}=a,m=E.useMemo(()=>h,Object.values(h));return p.jsx(n.Provider,{value:m,children:d})};r.displayName=e+"Provider";function o(a){const d=E.useContext(n);if(d)return d;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,o]}function Mo(e,t=[]){let n=[];function r(a,d){const h=E.createContext(d),m=n.length;n=[...n,d];const g=v=>{var I;const{scope:C,children:T,...P}=v,_=((I=C==null?void 0:C[e])==null?void 0:I[m])||h,k=E.useMemo(()=>P,Object.values(P));return p.jsx(_.Provider,{value:k,children:T})};g.displayName=a+"Provider";function y(v,C){var _;const T=((_=C==null?void 0:C[e])==null?void 0:_[m])||h,P=E.useContext(T);if(P)return P;if(d!==void 0)return d;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[g,y]}const o=()=>{const a=n.map(d=>E.createContext(d));return function(h){const m=(h==null?void 0:h[e])||a;return E.useMemo(()=>({[`__scope${e}`]:{...h,[e]:m}}),[h,m])}};return o.scopeName=e,[r,VN(o,...t)]}function VN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const d=r.reduce((h,{useScope:m,scopeName:g})=>{const v=m(a)[`__scope${g}`];return{...h,...v}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}var WN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ye=WN.reduce((e,t)=>{const n=E.forwardRef((r,o)=>{const{asChild:a,...d}=r,h=a?_o:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(h,{...d,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function M2(e,t){e&&Do.flushSync(()=>e.dispatchEvent(t))}function ur(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function zN(e,t=globalThis==null?void 0:globalThis.document){const n=ur(e);E.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var HN="DismissableLayer",h1="dismissableLayer.update",$N="dismissableLayer.pointerDownOutside",GN="dismissableLayer.focusOutside",Ax,j2=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fc=E.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:d,onDismiss:h,...m}=e,g=E.useContext(j2),[y,v]=E.useState(null),C=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=E.useState({}),P=xt(t,F=>v(F)),_=Array.from(g.layers),[k]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),I=_.indexOf(k),N=y?_.indexOf(y):-1,S=g.layersWithOutsidePointerEventsDisabled.size>0,D=N>=I,V=XN(F=>{const L=F.target,j=[...g.branches].some(G=>G.contains(L));!D||j||(o==null||o(F),d==null||d(F),F.defaultPrevented||h==null||h())},C),W=KN(F=>{const L=F.target;[...g.branches].some(G=>G.contains(L))||(a==null||a(F),d==null||d(F),F.defaultPrevented||h==null||h())},C);return zN(F=>{N===g.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&h&&(F.preventDefault(),h()))},C),E.useEffect(()=>{if(y)return n&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(Ax=C.body.style.pointerEvents,C.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(y)),g.layers.add(y),_x(),()=>{n&&g.layersWithOutsidePointerEventsDisabled.size===1&&(C.body.style.pointerEvents=Ax)}},[y,C,n,g]),E.useEffect(()=>()=>{y&&(g.layers.delete(y),g.layersWithOutsidePointerEventsDisabled.delete(y),_x())},[y,g]),E.useEffect(()=>{const F=()=>T({});return document.addEventListener(h1,F),()=>document.removeEventListener(h1,F)},[]),p.jsx(Ye.div,{...m,ref:P,style:{pointerEvents:S?D?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,W.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,W.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,V.onPointerDownCapture)})});Fc.displayName=HN;var qN="DismissableLayerBranch",L2=E.forwardRef((e,t)=>{const n=E.useContext(j2),r=E.useRef(null),o=xt(t,r);return E.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),p.jsx(Ye.div,{...e,ref:o})});L2.displayName=qN;function XN(e,t=globalThis==null?void 0:globalThis.document){const n=ur(e),r=E.useRef(!1),o=E.useRef(()=>{});return E.useEffect(()=>{const a=h=>{if(h.target&&!r.current){let m=function(){B2($N,n,g,{discrete:!0})};const g={originalEvent:h};h.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=m,t.addEventListener("click",o.current,{once:!0})):m()}else t.removeEventListener("click",o.current);r.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function KN(e,t=globalThis==null?void 0:globalThis.document){const n=ur(e),r=E.useRef(!1);return E.useEffect(()=>{const o=a=>{a.target&&!r.current&&B2(GN,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function _x(){const e=new CustomEvent(h1);document.dispatchEvent(e)}function B2(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?M2(o,a):o.dispatchEvent(a)}var YN=Fc,QN=L2,Tn=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},ZN="Portal",gf=E.forwardRef((e,t)=>{var h;const{container:n,...r}=e,[o,a]=E.useState(!1);Tn(()=>a(!0),[]);const d=n||o&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return d?J_.createPortal(p.jsx(Ye.div,{...r,ref:t}),d):null});gf.displayName=ZN;function JN(e,t){return E.useReducer((n,r)=>t[n][r]??n,e)}var jo=e=>{const{present:t,children:n}=e,r=e8(t),o=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),a=xt(r.ref,t8(o));return typeof n=="function"||r.isPresent?E.cloneElement(o,{ref:a}):null};jo.displayName="Presence";function e8(e){const[t,n]=E.useState(),r=E.useRef({}),o=E.useRef(e),a=E.useRef("none"),d=e?"mounted":"unmounted",[h,m]=JN(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const g=Nu(r.current);a.current=h==="mounted"?g:"none"},[h]),Tn(()=>{const g=r.current,y=o.current;if(y!==e){const C=a.current,T=Nu(g);e?m("MOUNT"):T==="none"||(g==null?void 0:g.display)==="none"?m("UNMOUNT"):m(y&&C!==T?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,m]),Tn(()=>{if(t){let g;const y=t.ownerDocument.defaultView??window,v=T=>{const _=Nu(r.current).includes(T.animationName);if(T.target===t&&_&&(m("ANIMATION_END"),!o.current)){const k=t.style.animationFillMode;t.style.animationFillMode="forwards",g=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=k)})}},C=T=>{T.target===t&&(a.current=Nu(r.current))};return t.addEventListener("animationstart",C),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{y.clearTimeout(g),t.removeEventListener("animationstart",C),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:E.useCallback(g=>{g&&(r.current=getComputedStyle(g)),n(g)},[])}}function Nu(e){return(e==null?void 0:e.animationName)||"none"}function t8(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function No({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=n8({defaultProp:t,onChange:n}),a=e!==void 0,d=a?e:r,h=ur(n),m=E.useCallback(g=>{if(a){const v=typeof g=="function"?g(e):g;v!==e&&h(v)}else o(g)},[a,e,o,h]);return[d,m]}function n8({defaultProp:e,onChange:t}){const n=E.useState(e),[r]=n,o=E.useRef(r),a=ur(t);return E.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),n}var r8="VisuallyHidden",Uc=E.forwardRef((e,t)=>p.jsx(Ye.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Uc.displayName=r8;var s8=Uc,$g="ToastProvider",[Gg,i8,o8]=D2("Toast"),[F2,qM]=Mo("Toast",[o8]),[a8,pf]=F2($g),U2=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:d}=e,[h,m]=E.useState(null),[g,y]=E.useState(0),v=E.useRef(!1),C=E.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${$g}\`. Expected non-empty \`string\`.`),p.jsx(Gg.Provider,{scope:t,children:p.jsx(a8,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:a,toastCount:g,viewport:h,onViewportChange:m,onToastAdd:E.useCallback(()=>y(T=>T+1),[]),onToastRemove:E.useCallback(()=>y(T=>T-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:C,children:d})})};U2.displayName=$g;var V2="ToastViewport",l8=["F8"],g1="toast.viewportPause",p1="toast.viewportResume",W2=E.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=l8,label:o="Notifications ({hotkey})",...a}=e,d=pf(V2,n),h=i8(n),m=E.useRef(null),g=E.useRef(null),y=E.useRef(null),v=E.useRef(null),C=xt(t,v,d.onViewportChange),T=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=d.toastCount>0;E.useEffect(()=>{const k=I=>{var S;r.length!==0&&r.every(D=>I[D]||I.code===D)&&((S=v.current)==null||S.focus())};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[r]),E.useEffect(()=>{const k=m.current,I=v.current;if(P&&k&&I){const N=()=>{if(!d.isClosePausedRef.current){const W=new CustomEvent(g1);I.dispatchEvent(W),d.isClosePausedRef.current=!0}},S=()=>{if(d.isClosePausedRef.current){const W=new CustomEvent(p1);I.dispatchEvent(W),d.isClosePausedRef.current=!1}},D=W=>{!k.contains(W.relatedTarget)&&S()},V=()=>{k.contains(document.activeElement)||S()};return k.addEventListener("focusin",N),k.addEventListener("focusout",D),k.addEventListener("pointermove",N),k.addEventListener("pointerleave",V),window.addEventListener("blur",N),window.addEventListener("focus",S),()=>{k.removeEventListener("focusin",N),k.removeEventListener("focusout",D),k.removeEventListener("pointermove",N),k.removeEventListener("pointerleave",V),window.removeEventListener("blur",N),window.removeEventListener("focus",S)}}},[P,d.isClosePausedRef]);const _=E.useCallback(({tabbingDirection:k})=>{const N=h().map(S=>{const D=S.ref.current,V=[D,...b8(D)];return k==="forwards"?V:V.reverse()});return(k==="forwards"?N.reverse():N).flat()},[h]);return E.useEffect(()=>{const k=v.current;if(k){const I=N=>{var V,W,F;const S=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!S){const L=document.activeElement,j=N.shiftKey;if(N.target===k&&j){(V=g.current)==null||V.focus();return}const q=_({tabbingDirection:j?"backwards":"forwards"}),se=q.findIndex(re=>re===L);Fh(q.slice(se+1))?N.preventDefault():j?(W=g.current)==null||W.focus():(F=y.current)==null||F.focus()}};return k.addEventListener("keydown",I),()=>k.removeEventListener("keydown",I)}},[h,_]),p.jsxs(QN,{ref:m,role:"region","aria-label":o.replace("{hotkey}",T),tabIndex:-1,style:{pointerEvents:P?void 0:"none"},children:[P&&p.jsx(m1,{ref:g,onFocusFromOutsideViewport:()=>{const k=_({tabbingDirection:"forwards"});Fh(k)}}),p.jsx(Gg.Slot,{scope:n,children:p.jsx(Ye.ol,{tabIndex:-1,...a,ref:C})}),P&&p.jsx(m1,{ref:y,onFocusFromOutsideViewport:()=>{const k=_({tabbingDirection:"backwards"});Fh(k)}})]})});W2.displayName=V2;var z2="ToastFocusProxy",m1=E.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,a=pf(z2,n);return p.jsx(Uc,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:d=>{var g;const h=d.relatedTarget;!((g=a.viewport)!=null&&g.contains(h))&&r()}})});m1.displayName=z2;var mf="Toast",c8="toast.swipeStart",u8="toast.swipeMove",d8="toast.swipeCancel",f8="toast.swipeEnd",H2=E.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:a,...d}=e,[h=!0,m]=No({prop:r,defaultProp:o,onChange:a});return p.jsx(jo,{present:n||h,children:p.jsx(p8,{open:h,...d,ref:t,onClose:()=>m(!1),onPause:ur(e.onPause),onResume:ur(e.onResume),onSwipeStart:Ue(e.onSwipeStart,g=>{g.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(e.onSwipeMove,g=>{const{x:y,y:v}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","move"),g.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:Ue(e.onSwipeCancel,g=>{g.currentTarget.setAttribute("data-swipe","cancel"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(e.onSwipeEnd,g=>{const{x:y,y:v}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","end"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),m(!1)})})})});H2.displayName=mf;var[h8,g8]=F2(mf,{onClose(){}}),p8=E.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:a,onClose:d,onEscapeKeyDown:h,onPause:m,onResume:g,onSwipeStart:y,onSwipeMove:v,onSwipeCancel:C,onSwipeEnd:T,...P}=e,_=pf(mf,n),[k,I]=E.useState(null),N=xt(t,re=>I(re)),S=E.useRef(null),D=E.useRef(null),V=o||_.duration,W=E.useRef(0),F=E.useRef(V),L=E.useRef(0),{onToastAdd:j,onToastRemove:G}=_,te=ur(()=>{var X;(k==null?void 0:k.contains(document.activeElement))&&((X=_.viewport)==null||X.focus()),d()}),q=E.useCallback(re=>{!re||re===1/0||(window.clearTimeout(L.current),W.current=new Date().getTime(),L.current=window.setTimeout(te,re))},[te]);E.useEffect(()=>{const re=_.viewport;if(re){const X=()=>{q(F.current),g==null||g()},fe=()=>{const ne=new Date().getTime()-W.current;F.current=F.current-ne,window.clearTimeout(L.current),m==null||m()};return re.addEventListener(g1,fe),re.addEventListener(p1,X),()=>{re.removeEventListener(g1,fe),re.removeEventListener(p1,X)}}},[_.viewport,V,m,g,q]),E.useEffect(()=>{a&&!_.isClosePausedRef.current&&q(V)},[a,V,_.isClosePausedRef,q]),E.useEffect(()=>(j(),()=>G()),[j,G]);const se=E.useMemo(()=>k?Q2(k):null,[k]);return _.viewport?p.jsxs(p.Fragment,{children:[se&&p.jsx(m8,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:se}),p.jsx(h8,{scope:n,onClose:te,children:Do.createPortal(p.jsx(Gg.ItemSlot,{scope:n,children:p.jsx(YN,{asChild:!0,onEscapeKeyDown:Ue(h,()=>{_.isFocusedToastEscapeKeyDownRef.current||te(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Ye.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":_.swipeDirection,...P,ref:N,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ue(e.onKeyDown,re=>{re.key==="Escape"&&(h==null||h(re.nativeEvent),re.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,te()))}),onPointerDown:Ue(e.onPointerDown,re=>{re.button===0&&(S.current={x:re.clientX,y:re.clientY})}),onPointerMove:Ue(e.onPointerMove,re=>{if(!S.current)return;const X=re.clientX-S.current.x,fe=re.clientY-S.current.y,ne=!!D.current,Q=["left","right"].includes(_.swipeDirection),ee=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,he=Q?ee(0,X):0,ue=Q?0:ee(0,fe),me=re.pointerType==="touch"?10:2,we={x:he,y:ue},Re={originalEvent:re,delta:we};ne?(D.current=we,Tu(u8,v,Re,{discrete:!1})):Nx(we,_.swipeDirection,me)?(D.current=we,Tu(c8,y,Re,{discrete:!1}),re.target.setPointerCapture(re.pointerId)):(Math.abs(X)>me||Math.abs(fe)>me)&&(S.current=null)}),onPointerUp:Ue(e.onPointerUp,re=>{const X=D.current,fe=re.target;if(fe.hasPointerCapture(re.pointerId)&&fe.releasePointerCapture(re.pointerId),D.current=null,S.current=null,X){const ne=re.currentTarget,Q={originalEvent:re,delta:X};Nx(X,_.swipeDirection,_.swipeThreshold)?Tu(f8,T,Q,{discrete:!0}):Tu(d8,C,Q,{discrete:!0}),ne.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),m8=e=>{const{__scopeToast:t,children:n,...r}=e,o=pf(mf,t),[a,d]=E.useState(!1),[h,m]=E.useState(!1);return y8(()=>d(!0)),E.useEffect(()=>{const g=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(g)},[]),h?null:p.jsx(gf,{asChild:!0,children:p.jsx(Uc,{...r,children:a&&p.jsxs(p.Fragment,{children:[o.label," ",n]})})})},x8="ToastTitle",$2=E.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(Ye.div,{...r,ref:t})});$2.displayName=x8;var w8="ToastDescription",G2=E.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(Ye.div,{...r,ref:t})});G2.displayName=w8;var q2="ToastAction",X2=E.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?p.jsx(Y2,{altText:n,asChild:!0,children:p.jsx(qg,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${q2}\`. Expected non-empty \`string\`.`),null)});X2.displayName=q2;var K2="ToastClose",qg=E.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=g8(K2,n);return p.jsx(Y2,{asChild:!0,children:p.jsx(Ye.button,{type:"button",...r,ref:t,onClick:Ue(e.onClick,o.onClose)})})});qg.displayName=K2;var Y2=E.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return p.jsx(Ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function Q2(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),v8(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const d=r.dataset.radixToastAnnounceAlt;d&&t.push(d)}else t.push(...Q2(r))}}),t}function Tu(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?M2(o,a):o.dispatchEvent(a)}var Nx=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),a=r>o;return t==="left"||t==="right"?a&&r>n:!a&&o>n};function y8(e=()=>{}){const t=ur(e);Tn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function v8(e){return e.nodeType===e.ELEMENT_NODE}function b8(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Fh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var E8=U2,Z2=W2,J2=H2,eb=$2,tb=G2,nb=X2,rb=qg;function sb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=sb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ib(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=sb(e))&&(r&&(r+=" "),r+=t);return r}const Tx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ix=ib,al=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Ix(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:a}=t,d=Object.keys(o).map(g=>{const y=n==null?void 0:n[g],v=a==null?void 0:a[g];if(y===null)return null;const C=Tx(y)||Tx(v);return o[g][C]}),h=n&&Object.entries(n).reduce((g,y)=>{let[v,C]=y;return C===void 0||(g[v]=C),g},{}),m=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((g,y)=>{let{class:v,className:C,...T}=y;return Object.entries(T).every(P=>{let[_,k]=P;return Array.isArray(k)?k.includes({...a,...h}[_]):{...a,...h}[_]===k})?[...g,v,C]:g},[]);return Ix(e,d,m,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ob=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:d,...h},m)=>E.createElement("svg",{ref:m,...S8,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:ob("lucide",o),...h},[...d.map(([g,y])=>E.createElement(g,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(e,t)=>{const n=E.forwardRef(({className:r,...o},a)=>E.createElement(A8,{ref:a,iconNode:t,className:ob(`lucide-${C8(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=$e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=$e("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=$e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=$e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=$e("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=$e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=$e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=$e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=$e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=$e("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=$e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=$e("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=$e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=$e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=$e("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=$e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=$e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=$e("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=$e("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=$e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=$e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=$e("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=$e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=$e("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=$e("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=$e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=$e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=$e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=$e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=$e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=$e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=$e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=$e("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=$e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=$e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=$e("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=$e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ep="-",U8=e=>{const t=W8(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:d=>{const h=d.split(ep);return h[0]===""&&h.length!==1&&h.shift(),pb(h,t)||V8(d)},getConflictingClassGroupIds:(d,h)=>{const m=n[d]||[];return h&&r[d]?[...m,...r[d]]:m}}},pb=(e,t)=>{var d;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?pb(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(ep);return(d=t.validators.find(({validator:h})=>h(a)))==null?void 0:d.classGroupId},jx=/^\[(.+)\]$/,V8=e=>{if(jx.test(e)){const t=jx.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},W8=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return H8(Object.entries(e.classGroups),n).forEach(([a,d])=>{x1(d,r,a,t)}),r},x1=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:Lx(t,o);a.classGroupId=n;return}if(typeof o=="function"){if(z8(o)){x1(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,d])=>{x1(d,Lx(t,a),n,r)})})},Lx=(e,t)=>{let n=e;return t.split(ep).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},z8=e=>e.isThemeGetter,H8=(e,t)=>t?e.map(([n,r])=>{const o=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([d,h])=>[t+d,h])):a);return[n,o]}):e,$8=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(a,d)=>{n.set(a,d),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let d=n.get(a);if(d!==void 0)return d;if((d=r.get(a))!==void 0)return o(a,d),d},set(a,d){n.has(a)?n.set(a,d):o(a,d)}}},mb="!",G8=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],a=t.length,d=h=>{const m=[];let g=0,y=0,v;for(let k=0;k<h.length;k++){let I=h[k];if(g===0){if(I===o&&(r||h.slice(k,k+a)===t)){m.push(h.slice(y,k)),y=k+a;continue}if(I==="/"){v=k;continue}}I==="["?g++:I==="]"&&g--}const C=m.length===0?h:h.substring(y),T=C.startsWith(mb),P=T?C.substring(1):C,_=v&&v>y?v-y:void 0;return{modifiers:m,hasImportantModifier:T,baseClassName:P,maybePostfixModifierPosition:_}};return n?h=>n({className:h,parseClassName:d}):d},q8=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},X8=e=>({cache:$8(e.cacheSize),parseClassName:G8(e),...U8(e)}),K8=/\s+/,Y8=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,a=[],d=e.trim().split(K8);let h="";for(let m=d.length-1;m>=0;m-=1){const g=d[m],{modifiers:y,hasImportantModifier:v,baseClassName:C,maybePostfixModifierPosition:T}=n(g);let P=!!T,_=r(P?C.substring(0,T):C);if(!_){if(!P){h=g+(h.length>0?" "+h:h);continue}if(_=r(C),!_){h=g+(h.length>0?" "+h:h);continue}P=!1}const k=q8(y).join(":"),I=v?k+mb:k,N=I+_;if(a.includes(N))continue;a.push(N);const S=o(_,P);for(let D=0;D<S.length;++D){const V=S[D];a.push(I+V)}h=g+(h.length>0?" "+h:h)}return h};function Q8(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=xb(t))&&(r&&(r+=" "),r+=n);return r}const xb=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=xb(e[r]))&&(n&&(n+=" "),n+=t);return n};function Z8(e,...t){let n,r,o,a=d;function d(m){const g=t.reduce((y,v)=>v(y),e());return n=X8(g),r=n.cache.get,o=n.cache.set,a=h,h(m)}function h(m){const g=r(m);if(g)return g;const y=Y8(m,n);return o(m,y),y}return function(){return a(Q8.apply(null,arguments))}}const It=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},wb=/^\[(?:([a-z-]+):)?(.+)\]$/i,J8=/^\d+\/\d+$/,eT=new Set(["px","full","screen"]),tT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xs=e=>Ca(e)||eT.has(e)||J8.test(e),qs=e=>cl(e,"length",hT),Ca=e=>!!e&&!Number.isNaN(Number(e)),Uh=e=>cl(e,"number",Ca),Dl=e=>!!e&&Number.isInteger(Number(e)),oT=e=>e.endsWith("%")&&Ca(e.slice(0,-1)),Ge=e=>wb.test(e),Xs=e=>tT.test(e),aT=new Set(["length","size","percentage"]),lT=e=>cl(e,aT,yb),cT=e=>cl(e,"position",yb),uT=new Set(["image","url"]),dT=e=>cl(e,uT,pT),fT=e=>cl(e,"",gT),Ml=()=>!0,cl=(e,t,n)=>{const r=wb.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},hT=e=>nT.test(e)&&!rT.test(e),yb=()=>!1,gT=e=>sT.test(e),pT=e=>iT.test(e),mT=()=>{const e=It("colors"),t=It("spacing"),n=It("blur"),r=It("brightness"),o=It("borderColor"),a=It("borderRadius"),d=It("borderSpacing"),h=It("borderWidth"),m=It("contrast"),g=It("grayscale"),y=It("hueRotate"),v=It("invert"),C=It("gap"),T=It("gradientColorStops"),P=It("gradientColorStopPositions"),_=It("inset"),k=It("margin"),I=It("opacity"),N=It("padding"),S=It("saturate"),D=It("scale"),V=It("sepia"),W=It("skew"),F=It("space"),L=It("translate"),j=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],te=()=>["auto",Ge,t],q=()=>[Ge,t],se=()=>["",xs,qs],re=()=>["auto",Ca,Ge],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],fe=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",Ge],he=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>[Ca,Ge];return{cacheSize:500,separator:":",theme:{colors:[Ml],spacing:[xs,qs],blur:["none","",Xs,Ge],brightness:ue(),borderColor:[e],borderRadius:["none","","full",Xs,Ge],borderSpacing:q(),borderWidth:se(),contrast:ue(),grayscale:ee(),hueRotate:ue(),invert:ee(),gap:q(),gradientColorStops:[e],gradientColorStopPositions:[oT,qs],inset:te(),margin:te(),opacity:ue(),padding:q(),saturate:ue(),scale:ue(),sepia:ee(),skew:ue(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[Xs]}],"break-after":[{"break-after":he()}],"break-before":[{"break-before":he()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Ge]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Dl,Ge]}],basis:[{basis:te()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",Dl,Ge]}],"grid-cols":[{"grid-cols":[Ml]}],"col-start-end":[{col:["auto",{span:["full",Dl,Ge]},Ge]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[Ml]}],"row-start-end":[{row:["auto",{span:[Dl,Ge]},Ge]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[C]}],"gap-x":[{"gap-x":[C]}],"gap-y":[{"gap-y":[C]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ge,t]}],"min-w":[{"min-w":[Ge,t,"min","max","fit"]}],"max-w":[{"max-w":[Ge,t,"none","full","min","max","fit","prose",{screen:[Xs]},Xs]}],h:[{h:[Ge,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ge,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Xs,qs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Uh]}],"font-family":[{font:[Ml]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",Ca,Uh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xs,Ge]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[I]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[I]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xs,qs]}],"underline-offset":[{"underline-offset":["auto",xs,Ge]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[I]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),cT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[I]}],"border-style":[{border:[...fe(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[I]}],"divide-style":[{divide:fe()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...fe()]}],"outline-offset":[{"outline-offset":[xs,Ge]}],"outline-w":[{outline:[xs,qs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[I]}],"ring-offset-w":[{"ring-offset":[xs,qs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Xs,fT]}],"shadow-color":[{shadow:[Ml]}],opacity:[{opacity:[I]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",Xs,Ge]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[v]}],saturate:[{saturate:[S]}],sepia:[{sepia:[V]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[I]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:ue()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Dl,Ge]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[W]}],"skew-y":[{"skew-y":[W]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xs,qs,Uh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xT=Z8(mT);function De(...e){return xT(ib(e))}function Pd(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function w1(e){return new Intl.DateTimeFormat("pt-BR").format(new Date(e))}const wT=E8,vb=E.forwardRef(({className:e,...t},n)=>p.jsx(Z2,{ref:n,className:De("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));vb.displayName=Z2.displayName;const yT=al("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bb=E.forwardRef(({className:e,variant:t,...n},r)=>p.jsx(J2,{ref:r,className:De(yT({variant:t}),e),...n}));bb.displayName=J2.displayName;const vT=E.forwardRef(({className:e,...t},n)=>p.jsx(nb,{ref:n,className:De("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));vT.displayName=nb.displayName;const Eb=E.forwardRef(({className:e,...t},n)=>p.jsx(rb,{ref:n,className:De("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:p.jsx(ll,{className:"h-4 w-4"})}));Eb.displayName=rb.displayName;const Cb=E.forwardRef(({className:e,...t},n)=>p.jsx(eb,{ref:n,className:De("text-sm font-semibold",e),...t}));Cb.displayName=eb.displayName;const Sb=E.forwardRef(({className:e,...t},n)=>p.jsx(tb,{ref:n,className:De("text-sm opacity-90",e),...t}));Sb.displayName=tb.displayName;function bT(){const{toasts:e}=qr();return p.jsxs(wT,{children:[e.map(function({id:t,title:n,description:r,action:o,...a}){return p.jsxs(bb,{...a,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(Cb,{children:n}),r&&p.jsx(Sb,{children:r})]}),o,p.jsx(Eb,{})]},t)}),p.jsx(vb,{})]})}const ET="modulepreload",CT=function(e){return"/"+e},Bx={},Vc=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=Promise.allSettled(n.map(m=>{if(m=CT(m),m in Bx)return;Bx[m]=!0;const g=m.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":ET,g||(v.as="script"),v.crossOrigin="",v.href=m,h&&v.setAttribute("nonce",h),document.head.appendChild(v),g)return new Promise((C,T)=>{v.addEventListener("load",C),v.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return o.then(d=>{for(const h of d||[])h.status==="rejected"&&a(h.reason);return t().catch(a)})},ST=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Vc(async()=>{const{default:r}=await Promise.resolve().then(()=>ul);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class tp extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class AT extends tp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _T extends tp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class NT extends tp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var y1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(y1||(y1={}));var TT=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?a(y.value):o(y.value).then(h,m)}g((r=r.apply(e,t||[])).next())})};class IT{constructor(t,{headers:n={},customFetch:r,region:o=y1.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=ST(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return TT(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:d}=n;let h={},{region:m}=n;m||(m=this.region),m&&m!=="any"&&(h["x-region"]=m);let g;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=d):typeof d=="string"?(h["Content-Type"]="text/plain",g=d):typeof FormData<"u"&&d instanceof FormData?g=d:(h["Content-Type"]="application/json",g=JSON.stringify(d)));const y=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:g}).catch(P=>{throw new AT(P)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new _T(y);if(!y.ok)throw new NT(y);let C=((r=y.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),T;return C==="application/json"?T=yield y.json():C==="application/octet-stream"?T=yield y.blob():C==="text/event-stream"?T=y:C==="multipart/form-data"?T=yield y.formData():T=yield y.text(),{data:T,error:null}}catch(o){return{data:null,error:o}}})}}var Xn={},np={},yf={},Wc={},vf={},bf={},RT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Za=RT();const OT=Za.fetch,Ab=Za.fetch.bind(Za),_b=Za.Headers,kT=Za.Request,PT=Za.Response,ul=Object.freeze(Object.defineProperty({__proto__:null,Headers:_b,Request:kT,Response:PT,default:Ab,fetch:OT},Symbol.toStringTag,{value:"Module"})),DT=NA(ul);var Ef={};Object.defineProperty(Ef,"__esModule",{value:!0});let MT=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ef.default=MT;var Nb=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bf,"__esModule",{value:!0});const jT=Nb(DT),LT=Nb(Ef);let BT=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=jT.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var d,h,m;let g=null,y=null,v=null,C=a.status,T=a.statusText;if(a.ok){if(this.method!=="HEAD"){const I=await a.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=I:y=JSON.parse(I))}const _=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),k=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&k&&k.length>1&&(v=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(g={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,v=null,C=406,T="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const _=await a.text();try{g=JSON.parse(_),Array.isArray(g)&&a.status===404&&(y=[],g=null,C=200,T="OK")}catch{a.status===404&&_===""?(C=204,T="No Content"):g={message:_}}if(g&&this.isMaybeSingle&&(!((m=g==null?void 0:g.details)===null||m===void 0)&&m.includes("0 rows"))&&(g=null,C=200,T="OK"),g&&this.shouldThrowOnError)throw new LT.default(g)}return{error:g,data:y,count:v,status:C,statusText:T}});return this.shouldThrowOnError||(o=o.catch(a=>{var d,h,m;return{error:{message:`${(d=a==null?void 0:a.name)!==null&&d!==void 0?d:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(h=a==null?void 0:a.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=a==null?void 0:a.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,n)}returns(){return this}overrideTypes(){return this}};bf.default=BT;var FT=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vf,"__esModule",{value:!0});const UT=FT(bf);let VT=class extends UT.default{select(t){let n=!1;const r=(t??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:a=o}={}){const d=a?`${a}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"offset":`${o}.offset`,d=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(d,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:a=!1,format:d="text"}={}){var h;const m=[t?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${g}"; options=${m};`,d==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};vf.default=VT;var WT=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wc,"__esModule",{value:!0});const zT=WT(vf);let HT=class extends zT.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const d=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${d}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Wc.default=HT;var $T=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yf,"__esModule",{value:!0});const jl=$T(Wc);let GT=class{constructor(t,{headers:n={},schema:r,fetch:o}){this.url=t,this.headers=n,this.schema=r,this.fetch=o}select(t,{head:n=!1,count:r}={}){const o=n?"HEAD":"GET";let a=!1;const d=(t??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",d),r&&(this.headers.Prefer=`count=${r}`),new jl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const o="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const d=t.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new jl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:a=!0}={}){const d="POST",h=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&h.push(this.headers.Prefer),o&&h.push(`count=${o}`),a||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(t)){const m=t.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(m.length>0){const g=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new jl.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new jl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new jl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};yf.default=GT;var Cf={},Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});Sf.version=void 0;Sf.version="0.0.0-automated";Object.defineProperty(Cf,"__esModule",{value:!0});Cf.DEFAULT_HEADERS=void 0;const qT=Sf;Cf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${qT.version}`};var Tb=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(np,"__esModule",{value:!0});const XT=Tb(yf),KT=Tb(Wc),YT=Cf;let QT=class Ib{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},YT.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=o}from(t){const n=new URL(`${this.url}/${t}`);return new XT.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ib(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:a}={}){let d;const h=new URL(`${this.url}/rpc/${t}`);let m;r||o?(d=r?"HEAD":"GET",Object.entries(n).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{h.searchParams.append(y,v)})):(d="POST",m=n);const g=Object.assign({},this.headers);return a&&(g.Prefer=`count=${a}`),new KT.default({method:d,url:h,headers:g,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}};np.default=QT;var dl=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.PostgrestError=Xn.PostgrestBuilder=Xn.PostgrestTransformBuilder=Xn.PostgrestFilterBuilder=Xn.PostgrestQueryBuilder=Xn.PostgrestClient=void 0;const Rb=dl(np);Xn.PostgrestClient=Rb.default;const Ob=dl(yf);Xn.PostgrestQueryBuilder=Ob.default;const kb=dl(Wc);Xn.PostgrestFilterBuilder=kb.default;const Pb=dl(vf);Xn.PostgrestTransformBuilder=Pb.default;const Db=dl(bf);Xn.PostgrestBuilder=Db.default;const Mb=dl(Ef);Xn.PostgrestError=Mb.default;var ZT=Xn.default={PostgrestClient:Rb.default,PostgrestQueryBuilder:Ob.default,PostgrestFilterBuilder:kb.default,PostgrestTransformBuilder:Pb.default,PostgrestBuilder:Db.default,PostgrestError:Mb.default};const{PostgrestClient:JT,PostgrestQueryBuilder:JM,PostgrestFilterBuilder:e7,PostgrestTransformBuilder:t7,PostgrestBuilder:n7,PostgrestError:r7}=ZT;let v1;typeof window>"u"?v1=require("ws"):v1=window.WebSocket;const eI=v1,tI="2.11.10",nI={"X-Client-Info":`realtime-js/${tI}`},rI="1.0.0",jb=1e4,sI=1e3;var Sa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Sa||(Sa={}));var On;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(On||(On={}));var Fr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fr||(Fr={}));var b1;(function(e){e.websocket="websocket"})(b1||(b1={}));var no;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(no||(no={}));class iI{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const o=n.getUint8(1),a=n.getUint8(2);let d=this.HEADER_LENGTH+2;const h=r.decode(t.slice(d,d+o));d=d+o;const m=r.decode(t.slice(d,d+a));d=d+a;const g=JSON.parse(r.decode(t.slice(d,t.byteLength)));return{ref:null,topic:h,event:m,payload:g}}}class Lb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _t;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_t||(_t={}));const Fx=(e,t,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,d)=>(a[d]=oI(d,e,t,o),a),{})},oI=(e,t,n,r)=>{const o=t.find(h=>h.name===e),a=o==null?void 0:o.type,d=n[e];return a&&!r.includes(a)?Bb(a,d):E1(d)},Bb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return uI(t,n)}switch(e){case _t.bool:return aI(t);case _t.float4:case _t.float8:case _t.int2:case _t.int4:case _t.int8:case _t.numeric:case _t.oid:return lI(t);case _t.json:case _t.jsonb:return cI(t);case _t.timestamp:return dI(t);case _t.abstime:case _t.date:case _t.daterange:case _t.int4range:case _t.int8range:case _t.money:case _t.reltime:case _t.text:case _t.time:case _t.timestamptz:case _t.timetz:case _t.tsrange:case _t.tstzrange:return E1(t);default:return E1(t)}},E1=e=>e,aI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},lI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},cI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},uI=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const d=e.slice(1,n);try{a=JSON.parse("["+d+"]")}catch{a=d?d.split(","):[]}return a.map(h=>Bb(t,h))}return e},dI=e=>typeof e=="string"?e.replace(" ","T"):e,Fb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Vh{constructor(t,n,r={},o=jb){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ux;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ux||(Ux={}));class ec{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:a,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ec.syncState(this.state,o,a,d),this.pendingDiffs.forEach(m=>{this.state=ec.syncDiff(this.state,m,a,d)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},o=>{const{onJoin:a,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ec.syncDiff(this.state,o,a,d),h())}),this.onJoin((o,a,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:d})}),this.onLeave((o,a,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){const a=this.cloneDeep(t),d=this.transformState(n),h={},m={};return this.map(a,(g,y)=>{d[g]||(m[g]=y)}),this.map(d,(g,y)=>{const v=a[g];if(v){const C=y.map(k=>k.presence_ref),T=v.map(k=>k.presence_ref),P=y.filter(k=>T.indexOf(k.presence_ref)<0),_=v.filter(k=>C.indexOf(k.presence_ref)<0);P.length>0&&(h[g]=P),_.length>0&&(m[g]=_)}else h[g]=y}),this.syncDiff(a,{joins:h,leaves:m},r,o)}static syncDiff(t,n,r,o){const{joins:a,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(a,(h,m)=>{var g;const y=(g=t[h])!==null&&g!==void 0?g:[];if(t[h]=this.cloneDeep(m),y.length>0){const v=t[h].map(T=>T.presence_ref),C=y.filter(T=>v.indexOf(T.presence_ref)<0);t[h].unshift(...C)}r(h,y,m)}),this.map(d,(h,m)=>{let g=t[h];if(!g)return;const y=m.map(v=>v.presence_ref);g=g.filter(v=>y.indexOf(v.presence_ref)<0),t[h]=g,o(h,g,m),g.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const o=t[r];return"metas"in o?n[r]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Vx||(Vx={}));var Wx;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Wx||(Wx={}));var Es;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Es||(Es={}));class rp{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=On.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Vh(this,Fr.join,this.params,this.timeout),this.rejoinTimer=new Lb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=On.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=On.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fr.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ec(this),this.broadcastEndpointURL=Fb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:d,private:h}}=this.params;this._onError(y=>t==null?void 0:t(Es.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(Es.CLOSED));const m={},g={broadcast:a,presence:d,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&o!==void 0?o:[],private:h};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var v;if(this.socket.setAuth(),y===void 0){t==null||t(Es.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,T=(v=C==null?void 0:C.length)!==null&&v!==void 0?v:0,P=[];for(let _=0;_<T;_++){const k=C[_],{filter:{event:I,schema:N,table:S,filter:D}}=k,V=y&&y[_];if(V&&V.event===I&&V.schema===N&&V.table===S&&V.filter===D)P.push(Object.assign(Object.assign({},k),{id:V.id}));else{this.unsubscribe(),this.state=On.errored,t==null||t(Es.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,t&&t(Es.SUBSCRIBED);return}}).receive("error",y=>{this.state=On.errored,t==null||t(Es.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Es.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:d}=t,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var d,h,m;const g=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&a("ok"),g.receive("ok",()=>a("ok")),g.receive("error",()=>a("error")),g.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=On.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const o=new Vh(this,Fr.leave,{},t);o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const o=new AbortController,a=setTimeout(()=>o.abort(),r),d=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),d}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Vh(this,t,n,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,a;const d=t.toLocaleLowerCase(),{close:h,error:m,leave:g,join:y}=Fr;if(r&&[h,m,g,y].indexOf(d)>=0&&r!==this._joinRef())return;let C=this._onMessage(d,n,r);if(n&&!C)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(T=>{var P,_,k;return((P=T.filter)===null||P===void 0?void 0:P.event)==="*"||((k=(_=T.filter)===null||_===void 0?void 0:_.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===d}).map(T=>T.callback(C,r)):(a=this.bindings[d])===null||a===void 0||a.filter(T=>{var P,_,k,I,N,S;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in T){const D=T.id,V=(P=T.filter)===null||P===void 0?void 0:P.event;return D&&((_=n.ids)===null||_===void 0?void 0:_.includes(D))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const D=(N=(I=T==null?void 0:T.filter)===null||I===void 0?void 0:I.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return D==="*"||D===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===d}).map(T=>{if(typeof C=="object"&&"ids"in C){const P=C.data,{schema:_,table:k,commit_timestamp:I,type:N,errors:S}=P;C=Object.assign(Object.assign({},{schema:_,table:k,commit_timestamp:I,eventType:N,new:{},old:{},errors:S}),this._getPayloadRecords(P))}T.callback(C,r)})}_isClosed(){return this.state===On.closed}_isJoined(){return this.state===On.joined}_isJoining(){return this.state===On.joining}_isLeaving(){return this.state===On.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const o=t.toLocaleLowerCase(),a={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&rp.isEqual(o.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fr.close,{},t)}_onError(t){this._on(Fr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=On.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Fx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Fx(t.columns,t.old_record)),n}}const zx=()=>{},fI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hI{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=nI,this.params={},this.timeout=jb,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zx,this.ref=0,this.logger=zx,this.conn=null,this.sendBuffer=[],this.serializer=new iI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let d;return a?d=a:typeof fetch>"u"?d=(...h)=>Vc(async()=>{const{default:m}=await Promise.resolve().then(()=>ul);return{default:m}},void 0).then(({default:m})=>m(...h)):d=fetch,(...h)=>d(...h)},this.endPoint=`${t}/${b1.websocket}`,this.httpEndpoint=Fb(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,d)=>d(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Lb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=eI),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new gI(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rI}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Sa.connecting:return no.Connecting;case Sa.open:return no.Open;case Sa.closing:return no.Closing;default:return no.Closed}}isConnected(){return this.connectionState()===no.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,o=this.getChannels().find(a=>a.topic===r);if(o)return o;{const a=new rp(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:o,ref:a}=t,d=()=>{this.encode(t,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${n} ${r} (${a})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Fr.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(sI,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:o,payload:a,ref:d}=n;r==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),d&&d===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${o} ${d&&"("+d+")"||""}`,a),Array.from(this.channels).filter(h=>h._isMember(r)).forEach(h=>h._trigger(o,a,d)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([fI],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class gI{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Sa.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class sp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function un(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class pI extends sp{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class C1 extends sp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var mI=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?a(y.value):o(y.value).then(h,m)}g((r=r.apply(e,t||[])).next())})};const Ub=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Vc(async()=>{const{default:r}=await Promise.resolve().then(()=>ul);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},xI=()=>mI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vc(()=>Promise.resolve().then(()=>ul),void 0)).Response:Response}),S1=e=>{if(Array.isArray(e))return e.map(n=>S1(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[o]=S1(r)}),t};var Lo=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?a(y.value):o(y.value).then(h,m)}g((r=r.apply(e,t||[])).next())})};const Wh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wI=(e,t,n)=>Lo(void 0,void 0,void 0,function*(){const r=yield xI();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(o=>{t(new pI(Wh(o),e.status||500))}).catch(o=>{t(new C1(Wh(o),o))}):t(new C1(Wh(e),e))}),yI=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),n))};function zc(e,t,n,r,o,a){return Lo(this,void 0,void 0,function*(){return new Promise((d,h)=>{e(n,yI(t,r,o,a)).then(m=>{if(!m.ok)throw m;return r!=null&&r.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>wI(m,h,r))})})}function Dd(e,t,n,r){return Lo(this,void 0,void 0,function*(){return zc(e,"GET",t,n,r)})}function si(e,t,n,r,o){return Lo(this,void 0,void 0,function*(){return zc(e,"POST",t,r,o,n)})}function vI(e,t,n,r,o){return Lo(this,void 0,void 0,function*(){return zc(e,"PUT",t,r,o,n)})}function bI(e,t,n,r){return Lo(this,void 0,void 0,function*(){return zc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Vb(e,t,n,r,o){return Lo(this,void 0,void 0,function*(){return zc(e,"DELETE",t,r,o,n)})}var Hn=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?a(y.value):o(y.value).then(h,m)}g((r=r.apply(e,t||[])).next())})};const EI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class CI{constructor(t,n={},r,o){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Ub(o)}uploadOrUpdate(t,n,r,o){return Hn(this,void 0,void 0,function*(){try{let a;const d=Object.assign(Object.assign({},Hx),o);let h=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",d.cacheControl),m&&a.append("metadata",this.encodeMetadata(m)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",d.cacheControl),m&&a.append("metadata",this.encodeMetadata(m))):(a=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const g=this._removeEmptyFolders(n),y=this._getFinalPath(g),v=yield this.fetch(`${this.url}/object/${y}`,Object.assign({method:t,body:a,headers:h},d!=null&&d.duplex?{duplex:d.duplex}:{})),C=yield v.json();return v.ok?{data:{path:g,id:C.Id,fullPath:C.Key},error:null}:{data:null,error:C}}catch(a){if(un(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return Hn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),d=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",n);try{let m;const g=Object.assign({upsert:Hx.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",g.cacheControl)):(m=r,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const v=yield this.fetch(h.toString(),{method:"PUT",body:m,headers:y}),C=yield v.json();return v.ok?{data:{path:a,fullPath:C.Key},error:null}:{data:null,error:C}}catch(m){if(un(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(t,n){return Hn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield si(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),d=new URL(this.url+a.url),h=d.searchParams.get("token");if(!h)throw new sp("No token returned by API");return{data:{signedUrl:d.toString(),path:t,token:h},error:null}}catch(r){if(un(r))return{data:null,error:r};throw r}})}update(t,n,r){return Hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Hn(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(un(o))return{data:null,error:o};throw o}})}copy(t,n,r){return Hn(this,void 0,void 0,function*(){try{return{data:{path:(yield si(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(un(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return Hn(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),a=yield si(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const d=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${d}`)},{data:a,error:null}}catch(o){if(un(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return Hn(this,void 0,void 0,function*(){try{const o=yield si(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${a}`):null})),error:null}}catch(o){if(un(o))return{data:null,error:o};throw o}})}download(t,n){return Hn(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=a?`?${a}`:"";try{const h=this._getFinalPath(t);return{data:yield(yield Dd(this.fetch,`${this.url}/${o}/${h}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(un(h))return{data:null,error:h};throw h}})}info(t){return Hn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Dd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:S1(r),error:null}}catch(r){if(un(r))return{data:null,error:r};throw r}})}exists(t){return Hn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield bI(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(un(r)&&r instanceof C1){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&o.push(m);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${g}`)}}}remove(t){return Hn(this,void 0,void 0,function*(){try{return{data:yield Vb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(un(n))return{data:null,error:n};throw n}})}list(t,n,r){return Hn(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},EI),n),{prefix:t||""});return{data:yield si(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(un(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const SI="2.7.1",AI={"X-Client-Info":`storage-js/${SI}`};var Xo=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?a(y.value):o(y.value).then(h,m)}g((r=r.apply(e,t||[])).next())})};class _I{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},AI),n),this.fetch=Ub(r)}listBuckets(){return Xo(this,void 0,void 0,function*(){try{return{data:yield Dd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(un(t))return{data:null,error:t};throw t}})}getBucket(t){return Xo(this,void 0,void 0,function*(){try{return{data:yield Dd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(un(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Xo(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(un(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Xo(this,void 0,void 0,function*(){try{return{data:yield vI(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(un(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Xo(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(un(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Xo(this,void 0,void 0,function*(){try{return{data:yield Vb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(un(n))return{data:null,error:n};throw n}})}}class NI extends _I{constructor(t,n={},r){super(t,n,r)}from(t){return new CI(this.url,this.headers,t,this.fetch)}}const TI="2.50.0";let Wl="";typeof Deno<"u"?Wl="deno":typeof document<"u"?Wl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wl="react-native":Wl="node";const II={"X-Client-Info":`supabase-js-${Wl}/${TI}`},RI={headers:II},OI={schema:"public"},kI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},PI={};var DI=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?a(y.value):o(y.value).then(h,m)}g((r=r.apply(e,t||[])).next())})};const MI=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ab:t=fetch,(...n)=>t(...n)},jI=()=>typeof Headers>"u"?_b:Headers,LI=(e,t,n)=>{const r=MI(n),o=jI();return(a,d)=>DI(void 0,void 0,void 0,function*(){var h;const m=(h=yield t())!==null&&h!==void 0?h:e;let g=new o(d==null?void 0:d.headers);return g.has("apikey")||g.set("apikey",e),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),r(a,Object.assign(Object.assign({},d),{headers:g}))})};var BI=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?a(y.value):o(y.value).then(h,m)}g((r=r.apply(e,t||[])).next())})};function FI(e){return e.endsWith("/")?e:e+"/"}function UI(e,t){var n,r;const{db:o,auth:a,realtime:d,global:h}=e,{db:m,auth:g,realtime:y,global:v}=t,C={db:Object.assign(Object.assign({},m),o),auth:Object.assign(Object.assign({},g),a),realtime:Object.assign(Object.assign({},y),d),global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>BI(this,void 0,void 0,function*(){return""})};return e.accessToken?C.accessToken=e.accessToken:delete C.accessToken,C}const Wb="2.70.0",na=30*1e3,A1=3,zh=A1*na,VI="http://localhost:9999",WI="supabase.auth.token",zI={"X-Client-Info":`gotrue-js/${Wb}`},_1="X-Supabase-Api-Version",zb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$I=6e5;class ip extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ze(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class GI extends ip{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function qI(e){return ze(e)&&e.name==="AuthApiError"}class Hb extends ip{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Wi extends ip{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}}class ei extends Wi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function XI(e){return ze(e)&&e.name==="AuthSessionMissingError"}class Iu extends Wi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ru extends Wi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ou extends Wi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function KI(e){return ze(e)&&e.name==="AuthImplicitGrantRedirectError"}class $x extends Wi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class N1 extends Wi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Hh(e){return ze(e)&&e.name==="AuthRetryableFetchError"}class Gx extends Wi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class tc extends Wi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Md="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qx=` 	
\r=`.split(""),YI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qx.length;t+=1)e[qx[t].charCodeAt(0)]=-2;for(let t=0;t<Md.length;t+=1)e[Md[t].charCodeAt(0)]=t;return e})();function Xx(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Md[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Md[r]),t.queuedBits-=6}}function $b(e,t,n){const r=YI[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Kx(e){const t=[],n=d=>{t.push(String.fromCodePoint(d))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=d=>{JI(d,r,n)};for(let d=0;d<e.length;d+=1)$b(e.charCodeAt(d),o,a);return t.join("")}function QI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ZI(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}QI(r,t)}}function JI(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function e6(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)$b(e.charCodeAt(o),n,r);return new Uint8Array(t)}function t6(e){const t=[];return ZI(e,n=>t.push(n)),new Uint8Array(t)}function n6(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>Xx(o,n,r)),Xx(null,n,r),t.join("")}function r6(e){return Math.round(Date.now()/1e3)+e}function s6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Dr=()=>typeof window<"u"&&typeof document<"u",Qi={tested:!1,writable:!1},nc=()=>{if(!Dr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qi.tested)return Qi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Qi.tested=!0,Qi.writable=!0}catch{Qi.tested=!0,Qi.writable=!1}return Qi.writable};function i6(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{t[a]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}const Gb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Vc(async()=>{const{default:r}=await Promise.resolve().then(()=>ul);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},o6=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",qb=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ku=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Pu=async(e,t)=>{await e.removeItem(t)};class Af{constructor(){this.promise=new Af.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Af.promiseConstructor=Promise;function $h(e){const t=e.split(".");if(t.length!==3)throw new tc("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!HI.test(t[r]))throw new tc("JWT not in base64url format");return{header:JSON.parse(Kx(t[0])),payload:JSON.parse(Kx(t[1])),signature:e6(t[2]),raw:{header:t[0],payload:t[1]}}}async function a6(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function l6(e,t){return new Promise((r,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const d=await e(a);if(!t(a,null,d)){r(d);return}}catch(d){if(!t(a,d)){o(d);return}}})()})}function c6(e){return("0"+e.toString(16)).substr(-2)}function u6(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,c6).join("")}async function d6(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function f6(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await d6(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ko(e,t,n=!1){const r=u6();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await qb(e,`${t}-code-verifier`,o);const a=await f6(r);return[a,r===a?"plain":"s256"]}const h6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function g6(e){const t=e.headers.get(_1);if(!t||!t.match(h6))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function p6(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function m6(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const x6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yo(e){if(!x6.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var w6=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const eo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),y6=[502,503,504];async function Yx(e){var t;if(!o6(e))throw new N1(eo(e),0);if(y6.includes(e.status))throw new N1(eo(e),e.status);let n;try{n=await e.json()}catch(a){throw new Hb(eo(a),a)}let r;const o=g6(e);if(o&&o.getTime()>=zb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Gx(eo(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ei}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,d)=>a&&typeof d=="string",!0))throw new Gx(eo(n),e.status,n.weak_password.reasons);throw new GI(eo(n),e.status||500,r)}const v6=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function Ze(e,t,n,r){var o;const a=Object.assign({},r==null?void 0:r.headers);a[_1]||(a[_1]=zb["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const d=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(d.redirect_to=r.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await b6(e,t,n+h,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(m):{data:Object.assign({},m),error:null}}async function b6(e,t,n,r,o,a){const d=v6(t,r,o,a);let h;try{h=await e(n,Object.assign({},d))}catch(m){throw console.error(m),new N1(eo(m),0)}if(h.ok||await Yx(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(m){await Yx(m)}}function ys(e){var t;let n=null;A6(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=r6(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Qx(e){const t=ys(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ai(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function E6(e){return{data:e,error:null}}function C6(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a}=e,d=w6(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a},m=Object.assign({},d);return{data:{properties:h,user:m},error:null}}function S6(e){return e}function A6(e){return e.access_token&&e.refresh_token&&e.expires_in}const Gh=["global","local","others"];var _6=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};class N6{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Gb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Gh[0]){if(Gh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gh.join(", ")}`);try{return await Ze(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ai})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=_6(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await Ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:C6,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ze(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ai})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,a,d,h,m;try{const g={nextPage:null,lastPage:0,total:0},y=await Ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:S6});if(y.error)throw y.error;const v=await y.json(),C=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,T=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return T.length>0&&(T.forEach(P=>{const _=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(P.split(";")[1].split("=")[1]);g[`${k}Page`]=_}),g.total=parseInt(C)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(ze(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){Yo(t);try{return await Ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ai})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Yo(t);try{return await Ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ai})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Yo(t);try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ai})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Yo(t.userId);try{const{data:n,error:r}=await Ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Yo(t.userId),Yo(t.id);try{return{data:await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}}const T6={getItem:e=>nc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{nc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{nc()&&globalThis.localStorage.removeItem(e)}};function Zx(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function I6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qo={debug:!!(globalThis&&nc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class R6 extends Xb{}async function O6(e,t,n){Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new R6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}I6();const k6={url:VI,storageKey:WI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jx(e,t,n){return await n()}class Sc{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Sc.nextInstanceID,Sc.nextInstanceID+=1,this.instanceID>0&&Dr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},k6),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new N6({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Gb(o.fetch),this.lock=o.lock||Jx,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Dr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=O6:this.lock=Jx,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:nc()?this.storage=T6:(this.memoryStorage={},this.storage=Zx(this.memoryStorage)):(this.memoryStorage={},this.storage=Zx(this.memoryStorage)),Dr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Wb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=i6(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Dr()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),KI(a)){const m=(t=a.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:d,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ze(n)?{error:n}:{error:new Hb("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,o;try{const a=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:ys}),{data:d,error:h}=a;if(h||!d)return{data:{user:null,session:null},error:h};const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,o;try{let a;if("email"in t){const{email:y,password:v,options:C}=t;let T=null,P=null;this.flowType==="pkce"&&([T,P]=await Ko(this.storage,this.storageKey)),a=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:C==null?void 0:C.emailRedirectTo,body:{email:y,password:v,data:(n=C==null?void 0:C.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken},code_challenge:T,code_challenge_method:P},xform:ys})}else if("phone"in t){const{phone:y,password:v,options:C}=t;a=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(r=C==null?void 0:C.data)!==null&&r!==void 0?r:{},channel:(o=C==null?void 0:C.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken}},xform:ys})}else throw new Ru("You must provide either an email or phone number and a password");const{data:d,error:h}=a;if(h||!d)return{data:{user:null,session:null},error:h};const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:d,options:h}=t;n=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Qx})}else if("phone"in t){const{phone:a,password:d,options:h}=t;n=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Qx})}else throw new Ru("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Iu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,o,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,o,a,d,h,m,g,y,v,C,T;let P,_;if("message"in t)P=t.message,_=t.signature;else{const{chain:k,wallet:I,statement:N,options:S}=t;let D;if(Dr())if(typeof I=="object")D=I;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))D=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=I}const V=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const W=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),N?{statement:N}:null));let F;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")F=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)F=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)P=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),_=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${V.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(o=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((h=S==null?void 0:S.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((m=S==null?void 0:S.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((g=S==null?void 0:S.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((v=(y=S==null?void 0:S.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...S.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const W=await D.signMessage(new TextEncoder().encode(P),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=W}}try{const{data:k,error:I}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:n6(_)},!((C=t.options)===null||C===void 0)&&C.captchaToken?{gotrue_meta_security:{captcha_token:(T=t.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:ys});if(I)throw I;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Iu}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:I})}catch(k){if(ze(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const n=await ku(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:a,error:d}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ys});if(await Pu(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Iu}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:d})}catch(a){if(ze(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:o,access_token:a,nonce:d}=t,h=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:d,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ys}),{data:m,error:g}=h;return g?{data:{user:null,session:null},error:g}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Iu}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:g})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,o,a,d;try{if("email"in t){const{email:h,options:m}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Ko(this.storage,this.storageKey));const{error:v}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(r=m==null?void 0:m.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:h,options:m}=t,{data:g,error:y}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=m==null?void 0:m.data)!==null&&o!==void 0?o:{},create_user:(a=m==null?void 0:m.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(d=m==null?void 0:m.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:y}}throw new Ru("You must provide either an email or phone number.")}catch(h){if(ze(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(t){var n,r;try{let o,a;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:d,error:h}=await Ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:ys});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,g=d.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(o){if(ze(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var n,r,o;try{let a=null,d=null;return this.flowType==="pkce"&&([a,d]=await Ko(this.storage,this.storageKey)),await Ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:d}),headers:this.headers,xform:E6})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ei;const{error:o}=await Ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(ze(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:a}=t,{error:d}=await Ze(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in t){const{phone:r,type:o,options:a}=t,{data:d,error:h}=await Ze(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new Ru("You must provide either an email or phone number and a type")}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ku(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<zh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let d=this.suppressGetSessionWarning;t=new Proxy(t,{get:(m,g,y)=>(!d&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,g,y))})}return{data:{session:t},error:null}}const{session:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ai}):await this._useSession(async n=>{var r,o,a;const{data:d,error:h}=n;if(h)throw h;return!(!((r=d.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ei}:await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:ai})})}catch(n){if(ze(n))return XI(n)&&(await this._removeSession(),await Pu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new ei;const d=o.session;let h=null,m=null;this.flowType==="pkce"&&t.email!=null&&([h,m]=await Ko(this.storage,this.storageKey));const{data:g,error:y}=await Ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:m}),jwt:d.access_token,xform:ai});if(y)throw y;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ei;const n=Date.now()/1e3;let r=n,o=!0,a=null;const{payload:d}=$h(t.access_token);if(d.exp&&(r=d.exp,o=r<=n),o){const{session:h,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:m}=await this._getUser(t.access_token);if(m)throw m;a={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(ze(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:d,error:h}=n;if(h)throw h;t=(r=d.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ei;const{session:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Dr())throw new Ou("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ou(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $x("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ou("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $x("No code detected.");const{data:N,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:d,expires_in:h,expires_at:m,token_type:g}=t;if(!a||!h||!d||!g)throw new Ou("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(h);let C=y+v;m&&(C=parseInt(m));const T=C-y;T*1e3<=na&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${v}s`);const P=C-v;y-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,C,y):y-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,C,y);const{data:_,error:k}=await this._getUser(a);if(k)throw k;const I={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:v,expires_at:C,refresh_token:d,token_type:g,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:t.type},error:null}}catch(r){if(ze(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ku(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{error:a};const d=(r=o.session)===null||r===void 0?void 0:r.access_token;if(d){const{error:h}=await this.admin.signOut(d,t);if(h&&!(qI(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return t!=="others"&&(await this._removeSession(),await Pu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=s6(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,o;try{const{data:{session:a},error:d}=n;if(d)throw d;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Ko(this.storage,this.storageKey,!0));try{return await Ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:o}=await this._useSession(async a=>{var d,h,m,g,y;const{data:v,error:C}=a;if(C)throw C;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Ze(this.fetch,"GET",T,{headers:this.headers,jwt:(y=(g=v.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return Dr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ze(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,o;const{data:a,error:d}=n;if(d)throw d;return await Ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await l6(async o=>(o>0&&await a6(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ys})),(o,a)=>{const d=200*Math.pow(2,o);return a&&Hh(a)&&Date.now()+d-r<na})}catch(r){if(this._debug(n,"error",r),ze(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Dr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ku(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<zh;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${zh}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),Hh(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ei;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Af;const{data:a,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!a.session)throw new ei;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={session:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(o,"error",a),ze(a)){const d={session:null,error:a};return Hh(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(m){a.push(m)}});if(await Promise.all(d),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await qb(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Pu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Dr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),na);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/na);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${na}ms, refresh threshold is ${A1} ticks`),o<=A1&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Xb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,d]=await Ko(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(h.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await Ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,o;const{data:a,error:d}=n;if(d)return{data:null,error:d};const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:m,error:g}=await Ze(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return g?{data:null,error:g}:(t.factorType==="totp"&&(!((o=m==null?void 0:m.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{data:null,error:a};const{data:d,error:h}=await Ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(n){if(ze(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await Ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ze(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],o=r.filter(d=>d.factor_type==="totp"&&d.status==="verified"),a=r.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:r,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:o},error:a}=t;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=$h(o.access_token);let h=null;d.aal&&(h=d.aal);let m=h;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const y=d.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(d=>d.kid===t);if(r||(r=this.jwks.keys.find(d=>d.kid===t),r&&this.jwks_cached_at+$I>Date.now()))return r;const{data:o,error:a}=await Ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!o.keys||o.keys.length===0)throw new tc("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),r=o.keys.find(d=>d.kid===t),!r)throw new tc("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:T,error:P}=await this.getSession();if(P||!T.session)return{data:null,error:P};r=T.session.access_token}const{header:o,payload:a,signature:d,raw:{header:h,payload:m}}=$h(r);if(p6(a.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:T}=await this.getUser(r);if(T)throw T;return{data:{claims:a,header:o,signature:d},error:null}}const g=m6(o.alg),y=await this.fetchJwk(o.kid,n),v=await crypto.subtle.importKey("jwk",y,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,d,t6(`${h}.${m}`)))throw new tc("Invalid JWT signature");return{data:{claims:a,header:o,signature:d},error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}}Sc.nextInstanceID=0;const P6=Sc;class D6 extends P6{constructor(t){super(t)}}var M6=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?a(y.value):o(y.value).then(h,m)}g((r=r.apply(e,t||[])).next())})};class j6{constructor(t,n,r){var o,a,d;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=FI(t),m=new URL(h);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,y={db:OI,realtime:PI,auth:Object.assign(Object.assign({},kI),{storageKey:g}),global:RI},v=UI(r??{},y);this.storageKey=(o=v.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=v.global.headers)!==null&&a!==void 0?a:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(C,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=v.auth)!==null&&d!==void 0?d:{},this.headers,v.global.fetch),this.fetch=LI(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new JT(new URL("rest/v1",m).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new IT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new NI(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return M6(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:a,flowType:d,lock:h,debug:m},g,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new D6({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),g),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,flowType:d,lock:h,debug:m,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new hI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const L6=(e,t,n)=>new j6(e,t,n),B6="https://nvwscxburlixyqkbhfux.supabase.co",F6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im52d3NjeGJ1cmxpeHlxa2JoZnV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA1Mjk1MTEsImV4cCI6MjA2NjEwNTUxMX0.ppBJapu82yVC7wBeXqZlkgceMGLpPt9VA58AOSmUlhI",ct=L6(B6,F6),Kb=E.createContext(void 0);function U6({children:e}){const[t,n]=E.useState(null),[r,o]=E.useState(null),[a,d]=E.useState(null),[h,m]=E.useState(!0),g=Ls(),y=()=>{n(null),o(null),d(null),localStorage.removeItem("supabase.auth.token")},v=async N=>{try{const{data:S,error:D}=await ct.from("profiles").select("*").eq("id",N.id).single();if(D){if(console.error("Erro ao carregar perfil:",D),D.code==="PGRST116"){await _();return}throw D}if((S==null?void 0:S.is_active)===!1){g("/acesso-negado",{replace:!0});return}if(o(S),S!=null&&S.company_id){const{data:V,error:W}=await ct.from("companies").select("*").eq("id",S.company_id).single();W?console.error("Erro ao carregar empresa:",W):d(V)}}catch(S){console.error("Erro ao carregar dados do usuário:",S),await _()}},C=async()=>{var N;try{const{data:{session:S},error:D}=await ct.auth.getSession();if(D){console.error("Erro ao verificar sessão:",D),y(),m(!1);return}if(S!=null&&S.user){const{error:V}=await ct.from("profiles").select("id").limit(1);if(V&&(V.code==="invalid_token"||(N=V.message)!=null&&N.includes("JWT"))){await _();return}n(S.user),await v(S.user)}else y()}catch(S){console.error("Erro ao verificar sessão:",S),y()}finally{m(!1)}},T=async(N,S)=>{const{data:D,error:V}=await ct.auth.signInWithPassword({email:N,password:S});if(V)throw new Error("Email ou senha inválidos.");if(D.user){const{data:W,error:F}=await ct.from("profiles").select("is_active").eq("id",D.user.id).single();return F||!(W!=null&&W.is_active)?(await ct.auth.signOut(),"inactive"):(n(D.user),await v(D.user),"success")}throw new Error("Erro inesperado.")},P=async(N,S,D)=>{const V=`${window.location.origin}/`,{data:W,error:F}=await ct.auth.signUp({email:N,password:S,options:{emailRedirectTo:V,data:{name:D}}});if(F)throw F;if(W.user){const{error:L}=await ct.from("profiles").insert({id:W.user.id,name:D,email:N,role:"viewer",company_id:""});if(L)throw console.error("Erro ao criar perfil:",L),L}},_=async()=>{try{m(!0),await ct.auth.signOut(),y(),g("/login",{replace:!0})}catch(N){console.error("Erro ao fazer logout:",N),y(),g("/login",{replace:!0})}finally{m(!1)}},k=async N=>{try{const{error:S}=await ct.auth.updateUser({password:N});return S?{success:!1,error:S.message}:{success:!0}}catch(S){return{success:!1,error:S instanceof Error?S.message:"Erro desconhecido"}}};E.useEffect(()=>{C();const{data:{subscription:N}}=ct.auth.onAuthStateChange(async(S,D)=>{S==="SIGNED_IN"&&(D!=null&&D.user)?(n(D.user),setTimeout(()=>{v(D.user)},0)):S==="SIGNED_OUT"?y():S==="TOKEN_REFRESHED"&&(D!=null&&D.user)&&(n(D.user),setTimeout(()=>{v(D.user)},0))});return()=>N.unsubscribe()},[]);const I={user:t,profile:r,company:a,loading:h,signIn:T,signUp:P,signOut:_,updatePassword:k};return p.jsx(Kb.Provider,{value:I,children:e})}function Jn(){const e=E.useContext(Kb);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Ks({children:e,requiredRole:t}){const{user:n,profile:r,loading:o}=Jn(),a=ps();return o?p.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n?r?r.is_active===!1?p.jsx(c1,{to:"/acesso-negado",replace:!0}):t&&r.role!==t&&r.role!=="admin"?p.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Acesso Negado"}),p.jsx("p",{className:"text-gray-600 mt-2",children:"Você não tem permissão para acessar esta página"})]})}):p.jsx(p.Fragment,{children:e}):p.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Carregando perfil..."}),p.jsx("p",{className:"text-gray-600 mt-2",children:"Configurando sua conta"})]})}):p.jsx(c1,{to:"/login",state:{from:a},replace:!0})}function V6(){const{profile:e}=Jn(),t=ps(),n=[{name:"Dashboard",href:"/dashboard",icon:fb},{name:"Ativos",href:"/assets",icon:Yt},...(e==null?void 0:e.role)==="admin"?[{name:"Usuários",href:"/users",icon:kd}]:[],{name:"Meu Perfil",href:"/profile",icon:Od}];return p.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:p.jsxs("div",{className:"flex flex-col flex-grow pt-5 bg-white border-r border-gray-200 overflow-y-auto",children:[p.jsx("div",{className:"flex items-center flex-shrink-0 px-6 pb-4",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-600 rounded-lg",children:p.jsx(Yt,{className:"h-6 w-6 text-white"})}),p.jsx("div",{children:p.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Armazena App"})})]})}),p.jsx("div",{className:"mt-5 flex-grow flex flex-col",children:p.jsx("nav",{className:"flex-1 px-4 space-y-2",children:n.map(r=>{const o=t.pathname===r.href;return p.jsxs(Ao,{to:r.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${o?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[p.jsx(r.icon,{className:`mr-3 flex-shrink-0 h-5 w-5 ${o?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}`}),r.name]},r.name)})})})]})})}const op=al("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),He=E.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},a)=>{const d=r?_o:"button";return p.jsx(d,{className:De(op({variant:t,size:n,className:e})),ref:a,...o})});He.displayName="Button";var W6=iy.useId||(()=>{}),z6=0;function xo(e){const[t,n]=E.useState(W6());return Tn(()=>{n(r=>r??String(z6++))},[e]),t?`radix-${t}`:""}var qh="focusScope.autoFocusOnMount",Xh="focusScope.autoFocusOnUnmount",ew={bubbles:!1,cancelable:!0},H6="FocusScope",ap=E.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...d}=e,[h,m]=E.useState(null),g=ur(o),y=ur(a),v=E.useRef(null),C=xt(t,_=>m(_)),T=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let _=function(S){if(T.paused||!h)return;const D=S.target;h.contains(D)?v.current=D:ti(v.current,{select:!0})},k=function(S){if(T.paused||!h)return;const D=S.relatedTarget;D!==null&&(h.contains(D)||ti(v.current,{select:!0}))},I=function(S){if(document.activeElement===document.body)for(const V of S)V.removedNodes.length>0&&ti(h)};document.addEventListener("focusin",_),document.addEventListener("focusout",k);const N=new MutationObserver(I);return h&&N.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",k),N.disconnect()}}},[r,h,T.paused]),E.useEffect(()=>{if(h){nw.add(T);const _=document.activeElement;if(!h.contains(_)){const I=new CustomEvent(qh,ew);h.addEventListener(qh,g),h.dispatchEvent(I),I.defaultPrevented||($6(Y6(Yb(h)),{select:!0}),document.activeElement===_&&ti(h))}return()=>{h.removeEventListener(qh,g),setTimeout(()=>{const I=new CustomEvent(Xh,ew);h.addEventListener(Xh,y),h.dispatchEvent(I),I.defaultPrevented||ti(_??document.body,{select:!0}),h.removeEventListener(Xh,y),nw.remove(T)},0)}}},[h,g,y,T]);const P=E.useCallback(_=>{if(!n&&!r||T.paused)return;const k=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,I=document.activeElement;if(k&&I){const N=_.currentTarget,[S,D]=G6(N);S&&D?!_.shiftKey&&I===D?(_.preventDefault(),n&&ti(S,{select:!0})):_.shiftKey&&I===S&&(_.preventDefault(),n&&ti(D,{select:!0})):I===N&&_.preventDefault()}},[n,r,T.paused]);return p.jsx(Ye.div,{tabIndex:-1,...d,ref:C,onKeyDown:P})});ap.displayName=H6;function $6(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ti(r,{select:t}),document.activeElement!==n)return}function G6(e){const t=Yb(e),n=tw(t,e),r=tw(t.reverse(),e);return[n,r]}function Yb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function tw(e,t){for(const n of e)if(!q6(n,{upTo:t}))return n}function q6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function X6(e){return e instanceof HTMLInputElement&&"select"in e}function ti(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&X6(e)&&t&&e.select()}}var nw=K6();function K6(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=rw(e,t),e.unshift(t)},remove(t){var n;e=rw(e,t),(n=e[0])==null||n.resume()}}}function rw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Y6(e){return e.filter(t=>t.tagName!=="A")}var Kh=0;function Qb(){E.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??sw()),document.body.insertAdjacentElement("beforeend",e[1]??sw()),Kh++,()=>{Kh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Kh--}},[])}function sw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var cs=function(){return cs=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},cs.apply(this,arguments)};function Zb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Q6(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var ed="right-scroll-bar-position",td="width-before-scroll-bar",Z6="with-scroll-bars-hidden",J6="--removed-body-scroll-bar-size";function Yh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function eR(e,t){var n=E.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var tR=typeof window<"u"?E.useLayoutEffect:E.useEffect,iw=new WeakMap;function nR(e,t){var n=eR(null,function(r){return e.forEach(function(o){return Yh(o,r)})});return tR(function(){var r=iw.get(n);if(r){var o=new Set(r),a=new Set(e),d=n.current;o.forEach(function(h){a.has(h)||Yh(h,null)}),a.forEach(function(h){o.has(h)||Yh(h,d)})}iw.set(n,e)},[e]),n}function rR(e){return e}function sR(e,t){t===void 0&&(t=rR);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var d=t(a,r);return n.push(d),function(){n=n.filter(function(h){return h!==d})}},assignSyncMedium:function(a){for(r=!0;n.length;){var d=n;n=[],d.forEach(a)}n={push:function(h){return a(h)},filter:function(){return n}}},assignMedium:function(a){r=!0;var d=[];if(n.length){var h=n;n=[],h.forEach(a),d=n}var m=function(){var y=d;d=[],y.forEach(a)},g=function(){return Promise.resolve().then(m)};g(),n={push:function(y){d.push(y),g()},filter:function(y){return d=d.filter(y),n}}}};return o}function iR(e){e===void 0&&(e={});var t=sR(null);return t.options=cs({async:!0,ssr:!1},e),t}var Jb=function(e){var t=e.sideCar,n=Zb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,cs({},n))};Jb.isSideCarExport=!0;function oR(e,t){return e.useMedium(t),Jb}var eE=iR(),Qh=function(){},_f=E.forwardRef(function(e,t){var n=E.useRef(null),r=E.useState({onScrollCapture:Qh,onWheelCapture:Qh,onTouchMoveCapture:Qh}),o=r[0],a=r[1],d=e.forwardProps,h=e.children,m=e.className,g=e.removeScrollBar,y=e.enabled,v=e.shards,C=e.sideCar,T=e.noIsolation,P=e.inert,_=e.allowPinchZoom,k=e.as,I=k===void 0?"div":k,N=e.gapMode,S=Zb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=C,V=nR([n,t]),W=cs(cs({},S),o);return E.createElement(E.Fragment,null,y&&E.createElement(D,{sideCar:eE,removeScrollBar:g,shards:v,noIsolation:T,inert:P,setCallbacks:a,allowPinchZoom:!!_,lockRef:n,gapMode:N}),d?E.cloneElement(E.Children.only(h),cs(cs({},W),{ref:V})):E.createElement(I,cs({},W,{className:m,ref:V}),h))});_f.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_f.classNames={fullWidth:td,zeroRight:ed};var aR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lR(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=aR();return t&&e.setAttribute("nonce",t),e}function cR(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function uR(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var dR=function(){var e=0,t=null;return{add:function(n){e==0&&(t=lR())&&(cR(t,n),uR(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},fR=function(){var e=dR();return function(t,n){E.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},tE=function(){var e=fR(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},hR={left:0,top:0,right:0,gap:0},Zh=function(e){return parseInt(e||"",10)||0},gR=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Zh(n),Zh(r),Zh(o)]},pR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return hR;var t=gR(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},mR=tE(),Aa="data-scroll-locked",xR=function(e,t,n,r){var o=e.left,a=e.top,d=e.right,h=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Z6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(h,"px ").concat(r,`;
  }
  body[`).concat(Aa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(h,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ed,` {
    right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(td,` {
    margin-right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(ed," .").concat(ed,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(td," .").concat(td,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Aa,`] {
    `).concat(J6,": ").concat(h,`px;
  }
`)},ow=function(){var e=parseInt(document.body.getAttribute(Aa)||"0",10);return isFinite(e)?e:0},wR=function(){E.useEffect(function(){return document.body.setAttribute(Aa,(ow()+1).toString()),function(){var e=ow()-1;e<=0?document.body.removeAttribute(Aa):document.body.setAttribute(Aa,e.toString())}},[])},yR=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;wR();var a=E.useMemo(function(){return pR(o)},[o]);return E.createElement(mR,{styles:xR(a,!t,o,n?"":"!important")})},T1=!1;if(typeof window<"u")try{var Du=Object.defineProperty({},"passive",{get:function(){return T1=!0,!0}});window.addEventListener("test",Du,Du),window.removeEventListener("test",Du,Du)}catch{T1=!1}var Zo=T1?{passive:!1}:!1,vR=function(e){return e.tagName==="TEXTAREA"},nE=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!vR(e)&&n[t]==="visible")},bR=function(e){return nE(e,"overflowY")},ER=function(e){return nE(e,"overflowX")},aw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=rE(e,r);if(o){var a=sE(e,r),d=a[1],h=a[2];if(d>h)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},CR=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},SR=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},rE=function(e,t){return e==="v"?bR(t):ER(t)},sE=function(e,t){return e==="v"?CR(t):SR(t)},AR=function(e,t){return e==="h"&&t==="rtl"?-1:1},_R=function(e,t,n,r,o){var a=AR(e,window.getComputedStyle(t).direction),d=a*r,h=n.target,m=t.contains(h),g=!1,y=d>0,v=0,C=0;do{var T=sE(e,h),P=T[0],_=T[1],k=T[2],I=_-k-a*P;(P||I)&&rE(e,h)&&(v+=I,C+=P),h instanceof ShadowRoot?h=h.host:h=h.parentNode}while(!m&&h!==document.body||m&&(t.contains(h)||t===h));return(y&&(Math.abs(v)<1||!o)||!y&&(Math.abs(C)<1||!o))&&(g=!0),g},Mu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},lw=function(e){return[e.deltaX,e.deltaY]},cw=function(e){return e&&"current"in e?e.current:e},NR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},TR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},IR=0,Jo=[];function RR(e){var t=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),o=E.useState(IR++)[0],a=E.useState(tE)[0],d=E.useRef(e);E.useEffect(function(){d.current=e},[e]),E.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var _=Q6([e.lockRef.current],(e.shards||[]).map(cw),!0).filter(Boolean);return _.forEach(function(k){return k.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),_.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var h=E.useCallback(function(_,k){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!d.current.allowPinchZoom;var I=Mu(_),N=n.current,S="deltaX"in _?_.deltaX:N[0]-I[0],D="deltaY"in _?_.deltaY:N[1]-I[1],V,W=_.target,F=Math.abs(S)>Math.abs(D)?"h":"v";if("touches"in _&&F==="h"&&W.type==="range")return!1;var L=aw(F,W);if(!L)return!0;if(L?V=F:(V=F==="v"?"h":"v",L=aw(F,W)),!L)return!1;if(!r.current&&"changedTouches"in _&&(S||D)&&(r.current=V),!V)return!0;var j=r.current||V;return _R(j,k,_,j==="h"?S:D,!0)},[]),m=E.useCallback(function(_){var k=_;if(!(!Jo.length||Jo[Jo.length-1]!==a)){var I="deltaY"in k?lw(k):Mu(k),N=t.current.filter(function(V){return V.name===k.type&&(V.target===k.target||k.target===V.shadowParent)&&NR(V.delta,I)})[0];if(N&&N.should){k.cancelable&&k.preventDefault();return}if(!N){var S=(d.current.shards||[]).map(cw).filter(Boolean).filter(function(V){return V.contains(k.target)}),D=S.length>0?h(k,S[0]):!d.current.noIsolation;D&&k.cancelable&&k.preventDefault()}}},[]),g=E.useCallback(function(_,k,I,N){var S={name:_,delta:k,target:I,should:N,shadowParent:OR(I)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(D){return D!==S})},1)},[]),y=E.useCallback(function(_){n.current=Mu(_),r.current=void 0},[]),v=E.useCallback(function(_){g(_.type,lw(_),_.target,h(_,e.lockRef.current))},[]),C=E.useCallback(function(_){g(_.type,Mu(_),_.target,h(_,e.lockRef.current))},[]);E.useEffect(function(){return Jo.push(a),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:C}),document.addEventListener("wheel",m,Zo),document.addEventListener("touchmove",m,Zo),document.addEventListener("touchstart",y,Zo),function(){Jo=Jo.filter(function(_){return _!==a}),document.removeEventListener("wheel",m,Zo),document.removeEventListener("touchmove",m,Zo),document.removeEventListener("touchstart",y,Zo)}},[]);var T=e.removeScrollBar,P=e.inert;return E.createElement(E.Fragment,null,P?E.createElement(a,{styles:TR(o)}):null,T?E.createElement(yR,{gapMode:e.gapMode}):null)}function OR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const kR=oR(eE,RR);var lp=E.forwardRef(function(e,t){return E.createElement(_f,cs({},e,{ref:t,sideCar:kR}))});lp.classNames=_f.classNames;var PR=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ea=new WeakMap,ju=new WeakMap,Lu={},Jh=0,iE=function(e){return e&&(e.host||iE(e.parentNode))},DR=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=iE(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},MR=function(e,t,n,r){var o=DR(t,Array.isArray(e)?e:[e]);Lu[n]||(Lu[n]=new WeakMap);var a=Lu[n],d=[],h=new Set,m=new Set(o),g=function(v){!v||h.has(v)||(h.add(v),g(v.parentNode))};o.forEach(g);var y=function(v){!v||m.has(v)||Array.prototype.forEach.call(v.children,function(C){if(h.has(C))y(C);else try{var T=C.getAttribute(r),P=T!==null&&T!=="false",_=(ea.get(C)||0)+1,k=(a.get(C)||0)+1;ea.set(C,_),a.set(C,k),d.push(C),_===1&&P&&ju.set(C,!0),k===1&&C.setAttribute(n,"true"),P||C.setAttribute(r,"true")}catch(I){console.error("aria-hidden: cannot operate on ",C,I)}})};return y(t),h.clear(),Jh++,function(){d.forEach(function(v){var C=ea.get(v)-1,T=a.get(v)-1;ea.set(v,C),a.set(v,T),C||(ju.has(v)||v.removeAttribute(r),ju.delete(v)),T||v.removeAttribute(n)}),Jh--,Jh||(ea=new WeakMap,ea=new WeakMap,ju=new WeakMap,Lu={})}},oE=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=PR(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),MR(r,o,n,"aria-hidden")):function(){return null}},cp="Dialog",[aE,lE]=Mo(cp),[jR,Xr]=aE(cp),cE=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:d=!0}=e,h=E.useRef(null),m=E.useRef(null),[g=!1,y]=No({prop:r,defaultProp:o,onChange:a});return p.jsx(jR,{scope:t,triggerRef:h,contentRef:m,contentId:xo(),titleId:xo(),descriptionId:xo(),open:g,onOpenChange:y,onOpenToggle:E.useCallback(()=>y(v=>!v),[y]),modal:d,children:n})};cE.displayName=cp;var uE="DialogTrigger",dE=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Xr(uE,n),a=xt(t,o.triggerRef);return p.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":fp(o.open),...r,ref:a,onClick:Ue(e.onClick,o.onOpenToggle)})});dE.displayName=uE;var up="DialogPortal",[LR,fE]=aE(up,{forceMount:void 0}),hE=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,a=Xr(up,t);return p.jsx(LR,{scope:t,forceMount:n,children:E.Children.map(r,d=>p.jsx(jo,{present:n||a.open,children:p.jsx(gf,{asChild:!0,container:o,children:d})}))})};hE.displayName=up;var jd="DialogOverlay",gE=E.forwardRef((e,t)=>{const n=fE(jd,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=Xr(jd,e.__scopeDialog);return a.modal?p.jsx(jo,{present:r||a.open,children:p.jsx(BR,{...o,ref:t})}):null});gE.displayName=jd;var BR=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Xr(jd,n);return p.jsx(lp,{as:_o,allowPinchZoom:!0,shards:[o.contentRef],children:p.jsx(Ye.div,{"data-state":fp(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),To="DialogContent",pE=E.forwardRef((e,t)=>{const n=fE(To,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=Xr(To,e.__scopeDialog);return p.jsx(jo,{present:r||a.open,children:a.modal?p.jsx(FR,{...o,ref:t}):p.jsx(UR,{...o,ref:t})})});pE.displayName=To;var FR=E.forwardRef((e,t)=>{const n=Xr(To,e.__scopeDialog),r=E.useRef(null),o=xt(t,n.contentRef,r);return E.useEffect(()=>{const a=r.current;if(a)return oE(a)},[]),p.jsx(mE,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(e.onCloseAutoFocus,a=>{var d;a.preventDefault(),(d=n.triggerRef.current)==null||d.focus()}),onPointerDownOutside:Ue(e.onPointerDownOutside,a=>{const d=a.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0;(d.button===2||h)&&a.preventDefault()}),onFocusOutside:Ue(e.onFocusOutside,a=>a.preventDefault())})}),UR=E.forwardRef((e,t)=>{const n=Xr(To,e.__scopeDialog),r=E.useRef(!1),o=E.useRef(!1);return p.jsx(mE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var d,h;(d=e.onCloseAutoFocus)==null||d.call(e,a),a.defaultPrevented||(r.current||(h=n.triggerRef.current)==null||h.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{var m,g;(m=e.onInteractOutside)==null||m.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const d=a.target;((g=n.triggerRef.current)==null?void 0:g.contains(d))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),mE=E.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...d}=e,h=Xr(To,n),m=E.useRef(null),g=xt(t,m);return Qb(),p.jsxs(p.Fragment,{children:[p.jsx(ap,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:p.jsx(Fc,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":fp(h.open),...d,ref:g,onDismiss:()=>h.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(WR,{titleId:h.titleId}),p.jsx(HR,{contentRef:m,descriptionId:h.descriptionId})]})]})}),dp="DialogTitle",xE=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Xr(dp,n);return p.jsx(Ye.h2,{id:o.titleId,...r,ref:t})});xE.displayName=dp;var wE="DialogDescription",yE=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Xr(wE,n);return p.jsx(Ye.p,{id:o.descriptionId,...r,ref:t})});yE.displayName=wE;var vE="DialogClose",bE=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Xr(vE,n);return p.jsx(Ye.button,{type:"button",...r,ref:t,onClick:Ue(e.onClick,()=>o.onOpenChange(!1))})});bE.displayName=vE;function fp(e){return e?"open":"closed"}var EE="DialogTitleWarning",[VR,CE]=UN(EE,{contentName:To,titleName:dp,docsSlug:"dialog"}),WR=({titleId:e})=>{const t=CE(EE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return E.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},zR="DialogDescriptionWarning",HR=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${CE(zR).contentName}}.`;return E.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},hp=cE,gp=dE,pp=hE,Hc=gE,$c=pE,Gc=xE,qc=yE,Nf=bE;const $R=hp,GR=gp,qR=pp,SE=E.forwardRef(({className:e,...t},n)=>p.jsx(Hc,{className:De("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));SE.displayName=Hc.displayName;const XR=al("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),AE=E.forwardRef(({side:e="right",className:t,children:n,...r},o)=>p.jsxs(qR,{children:[p.jsx(SE,{}),p.jsxs($c,{ref:o,className:De(XR({side:e}),t),...r,children:[n,p.jsxs(Nf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[p.jsx(ll,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));AE.displayName=$c.displayName;const KR=E.forwardRef(({className:e,...t},n)=>p.jsx(Gc,{ref:n,className:De("text-lg font-semibold text-foreground",e),...t}));KR.displayName=Gc.displayName;const YR=E.forwardRef(({className:e,...t},n)=>p.jsx(qc,{ref:n,className:De("text-sm text-muted-foreground",e),...t}));YR.displayName=qc.displayName;var QR="Separator",uw="horizontal",ZR=["horizontal","vertical"],_E=E.forwardRef((e,t)=>{const{decorative:n,orientation:r=uw,...o}=e,a=JR(r)?r:uw,h=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return p.jsx(Ye.div,{"data-orientation":a,...h,...o,ref:t})});_E.displayName=QR;function JR(e){return ZR.includes(e)}var NE=_E;const mp=E.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},o)=>p.jsx(NE,{ref:o,decorative:n,orientation:t,className:De("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));mp.displayName=NE.displayName;function eO(){const{profile:e,company:t,signOut:n}=Jn(),r=ps(),[o,a]=E.useState(!1),d=[{name:"Dashboard",href:"/dashboard",icon:fb},{name:"Ativos",href:"/assets",icon:Yt},...(e==null?void 0:e.role)==="admin"?[{name:"Usuários",href:"/users",icon:kd}]:[]],h=()=>{a(!1)},m=async()=>{a(!1),await n()};return p.jsxs($R,{open:o,onOpenChange:a,children:[p.jsx(GR,{asChild:!0,children:p.jsx(He,{variant:"ghost",size:"icon",className:"lg:hidden !w-14 !h-14 [&_svg]:!w-8 [&_svg]:!h-8",children:p.jsx(P8,{})})}),p.jsx(AE,{side:"left",className:"w-72 p-0",children:p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsx("div",{className:"p-6 border-b",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-600 rounded-lg",children:p.jsx(Yt,{className:"h-6 w-6 text-white"})}),p.jsxs("div",{className:"min-w-0 flex-1",children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Armazena App"}),t&&p.jsxs("div",{className:"flex items-start text-sm text-gray-600 mt-1",children:[p.jsx(Xg,{className:"h-3 w-3 mr-1 mt-0.5 flex-shrink-0"}),p.jsx("span",{className:"break-words leading-tight",children:t.name})]})]})]})}),p.jsx("nav",{className:"flex-1 p-4 space-y-2",children:d.map(g=>{const y=r.pathname===g.href;return p.jsxs(Ao,{to:g.href,onClick:h,className:`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${y?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[p.jsx(g.icon,{className:"mr-3 h-5 w-5"}),g.name]},g.name)})}),p.jsx(mp,{}),p.jsxs("div",{className:"p-4 space-y-2",children:[p.jsxs(Ao,{to:"/profile",onClick:h,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-50 hover:text-gray-900 transition-colors",children:[p.jsx(Od,{className:"mr-3 h-5 w-5"}),"Perfil"]}),p.jsxs(He,{variant:"ghost",onClick:m,className:"w-full justify-start px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:[p.jsx(Qg,{className:"mr-3 h-5 w-5"}),"Sair"]})]}),e&&p.jsx("div",{className:"p-4 border-t bg-gray-50",children:p.jsxs("div",{className:"text-xs text-gray-500",children:[p.jsx("p",{className:"font-medium break-words",children:e.name}),p.jsx("p",{className:"break-words",children:e.email}),p.jsx("p",{className:"capitalize mt-1",children:e.role==="admin"?"Administrador":e.role==="editor"?"Editor":"Visualizador"})]})})]})})]})}const tO=al("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ar({className:e,variant:t,...n}){return p.jsx("div",{className:De(tO({variant:t}),e),...n})}function nO(){const{profile:e,company:t,signOut:n}=Jn(),r=o=>{const a={admin:"bg-red-100 text-red-800",editor:"bg-yellow-100 text-yellow-800",viewer:"bg-green-100 text-green-800"},d={admin:"Administrador",editor:"Editor",viewer:"Visualizador"};return p.jsx(Ar,{className:a[o],children:d[o]})};return p.jsx("header",{className:"bg-white border-b border-gray-200 px-0 py-0 sm:px-2 sm:py-2 md:px-6 md:py-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-4 min-w-0 flex-1",children:[p.jsx(eO,{}),t&&p.jsxs("div",{className:"hidden lg:flex items-center text-gray-600 min-w-0",children:[p.jsx(Xg,{className:"h-4 w-4 mr-2 flex-shrink-0"}),p.jsx("span",{className:"text-sm font-medium break-words",children:t.name})]})]}),p.jsxs("div",{className:"flex items-center space-x-4 flex-shrink-0",children:[e&&p.jsxs("div",{className:"hidden md:block text-right",children:[p.jsx("p",{className:"text-sm font-medium text-gray-900 break-words",children:e.name}),r(e.role)]}),p.jsxs(He,{variant:"ghost",size:"sm",onClick:n,className:"hidden md:flex",children:[p.jsx(Qg,{className:"h-4 w-4 mr-2"}),"Sair"]})]})]})})}const TE=E.createContext(null);function Ys({children:e}){const t=E.useRef(null);return p.jsx(TE.Provider,{value:t,children:p.jsxs("div",{className:"flex h-screen bg-gray-50",children:[p.jsx(V6,{}),p.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[p.jsx(nO,{}),p.jsx("main",{ref:t,className:"flex-1 overflow-y-auto bg-gray-50 px-4 md:px-6 pt-6 pb-20",children:p.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]})})}function rO(){const[e,t]=E.useState(!1),[n,r]=E.useState(!1),[o,a]=E.useState(!1),[d,h]=E.useState(null);return E.useEffect(()=>{const g=()=>{window.matchMedia("(display-mode: standalone)").matches&&(r(!0),t(!1))},y=T=>{T.preventDefault(),h(T),t(!0),a(!0)},v=()=>{r(!0),t(!1),a(!1),h(null)},C=async()=>{if("serviceWorker"in navigator)try{const T=await navigator.serviceWorker.register("/sw.js");console.log("Service Worker registrado com sucesso:",T)}catch(T){console.error("Erro ao registrar Service Worker:",T)}};return g(),C(),window.addEventListener("beforeinstallprompt",y),window.addEventListener("appinstalled",v),()=>{window.removeEventListener("beforeinstallprompt",y),window.removeEventListener("appinstalled",v)}},[]),{isInstallable:e,isInstalled:n,installApp:async()=>{if(!d){console.log("Prompt de instalação não disponível");return}try{await d.prompt();const{outcome:g}=await d.userChoice;g==="accepted"?(console.log("Usuário aceitou a instalação"),r(!0),t(!1),a(!1)):console.log("Usuário recusou a instalação"),h(null)}catch(g){console.error("Erro durante a instalação:",g)}},showInstallPrompt:o,setShowInstallPrompt:a}}const ft=E.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:De("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ft.displayName="Card";const Zt=E.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:De("flex flex-col space-y-1.5 p-6",e),...t}));Zt.displayName="CardHeader";const Xt=E.forwardRef(({className:e,...t},n)=>p.jsx("h3",{ref:n,className:De("text-2xl font-semibold leading-none tracking-tight",e),...t}));Xt.displayName="CardTitle";const Tf=E.forwardRef(({className:e,...t},n)=>p.jsx("p",{ref:n,className:De("text-sm text-muted-foreground",e),...t}));Tf.displayName="CardDescription";const ht=E.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:De("p-6 pt-0",e),...t}));ht.displayName="CardContent";const sO=E.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:De("flex items-center p-6 pt-0",e),...t}));sO.displayName="CardFooter";function iO(){const{isInstallable:e,showInstallPrompt:t,setShowInstallPrompt:n,installApp:r}=rO();return!e||!t?null:p.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-4 md:right-auto md:w-80",children:p.jsx(ft,{className:"shadow-lg border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:p.jsx(ht,{className:"p-4",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"bg-blue-600 p-2 rounded-full flex-shrink-0",children:p.jsx(Yt,{className:"h-5 w-5 text-white"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Instalar Armazena"}),p.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Instale o app na tela inicial para acesso rápido e funcionalidade offline"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(He,{onClick:r,size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[p.jsx(R8,{className:"h-4 w-4 mr-2"}),"Instalar"]}),p.jsx(He,{onClick:()=>n(!1),variant:"outline",size:"sm",className:"px-3",children:p.jsx(ll,{className:"h-4 w-4"})})]})]})]})})})})}function oO(){const[e,t]=E.useState(!1);E.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",()=>{t(!0)})},[]);const n=()=>{window.location.reload()};return e?p.jsx("div",{className:"fixed top-4 left-4 right-4 z-50 md:left-4 md:right-auto md:w-80",children:p.jsx(ft,{className:"shadow-lg border-green-200 bg-gradient-to-r from-green-50 to-emerald-50",children:p.jsx(ht,{className:"p-4",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"bg-green-600 p-2 rounded-full flex-shrink-0",children:p.jsx(Px,{className:"h-5 w-5 text-white"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Nova versão disponível"}),p.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Uma nova versão do Armazena está disponível. Atualize para obter as últimas funcionalidades."}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(He,{onClick:n,size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",children:[p.jsx(Px,{className:"h-4 w-4 mr-2"}),"Atualizar"]}),p.jsx(He,{onClick:()=>t(!1),variant:"outline",size:"sm",className:"px-3",children:p.jsx(ll,{className:"h-4 w-4"})})]})]})]})})})}):null}const aO=al("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Tr=E.forwardRef(({className:e,variant:t,...n},r)=>p.jsx("div",{ref:r,role:"alert",className:De(aO({variant:t}),e),...n}));Tr.displayName="Alert";const lO=E.forwardRef(({className:e,...t},n)=>p.jsx("h5",{ref:n,className:De("mb-1 font-medium leading-none tracking-tight",e),...t}));lO.displayName="AlertTitle";const Ir=E.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:De("text-sm [&_p]:leading-relaxed",e),...t}));Ir.displayName="AlertDescription";function cO(){const[e,t]=E.useState(navigator.onLine);return E.useEffect(()=>{const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),e?null:p.jsx("div",{className:"fixed top-4 left-4 right-4 z-50 md:left-4 md:right-auto md:w-80",children:p.jsxs(Tr,{className:"border-orange-200 bg-orange-50",children:[p.jsx(B8,{className:"h-4 w-4 text-orange-600"}),p.jsx(Ir,{className:"text-orange-800",children:"Você está offline. Algumas funcionalidades podem não estar disponíveis."})]})})}const yt=E.forwardRef(({className:e,type:t,...n},r)=>p.jsx("input",{type:t,className:De("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));yt.displayName="Input";var uO="Label",IE=E.forwardRef((e,t)=>p.jsx(Ye.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));IE.displayName=uO;var RE=IE;const dO=al("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),lt=E.forwardRef(({className:e,...t},n)=>p.jsx(RE,{ref:n,className:De(dO(),e),...t}));lt.displayName=RE.displayName;const Xc=hp,If=gp,fO=pp,OE=E.forwardRef(({className:e,...t},n)=>p.jsx(Hc,{ref:n,className:De("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));OE.displayName=Hc.displayName;const fl=E.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(fO,{children:[p.jsx(OE,{}),p.jsxs($c,{ref:r,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,p.jsxs(Nf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(ll,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fl.displayName=$c.displayName;const Kc=({className:e,...t})=>p.jsx("div",{className:De("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Kc.displayName="DialogHeader";const kE=({className:e,...t})=>p.jsx("div",{className:De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});kE.displayName="DialogFooter";const Yc=E.forwardRef(({className:e,...t},n)=>p.jsx(Gc,{ref:n,className:De("text-lg font-semibold leading-none tracking-tight",e),...t}));Yc.displayName=Gc.displayName;const Rf=E.forwardRef(({className:e,...t},n)=>p.jsx(qc,{ref:n,className:De("text-sm text-muted-foreground",e),...t}));Rf.displayName=qc.displayName;function hO(){var F,L;const[e,t]=E.useState(""),[n,r]=E.useState(""),[o,a]=E.useState(!1),[d,h]=E.useState(!1),[m,g]=E.useState(""),[y,v]=E.useState(""),[C,T]=E.useState(!1),[P,_]=E.useState(!1),{signIn:k}=Jn(),I=Ls(),N=ps(),{toast:S}=qr(),D=((L=(F=N.state)==null?void 0:F.from)==null?void 0:L.pathname)||"/dashboard",V=async j=>{j.preventDefault(),g(""),h(!0);try{if(await k(e,n)==="inactive"){I("/acesso-negado",{replace:!0});return}S({title:"Login realizado com sucesso!",description:"Bem-vindo ao Armazena"}),I(D,{replace:!0})}catch(G){g(G.message||"Erro ao fazer login")}finally{h(!1)}},W=async j=>{j.preventDefault(),T(!0);try{const{error:G}=await ct.auth.resetPasswordForEmail(y,{redirectTo:`${window.location.origin}/login`});if(G)throw G;S({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir sua senha."}),_(!1),v("")}catch(G){S({title:"Erro ao enviar email",description:G.message||"Erro ao enviar email de redefinição",variant:"destructive"})}finally{T(!1)}};return p.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50 px-4",children:p.jsxs("div",{className:"max-w-md w-full space-y-8",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"flex justify-center",children:p.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:p.jsx(Yt,{className:"h-8 w-8 text-white"})})}),p.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Armazena App"}),p.jsx("p",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Sistema de Gestão de Ativos"})]}),p.jsxs(ft,{className:"shadow-lg border-0",children:[p.jsxs(Zt,{className:"space-y-1",children:[p.jsx(Xt,{className:"text-2xl text-center",children:"Entrar"}),p.jsx(Tf,{className:"text-center",children:"Digite suas credenciais para acessar o sistema"})]}),p.jsxs(ht,{children:[p.jsxs("form",{onSubmit:V,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"email",children:"Email"}),p.jsx(yt,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:j=>t(j.target.value),required:!0,className:"h-11"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"password",children:"Senha"}),p.jsxs("div",{className:"relative",children:[p.jsx(yt,{id:"password",type:o?"text":"password",placeholder:"Sua senha",value:n,onChange:j=>r(j.target.value),required:!0,className:"h-11 pr-10"}),p.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!o),children:o?p.jsx(O8,{className:"h-4 w-4 text-gray-400"}):p.jsx(db,{className:"h-4 w-4 text-gray-400"})})]})]}),m&&p.jsx(Tr,{variant:"destructive",children:p.jsx(Ir,{children:m})}),p.jsx(He,{type:"submit",className:"w-full h-11",disabled:d,children:d?"Entrando...":"Entrar"})]}),p.jsx("div",{className:"text-center mt-4",children:p.jsxs(Xc,{open:P,onOpenChange:_,children:[p.jsx(If,{asChild:!0,children:p.jsx(He,{variant:"link",className:"text-sm text-blue-600 hover:text-blue-800",children:"Esqueci minha senha"})}),p.jsxs(fl,{className:"sm:max-w-[425px]",children:[p.jsxs(Kc,{children:[p.jsx(Yc,{children:"Redefinir senha"}),p.jsx(Rf,{children:"Digite seu email para receber um link de redefinição de senha."})]}),p.jsxs("form",{onSubmit:W,children:[p.jsx("div",{className:"grid gap-4 py-4",children:p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"resetEmail",children:"Email"}),p.jsx(yt,{id:"resetEmail",type:"email",placeholder:"seu@email.com",value:y,onChange:j=>v(j.target.value),required:!0})]})}),p.jsxs(kE,{children:[p.jsx(He,{type:"button",variant:"outline",onClick:()=>_(!1),children:"Cancelar"}),p.jsx(He,{type:"submit",disabled:C,children:C?"Enviando...":"Enviar email"})]})]})]})]})})]})]})]})})}function Kr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Io(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const PE=6048e5,gO=864e5;let pO={};function Of(){return pO}function Ac(e,t){var h,m,g,y;const n=Of(),r=(t==null?void 0:t.weekStartsOn)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,o=Kr(e),a=o.getDay(),d=(a<r?7:0)+a-r;return o.setDate(o.getDate()-d),o.setHours(0,0,0,0),o}function Ld(e){return Ac(e,{weekStartsOn:1})}function DE(e){const t=Kr(e),n=t.getFullYear(),r=Io(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const o=Ld(r),a=Io(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const d=Ld(a);return t.getTime()>=o.getTime()?n+1:t.getTime()>=d.getTime()?n:n-1}function dw(e){const t=Kr(e);return t.setHours(0,0,0,0),t}function fw(e){const t=Kr(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function mO(e,t){const n=dw(e),r=dw(t),o=+n-fw(n),a=+r-fw(r);return Math.round((o-a)/gO)}function xO(e){const t=DE(e),n=Io(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ld(n)}function wO(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function yO(e){if(!wO(e)&&typeof e!="number")return!1;const t=Kr(e);return!isNaN(Number(t))}function vO(e){const t=Kr(e),n=Io(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const bO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},EO=(e,t,n)=>{let r;const o=bO[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function _a(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const CO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},SO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},AO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_O={date:_a({formats:CO,defaultWidth:"full"}),time:_a({formats:SO,defaultWidth:"full"}),dateTime:_a({formats:AO,defaultWidth:"full"})},NO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TO=(e,t,n,r)=>NO[e];function us(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let o;if(r==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,h=n!=null&&n.width?String(n.width):d;o=e.formattingValues[h]||e.formattingValues[d]}else{const d=e.defaultWidth,h=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[h]||e.values[d]}const a=e.argumentCallback?e.argumentCallback(t):t;return o[a]}}const IO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},RO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},OO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},PO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},DO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},MO=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},jO={ordinalNumber:MO,era:us({values:IO,defaultWidth:"wide"}),quarter:us({values:RO,defaultWidth:"wide",argumentCallback:e=>e-1}),month:us({values:OO,defaultWidth:"wide"}),day:us({values:kO,defaultWidth:"wide"}),dayPeriod:us({values:PO,defaultWidth:"wide",formattingValues:DO,defaultFormattingWidth:"wide"})};function ds(e){return(t,n={})=>{const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;const d=a[0],h=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(h)?BO(h,v=>v.test(d)):LO(h,v=>v.test(d));let g;g=e.valueCallback?e.valueCallback(m):m,g=n.valueCallback?n.valueCallback(g):g;const y=t.slice(d.length);return{value:g,rest:y}}}function LO(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function BO(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function ME(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const o=r[0],a=t.match(e.parsePattern);if(!a)return null;let d=e.valueCallback?e.valueCallback(a[0]):a[0];d=n.valueCallback?n.valueCallback(d):d;const h=t.slice(o.length);return{value:d,rest:h}}}const FO=/^(\d+)(th|st|nd|rd)?/i,UO=/\d+/i,VO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},WO={any:[/^b/i,/^(a|c)/i]},zO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},HO={any:[/1/i,/2/i,/3/i,/4/i]},$O={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},GO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},XO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},KO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},YO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},QO={ordinalNumber:ME({matchPattern:FO,parsePattern:UO,valueCallback:e=>parseInt(e,10)}),era:ds({matchPatterns:VO,defaultMatchWidth:"wide",parsePatterns:WO,defaultParseWidth:"any"}),quarter:ds({matchPatterns:zO,defaultMatchWidth:"wide",parsePatterns:HO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ds({matchPatterns:$O,defaultMatchWidth:"wide",parsePatterns:GO,defaultParseWidth:"any"}),day:ds({matchPatterns:qO,defaultMatchWidth:"wide",parsePatterns:XO,defaultParseWidth:"any"}),dayPeriod:ds({matchPatterns:KO,defaultMatchWidth:"any",parsePatterns:YO,defaultParseWidth:"any"})},ZO={code:"en-US",formatDistance:EO,formatLong:_O,formatRelative:TO,localize:jO,match:QO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function JO(e){const t=Kr(e);return mO(t,vO(t))+1}function ek(e){const t=Kr(e),n=+Ld(t)-+xO(t);return Math.round(n/PE)+1}function jE(e,t){var y,v,C,T;const n=Kr(e),r=n.getFullYear(),o=Of(),a=(t==null?void 0:t.firstWeekContainsDate)??((v=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??o.firstWeekContainsDate??((T=(C=o.locale)==null?void 0:C.options)==null?void 0:T.firstWeekContainsDate)??1,d=Io(e,0);d.setFullYear(r+1,0,a),d.setHours(0,0,0,0);const h=Ac(d,t),m=Io(e,0);m.setFullYear(r,0,a),m.setHours(0,0,0,0);const g=Ac(m,t);return n.getTime()>=h.getTime()?r+1:n.getTime()>=g.getTime()?r:r-1}function tk(e,t){var h,m,g,y;const n=Of(),r=(t==null?void 0:t.firstWeekContainsDate)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,o=jE(e,t),a=Io(e,0);return a.setFullYear(o,0,r),a.setHours(0,0,0,0),Ac(a,t)}function nk(e,t){const n=Kr(e),r=+Ac(n,t)-+tk(n,t);return Math.round(r/PE)+1}function pt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Qs={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return pt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):pt(n+1,2)},d(e,t){return pt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return pt(e.getHours()%12||12,t.length)},H(e,t){return pt(e.getHours(),t.length)},m(e,t){return pt(e.getMinutes(),t.length)},s(e,t){return pt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return pt(o,t.length)}},ta={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hw={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return Qs.y(e,t)},Y:function(e,t,n,r){const o=jE(e,r),a=o>0?o:1-o;if(t==="YY"){const d=a%100;return pt(d,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):pt(a,t.length)},R:function(e,t){const n=DE(e);return pt(n,t.length)},u:function(e,t){const n=e.getFullYear();return pt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return pt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return pt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Qs.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return pt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=nk(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):pt(o,t.length)},I:function(e,t,n){const r=ek(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):pt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Qs.d(e,t)},D:function(e,t,n){const r=JO(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):pt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return pt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return pt(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return pt(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(r===12?o=ta.noon:r===0?o=ta.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(r>=17?o=ta.evening:r>=12?o=ta.afternoon:r>=4?o=ta.morning:o=ta.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Qs.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Qs.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):pt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):pt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Qs.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Qs.s(e,t)},S:function(e,t){return Qs.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return pw(r);case"XXXX":case"XX":return to(r);case"XXXXX":case"XXX":default:return to(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return pw(r);case"xxxx":case"xx":return to(r);case"xxxxx":case"xxx":default:return to(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+gw(r,":");case"OOOO":default:return"GMT"+to(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+gw(r,":");case"zzzz":default:return"GMT"+to(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return pt(r,t.length)},T:function(e,t,n){const r=e.getTime();return pt(r,t.length)}};function gw(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),a=r%60;return a===0?n+String(o):n+String(o)+t+pt(a,2)}function pw(e,t){return e%60===0?(e>0?"-":"+")+pt(Math.abs(e)/60,2):to(e,t)}function to(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=pt(Math.trunc(r/60),2),a=pt(r%60,2);return n+o+t+a}const mw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},LE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},rk=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return mw(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",mw(r,t)).replace("{{time}}",LE(o,t))},sk={p:LE,P:rk},ik=/^D+$/,ok=/^Y+$/,ak=["D","DD","YY","YYYY"];function lk(e){return ik.test(e)}function ck(e){return ok.test(e)}function uk(e,t,n){const r=dk(e,t,n);if(console.warn(r),ak.includes(e))throw new RangeError(r)}function dk(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gk=/^'([^]*?)'?$/,pk=/''/g,mk=/[a-zA-Z]/;function Na(e,t,n){var y,v,C,T,P,_,k,I;const r=Of(),o=(n==null?void 0:n.locale)??r.locale??ZO,a=(n==null?void 0:n.firstWeekContainsDate)??((v=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((T=(C=r.locale)==null?void 0:C.options)==null?void 0:T.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((_=(P=n==null?void 0:n.locale)==null?void 0:P.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((I=(k=r.locale)==null?void 0:k.options)==null?void 0:I.weekStartsOn)??0,h=Kr(e);if(!yO(h))throw new RangeError("Invalid time value");let m=t.match(hk).map(N=>{const S=N[0];if(S==="p"||S==="P"){const D=sk[S];return D(N,o.formatLong)}return N}).join("").match(fk).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const S=N[0];if(S==="'")return{isToken:!1,value:xk(N)};if(hw[S])return{isToken:!0,value:N};if(S.match(mk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:N}});o.localize.preprocessor&&(m=o.localize.preprocessor(h,m));const g={firstWeekContainsDate:a,weekStartsOn:d,locale:o};return m.map(N=>{if(!N.isToken)return N.value;const S=N.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&ck(S)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&lk(S))&&uk(S,t,String(e));const D=hw[S[0]];return D(h,S,o.localize,g)}).join("")}function xk(e){const t=e.match(gk);return t?t[1].replace(pk,"'"):e}const wk={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},yk=(e,t,n)=>{let r;const o=wk[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+r:"há "+r:r},vk={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},bk={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Ek={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ck={date:_a({formats:vk,defaultWidth:"full"}),time:_a({formats:bk,defaultWidth:"full"}),dateTime:_a({formats:Ek,defaultWidth:"full"})},Sk={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},Ak=(e,t,n,r)=>{const o=Sk[e];return typeof o=="function"?o(t):o},_k={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Nk={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Tk={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Ik={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},Rk={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},Ok={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},kk=(e,t)=>{const n=Number(e);return(t==null?void 0:t.unit)==="week"?n+"ª":n+"º"},Pk={ordinalNumber:kk,era:us({values:_k,defaultWidth:"wide"}),quarter:us({values:Nk,defaultWidth:"wide",argumentCallback:e=>e-1}),month:us({values:Tk,defaultWidth:"wide"}),day:us({values:Ik,defaultWidth:"wide"}),dayPeriod:us({values:Rk,defaultWidth:"wide",formattingValues:Ok,defaultFormattingWidth:"wide"})},Dk=/^(\d+)[ºªo]?/i,Mk=/\d+/i,jk={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Lk={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Bk={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Fk={any:[/1/i,/2/i,/3/i,/4/i]},Uk={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Vk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Wk={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},zk={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},Hk={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},$k={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Gk={ordinalNumber:ME({matchPattern:Dk,parsePattern:Mk,valueCallback:e=>parseInt(e,10)}),era:ds({matchPatterns:jk,defaultMatchWidth:"wide",parsePatterns:Lk,defaultParseWidth:"any"}),quarter:ds({matchPatterns:Bk,defaultMatchWidth:"wide",parsePatterns:Fk,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ds({matchPatterns:Uk,defaultMatchWidth:"wide",parsePatterns:Vk,defaultParseWidth:"any"}),day:ds({matchPatterns:Wk,defaultMatchWidth:"wide",parsePatterns:zk,defaultParseWidth:"any"}),dayPeriod:ds({matchPatterns:Hk,defaultMatchWidth:"any",parsePatterns:$k,defaultParseWidth:"any"})},Ta={code:"pt-BR",formatDistance:yk,formatLong:Ck,formatRelative:Ak,localize:Pk,match:Gk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qk(){const{data:e}=Qa({queryKey:["dashboard-stats"],queryFn:async()=>{const{data:o}=await ct.from("assets").select("*");if(!o)return null;const a=o.length,d=o.filter(v=>v.status==="ativo").length,h=o.filter(v=>v.status==="manutenção").length,m=o.filter(v=>v.status==="baixado").length,g=o.reduce((v,C)=>v+(C.value||0),0),y=o.filter(v=>v.status==="ativo").reduce((v,C)=>v+(C.value||0),0);return{totalAssets:a,activeAssets:d,maintenanceAssets:h,deactivatedAssets:m,totalValue:g,activeValue:y}}}),{data:t}=Qa({queryKey:["recent-assets"],queryFn:async()=>{const{data:o}=await ct.from("assets").select("*").order("created_at",{ascending:!1}).limit(5);return o||[]}}),n=o=>{const a={ativo:"bg-green-100 text-green-800",manutenção:"bg-yellow-100 text-yellow-800",baixado:"bg-red-100 text-red-800"};return p.jsx(Ar,{className:a[o],children:o.toUpperCase()})},r=o=>{switch(o){case"ativo":return p.jsx(Mx,{className:"h-4 w-4 text-green-600"});case"manutenção":return p.jsx(Cc,{className:"h-4 w-4 text-yellow-600"});case"baixado":return p.jsx(Rx,{className:"h-4 w-4 text-red-600"});default:return p.jsx(Yt,{className:"h-4 w-4 text-gray-600"})}};return p.jsxs("div",{className:"space-y-8 pb-10",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),p.jsx("p",{className:"mt-2 text-gray-600",children:"Visão geral dos seus ativos patrimoniais"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsxs(ft,{className:"border-0 shadow-md",children:[p.jsxs(Zt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Xt,{className:"text-sm font-medium text-gray-600",children:"Total"}),p.jsx(Yt,{className:"h-4 w-4 text-blue-600"})]}),p.jsxs(ht,{children:[p.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(e==null?void 0:e.totalAssets)||0}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Todos os ativos cadastrados"})]})]}),p.jsxs(ft,{className:"border-0 shadow-md",children:[p.jsxs(Zt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Xt,{className:"text-sm font-medium text-gray-600",children:"Ativos"}),p.jsx(Mx,{className:"h-4 w-4 text-green-600"})]}),p.jsxs(ht,{children:[p.jsx("div",{className:"text-2xl font-bold text-green-700",children:(e==null?void 0:e.activeAssets)||0}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Em operação normal"})]})]}),p.jsxs(ft,{className:"border-0 shadow-md",children:[p.jsxs(Zt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Xt,{className:"text-sm font-medium text-gray-600",children:"Manutenção"}),p.jsx(Cc,{className:"h-4 w-4 text-yellow-600"})]}),p.jsxs(ht,{children:[p.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:(e==null?void 0:e.maintenanceAssets)||0}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Em manutenção"})]})]}),p.jsxs(ft,{className:"border-0 shadow-md",children:[p.jsxs(Zt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Xt,{className:"text-sm font-medium text-gray-600",children:"Baixados"}),p.jsx(Rx,{className:"h-4 w-4 text-red-600"})]}),p.jsxs(ht,{children:[p.jsx("div",{className:"text-2xl font-bold text-red-700",children:(e==null?void 0:e.deactivatedAssets)||0}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Fora de operação"})]})]})]}),p.jsx("div",{className:"w-full",children:p.jsx(ft,{className:"border-0 shadow-md",children:p.jsxs(ht,{className:"flex items-center justify-between p-6",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(Xt,{className:"text-sm font-medium text-gray-600",children:"Valor Total"}),p.jsx(Yg,{className:"h-4 w-4 text-blue-600"})]}),p.jsx("div",{className:"text-2xl font-bold text-blue-700 break-words",children:Pd((e==null?void 0:e.totalValue)||0)})]})})}),p.jsxs(ft,{className:"border-0 shadow-md",children:[p.jsxs(Zt,{children:[p.jsxs(Xt,{className:"flex items-center",children:[p.jsx(ub,{className:"h-5 w-5 mr-2 text-blue-600"}),"Ativos Recentes"]}),p.jsx(Tf,{children:"Últimos ativos adicionados ao sistema"})]}),p.jsx(ht,{children:t&&t.length>0?p.jsx("div",{className:"space-y-4",children:t.map(o=>p.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[r(o.status),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-gray-900",children:o.name}),p.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[p.jsxs("span",{children:["#",o.code]}),o.location&&p.jsxs(p.Fragment,{children:[p.jsx("span",{children:"•"}),p.jsx(Zg,{className:"h-3 w-3"}),p.jsx("span",{children:o.location})]})]})]})]}),p.jsxs("div",{className:"flex flex-col md:flex-row items-center md:space-x-3 space-y-2 md:space-y-0 mt-2 md:mt-0",children:[o.value&&p.jsx("span",{className:"text-sm font-medium text-gray-900",children:Pd(o.value)}),n(o.status),p.jsx("span",{className:"text-xs text-gray-500",children:o.acquisition_date?Na(new Date(o.acquisition_date),"dd/MM/yyyy",{locale:Ta}):"-"})]})]},o.id))}):p.jsxs("div",{className:"text-center py-8",children:[p.jsx(Yt,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum ativo cadastrado"}),p.jsx("p",{className:"text-gray-600",children:"Comece adicionando seus primeiros ativos ao sistema"})]})})]})]})}function BE(){const[e,t]=E.useState(!1),[n,r]=E.useState(!1),[o,a]=E.useState(!1);return E.useEffect(()=>{const d=()=>{const h=window.innerWidth,m=navigator.userAgent,g=h<768,y=h>=768&&h<=1024,v=h>1024,C=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(m);t(g||C&&!y),r(y),a(v&&!C)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),{isMobile:e,isTablet:n,isDesktop:o,isMobileOrTablet:e||n}}const e0=20;function Xk(e){const[t,n]=E.useState([]),[r,o]=E.useState(1),[a,d]=E.useState(!0),[h,m]=E.useState(!1),[g,y]=E.useState(!1),v=E.useCallback(async k=>{let I=ct.from("assets").select("*").order("created_at",{ascending:!1});e.search&&(I=I.or(`name.ilike.%${e.search}%,code.ilike.%${e.search}%`)),e.statusFilter!=="all"&&(I=I.eq("status",e.statusFilter)),e.locationFilter!=="all"&&(I=I.eq("location",e.locationFilter));const N=(k-1)*e0,S=N+e0-1,{data:D,error:V}=await I.range(N,S);if(V)throw V;return D||[]},[e.search,e.statusFilter,e.locationFilter]),C=E.useCallback(async k=>{const I=k===1;I?m(!0):y(!0);try{const N=await v(k);n(S=>I?N:[...S,...N]),d(N.length===e0)}finally{I&&m(!1),y(!1)}},[v]),T=E.useCallback(()=>{n([]),o(1),d(!0),y(!1)},[]),P=E.useCallback(()=>{if(!a||g)return;const k=r+1;o(k),C(k)},[a,g,r,C]);E.useEffect(()=>{T()},[e.search,e.statusFilter,e.locationFilter,T]),E.useEffect(()=>{C(r)},[r,C]);const{data:_}=Qa({queryKey:["asset-locations"],queryFn:async()=>{const{data:k}=await ct.from("assets").select("location").not("location","is",null);return[...new Set(k==null?void 0:k.map(N=>N.location).filter(Boolean))]}});return{assets:t,loading:h,loadingMore:g,hasMore:a,currentPage:r,resetFilters:T,loadMore:P,locations:_}}const Kk=["Nome","Código","Status","Localização","Valor","Data de Aquisição","Fabricante","Modelo","Cor","Número de Série","Capacidade","Voltagem","Condições","Detentor","Origem","Inalienável","Observações"];function Yk(){const[e,t]=E.useState(!1),n=m=>{let g=ct.from("assets").select("*").order("created_at",{ascending:!1});return m.search&&(g=g.or(`name.ilike.%${m.search}%,code.ilike.%${m.search}%`)),m.statusFilter!=="all"&&(g=g.eq("status",m.statusFilter)),m.locationFilter!=="all"&&(g=g.eq("location",m.locationFilter)),g},r=m=>{if(m==null)return"";const g=String(m);return g.includes(",")?`"${g.replace(/"/g,'""')}"`:g},o=m=>{const g=m.map(y=>[y.name,y.code,y.status,y.location||"",y.value||"",y.acquisition_date||"",y.manufacturer||"",y.model||"",y.color||"",y.serial_number||"",y.capacity||"",y.voltage||"",y.condition||"",y.holder||"",y.origin||"",y.inalienable?"Sim":"Não",y.notes||""].map(r));return[Kk.join(","),...g.map(y=>y.join(","))].join(`
`)},a=m=>{const g=new Date,v=new Date(g.getTime()-3*60*60*1e3).toISOString().replace("T","_").slice(0,16).replace(":","")+"h";return`ativos_${m}_${v}.csv`},d=(m,g)=>{const y=new Blob([m],{type:"text/csv;charset=utf-8;"}),v=document.createElement("a"),C=URL.createObjectURL(y);v.setAttribute("href",C),v.setAttribute("download",g),v.style.visibility="hidden",document.body.appendChild(v),v.click(),document.body.removeChild(v)};return{exportLoading:e,exportToCSV:async m=>{t(!0);try{const g=n(m),{data:y,error:v}=await g;if(v||!y||y.length===0)throw new Error("Nenhum ativo encontrado para exportar");const C=o(y),T=a(m.companyName);d(C,T)}finally{t(!1)}}}}function Qk(e){const[t,n]=E.useState(!1),r=E.useCallback(()=>{e&&n(e.scrollTop>300)},[e]),o=E.useCallback(()=>{e==null||e.scrollTo({top:0,behavior:"smooth"})},[e]);return E.useEffect(()=>{if(e)return e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)},[e,r]),{showScrollToTop:t,scrollToTop:o}}var FE={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(fn,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},o,a=!r.document&&!!r.postMessage,d=r.IS_PAPA_WORKER||!1,h={},m=0,g={};function y(L){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(j){var G=V(j);G.chunkSize=parseInt(G.chunkSize),j.step||j.chunk||(G.chunkSize=null),this._handle=new _(G),(this._handle.streamer=this)._config=G}).call(this,L),this.parseChunk=function(j,G){var te=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<te){let se=this._config.newline;se||(q=this._config.quoteChar||'"',se=this._handle.guessLineEndings(j,q)),j=[...j.split(se).slice(te)].join(se)}this.isFirstChunk&&F(this._config.beforeFirstChunk)&&(q=this._config.beforeFirstChunk(j))!==void 0&&(j=q),this.isFirstChunk=!1,this._halted=!1;var te=this._partialLine+j,q=(this._partialLine="",this._handle.parse(te,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(j=q.meta.cursor,te=(this._finished||(this._partialLine=te.substring(j-this._baseIndex),this._baseIndex=j),q&&q.data&&(this._rowCount+=q.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),d)r.postMessage({results:q,workerId:g.WORKER_ID,finished:te});else if(F(this._config.chunk)&&!G){if(this._config.chunk(q,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=q=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(q.data),this._completeResults.errors=this._completeResults.errors.concat(q.errors),this._completeResults.meta=q.meta),this._completed||!te||!F(this._config.complete)||q&&q.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),te||q&&q.meta.paused||this._nextChunk(),q}this._halted=!0},this._sendError=function(j){F(this._config.error)?this._config.error(j):d&&this._config.error&&r.postMessage({workerId:g.WORKER_ID,error:j,finished:!1})}}function v(L){var j;(L=L||{}).chunkSize||(L.chunkSize=g.RemoteChunkSize),y.call(this,L),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(G){this._input=G,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(j=new XMLHttpRequest,this._config.withCredentials&&(j.withCredentials=this._config.withCredentials),a||(j.onload=W(this._chunkLoaded,this),j.onerror=W(this._chunkError,this)),j.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var G,te=this._config.downloadRequestHeaders;for(G in te)j.setRequestHeader(G,te[G])}var q;this._config.chunkSize&&(q=this._start+this._config.chunkSize-1,j.setRequestHeader("Range","bytes="+this._start+"-"+q));try{j.send(this._config.downloadRequestBody)}catch(se){this._chunkError(se.message)}a&&j.status===0&&this._chunkError()}},this._chunkLoaded=function(){j.readyState===4&&(j.status<200||400<=j.status?this._chunkError():(this._start+=this._config.chunkSize||j.responseText.length,this._finished=!this._config.chunkSize||this._start>=(G=>(G=G.getResponseHeader("Content-Range"))!==null?parseInt(G.substring(G.lastIndexOf("/")+1)):-1)(j),this.parseChunk(j.responseText)))},this._chunkError=function(G){G=j.statusText||G,this._sendError(new Error(G))}}function C(L){(L=L||{}).chunkSize||(L.chunkSize=g.LocalChunkSize),y.call(this,L);var j,G,te=typeof FileReader<"u";this.stream=function(q){this._input=q,G=q.slice||q.webkitSlice||q.mozSlice,te?((j=new FileReader).onload=W(this._chunkLoaded,this),j.onerror=W(this._chunkError,this)):j=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var q=this._input,se=(this._config.chunkSize&&(se=Math.min(this._start+this._config.chunkSize,this._input.size),q=G.call(q,this._start,se)),j.readAsText(q,this._config.encoding));te||this._chunkLoaded({target:{result:se}})},this._chunkLoaded=function(q){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(q.target.result)},this._chunkError=function(){this._sendError(j.error)}}function T(L){var j;y.call(this,L=L||{}),this.stream=function(G){return j=G,this._nextChunk()},this._nextChunk=function(){var G,te;if(!this._finished)return G=this._config.chunkSize,j=G?(te=j.substring(0,G),j.substring(G)):(te=j,""),this._finished=!j,this.parseChunk(te)}}function P(L){y.call(this,L=L||{});var j=[],G=!0,te=!1;this.pause=function(){y.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){y.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(q){this._input=q,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){te&&j.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),j.length?this.parseChunk(j.shift()):G=!0},this._streamData=W(function(q){try{j.push(typeof q=="string"?q:q.toString(this._config.encoding)),G&&(G=!1,this._checkIsFinished(),this.parseChunk(j.shift()))}catch(se){this._streamError(se)}},this),this._streamError=W(function(q){this._streamCleanUp(),this._sendError(q)},this),this._streamEnd=W(function(){this._streamCleanUp(),te=!0,this._streamData("")},this),this._streamCleanUp=W(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function _(L){var j,G,te,q,se=Math.pow(2,53),re=-se,X=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,fe=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ne=this,Q=0,ee=0,he=!1,ue=!1,me=[],we={data:[],errors:[],meta:{}};function Re(xe){return L.skipEmptyLines==="greedy"?xe.join("").trim()==="":xe.length===1&&xe[0].length===0}function tt(){if(we&&te&&(Ce("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+g.DefaultDelimiter+"'"),te=!1),L.skipEmptyLines&&(we.data=we.data.filter(function(Te){return!Re(Te)})),de()){let Te=function(Ae,Ve){F(L.transformHeader)&&(Ae=L.transformHeader(Ae,Ve)),me.push(Ae)};var pe=Te;if(we)if(Array.isArray(we.data[0])){for(var xe=0;de()&&xe<we.data.length;xe++)we.data[xe].forEach(Te);we.data.splice(0,1)}else we.data.forEach(Te)}function ke(Te,Ae){for(var Ve=L.header?{}:[],Fe=0;Fe<Te.length;Fe++){var Le=Fe,qe=Te[Fe],qe=((Ne,_e)=>(Pt=>(L.dynamicTypingFunction&&L.dynamicTyping[Pt]===void 0&&(L.dynamicTyping[Pt]=L.dynamicTypingFunction(Pt)),(L.dynamicTyping[Pt]||L.dynamicTyping)===!0))(Ne)?_e==="true"||_e==="TRUE"||_e!=="false"&&_e!=="FALSE"&&((Pt=>{if(X.test(Pt)&&(Pt=parseFloat(Pt),re<Pt&&Pt<se))return 1})(_e)?parseFloat(_e):fe.test(_e)?new Date(_e):_e===""?null:_e):_e)(Le=L.header?Fe>=me.length?"__parsed_extra":me[Fe]:Le,qe=L.transform?L.transform(qe,Le):qe);Le==="__parsed_extra"?(Ve[Le]=Ve[Le]||[],Ve[Le].push(qe)):Ve[Le]=qe}return L.header&&(Fe>me.length?Ce("FieldMismatch","TooManyFields","Too many fields: expected "+me.length+" fields but parsed "+Fe,ee+Ae):Fe<me.length&&Ce("FieldMismatch","TooFewFields","Too few fields: expected "+me.length+" fields but parsed "+Fe,ee+Ae)),Ve}var Oe;we&&(L.header||L.dynamicTyping||L.transform)&&(Oe=1,!we.data.length||Array.isArray(we.data[0])?(we.data=we.data.map(ke),Oe=we.data.length):we.data=ke(we.data,0),L.header&&we.meta&&(we.meta.fields=me),ee+=Oe)}function de(){return L.header&&me.length===0}function Ce(xe,ke,Oe,pe){xe={type:xe,code:ke,message:Oe},pe!==void 0&&(xe.row=pe),we.errors.push(xe)}F(L.step)&&(q=L.step,L.step=function(xe){we=xe,de()?tt():(tt(),we.data.length!==0&&(Q+=xe.data.length,L.preview&&Q>L.preview?G.abort():(we.data=we.data[0],q(we,ne))))}),this.parse=function(xe,ke,Oe){var pe=L.quoteChar||'"',pe=(L.newline||(L.newline=this.guessLineEndings(xe,pe)),te=!1,L.delimiter?F(L.delimiter)&&(L.delimiter=L.delimiter(xe),we.meta.delimiter=L.delimiter):((pe=((Te,Ae,Ve,Fe,Le)=>{var qe,Ne,_e,Pt;Le=Le||[",","	","|",";",g.RECORD_SEP,g.UNIT_SEP];for(var ve=0;ve<Le.length;ve++){for(var In,Fs=Le[ve],Ct=0,Bn=0,ut=0,gn=(_e=void 0,new I({comments:Fe,delimiter:Fs,newline:Ae,preview:10}).parse(Te)),an=0;an<gn.data.length;an++)Ve&&Re(gn.data[an])?ut++:(In=gn.data[an].length,Bn+=In,_e===void 0?_e=In:0<In&&(Ct+=Math.abs(In-_e),_e=In));0<gn.data.length&&(Bn/=gn.data.length-ut),(Ne===void 0||Ct<=Ne)&&(Pt===void 0||Pt<Bn)&&1.99<Bn&&(Ne=Ct,qe=Fs,Pt=Bn)}return{successful:!!(L.delimiter=qe),bestDelimiter:qe}})(xe,L.newline,L.skipEmptyLines,L.comments,L.delimitersToGuess)).successful?L.delimiter=pe.bestDelimiter:(te=!0,L.delimiter=g.DefaultDelimiter),we.meta.delimiter=L.delimiter),V(L));return L.preview&&L.header&&pe.preview++,j=xe,G=new I(pe),we=G.parse(j,ke,Oe),tt(),he?{meta:{paused:!0}}:we||{meta:{paused:!1}}},this.paused=function(){return he},this.pause=function(){he=!0,G.abort(),j=F(L.chunk)?"":j.substring(G.getCharIndex())},this.resume=function(){ne.streamer._halted?(he=!1,ne.streamer.parseChunk(j,!0)):setTimeout(ne.resume,3)},this.aborted=function(){return ue},this.abort=function(){ue=!0,G.abort(),we.meta.aborted=!0,F(L.complete)&&L.complete(we),j=""},this.guessLineEndings=function(Te,pe){Te=Te.substring(0,1048576);var pe=new RegExp(k(pe)+"([^]*?)"+k(pe),"gm"),Oe=(Te=Te.replace(pe,"")).split("\r"),pe=Te.split(`
`),Te=1<pe.length&&pe[0].length<Oe[0].length;if(Oe.length===1||Te)return`
`;for(var Ae=0,Ve=0;Ve<Oe.length;Ve++)Oe[Ve][0]===`
`&&Ae++;return Ae>=Oe.length/2?`\r
`:"\r"}}function k(L){return L.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function I(L){var j=(L=L||{}).delimiter,G=L.newline,te=L.comments,q=L.step,se=L.preview,re=L.fastMode,X=null,fe=!1,ne=L.quoteChar==null?'"':L.quoteChar,Q=ne;if(L.escapeChar!==void 0&&(Q=L.escapeChar),(typeof j!="string"||-1<g.BAD_DELIMITERS.indexOf(j))&&(j=","),te===j)throw new Error("Comment character same as delimiter");te===!0?te="#":(typeof te!="string"||-1<g.BAD_DELIMITERS.indexOf(te))&&(te=!1),G!==`
`&&G!=="\r"&&G!==`\r
`&&(G=`
`);var ee=0,he=!1;this.parse=function(ue,me,we){if(typeof ue!="string")throw new Error("Input must be a string");var Re=ue.length,tt=j.length,de=G.length,Ce=te.length,xe=F(q),ke=[],Oe=[],pe=[],Te=ee=0;if(!ue)return Ct();if(re||re!==!1&&ue.indexOf(ne)===-1){for(var Ae=ue.split(G),Ve=0;Ve<Ae.length;Ve++){if(pe=Ae[Ve],ee+=pe.length,Ve!==Ae.length-1)ee+=G.length;else if(we)return Ct();if(!te||pe.substring(0,Ce)!==te){if(xe){if(ke=[],Pt(pe.split(j)),Bn(),he)return Ct()}else Pt(pe.split(j));if(se&&se<=Ve)return ke=ke.slice(0,se),Ct(!0)}}return Ct()}for(var Fe=ue.indexOf(j,ee),Le=ue.indexOf(G,ee),qe=new RegExp(k(Q)+k(ne),"g"),Ne=ue.indexOf(ne,ee);;)if(ue[ee]===ne)for(Ne=ee,ee++;;){if((Ne=ue.indexOf(ne,Ne+1))===-1)return we||Oe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ke.length,index:ee}),In();if(Ne===Re-1)return In(ue.substring(ee,Ne).replace(qe,ne));if(ne===Q&&ue[Ne+1]===Q)Ne++;else if(ne===Q||Ne===0||ue[Ne-1]!==Q){Fe!==-1&&Fe<Ne+1&&(Fe=ue.indexOf(j,Ne+1));var _e=ve((Le=Le!==-1&&Le<Ne+1?ue.indexOf(G,Ne+1):Le)===-1?Fe:Math.min(Fe,Le));if(ue.substr(Ne+1+_e,tt)===j){pe.push(ue.substring(ee,Ne).replace(qe,ne)),ue[ee=Ne+1+_e+tt]!==ne&&(Ne=ue.indexOf(ne,ee)),Fe=ue.indexOf(j,ee),Le=ue.indexOf(G,ee);break}if(_e=ve(Le),ue.substring(Ne+1+_e,Ne+1+_e+de)===G){if(pe.push(ue.substring(ee,Ne).replace(qe,ne)),Fs(Ne+1+_e+de),Fe=ue.indexOf(j,ee),Ne=ue.indexOf(ne,ee),xe&&(Bn(),he))return Ct();if(se&&ke.length>=se)return Ct(!0);break}Oe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ke.length,index:ee}),Ne++}}else if(te&&pe.length===0&&ue.substring(ee,ee+Ce)===te){if(Le===-1)return Ct();ee=Le+de,Le=ue.indexOf(G,ee),Fe=ue.indexOf(j,ee)}else if(Fe!==-1&&(Fe<Le||Le===-1))pe.push(ue.substring(ee,Fe)),ee=Fe+tt,Fe=ue.indexOf(j,ee);else{if(Le===-1)break;if(pe.push(ue.substring(ee,Le)),Fs(Le+de),xe&&(Bn(),he))return Ct();if(se&&ke.length>=se)return Ct(!0)}return In();function Pt(ut){ke.push(ut),Te=ee}function ve(ut){var gn=0;return gn=ut!==-1&&(ut=ue.substring(Ne+1,ut))&&ut.trim()===""?ut.length:gn}function In(ut){return we||(ut===void 0&&(ut=ue.substring(ee)),pe.push(ut),ee=Re,Pt(pe),xe&&Bn()),Ct()}function Fs(ut){ee=ut,Pt(pe),pe=[],Le=ue.indexOf(G,ee)}function Ct(ut){if(L.header&&!me&&ke.length&&!fe){var gn=ke[0],an=Object.create(null),Jt=new Set(gn);let ml=!1;for(let Rr=0;Rr<gn.length;Rr++){let hr=gn[Rr];if(an[hr=F(L.transformHeader)?L.transformHeader(hr,Rr):hr]){let St,ge=an[hr];for(;St=hr+"_"+ge,ge++,Jt.has(St););Jt.add(St),gn[Rr]=St,an[hr]++,ml=!0,(X=X===null?{}:X)[St]=hr}else an[hr]=1,gn[Rr]=hr;Jt.add(hr)}ml&&console.warn("Duplicate headers found and renamed."),fe=!0}return{data:ke,errors:Oe,meta:{delimiter:j,linebreak:G,aborted:he,truncated:!!ut,cursor:Te+(me||0),renamedHeaders:X}}}function Bn(){q(Ct()),ke=[],Oe=[]}},this.abort=function(){he=!0},this.getCharIndex=function(){return ee}}function N(L){var j=L.data,G=h[j.workerId],te=!1;if(j.error)G.userError(j.error,j.file);else if(j.results&&j.results.data){var q={abort:function(){te=!0,S(j.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:D,resume:D};if(F(G.userStep)){for(var se=0;se<j.results.data.length&&(G.userStep({data:j.results.data[se],errors:j.results.errors,meta:j.results.meta},q),!te);se++);delete j.results}else F(G.userChunk)&&(G.userChunk(j.results,q,j.file),delete j.results)}j.finished&&!te&&S(j.workerId,j.results)}function S(L,j){var G=h[L];F(G.userComplete)&&G.userComplete(j),G.terminate(),delete h[L]}function D(){throw new Error("Not implemented.")}function V(L){if(typeof L!="object"||L===null)return L;var j,G=Array.isArray(L)?[]:{};for(j in L)G[j]=V(L[j]);return G}function W(L,j){return function(){L.apply(j,arguments)}}function F(L){return typeof L=="function"}return g.parse=function(L,j){var G=(j=j||{}).dynamicTyping||!1;if(F(G)&&(j.dynamicTypingFunction=G,G={}),j.dynamicTyping=G,j.transform=!!F(j.transform)&&j.transform,!j.worker||!g.WORKERS_SUPPORTED)return G=null,g.NODE_STREAM_INPUT,typeof L=="string"?(L=(te=>te.charCodeAt(0)!==65279?te:te.slice(1))(L),G=new(j.download?v:T)(j)):L.readable===!0&&F(L.read)&&F(L.on)?G=new P(j):(r.File&&L instanceof File||L instanceof Object)&&(G=new C(j)),G.stream(L);(G=(()=>{var te;return!!g.WORKERS_SUPPORTED&&(te=(()=>{var q=r.URL||r.webkitURL||null,se=n.toString();return g.BLOB_URL||(g.BLOB_URL=q.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",se,")();"],{type:"text/javascript"})))})(),(te=new r.Worker(te)).onmessage=N,te.id=m++,h[te.id]=te)})()).userStep=j.step,G.userChunk=j.chunk,G.userComplete=j.complete,G.userError=j.error,j.step=F(j.step),j.chunk=F(j.chunk),j.complete=F(j.complete),j.error=F(j.error),delete j.worker,G.postMessage({input:L,config:j,workerId:G.id})},g.unparse=function(L,j){var G=!1,te=!0,q=",",se=`\r
`,re='"',X=re+re,fe=!1,ne=null,Q=!1,ee=((()=>{if(typeof j=="object"){if(typeof j.delimiter!="string"||g.BAD_DELIMITERS.filter(function(me){return j.delimiter.indexOf(me)!==-1}).length||(q=j.delimiter),typeof j.quotes!="boolean"&&typeof j.quotes!="function"&&!Array.isArray(j.quotes)||(G=j.quotes),typeof j.skipEmptyLines!="boolean"&&typeof j.skipEmptyLines!="string"||(fe=j.skipEmptyLines),typeof j.newline=="string"&&(se=j.newline),typeof j.quoteChar=="string"&&(re=j.quoteChar),typeof j.header=="boolean"&&(te=j.header),Array.isArray(j.columns)){if(j.columns.length===0)throw new Error("Option columns is empty");ne=j.columns}j.escapeChar!==void 0&&(X=j.escapeChar+re),j.escapeFormulae instanceof RegExp?Q=j.escapeFormulae:typeof j.escapeFormulae=="boolean"&&j.escapeFormulae&&(Q=/^[=+\-@\t\r].*$/)}})(),new RegExp(k(re),"g"));if(typeof L=="string"&&(L=JSON.parse(L)),Array.isArray(L)){if(!L.length||Array.isArray(L[0]))return he(null,L,fe);if(typeof L[0]=="object")return he(ne||Object.keys(L[0]),L,fe)}else if(typeof L=="object")return typeof L.data=="string"&&(L.data=JSON.parse(L.data)),Array.isArray(L.data)&&(L.fields||(L.fields=L.meta&&L.meta.fields||ne),L.fields||(L.fields=Array.isArray(L.data[0])?L.fields:typeof L.data[0]=="object"?Object.keys(L.data[0]):[]),Array.isArray(L.data[0])||typeof L.data[0]=="object"||(L.data=[L.data])),he(L.fields||[],L.data||[],fe);throw new Error("Unable to serialize unrecognized input");function he(me,we,Re){var tt="",de=(typeof me=="string"&&(me=JSON.parse(me)),typeof we=="string"&&(we=JSON.parse(we)),Array.isArray(me)&&0<me.length),Ce=!Array.isArray(we[0]);if(de&&te){for(var xe=0;xe<me.length;xe++)0<xe&&(tt+=q),tt+=ue(me[xe],xe);0<we.length&&(tt+=se)}for(var ke=0;ke<we.length;ke++){var Oe=(de?me:we[ke]).length,pe=!1,Te=de?Object.keys(we[ke]).length===0:we[ke].length===0;if(Re&&!de&&(pe=Re==="greedy"?we[ke].join("").trim()==="":we[ke].length===1&&we[ke][0].length===0),Re==="greedy"&&de){for(var Ae=[],Ve=0;Ve<Oe;Ve++){var Fe=Ce?me[Ve]:Ve;Ae.push(we[ke][Fe])}pe=Ae.join("").trim()===""}if(!pe){for(var Le=0;Le<Oe;Le++){0<Le&&!Te&&(tt+=q);var qe=de&&Ce?me[Le]:Le;tt+=ue(we[ke][qe],Le)}ke<we.length-1&&(!Re||0<Oe&&!Te)&&(tt+=se)}}return tt}function ue(me,we){var Re,tt;return me==null?"":me.constructor===Date?JSON.stringify(me).slice(1,25):(tt=!1,Q&&typeof me=="string"&&Q.test(me)&&(me="'"+me,tt=!0),Re=me.toString().replace(ee,X),(tt=tt||G===!0||typeof G=="function"&&G(me,we)||Array.isArray(G)&&G[we]||((de,Ce)=>{for(var xe=0;xe<Ce.length;xe++)if(-1<de.indexOf(Ce[xe]))return!0;return!1})(Re,g.BAD_DELIMITERS)||-1<Re.indexOf(q)||Re.charAt(0)===" "||Re.charAt(Re.length-1)===" ")?re+Re+re:Re)}},g.RECORD_SEP="",g.UNIT_SEP="",g.BYTE_ORDER_MARK="\uFEFF",g.BAD_DELIMITERS=["\r",`
`,'"',g.BYTE_ORDER_MARK],g.WORKERS_SUPPORTED=!a&&!!r.Worker,g.NODE_STREAM_INPUT=1,g.LocalChunkSize=10485760,g.RemoteChunkSize=5242880,g.DefaultDelimiter=",",g.Parser=I,g.ParserHandle=_,g.NetworkStreamer=v,g.FileStreamer=C,g.StringStreamer=T,g.ReadableStreamStreamer=P,r.jQuery&&((o=r.jQuery).fn.parse=function(L){var j=L.config||{},G=[];return this.each(function(se){if(!(o(this).prop("tagName").toUpperCase()==="INPUT"&&o(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var re=0;re<this.files.length;re++)G.push({file:this.files[re],inputElem:this,instanceConfig:o.extend({},j)})}),te(),this;function te(){if(G.length===0)F(L.complete)&&L.complete();else{var se,re,X,fe,ne=G[0];if(F(L.before)){var Q=L.before(ne.file,ne.inputElem);if(typeof Q=="object"){if(Q.action==="abort")return se="AbortError",re=ne.file,X=ne.inputElem,fe=Q.reason,void(F(L.error)&&L.error({name:se},re,X,fe));if(Q.action==="skip")return void q();typeof Q.config=="object"&&(ne.instanceConfig=o.extend(ne.instanceConfig,Q.config))}else if(Q==="skip")return void q()}var ee=ne.instanceConfig.complete;ne.instanceConfig.complete=function(he){F(ee)&&ee(he,ne.file,ne.inputElem),q()},g.parse(ne.file,ne.instanceConfig)}}function q(){G.splice(0,1),te()}}),d&&(r.onmessage=function(L){L=L.data,g.WORKER_ID===void 0&&L&&(g.WORKER_ID=L.workerId),typeof L.input=="string"?r.postMessage({workerId:g.WORKER_ID,results:g.parse(L.input,L.config),finished:!0}):(r.File&&L.input instanceof File||L.input instanceof Object)&&(L=g.parse(L.input,L.config))&&r.postMessage({workerId:g.WORKER_ID,results:L,finished:!0})}),(v.prototype=Object.create(y.prototype)).constructor=v,(C.prototype=Object.create(y.prototype)).constructor=C,(T.prototype=Object.create(T.prototype)).constructor=T,(P.prototype=Object.create(y.prototype)).constructor=P,g})})(FE);var Zk=FE.exports;const Jk=Kd(Zk),eP=["top","right","bottom","left"],Pi=Math.min,sr=Math.max,Bd=Math.round,Bu=Math.floor,Di=e=>({x:e,y:e}),tP={left:"right",right:"left",bottom:"top",top:"bottom"},nP={start:"end",end:"start"};function I1(e,t,n){return sr(e,Pi(t,n))}function Ps(e,t){return typeof e=="function"?e(t):e}function Ds(e){return e.split("-")[0]}function hl(e){return e.split("-")[1]}function xp(e){return e==="x"?"y":"x"}function wp(e){return e==="y"?"height":"width"}function Mi(e){return["top","bottom"].includes(Ds(e))?"y":"x"}function yp(e){return xp(Mi(e))}function rP(e,t,n){n===void 0&&(n=!1);const r=hl(e),o=yp(e),a=wp(o);let d=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(d=Fd(d)),[d,Fd(d)]}function sP(e){const t=Fd(e);return[R1(e),t,R1(t)]}function R1(e){return e.replace(/start|end/g,t=>nP[t])}function iP(e,t,n){const r=["left","right"],o=["right","left"],a=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?a:d;default:return[]}}function oP(e,t,n,r){const o=hl(e);let a=iP(Ds(e),n==="start",r);return o&&(a=a.map(d=>d+"-"+o),t&&(a=a.concat(a.map(R1)))),a}function Fd(e){return e.replace(/left|right|bottom|top/g,t=>tP[t])}function aP(e){return{top:0,right:0,bottom:0,left:0,...e}}function UE(e){return typeof e!="number"?aP(e):{top:e,right:e,bottom:e,left:e}}function Ud(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function xw(e,t,n){let{reference:r,floating:o}=e;const a=Mi(t),d=yp(t),h=wp(d),m=Ds(t),g=a==="y",y=r.x+r.width/2-o.width/2,v=r.y+r.height/2-o.height/2,C=r[h]/2-o[h]/2;let T;switch(m){case"top":T={x:y,y:r.y-o.height};break;case"bottom":T={x:y,y:r.y+r.height};break;case"right":T={x:r.x+r.width,y:v};break;case"left":T={x:r.x-o.width,y:v};break;default:T={x:r.x,y:r.y}}switch(hl(t)){case"start":T[d]-=C*(n&&g?-1:1);break;case"end":T[d]+=C*(n&&g?-1:1);break}return T}const lP=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:d}=n,h=a.filter(Boolean),m=await(d.isRTL==null?void 0:d.isRTL(t));let g=await d.getElementRects({reference:e,floating:t,strategy:o}),{x:y,y:v}=xw(g,r,m),C=r,T={},P=0;for(let _=0;_<h.length;_++){const{name:k,fn:I}=h[_],{x:N,y:S,data:D,reset:V}=await I({x:y,y:v,initialPlacement:r,placement:C,strategy:o,middlewareData:T,rects:g,platform:d,elements:{reference:e,floating:t}});y=N??y,v=S??v,T={...T,[k]:{...T[k],...D}},V&&P<=50&&(P++,typeof V=="object"&&(V.placement&&(C=V.placement),V.rects&&(g=V.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:o}):V.rects),{x:y,y:v}=xw(g,C,m)),_=-1)}return{x:y,y:v,placement:C,strategy:o,middlewareData:T}};async function _c(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:d,elements:h,strategy:m}=e,{boundary:g="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:C=!1,padding:T=0}=Ps(t,e),P=UE(T),k=h[C?v==="floating"?"reference":"floating":v],I=Ud(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(k)))==null||n?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:g,rootBoundary:y,strategy:m})),N=v==="floating"?{x:r,y:o,width:d.floating.width,height:d.floating.height}:d.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),D=await(a.isElement==null?void 0:a.isElement(S))?await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1}:{x:1,y:1},V=Ud(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:N,offsetParent:S,strategy:m}):N);return{top:(I.top-V.top+P.top)/D.y,bottom:(V.bottom-I.bottom+P.bottom)/D.y,left:(I.left-V.left+P.left)/D.x,right:(V.right-I.right+P.right)/D.x}}const cP=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:a,platform:d,elements:h,middlewareData:m}=t,{element:g,padding:y=0}=Ps(e,t)||{};if(g==null)return{};const v=UE(y),C={x:n,y:r},T=yp(o),P=wp(T),_=await d.getDimensions(g),k=T==="y",I=k?"top":"left",N=k?"bottom":"right",S=k?"clientHeight":"clientWidth",D=a.reference[P]+a.reference[T]-C[T]-a.floating[P],V=C[T]-a.reference[T],W=await(d.getOffsetParent==null?void 0:d.getOffsetParent(g));let F=W?W[S]:0;(!F||!await(d.isElement==null?void 0:d.isElement(W)))&&(F=h.floating[S]||a.floating[P]);const L=D/2-V/2,j=F/2-_[P]/2-1,G=Pi(v[I],j),te=Pi(v[N],j),q=G,se=F-_[P]-te,re=F/2-_[P]/2+L,X=I1(q,re,se),fe=!m.arrow&&hl(o)!=null&&re!==X&&a.reference[P]/2-(re<q?G:te)-_[P]/2<0,ne=fe?re<q?re-q:re-se:0;return{[T]:C[T]+ne,data:{[T]:X,centerOffset:re-X-ne,...fe&&{alignmentOffset:ne}},reset:fe}}}),uP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:d,initialPlacement:h,platform:m,elements:g}=t,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:C,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:_=!0,...k}=Ps(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const I=Ds(o),N=Mi(h),S=Ds(h)===h,D=await(m.isRTL==null?void 0:m.isRTL(g.floating)),V=C||(S||!_?[Fd(h)]:sP(h)),W=P!=="none";!C&&W&&V.push(...oP(h,_,P,D));const F=[h,...V],L=await _c(t,k),j=[];let G=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&j.push(L[I]),v){const re=rP(o,d,D);j.push(L[re[0]],L[re[1]])}if(G=[...G,{placement:o,overflows:j}],!j.every(re=>re<=0)){var te,q;const re=(((te=a.flip)==null?void 0:te.index)||0)+1,X=F[re];if(X)return{data:{index:re,overflows:G},reset:{placement:X}};let fe=(q=G.filter(ne=>ne.overflows[0]<=0).sort((ne,Q)=>ne.overflows[1]-Q.overflows[1])[0])==null?void 0:q.placement;if(!fe)switch(T){case"bestFit":{var se;const ne=(se=G.filter(Q=>{if(W){const ee=Mi(Q.placement);return ee===N||ee==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(ee=>ee>0).reduce((ee,he)=>ee+he,0)]).sort((Q,ee)=>Q[1]-ee[1])[0])==null?void 0:se[0];ne&&(fe=ne);break}case"initialPlacement":fe=h;break}if(o!==fe)return{reset:{placement:fe}}}return{}}}};function ww(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function yw(e){return eP.some(t=>e[t]>=0)}const dP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Ps(e,t);switch(r){case"referenceHidden":{const a=await _c(t,{...o,elementContext:"reference"}),d=ww(a,n.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:yw(d)}}}case"escaped":{const a=await _c(t,{...o,altBoundary:!0}),d=ww(a,n.floating);return{data:{escapedOffsets:d,escaped:yw(d)}}}default:return{}}}}};async function fP(e,t){const{placement:n,platform:r,elements:o}=e,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),d=Ds(n),h=hl(n),m=Mi(n)==="y",g=["left","top"].includes(d)?-1:1,y=a&&m?-1:1,v=Ps(t,e);let{mainAxis:C,crossAxis:T,alignmentAxis:P}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return h&&typeof P=="number"&&(T=h==="end"?P*-1:P),m?{x:T*y,y:C*g}:{x:C*g,y:T*y}}const hP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:a,placement:d,middlewareData:h}=t,m=await fP(t,e);return d===((n=h.offset)==null?void 0:n.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:o+m.x,y:a+m.y,data:{...m,placement:d}}}}},gP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:a=!0,crossAxis:d=!1,limiter:h={fn:k=>{let{x:I,y:N}=k;return{x:I,y:N}}},...m}=Ps(e,t),g={x:n,y:r},y=await _c(t,m),v=Mi(Ds(o)),C=xp(v);let T=g[C],P=g[v];if(a){const k=C==="y"?"top":"left",I=C==="y"?"bottom":"right",N=T+y[k],S=T-y[I];T=I1(N,T,S)}if(d){const k=v==="y"?"top":"left",I=v==="y"?"bottom":"right",N=P+y[k],S=P-y[I];P=I1(N,P,S)}const _=h.fn({...t,[C]:T,[v]:P});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[C]:a,[v]:d}}}}}},pP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:a,middlewareData:d}=t,{offset:h=0,mainAxis:m=!0,crossAxis:g=!0}=Ps(e,t),y={x:n,y:r},v=Mi(o),C=xp(v);let T=y[C],P=y[v];const _=Ps(h,t),k=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(m){const S=C==="y"?"height":"width",D=a.reference[C]-a.floating[S]+k.mainAxis,V=a.reference[C]+a.reference[S]-k.mainAxis;T<D?T=D:T>V&&(T=V)}if(g){var I,N;const S=C==="y"?"width":"height",D=["top","left"].includes(Ds(o)),V=a.reference[v]-a.floating[S]+(D&&((I=d.offset)==null?void 0:I[v])||0)+(D?0:k.crossAxis),W=a.reference[v]+a.reference[S]+(D?0:((N=d.offset)==null?void 0:N[v])||0)-(D?k.crossAxis:0);P<V?P=V:P>W&&(P=W)}return{[C]:T,[v]:P}}}},mP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:a,platform:d,elements:h}=t,{apply:m=()=>{},...g}=Ps(e,t),y=await _c(t,g),v=Ds(o),C=hl(o),T=Mi(o)==="y",{width:P,height:_}=a.floating;let k,I;v==="top"||v==="bottom"?(k=v,I=C===(await(d.isRTL==null?void 0:d.isRTL(h.floating))?"start":"end")?"left":"right"):(I=v,k=C==="end"?"top":"bottom");const N=_-y.top-y.bottom,S=P-y.left-y.right,D=Pi(_-y[k],N),V=Pi(P-y[I],S),W=!t.middlewareData.shift;let F=D,L=V;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(L=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(F=N),W&&!C){const G=sr(y.left,0),te=sr(y.right,0),q=sr(y.top,0),se=sr(y.bottom,0);T?L=P-2*(G!==0||te!==0?G+te:sr(y.left,y.right)):F=_-2*(q!==0||se!==0?q+se:sr(y.top,y.bottom))}await m({...t,availableWidth:L,availableHeight:F});const j=await d.getDimensions(h.floating);return P!==j.width||_!==j.height?{reset:{rects:!0}}:{}}}};function kf(){return typeof window<"u"}function gl(e){return VE(e)?(e.nodeName||"").toLowerCase():"#document"}function lr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ms(e){var t;return(t=(VE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function VE(e){return kf()?e instanceof Node||e instanceof lr(e).Node:!1}function $r(e){return kf()?e instanceof Element||e instanceof lr(e).Element:!1}function gs(e){return kf()?e instanceof HTMLElement||e instanceof lr(e).HTMLElement:!1}function vw(e){return!kf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof lr(e).ShadowRoot}function Qc(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Gr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function xP(e){return["table","td","th"].includes(gl(e))}function Pf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function vp(e){const t=bp(),n=$r(e)?Gr(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function wP(e){let t=ji(e);for(;gs(t)&&!Ja(t);){if(vp(t))return t;if(Pf(t))return null;t=ji(t)}return null}function bp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ja(e){return["html","body","#document"].includes(gl(e))}function Gr(e){return lr(e).getComputedStyle(e)}function Df(e){return $r(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ji(e){if(gl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vw(e)&&e.host||ms(e);return vw(t)?t.host:t}function WE(e){const t=ji(e);return Ja(t)?e.ownerDocument?e.ownerDocument.body:e.body:gs(t)&&Qc(t)?t:WE(t)}function Nc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=WE(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),d=lr(o);if(a){const h=O1(d);return t.concat(d,d.visualViewport||[],Qc(o)?o:[],h&&n?Nc(h):[])}return t.concat(o,Nc(o,[],n))}function O1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function zE(e){const t=Gr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=gs(e),a=o?e.offsetWidth:n,d=o?e.offsetHeight:r,h=Bd(n)!==a||Bd(r)!==d;return h&&(n=a,r=d),{width:n,height:r,$:h}}function Ep(e){return $r(e)?e:e.contextElement}function Ia(e){const t=Ep(e);if(!gs(t))return Di(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=zE(t);let d=(a?Bd(n.width):n.width)/r,h=(a?Bd(n.height):n.height)/o;return(!d||!Number.isFinite(d))&&(d=1),(!h||!Number.isFinite(h))&&(h=1),{x:d,y:h}}const yP=Di(0);function HE(e){const t=lr(e);return!bp()||!t.visualViewport?yP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vP(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==lr(e)?!1:t}function Ro(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=Ep(e);let d=Di(1);t&&(r?$r(r)&&(d=Ia(r)):d=Ia(e));const h=vP(a,n,r)?HE(a):Di(0);let m=(o.left+h.x)/d.x,g=(o.top+h.y)/d.y,y=o.width/d.x,v=o.height/d.y;if(a){const C=lr(a),T=r&&$r(r)?lr(r):r;let P=C,_=O1(P);for(;_&&r&&T!==P;){const k=Ia(_),I=_.getBoundingClientRect(),N=Gr(_),S=I.left+(_.clientLeft+parseFloat(N.paddingLeft))*k.x,D=I.top+(_.clientTop+parseFloat(N.paddingTop))*k.y;m*=k.x,g*=k.y,y*=k.x,v*=k.y,m+=S,g+=D,P=lr(_),_=O1(P)}}return Ud({width:y,height:v,x:m,y:g})}function bP(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a=o==="fixed",d=ms(r),h=t?Pf(t.floating):!1;if(r===d||h&&a)return n;let m={scrollLeft:0,scrollTop:0},g=Di(1);const y=Di(0),v=gs(r);if((v||!v&&!a)&&((gl(r)!=="body"||Qc(d))&&(m=Df(r)),gs(r))){const C=Ro(r);g=Ia(r),y.x=C.x+r.clientLeft,y.y=C.y+r.clientTop}return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-m.scrollLeft*g.x+y.x,y:n.y*g.y-m.scrollTop*g.y+y.y}}function EP(e){return Array.from(e.getClientRects())}function k1(e,t){const n=Df(e).scrollLeft;return t?t.left+n:Ro(ms(e)).left+n}function CP(e){const t=ms(e),n=Df(e),r=e.ownerDocument.body,o=sr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=sr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let d=-n.scrollLeft+k1(e);const h=-n.scrollTop;return Gr(r).direction==="rtl"&&(d+=sr(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:d,y:h}}function SP(e,t){const n=lr(e),r=ms(e),o=n.visualViewport;let a=r.clientWidth,d=r.clientHeight,h=0,m=0;if(o){a=o.width,d=o.height;const g=bp();(!g||g&&t==="fixed")&&(h=o.offsetLeft,m=o.offsetTop)}return{width:a,height:d,x:h,y:m}}function AP(e,t){const n=Ro(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=gs(e)?Ia(e):Di(1),d=e.clientWidth*a.x,h=e.clientHeight*a.y,m=o*a.x,g=r*a.y;return{width:d,height:h,x:m,y:g}}function bw(e,t,n){let r;if(t==="viewport")r=SP(e,n);else if(t==="document")r=CP(ms(e));else if($r(t))r=AP(t,n);else{const o=HE(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Ud(r)}function $E(e,t){const n=ji(e);return n===t||!$r(n)||Ja(n)?!1:Gr(n).position==="fixed"||$E(n,t)}function _P(e,t){const n=t.get(e);if(n)return n;let r=Nc(e,[],!1).filter(h=>$r(h)&&gl(h)!=="body"),o=null;const a=Gr(e).position==="fixed";let d=a?ji(e):e;for(;$r(d)&&!Ja(d);){const h=Gr(d),m=vp(d);!m&&h.position==="fixed"&&(o=null),(a?!m&&!o:!m&&h.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Qc(d)&&!m&&$E(e,d))?r=r.filter(y=>y!==d):o=h,d=ji(d)}return t.set(e,r),r}function NP(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const d=[...n==="clippingAncestors"?Pf(t)?[]:_P(t,this._c):[].concat(n),r],h=d[0],m=d.reduce((g,y)=>{const v=bw(t,y,o);return g.top=sr(v.top,g.top),g.right=Pi(v.right,g.right),g.bottom=Pi(v.bottom,g.bottom),g.left=sr(v.left,g.left),g},bw(t,h,o));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function TP(e){const{width:t,height:n}=zE(e);return{width:t,height:n}}function IP(e,t,n){const r=gs(t),o=ms(t),a=n==="fixed",d=Ro(e,!0,a,t);let h={scrollLeft:0,scrollTop:0};const m=Di(0);if(r||!r&&!a)if((gl(t)!=="body"||Qc(o))&&(h=Df(t)),r){const T=Ro(t,!0,a,t);m.x=T.x+t.clientLeft,m.y=T.y+t.clientTop}else o&&(m.x=k1(o));let g=0,y=0;if(o&&!r&&!a){const T=o.getBoundingClientRect();y=T.top+h.scrollTop,g=T.left+h.scrollLeft-k1(o,T)}const v=d.left+h.scrollLeft-m.x-g,C=d.top+h.scrollTop-m.y-y;return{x:v,y:C,width:d.width,height:d.height}}function t0(e){return Gr(e).position==="static"}function Ew(e,t){if(!gs(e)||Gr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ms(e)===n&&(n=n.ownerDocument.body),n}function GE(e,t){const n=lr(e);if(Pf(e))return n;if(!gs(e)){let o=ji(e);for(;o&&!Ja(o);){if($r(o)&&!t0(o))return o;o=ji(o)}return n}let r=Ew(e,t);for(;r&&xP(r)&&t0(r);)r=Ew(r,t);return r&&Ja(r)&&t0(r)&&!vp(r)?n:r||wP(e)||n}const RP=async function(e){const t=this.getOffsetParent||GE,n=this.getDimensions,r=await n(e.floating);return{reference:IP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function OP(e){return Gr(e).direction==="rtl"}const kP={convertOffsetParentRelativeRectToViewportRelativeRect:bP,getDocumentElement:ms,getClippingRect:NP,getOffsetParent:GE,getElementRects:RP,getClientRects:EP,getDimensions:TP,getScale:Ia,isElement:$r,isRTL:OP};function PP(e,t){let n=null,r;const o=ms(e);function a(){var h;clearTimeout(r),(h=n)==null||h.disconnect(),n=null}function d(h,m){h===void 0&&(h=!1),m===void 0&&(m=1),a();const{left:g,top:y,width:v,height:C}=e.getBoundingClientRect();if(h||t(),!v||!C)return;const T=Bu(y),P=Bu(o.clientWidth-(g+v)),_=Bu(o.clientHeight-(y+C)),k=Bu(g),N={rootMargin:-T+"px "+-P+"px "+-_+"px "+-k+"px",threshold:sr(0,Pi(1,m))||1};let S=!0;function D(V){const W=V[0].intersectionRatio;if(W!==m){if(!S)return d();W?d(!1,W):r=setTimeout(()=>{d(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(D,{...N,root:o.ownerDocument})}catch{n=new IntersectionObserver(D,N)}n.observe(e)}return d(!0),a}function DP(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:m=!1}=r,g=Ep(e),y=o||a?[...g?Nc(g):[],...Nc(t)]:[];y.forEach(I=>{o&&I.addEventListener("scroll",n,{passive:!0}),a&&I.addEventListener("resize",n)});const v=g&&h?PP(g,n):null;let C=-1,T=null;d&&(T=new ResizeObserver(I=>{let[N]=I;N&&N.target===g&&T&&(T.unobserve(t),cancelAnimationFrame(C),C=requestAnimationFrame(()=>{var S;(S=T)==null||S.observe(t)})),n()}),g&&!m&&T.observe(g),T.observe(t));let P,_=m?Ro(e):null;m&&k();function k(){const I=Ro(e);_&&(I.x!==_.x||I.y!==_.y||I.width!==_.width||I.height!==_.height)&&n(),_=I,P=requestAnimationFrame(k)}return n(),()=>{var I;y.forEach(N=>{o&&N.removeEventListener("scroll",n),a&&N.removeEventListener("resize",n)}),v==null||v(),(I=T)==null||I.disconnect(),T=null,m&&cancelAnimationFrame(P)}}const MP=hP,jP=gP,LP=uP,BP=mP,FP=dP,Cw=cP,UP=pP,VP=(e,t,n)=>{const r=new Map,o={platform:kP,...n},a={...o.platform,_c:r};return lP(e,t,{...o,platform:a})};var nd=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Vd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Vd(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!Vd(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function qE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Sw(e,t){const n=qE(e);return Math.round(t*n)/n}function n0(e){const t=E.useRef(e);return nd(()=>{t.current=e}),t}function WP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:d}={},transform:h=!0,whileElementsMounted:m,open:g}=e,[y,v]=E.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[C,T]=E.useState(r);Vd(C,r)||T(r);const[P,_]=E.useState(null),[k,I]=E.useState(null),N=E.useCallback(Q=>{Q!==W.current&&(W.current=Q,_(Q))},[]),S=E.useCallback(Q=>{Q!==F.current&&(F.current=Q,I(Q))},[]),D=a||P,V=d||k,W=E.useRef(null),F=E.useRef(null),L=E.useRef(y),j=m!=null,G=n0(m),te=n0(o),q=n0(g),se=E.useCallback(()=>{if(!W.current||!F.current)return;const Q={placement:t,strategy:n,middleware:C};te.current&&(Q.platform=te.current),VP(W.current,F.current,Q).then(ee=>{const he={...ee,isPositioned:q.current!==!1};re.current&&!Vd(L.current,he)&&(L.current=he,Do.flushSync(()=>{v(he)}))})},[C,t,n,te,q]);nd(()=>{g===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,v(Q=>({...Q,isPositioned:!1})))},[g]);const re=E.useRef(!1);nd(()=>(re.current=!0,()=>{re.current=!1}),[]),nd(()=>{if(D&&(W.current=D),V&&(F.current=V),D&&V){if(G.current)return G.current(D,V,se);se()}},[D,V,se,G,j]);const X=E.useMemo(()=>({reference:W,floating:F,setReference:N,setFloating:S}),[N,S]),fe=E.useMemo(()=>({reference:D,floating:V}),[D,V]),ne=E.useMemo(()=>{const Q={position:n,left:0,top:0};if(!fe.floating)return Q;const ee=Sw(fe.floating,y.x),he=Sw(fe.floating,y.y);return h?{...Q,transform:"translate("+ee+"px, "+he+"px)",...qE(fe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:he}},[n,h,fe.floating,y.x,y.y]);return E.useMemo(()=>({...y,update:se,refs:X,elements:fe,floatingStyles:ne}),[y,se,X,fe,ne])}const zP=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Cw({element:r.current,padding:o}).fn(n):{}:r?Cw({element:r,padding:o}).fn(n):{}}}},HP=(e,t)=>({...MP(e),options:[e,t]}),$P=(e,t)=>({...jP(e),options:[e,t]}),GP=(e,t)=>({...UP(e),options:[e,t]}),qP=(e,t)=>({...LP(e),options:[e,t]}),XP=(e,t)=>({...BP(e),options:[e,t]}),KP=(e,t)=>({...FP(e),options:[e,t]}),YP=(e,t)=>({...zP(e),options:[e,t]});var QP="Arrow",XE=E.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...a}=e;return p.jsx(Ye.svg,{...a,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});XE.displayName=QP;var ZP=XE;function JP(e,t=[]){let n=[];function r(a,d){const h=E.createContext(d),m=n.length;n=[...n,d];function g(v){const{scope:C,children:T,...P}=v,_=(C==null?void 0:C[e][m])||h,k=E.useMemo(()=>P,Object.values(P));return p.jsx(_.Provider,{value:k,children:T})}function y(v,C){const T=(C==null?void 0:C[e][m])||h,P=E.useContext(T);if(P)return P;if(d!==void 0)return d;throw new Error(`\`${v}\` must be used within \`${a}\``)}return g.displayName=a+"Provider",[g,y]}const o=()=>{const a=n.map(d=>E.createContext(d));return function(h){const m=(h==null?void 0:h[e])||a;return E.useMemo(()=>({[`__scope${e}`]:{...h,[e]:m}}),[h,m])}};return o.scopeName=e,[r,e5(o,...t)]}function e5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const d=r.reduce((h,{useScope:m,scopeName:g})=>{const v=m(a)[`__scope${g}`];return{...h,...v}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}function Cp(e){const[t,n]=E.useState(void 0);return Tn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let d,h;if("borderBoxSize"in a){const m=a.borderBoxSize,g=Array.isArray(m)?m[0]:m;d=g.inlineSize,h=g.blockSize}else d=e.offsetWidth,h=e.offsetHeight;n({width:d,height:h})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Sp="Popper",[KE,Mf]=JP(Sp),[t5,YE]=KE(Sp),QE=e=>{const{__scopePopper:t,children:n}=e,[r,o]=E.useState(null);return p.jsx(t5,{scope:t,anchor:r,onAnchorChange:o,children:n})};QE.displayName=Sp;var ZE="PopperAnchor",JE=E.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,a=YE(ZE,n),d=E.useRef(null),h=xt(t,d);return E.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||d.current)}),r?null:p.jsx(Ye.div,{...o,ref:h})});JE.displayName=ZE;var Ap="PopperContent",[n5,r5]=KE(Ap),eC=E.forwardRef((e,t)=>{var Ce,xe,ke,Oe,pe,Te;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:d=0,arrowPadding:h=0,avoidCollisions:m=!0,collisionBoundary:g=[],collisionPadding:y=0,sticky:v="partial",hideWhenDetached:C=!1,updatePositionStrategy:T="optimized",onPlaced:P,..._}=e,k=YE(Ap,n),[I,N]=E.useState(null),S=xt(t,Ae=>N(Ae)),[D,V]=E.useState(null),W=Cp(D),F=(W==null?void 0:W.width)??0,L=(W==null?void 0:W.height)??0,j=r+(a!=="center"?"-"+a:""),G=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},te=Array.isArray(g)?g:[g],q=te.length>0,se={padding:G,boundary:te.filter(i5),altBoundary:q},{refs:re,floatingStyles:X,placement:fe,isPositioned:ne,middlewareData:Q}=WP({strategy:"fixed",placement:j,whileElementsMounted:(...Ae)=>DP(...Ae,{animationFrame:T==="always"}),elements:{reference:k.anchor},middleware:[HP({mainAxis:o+L,alignmentAxis:d}),m&&$P({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?GP():void 0,...se}),m&&qP({...se}),XP({...se,apply:({elements:Ae,rects:Ve,availableWidth:Fe,availableHeight:Le})=>{const{width:qe,height:Ne}=Ve.reference,_e=Ae.floating.style;_e.setProperty("--radix-popper-available-width",`${Fe}px`),_e.setProperty("--radix-popper-available-height",`${Le}px`),_e.setProperty("--radix-popper-anchor-width",`${qe}px`),_e.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),D&&YP({element:D,padding:h}),o5({arrowWidth:F,arrowHeight:L}),C&&KP({strategy:"referenceHidden",...se})]}),[ee,he]=rC(fe),ue=ur(P);Tn(()=>{ne&&(ue==null||ue())},[ne,ue]);const me=(Ce=Q.arrow)==null?void 0:Ce.x,we=(xe=Q.arrow)==null?void 0:xe.y,Re=((ke=Q.arrow)==null?void 0:ke.centerOffset)!==0,[tt,de]=E.useState();return Tn(()=>{I&&de(window.getComputedStyle(I).zIndex)},[I]),p.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:ne?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:tt,"--radix-popper-transform-origin":[(Oe=Q.transformOrigin)==null?void 0:Oe.x,(pe=Q.transformOrigin)==null?void 0:pe.y].join(" "),...((Te=Q.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(n5,{scope:n,placedSide:ee,onArrowChange:V,arrowX:me,arrowY:we,shouldHideArrow:Re,children:p.jsx(Ye.div,{"data-side":ee,"data-align":he,..._,ref:S,style:{..._.style,animation:ne?void 0:"none"}})})})});eC.displayName=Ap;var tC="PopperArrow",s5={top:"bottom",right:"left",bottom:"top",left:"right"},nC=E.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,a=r5(tC,r),d=s5[a.placedSide];return p.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:p.jsx(ZP,{...o,ref:n,style:{...o.style,display:"block"}})})});nC.displayName=tC;function i5(e){return e!==null}var o5=e=>({name:"transformOrigin",options:e,fn(t){var k,I,N;const{placement:n,rects:r,middlewareData:o}=t,d=((k=o.arrow)==null?void 0:k.centerOffset)!==0,h=d?0:e.arrowWidth,m=d?0:e.arrowHeight,[g,y]=rC(n),v={start:"0%",center:"50%",end:"100%"}[y],C=(((I=o.arrow)==null?void 0:I.x)??0)+h/2,T=(((N=o.arrow)==null?void 0:N.y)??0)+m/2;let P="",_="";return g==="bottom"?(P=d?v:`${C}px`,_=`${-m}px`):g==="top"?(P=d?v:`${C}px`,_=`${r.floating.height+m}px`):g==="right"?(P=`${-m}px`,_=d?v:`${T}px`):g==="left"&&(P=`${r.floating.width+m}px`,_=d?v:`${T}px`),{data:{x:P,y:_}}}});function rC(e){const[t,n="center"]=e.split("-");return[t,n]}var sC=QE,iC=JE,oC=eC,aC=nC,[jf,s7]=Mo("Tooltip",[Mf]),Lf=Mf(),lC="TooltipProvider",a5=700,P1="tooltip.open",[l5,_p]=jf(lC),cC=e=>{const{__scopeTooltip:t,delayDuration:n=a5,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:a}=e,[d,h]=E.useState(!0),m=E.useRef(!1),g=E.useRef(0);return E.useEffect(()=>{const y=g.current;return()=>window.clearTimeout(y)},[]),p.jsx(l5,{scope:t,isOpenDelayed:d,delayDuration:n,onOpen:E.useCallback(()=>{window.clearTimeout(g.current),h(!1)},[]),onClose:E.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>h(!0),r)},[r]),isPointerInTransitRef:m,onPointerInTransitChange:E.useCallback(y=>{m.current=y},[]),disableHoverableContent:o,children:a})};cC.displayName=lC;var Bf="Tooltip",[c5,Ff]=jf(Bf),uC=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o=!1,onOpenChange:a,disableHoverableContent:d,delayDuration:h}=e,m=_p(Bf,e.__scopeTooltip),g=Lf(t),[y,v]=E.useState(null),C=xo(),T=E.useRef(0),P=d??m.disableHoverableContent,_=h??m.delayDuration,k=E.useRef(!1),[I=!1,N]=No({prop:r,defaultProp:o,onChange:F=>{F?(m.onOpen(),document.dispatchEvent(new CustomEvent(P1))):m.onClose(),a==null||a(F)}}),S=E.useMemo(()=>I?k.current?"delayed-open":"instant-open":"closed",[I]),D=E.useCallback(()=>{window.clearTimeout(T.current),T.current=0,k.current=!1,N(!0)},[N]),V=E.useCallback(()=>{window.clearTimeout(T.current),T.current=0,N(!1)},[N]),W=E.useCallback(()=>{window.clearTimeout(T.current),T.current=window.setTimeout(()=>{k.current=!0,N(!0),T.current=0},_)},[_,N]);return E.useEffect(()=>()=>{T.current&&(window.clearTimeout(T.current),T.current=0)},[]),p.jsx(sC,{...g,children:p.jsx(c5,{scope:t,contentId:C,open:I,stateAttribute:S,trigger:y,onTriggerChange:v,onTriggerEnter:E.useCallback(()=>{m.isOpenDelayed?W():D()},[m.isOpenDelayed,W,D]),onTriggerLeave:E.useCallback(()=>{P?V():(window.clearTimeout(T.current),T.current=0)},[V,P]),onOpen:D,onClose:V,disableHoverableContent:P,children:n})})};uC.displayName=Bf;var D1="TooltipTrigger",dC=E.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Ff(D1,n),a=_p(D1,n),d=Lf(n),h=E.useRef(null),m=xt(t,h,o.onTriggerChange),g=E.useRef(!1),y=E.useRef(!1),v=E.useCallback(()=>g.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),p.jsx(iC,{asChild:!0,...d,children:p.jsx(Ye.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:m,onPointerMove:Ue(e.onPointerMove,C=>{C.pointerType!=="touch"&&!y.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),y.current=!0)}),onPointerLeave:Ue(e.onPointerLeave,()=>{o.onTriggerLeave(),y.current=!1}),onPointerDown:Ue(e.onPointerDown,()=>{g.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Ue(e.onFocus,()=>{g.current||o.onOpen()}),onBlur:Ue(e.onBlur,o.onClose),onClick:Ue(e.onClick,o.onClose)})})});dC.displayName=D1;var u5="TooltipPortal",[i7,d5]=jf(u5,{forceMount:void 0}),el="TooltipContent",fC=E.forwardRef((e,t)=>{const n=d5(el,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...a}=e,d=Ff(el,e.__scopeTooltip);return p.jsx(jo,{present:r||d.open,children:d.disableHoverableContent?p.jsx(hC,{side:o,...a,ref:t}):p.jsx(f5,{side:o,...a,ref:t})})}),f5=E.forwardRef((e,t)=>{const n=Ff(el,e.__scopeTooltip),r=_p(el,e.__scopeTooltip),o=E.useRef(null),a=xt(t,o),[d,h]=E.useState(null),{trigger:m,onClose:g}=n,y=o.current,{onPointerInTransitChange:v}=r,C=E.useCallback(()=>{h(null),v(!1)},[v]),T=E.useCallback((P,_)=>{const k=P.currentTarget,I={x:P.clientX,y:P.clientY},N=m5(I,k.getBoundingClientRect()),S=x5(I,N),D=w5(_.getBoundingClientRect()),V=v5([...S,...D]);h(V),v(!0)},[v]);return E.useEffect(()=>()=>C(),[C]),E.useEffect(()=>{if(m&&y){const P=k=>T(k,y),_=k=>T(k,m);return m.addEventListener("pointerleave",P),y.addEventListener("pointerleave",_),()=>{m.removeEventListener("pointerleave",P),y.removeEventListener("pointerleave",_)}}},[m,y,T,C]),E.useEffect(()=>{if(d){const P=_=>{const k=_.target,I={x:_.clientX,y:_.clientY},N=(m==null?void 0:m.contains(k))||(y==null?void 0:y.contains(k)),S=!y5(I,d);N?C():S&&(C(),g())};return document.addEventListener("pointermove",P),()=>document.removeEventListener("pointermove",P)}},[m,y,d,g,C]),p.jsx(hC,{...e,ref:a})}),[h5,g5]=jf(Bf,{isInside:!1}),hC=E.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:d,...h}=e,m=Ff(el,n),g=Lf(n),{onClose:y}=m;return E.useEffect(()=>(document.addEventListener(P1,y),()=>document.removeEventListener(P1,y)),[y]),E.useEffect(()=>{if(m.trigger){const v=C=>{const T=C.target;T!=null&&T.contains(m.trigger)&&y()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[m.trigger,y]),p.jsx(Fc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:d,onFocusOutside:v=>v.preventDefault(),onDismiss:y,children:p.jsxs(oC,{"data-state":m.stateAttribute,...g,...h,ref:t,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(Hg,{children:r}),p.jsx(h5,{scope:n,isInside:!0,children:p.jsx(s8,{id:m.contentId,role:"tooltip",children:o||r})})]})})});fC.displayName=el;var gC="TooltipArrow",p5=E.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Lf(n);return g5(gC,n).isInside?null:p.jsx(aC,{...o,...r,ref:t})});p5.displayName=gC;function m5(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,o,a)){case a:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function x5(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function w5(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function y5(e,t){const{x:n,y:r}=e;let o=!1;for(let a=0,d=t.length-1;a<t.length;d=a++){const h=t[a].x,m=t[a].y,g=t[d].x,y=t[d].y;m>r!=y>r&&n<(g-h)*(r-m)/(y-m)+h&&(o=!o)}return o}function v5(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),b5(t)}function b5(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const a=t[t.length-1],d=t[t.length-2];if((a.x-d.x)*(o.y-d.y)>=(a.y-d.y)*(o.x-d.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const a=n[n.length-1],d=n[n.length-2];if((a.x-d.x)*(o.y-d.y)>=(a.y-d.y)*(o.x-d.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var E5=cC,C5=uC,S5=dC,pC=fC;const A5=E5,_5=C5,N5=S5,mC=E.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(pC,{ref:r,sideOffset:t,className:De("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));mC.displayName=pC.displayName;const T5=e=>e?parseFloat(e.replace(",",".")):null,I5=e=>{if(!e||e.trim()==="")return null;const t=e.trim();if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;const n=t.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/);if(n){const[,a,d,h]=n;return`${h}-${d.padStart(2,"0")}-${a.padStart(2,"0")}`}const r=t.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/);if(r){const[,a,d,h]=r;return parseInt(a)>12?`${h}-${a.padStart(2,"0")}-${d.padStart(2,"0")}`:`${h}-${a.padStart(2,"0")}-${d.padStart(2,"0")}`}try{const a=new Date(t);if(!isNaN(a.getTime()))return a.toISOString().split("T")[0]}catch{}const o=t.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})/);if(o){const[,a,d,h]=o;return`${h}-${d.padStart(2,"0")}-${a.padStart(2,"0")}`}return null},R5=e=>{const t=e==null?void 0:e.toLowerCase();return t==="manutenção"?"manutenção":t==="baixado"?"baixado":"ativo"},O5=e=>{const t=e==null?void 0:e.toLowerCase();return t==="sim"||t==="true"},k5=e=>!e.nome||!e.codigo?"Nome e código são obrigatórios":null,P5=(e,t)=>({name:e.nome,code:e.codigo,location:e.localizacao||null,status:R5(e.status),acquisition_date:I5(e.data_aquisicao),value:T5(e.valor),serial_number:e.numero_serie||null,color:e.cor||null,manufacturer:e.fabricante||null,model:e.modelo||null,capacity:e.capacidade||null,voltage:e.voltagem||null,origin:e.origem||null,condition:e.condicoes||null,inalienable:O5(e.inalienavel),holder:e.detentor||null,notes:e.observacoes||null,company_id:t}),D5=()=>{const{profile:e}=Jn(),{toast:t}=qr(),n=Ui();return ki({mutationFn:async r=>{if(!(e!=null&&e.company_id))throw new Error("Company ID not found");const o={success:0,errors:[]};for(let a=0;a<r.length;a++){const d=r[a],h=a+2,m=k5(d);if(m){o.errors.push({row:h,error:m,data:d});continue}try{const g=P5(d,e.company_id),{error:y}=await ct.from("assets").insert(g);y?o.errors.push({row:h,error:y.message,data:d}):o.success++}catch(g){o.errors.push({row:h,error:g instanceof Error?g.message:"Erro desconhecido",data:d})}}return o},onSuccess:r=>{n.invalidateQueries({queryKey:["assets"]}),n.invalidateQueries({queryKey:["dashboard-stats"]}),n.invalidateQueries({queryKey:["recent-assets"]}),t({title:"Importação concluída!",description:`${r.success} ativos importados com sucesso`})},onError:r=>{t({title:"Erro na importação",description:r.message||"Erro ao importar ativos",variant:"destructive"})}})},M5=()=>{const{toast:e}=qr(),[t,n]=E.useState(null),[r,o]=E.useState(0);return{file:t,inputKey:r,handleFileChange:m=>{var y;const g=(y=m.target.files)==null?void 0:y[0];g&&g.type==="text/csv"?n(g):e({title:"Arquivo inválido",description:"Por favor, selecione um arquivo CSV",variant:"destructive"})},removeFile:()=>{n(null),o(m=>m+1)},resetFile:()=>{n(null),o(m=>m+1)},setFile:n}},j5={nome:"nome",código:"codigo",codigo:"codigo",localização:"localizacao",localizacao:"localizacao",local:"localizacao",status:"status",aquisição:"data_aquisicao","data de aquisição":"data_aquisicao",data_aquisicao:"data_aquisicao",data:"data_aquisicao",valor:"valor",preço:"valor",preco:"valor","número de série":"numero_serie",numero_serie:"numero_serie",serial:"numero_serie",cor:"cor",fabricante:"fabricante",marca:"fabricante",modelo:"modelo",capacidade:"capacidade",voltagem:"voltagem",origem:"origem",condições:"condicoes",condicoes:"condicoes",condição:"condicoes",condicao:"condicoes",inalienável:"inalienavel",inalienavel:"inalienavel",detentor:"detentor",responsável:"detentor",responsavel:"detentor",observações:"observacoes",observacoes:"observacoes",obs:"observacoes",notas:"observacoes"},L5=`nome,codigo,localizacao,status,data_aquisicao,valor,numero_serie,cor,fabricante,modelo,capacidade,voltagem,origem,condicoes,inalienavel,detentor,observacoes
Notebook Dell,NB001,Sala 101,ativo,2023-01-15,2500.00,SN123456,Preto,Dell,Inspiron 15,8GB RAM,Bivolt,compra,Novo,não,João Silva,Notebook para desenvolvimento
Monitor Samsung,MON001,Sala 102,ativo,2023-02-10,800.00,MON789,Branco,Samsung,24 polegadas,1920x1080,110V,compra,Usado,não,Maria Santos,Monitor secundário`,B5=e=>j5[e.toLowerCase()]||e,F5=()=>{const e=new Blob([L5],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),n=URL.createObjectURL(e);t.setAttribute("href",n),t.setAttribute("download","template_ativos.csv"),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)};function U5(e,t=[]){let n=[];function r(a,d){const h=E.createContext(d),m=n.length;n=[...n,d];function g(v){const{scope:C,children:T,...P}=v,_=(C==null?void 0:C[e][m])||h,k=E.useMemo(()=>P,Object.values(P));return p.jsx(_.Provider,{value:k,children:T})}function y(v,C){const T=(C==null?void 0:C[e][m])||h,P=E.useContext(T);if(P)return P;if(d!==void 0)return d;throw new Error(`\`${v}\` must be used within \`${a}\``)}return g.displayName=a+"Provider",[g,y]}const o=()=>{const a=n.map(d=>E.createContext(d));return function(h){const m=(h==null?void 0:h[e])||a;return E.useMemo(()=>({[`__scope${e}`]:{...h,[e]:m}}),[h,m])}};return o.scopeName=e,[r,V5(o,...t)]}function V5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const d=r.reduce((h,{useScope:m,scopeName:g})=>{const v=m(a)[`__scope${g}`];return{...h,...v}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}var Np="Progress",Tp=100,[W5,o7]=U5(Np),[z5,H5]=W5(Np),xC=E.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:o,getValueLabel:a=$5,...d}=e;(o||o===0)&&!Aw(o)&&console.error(G5(`${o}`,"Progress"));const h=Aw(o)?o:Tp;r!==null&&!_w(r,h)&&console.error(q5(`${r}`,"Progress"));const m=_w(r,h)?r:null,g=Wd(m)?a(m,h):void 0;return p.jsx(z5,{scope:n,value:m,max:h,children:p.jsx(Ye.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":Wd(m)?m:void 0,"aria-valuetext":g,role:"progressbar","data-state":vC(m,h),"data-value":m??void 0,"data-max":h,...d,ref:t})})});xC.displayName=Np;var wC="ProgressIndicator",yC=E.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,o=H5(wC,n);return p.jsx(Ye.div,{"data-state":vC(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:t})});yC.displayName=wC;function $5(e,t){return`${Math.round(e/t*100)}%`}function vC(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Wd(e){return typeof e=="number"}function Aw(e){return Wd(e)&&!isNaN(e)&&e>0}function _w(e,t){return Wd(e)&&!isNaN(e)&&e<=t&&e>=0}function G5(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Tp}\`.`}function q5(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Tp} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var bC=xC,X5=yC;const EC=E.forwardRef(({className:e,value:t,...n},r)=>p.jsx(bC,{ref:r,className:De("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:p.jsx(X5,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));EC.displayName=bC.displayName;const K5=()=>p.jsxs("div",{children:[p.jsxs(He,{variant:"outline",onClick:F5,className:"mb-4",children:[p.jsx(xf,{className:"h-4 w-4 mr-2"}),"Baixar Template CSV"]}),p.jsxs(Tr,{children:[p.jsx(T8,{className:"h-4 w-4"}),p.jsxs(Ir,{children:["Baixe o template CSV acima para ver o formato correto dos dados. Os campos ",p.jsx("strong",{children:"nome"})," e ",p.jsx("strong",{children:"codigo"})," são obrigatórios."]})]})]}),Y5=({file:e,inputKey:t,handleFileChange:n,removeFile:r,importing:o})=>p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"csvFile",children:"Arquivo CSV"}),p.jsx(yt,{id:"csvFile",type:"file",accept:".csv",onChange:n,disabled:o,className:"cursor-pointer"},t)]}),e&&p.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsxs("p",{className:"text-sm text-gray-600",children:[p.jsx("strong",{children:"Arquivo selecionado:"})," ",e.name]}),p.jsxs("p",{className:"text-sm text-gray-600",children:[p.jsx("strong",{children:"Tamanho:"})," ",(e.size/1024).toFixed(2)," KB"]})]}),p.jsxs(_5,{children:[p.jsx(N5,{asChild:!0,children:p.jsx("button",{type:"button",onClick:r,className:"ml-4 text-gray-400 hover:text-red-600 text-lg font-bold focus:outline-none","aria-label":"Remover arquivo",children:"×"})}),p.jsx(mC,{side:"left",align:"center",children:"Remover arquivo selecionado"})]})]})]}),Q5=({progress:e})=>p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsx("span",{children:"Importando ativos..."}),p.jsxs("span",{children:[Math.round(e),"%"]})]}),p.jsx(EC,{value:e})]}),Z5=({result:e})=>e?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center text-green-600",children:[p.jsx(I8,{className:"h-5 w-5 mr-2"}),p.jsxs("span",{className:"font-medium",children:[e.success," ativos importados com sucesso"]})]}),e.errors.length>0&&p.jsxs("div",{children:[p.jsxs("h4",{className:"font-medium text-red-600 mb-2",children:[e.errors.length," erros encontrados:"]}),p.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:e.errors.map((t,n)=>p.jsx(Tr,{variant:"destructive",children:p.jsxs(Ir,{children:[p.jsxs("strong",{children:["Linha ",t.row,":"]})," ",t.error,p.jsx("br",{}),p.jsxs("small",{children:["Dados: ",JSON.stringify(t.data)]})]})},n))})]})]}):null;function CC(){const{toast:e}=qr(),t=D5(),{file:n,inputKey:r,handleFileChange:o,removeFile:a}=M5(),[d,h]=E.useState(!1),[m,g]=E.useState(0),[y,v]=E.useState(null),C=()=>{n&&(h(!0),g(0),v(null),Jk.parse(n,{header:!0,skipEmptyLines:!0,transformHeader:B5,complete:P=>{if(h(!1),P.errors.length>0){e({title:"Erro ao processar CSV",description:"Verifique o formato do arquivo",variant:"destructive"});return}t.mutate(P.data,{onSuccess:_=>{v(_)}})},error:P=>{h(!1),e({title:"Erro ao ler arquivo",description:P.message,variant:"destructive"})}}))},T=()=>{a(),v(null)};return p.jsx(A5,{delayDuration:500,children:p.jsx("div",{className:"space-y-6",children:p.jsxs(ft,{className:"border-0 shadow-md",children:[p.jsx(Zt,{children:p.jsxs(Xt,{className:"flex items-center",children:[p.jsx(xf,{className:"h-5 w-5 mr-2 text-blue-600"}),"Importar Ativos por CSV"]})}),p.jsxs(ht,{className:"space-y-6",children:[p.jsx(K5,{}),p.jsx(Y5,{file:n,inputKey:r,handleFileChange:o,removeFile:T,importing:d}),d&&p.jsx(Q5,{progress:m}),p.jsxs(He,{onClick:C,disabled:!n||d||t.isPending,className:"w-full",children:[p.jsx(Jg,{className:"h-4 w-4 mr-2"}),d||t.isPending?"Importando...":"Importar Ativos"]}),p.jsx(Z5,{result:y})]})]})})})}function J5({canEdit:e,isMobileOrTablet:t,isDesktop:n,loading:r,exportLoading:o,onScannerOpen:a,onExportCSV:d}){return e?p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Ativos"}),p.jsx("p",{className:"mt-2 text-gray-600",children:"Gerencie todos os ativos patrimoniais da empresa"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[t&&p.jsxs(He,{variant:"outline",onClick:a,className:"w-full sm:w-auto",children:[p.jsx(ab,{className:"h-4 w-4 mr-2"}),"Buscar por Código"]}),n&&p.jsxs(p.Fragment,{children:[p.jsxs(He,{variant:"outline",onClick:d,className:"w-full sm:w-auto",disabled:r||o,children:[p.jsx(xf,{className:"h-4 w-4 mr-2"}),"Exportar CSV"]}),p.jsxs(Xc,{children:[p.jsx(If,{asChild:!0,children:p.jsxs(He,{variant:"outline",className:"w-full sm:w-auto",children:[p.jsx(Jg,{className:"h-4 w-4 mr-2"}),"Importar CSV"]})}),p.jsx(fl,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:p.jsx(CC,{})})]})]}),p.jsx(He,{asChild:!0,className:"w-full sm:w-auto",children:p.jsxs(Ao,{to:"/assets/new",children:[p.jsx(wf,{className:"h-4 w-4 mr-2"}),"Novo Ativo"]})})]})]}):p.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Ativos"}),p.jsx("p",{className:"mt-2 text-gray-600",children:"Gerencie todos os ativos patrimoniais da empresa"})]})})}function Nw(e,[t,n]){return Math.min(n,Math.max(t,e))}var eD=E.createContext(void 0);function tD(e){const t=E.useContext(eD);return e||t||"ltr"}function Ip(e){const t=E.useRef({value:e,previous:e});return E.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var nD=[" ","Enter","ArrowUp","ArrowDown"],rD=[" ","Enter"],Zc="Select",[Uf,Vf,sD]=D2(Zc),[pl,a7]=Mo(Zc,[sD,Mf]),Wf=Mf(),[iD,zi]=pl(Zc),[oD,aD]=pl(Zc),SC=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:a,value:d,defaultValue:h,onValueChange:m,dir:g,name:y,autoComplete:v,disabled:C,required:T,form:P}=e,_=Wf(t),[k,I]=E.useState(null),[N,S]=E.useState(null),[D,V]=E.useState(!1),W=tD(g),[F=!1,L]=No({prop:r,defaultProp:o,onChange:a}),[j,G]=No({prop:d,defaultProp:h,onChange:m}),te=E.useRef(null),q=k?P||!!k.closest("form"):!0,[se,re]=E.useState(new Set),X=Array.from(se).map(fe=>fe.props.value).join(";");return p.jsx(sC,{..._,children:p.jsxs(iD,{required:T,scope:t,trigger:k,onTriggerChange:I,valueNode:N,onValueNodeChange:S,valueNodeHasChildren:D,onValueNodeHasChildrenChange:V,contentId:xo(),value:j,onValueChange:G,open:F,onOpenChange:L,dir:W,triggerPointerDownPosRef:te,disabled:C,children:[p.jsx(Uf.Provider,{scope:t,children:p.jsx(oD,{scope:e.__scopeSelect,onNativeOptionAdd:E.useCallback(fe=>{re(ne=>new Set(ne).add(fe))},[]),onNativeOptionRemove:E.useCallback(fe=>{re(ne=>{const Q=new Set(ne);return Q.delete(fe),Q})},[]),children:n})}),q?p.jsxs(KC,{"aria-hidden":!0,required:T,tabIndex:-1,name:y,autoComplete:v,value:j,onChange:fe=>G(fe.target.value),disabled:C,form:P,children:[j===void 0?p.jsx("option",{value:""}):null,Array.from(se)]},X):null]})})};SC.displayName=Zc;var AC="SelectTrigger",_C=E.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,a=Wf(n),d=zi(AC,n),h=d.disabled||r,m=xt(t,d.onTriggerChange),g=Vf(n),y=E.useRef("touch"),[v,C,T]=YC(_=>{const k=g().filter(S=>!S.disabled),I=k.find(S=>S.value===d.value),N=QC(k,_,I);N!==void 0&&d.onValueChange(N.value)}),P=_=>{h||(d.onOpenChange(!0),T()),_&&(d.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return p.jsx(iC,{asChild:!0,...a,children:p.jsx(Ye.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":XC(d.value)?"":void 0,...o,ref:m,onClick:Ue(o.onClick,_=>{_.currentTarget.focus(),y.current!=="mouse"&&P(_)}),onPointerDown:Ue(o.onPointerDown,_=>{y.current=_.pointerType;const k=_.target;k.hasPointerCapture(_.pointerId)&&k.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(P(_),_.preventDefault())}),onKeyDown:Ue(o.onKeyDown,_=>{const k=v.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&C(_.key),!(k&&_.key===" ")&&nD.includes(_.key)&&(P(),_.preventDefault())})})})});_C.displayName=AC;var NC="SelectValue",TC=E.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:a,placeholder:d="",...h}=e,m=zi(NC,n),{onValueNodeHasChildrenChange:g}=m,y=a!==void 0,v=xt(t,m.onValueNodeChange);return Tn(()=>{g(y)},[g,y]),p.jsx(Ye.span,{...h,ref:v,style:{pointerEvents:"none"},children:XC(m.value)?p.jsx(p.Fragment,{children:d}):a})});TC.displayName=NC;var lD="SelectIcon",IC=E.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return p.jsx(Ye.span,{"aria-hidden":!0,...o,ref:t,children:r||"▼"})});IC.displayName=lD;var cD="SelectPortal",RC=e=>p.jsx(gf,{asChild:!0,...e});RC.displayName=cD;var Oo="SelectContent",OC=E.forwardRef((e,t)=>{const n=zi(Oo,e.__scopeSelect),[r,o]=E.useState();if(Tn(()=>{o(new DocumentFragment)},[]),!n.open){const a=r;return a?Do.createPortal(p.jsx(kC,{scope:e.__scopeSelect,children:p.jsx(Uf.Slot,{scope:e.__scopeSelect,children:p.jsx("div",{children:e.children})})}),a):null}return p.jsx(PC,{...e,ref:t})});OC.displayName=Oo;var Mr=10,[kC,Hi]=pl(Oo),uD="SelectContentImpl",PC=E.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:d,side:h,sideOffset:m,align:g,alignOffset:y,arrowPadding:v,collisionBoundary:C,collisionPadding:T,sticky:P,hideWhenDetached:_,avoidCollisions:k,...I}=e,N=zi(Oo,n),[S,D]=E.useState(null),[V,W]=E.useState(null),F=xt(t,Ce=>D(Ce)),[L,j]=E.useState(null),[G,te]=E.useState(null),q=Vf(n),[se,re]=E.useState(!1),X=E.useRef(!1);E.useEffect(()=>{if(S)return oE(S)},[S]),Qb();const fe=E.useCallback(Ce=>{const[xe,...ke]=q().map(Te=>Te.ref.current),[Oe]=ke.slice(-1),pe=document.activeElement;for(const Te of Ce)if(Te===pe||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===xe&&V&&(V.scrollTop=0),Te===Oe&&V&&(V.scrollTop=V.scrollHeight),Te==null||Te.focus(),document.activeElement!==pe))return},[q,V]),ne=E.useCallback(()=>fe([L,S]),[fe,L,S]);E.useEffect(()=>{se&&ne()},[se,ne]);const{onOpenChange:Q,triggerPointerDownPosRef:ee}=N;E.useEffect(()=>{if(S){let Ce={x:0,y:0};const xe=Oe=>{var pe,Te;Ce={x:Math.abs(Math.round(Oe.pageX)-(((pe=ee.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(Oe.pageY)-(((Te=ee.current)==null?void 0:Te.y)??0))}},ke=Oe=>{Ce.x<=10&&Ce.y<=10?Oe.preventDefault():S.contains(Oe.target)||Q(!1),document.removeEventListener("pointermove",xe),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",ke,{capture:!0})}}},[S,Q,ee]),E.useEffect(()=>{const Ce=()=>Q(!1);return window.addEventListener("blur",Ce),window.addEventListener("resize",Ce),()=>{window.removeEventListener("blur",Ce),window.removeEventListener("resize",Ce)}},[Q]);const[he,ue]=YC(Ce=>{const xe=q().filter(pe=>!pe.disabled),ke=xe.find(pe=>pe.ref.current===document.activeElement),Oe=QC(xe,Ce,ke);Oe&&setTimeout(()=>Oe.ref.current.focus())}),me=E.useCallback((Ce,xe,ke)=>{const Oe=!X.current&&!ke;(N.value!==void 0&&N.value===xe||Oe)&&(j(Ce),Oe&&(X.current=!0))},[N.value]),we=E.useCallback(()=>S==null?void 0:S.focus(),[S]),Re=E.useCallback((Ce,xe,ke)=>{const Oe=!X.current&&!ke;(N.value!==void 0&&N.value===xe||Oe)&&te(Ce)},[N.value]),tt=r==="popper"?M1:DC,de=tt===M1?{side:h,sideOffset:m,align:g,alignOffset:y,arrowPadding:v,collisionBoundary:C,collisionPadding:T,sticky:P,hideWhenDetached:_,avoidCollisions:k}:{};return p.jsx(kC,{scope:n,content:S,viewport:V,onViewportChange:W,itemRefCallback:me,selectedItem:L,onItemLeave:we,itemTextRefCallback:Re,focusSelectedItem:ne,selectedItemText:G,position:r,isPositioned:se,searchRef:he,children:p.jsx(lp,{as:_o,allowPinchZoom:!0,children:p.jsx(ap,{asChild:!0,trapped:N.open,onMountAutoFocus:Ce=>{Ce.preventDefault()},onUnmountAutoFocus:Ue(o,Ce=>{var xe;(xe=N.trigger)==null||xe.focus({preventScroll:!0}),Ce.preventDefault()}),children:p.jsx(Fc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:d,onFocusOutside:Ce=>Ce.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:p.jsx(tt,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:Ce=>Ce.preventDefault(),...I,...de,onPlaced:()=>re(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...I.style},onKeyDown:Ue(I.onKeyDown,Ce=>{const xe=Ce.ctrlKey||Ce.altKey||Ce.metaKey;if(Ce.key==="Tab"&&Ce.preventDefault(),!xe&&Ce.key.length===1&&ue(Ce.key),["ArrowUp","ArrowDown","Home","End"].includes(Ce.key)){let Oe=q().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(Ce.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ce.key)){const pe=Ce.target,Te=Oe.indexOf(pe);Oe=Oe.slice(Te+1)}setTimeout(()=>fe(Oe)),Ce.preventDefault()}})})})})})})});PC.displayName=uD;var dD="SelectItemAlignedPosition",DC=E.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,a=zi(Oo,n),d=Hi(Oo,n),[h,m]=E.useState(null),[g,y]=E.useState(null),v=xt(t,F=>y(F)),C=Vf(n),T=E.useRef(!1),P=E.useRef(!0),{viewport:_,selectedItem:k,selectedItemText:I,focusSelectedItem:N}=d,S=E.useCallback(()=>{if(a.trigger&&a.valueNode&&h&&g&&_&&k&&I){const F=a.trigger.getBoundingClientRect(),L=g.getBoundingClientRect(),j=a.valueNode.getBoundingClientRect(),G=I.getBoundingClientRect();if(a.dir!=="rtl"){const pe=G.left-L.left,Te=j.left-pe,Ae=F.left-Te,Ve=F.width+Ae,Fe=Math.max(Ve,L.width),Le=window.innerWidth-Mr,qe=Nw(Te,[Mr,Math.max(Mr,Le-Fe)]);h.style.minWidth=Ve+"px",h.style.left=qe+"px"}else{const pe=L.right-G.right,Te=window.innerWidth-j.right-pe,Ae=window.innerWidth-F.right-Te,Ve=F.width+Ae,Fe=Math.max(Ve,L.width),Le=window.innerWidth-Mr,qe=Nw(Te,[Mr,Math.max(Mr,Le-Fe)]);h.style.minWidth=Ve+"px",h.style.right=qe+"px"}const te=C(),q=window.innerHeight-Mr*2,se=_.scrollHeight,re=window.getComputedStyle(g),X=parseInt(re.borderTopWidth,10),fe=parseInt(re.paddingTop,10),ne=parseInt(re.borderBottomWidth,10),Q=parseInt(re.paddingBottom,10),ee=X+fe+se+Q+ne,he=Math.min(k.offsetHeight*5,ee),ue=window.getComputedStyle(_),me=parseInt(ue.paddingTop,10),we=parseInt(ue.paddingBottom,10),Re=F.top+F.height/2-Mr,tt=q-Re,de=k.offsetHeight/2,Ce=k.offsetTop+de,xe=X+fe+Ce,ke=ee-xe;if(xe<=Re){const pe=te.length>0&&k===te[te.length-1].ref.current;h.style.bottom="0px";const Te=g.clientHeight-_.offsetTop-_.offsetHeight,Ae=Math.max(tt,de+(pe?we:0)+Te+ne),Ve=xe+Ae;h.style.height=Ve+"px"}else{const pe=te.length>0&&k===te[0].ref.current;h.style.top="0px";const Ae=Math.max(Re,X+_.offsetTop+(pe?me:0)+de)+ke;h.style.height=Ae+"px",_.scrollTop=xe-Re+_.offsetTop}h.style.margin=`${Mr}px 0`,h.style.minHeight=he+"px",h.style.maxHeight=q+"px",r==null||r(),requestAnimationFrame(()=>T.current=!0)}},[C,a.trigger,a.valueNode,h,g,_,k,I,a.dir,r]);Tn(()=>S(),[S]);const[D,V]=E.useState();Tn(()=>{g&&V(window.getComputedStyle(g).zIndex)},[g]);const W=E.useCallback(F=>{F&&P.current===!0&&(S(),N==null||N(),P.current=!1)},[S,N]);return p.jsx(hD,{scope:n,contentWrapper:h,shouldExpandOnScrollRef:T,onScrollButtonChange:W,children:p.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:p.jsx(Ye.div,{...o,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});DC.displayName=dD;var fD="SelectPopperPosition",M1=E.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Mr,...a}=e,d=Wf(n);return p.jsx(oC,{...d,...a,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});M1.displayName=fD;var[hD,Rp]=pl(Oo,{}),j1="SelectViewport",MC=E.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,a=Hi(j1,n),d=Rp(j1,n),h=xt(t,a.onViewportChange),m=E.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(Uf.Slot,{scope:n,children:p.jsx(Ye.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ue(o.onScroll,g=>{const y=g.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:C}=d;if(C!=null&&C.current&&v){const T=Math.abs(m.current-y.scrollTop);if(T>0){const P=window.innerHeight-Mr*2,_=parseFloat(v.style.minHeight),k=parseFloat(v.style.height),I=Math.max(_,k);if(I<P){const N=I+T,S=Math.min(P,N),D=N-S;v.style.height=S+"px",v.style.bottom==="0px"&&(y.scrollTop=D>0?D:0,v.style.justifyContent="flex-end")}}}m.current=y.scrollTop})})})]})});MC.displayName=j1;var jC="SelectGroup",[gD,pD]=pl(jC),mD=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=xo();return p.jsx(gD,{scope:n,id:o,children:p.jsx(Ye.div,{role:"group","aria-labelledby":o,...r,ref:t})})});mD.displayName=jC;var LC="SelectLabel",BC=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=pD(LC,n);return p.jsx(Ye.div,{id:o.id,...r,ref:t})});BC.displayName=LC;var zd="SelectItem",[xD,FC]=pl(zd),UC=E.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:a,...d}=e,h=zi(zd,n),m=Hi(zd,n),g=h.value===r,[y,v]=E.useState(a??""),[C,T]=E.useState(!1),P=xt(t,N=>{var S;return(S=m.itemRefCallback)==null?void 0:S.call(m,N,r,o)}),_=xo(),k=E.useRef("touch"),I=()=>{o||(h.onValueChange(r),h.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(xD,{scope:n,value:r,disabled:o,textId:_,isSelected:g,onItemTextChange:E.useCallback(N=>{v(S=>S||((N==null?void 0:N.textContent)??"").trim())},[]),children:p.jsx(Uf.ItemSlot,{scope:n,value:r,disabled:o,textValue:y,children:p.jsx(Ye.div,{role:"option","aria-labelledby":_,"data-highlighted":C?"":void 0,"aria-selected":g&&C,"data-state":g?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...d,ref:P,onFocus:Ue(d.onFocus,()=>T(!0)),onBlur:Ue(d.onBlur,()=>T(!1)),onClick:Ue(d.onClick,()=>{k.current!=="mouse"&&I()}),onPointerUp:Ue(d.onPointerUp,()=>{k.current==="mouse"&&I()}),onPointerDown:Ue(d.onPointerDown,N=>{k.current=N.pointerType}),onPointerMove:Ue(d.onPointerMove,N=>{var S;k.current=N.pointerType,o?(S=m.onItemLeave)==null||S.call(m):k.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(d.onPointerLeave,N=>{var S;N.currentTarget===document.activeElement&&((S=m.onItemLeave)==null||S.call(m))}),onKeyDown:Ue(d.onKeyDown,N=>{var D;((D=m.searchRef)==null?void 0:D.current)!==""&&N.key===" "||(rD.includes(N.key)&&I(),N.key===" "&&N.preventDefault())})})})})});UC.displayName=zd;var zl="SelectItemText",VC=E.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...a}=e,d=zi(zl,n),h=Hi(zl,n),m=FC(zl,n),g=aD(zl,n),[y,v]=E.useState(null),C=xt(t,I=>v(I),m.onItemTextChange,I=>{var N;return(N=h.itemTextRefCallback)==null?void 0:N.call(h,I,m.value,m.disabled)}),T=y==null?void 0:y.textContent,P=E.useMemo(()=>p.jsx("option",{value:m.value,disabled:m.disabled,children:T},m.value),[m.disabled,m.value,T]),{onNativeOptionAdd:_,onNativeOptionRemove:k}=g;return Tn(()=>(_(P),()=>k(P)),[_,k,P]),p.jsxs(p.Fragment,{children:[p.jsx(Ye.span,{id:m.textId,...a,ref:C}),m.isSelected&&d.valueNode&&!d.valueNodeHasChildren?Do.createPortal(a.children,d.valueNode):null]})});VC.displayName=zl;var WC="SelectItemIndicator",zC=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return FC(WC,n).isSelected?p.jsx(Ye.span,{"aria-hidden":!0,...r,ref:t}):null});zC.displayName=WC;var L1="SelectScrollUpButton",HC=E.forwardRef((e,t)=>{const n=Hi(L1,e.__scopeSelect),r=Rp(L1,e.__scopeSelect),[o,a]=E.useState(!1),d=xt(t,r.onScrollButtonChange);return Tn(()=>{if(n.viewport&&n.isPositioned){let h=function(){const g=m.scrollTop>0;a(g)};const m=n.viewport;return h(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),o?p.jsx(GC,{...e,ref:d,onAutoScroll:()=>{const{viewport:h,selectedItem:m}=n;h&&m&&(h.scrollTop=h.scrollTop-m.offsetHeight)}}):null});HC.displayName=L1;var B1="SelectScrollDownButton",$C=E.forwardRef((e,t)=>{const n=Hi(B1,e.__scopeSelect),r=Rp(B1,e.__scopeSelect),[o,a]=E.useState(!1),d=xt(t,r.onScrollButtonChange);return Tn(()=>{if(n.viewport&&n.isPositioned){let h=function(){const g=m.scrollHeight-m.clientHeight,y=Math.ceil(m.scrollTop)<g;a(y)};const m=n.viewport;return h(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),o?p.jsx(GC,{...e,ref:d,onAutoScroll:()=>{const{viewport:h,selectedItem:m}=n;h&&m&&(h.scrollTop=h.scrollTop+m.offsetHeight)}}):null});$C.displayName=B1;var GC=E.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,a=Hi("SelectScrollButton",n),d=E.useRef(null),h=Vf(n),m=E.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return E.useEffect(()=>()=>m(),[m]),Tn(()=>{var y;const g=h().find(v=>v.ref.current===document.activeElement);(y=g==null?void 0:g.ref.current)==null||y.scrollIntoView({block:"nearest"})},[h]),p.jsx(Ye.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Ue(o.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(r,50))}),onPointerMove:Ue(o.onPointerMove,()=>{var g;(g=a.onItemLeave)==null||g.call(a),d.current===null&&(d.current=window.setInterval(r,50))}),onPointerLeave:Ue(o.onPointerLeave,()=>{m()})})}),wD="SelectSeparator",qC=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return p.jsx(Ye.div,{"aria-hidden":!0,...r,ref:t})});qC.displayName=wD;var F1="SelectArrow",yD=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Wf(n),a=zi(F1,n),d=Hi(F1,n);return a.open&&d.position==="popper"?p.jsx(aC,{...o,...r,ref:t}):null});yD.displayName=F1;function XC(e){return e===""||e===void 0}var KC=E.forwardRef((e,t)=>{const{value:n,...r}=e,o=E.useRef(null),a=xt(t,o),d=Ip(n);return E.useEffect(()=>{const h=o.current,m=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(m,"value").set;if(d!==n&&y){const v=new Event("change",{bubbles:!0});y.call(h,n),h.dispatchEvent(v)}},[d,n]),p.jsx(Uc,{asChild:!0,children:p.jsx("select",{...r,ref:a,defaultValue:n})})});KC.displayName="BubbleSelect";function YC(e){const t=ur(e),n=E.useRef(""),r=E.useRef(0),o=E.useCallback(d=>{const h=n.current+d;t(h),function m(g){n.current=g,window.clearTimeout(r.current),g!==""&&(r.current=window.setTimeout(()=>m(""),1e3))}(h)},[t]),a=E.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,a]}function QC(e,t,n){const o=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let d=vD(e,Math.max(a,0));o.length===1&&(d=d.filter(g=>g!==n));const m=d.find(g=>g.textValue.toLowerCase().startsWith(o.toLowerCase()));return m!==n?m:void 0}function vD(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var bD=SC,ZC=_C,ED=TC,CD=IC,SD=RC,JC=OC,AD=MC,eS=BC,tS=UC,_D=VC,ND=zC,nS=HC,rS=$C,sS=qC;const Hd=bD,$d=ED,Tc=E.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(ZC,{ref:r,className:De("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,p.jsx(CD,{asChild:!0,children:p.jsx(cb,{className:"h-4 w-4 opacity-50"})})]}));Tc.displayName=ZC.displayName;const iS=E.forwardRef(({className:e,...t},n)=>p.jsx(nS,{ref:n,className:De("flex cursor-default items-center justify-center py-1",e),...t,children:p.jsx(N8,{className:"h-4 w-4"})}));iS.displayName=nS.displayName;const oS=E.forwardRef(({className:e,...t},n)=>p.jsx(rS,{ref:n,className:De("flex cursor-default items-center justify-center py-1",e),...t,children:p.jsx(cb,{className:"h-4 w-4"})}));oS.displayName=rS.displayName;const Ic=E.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>p.jsx(SD,{children:p.jsxs(JC,{ref:o,className:De("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[p.jsx(iS,{}),p.jsx(AD,{className:De("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),p.jsx(oS,{})]})}));Ic.displayName=JC.displayName;const TD=E.forwardRef(({className:e,...t},n)=>p.jsx(eS,{ref:n,className:De("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));TD.displayName=eS.displayName;const ir=E.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(tS,{ref:r,className:De("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(ND,{children:p.jsx(lb,{className:"h-4 w-4"})})}),p.jsx(_D,{children:t})]}));ir.displayName=tS.displayName;const ID=E.forwardRef(({className:e,...t},n)=>p.jsx(sS,{ref:n,className:De("-mx-1 my-1 h-px bg-muted",e),...t}));ID.displayName=sS.displayName;function RD({search:e,statusFilter:t,locationFilter:n,locations:r,onSearchChange:o,onStatusFilterChange:a,onLocationFilterChange:d}){return p.jsxs(ft,{className:"border-0 shadow-md",children:[p.jsx(Zt,{children:p.jsx(Xt,{className:"text-lg",children:"Filtros"})}),p.jsx(ht,{children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(M8,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),p.jsx(yt,{placeholder:"Buscar por nome ou código...",value:e,onChange:h=>o(h.target.value),className:"pl-10 pr-8"}),e&&p.jsx("button",{type:"button",onClick:()=>o(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":"Limpar busca",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),p.jsxs(Hd,{value:t,onValueChange:a,children:[p.jsx(Tc,{children:p.jsx($d,{placeholder:"Status"})}),p.jsxs(Ic,{children:[p.jsx(ir,{value:"all",children:"Todos os status"}),p.jsx(ir,{value:"ativo",children:p.jsx(Ar,{className:"bg-green-100 text-green-800",children:"ATIVO"})}),p.jsx(ir,{value:"manutenção",children:p.jsx(Ar,{className:"bg-yellow-100 text-yellow-800",children:"MANUTENÇÃO"})}),p.jsx(ir,{value:"baixado",children:p.jsx(Ar,{className:"bg-red-100 text-red-800",children:"BAIXADO"})})]})]}),p.jsxs(Hd,{value:n,onValueChange:d,children:[p.jsx(Tc,{children:p.jsx($d,{placeholder:"Localização"})}),p.jsxs(Ic,{children:[p.jsx(ir,{value:"all",children:"Todas as localizações"}),r==null?void 0:r.map(h=>p.jsx(ir,{value:h,children:h},h))]})]})]})})]})}const OD={ativo:"bg-green-100 text-green-800",manutenção:"bg-yellow-100 text-yellow-800",baixado:"bg-red-100 text-red-800"};function kD({asset:e,isLast:t=!1,onIntersect:n}){const r=a=>p.jsx(Ar,{className:OD[a],children:a.toUpperCase()}),o=t?n:void 0;return p.jsx(ft,{className:"border-0 shadow-md hover:shadow-lg transition-shadow group",ref:o,children:p.jsxs(ht,{className:"p-6",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors truncate",children:e.name}),p.jsxs("p",{className:"text-sm text-gray-500",children:["#",e.code]})]}),r(e.status)]}),p.jsxs("div",{className:"space-y-2 mb-4",children:[p.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[p.jsx(Zg,{className:"h-4 w-4 mr-2 flex-shrink-0"}),p.jsx("span",{className:"truncate",children:e.location?e.location:"-"})]}),p.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[p.jsx(Yg,{className:"h-4 w-4 mr-2 flex-shrink-0"}),p.jsx("span",{children:e.value?Pd(e.value):"-"})]}),p.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[p.jsx(Kg,{className:"h-4 w-4 mr-2 flex-shrink-0"}),p.jsx("span",{children:e.acquisition_date?"Adiquirido em: "+w1(e.acquisition_date+"T00:00:00"):"Adicionado em: "+w1(e.created_at)})]})]}),p.jsx("div",{className:"flex justify-between items-center",children:p.jsx(He,{variant:"outline",size:"sm",asChild:!0,children:p.jsxs(Ao,{to:`/assets/${e.id}`,children:[p.jsx(db,{className:"h-4 w-4 mr-2"}),"Ver Detalhes"]})})})]})})}function PD({assets:e,loading:t,loadingMore:n,hasMore:r,canEdit:o,isDesktop:a,onLoadMore:d}){const h=E.useRef(null),m=E.useRef(null),g=E.useCallback(y=>{!r||n||(h.current&&h.current.disconnect(),h.current=new IntersectionObserver(v=>{v[0].isIntersecting&&r&&!n&&d()}),y&&h.current.observe(y))},[r,n,d]);return t?p.jsx("div",{className:"col-span-full flex justify-center py-12",children:p.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),p.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[p.jsx(Yt,{className:"h-5 w-5 animate-pulse"}),p.jsx("span",{className:"text-base",children:"Carregando ativos..."})]})]})}):e.length===0?p.jsx("div",{className:"col-span-full",children:p.jsx(ft,{className:"border-0 shadow-md",children:p.jsxs(ht,{className:"text-center py-12",children:[p.jsx(Yt,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum ativo encontrado"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Comece adicionando seus primeiros ativos ao sistema"}),o&&p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[a&&p.jsxs(Xc,{children:[p.jsx(If,{asChild:!0,children:p.jsxs(He,{variant:"outline",children:[p.jsx(Jg,{className:"h-4 w-4 mr-2"}),"Importar CSV"]})}),p.jsxs(fl,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[p.jsx(Kc,{children:p.jsx(Yc,{children:"Importar Ativos"})}),p.jsx(CC,{})]})]}),p.jsx(He,{asChild:!0,children:p.jsxs(Ao,{to:"/assets/new",children:[p.jsx(wf,{className:"h-4 w-4 mr-2"}),"Adicionar Primeiro Ativo"]})})]})]})})}):p.jsxs(p.Fragment,{children:[e.map((y,v)=>p.jsx(kD,{asset:y,isLast:v===e.length-1,onIntersect:g},y.id)),r&&n&&p.jsx("div",{ref:m,className:"col-span-full flex justify-center py-8",children:p.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),p.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[p.jsx(Yt,{className:"h-4 w-4 animate-pulse"}),p.jsx("span",{className:"text-sm",children:"Carregando mais ativos..."})]})]})})]})}var Ee;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ee||(Ee={}));var Tw=new Map([[Ee.QR_CODE,"QR_CODE"],[Ee.AZTEC,"AZTEC"],[Ee.CODABAR,"CODABAR"],[Ee.CODE_39,"CODE_39"],[Ee.CODE_93,"CODE_93"],[Ee.CODE_128,"CODE_128"],[Ee.DATA_MATRIX,"DATA_MATRIX"],[Ee.MAXICODE,"MAXICODE"],[Ee.ITF,"ITF"],[Ee.EAN_13,"EAN_13"],[Ee.EAN_8,"EAN_8"],[Ee.PDF_417,"PDF_417"],[Ee.RSS_14,"RSS_14"],[Ee.RSS_EXPANDED,"RSS_EXPANDED"],[Ee.UPC_A,"UPC_A"],[Ee.UPC_E,"UPC_E"],[Ee.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Iw;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Iw||(Iw={}));function DD(e){return Object.values(Ee).includes(e)}var Gd;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Gd||(Gd={}));var MD=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Gd.SCAN_TYPE_CAMERA,Gd.SCAN_TYPE_FILE],e}(),aS=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Tw.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Tw.get(t))},e}(),Rw=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),U1;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(U1||(U1={}));var jD=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:U1.UNKWOWN_ERROR}},e}(),LD=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function vs(e){return typeof e>"u"||e===null}var pa=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),lS=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var o=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(o),d=Object.keys(t),h=0,m=d;h<m.length;h++){var g=m[h];if(a.has(g))return n.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},e}(),V1={exports:{}};(function(e,t){(function(n,r){r(t)})(fn,function(n){function r(R){return R==null}var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,s){R.__proto__=s}||function(R,s){for(var i in s)s.hasOwnProperty(i)&&(R[i]=s[i])};function a(R,s){o(R,s);function i(){this.constructor=R}R.prototype=s===null?Object.create(s):(i.prototype=s.prototype,new i)}function d(R,s){var i=Object.setPrototypeOf;i?i(R,s):R.__proto__=s}function h(R,s){s===void 0&&(s=R.constructor);var i=Error.captureStackTrace;i&&i(R,s)}var m=function(R){a(s,R);function s(i){var l=this.constructor,c=R.call(this,i)||this;return Object.defineProperty(c,"name",{value:l.name,enumerable:!1}),d(c,l.prototype),h(c),c}return s}(Error);class g extends m{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}g.kind="Exception";class y extends g{}y.kind="ArgumentException";class v extends g{}v.kind="IllegalArgumentException";class C{constructor(s){if(this.binarizer=s,s===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,i){return this.binarizer.getBlackRow(s,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,i,l,c){const u=this.binarizer.getLuminanceSource().crop(s,i,l,c);return new C(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new C(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new C(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class T extends g{static getChecksumInstance(){return new T}}T.kind="ChecksumException";class P{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class _{static arraycopy(s,i,l,c,u){for(;u--;)l[c++]=s[i++]}static currentTimeMillis(){return Date.now()}}class k extends g{}k.kind="IndexOutOfBoundsException";class I extends k{constructor(s=void 0,i=void 0){super(i),this.index=s,this.message=i}}I.kind="ArrayIndexOutOfBoundsException";class N{static fill(s,i){for(let l=0,c=s.length;l<c;l++)s[l]=i}static fillWithin(s,i,l,c){N.rangeCheck(s.length,i,l);for(let u=i;u<l;u++)s[u]=c}static rangeCheck(s,i,l){if(i>l)throw new v("fromIndex("+i+") > toIndex("+l+")");if(i<0)throw new I(i);if(l>s)throw new I(l)}static asList(...s){return s}static create(s,i,l){return Array.from({length:s}).map(u=>Array.from({length:i}).fill(l))}static createInt32Array(s,i,l){return Array.from({length:s}).map(u=>Int32Array.from({length:i}).fill(l))}static equals(s,i){if(!s||!i||!s.length||!i.length||s.length!==i.length)return!1;for(let l=0,c=s.length;l<c;l++)if(s[l]!==i[l])return!1;return!0}static hashCode(s){if(s===null)return 0;let i=1;for(const l of s)i=31*i+l;return i}static fillUint8Array(s,i){for(let l=0;l!==s.length;l++)s[l]=i}static copyOf(s,i){return s.slice(0,i)}static copyOfUint8Array(s,i){if(s.length<=i){const l=new Uint8Array(i);return l.set(s),l}return s.slice(0,i)}static copyOfRange(s,i,l){const c=l-i,u=new Int32Array(c);return _.arraycopy(s,i,u,0,c),u}static binarySearch(s,i,l){l===void 0&&(l=N.numberComparator);let c=0,u=s.length-1;for(;c<=u;){const f=u+c>>1,x=l(i,s[f]);if(x>0)c=f+1;else if(x<0)u=f-1;else return f}return-c-1}static numberComparator(s,i){return s-i}}class S{static numberOfTrailingZeros(s){let i;if(s===0)return 32;let l=31;return i=s<<16,i!==0&&(l-=16,s=i),i=s<<8,i!==0&&(l-=8,s=i),i=s<<4,i!==0&&(l-=4,s=i),i=s<<2,i!==0&&(l-=2,s=i),l-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let i=1;return s>>>16||(i+=16,s<<=16),s>>>24||(i+=8,s<<=8),s>>>28||(i+=4,s<<=4),s>>>30||(i+=2,s<<=2),i-=s>>>31,i}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,i){return Math.trunc(s/i)}static parseInt(s,i=void 0){return parseInt(s,i)}}S.MIN_VALUE_32_BITS=-2147483648,S.MAX_VALUE=Number.MAX_SAFE_INTEGER;class D{constructor(s,i){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,i==null?this.bits=D.makeArray(s):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const i=D.makeArray(s);_.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const i=this.size;if(s>=i)return i;const l=this.bits;let c=Math.floor(s/32),u=l[c];u&=~((1<<(s&31))-1);const f=l.length;for(;u===0;){if(++c===f)return i;u=l[c]}const x=c*32+S.numberOfTrailingZeros(u);return x>i?i:x}getNextUnset(s){const i=this.size;if(s>=i)return i;const l=this.bits;let c=Math.floor(s/32),u=~l[c];u&=~((1<<(s&31))-1);const f=l.length;for(;u===0;){if(++c===f)return i;u=~l[c]}const x=c*32+S.numberOfTrailingZeros(u);return x>i?i:x}setBulk(s,i){this.bits[Math.floor(s/32)]=i}setRange(s,i){if(i<s||s<0||i>this.size)throw new v;if(i===s)return;i--;const l=Math.floor(s/32),c=Math.floor(i/32),u=this.bits;for(let f=l;f<=c;f++){const x=f>l?0:s&31,b=(2<<(f<c?31:i&31))-(1<<x);u[f]|=b}}clear(){const s=this.bits.length,i=this.bits;for(let l=0;l<s;l++)i[l]=0}isRange(s,i,l){if(i<s||s<0||i>this.size)throw new v;if(i===s)return!0;i--;const c=Math.floor(s/32),u=Math.floor(i/32),f=this.bits;for(let x=c;x<=u;x++){const w=x>c?0:s&31,A=(2<<(x<u?31:i&31))-(1<<w)&4294967295;if((f[x]&A)!==(l?A:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,i){if(i<0||i>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let l=i;l>0;l--)this.appendBit((s>>l-1&1)===1)}appendBitArray(s){const i=s.size;this.ensureCapacity(this.size+i);for(let l=0;l<i;l++)this.appendBit(s.get(l))}xor(s){if(this.size!==s.size)throw new v("Sizes don't match");const i=this.bits;for(let l=0,c=i.length;l<c;l++)i[l]^=s.bits[l]}toBytes(s,i,l,c){for(let u=0;u<c;u++){let f=0;for(let x=0;x<8;x++)this.get(s)&&(f|=1<<7-x),s++;i[l+u]=f}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),l=i+1,c=this.bits;for(let u=0;u<l;u++){let f=c[u];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,s[i-u]=f}if(this.size!==l*32){const u=l*32-this.size;let f=s[0]>>>u;for(let x=1;x<l;x++){const w=s[x];f|=w<<32-u,s[x-1]=f,f=w>>>u}s[l-1]=f}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof D))return!1;const i=s;return this.size===i.size&&N.equals(this.bits,i.bits)}hashCode(){return 31*this.size+N.hashCode(this.bits)}toString(){let s="";for(let i=0,l=this.size;i<l;i++)i&7||(s+=" "),s+=this.get(i)?"X":".";return s}clone(){return new D(this.size,this.bits.slice())}}var V;(function(R){R[R.OTHER=0]="OTHER",R[R.PURE_BARCODE=1]="PURE_BARCODE",R[R.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",R[R.TRY_HARDER=3]="TRY_HARDER",R[R.CHARACTER_SET=4]="CHARACTER_SET",R[R.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",R[R.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",R[R.ASSUME_GS1=7]="ASSUME_GS1",R[R.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",R[R.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",R[R.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(V||(V={}));var W=V;class F extends g{static getFormatInstance(){return new F}}F.kind="FormatException";var L;(function(R){R[R.Cp437=0]="Cp437",R[R.ISO8859_1=1]="ISO8859_1",R[R.ISO8859_2=2]="ISO8859_2",R[R.ISO8859_3=3]="ISO8859_3",R[R.ISO8859_4=4]="ISO8859_4",R[R.ISO8859_5=5]="ISO8859_5",R[R.ISO8859_6=6]="ISO8859_6",R[R.ISO8859_7=7]="ISO8859_7",R[R.ISO8859_8=8]="ISO8859_8",R[R.ISO8859_9=9]="ISO8859_9",R[R.ISO8859_10=10]="ISO8859_10",R[R.ISO8859_11=11]="ISO8859_11",R[R.ISO8859_13=12]="ISO8859_13",R[R.ISO8859_14=13]="ISO8859_14",R[R.ISO8859_15=14]="ISO8859_15",R[R.ISO8859_16=15]="ISO8859_16",R[R.SJIS=16]="SJIS",R[R.Cp1250=17]="Cp1250",R[R.Cp1251=18]="Cp1251",R[R.Cp1252=19]="Cp1252",R[R.Cp1256=20]="Cp1256",R[R.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",R[R.UTF8=22]="UTF8",R[R.ASCII=23]="ASCII",R[R.Big5=24]="Big5",R[R.GB18030=25]="GB18030",R[R.EUC_KR=26]="EUC_KR"})(L||(L={}));class j{constructor(s,i,l,...c){this.valueIdentifier=s,this.name=l,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=c,j.VALUE_IDENTIFIER_TO_ECI.set(s,this),j.NAME_TO_ECI.set(l,this);const u=this.values;for(let f=0,x=u.length;f!==x;f++){const w=u[f];j.VALUES_TO_ECI.set(w,this)}for(const f of c)j.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new F("incorect value");const i=j.VALUES_TO_ECI.get(s);if(i===void 0)throw new F("incorect value");return i}static getCharacterSetECIByName(s){const i=j.NAME_TO_ECI.get(s);if(i===void 0)throw new F("incorect value");return i}equals(s){if(!(s instanceof j))return!1;const i=s;return this.getName()===i.getName()}}j.VALUE_IDENTIFIER_TO_ECI=new Map,j.VALUES_TO_ECI=new Map,j.NAME_TO_ECI=new Map,j.Cp437=new j(L.Cp437,Int32Array.from([0,2]),"Cp437"),j.ISO8859_1=new j(L.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),j.ISO8859_2=new j(L.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),j.ISO8859_3=new j(L.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),j.ISO8859_4=new j(L.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),j.ISO8859_5=new j(L.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),j.ISO8859_6=new j(L.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),j.ISO8859_7=new j(L.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),j.ISO8859_8=new j(L.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),j.ISO8859_9=new j(L.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),j.ISO8859_10=new j(L.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),j.ISO8859_11=new j(L.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),j.ISO8859_13=new j(L.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),j.ISO8859_14=new j(L.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),j.ISO8859_15=new j(L.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),j.ISO8859_16=new j(L.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),j.SJIS=new j(L.SJIS,20,"SJIS","Shift_JIS"),j.Cp1250=new j(L.Cp1250,21,"Cp1250","windows-1250"),j.Cp1251=new j(L.Cp1251,22,"Cp1251","windows-1251"),j.Cp1252=new j(L.Cp1252,23,"Cp1252","windows-1252"),j.Cp1256=new j(L.Cp1256,24,"Cp1256","windows-1256"),j.UnicodeBigUnmarked=new j(L.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),j.UTF8=new j(L.UTF8,26,"UTF8","UTF-8"),j.ASCII=new j(L.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),j.Big5=new j(L.Big5,28,"Big5"),j.GB18030=new j(L.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),j.EUC_KR=new j(L.EUC_KR,30,"EUC_KR","EUC-KR");class G extends g{}G.kind="UnsupportedOperationException";class te{static decode(s,i){const l=this.encodingName(i);return this.customDecoder?this.customDecoder(s,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(s,l):new TextDecoder(l).decode(s)}static shouldDecodeOnFallback(s){return!te.isBrowser()&&s==="ISO-8859-1"}static encode(s,i){const l=this.encodingName(i);return this.customEncoder?this.customEncoder(s,l):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof j?s:j.getCharacterSetECIByName(s)}static decodeFallback(s,i){const l=this.encodingCharacterSet(i);if(te.isDecodeFallbackSupported(l)){let c="";for(let u=0,f=s.length;u<f;u++){let x=s[u].toString(16);x.length<2&&(x="0"+x),c+="%"+x}return decodeURIComponent(c)}if(l.equals(j.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new G(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(j.UTF8)||s.equals(j.ISO8859_1)||s.equals(j.ASCII)}static encodeFallback(s){const l=btoa(unescape(encodeURIComponent(s))).split(""),c=[];for(let u=0;u<l.length;u++)c.push(l[u].charCodeAt(0));return new Uint8Array(c)}}class q{static castAsNonUtf8Char(s,i=null){const l=i?i.getName():this.ISO88591;return te.decode(new Uint8Array([s]),l)}static guessEncoding(s,i){if(i!=null&&i.get(W.CHARACTER_SET)!==void 0)return i.get(W.CHARACTER_SET).toString();const l=s.length;let c=!0,u=!0,f=!0,x=0,w=0,b=0,A=0,O=0,M=0,U=0,z=0,$=0,K=0,J=0;const le=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let ce=0;ce<l&&(c||u||f);ce++){const oe=s[ce]&255;f&&(x>0?oe&128?x--:f=!1:oe&128&&(oe&64?(x++,oe&32?(x++,oe&16?(x++,oe&8?f=!1:A++):b++):w++):f=!1)),c&&(oe>127&&oe<160?c=!1:oe>159&&(oe<192||oe===215||oe===247)&&J++),u&&(O>0?oe<64||oe===127||oe>252?u=!1:O--:oe===128||oe===160||oe>239?u=!1:oe>160&&oe<224?(M++,z=0,U++,U>$&&($=U)):oe>127?(O++,U=0,z++,z>K&&(K=z)):(U=0,z=0))}return f&&x>0&&(f=!1),u&&O>0&&(u=!1),f&&(le||w+b+A>0)?q.UTF8:u&&(q.ASSUME_SHIFT_JIS||$>=3||K>=3)?q.SHIFT_JIS:c&&u?$===2&&M===2||J*10>=l?q.SHIFT_JIS:q.ISO88591:c?q.ISO88591:u?q.SHIFT_JIS:f?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(s,...i){let l=-1;function c(f,x,w,b,A,O){if(f==="%%")return"%";if(i[++l]===void 0)return;f=b?parseInt(b.substr(1)):void 0;let M=A?parseInt(A.substr(1)):void 0,U;switch(O){case"s":U=i[l];break;case"c":U=i[l][0];break;case"f":U=parseFloat(i[l]).toFixed(f);break;case"p":U=parseFloat(i[l]).toPrecision(f);break;case"e":U=parseFloat(i[l]).toExponential(f);break;case"x":U=parseInt(i[l]).toString(M||16);break;case"d":U=parseFloat(parseInt(i[l],M||10).toPrecision(f)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(M);let z=parseInt(w),$=w&&w[0]+""=="0"?"0":" ";for(;U.length<z;)U=x!==void 0?U+$:$+U;return U}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(u,c)}static getBytes(s,i){return te.encode(s,i)}static getCharCode(s,i=0){return s.charCodeAt(i)}static getCharAt(s){return String.fromCharCode(s)}}q.SHIFT_JIS=j.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=j.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=j.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class se{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=q.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,i,l){for(let c=i;i<i+l;c++)this.append(s[c]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,i){this.value=this.value.substr(0,s)+i+this.value.substr(s+1)}substring(s,i){return this.value.substring(s,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,i){this.value=this.value.substr(0,s)+i+this.value.substr(s+i.length)}}class re{constructor(s,i,l,c){if(this.width=s,this.height=i,this.rowSize=l,this.bits=c,i==null&&(i=s),this.height=i,s<1||i<1)throw new v("Both dimensions must be greater than 0");l==null&&(l=Math.floor((s+31)/32)),this.rowSize=l,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const i=s.length,l=s[0].length,c=new re(l,i);for(let u=0;u<i;u++){const f=s[u];for(let x=0;x<l;x++)f[x]&&c.set(x,u)}return c}static parseFromString(s,i,l){if(s===null)throw new v("stringRepresentation cannot be null");const c=new Array(s.length);let u=0,f=0,x=-1,w=0,b=0;for(;b<s.length;)if(s.charAt(b)===`
`||s.charAt(b)==="\r"){if(u>f){if(x===-1)x=u-f;else if(u-f!==x)throw new v("row lengths do not match");f=u,w++}b++}else if(s.substring(b,b+i.length)===i)b+=i.length,c[u]=!0,u++;else if(s.substring(b,b+l.length)===l)b+=l.length,c[u]=!1,u++;else throw new v("illegal character encountered: "+s.substring(b));if(u>f){if(x===-1)x=u-f;else if(u-f!==x)throw new v("row lengths do not match");w++}const A=new re(x,w);for(let O=0;O<u;O++)c[O]&&A.set(Math.floor(O%x),Math.floor(O/x));return A}get(s,i){const l=i*this.rowSize+Math.floor(s/32);return(this.bits[l]>>>(s&31)&1)!==0}set(s,i){const l=i*this.rowSize+Math.floor(s/32);this.bits[l]|=1<<(s&31)&4294967295}unset(s,i){const l=i*this.rowSize+Math.floor(s/32);this.bits[l]&=~(1<<(s&31)&4294967295)}flip(s,i){const l=i*this.rowSize+Math.floor(s/32);this.bits[l]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new v("input matrix dimensions do not match");const i=new D(Math.floor(this.width/32)+1),l=this.rowSize,c=this.bits;for(let u=0,f=this.height;u<f;u++){const x=u*l,w=s.getRow(u,i).getBitArray();for(let b=0;b<l;b++)c[x+b]^=w[b]}}clear(){const s=this.bits,i=s.length;for(let l=0;l<i;l++)s[l]=0}setRegion(s,i,l,c){if(i<0||s<0)throw new v("Left and top must be nonnegative");if(c<1||l<1)throw new v("Height and width must be at least 1");const u=s+l,f=i+c;if(f>this.height||u>this.width)throw new v("The region must fit inside the matrix");const x=this.rowSize,w=this.bits;for(let b=i;b<f;b++){const A=b*x;for(let O=s;O<u;O++)w[A+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(s,i){i==null||i.getSize()<this.width?i=new D(this.width):i.clear();const l=this.rowSize,c=this.bits,u=s*l;for(let f=0;f<l;f++)i.setBulk(f*32,c[u+f]);return i}setRow(s,i){_.arraycopy(i.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),i=this.getHeight();let l=new D(s),c=new D(s);for(let u=0,f=Math.floor((i+1)/2);u<f;u++)l=this.getRow(u,l),c=this.getRow(i-1-u,c),l.reverse(),c.reverse(),this.setRow(u,c),this.setRow(i-1-u,l)}getEnclosingRectangle(){const s=this.width,i=this.height,l=this.rowSize,c=this.bits;let u=s,f=i,x=-1,w=-1;for(let b=0;b<i;b++)for(let A=0;A<l;A++){const O=c[b*l+A];if(O!==0){if(b<f&&(f=b),b>w&&(w=b),A*32<u){let M=0;for(;!(O<<31-M&4294967295);)M++;A*32+M<u&&(u=A*32+M)}if(A*32+31>x){let M=31;for(;!(O>>>M);)M--;A*32+M>x&&(x=A*32+M)}}}return x<u||w<f?null:Int32Array.from([u,f,x-u+1,w-f+1])}getTopLeftOnBit(){const s=this.rowSize,i=this.bits;let l=0;for(;l<i.length&&i[l]===0;)l++;if(l===i.length)return null;const c=l/s;let u=l%s*32;const f=i[l];let x=0;for(;!(f<<31-x&4294967295);)x++;return u+=x,Int32Array.from([u,c])}getBottomRightOnBit(){const s=this.rowSize,i=this.bits;let l=i.length-1;for(;l>=0&&i[l]===0;)l--;if(l<0)return null;const c=Math.floor(l/s);let u=Math.floor(l%s)*32;const f=i[l];let x=31;for(;!(f>>>x);)x--;return u+=x,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof re))return!1;const i=s;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&N.equals(this.bits,i.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+N.hashCode(this.bits),s}toString(s="X ",i="  ",l=`
`){return this.buildToString(s,i,l)}buildToString(s,i,l){let c=new se;for(let u=0,f=this.height;u<f;u++){for(let x=0,w=this.width;x<w;x++)c.append(this.get(x,u)?s:i);c.append(l)}return c.toString()}clone(){return new re(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends g{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class fe extends P{constructor(s){super(s),this.luminances=fe.EMPTY,this.buckets=new Int32Array(fe.LUMINANCE_BUCKETS)}getBlackRow(s,i){const l=this.getLuminanceSource(),c=l.getWidth();i==null||i.getSize()<c?i=new D(c):i.clear(),this.initArrays(c);const u=l.getRow(s,this.luminances),f=this.buckets;for(let w=0;w<c;w++)f[(u[w]&255)>>fe.LUMINANCE_SHIFT]++;const x=fe.estimateBlackPoint(f);if(c<3)for(let w=0;w<c;w++)(u[w]&255)<x&&i.set(w);else{let w=u[0]&255,b=u[1]&255;for(let A=1;A<c-1;A++){const O=u[A+1]&255;(b*4-w-O)/2<x&&i.set(A),w=b,b=O}}return i}getBlackMatrix(){const s=this.getLuminanceSource(),i=s.getWidth(),l=s.getHeight(),c=new re(i,l);this.initArrays(i);const u=this.buckets;for(let w=1;w<5;w++){const b=Math.floor(l*w/5),A=s.getRow(b,this.luminances),O=Math.floor(i*4/5);for(let M=Math.floor(i/5);M<O;M++){const U=A[M]&255;u[U>>fe.LUMINANCE_SHIFT]++}}const f=fe.estimateBlackPoint(u),x=s.getMatrix();for(let w=0;w<l;w++){const b=w*i;for(let A=0;A<i;A++)(x[b+A]&255)<f&&c.set(A,w)}return c}createBinarizer(s){return new fe(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const i=this.buckets;for(let l=0;l<fe.LUMINANCE_BUCKETS;l++)i[l]=0}static estimateBlackPoint(s){const i=s.length;let l=0,c=0,u=0;for(let A=0;A<i;A++)s[A]>u&&(c=A,u=s[A]),s[A]>l&&(l=s[A]);let f=0,x=0;for(let A=0;A<i;A++){const O=A-c,M=s[A]*O*O;M>x&&(f=A,x=M)}if(c>f){const A=c;c=f,f=A}if(f-c<=i/16)throw new X;let w=f-1,b=-1;for(let A=f-1;A>c;A--){const O=A-c,M=O*O*(f-A)*(l-s[A]);M>b&&(w=A,b=M)}return w<<fe.LUMINANCE_SHIFT}}fe.LUMINANCE_BITS=5,fe.LUMINANCE_SHIFT=8-fe.LUMINANCE_BITS,fe.LUMINANCE_BUCKETS=1<<fe.LUMINANCE_BITS,fe.EMPTY=Uint8ClampedArray.from([0]);class ne extends fe{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),i=s.getWidth(),l=s.getHeight();if(i>=ne.MINIMUM_DIMENSION&&l>=ne.MINIMUM_DIMENSION){const c=s.getMatrix();let u=i>>ne.BLOCK_SIZE_POWER;i&ne.BLOCK_SIZE_MASK&&u++;let f=l>>ne.BLOCK_SIZE_POWER;l&ne.BLOCK_SIZE_MASK&&f++;const x=ne.calculateBlackPoints(c,u,f,i,l),w=new re(i,l);ne.calculateThresholdForBlock(c,u,f,i,l,x,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new ne(s)}static calculateThresholdForBlock(s,i,l,c,u,f,x){const w=u-ne.BLOCK_SIZE,b=c-ne.BLOCK_SIZE;for(let A=0;A<l;A++){let O=A<<ne.BLOCK_SIZE_POWER;O>w&&(O=w);const M=ne.cap(A,2,l-3);for(let U=0;U<i;U++){let z=U<<ne.BLOCK_SIZE_POWER;z>b&&(z=b);const $=ne.cap(U,2,i-3);let K=0;for(let le=-2;le<=2;le++){const ce=f[M+le];K+=ce[$-2]+ce[$-1]+ce[$]+ce[$+1]+ce[$+2]}const J=K/25;ne.thresholdBlock(s,z,O,J,c,x)}}}static cap(s,i,l){return s<i?i:s>l?l:s}static thresholdBlock(s,i,l,c,u,f){for(let x=0,w=l*u+i;x<ne.BLOCK_SIZE;x++,w+=u)for(let b=0;b<ne.BLOCK_SIZE;b++)(s[w+b]&255)<=c&&f.set(i+b,l+x)}static calculateBlackPoints(s,i,l,c,u){const f=u-ne.BLOCK_SIZE,x=c-ne.BLOCK_SIZE,w=new Array(l);for(let b=0;b<l;b++){w[b]=new Int32Array(i);let A=b<<ne.BLOCK_SIZE_POWER;A>f&&(A=f);for(let O=0;O<i;O++){let M=O<<ne.BLOCK_SIZE_POWER;M>x&&(M=x);let U=0,z=255,$=0;for(let J=0,le=A*c+M;J<ne.BLOCK_SIZE;J++,le+=c){for(let ce=0;ce<ne.BLOCK_SIZE;ce++){const oe=s[le+ce]&255;U+=oe,oe<z&&(z=oe),oe>$&&($=oe)}if($-z>ne.MIN_DYNAMIC_RANGE)for(J++,le+=c;J<ne.BLOCK_SIZE;J++,le+=c)for(let ce=0;ce<ne.BLOCK_SIZE;ce++)U+=s[le+ce]&255}let K=U>>ne.BLOCK_SIZE_POWER*2;if($-z<=ne.MIN_DYNAMIC_RANGE&&(K=z/2,b>0&&O>0)){const J=(w[b-1][O]+2*w[b][O-1]+w[b-1][O-1])/4;z<J&&(K=J)}w[b][O]=K}}return w}}ne.BLOCK_SIZE_POWER=3,ne.BLOCK_SIZE=1<<ne.BLOCK_SIZE_POWER,ne.BLOCK_SIZE_MASK=ne.BLOCK_SIZE-1,ne.MINIMUM_DIMENSION=ne.BLOCK_SIZE*5,ne.MIN_DYNAMIC_RANGE=24;class Q{constructor(s,i){this.width=s,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,i,l,c){throw new G("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new G("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new G("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let i=new se;for(let l=0;l<this.height;l++){const c=this.getRow(l,s);for(let u=0;u<this.width;u++){const f=c[u]&255;let x;f<64?x="#":f<128?x="+":f<192?x=".":x=" ",i.append(x)}i.append(`
`)}return i.toString()}}class ee extends Q{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,i){const l=this.delegate.getRow(s,i),c=this.getWidth();for(let u=0;u<c;u++)l[u]=255-(l[u]&255);return l}getMatrix(){const s=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(i);for(let c=0;c<i;c++)l[c]=255-(s[c]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(s,i,l,c){return new ee(this.delegate.crop(s,i,l,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ee(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ee(this.delegate.rotateCounterClockwise45())}}class he extends Q{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=he.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const i=s.getContext("2d").getImageData(0,0,s.width,s.height);return he.toGrayscaleBuffer(i.data,s.width,s.height)}static toGrayscaleBuffer(s,i,l){const c=new Uint8ClampedArray(i*l);for(let u=0,f=0,x=s.length;u<x;u+=4,f++){let w;if(s[u+3]===0)w=255;else{const A=s[u],O=s[u+1],M=s[u+2];w=306*A+601*O+117*M+512>>10}c[f]=w}return c}getRow(s,i){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const l=this.getWidth(),c=s*l;return i===null?i=this.buffer.slice(c,c+l):(i.length<l&&(i=new Uint8ClampedArray(l)),i.set(this.buffer.slice(c,c+l))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,i,l,c){return super.crop(s,i,l,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const i=this.getTempCanvasElement(),l=i.getContext("2d"),c=s*he.DEGREE_TO_RADIANS,u=this.canvas.width,f=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*f),w=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*f);return i.width=x,i.height=w,l.translate(x/2,w/2),l.rotate(c),l.drawImage(this.canvas,u/-2,f/-2),this.buffer=he.makeBufferFromCanvasImageData(i),this}invert(){return new ee(this)}}he.DEGREE_TO_RADIANS=Math.PI/180;class ue{constructor(s,i,l){this.deviceId=s,this.label=i,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var me=(globalThis||fn||self||window||void 0)&&(globalThis||fn||self||window||void 0).__awaiter||function(R,s,i,l){function c(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function x(A){try{b(l.next(A))}catch(O){f(O)}}function w(A){try{b(l.throw(A))}catch(O){f(O)}}function b(A){A.done?u(A.value):c(A.value).then(x,w)}b((l=l.apply(R,s||[])).next())})};class we{constructor(s,i=500,l){this.reader=s,this.timeBetweenScansMillis=i,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return me(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const l of s){const c=l.kind==="video"?"videoinput":l.kind;if(c!=="videoinput")continue;const u=l.deviceId||l.id,f=l.label||`Video device ${i.length+1}`,x=l.groupId,w={deviceId:u,label:f,kind:c,groupId:x};i.push(w)}return i})}getVideoInputDevices(){return me(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new ue(i.deviceId,i.label))})}findDeviceById(s){return me(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(l=>l.deviceId===s):null})}decodeFromInputVideoDevice(s,i){return me(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,i)})}decodeOnceFromVideoDevice(s,i){return me(this,void 0,void 0,function*(){this.reset();let l;s?l={deviceId:{exact:s}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeOnceFromConstraints(c,i)})}decodeOnceFromConstraints(s,i){return me(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(l,i)})}decodeOnceFromStream(s,i){return me(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(s,i);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(s,i,l){return me(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,i,l)})}decodeFromVideoDevice(s,i,l){return me(this,void 0,void 0,function*(){let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeFromConstraints(u,i,l)})}decodeFromConstraints(s,i,l){return me(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(c,i,l)})}decodeFromStream(s,i,l){return me(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,i);return yield this.decodeContinuously(c,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,i){return me(this,void 0,void 0,function*(){const l=this.prepareVideoElement(i);return this.addVideoSource(l,s),this.videoElement=l,this.stream=s,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(s){return new Promise((i,l)=>this.playVideoOnLoad(s,()=>i()))}playVideoOnLoad(s,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",i),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return me(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,i){const l=document.getElementById(s);if(!l)throw new y(`element with id '${s}' not found`);if(l.nodeName.toLowerCase()!==i.toLowerCase())throw new y(`element with id '${s}' must be an ${i} element`);return l}decodeFromImage(s,i){if(!s&&!i)throw new y("either imageElement with a src set or an url must be provided");return i&&!s?this.decodeFromImageUrl(i):this.decodeFromImageElement(s)}decodeFromVideo(s,i){if(!s&&!i)throw new y("Either an element with a src set or an URL must be provided");return i&&!s?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,i,l){if(s===void 0&&i===void 0)throw new y("Either an element with a src set or an URL must be provided");return i&&!s?this.decodeFromVideoUrlContinuously(i,l):this.decodeFromVideoElementContinuously(s,l)}decodeFromImageElement(s){if(!s)throw new y("An image element must be provided.");this.reset();const i=this.prepareImageElement(s);this.imageElement=i;let l;return this.isImageLoaded(i)?l=this.decodeOnce(i,!1,!0):l=this._decodeOnLoadImage(i),l}decodeFromVideoElement(s){const i=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(s,i){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(l,i)}_decodeFromVideoElementSetup(s){if(!s)throw new y("A video element must be provided.");this.reset();const i=this.prepareVideoElement(s);return this.videoElement=i,i}decodeFromImageUrl(s){if(!s)throw new y("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const l=this._decodeOnLoadImage(i);return i.src=s,l}decodeFromVideoUrl(s){if(!s)throw new y("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),l=this.decodeFromVideoElement(i);return i.src=s,l}decodeFromVideoUrlContinuously(s,i){if(!s)throw new y("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(l,i);return l.src=s,c}_decodeOnLoadImage(s){return new Promise((i,l)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(i,l),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return me(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,i){return me(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,i)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let i;return typeof s>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof s=="string"&&(i=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(i=s),i}prepareVideoElement(s){let i;return!s&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof s=="string"&&(i=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(i=s),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(s,i=!0,l=!0){this._stopAsyncDecode=!1;const c=(u,f)=>{if(this._stopAsyncDecode){f(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(s);u(x)}catch(x){const w=i&&x instanceof X,A=(x instanceof T||x instanceof F)&&l;if(w||A)return setTimeout(c,this._timeBetweenDecodingAttempts,u,f);f(x)}};return new Promise((u,f)=>c(u,f))}decodeContinuously(s,i){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(s);i(c,null),setTimeout(l,this.timeBetweenScansMillis)}catch(c){i(null,c);const u=c instanceof T||c instanceof F,f=c instanceof X;(u||f)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(s){const i=this.createBinaryBitmap(s);return this.decodeBitmap(i)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,i,l){i||(i={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(s,i,l=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const i=this.getCaptureCanvas(s),l=new he(i),c=new ne(l);return new C(c)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const i=this.createCaptureCanvas(s);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let l,c;return typeof s<"u"&&(s instanceof HTMLVideoElement?(l=s.videoWidth,c=s.videoHeight):s instanceof HTMLImageElement&&(l=s.naturalWidth||s.width,c=s.naturalHeight||s.height)),i.style.width=l+"px",i.style.height=c+"px",i.width=l,i.height=c,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,i){try{s.srcObject=i}catch{s.src=URL.createObjectURL(i)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Re{constructor(s,i,l=i==null?0:8*i.length,c,u,f=_.currentTimeMillis()){this.text=s,this.rawBytes=i,this.numBits=l,this.resultPoints=c,this.format=u,this.timestamp=f,this.text=s,this.rawBytes=i,l==null?this.numBits=i==null?0:8*i.length:this.numBits=l,this.resultPoints=c,this.format=u,this.resultMetadata=null,f==null?this.timestamp=_.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,i)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const i=this.resultPoints;if(i===null)this.resultPoints=s;else if(s!==null&&s.length>0){const l=new Array(i.length+s.length);_.arraycopy(i,0,l,0,i.length),_.arraycopy(s,0,l,i.length,s.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var tt;(function(R){R[R.AZTEC=0]="AZTEC",R[R.CODABAR=1]="CODABAR",R[R.CODE_39=2]="CODE_39",R[R.CODE_93=3]="CODE_93",R[R.CODE_128=4]="CODE_128",R[R.DATA_MATRIX=5]="DATA_MATRIX",R[R.EAN_8=6]="EAN_8",R[R.EAN_13=7]="EAN_13",R[R.ITF=8]="ITF",R[R.MAXICODE=9]="MAXICODE",R[R.PDF_417=10]="PDF_417",R[R.QR_CODE=11]="QR_CODE",R[R.RSS_14=12]="RSS_14",R[R.RSS_EXPANDED=13]="RSS_EXPANDED",R[R.UPC_A=14]="UPC_A",R[R.UPC_E=15]="UPC_E",R[R.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(tt||(tt={}));var de=tt,Ce;(function(R){R[R.OTHER=0]="OTHER",R[R.ORIENTATION=1]="ORIENTATION",R[R.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",R[R.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",R[R.ISSUE_NUMBER=4]="ISSUE_NUMBER",R[R.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",R[R.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",R[R.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",R[R.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",R[R.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",R[R.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ce||(Ce={}));var xe=Ce;class ke{constructor(s,i,l,c,u=-1,f=-1){this.rawBytes=s,this.text=i,this.byteSegments=l,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=f,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Oe{exp(s){return this.expTable[s]}log(s){if(s===0)throw new v;return this.logTable[s]}static addOrSubtract(s,i){return s^i}}class pe{constructor(s,i){if(i.length===0)throw new v;this.field=s;const l=i.length;if(l>1&&i[0]===0){let c=1;for(;c<l&&i[c]===0;)c++;c===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-c),_.arraycopy(i,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const i=this.coefficients;let l;if(s===1){l=0;for(let f=0,x=i.length;f!==x;f++){const w=i[f];l=Oe.addOrSubtract(l,w)}return l}l=i[0];const c=i.length,u=this.field;for(let f=1;f<c;f++)l=Oe.addOrSubtract(u.multiply(s,l),i[f]);return l}addOrSubtract(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let i=this.coefficients,l=s.coefficients;if(i.length>l.length){const f=i;i=l,l=f}let c=new Int32Array(l.length);const u=l.length-i.length;_.arraycopy(l,0,c,0,u);for(let f=u;f<l.length;f++)c[f]=Oe.addOrSubtract(i[f-u],l[f]);return new pe(this.field,c)}multiply(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const i=this.coefficients,l=i.length,c=s.coefficients,u=c.length,f=new Int32Array(l+u-1),x=this.field;for(let w=0;w<l;w++){const b=i[w];for(let A=0;A<u;A++)f[w+A]=Oe.addOrSubtract(f[w+A],x.multiply(b,c[A]))}return new pe(x,f)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const i=this.coefficients.length,l=this.field,c=new Int32Array(i),u=this.coefficients;for(let f=0;f<i;f++)c[f]=l.multiply(u[f],s);return new pe(l,c)}multiplyByMonomial(s,i){if(s<0)throw new v;if(i===0)return this.field.getZero();const l=this.coefficients,c=l.length,u=new Int32Array(c+s),f=this.field;for(let x=0;x<c;x++)u[x]=f.multiply(l[x],i);return new pe(f,u)}divide(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new v("Divide by 0");const i=this.field;let l=i.getZero(),c=this;const u=s.getCoefficient(s.getDegree()),f=i.inverse(u);for(;c.getDegree()>=s.getDegree()&&!c.isZero();){const x=c.getDegree()-s.getDegree(),w=i.multiply(c.getCoefficient(c.getDegree()),f),b=s.multiplyByMonomial(x,w),A=i.buildMonomial(x,w);l=l.addOrSubtract(A),c=c.addOrSubtract(b)}return[l,c]}toString(){let s="";for(let i=this.getDegree();i>=0;i--){let l=this.getCoefficient(i);if(l!==0){if(l<0?(s+=" - ",l=-l):s.length>0&&(s+=" + "),i===0||l!==1){const c=this.field.log(l);c===0?s+="1":c===1?s+="a":(s+="a^",s+=c)}i!==0&&(i===1?s+="x":(s+="x^",s+=i))}}return s}}class Te extends g{}Te.kind="ArithmeticException";class Ae extends Oe{constructor(s,i,l){super(),this.primitive=s,this.size=i,this.generatorBase=l;const c=new Int32Array(i);let u=1;for(let x=0;x<i;x++)c[x]=u,u*=2,u>=i&&(u^=s,u&=i-1);this.expTable=c;const f=new Int32Array(i);for(let x=0;x<i-1;x++)f[c[x]]=x;this.logTable=f,this.zero=new pe(this,Int32Array.from([0])),this.one=new pe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,i){if(s<0)throw new v;if(i===0)return this.zero;const l=new Int32Array(s+1);return l[0]=i,new pe(this,l)}inverse(s){if(s===0)throw new Te;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,i){return s===0||i===0?0:this.expTable[(this.logTable[s]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+S.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}Ae.AZTEC_DATA_12=new Ae(4201,4096,1),Ae.AZTEC_DATA_10=new Ae(1033,1024,1),Ae.AZTEC_DATA_6=new Ae(67,64,1),Ae.AZTEC_PARAM=new Ae(19,16,1),Ae.QR_CODE_FIELD_256=new Ae(285,256,0),Ae.DATA_MATRIX_FIELD_256=new Ae(301,256,1),Ae.AZTEC_DATA_8=Ae.DATA_MATRIX_FIELD_256,Ae.MAXICODE_FIELD_64=Ae.AZTEC_DATA_6;class Ve extends g{}Ve.kind="ReedSolomonException";class Fe extends g{}Fe.kind="IllegalStateException";class Le{constructor(s){this.field=s}decode(s,i){const l=this.field,c=new pe(l,s),u=new Int32Array(i);let f=!0;for(let U=0;U<i;U++){const z=c.evaluateAt(l.exp(U+l.getGeneratorBase()));u[u.length-1-U]=z,z!==0&&(f=!1)}if(f)return;const x=new pe(l,u),w=this.runEuclideanAlgorithm(l.buildMonomial(i,1),x,i),b=w[0],A=w[1],O=this.findErrorLocations(b),M=this.findErrorMagnitudes(A,O);for(let U=0;U<O.length;U++){const z=s.length-1-l.log(O[U]);if(z<0)throw new Ve("Bad error location");s[z]=Ae.addOrSubtract(s[z],M[U])}}runEuclideanAlgorithm(s,i,l){if(s.getDegree()<i.getDegree()){const U=s;s=i,i=U}const c=this.field;let u=s,f=i,x=c.getZero(),w=c.getOne();for(;f.getDegree()>=(l/2|0);){let U=u,z=x;if(u=f,x=w,u.isZero())throw new Ve("r_{i-1} was zero");f=U;let $=c.getZero();const K=u.getCoefficient(u.getDegree()),J=c.inverse(K);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){const le=f.getDegree()-u.getDegree(),ce=c.multiply(f.getCoefficient(f.getDegree()),J);$=$.addOrSubtract(c.buildMonomial(le,ce)),f=f.addOrSubtract(u.multiplyByMonomial(le,ce))}if(w=$.multiply(x).addOrSubtract(z),f.getDegree()>=u.getDegree())throw new Fe("Division algorithm failed to reduce polynomial?")}const b=w.getCoefficient(0);if(b===0)throw new Ve("sigmaTilde(0) was zero");const A=c.inverse(b),O=w.multiplyScalar(A),M=f.multiplyScalar(A);return[O,M]}findErrorLocations(s){const i=s.getDegree();if(i===1)return Int32Array.from([s.getCoefficient(1)]);const l=new Int32Array(i);let c=0;const u=this.field;for(let f=1;f<u.getSize()&&c<i;f++)s.evaluateAt(f)===0&&(l[c]=u.inverse(f),c++);if(c!==i)throw new Ve("Error locator degree does not match number of roots");return l}findErrorMagnitudes(s,i){const l=i.length,c=new Int32Array(l),u=this.field;for(let f=0;f<l;f++){const x=u.inverse(i[f]);let w=1;for(let b=0;b<l;b++)if(f!==b){const A=u.multiply(i[b],x),O=A&1?A&-2:A|1;w=u.multiply(w,O)}c[f]=u.multiply(s.evaluateAt(x),u.inverse(w)),u.getGeneratorBase()!==0&&(c[f]=u.multiply(c[f],x))}return c}}var qe;(function(R){R[R.UPPER=0]="UPPER",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.DIGIT=3]="DIGIT",R[R.PUNCT=4]="PUNCT",R[R.BINARY=5]="BINARY"})(qe||(qe={}));class Ne{decode(s){this.ddata=s;let i=s.getBits(),l=this.extractBits(i),c=this.correctBits(l),u=Ne.convertBoolArrayToByteArray(c),f=Ne.getEncodedData(c),x=new ke(u,f,null,null);return x.setNumBits(c.length),x}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let i=s.length,l=qe.UPPER,c=qe.UPPER,u="",f=0;for(;f<i;)if(c===qe.BINARY){if(i-f<5)break;let x=Ne.readCode(s,f,5);if(f+=5,x===0){if(i-f<11)break;x=Ne.readCode(s,f,11)+31,f+=11}for(let w=0;w<x;w++){if(i-f<8){f=i;break}const b=Ne.readCode(s,f,8);u+=q.castAsNonUtf8Char(b),f+=8}c=l}else{let x=c===qe.DIGIT?4:5;if(i-f<x)break;let w=Ne.readCode(s,f,x);f+=x;let b=Ne.getCharacter(c,w);b.startsWith("CTRL_")?(l=c,c=Ne.getTable(b.charAt(5)),b.charAt(6)==="L"&&(l=c)):(u+=b,c=l)}return u}static getTable(s){switch(s){case"L":return qe.LOWER;case"P":return qe.PUNCT;case"M":return qe.MIXED;case"D":return qe.DIGIT;case"B":return qe.BINARY;case"U":default:return qe.UPPER}}static getCharacter(s,i){switch(s){case qe.UPPER:return Ne.UPPER_TABLE[i];case qe.LOWER:return Ne.LOWER_TABLE[i];case qe.MIXED:return Ne.MIXED_TABLE[i];case qe.PUNCT:return Ne.PUNCT_TABLE[i];case qe.DIGIT:return Ne.DIGIT_TABLE[i];default:throw new Fe("Bad table")}}correctBits(s){let i,l;this.ddata.getNbLayers()<=2?(l=6,i=Ae.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,i=Ae.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,i=Ae.AZTEC_DATA_10):(l=12,i=Ae.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=s.length/l;if(u<c)throw new F;let f=s.length%l,x=new Int32Array(u);for(let M=0;M<u;M++,f+=l)x[M]=Ne.readCode(s,f,l);try{new Le(i).decode(x,u-c)}catch(M){throw new F(M)}let w=(1<<l)-1,b=0;for(let M=0;M<c;M++){let U=x[M];if(U===0||U===w)throw new F;(U===1||U===w-1)&&b++}let A=new Array(c*l-b),O=0;for(let M=0;M<c;M++){let U=x[M];if(U===1||U===w-1)A.fill(U>1,O,O+l-1),O+=l-1;else for(let z=l-1;z>=0;--z)A[O++]=(U&1<<z)!==0}return A}extractBits(s){let i=this.ddata.isCompact(),l=this.ddata.getNbLayers(),c=(i?11:14)+l*4,u=new Int32Array(c),f=new Array(this.totalBitsInLayer(l,i));if(i)for(let x=0;x<u.length;x++)u[x]=x;else{let x=c+1+2*S.truncDivision(S.truncDivision(c,2)-1,15),w=c/2,b=S.truncDivision(x,2);for(let A=0;A<w;A++){let O=A+S.truncDivision(A,15);u[w-A-1]=b-O-1,u[w+A]=b+O+1}}for(let x=0,w=0;x<l;x++){let b=(l-x)*4+(i?9:12),A=x*2,O=c-1-A;for(let M=0;M<b;M++){let U=M*2;for(let z=0;z<2;z++)f[w+U+z]=s.get(u[A+z],u[A+M]),f[w+2*b+U+z]=s.get(u[A+M],u[O-z]),f[w+4*b+U+z]=s.get(u[O-z],u[O-M]),f[w+6*b+U+z]=s.get(u[O-M],u[A+z])}w+=b*8}return f}static readCode(s,i,l){let c=0;for(let u=i;u<i+l;u++)c<<=1,s[u]&&(c|=1);return c}static readByte(s,i){let l=s.length-i;return l>=8?Ne.readCode(s,i,8):Ne.readCode(s,i,l)<<8-l}static convertBoolArrayToByteArray(s){let i=new Uint8Array((s.length+7)/8);for(let l=0;l<i.length;l++)i[l]=Ne.readByte(s,8*l);return i}totalBitsInLayer(s,i){return((i?88:112)+16*s)*s}}Ne.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ne.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ne.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ne.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ne.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class _e{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,i,l,c){const u=s-l,f=i-c;return Math.sqrt(u*u+f*f)}static sum(s){let i=0;for(let l=0,c=s.length;l!==c;l++){const u=s[l];i+=u}return i}}class Pt{static floatToIntBits(s){return s}}Pt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ve{constructor(s,i){this.x=s,this.y=i}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof ve){const i=s;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Pt.floatToIntBits(this.x)+Pt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const i=this.distance(s[0],s[1]),l=this.distance(s[1],s[2]),c=this.distance(s[0],s[2]);let u,f,x;if(l>=i&&l>=c?(f=s[0],u=s[1],x=s[2]):c>=l&&c>=i?(f=s[1],u=s[0],x=s[2]):(f=s[2],u=s[0],x=s[1]),this.crossProductZ(u,f,x)<0){const w=u;u=x,x=w}s[0]=u,s[1]=f,s[2]=x}static distance(s,i){return _e.distance(s.x,s.y,i.x,i.y)}static crossProductZ(s,i,l){const c=i.x,u=i.y;return(l.x-c)*(s.y-u)-(l.y-u)*(s.x-c)}}class In{constructor(s,i){this.bits=s,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Fs extends In{constructor(s,i,l,c,u){super(s,i),this.compact=l,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ct{constructor(s,i,l,c){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),i==null&&(i=Ct.INIT_SIZE),l==null&&(l=s.getWidth()/2|0),c==null&&(c=s.getHeight()/2|0);const u=i/2|0;if(this.leftInit=l-u,this.rightInit=l+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let s=this.leftInit,i=this.rightInit,l=this.upInit,c=this.downInit,u=!1,f=!0,x=!1,w=!1,b=!1,A=!1,O=!1;const M=this.width,U=this.height;for(;f;){f=!1;let z=!0;for(;(z||!w)&&i<M;)z=this.containsBlackPoint(l,c,i,!1),z?(i++,f=!0,w=!0):w||i++;if(i>=M){u=!0;break}let $=!0;for(;($||!b)&&c<U;)$=this.containsBlackPoint(s,i,c,!0),$?(c++,f=!0,b=!0):b||c++;if(c>=U){u=!0;break}let K=!0;for(;(K||!A)&&s>=0;)K=this.containsBlackPoint(l,c,s,!1),K?(s--,f=!0,A=!0):A||s--;if(s<0){u=!0;break}let J=!0;for(;(J||!O)&&l>=0;)J=this.containsBlackPoint(s,i,l,!0),J?(l--,f=!0,O=!0):O||l--;if(l<0){u=!0;break}f&&(x=!0)}if(!u&&x){const z=i-s;let $=null;for(let ce=1;$===null&&ce<z;ce++)$=this.getBlackPointOnSegment(s,c-ce,s+ce,c);if($==null)throw new X;let K=null;for(let ce=1;K===null&&ce<z;ce++)K=this.getBlackPointOnSegment(s,l+ce,s+ce,l);if(K==null)throw new X;let J=null;for(let ce=1;J===null&&ce<z;ce++)J=this.getBlackPointOnSegment(i,l+ce,i-ce,l);if(J==null)throw new X;let le=null;for(let ce=1;le===null&&ce<z;ce++)le=this.getBlackPointOnSegment(i,c-ce,i-ce,c);if(le==null)throw new X;return this.centerEdges(le,$,J,K)}else throw new X}getBlackPointOnSegment(s,i,l,c){const u=_e.round(_e.distance(s,i,l,c)),f=(l-s)/u,x=(c-i)/u,w=this.image;for(let b=0;b<u;b++){const A=_e.round(s+b*f),O=_e.round(i+b*x);if(w.get(A,O))return new ve(A,O)}return null}centerEdges(s,i,l,c){const u=s.getX(),f=s.getY(),x=i.getX(),w=i.getY(),b=l.getX(),A=l.getY(),O=c.getX(),M=c.getY(),U=Ct.CORR;return u<this.width/2?[new ve(O-U,M+U),new ve(x+U,w+U),new ve(b-U,A-U),new ve(u+U,f-U)]:[new ve(O+U,M+U),new ve(x+U,w-U),new ve(b-U,A+U),new ve(u-U,f-U)]}containsBlackPoint(s,i,l,c){const u=this.image;if(c){for(let f=s;f<=i;f++)if(u.get(f,l))return!0}else for(let f=s;f<=i;f++)if(u.get(l,f))return!0;return!1}}Ct.INIT_SIZE=10,Ct.CORR=1;class Bn{static checkAndNudgePoints(s,i){const l=s.getWidth(),c=s.getHeight();let u=!0;for(let f=0;f<i.length&&u;f+=2){const x=Math.floor(i[f]),w=Math.floor(i[f+1]);if(x<-1||x>l||w<-1||w>c)throw new X;u=!1,x===-1?(i[f]=0,u=!0):x===l&&(i[f]=l-1,u=!0),w===-1?(i[f+1]=0,u=!0):w===c&&(i[f+1]=c-1,u=!0)}u=!0;for(let f=i.length-2;f>=0&&u;f-=2){const x=Math.floor(i[f]),w=Math.floor(i[f+1]);if(x<-1||x>l||w<-1||w>c)throw new X;u=!1,x===-1?(i[f]=0,u=!0):x===l&&(i[f]=l-1,u=!0),w===-1?(i[f+1]=0,u=!0):w===c&&(i[f+1]=c-1,u=!0)}}}class ut{constructor(s,i,l,c,u,f,x,w,b){this.a11=s,this.a21=i,this.a31=l,this.a12=c,this.a22=u,this.a32=f,this.a13=x,this.a23=w,this.a33=b}static quadrilateralToQuadrilateral(s,i,l,c,u,f,x,w,b,A,O,M,U,z,$,K){const J=ut.quadrilateralToSquare(s,i,l,c,u,f,x,w);return ut.squareToQuadrilateral(b,A,O,M,U,z,$,K).times(J)}transformPoints(s){const i=s.length,l=this.a11,c=this.a12,u=this.a13,f=this.a21,x=this.a22,w=this.a23,b=this.a31,A=this.a32,O=this.a33;for(let M=0;M<i;M+=2){const U=s[M],z=s[M+1],$=u*U+w*z+O;s[M]=(l*U+f*z+b)/$,s[M+1]=(c*U+x*z+A)/$}}transformPointsWithValues(s,i){const l=this.a11,c=this.a12,u=this.a13,f=this.a21,x=this.a22,w=this.a23,b=this.a31,A=this.a32,O=this.a33,M=s.length;for(let U=0;U<M;U++){const z=s[U],$=i[U],K=u*z+w*$+O;s[U]=(l*z+f*$+b)/K,i[U]=(c*z+x*$+A)/K}}static squareToQuadrilateral(s,i,l,c,u,f,x,w){const b=s-l+u-x,A=i-c+f-w;if(b===0&&A===0)return new ut(l-s,u-l,s,c-i,f-c,i,0,0,1);{const O=l-u,M=x-u,U=c-f,z=w-f,$=O*z-M*U,K=(b*z-M*A)/$,J=(O*A-b*U)/$;return new ut(l-s+K*l,x-s+J*x,s,c-i+K*c,w-i+J*w,i,K,J,1)}}static quadrilateralToSquare(s,i,l,c,u,f,x,w){return ut.squareToQuadrilateral(s,i,l,c,u,f,x,w).buildAdjoint()}buildAdjoint(){return new ut(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new ut(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class gn extends Bn{sampleGrid(s,i,l,c,u,f,x,w,b,A,O,M,U,z,$,K,J,le,ce){const oe=ut.quadrilateralToQuadrilateral(c,u,f,x,w,b,A,O,M,U,z,$,K,J,le,ce);return this.sampleGridWithTransform(s,i,l,oe)}sampleGridWithTransform(s,i,l,c){if(i<=0||l<=0)throw new X;const u=new re(i,l),f=new Float32Array(2*i);for(let x=0;x<l;x++){const w=f.length,b=x+.5;for(let A=0;A<w;A+=2)f[A]=A/2+.5,f[A+1]=b;c.transformPoints(f),Bn.checkAndNudgePoints(s,f);try{for(let A=0;A<w;A+=2)s.get(Math.floor(f[A]),Math.floor(f[A+1]))&&u.set(A/2,x)}catch{throw new X}}return u}}class an{static setGridSampler(s){an.gridSampler=s}static getInstance(){return an.gridSampler}}an.gridSampler=new gn;class Jt{constructor(s,i){this.x=s,this.y=i}toResultPoint(){return new ve(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ml{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let i=this.getMatrixCenter(),l=this.getBullsEyeCorners(i);if(s){let f=l[0];l[0]=l[2],l[2]=f}this.extractParameters(l);let c=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),u=this.getMatrixCornerPoints(l);return new Fs(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new X;let i=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(s[0],s[1],i),this.sampleLine(s[1],s[2],i),this.sampleLine(s[2],s[3],i),this.sampleLine(s[3],s[0],i)]);this.shift=this.getRotation(l,i);let c=0;for(let f=0;f<4;f++){let x=l[(this.shift+f)%4];this.compact?(c<<=7,c+=x>>1&127):(c<<=10,c+=(x>>2&992)+(x>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(s,i){let l=0;s.forEach((c,u,f)=>{let x=(c>>i-2<<1)+(c&1);l=(l<<3)+x}),l=((l&1)<<11)+(l>>1);for(let c=0;c<4;c++)if(S.bitCount(l^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new X}getCorrectedParameterData(s,i){let l,c;i?(l=7,c=2):(l=10,c=4);let u=l-c,f=new Int32Array(l);for(let w=l-1;w>=0;--w)f[w]=s&15,s>>=4;try{new Le(Ae.AZTEC_PARAM).decode(f,u)}catch{throw new X}let x=0;for(let w=0;w<c;w++)x=(x<<4)+f[w];return x}getBullsEyeCorners(s){let i=s,l=s,c=s,u=s,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(i,f,1,-1),M=this.getFirstDifferent(l,f,1,1),U=this.getFirstDifferent(c,f,-1,1),z=this.getFirstDifferent(u,f,-1,-1);if(this.nbCenterLayers>2){let $=this.distancePoint(z,O)*this.nbCenterLayers/(this.distancePoint(u,i)*(this.nbCenterLayers+2));if($<.75||$>1.25||!this.isWhiteOrBlackRectangle(O,M,U,z))break}i=O,l=M,c=U,u=z,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let x=new ve(i.getX()+.5,i.getY()-.5),w=new ve(l.getX()+.5,l.getY()+.5),b=new ve(c.getX()-.5,c.getY()+.5),A=new ve(u.getX()-.5,u.getY()-.5);return this.expandSquare([x,w,b,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,i,l,c;try{let x=new Ct(this.image).detect();s=x[0],i=x[1],l=x[2],c=x[3]}catch{let w=this.image.getWidth()/2,b=this.image.getHeight()/2;s=this.getFirstDifferent(new Jt(w+7,b-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Jt(w+7,b+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Jt(w-7,b+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new Jt(w-7,b-7),!1,-1,-1).toResultPoint()}let u=_e.round((s.getX()+c.getX()+i.getX()+l.getX())/4),f=_e.round((s.getY()+c.getY()+i.getY()+l.getY())/4);try{let x=new Ct(this.image,15,u,f).detect();s=x[0],i=x[1],l=x[2],c=x[3]}catch{s=this.getFirstDifferent(new Jt(u+7,f-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Jt(u+7,f+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Jt(u-7,f+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new Jt(u-7,f-7),!1,-1,-1).toResultPoint()}return u=_e.round((s.getX()+c.getX()+i.getX()+l.getX())/4),f=_e.round((s.getY()+c.getY()+i.getY()+l.getY())/4),new Jt(u,f)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,i,l,c,u){let f=an.getInstance(),x=this.getDimension(),w=x/2-this.nbCenterLayers,b=x/2+this.nbCenterLayers;return f.sampleGrid(s,x,x,w,w,b,w,b,b,w,b,i.getX(),i.getY(),l.getX(),l.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(s,i,l){let c=0,u=this.distanceResultPoint(s,i),f=u/l,x=s.getX(),w=s.getY(),b=f*(i.getX()-s.getX())/u,A=f*(i.getY()-s.getY())/u;for(let O=0;O<l;O++)this.image.get(_e.round(x+O*b),_e.round(w+O*A))&&(c|=1<<l-O-1);return c}isWhiteOrBlackRectangle(s,i,l,c){let u=3;s=new Jt(s.getX()-u,s.getY()+u),i=new Jt(i.getX()-u,i.getY()-u),l=new Jt(l.getX()+u,l.getY()-u),c=new Jt(c.getX()+u,c.getY()+u);let f=this.getColor(c,s);if(f===0)return!1;let x=this.getColor(s,i);return x!==f||(x=this.getColor(i,l),x!==f)?!1:(x=this.getColor(l,c),x===f)}getColor(s,i){let l=this.distancePoint(s,i),c=(i.getX()-s.getX())/l,u=(i.getY()-s.getY())/l,f=0,x=s.getX(),w=s.getY(),b=this.image.get(s.getX(),s.getY()),A=Math.ceil(l);for(let M=0;M<A;M++)x+=c,w+=u,this.image.get(_e.round(x),_e.round(w))!==b&&f++;let O=f/l;return O>.1&&O<.9?0:O<=.1===b?1:-1}getFirstDifferent(s,i,l,c){let u=s.getX()+l,f=s.getY()+c;for(;this.isValid(u,f)&&this.image.get(u,f)===i;)u+=l,f+=c;for(u-=l,f-=c;this.isValid(u,f)&&this.image.get(u,f)===i;)u+=l;for(u-=l;this.isValid(u,f)&&this.image.get(u,f)===i;)f+=c;return f-=c,new Jt(u,f)}expandSquare(s,i,l){let c=l/(2*i),u=s[0].getX()-s[2].getX(),f=s[0].getY()-s[2].getY(),x=(s[0].getX()+s[2].getX())/2,w=(s[0].getY()+s[2].getY())/2,b=new ve(x+c*u,w+c*f),A=new ve(x-c*u,w-c*f);u=s[1].getX()-s[3].getX(),f=s[1].getY()-s[3].getY(),x=(s[1].getX()+s[3].getX())/2,w=(s[1].getY()+s[3].getY())/2;let O=new ve(x+c*u,w+c*f),M=new ve(x-c*u,w-c*f);return[b,O,A,M]}isValid(s,i){return s>=0&&s<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(s){let i=_e.round(s.getX()),l=_e.round(s.getY());return this.isValid(i,l)}distancePoint(s,i){return _e.distance(s.getX(),s.getY(),i.getX(),i.getY())}distanceResultPoint(s,i){return _e.distance(s.getX(),s.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(S.truncDivision(this.nbLayers-4,8)+1)+15}}class Rr{decode(s,i=null){let l=null,c=new ml(s.getBlackMatrix()),u=null,f=null;try{let A=c.detectMirror(!1);u=A.getPoints(),this.reportFoundResultPoints(i,u),f=new Ne().decode(A)}catch(A){l=A}if(f==null)try{let A=c.detectMirror(!0);u=A.getPoints(),this.reportFoundResultPoints(i,u),f=new Ne().decode(A)}catch(A){throw l??A}let x=new Re(f.getText(),f.getRawBytes(),f.getNumBits(),u,de.AZTEC,_.currentTimeMillis()),w=f.getByteSegments();w!=null&&x.putMetadata(xe.BYTE_SEGMENTS,w);let b=f.getECLevel();return b!=null&&x.putMetadata(xe.ERROR_CORRECTION_LEVEL,b),x}reportFoundResultPoints(s,i){if(s!=null){let l=s.get(W.NEED_RESULT_POINT_CALLBACK);l!=null&&i.forEach((c,u,f)=>{l.foundPossibleResultPoint(c)})}}reset(){}}class hr extends we{constructor(s=500){super(new Rr,s)}}class St{decode(s,i){try{return this.doDecode(s,i)}catch{if(i&&i.get(W.TRY_HARDER)===!0&&s.isRotateSupported()){const u=s.rotateCounterClockwise(),f=this.doDecode(u,i),x=f.getResultMetadata();let w=270;x!==null&&x.get(xe.ORIENTATION)===!0&&(w=w+x.get(xe.ORIENTATION)%360),f.putMetadata(xe.ORIENTATION,w);const b=f.getResultPoints();if(b!==null){const A=u.getHeight();for(let O=0;O<b.length;O++)b[O]=new ve(A-b[O].getY()-1,b[O].getX())}return f}else throw new X}}reset(){}doDecode(s,i){const l=s.getWidth(),c=s.getHeight();let u=new D(l);const f=i&&i.get(W.TRY_HARDER)===!0,x=Math.max(1,c>>(f?8:5));let w;f?w=c:w=15;const b=Math.trunc(c/2);for(let A=0;A<w;A++){const O=Math.trunc((A+1)/2),M=(A&1)===0,U=b+x*(M?O:-O);if(U<0||U>=c)break;try{u=s.getBlackRow(U,u)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(u.reverse(),i&&i.get(W.NEED_RESULT_POINT_CALLBACK)===!0)){const $=new Map;i.forEach((K,J)=>$.set(J,K)),$.delete(W.NEED_RESULT_POINT_CALLBACK),i=$}try{const $=this.decodeRow(U,u,i);if(z===1){$.putMetadata(xe.ORIENTATION,180);const K=$.getResultPoints();K!==null&&(K[0]=new ve(l-K[0].getX()-1,K[0].getY()),K[1]=new ve(l-K[1].getX()-1,K[1].getY()))}return $}catch{}}}throw new X}static recordPattern(s,i,l){const c=l.length;for(let b=0;b<c;b++)l[b]=0;const u=s.getSize();if(i>=u)throw new X;let f=!s.get(i),x=0,w=i;for(;w<u;){if(s.get(w)!==f)l[x]++;else{if(++x===c)break;l[x]=1,f=!f}w++}if(!(x===c||x===c-1&&w===u))throw new X}static recordPatternInReverse(s,i,l){let c=l.length,u=s.get(i);for(;i>0&&c>=0;)s.get(--i)!==u&&(c--,u=!u);if(c>=0)throw new X;St.recordPattern(s,i+1,l)}static patternMatchVariance(s,i,l){const c=s.length;let u=0,f=0;for(let b=0;b<c;b++)u+=s[b],f+=i[b];if(u<f)return Number.POSITIVE_INFINITY;const x=u/f;l*=x;let w=0;for(let b=0;b<c;b++){const A=s[b],O=i[b]*x,M=A>O?A-O:O-A;if(M>l)return Number.POSITIVE_INFINITY;w+=M}return w/u}}class ge extends St{static findStartPattern(s){const i=s.getSize(),l=s.getNextSet(0);let c=0,u=Int32Array.from([0,0,0,0,0,0]),f=l,x=!1;const w=6;for(let b=l;b<i;b++)if(s.get(b)!==x)u[c]++;else{if(c===w-1){let A=ge.MAX_AVG_VARIANCE,O=-1;for(let M=ge.CODE_START_A;M<=ge.CODE_START_C;M++){const U=St.patternMatchVariance(u,ge.CODE_PATTERNS[M],ge.MAX_INDIVIDUAL_VARIANCE);U<A&&(A=U,O=M)}if(O>=0&&s.isRange(Math.max(0,f-(b-f)/2),f,!1))return Int32Array.from([f,b,O]);f+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,x=!x}throw new X}static decodeCode(s,i,l){St.recordPattern(s,l,i);let c=ge.MAX_AVG_VARIANCE,u=-1;for(let f=0;f<ge.CODE_PATTERNS.length;f++){const x=ge.CODE_PATTERNS[f],w=this.patternMatchVariance(i,x,ge.MAX_INDIVIDUAL_VARIANCE);w<c&&(c=w,u=f)}if(u>=0)return u;throw new X}decodeRow(s,i,l){const c=l&&l.get(W.ASSUME_GS1)===!0,u=ge.findStartPattern(i),f=u[2];let x=0;const w=new Uint8Array(20);w[x++]=f;let b;switch(f){case ge.CODE_START_A:b=ge.CODE_CODE_A;break;case ge.CODE_START_B:b=ge.CODE_CODE_B;break;case ge.CODE_START_C:b=ge.CODE_CODE_C;break;default:throw new F}let A=!1,O=!1,M="",U=u[0],z=u[1];const $=Int32Array.from([0,0,0,0,0,0]);let K=0,J=0,le=f,ce=0,oe=!0,et=!1,We=!1;for(;!A;){const Go=O;switch(O=!1,K=J,J=ge.decodeCode(i,$,z),w[x++]=J,J!==ge.CODE_STOP&&(oe=!0),J!==ge.CODE_STOP&&(ce++,le+=ce*J),U=z,z+=$.reduce((AA,_A)=>AA+_A,0),J){case ge.CODE_START_A:case ge.CODE_START_B:case ge.CODE_START_C:throw new F}switch(b){case ge.CODE_CODE_A:if(J<64)We===et?M+=String.fromCharCode(32+J):M+=String.fromCharCode(32+J+128),We=!1;else if(J<96)We===et?M+=String.fromCharCode(J-64):M+=String.fromCharCode(J+64),We=!1;else switch(J!==ge.CODE_STOP&&(oe=!1),J){case ge.CODE_FNC_1:c&&(M.length===0?M+="]C1":M+="");break;case ge.CODE_FNC_2:case ge.CODE_FNC_3:break;case ge.CODE_FNC_4_A:!et&&We?(et=!0,We=!1):et&&We?(et=!1,We=!1):We=!0;break;case ge.CODE_SHIFT:O=!0,b=ge.CODE_CODE_B;break;case ge.CODE_CODE_B:b=ge.CODE_CODE_B;break;case ge.CODE_CODE_C:b=ge.CODE_CODE_C;break;case ge.CODE_STOP:A=!0;break}break;case ge.CODE_CODE_B:if(J<96)We===et?M+=String.fromCharCode(32+J):M+=String.fromCharCode(32+J+128),We=!1;else switch(J!==ge.CODE_STOP&&(oe=!1),J){case ge.CODE_FNC_1:c&&(M.length===0?M+="]C1":M+="");break;case ge.CODE_FNC_2:case ge.CODE_FNC_3:break;case ge.CODE_FNC_4_B:!et&&We?(et=!0,We=!1):et&&We?(et=!1,We=!1):We=!0;break;case ge.CODE_SHIFT:O=!0,b=ge.CODE_CODE_A;break;case ge.CODE_CODE_A:b=ge.CODE_CODE_A;break;case ge.CODE_CODE_C:b=ge.CODE_CODE_C;break;case ge.CODE_STOP:A=!0;break}break;case ge.CODE_CODE_C:if(J<100)J<10&&(M+="0"),M+=J;else switch(J!==ge.CODE_STOP&&(oe=!1),J){case ge.CODE_FNC_1:c&&(M.length===0?M+="]C1":M+="");break;case ge.CODE_CODE_A:b=ge.CODE_CODE_A;break;case ge.CODE_CODE_B:b=ge.CODE_CODE_B;break;case ge.CODE_STOP:A=!0;break}break}Go&&(b=b===ge.CODE_CODE_A?ge.CODE_CODE_B:ge.CODE_CODE_A)}const Wn=z-U;if(z=i.getNextUnset(z),!i.isRange(z,Math.min(i.getSize(),z+(z-U)/2),!1))throw new X;if(le-=ce*K,le%103!==K)throw new T;const kr=M.length;if(kr===0)throw new X;kr>0&&oe&&(b===ge.CODE_CODE_C?M=M.substring(0,kr-2):M=M.substring(0,kr-1));const zn=(u[1]+u[0])/2,Et=U+Wn/2,xn=w.length,er=new Uint8Array(xn);for(let Go=0;Go<xn;Go++)er[Go]=w[Go];const $o=[new ve(zn,s),new ve(Et,s)];return new Re(M,er,0,$o,de.CODE_128,new Date().getTime())}}ge.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ge.MAX_AVG_VARIANCE=.25,ge.MAX_INDIVIDUAL_VARIANCE=.7,ge.CODE_SHIFT=98,ge.CODE_CODE_C=99,ge.CODE_CODE_B=100,ge.CODE_CODE_A=101,ge.CODE_FNC_1=102,ge.CODE_FNC_2=97,ge.CODE_FNC_3=96,ge.CODE_FNC_4_A=101,ge.CODE_FNC_4_B=100,ge.CODE_START_A=103,ge.CODE_START_B=104,ge.CODE_START_C=105,ge.CODE_STOP=106;class en extends St{constructor(s=!1,i=!1){super(),this.usingCheckDigit=s,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,i,l){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=en.findAsteriskPattern(i,c),f=i.getNextSet(u[1]),x=i.getSize(),w,b;do{en.recordPattern(i,f,c);let $=en.toNarrowWidePattern(c);if($<0)throw new X;w=en.patternToChar($),this.decodeRowResult+=w,b=f;for(let K of c)f+=K;f=i.getNextSet(f)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let A=0;for(let $ of c)A+=$;let O=f-b-A;if(f!==x&&O*2<A)throw new X;if(this.usingCheckDigit){let $=this.decodeRowResult.length-1,K=0;for(let J=0;J<$;J++)K+=en.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(J));if(this.decodeRowResult.charAt($)!==en.ALPHABET_STRING.charAt(K%43))throw new T;this.decodeRowResult=this.decodeRowResult.substring(0,$)}if(this.decodeRowResult.length===0)throw new X;let M;this.extendedMode?M=en.decodeExtended(this.decodeRowResult):M=this.decodeRowResult;let U=(u[1]+u[0])/2,z=b+A/2;return new Re(M,null,0,[new ve(U,s),new ve(z,s)],de.CODE_39,new Date().getTime())}static findAsteriskPattern(s,i){let l=s.getSize(),c=s.getNextSet(0),u=0,f=c,x=!1,w=i.length;for(let b=c;b<l;b++)if(s.get(b)!==x)i[u]++;else{if(u===w-1){if(this.toNarrowWidePattern(i)===en.ASTERISK_ENCODING&&s.isRange(Math.max(0,f-Math.floor((b-f)/2)),f,!1))return[f,b];f+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,x=!x}throw new X}static toNarrowWidePattern(s){let i=s.length,l=0,c;do{let u=2147483647;for(let w of s)w<u&&w>l&&(u=w);l=u,c=0;let f=0,x=0;for(let w=0;w<i;w++){let b=s[w];b>l&&(x|=1<<i-1-w,c++,f+=b)}if(c===3){for(let w=0;w<i&&c>0;w++){let b=s[w];if(b>l&&(c--,b*2>=f))return-1}return x}}while(c>3);return-1}static patternToChar(s){for(let i=0;i<en.CHARACTER_ENCODINGS.length;i++)if(en.CHARACTER_ENCODINGS[i]===s)return en.ALPHABET_STRING.charAt(i);if(s===en.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(s){let i=s.length,l="";for(let c=0;c<i;c++){let u=s.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let f=s.charAt(c+1),x="\0";switch(u){case"+":if(f>="A"&&f<="Z")x=String.fromCharCode(f.charCodeAt(0)+32);else throw new F;break;case"$":if(f>="A"&&f<="Z")x=String.fromCharCode(f.charCodeAt(0)-64);else throw new F;break;case"%":if(f>="A"&&f<="E")x=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")x=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")x=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")x=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")x="\0";else if(f==="V")x="@";else if(f==="W")x="`";else if(f==="X"||f==="Y"||f==="Z")x="";else throw new F;break;case"/":if(f>="A"&&f<="O")x=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")x=":";else throw new F;break}l+=x,c++}else l+=u}return l}}en.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",en.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],en.ASTERISK_ENCODING=148;class vt extends St{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,i,l){let c=this.decodeStart(i),u=this.decodeEnd(i),f=new se;vt.decodeMiddle(i,c[1],u[0],f);let x=f.toString(),w=null;l!=null&&(w=l.get(W.ALLOWED_LENGTHS)),w==null&&(w=vt.DEFAULT_ALLOWED_LENGTHS);let b=x.length,A=!1,O=0;for(let z of w){if(b===z){A=!0;break}z>O&&(O=z)}if(!A&&b>O&&(A=!0),!A)throw new F;const M=[new ve(c[1],s),new ve(u[0],s)];return new Re(x,null,0,M,de.ITF,new Date().getTime())}static decodeMiddle(s,i,l,c){let u=new Int32Array(10),f=new Int32Array(5),x=new Int32Array(5);for(u.fill(0),f.fill(0),x.fill(0);i<l;){St.recordPattern(s,i,u);for(let b=0;b<5;b++){let A=2*b;f[b]=u[A],x[b]=u[A+1]}let w=vt.decodeDigit(f);c.append(w.toString()),w=this.decodeDigit(x),c.append(w.toString()),u.forEach(function(b){i+=b})}}decodeStart(s){let i=vt.skipWhiteSpace(s),l=vt.findGuardPattern(s,i,vt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(s,l[0]),l}validateQuietZone(s,i){let l=this.narrowLineWidth*10;l=l<i?l:i;for(let c=i-1;l>0&&c>=0&&!s.get(c);c--)l--;if(l!==0)throw new X}static skipWhiteSpace(s){const i=s.getSize(),l=s.getNextSet(0);if(l===i)throw new X;return l}decodeEnd(s){s.reverse();try{let i=vt.skipWhiteSpace(s),l;try{l=vt.findGuardPattern(s,i,vt.END_PATTERN_REVERSED[0])}catch(u){u instanceof X&&(l=vt.findGuardPattern(s,i,vt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,l[0]);let c=l[0];return l[0]=s.getSize()-l[1],l[1]=s.getSize()-c,l}finally{s.reverse()}}static findGuardPattern(s,i,l){let c=l.length,u=new Int32Array(c),f=s.getSize(),x=!1,w=0,b=i;u.fill(0);for(let A=i;A<f;A++)if(s.get(A)!==x)u[w]++;else{if(w===c-1){if(St.patternMatchVariance(u,l,vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return[b,A];b+=u[0]+u[1],_.arraycopy(u,2,u,0,w-1),u[w-1]=0,u[w]=0,w--}else w++;u[w]=1,x=!x}throw new X}static decodeDigit(s){let i=vt.MAX_AVG_VARIANCE,l=-1,c=vt.PATTERNS.length;for(let u=0;u<c;u++){let f=vt.PATTERNS[u],x=St.patternMatchVariance(s,f,vt.MAX_INDIVIDUAL_VARIANCE);x<i?(i=x,l=u):x===i&&(l=-1)}if(l>=0)return l%10;throw new X}}vt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],vt.MAX_AVG_VARIANCE=.38,vt.MAX_INDIVIDUAL_VARIANCE=.5,vt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],vt.START_PATTERN=Int32Array.from([1,1,1,1]),vt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Vt extends St{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let i=!1,l,c=0,u=Int32Array.from([0,0,0]);for(;!i;){u=Int32Array.from([0,0,0]),l=Vt.findGuardPattern(s,c,!1,this.START_END_PATTERN,u);let f=l[0];c=l[1];let x=f-(c-f);x>=0&&(i=s.isRange(x,f,!1))}return l}static checkChecksum(s){return Vt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let i=s.length;if(i===0)return!1;let l=parseInt(s.charAt(i-1),10);return Vt.getStandardUPCEANChecksum(s.substring(0,i-1))===l}static getStandardUPCEANChecksum(s){let i=s.length,l=0;for(let c=i-1;c>=0;c-=2){let u=s.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new F;l+=u}l*=3;for(let c=i-2;c>=0;c-=2){let u=s.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new F;l+=u}return(1e3-l)%10}static decodeEnd(s,i){return Vt.findGuardPattern(s,i,!1,Vt.START_END_PATTERN,new Int32Array(Vt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,i,l,c){return this.findGuardPattern(s,i,l,c,new Int32Array(c.length))}static findGuardPattern(s,i,l,c,u){let f=s.getSize();i=l?s.getNextUnset(i):s.getNextSet(i);let x=0,w=i,b=c.length,A=l;for(let O=i;O<f;O++)if(s.get(O)!==A)u[x]++;else{if(x===b-1){if(St.patternMatchVariance(u,c,Vt.MAX_INDIVIDUAL_VARIANCE)<Vt.MAX_AVG_VARIANCE)return Int32Array.from([w,O]);w+=u[0]+u[1];let M=u.slice(2,u.length-1);for(let U=0;U<x-1;U++)u[U]=M[U];u[x-1]=0,u[x]=0,x--}else x++;u[x]=1,A=!A}throw new X}static decodeDigit(s,i,l,c){this.recordPattern(s,l,i);let u=this.MAX_AVG_VARIANCE,f=-1,x=c.length;for(let w=0;w<x;w++){let b=c[w],A=St.patternMatchVariance(i,b,Vt.MAX_INDIVIDUAL_VARIANCE);A<u&&(u=A,f=w)}if(f>=0)return f;throw new X}}Vt.MAX_AVG_VARIANCE=.48,Vt.MAX_INDIVIDUAL_VARIANCE=.7,Vt.START_END_PATTERN=Int32Array.from([1,1,1]),Vt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Vt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Vt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class xl{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,i,l){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(i,l,c),f=c.toString(),x=xl.parseExtensionString(f),w=[new ve((l[0]+l[1])/2,s),new ve(u,s)],b=new Re(f,null,0,w,de.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&b.putAllMetadata(x),b}decodeMiddle(s,i,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),f=i[1],x=0;for(let b=0;b<5&&f<u;b++){let A=Vt.decodeDigit(s,c,f,Vt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+A%10);for(let O of c)f+=O;A>=10&&(x|=1<<4-b),b!==4&&(f=s.getNextSet(f),f=s.getNextUnset(f))}if(l.length!==5)throw new X;let w=this.determineCheckDigit(x);if(xl.extensionChecksum(l.toString())!==w)throw new X;return f}static extensionChecksum(s){let i=s.length,l=0;for(let c=i-2;c>=0;c-=2)l+=s.charAt(c).charCodeAt(0)-48;l*=3;for(let c=i-1;c>=0;c-=2)l+=s.charAt(c).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(s){for(let i=0;i<10;i++)if(s===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new X}static parseExtensionString(s){if(s.length!==5)return null;let i=xl.parseExtension5String(s);return i==null?null:new Map([[xe.SUGGESTED_PRICE,i]])}static parseExtension5String(s){let i;switch(s.charAt(0)){case"0":i="£";break;case"5":i="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let l=parseInt(s.substring(1)),c=(l/100).toString(),u=l%100,f=u<10?"0"+u:u.toString();return i+c+"."+f}}class zf{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,i,l){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(i,l,c),f=c.toString(),x=zf.parseExtensionString(f),w=[new ve((l[0]+l[1])/2,s),new ve(u,s)],b=new Re(f,null,0,w,de.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&b.putAllMetadata(x),b}decodeMiddle(s,i,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),f=i[1],x=0;for(let w=0;w<2&&f<u;w++){let b=Vt.decodeDigit(s,c,f,Vt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+b%10);for(let A of c)f+=A;b>=10&&(x|=1<<1-w),w!==1&&(f=s.getNextSet(f),f=s.getNextUnset(f))}if(l.length!==2)throw new X;if(parseInt(l.toString())%4!==x)throw new X;return f}static parseExtensionString(s){return s.length!==2?null:new Map([[xe.ISSUE_NUMBER,parseInt(s)]])}}class Dp{static decodeRow(s,i,l){let c=Vt.findGuardPattern(i,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new xl().decodeRow(s,i,c)}catch{return new zf().decodeRow(s,i,c)}}}Dp.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ot extends Vt{constructor(){super(),this.decodeRowStringBuffer="",ot.L_AND_G_PATTERNS=ot.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let i=ot.L_PATTERNS[s-10],l=new Int32Array(i.length);for(let c=0;c<i.length;c++)l[c]=i[i.length-c-1];ot.L_AND_G_PATTERNS[s]=l}}decodeRow(s,i,l){let c=ot.findStartGuardPattern(i),u=l==null?null:l.get(W.NEED_RESULT_POINT_CALLBACK);if(u!=null){const oe=new ve((c[0]+c[1])/2,s);u.foundPossibleResultPoint(oe)}let f=this.decodeMiddle(i,c,this.decodeRowStringBuffer),x=f.rowOffset,w=f.resultString;if(u!=null){const oe=new ve(x,s);u.foundPossibleResultPoint(oe)}let b=this.decodeEnd(i,x);if(u!=null){const oe=new ve((b[0]+b[1])/2,s);u.foundPossibleResultPoint(oe)}let A=b[1],O=A+(A-b[0]);if(O>=i.getSize()||!i.isRange(A,O,!1))throw new X;let M=w.toString();if(M.length<8)throw new F;if(!ot.checkChecksum(M))throw new T;let U=(c[1]+c[0])/2,z=(b[1]+b[0])/2,$=this.getBarcodeFormat(),K=[new ve(U,s),new ve(z,s)],J=new Re(M,null,0,K,$,new Date().getTime()),le=0;try{let oe=Dp.decodeRow(s,i,b[1]);J.putMetadata(xe.UPC_EAN_EXTENSION,oe.getText()),J.putAllMetadata(oe.getResultMetadata()),J.addResultPoints(oe.getResultPoints()),le=oe.getText().length}catch{}let ce=l==null?null:l.get(W.ALLOWED_EAN_EXTENSIONS);if(ce!=null){let oe=!1;for(let et in ce)if(le.toString()===et){oe=!0;break}if(!oe)throw new X}return J}decodeEnd(s,i){return ot.findGuardPattern(s,i,!1,ot.START_END_PATTERN,new Int32Array(ot.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return ot.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let i=s.length;if(i===0)return!1;let l=parseInt(s.charAt(i-1),10);return ot.getStandardUPCEANChecksum(s.substring(0,i-1))===l}static getStandardUPCEANChecksum(s){let i=s.length,l=0;for(let c=i-1;c>=0;c-=2){let u=s.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new F;l+=u}l*=3;for(let c=i-2;c>=0;c-=2){let u=s.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new F;l+=u}return(1e3-l)%10}}class $i extends ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,i,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),f=i[1],x=0;for(let b=0;b<6&&f<u;b++){let A=ot.decodeDigit(s,c,f,ot.L_AND_G_PATTERNS);l+=String.fromCharCode(48+A%10);for(let O of c)f+=O;A>=10&&(x|=1<<5-b)}l=$i.determineFirstDigit(l,x),f=ot.findGuardPattern(s,f,!0,ot.MIDDLE_PATTERN,new Int32Array(ot.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<6&&f<u;b++){let A=ot.decodeDigit(s,c,f,ot.L_PATTERNS);l+=String.fromCharCode(48+A);for(let O of c)f+=O}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return de.EAN_13}static determineFirstDigit(s,i){for(let l=0;l<10;l++)if(i===this.FIRST_DIGIT_ENCODINGS[l])return s=String.fromCharCode(48+l)+s,s;throw new X}}$i.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Mp extends ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,i,l){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),f=i[1];for(let w=0;w<4&&f<u;w++){let b=ot.decodeDigit(s,c,f,ot.L_PATTERNS);l+=String.fromCharCode(48+b);for(let A of c)f+=A}f=ot.findGuardPattern(s,f,!0,ot.MIDDLE_PATTERN,new Int32Array(ot.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&f<u;w++){let b=ot.decodeDigit(s,c,f,ot.L_PATTERNS);l+=String.fromCharCode(48+b);for(let A of c)f+=A}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return de.EAN_8}}class jp extends ot{constructor(){super(...arguments),this.ean13Reader=new $i}getBarcodeFormat(){return de.UPC_A}decode(s,i){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,i,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,i,l))}decodeMiddle(s,i,l){return this.ean13Reader.decodeMiddle(s,i,l)}maybeReturnResult(s){let i=s.getText();if(i.charAt(0)==="0"){let l=new Re(i.substring(1),null,null,s.getResultPoints(),de.UPC_A);return s.getResultMetadata()!=null&&l.putAllMetadata(s.getResultMetadata()),l}else throw new X}reset(){this.ean13Reader.reset()}}class Or extends ot{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,i,l){const c=this.decodeMiddleCounters.map(b=>b);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const u=s.getSize();let f=i[1],x=0;for(let b=0;b<6&&f<u;b++){const A=Or.decodeDigit(s,c,f,Or.L_AND_G_PATTERNS);l+=String.fromCharCode(48+A%10);for(let O of c)f+=O;A>=10&&(x|=1<<5-b)}let w=Or.determineNumSysAndCheckDigit(l,x);return{rowOffset:f,resultString:w}}decodeEnd(s,i){return Or.findGuardPatternWithoutCounters(s,i,!0,Or.MIDDLE_END_PATTERN)}checkChecksum(s){return ot.checkChecksum(Or.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,i){for(let l=0;l<=1;l++)for(let c=0;c<10;c++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][c]){let u=String.fromCharCode(48+l),f=String.fromCharCode(48+c);return u+s+f}throw X.getNotFoundInstance()}getBarcodeFormat(){return de.UPC_E}static convertUPCEtoUPCA(s){const i=s.slice(1,7).split("").map(u=>u.charCodeAt(0)),l=new se;l.append(s.charAt(0));let c=i[5];switch(c){case 0:case 1:case 2:l.appendChars(i,0,2),l.append(c),l.append("0000"),l.appendChars(i,2,3);break;case 3:l.appendChars(i,0,3),l.append("00000"),l.appendChars(i,3,2);break;case 4:l.appendChars(i,0,4),l.append("00000"),l.append(i[4]);break;default:l.appendChars(i,0,5),l.append("0000"),l.append(c);break}return s.length>=8&&l.append(s.charAt(7)),l.toString()}}Or.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Or.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Hf extends St{constructor(s){super();let i=s==null?null:s.get(W.POSSIBLE_FORMATS),l=[];r(i)?(l.push(new $i),l.push(new jp),l.push(new Mp),l.push(new Or)):(i.indexOf(de.EAN_13)>-1&&l.push(new $i),i.indexOf(de.UPC_A)>-1&&l.push(new jp),i.indexOf(de.EAN_8)>-1&&l.push(new Mp),i.indexOf(de.UPC_E)>-1&&l.push(new Or)),this.readers=l}decodeRow(s,i,l){for(let c of this.readers)try{const u=c.decodeRow(s,i,l),f=u.getBarcodeFormat()===de.EAN_13&&u.getText().charAt(0)==="0",x=l==null?null:l.get(W.POSSIBLE_FORMATS),w=x==null||x.includes(de.UPC_A);if(f&&w){const b=u.getRawBytes(),A=new Re(u.getText().substring(1),b,b?b.length:null,u.getResultPoints(),de.UPC_A);return A.putAllMetadata(u.getResultMetadata()),A}return u}catch{}throw new X}reset(){for(let s of this.readers)s.reset()}}class bn extends St{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,i){for(let l=0;l<i.length;l++)if(St.patternMatchVariance(s,i[l],bn.MAX_INDIVIDUAL_VARIANCE)<bn.MAX_AVG_VARIANCE)return l;throw new X}static count(s){return _e.sum(new Int32Array(s))}static increment(s,i){let l=0,c=i[0];for(let u=1;u<s.length;u++)i[u]>c&&(c=i[u],l=u);s[l]++}static decrement(s,i){let l=0,c=i[0];for(let u=1;u<s.length;u++)i[u]<c&&(c=i[u],l=u);s[l]--}static isFinderPattern(s){let i=s[0]+s[1],l=i+s[2]+s[3],c=i/l;if(c>=bn.MIN_FINDER_PATTERN_RATIO&&c<=bn.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let x of s)x>f&&(f=x),x<u&&(u=x);return f<10*u}return!1}}bn.MAX_AVG_VARIANCE=.2,bn.MAX_INDIVIDUAL_VARIANCE=.45,bn.MIN_FINDER_PATTERN_RATIO=9.5/12,bn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Bo{constructor(s,i){this.value=s,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Bo))return!1;const i=s;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Jc{constructor(s,i,l,c,u){this.value=s,this.startEnd=i,this.value=s,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new ve(l,u)),this.resultPoints.push(new ve(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof Jc))return!1;const i=s;return this.value===i.value}hashCode(){return this.value}}class Yr{constructor(){}static getRSSvalue(s,i,l){let c=0;for(let w of s)c+=w;let u=0,f=0,x=s.length;for(let w=0;w<x-1;w++){let b;for(b=1,f|=1<<w;b<s[w];b++,f&=~(1<<w)){let A=Yr.combins(c-b-1,x-w-2);if(l&&f===0&&c-b-(x-w-1)>=x-w-1&&(A-=Yr.combins(c-b-(x-w),x-w-2)),x-w-1>1){let O=0;for(let M=c-b-(x-w-2);M>i;M--)O+=Yr.combins(c-b-M-1,x-w-3);A-=O*(x-1-w)}else c-b>i&&A--;u+=A}c-=b}return u}static combins(s,i){let l,c;s-i>i?(c=i,l=s-i):(c=s-i,l=i);let u=1,f=1;for(let x=s;x>l;x--)u*=x,f<=c&&(u/=f,f++);for(;f<=c;)u/=f,f++;return u}}class QS{static buildBitArray(s){let i=s.length*2-1;s[s.length-1].getRightChar()==null&&(i-=1);let l=12*i,c=new D(l),u=0,x=s[0].getRightChar().getValue();for(let w=11;w>=0;--w)x&1<<w&&c.set(u),u++;for(let w=1;w<s.length;++w){let b=s[w],A=b.getLeftChar().getValue();for(let O=11;O>=0;--O)A&1<<O&&c.set(u),u++;if(b.getRightChar()!=null){let O=b.getRightChar().getValue();for(let M=11;M>=0;--M)O&1<<M&&c.set(u),u++}}return c}}class Gi{constructor(s,i){i?this.decodedInformation=null:(this.finished=s,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class $f{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Fn extends $f{constructor(s,i){super(s),this.value=i}getValue(){return this.value}isFNC1(){return this.value===Fn.FNC1}}Fn.FNC1="$";class qi extends $f{constructor(s,i,l){super(s),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class gr extends $f{constructor(s,i,l){if(super(s),i<0||i>10||l<0||l>10)throw new F;this.firstDigit=i,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===gr.FNC1}isSecondDigitFNC1(){return this.secondDigit===gr.FNC1}isAnyFNC1(){return this.firstDigit===gr.FNC1||this.secondDigit===gr.FNC1}}gr.FNC1=10;class be{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new X;let i=s.substring(0,2);for(let u of be.TWO_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===be.VARIABLE_LENGTH?be.processVariableAI(2,u[2],s):be.processFixedAI(2,u[1],s);if(s.length<3)throw new X;let l=s.substring(0,3);for(let u of be.THREE_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===be.VARIABLE_LENGTH?be.processVariableAI(3,u[2],s):be.processFixedAI(3,u[1],s);for(let u of be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===be.VARIABLE_LENGTH?be.processVariableAI(4,u[2],s):be.processFixedAI(4,u[1],s);if(s.length<4)throw new X;let c=s.substring(0,4);for(let u of be.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===be.VARIABLE_LENGTH?be.processVariableAI(4,u[2],s):be.processFixedAI(4,u[1],s);throw new X}static processFixedAI(s,i,l){if(l.length<s)throw new X;let c=l.substring(0,s);if(l.length<s+i)throw new X;let u=l.substring(s,s+i),f=l.substring(s+i),x="("+c+")"+u,w=be.parseFieldsInGeneralPurpose(f);return w==null?x:x+w}static processVariableAI(s,i,l){let c=l.substring(0,s),u;l.length<s+i?u=l.length:u=s+i;let f=l.substring(s,u),x=l.substring(u),w="("+c+")"+f,b=be.parseFieldsInGeneralPurpose(x);return b==null?w:w+b}}be.VARIABLE_LENGTH=[],be.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",be.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",be.VARIABLE_LENGTH,20],["22",be.VARIABLE_LENGTH,29],["30",be.VARIABLE_LENGTH,8],["37",be.VARIABLE_LENGTH,8],["90",be.VARIABLE_LENGTH,30],["91",be.VARIABLE_LENGTH,30],["92",be.VARIABLE_LENGTH,30],["93",be.VARIABLE_LENGTH,30],["94",be.VARIABLE_LENGTH,30],["95",be.VARIABLE_LENGTH,30],["96",be.VARIABLE_LENGTH,30],["97",be.VARIABLE_LENGTH,3],["98",be.VARIABLE_LENGTH,30],["99",be.VARIABLE_LENGTH,30]],be.THREE_DIGIT_DATA_LENGTH=[["240",be.VARIABLE_LENGTH,30],["241",be.VARIABLE_LENGTH,30],["242",be.VARIABLE_LENGTH,6],["250",be.VARIABLE_LENGTH,30],["251",be.VARIABLE_LENGTH,30],["253",be.VARIABLE_LENGTH,17],["254",be.VARIABLE_LENGTH,20],["400",be.VARIABLE_LENGTH,30],["401",be.VARIABLE_LENGTH,30],["402",17],["403",be.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",be.VARIABLE_LENGTH,20],["421",be.VARIABLE_LENGTH,15],["422",3],["423",be.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",be.VARIABLE_LENGTH,15],["391",be.VARIABLE_LENGTH,18],["392",be.VARIABLE_LENGTH,15],["393",be.VARIABLE_LENGTH,18],["703",be.VARIABLE_LENGTH,30]],be.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",be.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",be.VARIABLE_LENGTH,20],["8003",be.VARIABLE_LENGTH,30],["8004",be.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",be.VARIABLE_LENGTH,30],["8008",be.VARIABLE_LENGTH,12],["8018",18],["8020",be.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",be.VARIABLE_LENGTH,70],["8200",be.VARIABLE_LENGTH,70]];class Fo{constructor(s){this.buffer=new se,this.information=s}decodeAllCodes(s,i){let l=i,c=null;do{let u=this.decodeGeneralPurposeField(l,c),f=be.parseFieldsInGeneralPurpose(u.getNewString());if(f!=null&&s.append(f),u.isRemaining()?c=""+u.getRemainingValue():c=null,l===u.getNewPosition())break;l=u.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let i=s;i<s+3;++i)if(this.information.get(i))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(s,4);return u===0?new gr(this.information.getSize(),gr.FNC1,gr.FNC1):new gr(this.information.getSize(),u-1,gr.FNC1)}let i=this.extractNumericValueFromBitArray(s,7),l=(i-8)/11,c=(i-8)%11;return new gr(s+7,l,c)}extractNumericValueFromBitArray(s,i){return Fo.extractNumericValueFromBitArray(this.information,s,i)}static extractNumericValueFromBitArray(s,i,l){let c=0;for(let u=0;u<l;++u)s.get(i+u)&&(c|=1<<l-u-1);return c}decodeGeneralPurposeField(s,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(s);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new qi(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new qi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,i;do{let l=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),s=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),s=i.isFinished()):(i=this.parseNumericBlock(),s=i.isFinished()),!(l!==this.current.getPosition())&&!s)break}while(!s);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let i;return s.isSecondDigitFNC1()?i=new qi(this.current.getPosition(),this.buffer.toString()):i=new qi(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Gi(!0,i)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let i=new qi(this.current.getPosition(),this.buffer.toString());return new Gi(!0,i)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Gi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let i=new qi(this.current.getPosition(),this.buffer.toString());return new Gi(!0,i)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Gi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let i=new qi(this.current.getPosition(),this.buffer.toString());return new Gi(!0,i)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Gi(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(s,5);if(i>=5&&i<16)return!0;if(s+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<116)return!0;if(s+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,8);return c>=232&&c<253}decodeIsoIec646(s){let i=this.extractNumericValueFromBitArray(s,5);if(i===15)return new Fn(s+5,Fn.FNC1);if(i>=5&&i<15)return new Fn(s+5,"0"+(i-5));let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<90)return new Fn(s+7,""+(l+1));if(l>=90&&l<116)return new Fn(s+7,""+(l+7));let c=this.extractNumericValueFromBitArray(s,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new F}return new Fn(s+8,u)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(s,5);if(i>=5&&i<16)return!0;if(s+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,6);return l>=16&&l<63}decodeAlphanumeric(s){let i=this.extractNumericValueFromBitArray(s,5);if(i===15)return new Fn(s+5,Fn.FNC1);if(i>=5&&i<15)return new Fn(s+5,"0"+(i-5));let l=this.extractNumericValueFromBitArray(s,6);if(l>=32&&l<58)return new Fn(s+6,""+(l+33));let c;switch(l){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new Fe("Decoding invalid alphanumeric value: "+l)}return new Fn(s+6,c)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let i=0;i<5&&i+s<this.information.getSize();++i)if(i===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+i))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let i=s;i<s+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let i=0;i<4&&i+s<this.information.getSize();++i)if(this.information.get(s+i))return!1;return!0}}class Gf{constructor(s){this.information=s,this.generalDecoder=new Fo(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Un extends Gf{constructor(s){super(s)}encodeCompressedGtin(s,i){s.append("(01)");let l=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,i,l)}encodeCompressedGtinWithoutAI(s,i,l){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*c,10);u/100===0&&s.append("0"),u/10===0&&s.append("0"),s.append(u)}Un.appendCheckDigit(s,l)}static appendCheckDigit(s,i){let l=0;for(let c=0;c<13;c++){let u=s.charAt(c+i).charCodeAt(0)-48;l+=c&1?u:3*u}l=10-l%10,l===10&&(l=0),s.append(l)}}Un.GTIN_SIZE=40;class Uo extends Un{constructor(s){super(s)}parseInformation(){let s=new se;s.append("(01)");let i=s.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(Uo.HEADER_SIZE,4);return s.append(l),this.encodeCompressedGtinWithoutAI(s,Uo.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(s,Uo.HEADER_SIZE+44)}}Uo.HEADER_SIZE=4;class eu extends Gf{constructor(s){super(s)}parseInformation(){let s=new se;return this.getGeneralDecoder().decodeAllCodes(s,eu.HEADER_SIZE)}}eu.HEADER_SIZE=5;class tu extends Un{constructor(s){super(s)}encodeCompressedWeight(s,i,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(i,l);this.addWeightCode(s,c);let u=this.checkWeight(c),f=1e5;for(let x=0;x<5;++x)u/f===0&&s.append("0"),f/=10;s.append(u)}}class Qr extends tu{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=Qr.HEADER_SIZE+tu.GTIN_SIZE+Qr.WEIGHT_SIZE)throw new X;let s=new se;return this.encodeCompressedGtin(s,Qr.HEADER_SIZE),this.encodeCompressedWeight(s,Qr.HEADER_SIZE+tu.GTIN_SIZE,Qr.WEIGHT_SIZE),s.toString()}}Qr.HEADER_SIZE=5,Qr.WEIGHT_SIZE=15;class ZS extends Qr{constructor(s){super(s)}addWeightCode(s,i){s.append("(3103)")}checkWeight(s){return s}}class JS extends Qr{constructor(s){super(s)}addWeightCode(s,i){i<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class Zr extends Un{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Zr.HEADER_SIZE+Un.GTIN_SIZE)throw new X;let s=new se;this.encodeCompressedGtin(s,Zr.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Zr.HEADER_SIZE+Un.GTIN_SIZE,Zr.LAST_DIGIT_SIZE);s.append("(392"),s.append(i),s.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(Zr.HEADER_SIZE+Un.GTIN_SIZE+Zr.LAST_DIGIT_SIZE,null);return s.append(l.getNewString()),s.toString()}}Zr.HEADER_SIZE=8,Zr.LAST_DIGIT_SIZE=2;class Rn extends Un{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Rn.HEADER_SIZE+Un.GTIN_SIZE)throw new X;let s=new se;this.encodeCompressedGtin(s,Rn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Rn.HEADER_SIZE+Un.GTIN_SIZE,Rn.LAST_DIGIT_SIZE);s.append("(393"),s.append(i),s.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Rn.HEADER_SIZE+Un.GTIN_SIZE+Rn.LAST_DIGIT_SIZE,Rn.FIRST_THREE_DIGITS_SIZE);l/100==0&&s.append("0"),l/10==0&&s.append("0"),s.append(l);let c=this.getGeneralDecoder().decodeGeneralPurposeField(Rn.HEADER_SIZE+Un.GTIN_SIZE+Rn.LAST_DIGIT_SIZE+Rn.FIRST_THREE_DIGITS_SIZE,null);return s.append(c.getNewString()),s.toString()}}Rn.HEADER_SIZE=8,Rn.LAST_DIGIT_SIZE=2,Rn.FIRST_THREE_DIGITS_SIZE=10;class Dt extends tu{constructor(s,i,l){super(s),this.dateCode=l,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE+Dt.DATE_SIZE)throw new X;let s=new se;return this.encodeCompressedGtin(s,Dt.HEADER_SIZE),this.encodeCompressedWeight(s,Dt.HEADER_SIZE+Dt.GTIN_SIZE,Dt.WEIGHT_SIZE),this.encodeCompressedDate(s,Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,i){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Dt.DATE_SIZE);if(l==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let c=l%32;l/=32;let u=l%12+1;l/=12;let f=l;f/10==0&&s.append("0"),s.append(f),u/10==0&&s.append("0"),s.append(u),c/10==0&&s.append("0"),s.append(c)}addWeightCode(s,i){s.append("("),s.append(this.firstAIdigits),s.append(i/1e5),s.append(")")}checkWeight(s){return s%1e5}}Dt.HEADER_SIZE=8,Dt.WEIGHT_SIZE=20,Dt.DATE_SIZE=16;function Lp(R){try{if(R.get(1))return new Uo(R);if(!R.get(2))return new eu(R);switch(Fo.extractNumericValueFromBitArray(R,1,4)){case 4:return new ZS(R);case 5:return new JS(R)}switch(Fo.extractNumericValueFromBitArray(R,1,5)){case 12:return new Zr(R);case 13:return new Rn(R)}switch(Fo.extractNumericValueFromBitArray(R,1,7)){case 56:return new Dt(R,"310","11");case 57:return new Dt(R,"320","11");case 58:return new Dt(R,"310","13");case 59:return new Dt(R,"320","13");case 60:return new Dt(R,"310","15");case 61:return new Dt(R,"320","15");case 62:return new Dt(R,"310","17");case 63:return new Dt(R,"320","17")}}catch(s){throw console.log(s),new Fe("unknown decoder: "+R)}}class Us{constructor(s,i,l,c){this.leftchar=s,this.rightchar=i,this.finderpattern=l,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,i){return s instanceof Us?Us.equalsOrNull(s.leftchar,i.leftchar)&&Us.equalsOrNull(s.rightchar,i.rightchar)&&Us.equalsOrNull(s.finderpattern,i.finderpattern):!1}static equalsOrNull(s,i){return s===null?i===null:Us.equals(s,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class qf{constructor(s,i,l){this.pairs=s,this.rowNumber=i,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,i){return s instanceof qf?this.checkEqualitity(s,i)&&s.wasReversed===i.wasReversed:!1}checkEqualitity(s,i){if(!s||!i)return;let l;return s.forEach((c,u)=>{i.forEach(f=>{c.getLeftChar().getValue()===f.getLeftChar().getValue()&&c.getRightChar().getValue()===f.getRightChar().getValue()&&c.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(l=!0)})}),l}}class ie extends bn{constructor(s){super(...arguments),this.pairs=new Array(ie.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,i,l){this.pairs.length=0,this.startFromEven=!1;try{return ie.constructResult(this.decodeRow2pairs(s,i))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,ie.constructResult(this.decodeRow2pairs(s,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,i){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,s))}catch(u){if(u instanceof X){if(!this.pairs.length)throw new X;l=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(s,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new X}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return s&&(this.rows=this.rows.reverse()),i}checkRows(s,i){for(let l=i;l<this.rows.length;l++){let c=this.rows[l];this.pairs.length=0;for(let f of s)this.pairs.push(f.getPairs());if(this.pairs.push(c.getPairs()),!ie.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(s);u.push(c);try{return this.checkRows(u,l+1)}catch(f){this.verbose&&console.log(f)}}throw new X}static isValidSequence(s){for(let i of ie.FINDER_PATTERN_SEQUENCES){if(s.length>i.length)continue;let l=!0;for(let c=0;c<s.length;c++)if(s[c].getFinderPattern().getValue()!=i[c]){l=!1;break}if(l)return!0}return!1}storeRow(s,i){let l=0,c=!1,u=!1;for(;l<this.rows.length;){let f=this.rows[l];if(f.getRowNumber()>s){u=f.isEquivalent(this.pairs);break}c=f.isEquivalent(this.pairs),l++}u||c||ie.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new qf(this.pairs,s,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,i){for(let l of i)if(l.getPairs().length!==s.length){for(let c of l.getPairs())for(let u of s)if(Us.equals(c,u))break}}static isPartialRow(s,i){for(let l of i){let c=!0;for(let u of s){let f=!1;for(let x of l.getPairs())if(u.equals(x)){f=!0;break}if(!f){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(s){let i=QS.buildBitArray(s),c=Lp(i).parseInformation(),u=s[0].getFinderPattern().getResultPoints(),f=s[s.length-1].getFinderPattern().getResultPoints(),x=[u[0],u[1],f[0],f[1]];return new Re(c,null,null,x,de.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),i=s.getLeftChar(),l=s.getRightChar();if(l==null)return!1;let c=l.getChecksumPortion(),u=2;for(let x=1;x<this.pairs.size();++x){let w=this.pairs.get(x);c+=w.getLeftChar().getChecksumPortion(),u++;let b=w.getRightChar();b!=null&&(c+=b.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==i.getValue()}static getNextSecondBar(s,i){let l;return s.get(i)?(l=s.getNextUnset(i),l=s.getNextSet(l)):(l=s.getNextSet(i),l=s.getNextUnset(l)),l}retrieveNextPair(s,i,l){let c=i.length%2==0;this.startFromEven&&(c=!c);let u,f=!0,x=-1;do this.findNextPair(s,i,x),u=this.parseFoundFinderPattern(s,l,c),u==null?x=ie.getNextSecondBar(s,this.startEnd[0]):f=!1;while(f);let w=this.decodeDataCharacter(s,u,c,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new X;let b;try{b=this.decodeDataCharacter(s,u,c,!1)}catch(A){b=null,this.verbose&&console.log(A)}return new Us(w,b,u,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,i,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),f;l>=0?f=l:this.isEmptyPair(i)?f=0:f=i[i.length-1].getFinderPattern().getStartEnd()[1];let x=i.length%2!=0;this.startFromEven&&(x=!x);let w=!1;for(;f<u&&(w=!s.get(f),!!w);)f++;let b=0,A=f;for(let O=f;O<u;O++)if(s.get(O)!=w)c[b]++;else{if(b==3){if(x&&ie.reverseCounters(c),ie.isFinderPattern(c)){this.startEnd[0]=A,this.startEnd[1]=O;return}x&&ie.reverseCounters(c),A+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,b--}else b++;c[b]=1,w=!w}throw new X}static reverseCounters(s){let i=s.length;for(let l=0;l<i/2;++l){let c=s[l];s[l]=s[i-l-1],s[i-l-1]=c}}parseFoundFinderPattern(s,i,l){let c,u,f;if(l){let b=this.startEnd[0]-1;for(;b>=0&&!s.get(b);)b--;b++,c=this.startEnd[0]-b,u=b,f=this.startEnd[1]}else u=this.startEnd[0],f=s.getNextUnset(this.startEnd[1]+1),c=f-this.startEnd[1];let x=this.getDecodeFinderCounters();_.arraycopy(x,0,x,1,x.length-1),x[0]=c;let w;try{w=this.parseFinderValue(x,ie.FINDER_PATTERNS)}catch{return null}return new Jc(w,[u,f],u,f,i)}decodeDataCharacter(s,i,l,c){let u=this.getDataCharacterCounters();for(let Et=0;Et<u.length;Et++)u[Et]=0;if(c)ie.recordPatternInReverse(s,i.getStartEnd()[0],u);else{ie.recordPattern(s,i.getStartEnd()[1],u);for(let Et=0,xn=u.length-1;Et<xn;Et++,xn--){let er=u[Et];u[Et]=u[xn],u[xn]=er}}let f=17,x=_e.sum(new Int32Array(u))/f,w=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(x-w)/w>.3)throw new X;let b=this.getOddCounts(),A=this.getEvenCounts(),O=this.getOddRoundingErrors(),M=this.getEvenRoundingErrors();for(let Et=0;Et<u.length;Et++){let xn=1*u[Et]/x,er=xn+.5;if(er<1){if(xn<.3)throw new X;er=1}else if(er>8){if(xn>8.7)throw new X;er=8}let $o=Et/2;Et&1?(A[$o]=er,M[$o]=xn-er):(b[$o]=er,O[$o]=xn-er)}this.adjustOddEvenCounts(f);let U=4*i.getValue()+(l?0:2)+(c?0:1)-1,z=0,$=0;for(let Et=b.length-1;Et>=0;Et--){if(ie.isNotA1left(i,l,c)){let xn=ie.WEIGHTS[U][2*Et];$+=b[Et]*xn}z+=b[Et]}let K=0;for(let Et=A.length-1;Et>=0;Et--)if(ie.isNotA1left(i,l,c)){let xn=ie.WEIGHTS[U][2*Et+1];K+=A[Et]*xn}let J=$+K;if(z&1||z>13||z<4)throw new X;let le=(13-z)/2,ce=ie.SYMBOL_WIDEST[le],oe=9-ce,et=Yr.getRSSvalue(b,ce,!0),We=Yr.getRSSvalue(A,oe,!1),Wn=ie.EVEN_TOTAL_SUBSET[le],kr=ie.GSUM[le],zn=et*Wn+We+kr;return new Bo(zn,J)}static isNotA1left(s,i,l){return!(s.getValue()==0&&i&&l)}adjustOddEvenCounts(s){let i=_e.sum(new Int32Array(this.getOddCounts())),l=_e.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;i>13?u=!0:i<4&&(c=!0);let f=!1,x=!1;l>13?x=!0:l<4&&(f=!0);let w=i+l-s,b=(i&1)==1,A=(l&1)==0;if(w==1)if(b){if(A)throw new X;u=!0}else{if(!A)throw new X;x=!0}else if(w==-1)if(b){if(A)throw new X;c=!0}else{if(!A)throw new X;f=!0}else if(w==0){if(b){if(!A)throw new X;i<l?(c=!0,x=!0):(u=!0,f=!0)}else if(A)throw new X}else throw new X;if(c){if(u)throw new X;ie.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&ie.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(x)throw new X;ie.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&ie.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ie.SYMBOL_WIDEST=[7,5,4,3,1],ie.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ie.GSUM=[0,348,1388,2948,3988],ie.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ie.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ie.FINDER_PAT_A=0,ie.FINDER_PAT_B=1,ie.FINDER_PAT_C=2,ie.FINDER_PAT_D=3,ie.FINDER_PAT_E=4,ie.FINDER_PAT_F=5,ie.FINDER_PATTERN_SEQUENCES=[[ie.FINDER_PAT_A,ie.FINDER_PAT_A],[ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B],[ie.FINDER_PAT_A,ie.FINDER_PAT_C,ie.FINDER_PAT_B,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_C],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F]],ie.MAX_PAIRS=11;class eA extends Bo{constructor(s,i,l){super(s,i),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Wt extends bn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,i,l){const c=this.decodePair(i,!1,s,l);Wt.addOrTally(this.possibleLeftPairs,c),i.reverse();let u=this.decodePair(i,!0,s,l);Wt.addOrTally(this.possibleRightPairs,u),i.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&Wt.checkChecksum(f,x))return Wt.constructResult(f,x)}throw new X}static addOrTally(s,i){if(i==null)return;let l=!1;for(let c of s)if(c.getValue()===i.getValue()){c.incrementCount(),l=!0;break}l||s.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,i){let l=4537077*s.getValue()+i.getValue(),c=new String(l).toString(),u=new se;for(let b=13-c.length;b>0;b--)u.append("0");u.append(c);let f=0;for(let b=0;b<13;b++){let A=u.charAt(b).charCodeAt(0)-48;f+=b&1?A:3*A}f=10-f%10,f===10&&(f=0),u.append(f.toString());let x=s.getFinderPattern().getResultPoints(),w=i.getFinderPattern().getResultPoints();return new Re(u.toString(),null,0,[x[0],x[1],w[0],w[1]],de.RSS_14,new Date().getTime())}static checkChecksum(s,i){let l=(s.getChecksumPortion()+16*i.getChecksumPortion())%79,c=9*s.getFinderPattern().getValue()+i.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,l===c}decodePair(s,i,l,c){try{let u=this.findFinderPattern(s,i),f=this.parseFoundFinderPattern(s,l,i,u),x=c==null?null:c.get(W.NEED_RESULT_POINT_CALLBACK);if(x!=null){let A=(u[0]+u[1])/2;i&&(A=s.getSize()-1-A),x.foundPossibleResultPoint(new ve(A,l))}let w=this.decodeDataCharacter(s,f,!0),b=this.decodeDataCharacter(s,f,!1);return new eA(1597*w.getValue()+b.getValue(),w.getChecksumPortion()+4*b.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(s,i,l){let c=this.getDataCharacterCounters();for(let K=0;K<c.length;K++)c[K]=0;if(l)St.recordPatternInReverse(s,i.getStartEnd()[0],c);else{St.recordPattern(s,i.getStartEnd()[1]+1,c);for(let K=0,J=c.length-1;K<J;K++,J--){let le=c[K];c[K]=c[J],c[J]=le}}let u=l?16:15,f=_e.sum(new Int32Array(c))/u,x=this.getOddCounts(),w=this.getEvenCounts(),b=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let K=0;K<c.length;K++){let J=c[K]/f,le=Math.floor(J+.5);le<1?le=1:le>8&&(le=8);let ce=Math.floor(K/2);K&1?(w[ce]=le,A[ce]=J-le):(x[ce]=le,b[ce]=J-le)}this.adjustOddEvenCounts(l,u);let O=0,M=0;for(let K=x.length-1;K>=0;K--)M*=9,M+=x[K],O+=x[K];let U=0,z=0;for(let K=w.length-1;K>=0;K--)U*=9,U+=w[K],z+=w[K];let $=M+3*U;if(l){if(O&1||O>12||O<4)throw new X;let K=(12-O)/2,J=Wt.OUTSIDE_ODD_WIDEST[K],le=9-J,ce=Yr.getRSSvalue(x,J,!1),oe=Yr.getRSSvalue(w,le,!0),et=Wt.OUTSIDE_EVEN_TOTAL_SUBSET[K],We=Wt.OUTSIDE_GSUM[K];return new Bo(ce*et+oe+We,$)}else{if(z&1||z>10||z<4)throw new X;let K=(10-z)/2,J=Wt.INSIDE_ODD_WIDEST[K],le=9-J,ce=Yr.getRSSvalue(x,J,!0),oe=Yr.getRSSvalue(w,le,!1),et=Wt.INSIDE_ODD_TOTAL_SUBSET[K],We=Wt.INSIDE_GSUM[K];return new Bo(oe*et+ce+We,$)}}findFinderPattern(s,i){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=s.getSize(),u=!1,f=0;for(;f<c&&(u=!s.get(f),i!==u);)f++;let x=0,w=f;for(let b=f;b<c;b++)if(s.get(b)!==u)l[x]++;else{if(x===3){if(bn.isFinderPattern(l))return[w,b];w+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,x--}else x++;l[x]=1,u=!u}throw new X}parseFoundFinderPattern(s,i,l,c){let u=s.get(c[0]),f=c[0]-1;for(;f>=0&&u!==s.get(f);)f--;f++;const x=c[0]-f,w=this.getDecodeFinderCounters(),b=new Int32Array(w.length);_.arraycopy(w,0,b,1,w.length-1),b[0]=x;const A=this.parseFinderValue(b,Wt.FINDER_PATTERNS);let O=f,M=c[1];return l&&(O=s.getSize()-1-O,M=s.getSize()-1-M),new Jc(A,[f,c[1]],O,M,i)}adjustOddEvenCounts(s,i){let l=_e.sum(new Int32Array(this.getOddCounts())),c=_e.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1,x=!1,w=!1;s?(l>12?f=!0:l<4&&(u=!0),c>12?w=!0:c<4&&(x=!0)):(l>11?f=!0:l<5&&(u=!0),c>10?w=!0:c<4&&(x=!0));let b=l+c-i,A=(l&1)===(s?1:0),O=(c&1)===1;if(b===1)if(A){if(O)throw new X;f=!0}else{if(!O)throw new X;w=!0}else if(b===-1)if(A){if(O)throw new X;u=!0}else{if(!O)throw new X;x=!0}else if(b===0){if(A){if(!O)throw new X;l<c?(u=!0,w=!0):(f=!0,x=!0)}else if(O)throw new X}else throw new X;if(u){if(f)throw new X;bn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&bn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(w)throw new X;bn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&bn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Wt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Wt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Wt.OUTSIDE_GSUM=[0,161,961,2015,2715],Wt.INSIDE_GSUM=[0,336,1036,1516],Wt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Wt.INSIDE_ODD_WIDEST=[2,4,6,8],Wt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Vo extends St{constructor(s,i){super(),this.readers=[],this.verbose=i===!0;const l=s?s.get(W.POSSIBLE_FORMATS):null,c=s&&s.get(W.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(de.EAN_13)||l.includes(de.UPC_A)||l.includes(de.EAN_8)||l.includes(de.UPC_E))&&this.readers.push(new Hf(s)),l.includes(de.CODE_39)&&this.readers.push(new en(c)),l.includes(de.CODE_128)&&this.readers.push(new ge),l.includes(de.ITF)&&this.readers.push(new vt),l.includes(de.RSS_14)&&this.readers.push(new Wt),l.includes(de.RSS_EXPANDED)&&this.readers.push(new ie(this.verbose))):(this.readers.push(new Hf(s)),this.readers.push(new en),this.readers.push(new Hf(s)),this.readers.push(new ge),this.readers.push(new vt),this.readers.push(new Wt),this.readers.push(new ie(this.verbose)))}decodeRow(s,i,l){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(s,i,l)}catch{}throw new X}reset(){this.readers.forEach(s=>s.reset())}}class tA extends we{constructor(s=500,i){super(new Vo(i),s,i)}}class dt{constructor(s,i,l){this.ecCodewords=s,this.ecBlocks=[i],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class at{constructor(s,i){this.count=s,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class nt{constructor(s,i,l,c,u,f){this.versionNumber=s,this.symbolSizeRows=i,this.symbolSizeColumns=l,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=f;let x=0;const w=f.getECCodewords(),b=f.getECBlocks();for(let A of b)x+=A.getCount()*(A.getDataCodewords()+w);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,i){if(s&1||i&1)throw new F;for(let l of nt.VERSIONS)if(l.symbolSizeRows===s&&l.symbolSizeColumns===i)return l;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new nt(1,10,10,8,8,new dt(5,new at(1,3))),new nt(2,12,12,10,10,new dt(7,new at(1,5))),new nt(3,14,14,12,12,new dt(10,new at(1,8))),new nt(4,16,16,14,14,new dt(12,new at(1,12))),new nt(5,18,18,16,16,new dt(14,new at(1,18))),new nt(6,20,20,18,18,new dt(18,new at(1,22))),new nt(7,22,22,20,20,new dt(20,new at(1,30))),new nt(8,24,24,22,22,new dt(24,new at(1,36))),new nt(9,26,26,24,24,new dt(28,new at(1,44))),new nt(10,32,32,14,14,new dt(36,new at(1,62))),new nt(11,36,36,16,16,new dt(42,new at(1,86))),new nt(12,40,40,18,18,new dt(48,new at(1,114))),new nt(13,44,44,20,20,new dt(56,new at(1,144))),new nt(14,48,48,22,22,new dt(68,new at(1,174))),new nt(15,52,52,24,24,new dt(42,new at(2,102))),new nt(16,64,64,14,14,new dt(56,new at(2,140))),new nt(17,72,72,16,16,new dt(36,new at(4,92))),new nt(18,80,80,18,18,new dt(48,new at(4,114))),new nt(19,88,88,20,20,new dt(56,new at(4,144))),new nt(20,96,96,22,22,new dt(68,new at(4,174))),new nt(21,104,104,24,24,new dt(56,new at(6,136))),new nt(22,120,120,18,18,new dt(68,new at(6,175))),new nt(23,132,132,20,20,new dt(62,new at(8,163))),new nt(24,144,144,22,22,new dt(62,new at(8,156),new at(2,155))),new nt(25,8,18,6,16,new dt(7,new at(1,5))),new nt(26,8,32,6,14,new dt(11,new at(1,10))),new nt(27,12,26,10,24,new dt(14,new at(1,16))),new nt(28,12,36,10,16,new dt(18,new at(1,22))),new nt(29,16,36,14,16,new dt(24,new at(1,32))),new nt(30,16,48,14,22,new dt(28,new at(1,49)))]}}nt.VERSIONS=nt.buildVersions();class Xf{constructor(s){const i=s.getHeight();if(i<8||i>144||i&1)throw new F;this.version=Xf.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new re(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const i=s.getHeight(),l=s.getWidth();return nt.getVersionForDimensions(i,l)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let i=0,l=4,c=0;const u=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let x=!1,w=!1,b=!1,A=!1;do if(l===u&&c===0&&!x)s[i++]=this.readCorner1(u,f)&255,l-=2,c+=2,x=!0;else if(l===u-2&&c===0&&f&3&&!w)s[i++]=this.readCorner2(u,f)&255,l-=2,c+=2,w=!0;else if(l===u+4&&c===2&&!(f&7)&&!b)s[i++]=this.readCorner3(u,f)&255,l-=2,c+=2,b=!0;else if(l===u-2&&c===0&&(f&7)===4&&!A)s[i++]=this.readCorner4(u,f)&255,l-=2,c+=2,A=!0;else{do l<u&&c>=0&&!this.readMappingMatrix.get(c,l)&&(s[i++]=this.readUtah(l,c,u,f)&255),l-=2,c+=2;while(l>=0&&c<f);l+=1,c+=3;do l>=0&&c<f&&!this.readMappingMatrix.get(c,l)&&(s[i++]=this.readUtah(l,c,u,f)&255),l+=2,c-=2;while(l<u&&c>=0);l+=3,c+=1}while(l<u||c<f);if(i!==this.version.getTotalCodewords())throw new F;return s}readModule(s,i,l,c){return s<0&&(s+=l,i+=4-(l+4&7)),i<0&&(i+=c,s+=4-(c+4&7)),this.readMappingMatrix.set(i,s),this.mappingBitMatrix.get(i,s)}readUtah(s,i,l,c){let u=0;return this.readModule(s-2,i-2,l,c)&&(u|=1),u<<=1,this.readModule(s-2,i-1,l,c)&&(u|=1),u<<=1,this.readModule(s-1,i-2,l,c)&&(u|=1),u<<=1,this.readModule(s-1,i-1,l,c)&&(u|=1),u<<=1,this.readModule(s-1,i,l,c)&&(u|=1),u<<=1,this.readModule(s,i-2,l,c)&&(u|=1),u<<=1,this.readModule(s,i-1,l,c)&&(u|=1),u<<=1,this.readModule(s,i,l,c)&&(u|=1),u}readCorner1(s,i){let l=0;return this.readModule(s-1,0,s,i)&&(l|=1),l<<=1,this.readModule(s-1,1,s,i)&&(l|=1),l<<=1,this.readModule(s-1,2,s,i)&&(l|=1),l<<=1,this.readModule(0,i-2,s,i)&&(l|=1),l<<=1,this.readModule(0,i-1,s,i)&&(l|=1),l<<=1,this.readModule(1,i-1,s,i)&&(l|=1),l<<=1,this.readModule(2,i-1,s,i)&&(l|=1),l<<=1,this.readModule(3,i-1,s,i)&&(l|=1),l}readCorner2(s,i){let l=0;return this.readModule(s-3,0,s,i)&&(l|=1),l<<=1,this.readModule(s-2,0,s,i)&&(l|=1),l<<=1,this.readModule(s-1,0,s,i)&&(l|=1),l<<=1,this.readModule(0,i-4,s,i)&&(l|=1),l<<=1,this.readModule(0,i-3,s,i)&&(l|=1),l<<=1,this.readModule(0,i-2,s,i)&&(l|=1),l<<=1,this.readModule(0,i-1,s,i)&&(l|=1),l<<=1,this.readModule(1,i-1,s,i)&&(l|=1),l}readCorner3(s,i){let l=0;return this.readModule(s-1,0,s,i)&&(l|=1),l<<=1,this.readModule(s-1,i-1,s,i)&&(l|=1),l<<=1,this.readModule(0,i-3,s,i)&&(l|=1),l<<=1,this.readModule(0,i-2,s,i)&&(l|=1),l<<=1,this.readModule(0,i-1,s,i)&&(l|=1),l<<=1,this.readModule(1,i-3,s,i)&&(l|=1),l<<=1,this.readModule(1,i-2,s,i)&&(l|=1),l<<=1,this.readModule(1,i-1,s,i)&&(l|=1),l}readCorner4(s,i){let l=0;return this.readModule(s-3,0,s,i)&&(l|=1),l<<=1,this.readModule(s-2,0,s,i)&&(l|=1),l<<=1,this.readModule(s-1,0,s,i)&&(l|=1),l<<=1,this.readModule(0,i-2,s,i)&&(l|=1),l<<=1,this.readModule(0,i-1,s,i)&&(l|=1),l<<=1,this.readModule(1,i-1,s,i)&&(l|=1),l<<=1,this.readModule(2,i-1,s,i)&&(l|=1),l<<=1,this.readModule(3,i-1,s,i)&&(l|=1),l}extractDataRegion(s){const i=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(s.getHeight()!==i)throw new v("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),f=i/c|0,x=l/u|0,w=f*c,b=x*u,A=new re(b,w);for(let O=0;O<f;++O){const M=O*c;for(let U=0;U<x;++U){const z=U*u;for(let $=0;$<c;++$){const K=O*(c+2)+1+$,J=M+$;for(let le=0;le<u;++le){const ce=U*(u+2)+1+le;if(s.get(ce,K)){const oe=z+le;A.set(oe,J)}}}}}return A}}class Kf{constructor(s,i){this.numDataCodewords=s,this.codewords=i}static getDataBlocks(s,i){const l=i.getECBlocks();let c=0;const u=l.getECBlocks();for(let $ of u)c+=$.getCount();const f=new Array(c);let x=0;for(let $ of u)for(let K=0;K<$.getCount();K++){const J=$.getDataCodewords(),le=l.getECCodewords()+J;f[x++]=new Kf(J,new Uint8Array(le))}const b=f[0].codewords.length-l.getECCodewords(),A=b-1;let O=0;for(let $=0;$<A;$++)for(let K=0;K<x;K++)f[K].codewords[$]=s[O++];const M=i.getVersionNumber()===24,U=M?8:x;for(let $=0;$<U;$++)f[$].codewords[b-1]=s[O++];const z=f[0].codewords.length;for(let $=b;$<z;$++)for(let K=0;K<x;K++){const J=M?(K+8)%x:K,le=M&&J>7?$-1:$;f[J].codewords[le]=s[O++]}if(O!==s.length)throw new v;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Yf{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new v(""+s);let i=0,l=this.bitOffset,c=this.byteOffset;const u=this.bytes;if(l>0){const f=8-l,x=s<f?s:f,w=f-x,b=255>>8-x<<w;i=(u[c]&b)>>w,s-=x,l+=x,l===8&&(l=0,c++)}if(s>0){for(;s>=8;)i=i<<8|u[c]&255,c++,s-=8;if(s>0){const f=8-s,x=255>>f<<f;i=i<<s|(u[c]&x)>>f,l+=s}}return this.bitOffset=l,this.byteOffset=c,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var tn;(function(R){R[R.PAD_ENCODE=0]="PAD_ENCODE",R[R.ASCII_ENCODE=1]="ASCII_ENCODE",R[R.C40_ENCODE=2]="C40_ENCODE",R[R.TEXT_ENCODE=3]="TEXT_ENCODE",R[R.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",R[R.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",R[R.BASE256_ENCODE=6]="BASE256_ENCODE"})(tn||(tn={}));class Vs{static decode(s){const i=new Yf(s),l=new se,c=new se,u=new Array;let f=tn.ASCII_ENCODE;do if(f===tn.ASCII_ENCODE)f=this.decodeAsciiSegment(i,l,c);else{switch(f){case tn.C40_ENCODE:this.decodeC40Segment(i,l);break;case tn.TEXT_ENCODE:this.decodeTextSegment(i,l);break;case tn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,l);break;case tn.EDIFACT_ENCODE:this.decodeEdifactSegment(i,l);break;case tn.BASE256_ENCODE:this.decodeBase256Segment(i,l,u);break;default:throw new F}f=tn.ASCII_ENCODE}while(f!==tn.PAD_ENCODE&&i.available()>0);return c.length()>0&&l.append(c.toString()),new ke(s,l.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(s,i,l){let c=!1;do{let u=s.readBits(8);if(u===0)throw new F;if(u<=128)return c&&(u+=128),i.append(String.fromCharCode(u-1)),tn.ASCII_ENCODE;if(u===129)return tn.PAD_ENCODE;if(u<=229){const f=u-130;f<10&&i.append("0"),i.append(""+f)}else switch(u){case 230:return tn.C40_ENCODE;case 231:return tn.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:i.append("[)>05"),l.insert(0,"");break;case 237:i.append("[)>06"),l.insert(0,"");break;case 238:return tn.ANSIX12_ENCODE;case 239:return tn.TEXT_ENCODE;case 240:return tn.EDIFACT_ENCODE;case 241:break;default:if(u!==254||s.available()!==0)throw new F;break}}while(s.available()>0);return tn.ASCII_ENCODE}static decodeC40Segment(s,i){let l=!1;const c=[];let u=0;do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let x=0;x<3;x++){const w=c[x];switch(u){case 0:if(w<3)u=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const b=this.C40_BASIC_SET_CHARS[w];l?(i.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):i.append(b)}else throw new F;break;case 1:l?(i.append(String.fromCharCode(w+128)),l=!1):i.append(String.fromCharCode(w)),u=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const b=this.C40_SHIFT2_SET_CHARS[w];l?(i.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):i.append(b)}else switch(w){case 27:i.append("");break;case 30:l=!0;break;default:throw new F}u=0;break;case 3:l?(i.append(String.fromCharCode(w+224)),l=!1):i.append(String.fromCharCode(w+96)),u=0;break;default:throw new F}}}while(s.available()>0)}static decodeTextSegment(s,i){let l=!1,c=[],u=0;do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let x=0;x<3;x++){const w=c[x];switch(u){case 0:if(w<3)u=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const b=this.TEXT_BASIC_SET_CHARS[w];l?(i.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):i.append(b)}else throw new F;break;case 1:l?(i.append(String.fromCharCode(w+128)),l=!1):i.append(String.fromCharCode(w)),u=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const b=this.TEXT_SHIFT2_SET_CHARS[w];l?(i.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):i.append(b)}else switch(w){case 27:i.append("");break;case 30:l=!0;break;default:throw new F}u=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const b=this.TEXT_SHIFT3_SET_CHARS[w];l?(i.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):i.append(b),u=0}else throw new F;break;default:throw new F}}}while(s.available()>0)}static decodeAnsiX12Segment(s,i){const l=[];do{if(s.available()===8)return;const c=s.readBits(8);if(c===254)return;this.parseTwoBytes(c,s.readBits(8),l);for(let u=0;u<3;u++){const f=l[u];switch(f){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(f<14)i.append(String.fromCharCode(f+44));else if(f<40)i.append(String.fromCharCode(f+51));else throw new F;break}}}while(s.available()>0)}static parseTwoBytes(s,i,l){let c=(s<<8)+i-1,u=Math.floor(c/1600);l[0]=u,c-=u*1600,u=Math.floor(c/40),l[1]=u,l[2]=c-u*40}static decodeEdifactSegment(s,i){do{if(s.available()<=16)return;for(let l=0;l<4;l++){let c=s.readBits(6);if(c===31){const u=8-s.getBitOffset();u!==8&&s.readBits(u);return}c&32||(c|=64),i.append(String.fromCharCode(c))}}while(s.available()>0)}static decodeBase256Segment(s,i,l){let c=1+s.getByteOffset();const u=this.unrandomize255State(s.readBits(8),c++);let f;if(u===0?f=s.available()/8|0:u<250?f=u:f=250*(u-249)+this.unrandomize255State(s.readBits(8),c++),f<0)throw new F;const x=new Uint8Array(f);for(let w=0;w<f;w++){if(s.available()<8)throw new F;x[w]=this.unrandomize255State(s.readBits(8),c++)}l.push(x);try{i.append(te.decode(x,q.ISO88591))}catch(w){throw new Fe("Platform does not support required encoding: "+w.message)}}static unrandomize255State(s,i){const l=149*i%255+1,c=s-l;return c>=0?c:c+256}}Vs.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Vs.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Vs.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Vs.TEXT_SHIFT2_SET_CHARS=Vs.C40_SHIFT2_SET_CHARS,Vs.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class nA{constructor(){this.rsDecoder=new Le(Ae.DATA_MATRIX_FIELD_256)}decode(s){const i=new Xf(s),l=i.getVersion(),c=i.readCodewords(),u=Kf.getDataBlocks(c,l);let f=0;for(let b of u)f+=b.getNumDataCodewords();const x=new Uint8Array(f),w=u.length;for(let b=0;b<w;b++){const A=u[b],O=A.getCodewords(),M=A.getNumDataCodewords();this.correctErrors(O,M);for(let U=0;U<M;U++)x[U*w+b]=O[U]}return Vs.decode(x)}correctErrors(s,i){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-i)}catch{throw new T}for(let c=0;c<i;c++)s[c]=l[c]}}class Gt{constructor(s){this.image=s,this.rectangleDetector=new Ct(this.image)}detect(){const s=this.rectangleDetector.detect();let i=this.detectSolid1(s);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new X;i=this.shiftToModuleCenter(i);const l=i[0],c=i[1],u=i[2],f=i[3];let x=this.transitionsBetween(l,f)+1,w=this.transitionsBetween(u,f)+1;(x&1)===1&&(x+=1),(w&1)===1&&(w+=1),4*x<7*w&&4*w<7*x&&(x=w=Math.max(x,w));let b=Gt.sampleGrid(this.image,l,c,u,f,x,w);return new In(b,[l,c,u,f])}static shiftPoint(s,i,l){let c=(i.getX()-s.getX())/(l+1),u=(i.getY()-s.getY())/(l+1);return new ve(s.getX()+c,s.getY()+u)}static moveAway(s,i,l){let c=s.getX(),u=s.getY();return c<i?c-=1:c+=1,u<l?u-=1:u+=1,new ve(c,u)}detectSolid1(s){let i=s[0],l=s[1],c=s[3],u=s[2],f=this.transitionsBetween(i,l),x=this.transitionsBetween(l,c),w=this.transitionsBetween(c,u),b=this.transitionsBetween(u,i),A=f,O=[u,i,l,c];return A>x&&(A=x,O[0]=i,O[1]=l,O[2]=c,O[3]=u),A>w&&(A=w,O[0]=l,O[1]=c,O[2]=u,O[3]=i),A>b&&(O[0]=c,O[1]=u,O[2]=i,O[3]=l),O}detectSolid2(s){let i=s[0],l=s[1],c=s[2],u=s[3],f=this.transitionsBetween(i,u),x=Gt.shiftPoint(l,c,(f+1)*4),w=Gt.shiftPoint(c,l,(f+1)*4),b=this.transitionsBetween(x,i),A=this.transitionsBetween(w,u);return b<A?(s[0]=i,s[1]=l,s[2]=c,s[3]=u):(s[0]=l,s[1]=c,s[2]=u,s[3]=i),s}correctTopRight(s){let i=s[0],l=s[1],c=s[2],u=s[3],f=this.transitionsBetween(i,u),x=this.transitionsBetween(l,u),w=Gt.shiftPoint(i,l,(x+1)*4),b=Gt.shiftPoint(c,l,(f+1)*4);f=this.transitionsBetween(w,u),x=this.transitionsBetween(b,u);let A=new ve(u.getX()+(c.getX()-l.getX())/(f+1),u.getY()+(c.getY()-l.getY())/(f+1)),O=new ve(u.getX()+(i.getX()-l.getX())/(x+1),u.getY()+(i.getY()-l.getY())/(x+1));if(!this.isValid(A))return this.isValid(O)?O:null;if(!this.isValid(O))return A;let M=this.transitionsBetween(w,A)+this.transitionsBetween(b,A),U=this.transitionsBetween(w,O)+this.transitionsBetween(b,O);return M>U?A:O}shiftToModuleCenter(s){let i=s[0],l=s[1],c=s[2],u=s[3],f=this.transitionsBetween(i,u)+1,x=this.transitionsBetween(c,u)+1,w=Gt.shiftPoint(i,l,x*4),b=Gt.shiftPoint(c,l,f*4);f=this.transitionsBetween(w,u)+1,x=this.transitionsBetween(b,u)+1,(f&1)===1&&(f+=1),(x&1)===1&&(x+=1);let A=(i.getX()+l.getX()+c.getX()+u.getX())/4,O=(i.getY()+l.getY()+c.getY()+u.getY())/4;i=Gt.moveAway(i,A,O),l=Gt.moveAway(l,A,O),c=Gt.moveAway(c,A,O),u=Gt.moveAway(u,A,O);let M,U;return w=Gt.shiftPoint(i,l,x*4),w=Gt.shiftPoint(w,u,f*4),M=Gt.shiftPoint(l,i,x*4),M=Gt.shiftPoint(M,c,f*4),b=Gt.shiftPoint(c,u,x*4),b=Gt.shiftPoint(b,l,f*4),U=Gt.shiftPoint(u,c,x*4),U=Gt.shiftPoint(U,i,f*4),[w,M,b,U]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,i,l,c,u,f,x){return an.getInstance().sampleGrid(s,f,x,.5,.5,f-.5,.5,f-.5,x-.5,.5,x-.5,i.getX(),i.getY(),u.getX(),u.getY(),c.getX(),c.getY(),l.getX(),l.getY())}transitionsBetween(s,i){let l=Math.trunc(s.getX()),c=Math.trunc(s.getY()),u=Math.trunc(i.getX()),f=Math.trunc(i.getY()),x=Math.abs(f-c)>Math.abs(u-l);if(x){let $=l;l=c,c=$,$=u,u=f,f=$}let w=Math.abs(u-l),b=Math.abs(f-c),A=-w/2,O=c<f?1:-1,M=l<u?1:-1,U=0,z=this.image.get(x?c:l,x?l:c);for(let $=l,K=c;$!==u;$+=M){let J=this.image.get(x?K:$,x?$:K);if(J!==z&&(U++,z=J),A+=b,A>0){if(K===f)break;K+=O,A-=w}}return U}}class Ws{constructor(){this.decoder=new nA}decode(s,i=null){let l,c;if(i!=null&&i.has(W.PURE_BARCODE)){const b=Ws.extractPureBits(s.getBlackMatrix());l=this.decoder.decode(b),c=Ws.NO_POINTS}else{const b=new Gt(s.getBlackMatrix()).detect();l=this.decoder.decode(b.getBits()),c=b.getPoints()}const u=l.getRawBytes(),f=new Re(l.getText(),u,8*u.length,c,de.DATA_MATRIX,_.currentTimeMillis()),x=l.getByteSegments();x!=null&&f.putMetadata(xe.BYTE_SEGMENTS,x);const w=l.getECLevel();return w!=null&&f.putMetadata(xe.ERROR_CORRECTION_LEVEL,w),f}reset(){}static extractPureBits(s){const i=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(i==null||l==null)throw new X;const c=this.moduleSize(i,s);let u=i[1];const f=l[1];let x=i[0];const b=(l[0]-x+1)/c,A=(f-u+1)/c;if(b<=0||A<=0)throw new X;const O=c/2;u+=O,x+=O;const M=new re(b,A);for(let U=0;U<A;U++){const z=u+U*c;for(let $=0;$<b;$++)s.get(x+$*c,z)&&M.set($,U)}return M}static moduleSize(s,i){const l=i.getWidth();let c=s[0];const u=s[1];for(;c<l&&i.get(c,u);)c++;if(c===l)throw new X;const f=c-s[0];if(f===0)throw new X;return f}}Ws.NO_POINTS=[];class rA extends we{constructor(s=500){super(new Ws,s)}}var Wo;(function(R){R[R.L=0]="L",R[R.M=1]="M",R[R.Q=2]="Q",R[R.H=3]="H"})(Wo||(Wo={}));class At{constructor(s,i,l){this.value=s,this.stringValue=i,this.bits=l,At.FOR_BITS.set(l,this),At.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return At.L;case"M":return At.M;case"Q":return At.Q;case"H":return At.H;default:throw new y(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof At))return!1;const i=s;return this.value===i.value}static forBits(s){if(s<0||s>=At.FOR_BITS.size)throw new v;return At.FOR_BITS.get(s)}}At.FOR_BITS=new Map,At.FOR_VALUE=new Map,At.L=new At(Wo.L,"L",1),At.M=new At(Wo.M,"M",0),At.Q=new At(Wo.Q,"Q",3),At.H=new At(Wo.H,"H",2);class En{constructor(s){this.errorCorrectionLevel=At.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,i){return S.bitCount(s^i)}static decodeFormatInformation(s,i){const l=En.doDecodeFormatInformation(s,i);return l!==null?l:En.doDecodeFormatInformation(s^En.FORMAT_INFO_MASK_QR,i^En.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,i){let l=Number.MAX_SAFE_INTEGER,c=0;for(const u of En.FORMAT_INFO_DECODE_LOOKUP){const f=u[0];if(f===s||f===i)return new En(u[1]);let x=En.numBitsDiffering(s,f);x<l&&(c=u[1],l=x),s!==i&&(x=En.numBitsDiffering(i,f),x<l&&(c=u[1],l=x))}return l<=3?new En(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof En))return!1;const i=s;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}En.FORMAT_INFO_MASK_QR=21522,En.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Y{constructor(s,...i){this.ecCodewordsPerBlock=s,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const i=this.ecBlocks;for(const l of i)s+=l.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class B{constructor(s,i){this.count=s,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ie{constructor(s,i,...l){this.versionNumber=s,this.alignmentPatternCenters=i,this.ecBlocks=l;let c=0;const u=l[0].getECCodewordsPerBlock(),f=l[0].getECBlocks();for(const x of f)c+=x.getCount()*(x.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new F;try{return this.getVersionForNumber((s-17)/4)}catch{throw new F}}static getVersionForNumber(s){if(s<1||s>40)throw new v;return Ie.VERSIONS[s-1]}static decodeVersionInformation(s){let i=Number.MAX_SAFE_INTEGER,l=0;for(let c=0;c<Ie.VERSION_DECODE_INFO.length;c++){const u=Ie.VERSION_DECODE_INFO[c];if(u===s)return Ie.getVersionForNumber(c+7);const f=En.numBitsDiffering(s,u);f<i&&(l=c+7,i=f)}return i<=3?Ie.getVersionForNumber(l):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),i=new re(s);i.setRegion(0,0,9,9),i.setRegion(s-8,0,8,9),i.setRegion(0,s-8,9,8);const l=this.alignmentPatternCenters.length;for(let c=0;c<l;c++){const u=this.alignmentPatternCenters[c]-2;for(let f=0;f<l;f++)c===0&&(f===0||f===l-1)||c===l-1&&f===0||i.setRegion(this.alignmentPatternCenters[f]-2,u,5,5)}return i.setRegion(6,9,1,s-17),i.setRegion(9,6,s-17,1),this.versionNumber>6&&(i.setRegion(s-11,0,3,6),i.setRegion(0,s-11,6,3)),i}toString(){return""+this.versionNumber}}Ie.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ie.VERSIONS=[new Ie(1,new Int32Array(0),new Y(7,new B(1,19)),new Y(10,new B(1,16)),new Y(13,new B(1,13)),new Y(17,new B(1,9))),new Ie(2,Int32Array.from([6,18]),new Y(10,new B(1,34)),new Y(16,new B(1,28)),new Y(22,new B(1,22)),new Y(28,new B(1,16))),new Ie(3,Int32Array.from([6,22]),new Y(15,new B(1,55)),new Y(26,new B(1,44)),new Y(18,new B(2,17)),new Y(22,new B(2,13))),new Ie(4,Int32Array.from([6,26]),new Y(20,new B(1,80)),new Y(18,new B(2,32)),new Y(26,new B(2,24)),new Y(16,new B(4,9))),new Ie(5,Int32Array.from([6,30]),new Y(26,new B(1,108)),new Y(24,new B(2,43)),new Y(18,new B(2,15),new B(2,16)),new Y(22,new B(2,11),new B(2,12))),new Ie(6,Int32Array.from([6,34]),new Y(18,new B(2,68)),new Y(16,new B(4,27)),new Y(24,new B(4,19)),new Y(28,new B(4,15))),new Ie(7,Int32Array.from([6,22,38]),new Y(20,new B(2,78)),new Y(18,new B(4,31)),new Y(18,new B(2,14),new B(4,15)),new Y(26,new B(4,13),new B(1,14))),new Ie(8,Int32Array.from([6,24,42]),new Y(24,new B(2,97)),new Y(22,new B(2,38),new B(2,39)),new Y(22,new B(4,18),new B(2,19)),new Y(26,new B(4,14),new B(2,15))),new Ie(9,Int32Array.from([6,26,46]),new Y(30,new B(2,116)),new Y(22,new B(3,36),new B(2,37)),new Y(20,new B(4,16),new B(4,17)),new Y(24,new B(4,12),new B(4,13))),new Ie(10,Int32Array.from([6,28,50]),new Y(18,new B(2,68),new B(2,69)),new Y(26,new B(4,43),new B(1,44)),new Y(24,new B(6,19),new B(2,20)),new Y(28,new B(6,15),new B(2,16))),new Ie(11,Int32Array.from([6,30,54]),new Y(20,new B(4,81)),new Y(30,new B(1,50),new B(4,51)),new Y(28,new B(4,22),new B(4,23)),new Y(24,new B(3,12),new B(8,13))),new Ie(12,Int32Array.from([6,32,58]),new Y(24,new B(2,92),new B(2,93)),new Y(22,new B(6,36),new B(2,37)),new Y(26,new B(4,20),new B(6,21)),new Y(28,new B(7,14),new B(4,15))),new Ie(13,Int32Array.from([6,34,62]),new Y(26,new B(4,107)),new Y(22,new B(8,37),new B(1,38)),new Y(24,new B(8,20),new B(4,21)),new Y(22,new B(12,11),new B(4,12))),new Ie(14,Int32Array.from([6,26,46,66]),new Y(30,new B(3,115),new B(1,116)),new Y(24,new B(4,40),new B(5,41)),new Y(20,new B(11,16),new B(5,17)),new Y(24,new B(11,12),new B(5,13))),new Ie(15,Int32Array.from([6,26,48,70]),new Y(22,new B(5,87),new B(1,88)),new Y(24,new B(5,41),new B(5,42)),new Y(30,new B(5,24),new B(7,25)),new Y(24,new B(11,12),new B(7,13))),new Ie(16,Int32Array.from([6,26,50,74]),new Y(24,new B(5,98),new B(1,99)),new Y(28,new B(7,45),new B(3,46)),new Y(24,new B(15,19),new B(2,20)),new Y(30,new B(3,15),new B(13,16))),new Ie(17,Int32Array.from([6,30,54,78]),new Y(28,new B(1,107),new B(5,108)),new Y(28,new B(10,46),new B(1,47)),new Y(28,new B(1,22),new B(15,23)),new Y(28,new B(2,14),new B(17,15))),new Ie(18,Int32Array.from([6,30,56,82]),new Y(30,new B(5,120),new B(1,121)),new Y(26,new B(9,43),new B(4,44)),new Y(28,new B(17,22),new B(1,23)),new Y(28,new B(2,14),new B(19,15))),new Ie(19,Int32Array.from([6,30,58,86]),new Y(28,new B(3,113),new B(4,114)),new Y(26,new B(3,44),new B(11,45)),new Y(26,new B(17,21),new B(4,22)),new Y(26,new B(9,13),new B(16,14))),new Ie(20,Int32Array.from([6,34,62,90]),new Y(28,new B(3,107),new B(5,108)),new Y(26,new B(3,41),new B(13,42)),new Y(30,new B(15,24),new B(5,25)),new Y(28,new B(15,15),new B(10,16))),new Ie(21,Int32Array.from([6,28,50,72,94]),new Y(28,new B(4,116),new B(4,117)),new Y(26,new B(17,42)),new Y(28,new B(17,22),new B(6,23)),new Y(30,new B(19,16),new B(6,17))),new Ie(22,Int32Array.from([6,26,50,74,98]),new Y(28,new B(2,111),new B(7,112)),new Y(28,new B(17,46)),new Y(30,new B(7,24),new B(16,25)),new Y(24,new B(34,13))),new Ie(23,Int32Array.from([6,30,54,78,102]),new Y(30,new B(4,121),new B(5,122)),new Y(28,new B(4,47),new B(14,48)),new Y(30,new B(11,24),new B(14,25)),new Y(30,new B(16,15),new B(14,16))),new Ie(24,Int32Array.from([6,28,54,80,106]),new Y(30,new B(6,117),new B(4,118)),new Y(28,new B(6,45),new B(14,46)),new Y(30,new B(11,24),new B(16,25)),new Y(30,new B(30,16),new B(2,17))),new Ie(25,Int32Array.from([6,32,58,84,110]),new Y(26,new B(8,106),new B(4,107)),new Y(28,new B(8,47),new B(13,48)),new Y(30,new B(7,24),new B(22,25)),new Y(30,new B(22,15),new B(13,16))),new Ie(26,Int32Array.from([6,30,58,86,114]),new Y(28,new B(10,114),new B(2,115)),new Y(28,new B(19,46),new B(4,47)),new Y(28,new B(28,22),new B(6,23)),new Y(30,new B(33,16),new B(4,17))),new Ie(27,Int32Array.from([6,34,62,90,118]),new Y(30,new B(8,122),new B(4,123)),new Y(28,new B(22,45),new B(3,46)),new Y(30,new B(8,23),new B(26,24)),new Y(30,new B(12,15),new B(28,16))),new Ie(28,Int32Array.from([6,26,50,74,98,122]),new Y(30,new B(3,117),new B(10,118)),new Y(28,new B(3,45),new B(23,46)),new Y(30,new B(4,24),new B(31,25)),new Y(30,new B(11,15),new B(31,16))),new Ie(29,Int32Array.from([6,30,54,78,102,126]),new Y(30,new B(7,116),new B(7,117)),new Y(28,new B(21,45),new B(7,46)),new Y(30,new B(1,23),new B(37,24)),new Y(30,new B(19,15),new B(26,16))),new Ie(30,Int32Array.from([6,26,52,78,104,130]),new Y(30,new B(5,115),new B(10,116)),new Y(28,new B(19,47),new B(10,48)),new Y(30,new B(15,24),new B(25,25)),new Y(30,new B(23,15),new B(25,16))),new Ie(31,Int32Array.from([6,30,56,82,108,134]),new Y(30,new B(13,115),new B(3,116)),new Y(28,new B(2,46),new B(29,47)),new Y(30,new B(42,24),new B(1,25)),new Y(30,new B(23,15),new B(28,16))),new Ie(32,Int32Array.from([6,34,60,86,112,138]),new Y(30,new B(17,115)),new Y(28,new B(10,46),new B(23,47)),new Y(30,new B(10,24),new B(35,25)),new Y(30,new B(19,15),new B(35,16))),new Ie(33,Int32Array.from([6,30,58,86,114,142]),new Y(30,new B(17,115),new B(1,116)),new Y(28,new B(14,46),new B(21,47)),new Y(30,new B(29,24),new B(19,25)),new Y(30,new B(11,15),new B(46,16))),new Ie(34,Int32Array.from([6,34,62,90,118,146]),new Y(30,new B(13,115),new B(6,116)),new Y(28,new B(14,46),new B(23,47)),new Y(30,new B(44,24),new B(7,25)),new Y(30,new B(59,16),new B(1,17))),new Ie(35,Int32Array.from([6,30,54,78,102,126,150]),new Y(30,new B(12,121),new B(7,122)),new Y(28,new B(12,47),new B(26,48)),new Y(30,new B(39,24),new B(14,25)),new Y(30,new B(22,15),new B(41,16))),new Ie(36,Int32Array.from([6,24,50,76,102,128,154]),new Y(30,new B(6,121),new B(14,122)),new Y(28,new B(6,47),new B(34,48)),new Y(30,new B(46,24),new B(10,25)),new Y(30,new B(2,15),new B(64,16))),new Ie(37,Int32Array.from([6,28,54,80,106,132,158]),new Y(30,new B(17,122),new B(4,123)),new Y(28,new B(29,46),new B(14,47)),new Y(30,new B(49,24),new B(10,25)),new Y(30,new B(24,15),new B(46,16))),new Ie(38,Int32Array.from([6,32,58,84,110,136,162]),new Y(30,new B(4,122),new B(18,123)),new Y(28,new B(13,46),new B(32,47)),new Y(30,new B(48,24),new B(14,25)),new Y(30,new B(42,15),new B(32,16))),new Ie(39,Int32Array.from([6,26,54,82,110,138,166]),new Y(30,new B(20,117),new B(4,118)),new Y(28,new B(40,47),new B(7,48)),new Y(30,new B(43,24),new B(22,25)),new Y(30,new B(10,15),new B(67,16))),new Ie(40,Int32Array.from([6,30,58,86,114,142,170]),new Y(30,new B(19,118),new B(6,119)),new Y(28,new B(18,47),new B(31,48)),new Y(30,new B(34,24),new B(34,25)),new Y(30,new B(20,15),new B(61,16)))];var ln;(function(R){R[R.DATA_MASK_000=0]="DATA_MASK_000",R[R.DATA_MASK_001=1]="DATA_MASK_001",R[R.DATA_MASK_010=2]="DATA_MASK_010",R[R.DATA_MASK_011=3]="DATA_MASK_011",R[R.DATA_MASK_100=4]="DATA_MASK_100",R[R.DATA_MASK_101=5]="DATA_MASK_101",R[R.DATA_MASK_110=6]="DATA_MASK_110",R[R.DATA_MASK_111=7]="DATA_MASK_111"})(ln||(ln={}));class pr{constructor(s,i){this.value=s,this.isMasked=i}unmaskBitMatrix(s,i){for(let l=0;l<i;l++)for(let c=0;c<i;c++)this.isMasked(l,c)&&s.flip(c,l)}}pr.values=new Map([[ln.DATA_MASK_000,new pr(ln.DATA_MASK_000,(R,s)=>(R+s&1)===0)],[ln.DATA_MASK_001,new pr(ln.DATA_MASK_001,(R,s)=>(R&1)===0)],[ln.DATA_MASK_010,new pr(ln.DATA_MASK_010,(R,s)=>s%3===0)],[ln.DATA_MASK_011,new pr(ln.DATA_MASK_011,(R,s)=>(R+s)%3===0)],[ln.DATA_MASK_100,new pr(ln.DATA_MASK_100,(R,s)=>(Math.floor(R/2)+Math.floor(s/3)&1)===0)],[ln.DATA_MASK_101,new pr(ln.DATA_MASK_101,(R,s)=>R*s%6===0)],[ln.DATA_MASK_110,new pr(ln.DATA_MASK_110,(R,s)=>R*s%6<3)],[ln.DATA_MASK_111,new pr(ln.DATA_MASK_111,(R,s)=>(R+s+R*s%3&1)===0)]]);class sA{constructor(s){const i=s.getHeight();if(i<21||(i&3)!==1)throw new F;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let u=0;u<6;u++)s=this.copyBit(u,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let u=5;u>=0;u--)s=this.copyBit(8,u,s);const i=this.bitMatrix.getHeight();let l=0;const c=i-7;for(let u=i-1;u>=c;u--)l=this.copyBit(8,u,l);for(let u=i-8;u<i;u++)l=this.copyBit(u,8,l);if(this.parsedFormatInfo=En.decodeFormatInformation(s,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),i=Math.floor((s-17)/4);if(i<=6)return Ie.getVersionForNumber(i);let l=0;const c=s-11;for(let f=5;f>=0;f--)for(let x=s-9;x>=c;x--)l=this.copyBit(x,f,l);let u=Ie.decodeVersionInformation(l);if(u!==null&&u.getDimensionForVersion()===s)return this.parsedVersion=u,u;l=0;for(let f=5;f>=0;f--)for(let x=s-9;x>=c;x--)l=this.copyBit(f,x,l);if(u=Ie.decodeVersionInformation(l),u!==null&&u.getDimensionForVersion()===s)return this.parsedVersion=u,u;throw new F}copyBit(s,i,l){return(this.isMirror?this.bitMatrix.get(i,s):this.bitMatrix.get(s,i))?l<<1|1:l<<1}readCodewords(){const s=this.readFormatInformation(),i=this.readVersion(),l=pr.values.get(s.getDataMask()),c=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,c);const u=i.buildFunctionPattern();let f=!0;const x=new Uint8Array(i.getTotalCodewords());let w=0,b=0,A=0;for(let O=c-1;O>0;O-=2){O===6&&O--;for(let M=0;M<c;M++){const U=f?c-1-M:M;for(let z=0;z<2;z++)u.get(O-z,U)||(A++,b<<=1,this.bitMatrix.get(O-z,U)&&(b|=1),A===8&&(x[w++]=b,A=0,b=0))}f=!f}if(w!==i.getTotalCodewords())throw new F;return x}remask(){if(this.parsedFormatInfo===null)return;const s=pr.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,i)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let i=0,l=s.getWidth();i<l;i++)for(let c=i+1,u=s.getHeight();c<u;c++)s.get(i,c)!==s.get(c,i)&&(s.flip(c,i),s.flip(i,c))}}class Qf{constructor(s,i){this.numDataCodewords=s,this.codewords=i}static getDataBlocks(s,i,l){if(s.length!==i.getTotalCodewords())throw new v;const c=i.getECBlocksForLevel(l);let u=0;const f=c.getECBlocks();for(const z of f)u+=z.getCount();const x=new Array(u);let w=0;for(const z of f)for(let $=0;$<z.getCount();$++){const K=z.getDataCodewords(),J=c.getECCodewordsPerBlock()+K;x[w++]=new Qf(K,new Uint8Array(J))}const b=x[0].codewords.length;let A=x.length-1;for(;A>=0&&x[A].codewords.length!==b;)A--;A++;const O=b-c.getECCodewordsPerBlock();let M=0;for(let z=0;z<O;z++)for(let $=0;$<w;$++)x[$].codewords[z]=s[M++];for(let z=A;z<w;z++)x[z].codewords[O]=s[M++];const U=x[0].codewords.length;for(let z=O;z<U;z++)for(let $=0;$<w;$++){const K=$<A?z:z+1;x[$].codewords[K]=s[M++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var mr;(function(R){R[R.TERMINATOR=0]="TERMINATOR",R[R.NUMERIC=1]="NUMERIC",R[R.ALPHANUMERIC=2]="ALPHANUMERIC",R[R.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",R[R.BYTE=4]="BYTE",R[R.ECI=5]="ECI",R[R.KANJI=6]="KANJI",R[R.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",R[R.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",R[R.HANZI=9]="HANZI"})(mr||(mr={}));class Pe{constructor(s,i,l,c){this.value=s,this.stringValue=i,this.characterCountBitsForVersions=l,this.bits=c,Pe.FOR_BITS.set(c,this),Pe.FOR_VALUE.set(s,this)}static forBits(s){const i=Pe.FOR_BITS.get(s);if(i===void 0)throw new v;return i}getCharacterCountBits(s){const i=s.getVersionNumber();let l;return i<=9?l=0:i<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof Pe))return!1;const i=s;return this.value===i.value}toString(){return this.stringValue}}Pe.FOR_BITS=new Map,Pe.FOR_VALUE=new Map,Pe.TERMINATOR=new Pe(mr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Pe.NUMERIC=new Pe(mr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Pe.ALPHANUMERIC=new Pe(mr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Pe.STRUCTURED_APPEND=new Pe(mr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Pe.BYTE=new Pe(mr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Pe.ECI=new Pe(mr.ECI,"ECI",Int32Array.from([0,0,0]),7),Pe.KANJI=new Pe(mr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Pe.FNC1_FIRST_POSITION=new Pe(mr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Pe.FNC1_SECOND_POSITION=new Pe(mr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Pe.HANZI=new Pe(mr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class jt{static decode(s,i,l,c){const u=new Yf(s);let f=new se;const x=new Array;let w=-1,b=-1;try{let A=null,O=!1,M;do{if(u.available()<4)M=Pe.TERMINATOR;else{const U=u.readBits(4);M=Pe.forBits(U)}switch(M){case Pe.TERMINATOR:break;case Pe.FNC1_FIRST_POSITION:case Pe.FNC1_SECOND_POSITION:O=!0;break;case Pe.STRUCTURED_APPEND:if(u.available()<16)throw new F;w=u.readBits(8),b=u.readBits(8);break;case Pe.ECI:const U=jt.parseECIValue(u);if(A=j.getCharacterSetECIByValue(U),A===null)throw new F;break;case Pe.HANZI:const z=u.readBits(4),$=u.readBits(M.getCharacterCountBits(i));z===jt.GB2312_SUBSET&&jt.decodeHanziSegment(u,f,$);break;default:const K=u.readBits(M.getCharacterCountBits(i));switch(M){case Pe.NUMERIC:jt.decodeNumericSegment(u,f,K);break;case Pe.ALPHANUMERIC:jt.decodeAlphanumericSegment(u,f,K,O);break;case Pe.BYTE:jt.decodeByteSegment(u,f,K,A,x,c);break;case Pe.KANJI:jt.decodeKanjiSegment(u,f,K);break;default:throw new F}break}}while(M!==Pe.TERMINATOR)}catch{throw new F}return new ke(s,f.toString(),x.length===0?null:x,l===null?null:l.toString(),w,b)}static decodeHanziSegment(s,i,l){if(l*13>s.available())throw new F;const c=new Uint8Array(2*l);let u=0;for(;l>0;){const f=s.readBits(13);let x=f/96<<8&4294967295|f%96;x<959?x+=41377:x+=42657,c[u]=x>>8&255,c[u+1]=x&255,u+=2,l--}try{i.append(te.decode(c,q.GB2312))}catch(f){throw new F(f)}}static decodeKanjiSegment(s,i,l){if(l*13>s.available())throw new F;const c=new Uint8Array(2*l);let u=0;for(;l>0;){const f=s.readBits(13);let x=f/192<<8&4294967295|f%192;x<7936?x+=33088:x+=49472,c[u]=x>>8,c[u+1]=x,u+=2,l--}try{i.append(te.decode(c,q.SHIFT_JIS))}catch(f){throw new F(f)}}static decodeByteSegment(s,i,l,c,u,f){if(8*l>s.available())throw new F;const x=new Uint8Array(l);for(let b=0;b<l;b++)x[b]=s.readBits(8);let w;c===null?w=q.guessEncoding(x,f):w=c.getName();try{i.append(te.decode(x,w))}catch(b){throw new F(b)}u.push(x)}static toAlphaNumericChar(s){if(s>=jt.ALPHANUMERIC_CHARS.length)throw new F;return jt.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,i,l,c){const u=i.length();for(;l>1;){if(s.available()<11)throw new F;const f=s.readBits(11);i.append(jt.toAlphaNumericChar(Math.floor(f/45))),i.append(jt.toAlphaNumericChar(f%45)),l-=2}if(l===1){if(s.available()<6)throw new F;i.append(jt.toAlphaNumericChar(s.readBits(6)))}if(c)for(let f=u;f<i.length();f++)i.charAt(f)==="%"&&(f<i.length()-1&&i.charAt(f+1)==="%"?i.deleteCharAt(f+1):i.setCharAt(f,""))}static decodeNumericSegment(s,i,l){for(;l>=3;){if(s.available()<10)throw new F;const c=s.readBits(10);if(c>=1e3)throw new F;i.append(jt.toAlphaNumericChar(Math.floor(c/100))),i.append(jt.toAlphaNumericChar(Math.floor(c/10)%10)),i.append(jt.toAlphaNumericChar(c%10)),l-=3}if(l===2){if(s.available()<7)throw new F;const c=s.readBits(7);if(c>=100)throw new F;i.append(jt.toAlphaNumericChar(Math.floor(c/10))),i.append(jt.toAlphaNumericChar(c%10))}else if(l===1){if(s.available()<4)throw new F;const c=s.readBits(4);if(c>=10)throw new F;i.append(jt.toAlphaNumericChar(c))}}static parseECIValue(s){const i=s.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const l=s.readBits(8);return(i&63)<<8&4294967295|l}if((i&224)===192){const l=s.readBits(16);return(i&31)<<16&4294967295|l}throw new F}}jt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",jt.GB2312_SUBSET=1;class Bp{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const i=s[0];s[0]=s[2],s[2]=i}}class iA{constructor(){this.rsDecoder=new Le(Ae.QR_CODE_FIELD_256)}decodeBooleanArray(s,i){return this.decodeBitMatrix(re.parseFromBooleanArray(s),i)}decodeBitMatrix(s,i){const l=new sA(s);let c=null;try{return this.decodeBitMatrixParser(l,i)}catch(u){c=u}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const u=this.decodeBitMatrixParser(l,i);return u.setOther(new Bp(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(s,i){const l=s.readVersion(),c=s.readFormatInformation().getErrorCorrectionLevel(),u=s.readCodewords(),f=Qf.getDataBlocks(u,l,c);let x=0;for(const A of f)x+=A.getNumDataCodewords();const w=new Uint8Array(x);let b=0;for(const A of f){const O=A.getCodewords(),M=A.getNumDataCodewords();this.correctErrors(O,M);for(let U=0;U<M;U++)w[b++]=O[U]}return jt.decode(w,l,c,i)}correctErrors(s,i){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-i)}catch{throw new T}for(let c=0;c<i;c++)s[c]=l[c]}}class Zf extends ve{constructor(s,i,l){super(s,i),this.estimatedModuleSize=l}aboutEquals(s,i,l){if(Math.abs(i-this.getY())<=s&&Math.abs(l-this.getX())<=s){const c=Math.abs(s-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(s,i,l){const c=(this.getX()+i)/2,u=(this.getY()+s)/2,f=(this.estimatedModuleSize+l)/2;return new Zf(c,u,f)}}class nu{constructor(s,i,l,c,u,f,x){this.image=s,this.startX=i,this.startY=l,this.width=c,this.height=u,this.moduleSize=f,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,i=this.height,l=this.width,c=s+l,u=this.startY+i/2,f=new Int32Array(3),x=this.image;for(let w=0;w<i;w++){const b=u+(w&1?-Math.floor((w+1)/2):Math.floor((w+1)/2));f[0]=0,f[1]=0,f[2]=0;let A=s;for(;A<c&&!x.get(A,b);)A++;let O=0;for(;A<c;){if(x.get(A,b))if(O===1)f[1]++;else if(O===2){if(this.foundPatternCross(f)){const M=this.handlePossibleCenter(f,b,A);if(M!==null)return M}f[0]=f[2],f[1]=1,f[2]=0,O=1}else f[++O]++;else O===1&&O++,f[O]++;A++}if(this.foundPatternCross(f)){const M=this.handlePossibleCenter(f,b,c);if(M!==null)return M}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(s,i){return i-s[2]-s[1]/2}foundPatternCross(s){const i=this.moduleSize,l=i/2;for(let c=0;c<3;c++)if(Math.abs(i-s[c])>=l)return!1;return!0}crossCheckVertical(s,i,l,c){const u=this.image,f=u.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let w=s;for(;w>=0&&u.get(i,w)&&x[1]<=l;)x[1]++,w--;if(w<0||x[1]>l)return NaN;for(;w>=0&&!u.get(i,w)&&x[0]<=l;)x[0]++,w--;if(x[0]>l)return NaN;for(w=s+1;w<f&&u.get(i,w)&&x[1]<=l;)x[1]++,w++;if(w===f||x[1]>l)return NaN;for(;w<f&&!u.get(i,w)&&x[2]<=l;)x[2]++,w++;if(x[2]>l)return NaN;const b=x[0]+x[1]+x[2];return 5*Math.abs(b-c)>=2*c?NaN:this.foundPatternCross(x)?nu.centerFromEnd(x,w):NaN}handlePossibleCenter(s,i,l){const c=s[0]+s[1]+s[2],u=nu.centerFromEnd(s,l),f=this.crossCheckVertical(i,u,2*s[1],c);if(!isNaN(f)){const x=(s[0]+s[1]+s[2])/3;for(const b of this.possibleCenters)if(b.aboutEquals(x,f,u))return b.combineEstimate(f,u,x);const w=new Zf(u,f,x);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class Jf extends ve{constructor(s,i,l,c){super(s,i),this.estimatedModuleSize=l,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,i,l){if(Math.abs(i-this.getY())<=s&&Math.abs(l-this.getX())<=s){const c=Math.abs(s-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(s,i,l){const c=this.count+1,u=(this.count*this.getX()+i)/c,f=(this.count*this.getY()+s)/c,x=(this.count*this.estimatedModuleSize+l)/c;return new Jf(u,f,x,c)}}class oA{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class cn{constructor(s,i){this.image=s,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const i=s!=null&&s.get(W.TRY_HARDER)!==void 0,l=s!=null&&s.get(W.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),f=c.getWidth();let x=Math.floor(3*u/(4*cn.MAX_MODULES));(x<cn.MIN_SKIP||i)&&(x=cn.MIN_SKIP);let w=!1;const b=new Int32Array(5);for(let O=x-1;O<u&&!w;O+=x){b[0]=0,b[1]=0,b[2]=0,b[3]=0,b[4]=0;let M=0;for(let U=0;U<f;U++)if(c.get(U,O))(M&1)===1&&M++,b[M]++;else if(M&1)b[M]++;else if(M===4)if(cn.foundPatternCross(b)){if(this.handlePossibleCenter(b,O,U,l)===!0)if(x=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const $=this.findRowSkip();$>b[2]&&(O+=$-b[2]-x,U=f-1)}else{b[0]=b[2],b[1]=b[3],b[2]=b[4],b[3]=1,b[4]=0,M=3;continue}M=0,b[0]=0,b[1]=0,b[2]=0,b[3]=0,b[4]=0}else b[0]=b[2],b[1]=b[3],b[2]=b[4],b[3]=1,b[4]=0,M=3;else b[++M]++;cn.foundPatternCross(b)&&this.handlePossibleCenter(b,O,f,l)===!0&&(x=b[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const A=this.selectBestPatterns();return ve.orderBestPatterns(A),new oA(A)}static centerFromEnd(s,i){return i-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let i=0;for(let u=0;u<5;u++){const f=s[u];if(f===0)return!1;i+=f}if(i<7)return!1;const l=i/7,c=l/2;return Math.abs(l-s[0])<c&&Math.abs(l-s[1])<c&&Math.abs(3*l-s[2])<3*c&&Math.abs(l-s[3])<c&&Math.abs(l-s[4])<c}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,i,l,c){const u=this.getCrossCheckStateCount();let f=0;const x=this.image;for(;s>=f&&i>=f&&x.get(i-f,s-f);)u[2]++,f++;if(s<f||i<f)return!1;for(;s>=f&&i>=f&&!x.get(i-f,s-f)&&u[1]<=l;)u[1]++,f++;if(s<f||i<f||u[1]>l)return!1;for(;s>=f&&i>=f&&x.get(i-f,s-f)&&u[0]<=l;)u[0]++,f++;if(u[0]>l)return!1;const w=x.getHeight(),b=x.getWidth();for(f=1;s+f<w&&i+f<b&&x.get(i+f,s+f);)u[2]++,f++;if(s+f>=w||i+f>=b)return!1;for(;s+f<w&&i+f<b&&!x.get(i+f,s+f)&&u[3]<l;)u[3]++,f++;if(s+f>=w||i+f>=b||u[3]>=l)return!1;for(;s+f<w&&i+f<b&&x.get(i+f,s+f)&&u[4]<l;)u[4]++,f++;if(u[4]>=l)return!1;const A=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(A-c)<2*c&&cn.foundPatternCross(u)}crossCheckVertical(s,i,l,c){const u=this.image,f=u.getHeight(),x=this.getCrossCheckStateCount();let w=s;for(;w>=0&&u.get(i,w);)x[2]++,w--;if(w<0)return NaN;for(;w>=0&&!u.get(i,w)&&x[1]<=l;)x[1]++,w--;if(w<0||x[1]>l)return NaN;for(;w>=0&&u.get(i,w)&&x[0]<=l;)x[0]++,w--;if(x[0]>l)return NaN;for(w=s+1;w<f&&u.get(i,w);)x[2]++,w++;if(w===f)return NaN;for(;w<f&&!u.get(i,w)&&x[3]<l;)x[3]++,w++;if(w===f||x[3]>=l)return NaN;for(;w<f&&u.get(i,w)&&x[4]<l;)x[4]++,w++;if(x[4]>=l)return NaN;const b=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(b-c)>=2*c?NaN:cn.foundPatternCross(x)?cn.centerFromEnd(x,w):NaN}crossCheckHorizontal(s,i,l,c){const u=this.image,f=u.getWidth(),x=this.getCrossCheckStateCount();let w=s;for(;w>=0&&u.get(w,i);)x[2]++,w--;if(w<0)return NaN;for(;w>=0&&!u.get(w,i)&&x[1]<=l;)x[1]++,w--;if(w<0||x[1]>l)return NaN;for(;w>=0&&u.get(w,i)&&x[0]<=l;)x[0]++,w--;if(x[0]>l)return NaN;for(w=s+1;w<f&&u.get(w,i);)x[2]++,w++;if(w===f)return NaN;for(;w<f&&!u.get(w,i)&&x[3]<l;)x[3]++,w++;if(w===f||x[3]>=l)return NaN;for(;w<f&&u.get(w,i)&&x[4]<l;)x[4]++,w++;if(x[4]>=l)return NaN;const b=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(b-c)>=c?NaN:cn.foundPatternCross(x)?cn.centerFromEnd(x,w):NaN}handlePossibleCenter(s,i,l,c){const u=s[0]+s[1]+s[2]+s[3]+s[4];let f=cn.centerFromEnd(s,l),x=this.crossCheckVertical(i,Math.floor(f),s[2],u);if(!isNaN(x)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(x),s[2],u),!isNaN(f)&&(!c||this.crossCheckDiagonal(Math.floor(x),Math.floor(f),s[2],u)))){const w=u/7;let b=!1;const A=this.possibleCenters;for(let O=0,M=A.length;O<M;O++){const U=A[O];if(U.aboutEquals(w,x,f)){A[O]=U.combineEstimate(x,f,w),b=!0;break}}if(!b){const O=new Jf(f,x,w);A.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const l of this.possibleCenters)if(l.getCount()>=cn.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,i=0;const l=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=cn.CENTER_QUORUM&&(s++,i+=f.getEstimatedModuleSize());if(s<3)return!1;const c=i/l;let u=0;for(const f of this.possibleCenters)u+=Math.abs(f.getEstimatedModuleSize()-c);return u<=.05*i}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new X;const i=this.possibleCenters;let l;if(s>3){let c=0,u=0;for(const w of this.possibleCenters){const b=w.getEstimatedModuleSize();c+=b,u+=b*b}l=c/s;let f=Math.sqrt(u/s-l*l);i.sort((w,b)=>{const A=Math.abs(b.getEstimatedModuleSize()-l),O=Math.abs(w.getEstimatedModuleSize()-l);return A<O?-1:A>O?1:0});const x=Math.max(.2*l,f);for(let w=0;w<i.length&&i.length>3;w++){const b=i[w];Math.abs(b.getEstimatedModuleSize()-l)>x&&(i.splice(w,1),w--)}}if(i.length>3){let c=0;for(const u of i)c+=u.getEstimatedModuleSize();l=c/i.length,i.sort((u,f)=>{if(f.getCount()===u.getCount()){const x=Math.abs(f.getEstimatedModuleSize()-l),w=Math.abs(u.getEstimatedModuleSize()-l);return x<w?1:x>w?-1:0}else return f.getCount()-u.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}cn.CENTER_QUORUM=2,cn.MIN_SKIP=3,cn.MAX_MODULES=57;class wl{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(W.NEED_RESULT_POINT_CALLBACK);const l=new cn(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(l)}processFinderPatternInfo(s){const i=s.getTopLeft(),l=s.getTopRight(),c=s.getBottomLeft(),u=this.calculateModuleSize(i,l,c);if(u<1)throw new X("No pattern found in proccess finder.");const f=wl.computeDimension(i,l,c,u),x=Ie.getProvisionalVersionForDimension(f),w=x.getDimensionForVersion()-7;let b=null;if(x.getAlignmentPatternCenters().length>0){const U=l.getX()-i.getX()+c.getX(),z=l.getY()-i.getY()+c.getY(),$=1-3/w,K=Math.floor(i.getX()+$*(U-i.getX())),J=Math.floor(i.getY()+$*(z-i.getY()));for(let le=4;le<=16;le<<=1)try{b=this.findAlignmentInRegion(u,K,J,le);break}catch(ce){if(!(ce instanceof X))throw ce}}const A=wl.createTransform(i,l,c,b,f),O=wl.sampleGrid(this.image,A,f);let M;return b===null?M=[c,i,l]:M=[c,i,l,b],new In(O,M)}static createTransform(s,i,l,c,u){const f=u-3.5;let x,w,b,A;return c!==null?(x=c.getX(),w=c.getY(),b=f-3,A=b):(x=i.getX()-s.getX()+l.getX(),w=i.getY()-s.getY()+l.getY(),b=f,A=f),ut.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,b,A,3.5,f,s.getX(),s.getY(),i.getX(),i.getY(),x,w,l.getX(),l.getY())}static sampleGrid(s,i,l){return an.getInstance().sampleGridWithTransform(s,l,l,i)}static computeDimension(s,i,l,c){const u=_e.round(ve.distance(s,i)/c),f=_e.round(ve.distance(s,l)/c);let x=Math.floor((u+f)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new X("Dimensions could be not found.")}return x}calculateModuleSize(s,i,l){return(this.calculateModuleSizeOneWay(s,i)+this.calculateModuleSizeOneWay(s,l))/2}calculateModuleSizeOneWay(s,i){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(i.getX()),Math.floor(i.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(l)?c/7:isNaN(c)?l/7:(l+c)/14}sizeOfBlackWhiteBlackRunBothWays(s,i,l,c){let u=this.sizeOfBlackWhiteBlackRun(s,i,l,c),f=1,x=s-(l-s);x<0?(f=s/(s-x),x=0):x>=this.image.getWidth()&&(f=(this.image.getWidth()-1-s)/(x-s),x=this.image.getWidth()-1);let w=Math.floor(i-(c-i)*f);return f=1,w<0?(f=i/(i-w),w=0):w>=this.image.getHeight()&&(f=(this.image.getHeight()-1-i)/(w-i),w=this.image.getHeight()-1),x=Math.floor(s+(x-s)*f),u+=this.sizeOfBlackWhiteBlackRun(s,i,x,w),u-1}sizeOfBlackWhiteBlackRun(s,i,l,c){const u=Math.abs(c-i)>Math.abs(l-s);if(u){let U=s;s=i,i=U,U=l,l=c,c=U}const f=Math.abs(l-s),x=Math.abs(c-i);let w=-f/2;const b=s<l?1:-1,A=i<c?1:-1;let O=0;const M=l+b;for(let U=s,z=i;U!==M;U+=b){const $=u?z:U,K=u?U:z;if(O===1===this.image.get($,K)){if(O===2)return _e.distance(U,z,s,i);O++}if(w+=x,w>0){if(z===c)break;z+=A,w-=f}}return O===2?_e.distance(l+b,c,s,i):NaN}findAlignmentInRegion(s,i,l,c){const u=Math.floor(c*s),f=Math.max(0,i-u),x=Math.min(this.image.getWidth()-1,i+u);if(x-f<s*3)throw new X("Alignment top exceeds estimated module size.");const w=Math.max(0,l-u),b=Math.min(this.image.getHeight()-1,l+u);if(b-w<s*3)throw new X("Alignment bottom exceeds estimated module size.");return new nu(this.image,f,w,x-f,b-w,s,this.resultPointCallback).find()}}class zs{constructor(){this.decoder=new iA}getDecoder(){return this.decoder}decode(s,i){let l,c;if(i!=null&&i.get(W.PURE_BARCODE)!==void 0){const w=zs.extractPureBits(s.getBlackMatrix());l=this.decoder.decodeBitMatrix(w,i),c=zs.NO_POINTS}else{const w=new wl(s.getBlackMatrix()).detect(i);l=this.decoder.decodeBitMatrix(w.getBits(),i),c=w.getPoints()}l.getOther()instanceof Bp&&l.getOther().applyMirroredCorrection(c);const u=new Re(l.getText(),l.getRawBytes(),void 0,c,de.QR_CODE,void 0),f=l.getByteSegments();f!==null&&u.putMetadata(xe.BYTE_SEGMENTS,f);const x=l.getECLevel();return x!==null&&u.putMetadata(xe.ERROR_CORRECTION_LEVEL,x),l.hasStructuredAppend()&&(u.putMetadata(xe.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),u.putMetadata(xe.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),u}reset(){}static extractPureBits(s){const i=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(i===null||l===null)throw new X;const c=this.moduleSize(i,s);let u=i[1],f=l[1],x=i[0],w=l[0];if(x>=w||u>=f)throw new X;if(f-u!==w-x&&(w=x+(f-u),w>=s.getWidth()))throw new X;const b=Math.round((w-x+1)/c),A=Math.round((f-u+1)/c);if(b<=0||A<=0)throw new X;if(A!==b)throw new X;const O=Math.floor(c/2);u+=O,x+=O;const M=x+Math.floor((b-1)*c)-w;if(M>0){if(M>O)throw new X;x-=M}const U=u+Math.floor((A-1)*c)-f;if(U>0){if(U>O)throw new X;u-=U}const z=new re(b,A);for(let $=0;$<A;$++){const K=u+Math.floor($*c);for(let J=0;J<b;J++)s.get(x+Math.floor(J*c),K)&&z.set(J,$)}return z}static moduleSize(s,i){const l=i.getHeight(),c=i.getWidth();let u=s[0],f=s[1],x=!0,w=0;for(;u<c&&f<l;){if(x!==i.get(u,f)){if(++w===5)break;x=!x}u++,f++}if(u===c||f===l)throw new X;return(u-s[0])/7}}zs.NO_POINTS=new Array;class Be{PDF417Common(){}static getBitCountSum(s){return _e.sum(s)}static toIntArray(s){if(s==null||!s.length)return Be.EMPTY_INT_ARRAY;const i=new Int32Array(s.length);let l=0;for(const c of s)i[l++]=c;return i}static getCodeword(s){const i=N.binarySearch(Be.SYMBOL_TABLE,s&262143);return i<0?-1:(Be.CODEWORD_TABLE[i]-1)%Be.NUMBER_OF_CODEWORDS}}Be.NUMBER_OF_CODEWORDS=929,Be.MAX_CODEWORDS_IN_BARCODE=Be.NUMBER_OF_CODEWORDS-1,Be.MIN_ROWS_IN_BARCODE=3,Be.MAX_ROWS_IN_BARCODE=90,Be.MODULES_IN_CODEWORD=17,Be.MODULES_IN_STOP_PATTERN=18,Be.BARS_IN_MODULE=8,Be.EMPTY_INT_ARRAY=new Int32Array([]),Be.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Be.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class aA{constructor(s,i){this.bits=s,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Xe{static detectMultiple(s,i,l){let c=s.getBlackMatrix(),u=Xe.detect(l,c);return u.length||(c=c.clone(),c.rotate180(),u=Xe.detect(l,c)),new aA(c,u)}static detect(s,i){const l=new Array;let c=0,u=0,f=!1;for(;c<i.getHeight();){const x=Xe.findVertices(i,c,u);if(x[0]==null&&x[3]==null){if(!f)break;f=!1,u=0;for(const w of l)w[1]!=null&&(c=Math.trunc(Math.max(c,w[1].getY()))),w[3]!=null&&(c=Math.max(c,Math.trunc(w[3].getY())));c+=Xe.ROW_STEP;continue}if(f=!0,l.push(x),!s)break;x[2]!=null?(u=Math.trunc(x[2].getX()),c=Math.trunc(x[2].getY())):(u=Math.trunc(x[4].getX()),c=Math.trunc(x[4].getY()))}return l}static findVertices(s,i,l){const c=s.getHeight(),u=s.getWidth(),f=new Array(8);return Xe.copyToResult(f,Xe.findRowsWithPattern(s,c,u,i,l,Xe.START_PATTERN),Xe.INDEXES_START_PATTERN),f[4]!=null&&(l=Math.trunc(f[4].getX()),i=Math.trunc(f[4].getY())),Xe.copyToResult(f,Xe.findRowsWithPattern(s,c,u,i,l,Xe.STOP_PATTERN),Xe.INDEXES_STOP_PATTERN),f}static copyToResult(s,i,l){for(let c=0;c<l.length;c++)s[l[c]]=i[c]}static findRowsWithPattern(s,i,l,c,u,f){const x=new Array(4);let w=!1;const b=new Int32Array(f.length);for(;c<i;c+=Xe.ROW_STEP){let O=Xe.findGuardPattern(s,u,c,l,!1,f,b);if(O!=null){for(;c>0;){const M=Xe.findGuardPattern(s,u,--c,l,!1,f,b);if(M!=null)O=M;else{c++;break}}x[0]=new ve(O[0],c),x[1]=new ve(O[1],c),w=!0;break}}let A=c+1;if(w){let O=0,M=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;A<i;A++){const U=Xe.findGuardPattern(s,M[0],A,l,!1,f,b);if(U!=null&&Math.abs(M[0]-U[0])<Xe.MAX_PATTERN_DRIFT&&Math.abs(M[1]-U[1])<Xe.MAX_PATTERN_DRIFT)M=U,O=0;else{if(O>Xe.SKIPPED_ROW_COUNT_MAX)break;O++}}A-=O+1,x[2]=new ve(M[0],A),x[3]=new ve(M[1],A)}return A-c<Xe.BARCODE_MIN_HEIGHT&&N.fill(x,null),x}static findGuardPattern(s,i,l,c,u,f,x){N.fillWithin(x,0,x.length,0);let w=i,b=0;for(;s.get(w,l)&&w>0&&b++<Xe.MAX_PIXEL_DRIFT;)w--;let A=w,O=0,M=f.length;for(let U=u;A<c;A++)if(s.get(A,l)!==U)x[O]++;else{if(O===M-1){if(Xe.patternMatchVariance(x,f,Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE)return new Int32Array([w,A]);w+=x[0]+x[1],_.arraycopy(x,2,x,0,O-1),x[O-1]=0,x[O]=0,O--}else O++;x[O]=1,U=!U}return O===M-1&&Xe.patternMatchVariance(x,f,Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE?new Int32Array([w,A-1]):null}static patternMatchVariance(s,i,l){let c=s.length,u=0,f=0;for(let b=0;b<c;b++)u+=s[b],f+=i[b];if(u<f)return 1/0;let x=u/f;l*=x;let w=0;for(let b=0;b<c;b++){let A=s[b],O=i[b]*x,M=A>O?A-O:O-A;if(M>l)return 1/0;w+=M}return w/u}}Xe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Xe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Xe.MAX_AVG_VARIANCE=.42,Xe.MAX_INDIVIDUAL_VARIANCE=.8,Xe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Xe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Xe.MAX_PIXEL_DRIFT=3,Xe.MAX_PATTERN_DRIFT=5,Xe.SKIPPED_ROW_COUNT_MAX=25,Xe.ROW_STEP=5,Xe.BARCODE_MIN_HEIGHT=10;class pn{constructor(s,i){if(i.length===0)throw new v;this.field=s;let l=i.length;if(l>1&&i[0]===0){let c=1;for(;c<l&&i[c]===0;)c++;c===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-c),_.arraycopy(i,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let i=this.coefficients[0],l=this.coefficients.length;for(let c=1;c<l;c++)i=this.field.add(this.field.multiply(s,i),this.coefficients[c]);return i}add(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let i=this.coefficients,l=s.coefficients;if(i.length>l.length){let f=i;i=l,l=f}let c=new Int32Array(l.length),u=l.length-i.length;_.arraycopy(l,0,c,0,u);for(let f=u;f<l.length;f++)c[f]=this.field.add(i[f-u],l[f]);return new pn(this.field,c)}subtract(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof pn?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new pn(this.field,new Int32Array([0]));let i=this.coefficients,l=i.length,c=s.coefficients,u=c.length,f=new Int32Array(l+u-1);for(let x=0;x<l;x++){let w=i[x];for(let b=0;b<u;b++)f[x+b]=this.field.add(f[x+b],this.field.multiply(w,c[b]))}return new pn(this.field,f)}negative(){let s=this.coefficients.length,i=new Int32Array(s);for(let l=0;l<s;l++)i[l]=this.field.subtract(0,this.coefficients[l]);return new pn(this.field,i)}multiplyScalar(s){if(s===0)return new pn(this.field,new Int32Array([0]));if(s===1)return this;let i=this.coefficients.length,l=new Int32Array(i);for(let c=0;c<i;c++)l[c]=this.field.multiply(this.coefficients[c],s);return new pn(this.field,l)}multiplyByMonomial(s,i){if(s<0)throw new v;if(i===0)return new pn(this.field,new Int32Array([0]));let l=this.coefficients.length,c=new Int32Array(l+s);for(let u=0;u<l;u++)c[u]=this.field.multiply(this.coefficients[u],i);return new pn(this.field,c)}toString(){let s=new se;for(let i=this.getDegree();i>=0;i--){let l=this.getCoefficient(i);l!==0&&(l<0?(s.append(" - "),l=-l):s.length()>0&&s.append(" + "),(i===0||l!==1)&&s.append(l),i!==0&&(i===1?s.append("x"):(s.append("x^"),s.append(i))))}return s.toString()}}class lA{add(s,i){return(s+i)%this.modulus}subtract(s,i){return(this.modulus+s-i)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new v;return this.logTable[s]}inverse(s){if(s===0)throw new Te;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,i){return s===0||i===0?0:this.expTable[(this.logTable[s]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class eh extends lA{constructor(s,i){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let l=1;for(let c=0;c<s;c++)this.expTable[c]=l,l=l*i%s;for(let c=0;c<s-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new pn(this,new Int32Array([0])),this.one=new pn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,i){if(s<0)throw new v;if(i===0)return this.zero;let l=new Int32Array(s+1);return l[0]=i,new pn(this,l)}}eh.PDF417_GF=new eh(Be.NUMBER_OF_CODEWORDS,3);class Fp{constructor(){this.field=eh.PDF417_GF}decode(s,i,l){let c=new pn(this.field,s),u=new Int32Array(i),f=!1;for(let z=i;z>0;z--){let $=c.evaluateAt(this.field.exp(z));u[i-z]=$,$!==0&&(f=!0)}if(!f)return 0;let x=this.field.getOne();if(l!=null)for(const z of l){let $=this.field.exp(s.length-1-z),K=new pn(this.field,new Int32Array([this.field.subtract(0,$),1]));x=x.multiply(K)}let w=new pn(this.field,u),b=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),w,i),A=b[0],O=b[1],M=this.findErrorLocations(A),U=this.findErrorMagnitudes(O,A,M);for(let z=0;z<M.length;z++){let $=s.length-1-this.field.log(M[z]);if($<0)throw T.getChecksumInstance();s[$]=this.field.subtract(s[$],U[z])}return M.length}runEuclideanAlgorithm(s,i,l){if(s.getDegree()<i.getDegree()){let M=s;s=i,i=M}let c=s,u=i,f=this.field.getZero(),x=this.field.getOne();for(;u.getDegree()>=Math.round(l/2);){let M=c,U=f;if(c=u,f=x,c.isZero())throw T.getChecksumInstance();u=M;let z=this.field.getZero(),$=c.getCoefficient(c.getDegree()),K=this.field.inverse($);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let J=u.getDegree()-c.getDegree(),le=this.field.multiply(u.getCoefficient(u.getDegree()),K);z=z.add(this.field.buildMonomial(J,le)),u=u.subtract(c.multiplyByMonomial(J,le))}x=z.multiply(f).subtract(U).negative()}let w=x.getCoefficient(0);if(w===0)throw T.getChecksumInstance();let b=this.field.inverse(w),A=x.multiply(b),O=u.multiply(b);return[A,O]}findErrorLocations(s){let i=s.getDegree(),l=new Int32Array(i),c=0;for(let u=1;u<this.field.getSize()&&c<i;u++)s.evaluateAt(u)===0&&(l[c]=this.field.inverse(u),c++);if(c!==i)throw T.getChecksumInstance();return l}findErrorMagnitudes(s,i,l){let c=i.getDegree(),u=new Int32Array(c);for(let b=1;b<=c;b++)u[c-b]=this.field.multiply(b,i.getCoefficient(b));let f=new pn(this.field,u),x=l.length,w=new Int32Array(x);for(let b=0;b<x;b++){let A=this.field.inverse(l[b]),O=this.field.subtract(0,s.evaluateAt(A)),M=this.field.inverse(f.evaluateAt(A));w[b]=this.field.multiply(O,M)}return w}}class Xi{constructor(s,i,l,c,u){s instanceof Xi?this.constructor_2(s):this.constructor_1(s,i,l,c,u)}constructor_1(s,i,l,c,u){const f=i==null||l==null,x=c==null||u==null;if(f&&x)throw new X;f?(i=new ve(0,c.getY()),l=new ve(0,u.getY())):x&&(c=new ve(s.getWidth()-1,i.getY()),u=new ve(s.getWidth()-1,l.getY())),this.image=s,this.topLeft=i,this.bottomLeft=l,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(i.getX(),l.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(i.getY(),c.getY())),this.maxY=Math.trunc(Math.max(l.getY(),u.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,i){return s==null?i:i==null?s:new Xi(s.image,s.topLeft,s.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(s,i,l){let c=this.topLeft,u=this.bottomLeft,f=this.topRight,x=this.bottomRight;if(s>0){let w=l?this.topLeft:this.topRight,b=Math.trunc(w.getY()-s);b<0&&(b=0);let A=new ve(w.getX(),b);l?c=A:f=A}if(i>0){let w=l?this.bottomLeft:this.bottomRight,b=Math.trunc(w.getY()+i);b>=this.image.getHeight()&&(b=this.image.getHeight()-1);let A=new ve(w.getX(),b);l?u=A:x=A}return new Xi(this.image,c,u,f,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class cA{constructor(s,i,l,c){this.columnCount=s,this.errorCorrectionLevel=c,this.rowCountUpperPart=i,this.rowCountLowerPart=l,this.rowCount=i+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class yl{constructor(){this.buffer=""}static form(s,i){let l=-1;function c(f,x,w,b,A,O){if(f==="%%")return"%";if(i[++l]===void 0)return;f=b?parseInt(b.substr(1)):void 0;let M=A?parseInt(A.substr(1)):void 0,U;switch(O){case"s":U=i[l];break;case"c":U=i[l][0];break;case"f":U=parseFloat(i[l]).toFixed(f);break;case"p":U=parseFloat(i[l]).toPrecision(f);break;case"e":U=parseFloat(i[l]).toExponential(f);break;case"x":U=parseInt(i[l]).toString(M||16);break;case"d":U=parseFloat(parseInt(i[l],M||10).toPrecision(f)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(M);let z=parseInt(w),$=w&&w[0]+""=="0"?"0":" ";for(;U.length<z;)U=x!==void 0?U+$:$+U;return U}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(u,c)}format(s,...i){this.buffer+=yl.form(s,i)}toString(){return this.buffer}}class vl{constructor(s){this.boundingBox=new Xi(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let i=this.getCodeword(s);if(i!=null)return i;for(let l=1;l<vl.MAX_NEARBY_DISTANCE;l++){let c=this.imageRowToCodewordIndex(s)-l;if(c>=0&&(i=this.codewords[c],i!=null)||(c=this.imageRowToCodewordIndex(s)+l,c<this.codewords.length&&(i=this.codewords[c],i!=null)))return i}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,i){this.codewords[this.imageRowToCodewordIndex(s)]=i}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new yl;let i=0;for(const l of this.codewords){if(l==null){s.format("%3d:    |   %n",i++);continue}s.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}return s.toString()}}vl.MAX_NEARBY_DISTANCE=5;class bl{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let i=this.values.get(s);i==null&&(i=0),i++,this.values.set(s,i)}getValue(){let s=-1,i=new Array;for(const[l,c]of this.values.entries()){const u={getKey:()=>l,getValue:()=>c};u.getValue()>s?(s=u.getValue(),i=[],i.push(u.getKey())):u.getValue()===s&&i.push(u.getKey())}return Be.toIntArray(i)}getConfidence(s){return this.values.get(s)}}class Up extends vl{constructor(s,i){super(s),this._isLeft=i}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,s);let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),u=this._isLeft?l.getBottomLeft():l.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),x=this.imageRowToCodewordIndex(Math.trunc(u.getY())),w=-1,b=1,A=0;for(let O=f;O<x;O++){if(i[O]==null)continue;let M=i[O],U=M.getRowNumber()-w;if(U===0)A++;else if(U===1)b=Math.max(b,A),A=1,w=M.getRowNumber();else if(U<0||M.getRowNumber()>=s.getRowCount()||U>O)i[O]=null;else{let z;b>2?z=(b-2)*U:z=U;let $=z>=O;for(let K=1;K<=z&&!$;K++)$=i[O-K]!=null;$?i[O]=null:(w=M.getRowNumber(),A=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let i=new Int32Array(s.getRowCount());for(let l of this.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=i.length)continue;i[c]++}return i}adjustIncompleteIndicatorColumnRowNumbers(s){let i=this.getBoundingBox(),l=this._isLeft?i.getTopLeft():i.getTopRight(),c=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),x=this.getCodewords(),w=-1;for(let b=u;b<f;b++){if(x[b]==null)continue;let A=x[b];A.setRowNumberAsRowIndicatorColumn();let O=A.getRowNumber()-w;O===0||(O===1?w=A.getRowNumber():A.getRowNumber()>=s.getRowCount()?x[b]=null:w=A.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),i=new bl,l=new bl,c=new bl,u=new bl;for(let x of s){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let w=x.getValue()%30,b=x.getRowNumber();switch(this._isLeft||(b+=2),b%3){case 0:l.setValue(w*3+1);break;case 1:u.setValue(w/3),c.setValue(w%3);break;case 2:i.setValue(w+1);break}}if(i.getValue().length===0||l.getValue().length===0||c.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||l.getValue()[0]+c.getValue()[0]<Be.MIN_ROWS_IN_BARCODE||l.getValue()[0]+c.getValue()[0]>Be.MAX_ROWS_IN_BARCODE)return null;let f=new cA(i.getValue()[0],l.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(s,f),f}removeIncorrectCodewords(s,i){for(let l=0;l<s.length;l++){let c=s[l];if(s[l]==null)continue;let u=c.getValue()%30,f=c.getRowNumber();if(f>i.getRowCount()){s[l]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:u*3+1!==i.getRowCountUpperPart()&&(s[l]=null);break;case 1:(Math.trunc(u/3)!==i.getErrorCorrectionLevel()||u%3!==i.getRowCountLowerPart())&&(s[l]=null);break;case 2:u+1!==i.getColumnCount()&&(s[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class El{constructor(s,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Be.MAX_CODEWORDS_IN_BARCODE,i;do i=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let l=this.detectionResultColumns[i].getCodewords();for(let c=0;c<l.length;c++)l[c]!=null&&(l[c].hasValidRowNumber()||this.adjustRowNumbers(i,c,l))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++)if(s[l]!=null&&i[l]!=null&&s[l].getRowNumber()===i[l].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[l];u!=null&&(u.setRowNumber(s[l].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<i.length;l++){if(i[l]==null)continue;let c=i[l].getRowNumber(),u=0;for(let f=this.barcodeColumnCount+1;f>0&&u<this.ADJUST_ROW_NUMBER_SKIP;f--){let x=this.detectionResultColumns[f].getCodewords()[l];x!=null&&(u=El.adjustRowNumberIfValid(c,u,x),x.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,i=this.detectionResultColumns[0].getCodewords();for(let l=0;l<i.length;l++){if(i[l]==null)continue;let c=i[l].getRowNumber(),u=0;for(let f=1;f<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;f++){let x=this.detectionResultColumns[f].getCodewords()[l];x!=null&&(u=El.adjustRowNumberIfValid(c,u,x),x.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,i,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(s)?(l.setRowNumber(s),i=0):++i),i}adjustRowNumbers(s,i,l){if(!this.detectionResultColumns[s-1])return;let c=l[i],u=this.detectionResultColumns[s-1].getCodewords(),f=u;this.detectionResultColumns[s+1]!=null&&(f=this.detectionResultColumns[s+1].getCodewords());let x=new Array(14);x[2]=u[i],x[3]=f[i],i>0&&(x[0]=l[i-1],x[4]=u[i-1],x[5]=f[i-1]),i>1&&(x[8]=l[i-2],x[10]=u[i-2],x[11]=f[i-2]),i<l.length-1&&(x[1]=l[i+1],x[6]=u[i+1],x[7]=f[i+1]),i<l.length-2&&(x[9]=l[i+2],x[12]=u[i+2],x[13]=f[i+2]);for(let w of x)if(El.adjustRowNumber(c,w))return}static adjustRowNumber(s,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===s.getBucket()?(s.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,i){this.detectionResultColumns[s]=i}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new yl;for(let l=0;l<s.getCodewords().length;l++){i.format("CW %3d:",l);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){i.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[l];if(u==null){i.format("    |   ");continue}i.format(" %3d|%3d",u.getRowNumber(),u.getValue())}i.format("%n")}return i.toString()}}class Cl{constructor(s,i,l,c){this.rowNumber=Cl.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(i),this.bucket=Math.trunc(l),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==Cl.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}Cl.BARCODE_ROW_UNKNOWN=-1;class Vn{static initialize(){for(let s=0;s<Be.SYMBOL_TABLE.length;s++){let i=Be.SYMBOL_TABLE[s],l=i&1;for(let c=0;c<Be.BARS_IN_MODULE;c++){let u=0;for(;(i&1)===l;)u+=1,i>>=1;l=i&1,Vn.RATIOS_TABLE[s]||(Vn.RATIOS_TABLE[s]=new Array(Be.BARS_IN_MODULE)),Vn.RATIOS_TABLE[s][Be.BARS_IN_MODULE-c-1]=Math.fround(u/Be.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let i=Vn.getDecodedCodewordValue(Vn.sampleBitCounts(s));return i!==-1?i:Vn.getClosestDecodedValue(s)}static sampleBitCounts(s){let i=_e.sum(s),l=new Int32Array(Be.BARS_IN_MODULE),c=0,u=0;for(let f=0;f<Be.MODULES_IN_CODEWORD;f++){let x=i/(2*Be.MODULES_IN_CODEWORD)+f*i/Be.MODULES_IN_CODEWORD;u+s[c]<=x&&(u+=s[c],c++),l[c]++}return l}static getDecodedCodewordValue(s){let i=Vn.getBitValue(s);return Be.getCodeword(i)===-1?-1:i}static getBitValue(s){let i=0;for(let l=0;l<s.length;l++)for(let c=0;c<s[l];c++)i=i<<1|(l%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(s){let i=_e.sum(s),l=new Array(Be.BARS_IN_MODULE);if(i>1)for(let f=0;f<l.length;f++)l[f]=Math.fround(s[f]/i);let c=Pt.MAX_VALUE,u=-1;this.bSymbolTableReady||Vn.initialize();for(let f=0;f<Vn.RATIOS_TABLE.length;f++){let x=0,w=Vn.RATIOS_TABLE[f];for(let b=0;b<Be.BARS_IN_MODULE;b++){let A=Math.fround(w[b]-l[b]);if(x+=Math.fround(A*A),x>=c)break}x<c&&(c=x,u=Be.SYMBOL_TABLE[f])}return u}}Vn.bSymbolTableReady=!1,Vn.RATIOS_TABLE=new Array(Be.SYMBOL_TABLE.length).map(R=>new Array(Be.BARS_IN_MODULE));class Vp{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Wp{static parseLong(s,i=void 0){return parseInt(s,i)}}class zp extends g{}zp.kind="NullPointerException";class uA{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,i,l){if(s==null)throw new zp;if(i<0||i>s.length||l<0||i+l>s.length||i+l<0)throw new k;if(l===0)return;for(let c=0;c<l;c++)this.write(s[i+c])}flush(){}close(){}}class dA extends g{}class fA extends uA{constructor(s=32){if(super(),this.count=0,s<0)throw new v("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let l=this.buf.length<<1;if(l-s<0&&(l=s),l<0){if(s<0)throw new dA;l=S.MAX_VALUE}this.buf=N.copyOfUint8Array(this.buf,l)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,i,l){if(i<0||i>s.length||l<0||i+l-s.length>0)throw new k;this.ensureCapacity(this.count+l),_.arraycopy(s,i,this.buf,this.count,l),this.count+=l}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return N.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var wt;(function(R){R[R.ALPHA=0]="ALPHA",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.PUNCT=3]="PUNCT",R[R.ALPHA_SHIFT=4]="ALPHA_SHIFT",R[R.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(wt||(wt={}));function Hp(){if(typeof window<"u")return window.BigInt||null;if(typeof fn<"u")return fn.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ru;function Hs(R){if(typeof ru>"u"&&(ru=Hp()),ru===null)throw new Error("BigInt is not supported!");return ru(R)}function hA(){let R=[];R[0]=Hs(1);let s=Hs(900);R[1]=s;for(let i=2;i<16;i++)R[i]=R[i-1]*s;return R}class Z{static decode(s,i){let l=new se(""),c=j.ISO8859_1;l.enableDecoding(c);let u=1,f=s[u++],x=new Vp;for(;u<s[0];){switch(f){case Z.TEXT_COMPACTION_MODE_LATCH:u=Z.textCompaction(s,u,l);break;case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:u=Z.byteCompaction(f,s,c,u,l);break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[u++]);break;case Z.NUMERIC_COMPACTION_MODE_LATCH:u=Z.numericCompaction(s,u,l);break;case Z.ECI_CHARSET:j.getCharacterSetECIByValue(s[u++]);break;case Z.ECI_GENERAL_PURPOSE:u+=2;break;case Z.ECI_USER_DEFINED:u++;break;case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=Z.decodeMacroBlock(s,u,x);break;case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:throw new F;default:u--,u=Z.textCompaction(s,u,l);break}if(u<s.length)f=s[u++];else throw F.getFormatInstance()}if(l.length()===0)throw F.getFormatInstance();let w=new ke(null,l.toString(),null,i);return w.setOther(x),w}static decodeMacroBlock(s,i,l){if(i+Z.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw F.getFormatInstance();let c=new Int32Array(Z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<Z.NUMBER_OF_SEQUENCE_CODEWORDS;x++,i++)c[x]=s[i];l.setSegmentIndex(S.parseInt(Z.decodeBase900toBase10(c,Z.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new se;i=Z.textCompaction(s,i,u),l.setFileId(u.toString());let f=-1;for(s[i]===Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=i+1);i<s[0];)switch(s[i]){case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,s[i]){case Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new se;i=Z.textCompaction(s,i+1,x),l.setFileName(x.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new se;i=Z.textCompaction(s,i+1,w),l.setSender(w.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let b=new se;i=Z.textCompaction(s,i+1,b),l.setAddressee(b.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let A=new se;i=Z.numericCompaction(s,i+1,A),l.setSegmentCount(S.parseInt(A.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new se;i=Z.numericCompaction(s,i+1,O),l.setTimestamp(Wp.parseLong(O.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let M=new se;i=Z.numericCompaction(s,i+1,M),l.setChecksum(S.parseInt(M.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let U=new se;i=Z.numericCompaction(s,i+1,U),l.setFileSize(Wp.parseLong(U.toString()));break;default:throw F.getFormatInstance()}break;case Z.MACRO_PDF417_TERMINATOR:i++,l.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(f!==-1){let x=i-f;l.isLastSegment()&&x--,l.setOptionalData(N.copyOfRange(s,f,f+x))}return i}static textCompaction(s,i,l){let c=new Int32Array((s[0]-i)*2),u=new Int32Array((s[0]-i)*2),f=0,x=!1;for(;i<s[0]&&!x;){let w=s[i++];if(w<Z.TEXT_COMPACTION_MODE_LATCH)c[f]=w/30,c[f+1]=w%30,f+=2;else switch(w){case Z.TEXT_COMPACTION_MODE_LATCH:c[f++]=Z.TEXT_COMPACTION_MODE_LATCH;break;case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:i--,x=!0;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[f]=Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=s[i++],u[f]=w,f++;break}}return Z.decodeTextCompaction(c,u,f,l),i}static decodeTextCompaction(s,i,l,c){let u=wt.ALPHA,f=wt.ALPHA,x=0;for(;x<l;){let w=s[x],b="";switch(u){case wt.ALPHA:if(w<26)b=String.fromCharCode(65+w);else switch(w){case 26:b=" ";break;case Z.LL:u=wt.LOWER;break;case Z.ML:u=wt.MIXED;break;case Z.PS:f=u,u=wt.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[x]);break;case Z.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break;case wt.LOWER:if(w<26)b=String.fromCharCode(97+w);else switch(w){case 26:b=" ";break;case Z.AS:f=u,u=wt.ALPHA_SHIFT;break;case Z.ML:u=wt.MIXED;break;case Z.PS:f=u,u=wt.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[x]);break;case Z.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break;case wt.MIXED:if(w<Z.PL)b=Z.MIXED_CHARS[w];else switch(w){case Z.PL:u=wt.PUNCT;break;case 26:b=" ";break;case Z.LL:u=wt.LOWER;break;case Z.AL:u=wt.ALPHA;break;case Z.PS:f=u,u=wt.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[x]);break;case Z.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break;case wt.PUNCT:if(w<Z.PAL)b=Z.PUNCT_CHARS[w];else switch(w){case Z.PAL:u=wt.ALPHA;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[x]);break;case Z.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break;case wt.ALPHA_SHIFT:if(u=f,w<26)b=String.fromCharCode(65+w);else switch(w){case 26:b=" ";break;case Z.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break;case wt.PUNCT_SHIFT:if(u=f,w<Z.PAL)b=Z.PUNCT_CHARS[w];else switch(w){case Z.PAL:u=wt.ALPHA;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[x]);break;case Z.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break}b!==""&&c.append(b),x++}}static byteCompaction(s,i,l,c,u){let f=new fA,x=0,w=0,b=!1;switch(s){case Z.BYTE_COMPACTION_MODE_LATCH:let A=new Int32Array(6),O=i[c++];for(;c<i[0]&&!b;)switch(A[x++]=O,w=900*w+O,O=i[c++],O){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:c--,b=!0;break;default:if(x%5===0&&x>0){for(let M=0;M<6;++M)f.write(Number(Hs(w)>>Hs(8*(5-M))));w=0,x=0}break}c===i[0]&&O<Z.TEXT_COMPACTION_MODE_LATCH&&(A[x++]=O);for(let M=0;M<x;M++)f.write(A[M]);break;case Z.BYTE_COMPACTION_MODE_LATCH_6:for(;c<i[0]&&!b;){let M=i[c++];if(M<Z.TEXT_COMPACTION_MODE_LATCH)x++,w=900*w+M;else switch(M){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:c--,b=!0;break}if(x%5===0&&x>0){for(let U=0;U<6;++U)f.write(Number(Hs(w)>>Hs(8*(5-U))));w=0,x=0}}break}return u.append(te.decode(f.toByteArray(),l)),c}static numericCompaction(s,i,l){let c=0,u=!1,f=new Int32Array(Z.MAX_NUMERIC_CODEWORDS);for(;i<s[0]&&!u;){let x=s[i++];if(i===s[0]&&(u=!0),x<Z.TEXT_COMPACTION_MODE_LATCH)f[c]=x,c++;else switch(x){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:i--,u=!0;break}(c%Z.MAX_NUMERIC_CODEWORDS===0||x===Z.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(l.append(Z.decodeBase900toBase10(f,c)),c=0)}return i}static decodeBase900toBase10(s,i){let l=Hs(0);for(let u=0;u<i;u++)l+=Z.EXP900[i-u-1]*Hs(s[u]);let c=l.toString();if(c.charAt(0)!=="1")throw new F;return c.substring(1)}}Z.TEXT_COMPACTION_MODE_LATCH=900,Z.BYTE_COMPACTION_MODE_LATCH=901,Z.NUMERIC_COMPACTION_MODE_LATCH=902,Z.BYTE_COMPACTION_MODE_LATCH_6=924,Z.ECI_USER_DEFINED=925,Z.ECI_GENERAL_PURPOSE=926,Z.ECI_CHARSET=927,Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Z.MACRO_PDF417_TERMINATOR=922,Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Z.MAX_NUMERIC_CODEWORDS=15,Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Z.PL=25,Z.LL=27,Z.AS=27,Z.ML=28,Z.AL=28,Z.PS=29,Z.PAL=29,Z.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Z.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Z.EXP900=Hp()?hA():[],Z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Qe{constructor(){}static decode(s,i,l,c,u,f,x){let w=new Xi(s,i,l,c,u),b=null,A=null,O;for(let z=!0;;z=!1){if(i!=null&&(b=Qe.getRowIndicatorColumn(s,w,i,!0,f,x)),c!=null&&(A=Qe.getRowIndicatorColumn(s,w,c,!1,f,x)),O=Qe.merge(b,A),O==null)throw X.getNotFoundInstance();let $=O.getBoundingBox();if(z&&$!=null&&($.getMinY()<w.getMinY()||$.getMaxY()>w.getMaxY()))w=$;else break}O.setBoundingBox(w);let M=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,b),O.setDetectionResultColumn(M,A);let U=b!=null;for(let z=1;z<=M;z++){let $=U?z:M-z;if(O.getDetectionResultColumn($)!==void 0)continue;let K;$===0||$===M?K=new Up(w,$===0):K=new vl(w),O.setDetectionResultColumn($,K);let J=-1,le=J;for(let ce=w.getMinY();ce<=w.getMaxY();ce++){if(J=Qe.getStartColumn(O,$,ce,U),J<0||J>w.getMaxX()){if(le===-1)continue;J=le}let oe=Qe.detectCodeword(s,w.getMinX(),w.getMaxX(),U,J,ce,f,x);oe!=null&&(K.setCodeword(ce,oe),le=J,f=Math.min(f,oe.getWidth()),x=Math.max(x,oe.getWidth()))}}return Qe.createDecoderResult(O)}static merge(s,i){if(s==null&&i==null)return null;let l=Qe.getBarcodeMetadata(s,i);if(l==null)return null;let c=Xi.merge(Qe.adjustBoundingBox(s),Qe.adjustBoundingBox(i));return new El(l,c)}static adjustBoundingBox(s){if(s==null)return null;let i=s.getRowHeights();if(i==null)return null;let l=Qe.getMax(i),c=0;for(let x of i)if(c+=l-x,x>0)break;let u=s.getCodewords();for(let x=0;c>0&&u[x]==null;x++)c--;let f=0;for(let x=i.length-1;x>=0&&(f+=l-i[x],!(i[x]>0));x--);for(let x=u.length-1;f>0&&u[x]==null;x--)f--;return s.getBoundingBox().addMissingRows(c,f,s.isLeft())}static getMax(s){let i=-1;for(let l of s)i=Math.max(i,l);return i}static getBarcodeMetadata(s,i){let l;if(s==null||(l=s.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let c;return i==null||(c=i.getBarcodeMetadata())==null?l:l.getColumnCount()!==c.getColumnCount()&&l.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&l.getRowCount()!==c.getRowCount()?null:l}static getRowIndicatorColumn(s,i,l,c,u,f){let x=new Up(i,c);for(let w=0;w<2;w++){let b=w===0?1:-1,A=Math.trunc(Math.trunc(l.getX()));for(let O=Math.trunc(Math.trunc(l.getY()));O<=i.getMaxY()&&O>=i.getMinY();O+=b){let M=Qe.detectCodeword(s,0,s.getWidth(),c,A,O,u,f);M!=null&&(x.setCodeword(O,M),c?A=M.getStartX():A=M.getEndX())}}return x}static adjustCodewordCount(s,i){let l=i[0][1],c=l.getValue(),u=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Qe.getNumberOfECCodeWords(s.getBarcodeECLevel());if(c.length===0){if(u<1||u>Be.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();l.setValue(u)}else c[0]!==u&&l.setValue(u)}static createDecoderResult(s){let i=Qe.createBarcodeMatrix(s);Qe.adjustCodewordCount(s,i);let l=new Array,c=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),u=[],f=new Array;for(let w=0;w<s.getBarcodeRowCount();w++)for(let b=0;b<s.getBarcodeColumnCount();b++){let A=i[w][b+1].getValue(),O=w*s.getBarcodeColumnCount()+b;A.length===0?l.push(O):A.length===1?c[O]=A[0]:(f.push(O),u.push(A))}let x=new Array(u.length);for(let w=0;w<x.length;w++)x[w]=u[w];return Qe.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),c,Be.toIntArray(l),Be.toIntArray(f),x)}static createDecoderResultFromAmbiguousValues(s,i,l,c,u){let f=new Int32Array(c.length),x=100;for(;x-- >0;){for(let w=0;w<f.length;w++)i[c[w]]=u[w][f[w]];try{return Qe.decodeCodewords(i,s,l)}catch(w){if(!(w instanceof T))throw w}if(f.length===0)throw T.getChecksumInstance();for(let w=0;w<f.length;w++)if(f[w]<u[w].length-1){f[w]++;break}else if(f[w]=0,w===f.length-1)throw T.getChecksumInstance()}throw T.getChecksumInstance()}static createBarcodeMatrix(s){let i=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let c=0;c<i.length;c++)for(let u=0;u<i[c].length;u++)i[c][u]=new bl;let l=0;for(let c of s.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let f=u.getRowNumber();if(f>=0){if(f>=i.length)continue;i[f][l].setValue(u.getValue())}}}l++}return i}static isValidBarcodeColumn(s,i){return i>=0&&i<=s.getBarcodeColumnCount()+1}static getStartColumn(s,i,l,c){let u=c?1:-1,f=null;if(Qe.isValidBarcodeColumn(s,i-u)&&(f=s.getDetectionResultColumn(i-u).getCodeword(l)),f!=null)return c?f.getEndX():f.getStartX();if(f=s.getDetectionResultColumn(i).getCodewordNearby(l),f!=null)return c?f.getStartX():f.getEndX();if(Qe.isValidBarcodeColumn(s,i-u)&&(f=s.getDetectionResultColumn(i-u).getCodewordNearby(l)),f!=null)return c?f.getEndX():f.getStartX();let x=0;for(;Qe.isValidBarcodeColumn(s,i-u);){i-=u;for(let w of s.getDetectionResultColumn(i).getCodewords())if(w!=null)return(c?w.getEndX():w.getStartX())+u*x*(w.getEndX()-w.getStartX());x++}return c?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,i,l,c,u,f,x,w){u=Qe.adjustCodewordStartColumn(s,i,l,c,u,f);let b=Qe.getModuleBitCount(s,i,l,c,u,f);if(b==null)return null;let A,O=_e.sum(b);if(c)A=u+O;else{for(let z=0;z<b.length/2;z++){let $=b[z];b[z]=b[b.length-1-z],b[b.length-1-z]=$}A=u,u=A-O}if(!Qe.checkCodewordSkew(O,x,w))return null;let M=Vn.getDecodedValue(b),U=Be.getCodeword(M);return U===-1?null:new Cl(u,A,Qe.getCodewordBucketNumber(M),U)}static getModuleBitCount(s,i,l,c,u,f){let x=u,w=new Int32Array(8),b=0,A=c?1:-1,O=c;for(;(c?x<l:x>=i)&&b<w.length;)s.get(x,f)===O?(w[b]++,x+=A):(b++,O=!O);return b===w.length||x===(c?l:i)&&b===w.length-1?w:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,i,l,c,u,f){let x=u,w=c?-1:1;for(let b=0;b<2;b++){for(;(c?x>=i:x<l)&&c===s.get(x,f);){if(Math.abs(u-x)>Qe.CODEWORD_SKEW_SIZE)return u;x+=w}w=-w,c=!c}return x}static checkCodewordSkew(s,i,l){return i-Qe.CODEWORD_SKEW_SIZE<=s&&s<=l+Qe.CODEWORD_SKEW_SIZE}static decodeCodewords(s,i,l){if(s.length===0)throw F.getFormatInstance();let c=1<<i+1,u=Qe.correctErrors(s,l,c);Qe.verifyCodewordCount(s,c);let f=Z.decode(s,""+i);return f.setErrorsCorrected(u),f.setErasures(l.length),f}static correctErrors(s,i,l){if(i!=null&&i.length>l/2+Qe.MAX_ERRORS||l<0||l>Qe.MAX_EC_CODEWORDS)throw T.getChecksumInstance();return Qe.errorCorrection.decode(s,l,i)}static verifyCodewordCount(s,i){if(s.length<4)throw F.getFormatInstance();let l=s[0];if(l>s.length)throw F.getFormatInstance();if(l===0)if(i<s.length)s[0]=s.length-i;else throw F.getFormatInstance()}static getBitCountForCodeword(s){let i=new Int32Array(8),l=0,c=i.length-1;for(;!((s&1)!==l&&(l=s&1,c--,c<0));)i[c]++,s>>=1;return i}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Qe.getCodewordBucketNumber(Qe.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let i=new yl;for(let l=0;l<s.length;l++){i.format("Row %2d: ",l);for(let c=0;c<s[l].length;c++){let u=s[l][c];u.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}i.format("%n")}return i.toString()}}Qe.CODEWORD_SKEW_SIZE=2,Qe.MAX_ERRORS=3,Qe.MAX_EC_CODEWORDS=512,Qe.errorCorrection=new Fp;class mn{decode(s,i=null){let l=mn.decode(s,i,!1);if(l==null||l.length===0||l[0]==null)throw X.getNotFoundInstance();return l[0]}decodeMultiple(s,i=null){try{return mn.decode(s,i,!0)}catch(l){throw l instanceof F||l instanceof T?X.getNotFoundInstance():l}}static decode(s,i,l){const c=new Array,u=Xe.detectMultiple(s,i,l);for(const f of u.getPoints()){const x=Qe.decode(u.getBits(),f[4],f[5],f[6],f[7],mn.getMinCodewordWidth(f),mn.getMaxCodewordWidth(f)),w=new Re(x.getText(),x.getRawBytes(),void 0,f,de.PDF_417);w.putMetadata(xe.ERROR_CORRECTION_LEVEL,x.getECLevel());const b=x.getOther();b!=null&&w.putMetadata(xe.PDF417_EXTRA_METADATA,b),c.push(w)}return c.map(f=>f)}static getMaxWidth(s,i){return s==null||i==null?0:Math.trunc(Math.abs(s.getX()-i.getX()))}static getMinWidth(s,i){return s==null||i==null?S.MAX_VALUE:Math.trunc(Math.abs(s.getX()-i.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(mn.getMaxWidth(s[0],s[4]),mn.getMaxWidth(s[6],s[2])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN),Math.max(mn.getMaxWidth(s[1],s[5]),mn.getMaxWidth(s[7],s[3])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(mn.getMinWidth(s[0],s[4]),mn.getMinWidth(s[6],s[2])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN),Math.min(mn.getMinWidth(s[1],s[5]),mn.getMinWidth(s[7],s[3])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN)))}reset(){}}class su extends g{}su.kind="ReaderException";class $p{constructor(s,i){this.verbose=s===!0,i&&this.setHints(i)}decode(s,i){return i&&this.setHints(i),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const i=!r(s)&&s.get(W.TRY_HARDER)===!0,l=r(s)?null:s.get(W.POSSIBLE_FORMATS),c=new Array;if(!r(l)){const u=l.some(f=>f===de.UPC_A||f===de.UPC_E||f===de.EAN_13||f===de.EAN_8||f===de.CODABAR||f===de.CODE_39||f===de.CODE_93||f===de.CODE_128||f===de.ITF||f===de.RSS_14||f===de.RSS_EXPANDED);u&&!i&&c.push(new Vo(s,this.verbose)),l.includes(de.QR_CODE)&&c.push(new zs),l.includes(de.DATA_MATRIX)&&c.push(new Ws),l.includes(de.AZTEC)&&c.push(new Rr),l.includes(de.PDF_417)&&c.push(new mn),u&&i&&c.push(new Vo(s,this.verbose))}c.length===0&&(i||c.push(new Vo(s,this.verbose)),c.push(new zs),c.push(new Ws),c.push(new Rr),c.push(new mn),i&&c.push(new Vo(s,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new su("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(s,this.hints)}catch(l){if(l instanceof su)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class gA extends we{constructor(s=null,i=500){const l=new $p;l.setHints(s),super(l,i)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class pA extends we{constructor(s=500){super(new mn,s)}}class mA extends we{constructor(s=500){super(new zs,s)}}var th;(function(R){R[R.ERROR_CORRECTION=0]="ERROR_CORRECTION",R[R.CHARACTER_SET=1]="CHARACTER_SET",R[R.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",R[R.MIN_SIZE=3]="MIN_SIZE",R[R.MAX_SIZE=4]="MAX_SIZE",R[R.MARGIN=5]="MARGIN",R[R.PDF417_COMPACT=6]="PDF417_COMPACT",R[R.PDF417_COMPACTION=7]="PDF417_COMPACTION",R[R.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",R[R.AZTEC_LAYERS=9]="AZTEC_LAYERS",R[R.QR_VERSION=10]="QR_VERSION"})(th||(th={}));var nn=th;class nh{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new pe(s,Int32Array.from([1])))}buildGenerator(s){const i=this.cachedGenerators;if(s>=i.length){let l=i[i.length-1];const c=this.field;for(let u=i.length;u<=s;u++){const f=l.multiply(new pe(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));i.push(f),l=f}}return i[s]}encode(s,i){if(i===0)throw new v("No error correction bytes");const l=s.length-i;if(l<=0)throw new v("No data bytes provided");const c=this.buildGenerator(i),u=new Int32Array(l);_.arraycopy(s,0,u,0,l);let f=new pe(this.field,u);f=f.multiplyByMonomial(i,1);const w=f.divide(c)[1].getCoefficients(),b=i-w.length;for(let A=0;A<b;A++)s[l+A]=0;_.arraycopy(w,0,s,l+b,w.length)}}class zt{constructor(){}static applyMaskPenaltyRule1(s){return zt.applyMaskPenaltyRule1Internal(s,!0)+zt.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let i=0;const l=s.getArray(),c=s.getWidth(),u=s.getHeight();for(let f=0;f<u-1;f++){const x=l[f];for(let w=0;w<c-1;w++){const b=x[w];b===x[w+1]&&b===l[f+1][w]&&b===l[f+1][w+1]&&i++}}return zt.N2*i}static applyMaskPenaltyRule3(s){let i=0;const l=s.getArray(),c=s.getWidth(),u=s.getHeight();for(let f=0;f<u;f++)for(let x=0;x<c;x++){const w=l[f];x+6<c&&w[x]===1&&w[x+1]===0&&w[x+2]===1&&w[x+3]===1&&w[x+4]===1&&w[x+5]===0&&w[x+6]===1&&(zt.isWhiteHorizontal(w,x-4,x)||zt.isWhiteHorizontal(w,x+7,x+11))&&i++,f+6<u&&l[f][x]===1&&l[f+1][x]===0&&l[f+2][x]===1&&l[f+3][x]===1&&l[f+4][x]===1&&l[f+5][x]===0&&l[f+6][x]===1&&(zt.isWhiteVertical(l,x,f-4,f)||zt.isWhiteVertical(l,x,f+7,f+11))&&i++}return i*zt.N3}static isWhiteHorizontal(s,i,l){i=Math.max(i,0),l=Math.min(l,s.length);for(let c=i;c<l;c++)if(s[c]===1)return!1;return!0}static isWhiteVertical(s,i,l,c){l=Math.max(l,0),c=Math.min(c,s.length);for(let u=l;u<c;u++)if(s[u][i]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let i=0;const l=s.getArray(),c=s.getWidth(),u=s.getHeight();for(let w=0;w<u;w++){const b=l[w];for(let A=0;A<c;A++)b[A]===1&&i++}const f=s.getHeight()*s.getWidth();return Math.floor(Math.abs(i*2-f)*10/f)*zt.N4}static getDataMaskBit(s,i,l){let c,u;switch(s){case 0:c=l+i&1;break;case 1:c=l&1;break;case 2:c=i%3;break;case 3:c=(l+i)%3;break;case 4:c=Math.floor(l/2)+Math.floor(i/3)&1;break;case 5:u=l*i,c=(u&1)+u%3;break;case 6:u=l*i,c=(u&1)+u%3&1;break;case 7:u=l*i,c=u%3+(l+i&1)&1;break;default:throw new v("Invalid mask pattern: "+s)}return c===0}static applyMaskPenaltyRule1Internal(s,i){let l=0;const c=i?s.getHeight():s.getWidth(),u=i?s.getWidth():s.getHeight(),f=s.getArray();for(let x=0;x<c;x++){let w=0,b=-1;for(let A=0;A<u;A++){const O=i?f[x][A]:f[A][x];O===b?w++:(w>=5&&(l+=zt.N1+(w-5)),w=1,b=O)}w>=5&&(l+=zt.N1+(w-5))}return l}}zt.N1=3,zt.N2=3,zt.N3=40,zt.N4=10;class iu{constructor(s,i){this.width=s,this.height=i;const l=new Array(i);for(let c=0;c!==i;c++)l[c]=new Uint8Array(s);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(s,i){return this.bytes[i][s]}getArray(){return this.bytes}setNumber(s,i,l){this.bytes[i][s]=l}setBoolean(s,i,l){this.bytes[i][s]=l?1:0}clear(s){for(const i of this.bytes)N.fill(i,s)}equals(s){if(!(s instanceof iu))return!1;const i=s;if(this.width!==i.width||this.height!==i.height)return!1;for(let l=0,c=this.height;l<c;++l){const u=this.bytes[l],f=i.bytes[l];for(let x=0,w=this.width;x<w;++x)if(u[x]!==f[x])return!1}return!0}toString(){const s=new se;for(let i=0,l=this.height;i<l;++i){const c=this.bytes[i];for(let u=0,f=this.width;u<f;++u)switch(c[u]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Ki{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new se;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Ki.NUM_MASK_PATTERNS}}Ki.NUM_MASK_PATTERNS=8;class bt extends g{}bt.kind="WriterException";class Me{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,i,l,c,u){Me.clearMatrix(u),Me.embedBasicPatterns(l,u),Me.embedTypeInfo(i,c,u),Me.maybeEmbedVersionInfo(l,u),Me.embedDataBits(s,c,u)}static embedBasicPatterns(s,i){Me.embedPositionDetectionPatternsAndSeparators(i),Me.embedDarkDotAtLeftBottomCorner(i),Me.maybeEmbedPositionAdjustmentPatterns(s,i),Me.embedTimingPatterns(i)}static embedTypeInfo(s,i,l){const c=new D;Me.makeTypeInfoBits(s,i,c);for(let u=0,f=c.getSize();u<f;++u){const x=c.get(c.getSize()-1-u),w=Me.TYPE_INFO_COORDINATES[u],b=w[0],A=w[1];if(l.setBoolean(b,A,x),u<8){const O=l.getWidth()-u-1;l.setBoolean(O,8,x)}else{const M=l.getHeight()-7+(u-8);l.setBoolean(8,M,x)}}}static maybeEmbedVersionInfo(s,i){if(s.getVersionNumber()<7)return;const l=new D;Me.makeVersionInfoBits(s,l);let c=6*3-1;for(let u=0;u<6;++u)for(let f=0;f<3;++f){const x=l.get(c);c--,i.setBoolean(u,i.getHeight()-11+f,x),i.setBoolean(i.getHeight()-11+f,u,x)}}static embedDataBits(s,i,l){let c=0,u=-1,f=l.getWidth()-1,x=l.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);x>=0&&x<l.getHeight();){for(let w=0;w<2;++w){const b=f-w;if(!Me.isEmpty(l.get(b,x)))continue;let A;c<s.getSize()?(A=s.get(c),++c):A=!1,i!==255&&zt.getDataMaskBit(i,b,x)&&(A=!A),l.setBoolean(b,x,A)}x+=u}u=-u,x+=u,f-=2}if(c!==s.getSize())throw new bt("Not all bits consumed: "+c+"/"+s.getSize())}static findMSBSet(s){return 32-S.numberOfLeadingZeros(s)}static calculateBCHCode(s,i){if(i===0)throw new v("0 polynomial");const l=Me.findMSBSet(i);for(s<<=l-1;Me.findMSBSet(s)>=l;)s^=i<<Me.findMSBSet(s)-l;return s}static makeTypeInfoBits(s,i,l){if(!Ki.isValidMaskPattern(i))throw new bt("Invalid mask pattern");const c=s.getBits()<<3|i;l.appendBits(c,5);const u=Me.calculateBCHCode(c,Me.TYPE_INFO_POLY);l.appendBits(u,10);const f=new D;if(f.appendBits(Me.TYPE_INFO_MASK_PATTERN,15),l.xor(f),l.getSize()!==15)throw new bt("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(s,i){i.appendBits(s.getVersionNumber(),6);const l=Me.calculateBCHCode(s.getVersionNumber(),Me.VERSION_INFO_POLY);if(i.appendBits(l,12),i.getSize()!==18)throw new bt("should not happen but we got: "+i.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let i=8;i<s.getWidth()-8;++i){const l=(i+1)%2;Me.isEmpty(s.get(i,6))&&s.setNumber(i,6,l),Me.isEmpty(s.get(6,i))&&s.setNumber(6,i,l)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new bt;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,i,l){for(let c=0;c<8;++c){if(!Me.isEmpty(l.get(s+c,i)))throw new bt;l.setNumber(s+c,i,0)}}static embedVerticalSeparationPattern(s,i,l){for(let c=0;c<7;++c){if(!Me.isEmpty(l.get(s,i+c)))throw new bt;l.setNumber(s,i+c,0)}}static embedPositionAdjustmentPattern(s,i,l){for(let c=0;c<5;++c){const u=Me.POSITION_ADJUSTMENT_PATTERN[c];for(let f=0;f<5;++f)l.setNumber(s+f,i+c,u[f])}}static embedPositionDetectionPattern(s,i,l){for(let c=0;c<7;++c){const u=Me.POSITION_DETECTION_PATTERN[c];for(let f=0;f<7;++f)l.setNumber(s+f,i+c,u[f])}}static embedPositionDetectionPatternsAndSeparators(s){const i=Me.POSITION_DETECTION_PATTERN[0].length;Me.embedPositionDetectionPattern(0,0,s),Me.embedPositionDetectionPattern(s.getWidth()-i,0,s),Me.embedPositionDetectionPattern(0,s.getWidth()-i,s);const l=8;Me.embedHorizontalSeparationPattern(0,l-1,s),Me.embedHorizontalSeparationPattern(s.getWidth()-l,l-1,s),Me.embedHorizontalSeparationPattern(0,s.getWidth()-l,s);const c=7;Me.embedVerticalSeparationPattern(c,0,s),Me.embedVerticalSeparationPattern(s.getHeight()-c-1,0,s),Me.embedVerticalSeparationPattern(c,s.getHeight()-c,s)}static maybeEmbedPositionAdjustmentPatterns(s,i){if(s.getVersionNumber()<2)return;const l=s.getVersionNumber()-1,c=Me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let u=0,f=c.length;u!==f;u++){const x=c[u];if(x>=0)for(let w=0;w!==f;w++){const b=c[w];b>=0&&Me.isEmpty(i.get(b,x))&&Me.embedPositionAdjustmentPattern(b-2,x-2,i)}}}}Me.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Me.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Me.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Me.VERSION_INFO_POLY=7973,Me.TYPE_INFO_POLY=1335,Me.TYPE_INFO_MASK_PATTERN=21522;class xA{constructor(s,i){this.dataBytes=s,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Tt{constructor(){}static calculateMaskPenalty(s){return zt.applyMaskPenaltyRule1(s)+zt.applyMaskPenaltyRule2(s)+zt.applyMaskPenaltyRule3(s)+zt.applyMaskPenaltyRule4(s)}static encode(s,i,l=null){let c=Tt.DEFAULT_BYTE_MODE_ENCODING;const u=l!==null&&l.get(nn.CHARACTER_SET)!==void 0;u&&(c=l.get(nn.CHARACTER_SET).toString());const f=this.chooseMode(s,c),x=new D;if(f===Pe.BYTE&&(u||Tt.DEFAULT_BYTE_MODE_ENCODING!==c)){const ce=j.getCharacterSetECIByName(c);ce!==void 0&&this.appendECI(ce,x)}this.appendModeInfo(f,x);const w=new D;this.appendBytes(s,f,w,c);let b;if(l!==null&&l.get(nn.QR_VERSION)!==void 0){const ce=Number.parseInt(l.get(nn.QR_VERSION).toString(),10);b=Ie.getVersionForNumber(ce);const oe=this.calculateBitsNeeded(f,x,w,b);if(!this.willFit(oe,b,i))throw new bt("Data too big for requested version")}else b=this.recommendVersion(i,f,x,w);const A=new D;A.appendBitArray(x);const O=f===Pe.BYTE?w.getSizeInBytes():s.length;this.appendLengthInfo(O,b,f,A),A.appendBitArray(w);const M=b.getECBlocksForLevel(i),U=b.getTotalCodewords()-M.getTotalECCodewords();this.terminateBits(U,A);const z=this.interleaveWithECBytes(A,b.getTotalCodewords(),U,M.getNumBlocks()),$=new Ki;$.setECLevel(i),$.setMode(f),$.setVersion(b);const K=b.getDimensionForVersion(),J=new iu(K,K),le=this.chooseMaskPattern(z,i,b,J);return $.setMaskPattern(le),Me.buildMatrix(z,i,b,le,J),$.setMatrix(J),$}static recommendVersion(s,i,l,c){const u=this.calculateBitsNeeded(i,l,c,Ie.getVersionForNumber(1)),f=this.chooseVersion(u,s),x=this.calculateBitsNeeded(i,l,c,f);return this.chooseVersion(x,s)}static calculateBitsNeeded(s,i,l,c){return i.getSize()+s.getCharacterCountBits(c)+l.getSize()}static getAlphanumericCode(s){return s<Tt.ALPHANUMERIC_TABLE.length?Tt.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,i=null){if(j.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(s))return Pe.KANJI;let l=!1,c=!1;for(let u=0,f=s.length;u<f;++u){const x=s.charAt(u);if(Tt.isDigit(x))l=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)c=!0;else return Pe.BYTE}return c?Pe.ALPHANUMERIC:l?Pe.NUMERIC:Pe.BYTE}static isOnlyDoubleByteKanji(s){let i;try{i=te.encode(s,j.SJIS)}catch{return!1}const l=i.length;if(l%2!==0)return!1;for(let c=0;c<l;c+=2){const u=i[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(s,i,l,c){let u=Number.MAX_SAFE_INTEGER,f=-1;for(let x=0;x<Ki.NUM_MASK_PATTERNS;x++){Me.buildMatrix(s,i,l,x,c);let w=this.calculateMaskPenalty(c);w<u&&(u=w,f=x)}return f}static chooseVersion(s,i){for(let l=1;l<=40;l++){const c=Ie.getVersionForNumber(l);if(Tt.willFit(s,c,i))return c}throw new bt("Data too big")}static willFit(s,i,l){const c=i.getTotalCodewords(),f=i.getECBlocksForLevel(l).getTotalECCodewords(),x=c-f,w=(s+7)/8;return x>=w}static terminateBits(s,i){const l=s*8;if(i.getSize()>l)throw new bt("data bits cannot fit in the QR Code"+i.getSize()+" > "+l);for(let f=0;f<4&&i.getSize()<l;++f)i.appendBit(!1);const c=i.getSize()&7;if(c>0)for(let f=c;f<8;f++)i.appendBit(!1);const u=s-i.getSizeInBytes();for(let f=0;f<u;++f)i.appendBits(f&1?17:236,8);if(i.getSize()!==l)throw new bt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,i,l,c,u,f){if(c>=l)throw new bt("Block ID too large");const x=s%l,w=l-x,b=Math.floor(s/l),A=b+1,O=Math.floor(i/l),M=O+1,U=b-O,z=A-M;if(U!==z)throw new bt("EC bytes mismatch");if(l!==w+x)throw new bt("RS blocks mismatch");if(s!==(O+U)*w+(M+z)*x)throw new bt("Total bytes mismatch");c<w?(u[0]=O,f[0]=U):(u[0]=M,f[0]=z)}static interleaveWithECBytes(s,i,l,c){if(s.getSizeInBytes()!==l)throw new bt("Number of bits and data bytes does not match");let u=0,f=0,x=0;const w=new Array;for(let A=0;A<c;++A){const O=new Int32Array(1),M=new Int32Array(1);Tt.getNumDataBytesAndNumECBytesForBlockID(i,l,c,A,O,M);const U=O[0],z=new Uint8Array(U);s.toBytes(8*u,z,0,U);const $=Tt.generateECBytes(z,M[0]);w.push(new xA(z,$)),f=Math.max(f,U),x=Math.max(x,$.length),u+=O[0]}if(l!==u)throw new bt("Data bytes does not match offset");const b=new D;for(let A=0;A<f;++A)for(const O of w){const M=O.getDataBytes();A<M.length&&b.appendBits(M[A],8)}for(let A=0;A<x;++A)for(const O of w){const M=O.getErrorCorrectionBytes();A<M.length&&b.appendBits(M[A],8)}if(i!==b.getSizeInBytes())throw new bt("Interleaving error: "+i+" and "+b.getSizeInBytes()+" differ.");return b}static generateECBytes(s,i){const l=s.length,c=new Int32Array(l+i);for(let f=0;f<l;f++)c[f]=s[f]&255;new nh(Ae.QR_CODE_FIELD_256).encode(c,i);const u=new Uint8Array(i);for(let f=0;f<i;f++)u[f]=c[l+f];return u}static appendModeInfo(s,i){i.appendBits(s.getBits(),4)}static appendLengthInfo(s,i,l,c){const u=l.getCharacterCountBits(i);if(s>=1<<u)throw new bt(s+" is bigger than "+((1<<u)-1));c.appendBits(s,u)}static appendBytes(s,i,l,c){switch(i){case Pe.NUMERIC:Tt.appendNumericBytes(s,l);break;case Pe.ALPHANUMERIC:Tt.appendAlphanumericBytes(s,l);break;case Pe.BYTE:Tt.append8BitBytes(s,l,c);break;case Pe.KANJI:Tt.appendKanjiBytes(s,l);break;default:throw new bt("Invalid mode: "+i)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const i=Tt.getDigit(s);return i>=0&&i<=9}static appendNumericBytes(s,i){const l=s.length;let c=0;for(;c<l;){const u=Tt.getDigit(s.charAt(c));if(c+2<l){const f=Tt.getDigit(s.charAt(c+1)),x=Tt.getDigit(s.charAt(c+2));i.appendBits(u*100+f*10+x,10),c+=3}else if(c+1<l){const f=Tt.getDigit(s.charAt(c+1));i.appendBits(u*10+f,7),c+=2}else i.appendBits(u,4),c++}}static appendAlphanumericBytes(s,i){const l=s.length;let c=0;for(;c<l;){const u=Tt.getAlphanumericCode(s.charCodeAt(c));if(u===-1)throw new bt;if(c+1<l){const f=Tt.getAlphanumericCode(s.charCodeAt(c+1));if(f===-1)throw new bt;i.appendBits(u*45+f,11),c+=2}else i.appendBits(u,6),c++}}static append8BitBytes(s,i,l){let c;try{c=te.encode(s,l)}catch(u){throw new bt(u)}for(let u=0,f=c.length;u!==f;u++){const x=c[u];i.appendBits(x,8)}}static appendKanjiBytes(s,i){let l;try{l=te.encode(s,j.SJIS)}catch(u){throw new bt(u)}const c=l.length;for(let u=0;u<c;u+=2){const f=l[u]&255,x=l[u+1]&255,w=f<<8&4294967295|x;let b=-1;if(w>=33088&&w<=40956?b=w-33088:w>=57408&&w<=60351&&(b=w-49472),b===-1)throw new bt("Invalid byte sequence");const A=(b>>8)*192+(b&255);i.appendBits(A,13)}}static appendECI(s,i){i.appendBits(Pe.ECI.getBits(),4),i.appendBits(s.getValue(),8)}}Tt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Tt.DEFAULT_BYTE_MODE_ENCODING=j.UTF8.getName();class Yi{write(s,i,l,c=null){if(s.length===0)throw new v("Found empty contents");if(i<0||l<0)throw new v("Requested dimensions are too small: "+i+"x"+l);let u=At.L,f=Yi.QUIET_ZONE_SIZE;c!==null&&(c.get(nn.ERROR_CORRECTION)!==void 0&&(u=At.fromString(c.get(nn.ERROR_CORRECTION).toString())),c.get(nn.MARGIN)!==void 0&&(f=Number.parseInt(c.get(nn.MARGIN).toString(),10)));const x=Tt.encode(s,u,c);return this.renderResult(x,i,l,f)}writeToDom(s,i,l,c,u=null){typeof s=="string"&&(s=document.querySelector(s));const f=this.write(i,l,c,u);s&&s.appendChild(f)}renderResult(s,i,l,c){const u=s.getMatrix();if(u===null)throw new Fe;const f=u.getWidth(),x=u.getHeight(),w=f+c*2,b=x+c*2,A=Math.max(i,w),O=Math.max(l,b),M=Math.min(Math.floor(A/w),Math.floor(O/b)),U=Math.floor((A-f*M)/2),z=Math.floor((O-x*M)/2),$=this.createSVGElement(A,O);for(let K=0,J=z;K<x;K++,J+=M)for(let le=0,ce=U;le<f;le++,ce+=M)if(u.get(le,K)===1){const oe=this.createSvgRectElement(ce,J,M,M);$.appendChild(oe)}return $}createSVGElement(s,i){const l=document.createElementNS(Yi.SVG_NS,"svg");return l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",i.toString()),l}createSvgRectElement(s,i,l,c){const u=document.createElementNS(Yi.SVG_NS,"rect");return u.setAttributeNS(null,"x",s.toString()),u.setAttributeNS(null,"y",i.toString()),u.setAttributeNS(null,"height",l.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}Yi.QUIET_ZONE_SIZE=4,Yi.SVG_NS="http://www.w3.org/2000/svg";class zo{encode(s,i,l,c,u){if(s.length===0)throw new v("Found empty contents");if(i!==de.QR_CODE)throw new v("Can only encode QR_CODE, but got "+i);if(l<0||c<0)throw new v(`Requested dimensions are too small: ${l}x${c}`);let f=At.L,x=zo.QUIET_ZONE_SIZE;u!==null&&(u.get(nn.ERROR_CORRECTION)!==void 0&&(f=At.fromString(u.get(nn.ERROR_CORRECTION).toString())),u.get(nn.MARGIN)!==void 0&&(x=Number.parseInt(u.get(nn.MARGIN).toString(),10)));const w=Tt.encode(s,f,u);return zo.renderResult(w,l,c,x)}static renderResult(s,i,l,c){const u=s.getMatrix();if(u===null)throw new Fe;const f=u.getWidth(),x=u.getHeight(),w=f+c*2,b=x+c*2,A=Math.max(i,w),O=Math.max(l,b),M=Math.min(Math.floor(A/w),Math.floor(O/b)),U=Math.floor((A-f*M)/2),z=Math.floor((O-x*M)/2),$=new re(A,O);for(let K=0,J=z;K<x;K++,J+=M)for(let le=0,ce=U;le<f;le++,ce+=M)u.get(le,K)===1&&$.setRegion(ce,J,M,M);return $}}zo.QUIET_ZONE_SIZE=4;class wA{encode(s,i,l,c,u){let f;switch(i){case de.QR_CODE:f=new zo;break;default:throw new v("No encoder available for format "+i)}return f.encode(s,i,l,c,u)}}class Jr extends Q{constructor(s,i,l,c,u,f,x,w){if(super(f,x),this.yuvData=s,this.dataWidth=i,this.dataHeight=l,this.left=c,this.top=u,c+f>i||u+x>l)throw new v("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(f,x)}getRow(s,i){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const l=this.getWidth();(i==null||i.length<l)&&(i=new Uint8ClampedArray(l));const c=(s+this.top)*this.dataWidth+this.left;return _.arraycopy(this.yuvData,c,i,0,l),i}getMatrix(){const s=this.getWidth(),i=this.getHeight();if(s===this.dataWidth&&i===this.dataHeight)return this.yuvData;const l=s*i,c=new Uint8ClampedArray(l);let u=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return _.arraycopy(this.yuvData,u,c,0,l),c;for(let f=0;f<i;f++){const x=f*s;_.arraycopy(this.yuvData,u,c,x,s),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(s,i,l,c){return new Jr(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+i,l,c,!1)}renderThumbnail(){const s=this.getWidth()/Jr.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/Jr.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(s*i),c=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let f=0;f<i;f++){const x=f*s;for(let w=0;w<s;w++){const b=c[u+w*Jr.THUMBNAIL_SCALE_FACTOR]&255;l[x+w]=4278190080|b*65793}u+=this.dataWidth*Jr.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/Jr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Jr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,i){const l=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<i;c++,u+=this.dataWidth){const f=u+s/2;for(let x=u,w=u+s-1;x<f;x++,w--){const b=l[x];l[x]=l[w],l[w]=b}}}invert(){return new ee(this)}}Jr.THUMBNAIL_SCALE_FACTOR=2;class rh extends Q{constructor(s,i,l,c,u,f,x){if(super(i,l),this.dataWidth=c,this.dataHeight=u,this.left=f,this.top=x,s.BYTES_PER_ELEMENT===4){const w=i*l,b=new Uint8ClampedArray(w);for(let A=0;A<w;A++){const O=s[A],M=O>>16&255,U=O>>7&510,z=O&255;b[A]=(M+U+z)/4&255}this.luminances=b}else this.luminances=s;if(c===void 0&&(this.dataWidth=i),u===void 0&&(this.dataHeight=l),f===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+l>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(s,i){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const l=this.getWidth();(i==null||i.length<l)&&(i=new Uint8ClampedArray(l));const c=(s+this.top)*this.dataWidth+this.left;return _.arraycopy(this.luminances,c,i,0,l),i}getMatrix(){const s=this.getWidth(),i=this.getHeight();if(s===this.dataWidth&&i===this.dataHeight)return this.luminances;const l=s*i,c=new Uint8ClampedArray(l);let u=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return _.arraycopy(this.luminances,u,c,0,l),c;for(let f=0;f<i;f++){const x=f*s;_.arraycopy(this.luminances,u,c,x,s),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(s,i,l,c){return new rh(this.luminances,l,c,this.dataWidth,this.dataHeight,this.left+s,this.top+i)}invert(){return new ee(this)}}class Gp extends j{static forName(s){return this.getCharacterSetECIByName(s)}}class sh{}sh.ISO_8859_1=j.ISO8859_1;class qp{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Xp{static singletonList(s){return[s]}static min(s,i){return s.sort(i)[0]}}class yA{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Ho extends yA{constructor(s,i,l){super(s),this.value=i,this.bitCount=l}appendTo(s,i){s.appendBits(this.value,this.bitCount)}add(s,i){return new Ho(this,s,i)}addBinaryShift(s,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ho(this,s,i)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+S.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class ih extends Ho{constructor(s,i,l){super(s,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=l}appendTo(s,i){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):l===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(i[this.binaryShiftStart+l],8)}addBinaryShift(s,i){return new ih(this,s,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function vA(R,s,i){return new ih(R,s,i)}function Sl(R,s,i){return new Ho(R,s,i)}const bA=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],$s=0,ou=1,xr=2,Kp=3,es=4,EA=new Ho(null,0,0),oh=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function CA(R){for(let s of R)N.fill(s,-1);return R[$s][es]=0,R[ou][es]=0,R[ou][$s]=28,R[Kp][es]=0,R[xr][es]=0,R[xr][$s]=15,R}const Yp=CA(N.createInt32Array(6,6));class ts{constructor(s,i,l,c){this.token=s,this.mode=i,this.binaryShiftByteCount=l,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,i){let l=this.bitCount,c=this.token;if(s!==this.mode){let f=oh[this.mode][s];c=Sl(c,f&65535,f>>16),l+=f>>16}let u=s===xr?4:5;return c=Sl(c,i,u),new ts(c,s,0,l+u)}shiftAndAppend(s,i){let l=this.token,c=this.mode===xr?4:5;return l=Sl(l,Yp[this.mode][s],c),l=Sl(l,i,5),new ts(l,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(s){let i=this.token,l=this.mode,c=this.bitCount;if(this.mode===es||this.mode===xr){let x=oh[l][$s];i=Sl(i,x&65535,x>>16),c+=x>>16,l=$s}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new ts(i,l,this.binaryShiftByteCount+1,c+u);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(s+1)),f}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=vA(i,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new ts(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let i=this.bitCount+(oh[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?i+=ts.calculateBinaryShiftCost(s)-ts.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(i+=10),i<=s.bitCount}toBitArray(s){let i=[];for(let c=this.endBinaryShift(s.length).token;c!==null;c=c.getPrevious())i.unshift(c);let l=new D;for(const c of i)c.appendTo(l,s);return l}toString(){return q.format("%s bits=%d bytes=%d",bA[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}ts.INITIAL_STATE=new ts(EA,$s,0,0);function SA(R){const s=q.getCharCode(" "),i=q.getCharCode("."),l=q.getCharCode(",");R[$s][s]=1;const c=q.getCharCode("Z"),u=q.getCharCode("A");for(let M=u;M<=c;M++)R[$s][M]=M-u+2;R[ou][s]=1;const f=q.getCharCode("z"),x=q.getCharCode("a");for(let M=x;M<=f;M++)R[ou][M]=M-x+2;R[xr][s]=1;const w=q.getCharCode("9"),b=q.getCharCode("0");for(let M=b;M<=w;M++)R[xr][M]=M-b+2;R[xr][l]=12,R[xr][i]=13;const A=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let M=0;M<A.length;M++)R[Kp][q.getCharCode(A[M])]=M;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let M=0;M<O.length;M++)q.getCharCode(O[M])>0&&(R[es][q.getCharCode(O[M])]=M);return R}const ah=SA(N.createInt32Array(5,256));class Al{constructor(s){this.text=s}encode(){const s=q.getCharCode(" "),i=q.getCharCode(`
`);let l=Xp.singletonList(ts.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let f,x=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case q.getCharCode("\r"):f=x===i?2:0;break;case q.getCharCode("."):f=x===s?3:0;break;case q.getCharCode(","):f=x===s?4:0;break;case q.getCharCode(":"):f=x===s?5:0;break;default:f=0}f>0?(l=Al.updateStateListForPair(l,u,f),u++):l=this.updateStateListForChar(l,u)}return Xp.min(l,(u,f)=>u.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,i){const l=[];for(let c of s)this.updateStateForChar(c,i,l);return Al.simplifyStates(l)}updateStateForChar(s,i,l){let c=this.text[i]&255,u=ah[s.getMode()][c]>0,f=null;for(let x=0;x<=es;x++){let w=ah[x][c];if(w>0){if(f==null&&(f=s.endBinaryShift(i)),!u||x===s.getMode()||x===xr){const b=f.latchAndAppend(x,w);l.push(b)}if(!u&&Yp[s.getMode()][x]>=0){const b=f.shiftAndAppend(x,w);l.push(b)}}}if(s.getBinaryShiftByteCount()>0||ah[s.getMode()][c]===0){let x=s.addBinaryShiftChar(i);l.push(x)}}static updateStateListForPair(s,i,l){const c=[];for(let u of s)this.updateStateForPair(u,i,l,c);return this.simplifyStates(c)}static updateStateForPair(s,i,l,c){let u=s.endBinaryShift(i);if(c.push(u.latchAndAppend(es,l)),s.getMode()!==es&&c.push(u.shiftAndAppend(es,l)),l===3||l===4){let f=u.latchAndAppend(xr,16-l).latchAndAppend(xr,1);c.push(f)}if(s.getBinaryShiftByteCount()>0){let f=s.addBinaryShiftChar(i).addBinaryShiftChar(i+1);c.push(f)}}static simplifyStates(s){let i=[];for(const l of s){let c=!0;for(const u of i){if(u.isBetterThanOrEqualTo(l)){c=!1;break}l.isBetterThanOrEqualTo(u)&&(i=i.filter(f=>f!==u))}c&&i.push(l)}return i}}class st{constructor(){}static encodeBytes(s){return st.encode(s,st.DEFAULT_EC_PERCENT,st.DEFAULT_AZTEC_LAYERS)}static encode(s,i,l){let c=new Al(s).encode(),u=S.truncDivision(c.getSize()*i,100)+11,f=c.getSize()+u,x,w,b,A,O;if(l!==st.DEFAULT_AZTEC_LAYERS){if(x=l<0,w=Math.abs(l),w>(x?st.MAX_NB_BITS_COMPACT:st.MAX_NB_BITS))throw new v(q.format("Illegal value %s for layers",l));b=st.totalBitsInLayer(w,x),A=st.WORD_SIZE[w];let oe=b-b%A;if(O=st.stuffBits(c,A),O.getSize()+u>oe)throw new v("Data to large for user specified layer");if(x&&O.getSize()>A*64)throw new v("Data to large for user specified layer")}else{A=0,O=null;for(let oe=0;;oe++){if(oe>st.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(x=oe<=3,w=x?oe+1:oe,b=st.totalBitsInLayer(w,x),f>b)continue;(O==null||A!==st.WORD_SIZE[w])&&(A=st.WORD_SIZE[w],O=st.stuffBits(c,A));let et=b-b%A;if(!(x&&O.getSize()>A*64)&&O.getSize()+u<=et)break}}let M=st.generateCheckWords(O,b,A),U=O.getSize()/A,z=st.generateModeMessage(x,w,U),$=(x?11:14)+w*4,K=new Int32Array($),J;if(x){J=$;for(let oe=0;oe<K.length;oe++)K[oe]=oe}else{J=$+1+2*S.truncDivision(S.truncDivision($,2)-1,15);let oe=S.truncDivision($,2),et=S.truncDivision(J,2);for(let We=0;We<oe;We++){let Wn=We+S.truncDivision(We,15);K[oe-We-1]=et-Wn-1,K[oe+We]=et+Wn+1}}let le=new re(J);for(let oe=0,et=0;oe<w;oe++){let We=(w-oe)*4+(x?9:12);for(let Wn=0;Wn<We;Wn++){let kr=Wn*2;for(let zn=0;zn<2;zn++)M.get(et+kr+zn)&&le.set(K[oe*2+zn],K[oe*2+Wn]),M.get(et+We*2+kr+zn)&&le.set(K[oe*2+Wn],K[$-1-oe*2-zn]),M.get(et+We*4+kr+zn)&&le.set(K[$-1-oe*2-zn],K[$-1-oe*2-Wn]),M.get(et+We*6+kr+zn)&&le.set(K[$-1-oe*2-Wn],K[oe*2+zn])}et+=We*8}if(st.drawModeMessage(le,x,J,z),x)st.drawBullsEye(le,S.truncDivision(J,2),5);else{st.drawBullsEye(le,S.truncDivision(J,2),7);for(let oe=0,et=0;oe<S.truncDivision($,2)-1;oe+=15,et+=16)for(let We=S.truncDivision(J,2)&1;We<J;We+=2)le.set(S.truncDivision(J,2)-et,We),le.set(S.truncDivision(J,2)+et,We),le.set(We,S.truncDivision(J,2)-et),le.set(We,S.truncDivision(J,2)+et)}let ce=new qp;return ce.setCompact(x),ce.setSize(J),ce.setLayers(w),ce.setCodeWords(U),ce.setMatrix(le),ce}static drawBullsEye(s,i,l){for(let c=0;c<l;c+=2)for(let u=i-c;u<=i+c;u++)s.set(u,i-c),s.set(u,i+c),s.set(i-c,u),s.set(i+c,u);s.set(i-l,i-l),s.set(i-l+1,i-l),s.set(i-l,i-l+1),s.set(i+l,i-l),s.set(i+l,i-l+1),s.set(i+l,i+l-1)}static generateModeMessage(s,i,l){let c=new D;return s?(c.appendBits(i-1,2),c.appendBits(l-1,6),c=st.generateCheckWords(c,28,4)):(c.appendBits(i-1,5),c.appendBits(l-1,11),c=st.generateCheckWords(c,40,4)),c}static drawModeMessage(s,i,l,c){let u=S.truncDivision(l,2);if(i)for(let f=0;f<7;f++){let x=u-3+f;c.get(f)&&s.set(x,u-5),c.get(f+7)&&s.set(u+5,x),c.get(20-f)&&s.set(x,u+5),c.get(27-f)&&s.set(u-5,x)}else for(let f=0;f<10;f++){let x=u-5+f+S.truncDivision(f,5);c.get(f)&&s.set(x,u-7),c.get(f+10)&&s.set(u+7,x),c.get(29-f)&&s.set(x,u+7),c.get(39-f)&&s.set(u-7,x)}}static generateCheckWords(s,i,l){let c=s.getSize()/l,u=new nh(st.getGF(l)),f=S.truncDivision(i,l),x=st.bitsToWords(s,l,f);u.encode(x,f-c);let w=i%l,b=new D;b.appendBits(0,w);for(const A of Array.from(x))b.appendBits(A,l);return b}static bitsToWords(s,i,l){let c=new Int32Array(l),u,f;for(u=0,f=s.getSize()/i;u<f;u++){let x=0;for(let w=0;w<i;w++)x|=s.get(u*i+w)?1<<i-w-1:0;c[u]=x}return c}static getGF(s){switch(s){case 4:return Ae.AZTEC_PARAM;case 6:return Ae.AZTEC_DATA_6;case 8:return Ae.AZTEC_DATA_8;case 10:return Ae.AZTEC_DATA_10;case 12:return Ae.AZTEC_DATA_12;default:throw new v("Unsupported word size "+s)}}static stuffBits(s,i){let l=new D,c=s.getSize(),u=(1<<i)-2;for(let f=0;f<c;f+=i){let x=0;for(let w=0;w<i;w++)(f+w>=c||s.get(f+w))&&(x|=1<<i-1-w);(x&u)===u?(l.appendBits(x&u,i),f--):x&u?l.appendBits(x,i):(l.appendBits(x|1,i),f--)}return l}static totalBitsInLayer(s,i){return((i?88:112)+16*s)*s}}st.DEFAULT_EC_PERCENT=33,st.DEFAULT_AZTEC_LAYERS=0,st.MAX_NB_BITS=32,st.MAX_NB_BITS_COMPACT=4,st.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class au{encode(s,i,l,c){return this.encodeWithHints(s,i,l,c,null)}encodeWithHints(s,i,l,c,u){let f=sh.ISO_8859_1,x=st.DEFAULT_EC_PERCENT,w=st.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(nn.CHARACTER_SET)&&(f=Gp.forName(u.get(nn.CHARACTER_SET).toString())),u.has(nn.ERROR_CORRECTION)&&(x=S.parseInt(u.get(nn.ERROR_CORRECTION).toString())),u.has(nn.AZTEC_LAYERS)&&(w=S.parseInt(u.get(nn.AZTEC_LAYERS).toString()))),au.encodeLayers(s,i,l,c,f,x,w)}static encodeLayers(s,i,l,c,u,f,x){if(i!==de.AZTEC)throw new v("Can only encode AZTEC, but got "+i);let w=st.encode(q.getBytes(s,u),f,x);return au.renderResult(w,l,c)}static renderResult(s,i,l){let c=s.getMatrix();if(c==null)throw new Fe;let u=c.getWidth(),f=c.getHeight(),x=Math.max(i,u),w=Math.max(l,f),b=Math.min(x/u,w/f),A=(x-u*b)/2,O=(w-f*b)/2,M=new re(x,w);for(let U=0,z=O;U<f;U++,z+=b)for(let $=0,K=A;$<u;$++,K+=b)c.get($,U)&&M.setRegion(K,z,b,b);return M}}n.AbstractExpandedDecoder=Gf,n.ArgumentException=y,n.ArithmeticException=Te,n.AztecCode=qp,n.AztecCodeReader=Rr,n.AztecCodeWriter=au,n.AztecDecoder=Ne,n.AztecDetector=ml,n.AztecDetectorResult=Fs,n.AztecEncoder=st,n.AztecHighLevelEncoder=Al,n.AztecPoint=Jt,n.BarcodeFormat=de,n.Binarizer=P,n.BinaryBitmap=C,n.BitArray=D,n.BitMatrix=re,n.BitSource=Yf,n.BrowserAztecCodeReader=hr,n.BrowserBarcodeReader=tA,n.BrowserCodeReader=we,n.BrowserDatamatrixCodeReader=rA,n.BrowserMultiFormatReader=gA,n.BrowserPDF417Reader=pA,n.BrowserQRCodeReader=mA,n.BrowserQRCodeSvgWriter=Yi,n.CharacterSetECI=j,n.ChecksumException=T,n.Code128Reader=ge,n.Code39Reader=en,n.DataMatrixDecodedBitStreamParser=Vs,n.DataMatrixReader=Ws,n.DecodeHintType=W,n.DecoderResult=ke,n.DefaultGridSampler=gn,n.DetectorResult=In,n.EAN13Reader=$i,n.EncodeHintType=nn,n.Exception=g,n.FormatException=F,n.GenericGF=Ae,n.GenericGFPoly=pe,n.GlobalHistogramBinarizer=fe,n.GridSampler=Bn,n.GridSamplerInstance=an,n.HTMLCanvasElementLuminanceSource=he,n.HybridBinarizer=ne,n.ITFReader=vt,n.IllegalArgumentException=v,n.IllegalStateException=Fe,n.InvertedLuminanceSource=ee,n.LuminanceSource=Q,n.MathUtils=_e,n.MultiFormatOneDReader=Vo,n.MultiFormatReader=$p,n.MultiFormatWriter=wA,n.NotFoundException=X,n.OneDReader=St,n.PDF417DecodedBitStreamParser=Z,n.PDF417DecoderErrorCorrection=Fp,n.PDF417Reader=mn,n.PDF417ResultMetadata=Vp,n.PerspectiveTransform=ut,n.PlanarYUVLuminanceSource=Jr,n.QRCodeByteMatrix=iu,n.QRCodeDataMask=pr,n.QRCodeDecodedBitStreamParser=jt,n.QRCodeDecoderErrorCorrectionLevel=At,n.QRCodeDecoderFormatInformation=En,n.QRCodeEncoder=Tt,n.QRCodeEncoderQRCode=Ki,n.QRCodeMaskUtil=zt,n.QRCodeMatrixUtil=Me,n.QRCodeMode=Pe,n.QRCodeReader=zs,n.QRCodeVersion=Ie,n.QRCodeWriter=zo,n.RGBLuminanceSource=rh,n.RSS14Reader=Wt,n.RSSExpandedReader=ie,n.ReaderException=su,n.ReedSolomonDecoder=Le,n.ReedSolomonEncoder=nh,n.ReedSolomonException=Ve,n.Result=Re,n.ResultMetadataType=xe,n.ResultPoint=ve,n.StringUtils=q,n.UnsupportedOperationException=G,n.VideoInputDevice=ue,n.WhiteRectangleDetector=Ct,n.WriterException=bt,n.ZXingArrays=N,n.ZXingCharset=Gp,n.ZXingInteger=S,n.ZXingStandardCharsets=sh,n.ZXingStringBuilder=se,n.ZXingStringEncoding=te,n.ZXingSystem=_,n.createAbstractExpandedDecoder=Lp,Object.defineProperty(n,"__esModule",{value:!0})})})(V1,V1.exports);var Ot=V1.exports;const BD=Kd(Ot),FD=Xw({__proto__:null,default:BD},[Ot]);var Ow=function(){function e(t,n,r){if(this.formatMap=new Map([[Ee.QR_CODE,Ot.BarcodeFormat.QR_CODE],[Ee.AZTEC,Ot.BarcodeFormat.AZTEC],[Ee.CODABAR,Ot.BarcodeFormat.CODABAR],[Ee.CODE_39,Ot.BarcodeFormat.CODE_39],[Ee.CODE_93,Ot.BarcodeFormat.CODE_93],[Ee.CODE_128,Ot.BarcodeFormat.CODE_128],[Ee.DATA_MATRIX,Ot.BarcodeFormat.DATA_MATRIX],[Ee.MAXICODE,Ot.BarcodeFormat.MAXICODE],[Ee.ITF,Ot.BarcodeFormat.ITF],[Ee.EAN_13,Ot.BarcodeFormat.EAN_13],[Ee.EAN_8,Ot.BarcodeFormat.EAN_8],[Ee.PDF_417,Ot.BarcodeFormat.PDF_417],[Ee.RSS_14,Ot.BarcodeFormat.RSS_14],[Ee.RSS_EXPANDED,Ot.BarcodeFormat.RSS_EXPANDED],[Ee.UPC_A,Ot.BarcodeFormat.UPC_A],[Ee.UPC_E,Ot.BarcodeFormat.UPC_E],[Ee.UPC_EAN_EXTENSION,Ot.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!FD)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var o=this.createZXingFormats(t),a=new Map;a.set(Ot.DecodeHintType.POSSIBLE_FORMATS,o),a.set(Ot.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,o){try{r(n.decode(t))}catch(a){o(a)}})},e.prototype.decode=function(t){var n=new Ot.MultiFormatReader(this.verbose,this.hints),r=new Ot.HTMLCanvasElementLuminanceSource(t),o=new Ot.BinaryBitmap(new Ot.HybridBinarizer(r)),a=n.decode(o);return{text:a.text,format:aS.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,o){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,o=t;r<o.length;r++){var a=o[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),UD=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?a(y.value):o(y.value).then(h,m)}g((r=r.apply(e,t||[])).next())})},VD=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,d;return d={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(g){return function(y){return m([g,y])}}function m(g){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(r=1,o&&(a=g[0]&2?o.return:g[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,g[1])).done)return a;switch(o=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],o=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},kw=function(){function e(t,n,r){if(this.formatMap=new Map([[Ee.QR_CODE,"qr_code"],[Ee.AZTEC,"aztec"],[Ee.CODABAR,"codabar"],[Ee.CODE_39,"code_39"],[Ee.CODE_93,"code_93"],[Ee.CODE_128,"code_128"],[Ee.DATA_MATRIX,"data_matrix"],[Ee.ITF,"itf"],[Ee.EAN_13,"ean_13"],[Ee.EAN_8,"ean_8"],[Ee.PDF_417,"pdf417"],[Ee.UPC_A,"upc_a"],[Ee.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var o=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(o),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return UD(this,void 0,void 0,function(){var n,r;return VD(this,function(o){switch(o.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=o.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:aS.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,o=0,a=t;o<a.length;o++){var d=a[o],h=d.boundingBox.width*d.boundingBox.height;h>r&&(r=h,n=d)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,o=t;r<o.length;r++){var a=o[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,o){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Pw=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?a(y.value):o(y.value).then(h,m)}g((r=r.apply(e,t||[])).next())})},Dw=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,d;return d={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(g){return function(y){return m([g,y])}}function m(g){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(r=1,o&&(a=g[0]&2?o.return:g[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,g[1])).done)return a;switch(o=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],o=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},WD=function(){function e(t,n,r,o){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&kw.isSupported()?(this.primaryDecoder=new kw(t,r,o),this.secondaryDecoder=new Ow(t,r,o)):this.primaryDecoder=new Ow(t,r,o)}return e.prototype.decodeAsync=function(t){return Pw(this,void 0,void 0,function(){var n;return Dw(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Pw(this,void 0,void 0,function(){var n,r;return Dw(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,o.sent()];case 3:if(r=o.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var o=r[n];t+=o}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Op=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qd=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?a(y.value):o(y.value).then(h,m)}g((r=r.apply(e,t||[])).next())})},Xd=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,d;return d={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(g){return function(y){return m([g,y])}}function m(g){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(r=1,o&&(a=g[0]&2?o.return:g[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,g[1])).done)return a;switch(o=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],o=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},cS=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),zD=function(e){Op(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var o={advanced:[r]};return this.track.applyConstraints(o)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(cS),HD=function(e){Op(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(zD),$D=function(e){Op(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(cS),GD=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new HD(this.track)},e.prototype.torchFeature=function(){return new $D(this.track)},e}(),qD=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,o=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,o),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,o){return qd(this,void 0,void 0,function(){var a,d;return Xd(this,function(h){switch(h.label){case 0:return a=new e(t,n,o),r.aspectRatio?(d={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:h.sent(),h.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return qd(this,void 0,void 0,function(){return Xd(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var o=t.mediaStream.getVideoTracks(),a=o.length,d=0;t.mediaStream.getVideoTracks().forEach(function(h){t.mediaStream.removeTrack(h),h.stop(),++d,d>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new GD(this.getFirstTrackOrFail())},e}(),XD=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return qd(this,void 0,void 0,function(){return Xd(this,function(o){return[2,qD.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return qd(this,void 0,void 0,function(){var n,r;return Xd(this,function(o){switch(o.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=o.sent(),[2,new e(r)]}})})},e}(),Mw=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?a(y.value):o(y.value).then(h,m)}g((r=r.apply(e,t||[])).next())})},jw=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,d;return d={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(g){return function(y){return m([g,y])}}function m(g){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(r=1,o&&(a=g[0]&2?o.return:g[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,g[1])).done)return a;switch(o=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],o=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},KD=function(){function e(){}return e.failIfNotSupported=function(){return Mw(this,void 0,void 0,function(){return jw(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Mw(this,void 0,void 0,function(){return jw(this,function(n){return[2,XD.create(t)]})})},e}(),YD=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?a(y.value):o(y.value).then(h,m)}g((r=r.apply(e,t||[])).next())})},QD=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,d;return d={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(g){return function(y){return m([g,y])}}function m(g){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(r=1,o&&(a=g[0]&2?o.return:g[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,g[1])).done)return a;switch(o=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],o=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},ZD=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=pa.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=pa.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return YD(this,void 0,void 0,function(){var t,n,r,o,a,d,h;return QD(this,function(m){switch(m.label){case 0:return t=function(g){for(var y=g.getVideoTracks(),v=0,C=y;v<C.length;v++){var T=C[v];T.enabled=!1,T.stop(),g.removeTrack(T)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=m.sent(),o=[],a=0,d=r;a<d.length;a++)h=d[a],h.kind==="videoinput"&&o.push({id:h.deviceId,label:h.label});return t(n),[2,o]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(a){for(var d=[],h=0,m=a;h<m.length;h++){var g=m[h];g.kind==="video"&&d.push({id:g.id,label:g.label})}t(d)},o=MediaStreamTrack;o.getSources(r)})},e}(),Lt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Lt||(Lt={}));var JD=function(){function e(){this.state=Lt.NOT_STARTED,this.onGoingTransactionNewState=Lt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Lt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Lt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Lt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Lt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Lt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Lt.UNKNOWN:throw"Transition from unknown is not allowed";case Lt.NOT_STARTED:this.failIfNewStateIs(t,[Lt.PAUSED]);break;case Lt.SCANNING:break;case Lt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,o=n;r<o.length;r++){var a=o[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),eM=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Lt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Lt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Lt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Lt.PAUSED},e}(),tM=function(){function e(){}return e.create=function(){return new eM(new JD)},e}(),nM=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),tr=function(e){nM(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(MD),rM=function(){function e(t,n){this.logger=n,this.fps=tr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=tr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?lS.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!vs(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),sM=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new LD(this.verbose),this.qrcode=new WD(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=tM.create()}return e.prototype.start=function(t,n,r,o){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;o?d=o:d=this.verbose?this.logger.log:function(){};var h=rM.create(n,this.logger);this.clearElement();var m=!1;h.videoConstraints&&(h.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=m,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:tr.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var v=this,C=this.stateManagerProxy.startTransition(Lt.SCANNING);return new Promise(function(T,P){var _=g?h.videoConstraints:v.createVideoConstraints(t);if(!_){C.cancel(),P("videoConstraints should be defined");return}var k={};(!g||h.aspectRatio)&&(k.aspectRatio=h.aspectRatio);var I={onRenderSurfaceReady:function(N,S){v.setupUi(N,S,h),v.isScanning=!0,v.foreverScan(h,r,d)}};KD.failIfNotSupported().then(function(N){N.create(_).then(function(S){return S.render(a.element,k,I).then(function(D){v.renderedCamera=D,C.execute(),T(null)}).catch(function(D){C.cancel(),P(D)})}).catch(function(S){C.cancel(),P(pa.errorGettingUserMedia(S))})}).catch(function(N){C.cancel(),P(pa.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Lt.PAUSED),this.showPausedState(),(vs(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Lt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Lt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById(tr.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},o=this;return this.renderedCamera.close().then(function(){return o.renderedCamera=null,o.element&&(o.element.removeChild(o.canvasElement),o.canvasElement=null),r(),o.qrRegion&&(o.qrRegion=null),o.context&&(o.context=null),n.execute(),o.hidePausedState(),o.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(vs(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(o,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var d=new Image;d.onload=function(){var h=d.width,m=d.height,g=document.getElementById(r.elementId),y=g.clientWidth?g.clientWidth:tr.DEFAULT_WIDTH,v=Math.max(g.clientHeight?g.clientHeight:m,tr.FILE_SCAN_MIN_HEIGHT),C=r.computeCanvasDrawConfig(h,m,y,v);if(n){var T=r.createCanvasElement(y,v,"qr-canvas-visible");T.style.display="inline-block",g.appendChild(T);var P=T.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=y,P.canvas.height=v,P.drawImage(d,0,0,h,m,C.x,C.y,C.width,C.height)}var _=tr.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(d.width,C.width),I=Math.max(d.height,C.height),N=k+2*_,S=I+2*_,D=r.createCanvasElement(N,S);g.appendChild(D);var V=D.getContext("2d");if(!V)throw"Unable to get 2d context from canvas";V.canvas.width=N,V.canvas.height=S,V.drawImage(d,0,0,h,m,_,_,k,I);try{r.qrcode.decodeRobustlyAsync(D).then(function(W){o(Rw.createFromQrcodeResult(W))}).catch(a)}catch(W){a("QR code parse error, error = ".concat(W))}},d.onerror=a,d.onabort=a,d.onstalled=a,d.onsuspend=a,d.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return ZD.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!lS.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Ee.QR_CODE,Ee.AZTEC,Ee.CODABAR,Ee.CODE_39,Ee.CODE_93,Ee.CODE_128,Ee.DATA_MATRIX,Ee.MAXICODE,Ee.ITF,Ee.EAN_13,Ee.EAN_8,Ee.PDF_417,Ee.RSS_14,Ee.RSS_EXPANDED,Ee.UPC_A,Ee.UPC_E,Ee.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],o=0,a=t.formatsToSupport;o<a.length;o++){var d=a[o];DD(d)?r.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(vs(t))return!0;if(!vs(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(vs(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return vs(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var o=this,a=r.qrbox;this.validateQrboxConfig(a);var d=this.toQrdimensions(t,n,a),h=function(g){if(g<tr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(tr.MIN_QR_BOX_SIZE,"px.")},m=function(g){return g>t&&(o.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=t),g};h(d.width),h(d.height),d.width=m(d.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(o){throw new Error("qrbox config was passed as a function but it failed with unknown error"+o)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var o=vs(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(o);var a=this.toQrdimensions(t,n,o);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=r.isShadedBoxEnabled()&&a.height<=n,h={x:0,y:0,width:t,height:n},m=d?this.getShadedRegionBounds(t,n,a):h,g=this.createCanvasElement(m.width,m.height),y={willReadFrequently:!0},v=g.getContext("2d",y);v.canvas.width=m.width,v.canvas.height=m.height,this.element.append(g),d&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=v,this.canvasElement=g},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=pa.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(o){return t(o.text,Rw.createFromQrcodeResult(o)),r.possiblyUpdateShaders(!0),!0}).catch(function(o){r.possiblyUpdateShaders(!1);var a=pa.codeParseError(o);return n(a,jD.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var o=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),d=a.videoWidth/a.clientWidth,h=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*d,g=this.qrRegion.height*h,y=this.qrRegion.x*d,v=this.qrRegion.y*h;this.context.drawImage(a,y,v,m,g,0,0,this.qrRegion.width,this.qrRegion.height);var C=function(){o.foreverScanTimeout=setTimeout(function(){o.foreverScan(t,n,r)},o.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(T){!T&&t.disableFlip!==!0?(o.context.translate(o.context.canvas.width,0),o.context.scale(-1,1),o.scanContext(n,r).finally(function(){C()})):C()}).catch(function(T){o.logger.logError("Error happend while scanning context",T),C()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",o={user:!0,environment:!0},a="exact",d=function(P){if(P in o)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(P,"'")},h=Object.keys(t);if(h.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(h.length," keys");var m=Object.keys(t)[0];if(m!==n&&m!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(m===n){var g=t.facingMode;if(typeof g=="string"){if(d(g))return{facingMode:g}}else if(typeof g=="object")if(a in g){if(d(g["".concat(a)]))return{facingMode:{exact:g["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var y=typeof g;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(a in v)return{deviceId:{exact:v["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var C=typeof v;throw"Invalid type of 'deviceId' = ".concat(C)}}}var T=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(T)},e.prototype.computeCanvasDrawConfig=function(t,n,r,o){if(t<=r&&n<=o){var a=(r-t)/2,d=(o-n)/2;return{x:a,y:d,width:t,height:n}}else{var h=t,m=n;return t>r&&(n=r/t*n,t=r),n>o&&(t=o/n*t,n=o),this.logger.log("Image downsampled from "+"".concat(h,"X").concat(m)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,o)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?tr.BORDER_SHADER_MATCH_COLOR:tr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var o=t,a=n,d=document.createElement("canvas");return d.style.width="".concat(o,"px"),d.style.height="".concat(a,"px"),d.style.display="none",d.id=vs(r)?"qr-canvas":r,d},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,o){if(!(n-o.width<1||r-o.height<1)){var a=document.createElement("div");a.style.position="absolute";var d=(n-o.width)/2,h=(r-o.height)/2;if(a.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(tr.SHADED_REGION_ELEMENT_ID),n-o.width<11||r-o.height<11)this.hasBorderShaders=!1;else{var m=5,g=40;this.insertShaderBorders(a,g,m,-m,null,0,!0),this.insertShaderBorders(a,g,m,-m,null,0,!1),this.insertShaderBorders(a,g,m,null,-m,0,!0),this.insertShaderBorders(a,g,m,null,-m,0,!1),this.insertShaderBorders(a,m,g+m,-m,null,-m,!0),this.insertShaderBorders(a,m,g+m,null,-m,-m,!0),this.insertShaderBorders(a,m,g+m,-m,null,-m,!1),this.insertShaderBorders(a,m,g+m,null,-m,-m,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,o,a,d,h){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=tr.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(n,"px"),m.style.height="".concat(r,"px"),o!==null&&(m.style.top="".concat(o,"px")),a!==null&&(m.style.bottom="".concat(a,"px")),h?m.style.left="".concat(d,"px"):m.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),t.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Lw;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Lw||(Lw={}));function iM({isOpen:e,onClose:t,onScan:n}){const r=E.useRef(null),o="html5qr-code-full-region",[a,d]=E.useState(null),h=async()=>{if(!r.current)try{r.current=new sM(o),await r.current.start({facingMode:"environment"},{fps:10},g=>{n(g),m(),t()},g=>{})}catch(g){console.error(g),d("Não foi possível acessar a câmera.")}},m=async()=>{var g,y,v;((g=r.current)==null?void 0:g.getState())===Lt.SCANNING&&await((y=r.current)==null?void 0:y.stop()),(v=r.current)==null||v.clear(),r.current=null};return E.useEffect(()=>{let g;const y=()=>{document.getElementById(o)?h():g=requestAnimationFrame(y)};return e?y():m(),()=>{cancelAnimationFrame(g),m()}},[e]),p.jsx(Xc,{open:e,onOpenChange:t,children:p.jsxs(fl,{className:"max-w-md",children:[p.jsxs(Kc,{children:[p.jsxs(Yc,{className:"flex items-center gap-2",children:[p.jsx(ab,{className:"h-5 w-5"}),"Escanear Código"]}),p.jsx(Rf,{children:"Suporta QR code e códigos de barras comuns."})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{id:o,className:"relative aspect-square bg-black rounded-lg overflow-hidden"}),a&&p.jsx("p",{className:"text-sm text-red-600 bg-red-50 p-3 rounded",children:a}),p.jsxs(He,{variant:"outline",onClick:()=>{m(),t()},className:"w-full flex items-center justify-center gap-2",children:[p.jsx(ll,{className:"h-4 w-4"}),"Fechar"]})]})]})})}function oM(){const{profile:e,company:t}=Jn(),{isMobileOrTablet:n,isDesktop:r}=BE(),o=E.useContext(TE),[a,d]=E.useState(""),[h,m]=E.useState("all"),[g,y]=E.useState("all"),[v,C]=E.useState(!1),{assets:T,loading:P,loadingMore:_,hasMore:k,loadMore:I,locations:N}=Xk({search:a,statusFilter:h,locationFilter:g}),{exportLoading:S,exportToCSV:D}=Yk(),{showScrollToTop:V,scrollToTop:W}=Qk(o==null?void 0:o.current),F=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="editor",L=G=>{d(G)},j=()=>{D({search:a,statusFilter:h,locationFilter:g,companyName:t.name})};return p.jsxs("div",{id:"assets-scroll-container",className:"space-y-6 pb-10 overflow-y-auto",children:[S&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",children:p.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600"})}),p.jsx(J5,{canEdit:F,isMobileOrTablet:n,isDesktop:r,loading:P,exportLoading:S,onScannerOpen:()=>C(!0),onExportCSV:j}),p.jsx(RD,{search:a,statusFilter:h,locationFilter:g,locations:N,onSearchChange:d,onStatusFilterChange:m,onLocationFilterChange:y}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:p.jsx(PD,{assets:T,loading:P,loadingMore:_,hasMore:k,canEdit:F,isDesktop:r,onLoadMore:I})}),V&&p.jsx(He,{onClick:W,className:"fixed bottom-6 right-6 z-50 rounded-full w-12 h-12 shadow-lg hover:shadow-xl transition-all duration-200",size:"icon",children:p.jsx(_8,{className:"h-5 w-5"})}),p.jsx(iM,{isOpen:v,onClose:()=>C(!1),onScan:L})]})}var uS="AlertDialog",[aM,l7]=Mo(uS,[lE]),Bs=lE(),dS=e=>{const{__scopeAlertDialog:t,...n}=e,r=Bs(t);return p.jsx(hp,{...r,...n,modal:!0})};dS.displayName=uS;var lM="AlertDialogTrigger",fS=E.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Bs(n);return p.jsx(gp,{...o,...r,ref:t})});fS.displayName=lM;var cM="AlertDialogPortal",hS=e=>{const{__scopeAlertDialog:t,...n}=e,r=Bs(t);return p.jsx(pp,{...r,...n})};hS.displayName=cM;var uM="AlertDialogOverlay",gS=E.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Bs(n);return p.jsx(Hc,{...o,...r,ref:t})});gS.displayName=uM;var Ra="AlertDialogContent",[dM,fM]=aM(Ra),pS=E.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,a=Bs(n),d=E.useRef(null),h=xt(t,d),m=E.useRef(null);return p.jsx(VR,{contentName:Ra,titleName:mS,docsSlug:"alert-dialog",children:p.jsx(dM,{scope:n,cancelRef:m,children:p.jsxs($c,{role:"alertdialog",...a,...o,ref:h,onOpenAutoFocus:Ue(o.onOpenAutoFocus,g=>{var y;g.preventDefault(),(y=m.current)==null||y.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[p.jsx(Hg,{children:r}),p.jsx(gM,{contentRef:d})]})})})});pS.displayName=Ra;var mS="AlertDialogTitle",xS=E.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Bs(n);return p.jsx(Gc,{...o,...r,ref:t})});xS.displayName=mS;var wS="AlertDialogDescription",yS=E.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Bs(n);return p.jsx(qc,{...o,...r,ref:t})});yS.displayName=wS;var hM="AlertDialogAction",vS=E.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Bs(n);return p.jsx(Nf,{...o,...r,ref:t})});vS.displayName=hM;var bS="AlertDialogCancel",ES=E.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=fM(bS,n),a=Bs(n),d=xt(t,o);return p.jsx(Nf,{...a,...r,ref:d})});ES.displayName=bS;var gM=({contentRef:e})=>{const t=`\`${Ra}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ra}\` by passing a \`${wS}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ra}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},pM=dS,mM=fS,xM=hS,CS=gS,SS=pS,AS=vS,_S=ES,NS=xS,TS=yS;const wM=pM,yM=mM,vM=xM,IS=E.forwardRef(({className:e,...t},n)=>p.jsx(CS,{className:De("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));IS.displayName=CS.displayName;const RS=E.forwardRef(({className:e,...t},n)=>p.jsxs(vM,{children:[p.jsx(IS,{}),p.jsx(SS,{ref:n,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));RS.displayName=SS.displayName;const OS=({className:e,...t})=>p.jsx("div",{className:De("flex flex-col space-y-2 text-center sm:text-left",e),...t});OS.displayName="AlertDialogHeader";const kS=({className:e,...t})=>p.jsx("div",{className:De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});kS.displayName="AlertDialogFooter";const PS=E.forwardRef(({className:e,...t},n)=>p.jsx(NS,{ref:n,className:De("text-lg font-semibold",e),...t}));PS.displayName=NS.displayName;const DS=E.forwardRef(({className:e,...t},n)=>p.jsx(TS,{ref:n,className:De("text-sm text-muted-foreground",e),...t}));DS.displayName=TS.displayName;const MS=E.forwardRef(({className:e,...t},n)=>p.jsx(AS,{ref:n,className:De(op(),e),...t}));MS.displayName=AS.displayName;const jS=E.forwardRef(({className:e,...t},n)=>p.jsx(_S,{ref:n,className:De(op({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));jS.displayName=_S.displayName;function bM(){const{id:e}=I2(),t=Ls(),{profile:n}=Jn(),{toast:r}=qr(),o=Ui(),{data:a,isLoading:d}=Qa({queryKey:["asset",e],queryFn:async()=>{if(!e)throw new Error("Asset ID is required");const{data:T,error:P}=await ct.from("assets").select("*").eq("id",e).single();if(P)throw P;return T},enabled:!!e}),h=ki({mutationFn:async()=>{if(!e)throw new Error("Asset ID is required");const{error:T}=await ct.from("assets").delete().eq("id",e);if(T)throw T},onSuccess:()=>{o.invalidateQueries({queryKey:["assets"]}),o.invalidateQueries({queryKey:["dashboard-stats"]}),o.invalidateQueries({queryKey:["recent-assets"]}),r({title:"Ativo deletado com sucesso!",description:"O ativo foi removido do sistema"}),t("/assets")},onError:T=>{r({title:"Erro ao deletar ativo",description:T.message||"Erro ao deletar o ativo",variant:"destructive"})}}),m=()=>{h.mutate()},g=T=>{const P={ativo:"bg-green-100 text-green-800",manutenção:"bg-yellow-100 text-yellow-800",baixado:"bg-red-100 text-red-800"};return p.jsx(Ar,{className:P[T],children:T.toLocaleUpperCase()})},y=T=>{switch(T){case"ativo":return p.jsx(Yt,{className:"h-5 w-5 text-green-600"});case"manutenção":return p.jsx(Cc,{className:"h-5 w-5 text-yellow-600"});case"baixado":return p.jsx(Yt,{className:"h-5 w-5 text-red-600"});default:return p.jsx(Yt,{className:"h-5 w-5 text-gray-600"})}},v=(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="editor",C=(n==null?void 0:n.role)==="admin";return d?p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"flex items-center space-x-4",children:p.jsxs(He,{variant:"ghost",onClick:()=>t("/assets"),children:[p.jsx(mo,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),p.jsx("div",{className:"animate-pulse max-w-4xl",children:p.jsx(ft,{className:"border-0 shadow-md",children:p.jsxs(ht,{className:"p-8",children:[p.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),p.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-8"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[p.jsx("div",{className:"space-y-4",children:Array.from({length:4}).map((T,P)=>p.jsx("div",{className:"h-12 bg-gray-200 rounded"},P))}),p.jsx("div",{className:"space-y-4",children:Array.from({length:4}).map((T,P)=>p.jsx("div",{className:"h-12 bg-gray-200 rounded"},P))})]})]})})})]}):a?p.jsxs("div",{className:"space-y-6 max-w-6xl pb-10",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs(He,{variant:"ghost",onClick:()=>t("/assets"),children:[p.jsx(mo,{className:"h-4 w-4 mr-2"}),"Voltar"]}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:a.name}),p.jsx("p",{className:"mt-2 text-gray-600",children:"Detalhes do ativo"})]})]}),v&&p.jsxs("div",{className:"flex gap-2",children:[p.jsx(He,{asChild:!0,children:p.jsxs(Ao,{to:`/assets/${a.id}/edit`,children:[p.jsx(gb,{className:"h-4 w-4 mr-2"}),"Editar"]})}),C&&p.jsxs(wM,{children:[p.jsx(yM,{asChild:!0,children:p.jsxs(He,{variant:"destructive",children:[p.jsx(j8,{className:"h-4 w-4 mr-2"}),"Apagar"]})}),p.jsxs(RS,{children:[p.jsxs(OS,{children:[p.jsx(PS,{children:"Confirmar exclusão"}),p.jsxs(DS,{children:['Tem certeza que deseja apagar o ativo "',a.name,'"? Esta ação não pode ser desfeita e todos os dados do ativo serão perdidos permanentemente.']})]}),p.jsxs(kS,{children:[p.jsx(jS,{children:"Cancelar"}),p.jsx(MS,{onClick:m,className:"bg-red-600 hover:bg-red-700",disabled:h.isPending,children:h.isPending?"Deletando...":"Deletar Ativo"})]})]})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[p.jsxs(ft,{className:"border-0 shadow-md",children:[p.jsx(Zt,{children:p.jsxs(Xt,{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[y(a.status),p.jsx("span",{className:"ml-3",children:"Informações Básicas"})]}),g(a.status)]})}),p.jsxs(ht,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(kx,{className:"h-5 w-5 text-gray-400"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Código"}),p.jsx("p",{className:"text-lg text-gray-900",children:a.code})]})]}),a.serial_number&&p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(kx,{className:"h-5 w-5 text-gray-400"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Número de Série"}),p.jsx("p",{className:"text-lg text-gray-900",children:a.serial_number})]})]}),a.location&&p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(Zg,{className:"h-5 w-5 text-gray-400"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Localização"}),p.jsx("p",{className:"text-lg text-gray-900",children:a.location})]})]}),a.holder&&p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(L8,{className:"h-5 w-5 text-gray-400"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Detentor"}),p.jsx("p",{className:"text-lg text-gray-900",children:a.holder})]})]})]})]}),(a.manufacturer||a.model||a.color||a.capacity||a.voltage||a.condition)&&p.jsxs(ft,{className:"border-0 shadow-md",children:[p.jsx(Zt,{children:p.jsxs(Xt,{className:"flex items-center",children:[p.jsx(Ox,{className:"h-5 w-5 mr-3 text-blue-600"}),"Especificações Técnicas"]})}),p.jsxs(ht,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.manufacturer&&p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(Yt,{className:"h-5 w-5 text-gray-400"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Fabricante"}),p.jsx("p",{className:"text-lg text-gray-900",children:a.manufacturer})]})]}),a.model&&p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(Yt,{className:"h-5 w-5 text-gray-400"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Modelo"}),p.jsx("p",{className:"text-lg text-gray-900",children:a.model})]})]}),a.color&&p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(D8,{className:"h-5 w-5 text-gray-400"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Cor"}),p.jsx("p",{className:"text-lg text-gray-900",children:a.color})]})]}),a.capacity&&p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(Ox,{className:"h-5 w-5 text-gray-400"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Capacidade"}),p.jsx("p",{className:"text-lg text-gray-900",children:a.capacity})]})]}),a.voltage&&p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(F8,{className:"h-5 w-5 text-gray-400"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Voltagem"}),p.jsx("p",{className:"text-lg text-gray-900",children:a.voltage})]})]}),a.condition&&p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(Yt,{className:"h-5 w-5 text-gray-400"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Condições"}),p.jsx("p",{className:"text-lg text-gray-900",children:a.condition})]})]})]})]}),a.notes&&p.jsxs(ft,{className:"border-0 shadow-md",children:[p.jsx(Zt,{children:p.jsxs(Xt,{className:"flex items-center",children:[p.jsx(xf,{className:"h-5 w-5 mr-3 text-blue-600"}),"Observações"]})}),p.jsx(ht,{children:p.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:a.notes})})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs(ft,{className:"border-0 shadow-md",children:[p.jsx(Zt,{children:p.jsxs(Xt,{className:"flex items-center",children:[p.jsx(Yg,{className:"h-5 w-5 mr-3 text-green-600"}),"Informações Financeiras"]})}),p.jsxs(ht,{className:"space-y-4",children:[a.value&&p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor"}),p.jsx("p",{className:"text-2xl font-semibold text-green-700",children:Pd(a.value)})]}),a.origin&&p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Origem"}),p.jsx("p",{className:"text-lg text-gray-900 capitalize",children:a.origin})]}),a.inalienable&&p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Cc,{className:"h-5 w-5 text-orange-500"}),p.jsx("span",{className:"text-sm font-medium text-orange-700",children:"Inalienável"})]})]})]}),p.jsxs(ft,{className:"border-0 shadow-md",children:[p.jsx(Zt,{children:p.jsxs(Xt,{className:"flex items-center",children:[p.jsx(Kg,{className:"h-5 w-5 mr-3 text-blue-600"}),"Datas"]})}),p.jsxs(ht,{className:"space-y-4",children:[a.acquisition_date&&p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Data de Aquisição"}),p.jsx("p",{className:"text-lg text-gray-900",children:Na(new Date(a.acquisition_date+"T00:00:00"),"dd/MM/yyyy",{locale:Ta})})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Adicionado em"}),p.jsx("p",{className:"text-lg text-gray-900",children:Na(new Date(a.created_at),"dd/MM/yyyy HH:mm",{locale:Ta})})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Última atualização"}),p.jsx("p",{className:"text-lg text-gray-900",children:Na(new Date(a.updated_at),"dd/MM/yyyy HH:mm",{locale:Ta})})]}),a.updated_by_user_name&&p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Modificado por"}),p.jsx("p",{className:"text-sm text-gray-900",children:a.updated_by_user_name})]})]})]})]})]})]}):p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"flex items-center space-x-4",children:p.jsxs(He,{variant:"ghost",onClick:()=>t("/assets"),children:[p.jsx(mo,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),p.jsx(ft,{className:"border-0 shadow-md",children:p.jsxs(ht,{className:"text-center py-12",children:[p.jsx(Yt,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ativo não encontrado"}),p.jsx("p",{className:"text-gray-600",children:"O ativo solicitado não existe ou foi removido"})]})})]})}const LS=E.forwardRef(({className:e,...t},n)=>p.jsx("textarea",{className:De("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));LS.displayName="Textarea";var kp="Checkbox",[EM,c7]=Mo(kp),[CM,SM]=EM(kp),BS=E.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:a,required:d,disabled:h,value:m="on",onCheckedChange:g,form:y,...v}=e,[C,T]=E.useState(null),P=xt(t,D=>T(D)),_=E.useRef(!1),k=C?y||!!C.closest("form"):!0,[I=!1,N]=No({prop:o,defaultProp:a,onChange:g}),S=E.useRef(I);return E.useEffect(()=>{const D=C==null?void 0:C.form;if(D){const V=()=>N(S.current);return D.addEventListener("reset",V),()=>D.removeEventListener("reset",V)}},[C,N]),p.jsxs(CM,{scope:n,state:I,disabled:h,children:[p.jsx(Ye.button,{type:"button",role:"checkbox","aria-checked":Ii(I)?"mixed":I,"aria-required":d,"data-state":VS(I),"data-disabled":h?"":void 0,disabled:h,value:m,...v,ref:P,onKeyDown:Ue(e.onKeyDown,D=>{D.key==="Enter"&&D.preventDefault()}),onClick:Ue(e.onClick,D=>{N(V=>Ii(V)?!0:!V),k&&(_.current=D.isPropagationStopped(),_.current||D.stopPropagation())})}),k&&p.jsx(AM,{control:C,bubbles:!_.current,name:r,value:m,checked:I,required:d,disabled:h,form:y,style:{transform:"translateX(-100%)"},defaultChecked:Ii(a)?!1:a})]})});BS.displayName=kp;var FS="CheckboxIndicator",US=E.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,a=SM(FS,n);return p.jsx(jo,{present:r||Ii(a.state)||a.state===!0,children:p.jsx(Ye.span,{"data-state":VS(a.state),"data-disabled":a.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});US.displayName=FS;var AM=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:o,...a}=e,d=E.useRef(null),h=Ip(n),m=Cp(t);E.useEffect(()=>{const y=d.current,v=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(v,"checked").set;if(h!==n&&T){const P=new Event("click",{bubbles:r});y.indeterminate=Ii(n),T.call(y,Ii(n)?!1:n),y.dispatchEvent(P)}},[h,n,r]);const g=E.useRef(Ii(n)?!1:n);return p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,...a,tabIndex:-1,ref:d,style:{...e.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ii(e){return e==="indeterminate"}function VS(e){return Ii(e)?"indeterminate":e?"checked":"unchecked"}var WS=BS,_M=US;const zS=E.forwardRef(({className:e,...t},n)=>p.jsx(WS,{ref:n,className:De("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:p.jsx(_M,{className:De("flex items-center justify-center text-current"),children:p.jsx(lb,{className:"h-4 w-4"})})}));zS.displayName=WS.displayName;function HS({asset:e,onSubmit:t,isSubmitting:n,submitLabel:r}){var m;const[o,a]=E.useState({name:(e==null?void 0:e.name)||"",code:(e==null?void 0:e.code)||"",location:(e==null?void 0:e.location)||"",status:(e==null?void 0:e.status)||"ativo",acquisition_date:(e==null?void 0:e.acquisition_date)||"",value:((m=e==null?void 0:e.value)==null?void 0:m.toString())||"",serial_number:(e==null?void 0:e.serial_number)||"",color:(e==null?void 0:e.color)||"",manufacturer:(e==null?void 0:e.manufacturer)||"",model:(e==null?void 0:e.model)||"",capacity:(e==null?void 0:e.capacity)||"",voltage:(e==null?void 0:e.voltage)||"",origin:(e==null?void 0:e.origin)||"",condition:(e==null?void 0:e.condition)||"",inalienable:(e==null?void 0:e.inalienable)||!1,holder:(e==null?void 0:e.holder)||"",notes:(e==null?void 0:e.notes)||""}),d=g=>{g.preventDefault(),t(o)},h=(g,y)=>{a(v=>({...v,[g]:y}))};return p.jsxs("form",{onSubmit:d,className:"space-y-6",children:[p.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Básicas"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"name",children:"Nome do Ativo *"}),p.jsx(yt,{id:"name",value:o.name,onChange:g=>h("name",g.target.value),placeholder:"Ex: Notebook Dell",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"code",children:"Código do Ativo *"}),p.jsx(yt,{id:"code",value:o.code,onChange:g=>h("code",g.target.value),placeholder:"Ex: NB001",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"serial_number",children:"Número de Série"}),p.jsx(yt,{id:"serial_number",value:o.serial_number,onChange:g=>h("serial_number",g.target.value),placeholder:"Ex: SN123456789"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"status",children:"Status"}),p.jsxs(Hd,{value:o.status,onValueChange:g=>h("status",g),children:[p.jsx(Tc,{children:p.jsx($d,{})}),p.jsxs(Ic,{children:[p.jsx(ir,{value:"ativo",children:p.jsx(Ar,{className:"bg-green-100 text-green-800",children:"ATIVO"})}),p.jsx(ir,{value:"manutenção",children:p.jsx(Ar,{className:"bg-yellow-100 text-yellow-800",children:"MANUTENÇÃO"})}),p.jsx(ir,{value:"baixado",children:p.jsx(Ar,{className:"bg-red-100 text-red-800",children:"BAIXADO"})})]})]})]})]})]}),p.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Especificações Técnicas"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"manufacturer",children:"Fabricante"}),p.jsx(yt,{id:"manufacturer",value:o.manufacturer,onChange:g=>h("manufacturer",g.target.value),placeholder:"Ex: Dell, HP, Samsung"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"model",children:"Modelo"}),p.jsx(yt,{id:"model",value:o.model,onChange:g=>h("model",g.target.value),placeholder:"Ex: Inspiron 15 3000"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"color",children:"Cor"}),p.jsx(yt,{id:"color",value:o.color,onChange:g=>h("color",g.target.value),placeholder:"Ex: Preto, Branco, Prata"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"capacity",children:"Capacidade"}),p.jsx(yt,{id:"capacity",value:o.capacity,onChange:g=>h("capacity",g.target.value),placeholder:"Ex: 500GB, 8GB RAM"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"voltage",children:"Voltagem"}),p.jsx(yt,{id:"voltage",value:o.voltage,onChange:g=>h("voltage",g.target.value),placeholder:"Ex: 110V, 220V, Bivolt"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"condition",children:"Condições"}),p.jsx(yt,{id:"condition",value:o.condition,onChange:g=>h("condition",g.target.value),placeholder:"Ex: Novo, Usado, Bom estado"})]})]})]}),p.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Localização e Patrimônio"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"location",children:"Localização"}),p.jsx(yt,{id:"location",value:o.location,onChange:g=>h("location",g.target.value),placeholder:"Ex: Sala 201, Almoxarifado"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"holder",children:"Detentor"}),p.jsx(yt,{id:"holder",value:o.holder,onChange:g=>h("holder",g.target.value),placeholder:"Ex: João Silva, Setor TI"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"origin",children:"Origem"}),p.jsx(yt,{id:"origin",value:o.origin,onChange:g=>h("origin",g.target.value),placeholder:"Ex: Compra, Doação, Transferência"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"acquisition_date",children:"Data de Aquisição"}),p.jsx(yt,{id:"acquisition_date",type:"date",value:o.acquisition_date,onChange:g=>h("acquisition_date",g.target.value)})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"value",children:"Valor (R$)"}),p.jsx(yt,{id:"value",type:"number",step:"0.01",value:o.value,onChange:g=>h("value",g.target.value),placeholder:"0,00"})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(zS,{id:"inalienable",checked:o.inalienable,onCheckedChange:g=>h("inalienable",g)}),p.jsx(lt,{htmlFor:"inalienable",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Inalienável"})]})]})]}),p.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Observações"}),p.jsx("div",{className:"space-y-2",children:p.jsx(LS,{id:"notes",value:o.notes,onChange:g=>h("notes",g.target.value),placeholder:"Observações adicionais sobre o ativo...",rows:4})})]}),p.jsx("div",{className:"flex space-x-4",children:p.jsx(He,{type:"submit",disabled:n,className:"flex-1",children:n?"Salvando...":r})})]})}function NM(){const e=Ls(),{profile:t}=Jn(),{toast:n}=qr(),r=Ui(),[o,a]=E.useState(""),d=ki({mutationFn:async m=>{if(!(t!=null&&t.company_id))throw new Error("Company ID not found");const{error:g}=await ct.from("assets").insert({name:m.name,code:m.code,location:m.location||null,status:m.status,acquisition_date:m.acquisition_date||null,value:m.value?parseFloat(m.value):null,serial_number:m.serial_number||null,color:m.color||null,manufacturer:m.manufacturer||null,model:m.model||null,capacity:m.capacity||null,voltage:m.voltage||null,origin:m.origin&&m.origin!=="nao_informado"?m.origin:null,condition:m.condition||null,inalienable:m.inalienable,holder:m.holder||null,notes:m.notes||null,company_id:t.company_id});if(g)throw g},onSuccess:()=>{r.invalidateQueries({queryKey:["assets"]}),r.invalidateQueries({queryKey:["dashboard-stats"]}),r.invalidateQueries({queryKey:["recent-assets"]}),n({title:"Ativo criado com sucesso!",description:"O ativo foi adicionado ao sistema"}),e("/assets")},onError:m=>{a(m.message||"Erro ao criar ativo")}}),h=m=>{if(a(""),!m.name||!m.code){a("Nome e código são obrigatórios");return}d.mutate(m)};return p.jsxs("div",{className:"space-y-6 pb-10",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs(He,{variant:"ghost",onClick:()=>e("/assets"),children:[p.jsx(mo,{className:"h-4 w-4 mr-2"}),"Voltar"]}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Novo Ativo"}),p.jsx("p",{className:"mt-2 text-gray-600",children:"Adicionar um novo ativo ao patrimônio da empresa"})]})]}),p.jsxs("div",{className:"max-w-4xl",children:[o&&p.jsx(Tr,{variant:"destructive",className:"mb-6",children:p.jsx(Ir,{children:o})}),p.jsx(HS,{onSubmit:h,isSubmitting:d.isPending,submitLabel:"Salvar Ativo"})]})]})}function TM(){const{id:e}=I2(),t=Ls(),{profile:n}=Jn(),{toast:r}=qr(),o=Ui(),[a,d]=E.useState(""),{data:h,isLoading:m}=Qa({queryKey:["asset",e],queryFn:async()=>{if(!e)throw new Error("Asset ID is required");const{data:v,error:C}=await ct.from("assets").select("*").eq("id",e).single();if(C)throw C;return v},enabled:!!e}),g=ki({mutationFn:async v=>{if(!e)throw new Error("Asset ID is required");if(!(n!=null&&n.company_id))throw new Error("Company ID not found");const{error:C}=await ct.from("assets").update({name:v.name,code:v.code,location:v.location||null,status:v.status,acquisition_date:v.acquisition_date||null,value:v.value?parseFloat(v.value):null,serial_number:v.serial_number||null,color:v.color||null,manufacturer:v.manufacturer||null,model:v.model||null,capacity:v.capacity||null,voltage:v.voltage||null,origin:v.origin||null,condition:v.condition||null,inalienable:v.inalienable,holder:v.holder||null,notes:v.notes||null}).eq("id",e);if(C)throw C},onSuccess:()=>{o.invalidateQueries({queryKey:["asset",e]}),o.invalidateQueries({queryKey:["assets"]}),o.invalidateQueries({queryKey:["dashboard-stats"]}),o.invalidateQueries({queryKey:["recent-assets"]}),r({title:"Ativo atualizado com sucesso!",description:"As alterações foram salvas"}),t(`/assets/${e}`)},onError:v=>{d(v.message||"Erro ao atualizar ativo")}}),y=v=>{if(d(""),!v.name||!v.code){d("Nome e código são obrigatórios");return}g.mutate(v)};return m?p.jsxs("div",{className:"space-y-6 pb-10",children:[p.jsx("div",{className:"flex items-center space-x-4",children:p.jsxs(He,{variant:"ghost",onClick:()=>t("/assets"),children:[p.jsx(mo,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),p.jsxs("div",{className:"animate-pulse max-w-4xl",children:[p.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),p.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-8"}),p.jsx("div",{className:"space-y-4",children:Array.from({length:6}).map((v,C)=>p.jsx("div",{className:"h-12 bg-gray-200 rounded"},C))})]})]}):h?p.jsxs("div",{className:"space-y-6 pb-10",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs(He,{variant:"ghost",onClick:()=>t(`/assets/${e}`),children:[p.jsx(mo,{className:"h-4 w-4 mr-2"}),"Voltar"]}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Editar Ativo"}),p.jsxs("p",{className:"mt-2 text-gray-600",children:["Modificar informações de ",p.jsx("strong",{children:h.name})]})]})]}),p.jsxs("div",{className:"max-w-4xl",children:[a&&p.jsx(Tr,{variant:"destructive",className:"mb-6",children:p.jsx(Ir,{children:a})}),p.jsx(HS,{asset:h,onSubmit:y,isSubmitting:g.isPending,submitLabel:"Salvar Alterações"})]})]}):p.jsxs("div",{className:"space-y-6 pb-10",children:[p.jsx("div",{className:"flex items-center space-x-4",children:p.jsxs(He,{variant:"ghost",onClick:()=>t("/assets"),children:[p.jsx(mo,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),p.jsx(Tr,{variant:"destructive",children:p.jsx(Ir,{children:"Ativo não encontrado"})})]})}function IM({user:e,onEdit:t}){const n=o=>{const a={admin:"bg-red-100 text-red-800",editor:"bg-yellow-100 text-yellow-800",viewer:"bg-green-100 text-green-800"},d={admin:"Administrador",editor:"Editor",viewer:"Visualizador"};return p.jsx(Ar,{className:a[o],children:d[o]})},r=o=>p.jsx(Ar,{className:o?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:o?"Ativo":"Inativo"});return p.jsx(ft,{className:"border-0 shadow-md hover:shadow-lg transition-shadow",children:p.jsxs(ht,{className:"p-6",children:[p.jsx("div",{className:"flex justify-between items-start mb-4",children:p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),p.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[p.jsx(hb,{className:"h-3 w-3 mr-1"}),e.email]}),p.jsxs("div",{className:"flex flex-row gap-2 mt-2 justify-center",children:[n(e.role),r(e.is_active??!0)]})]})}),p.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-4",children:[p.jsx(Kg,{className:"h-4 w-4 mr-2"}),"Desde ",w1(e.created_at)]}),p.jsx("div",{className:"flex space-x-2",children:p.jsxs(He,{variant:"outline",size:"sm",onClick:()=>t(e),className:"flex-1",children:[p.jsx(gb,{className:"h-3 w-3 mr-1"}),"Editar"]})})]})})}function RM({users:e,isLoading:t,onEdit:n,onCreateUser:r}){return t?p.jsx("div",{className:"col-span-full flex justify-center py-12",children:p.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),p.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[p.jsx(kd,{className:"h-5 w-5 animate-pulse"}),p.jsx("span",{className:"text-base",children:"Carregando usuários..."})]})]})}):!e||e.length===0?p.jsx("div",{className:"col-span-full",children:p.jsx(ft,{className:"border-0 shadow-md",children:p.jsxs(ht,{className:"text-center py-12",children:[p.jsx(kd,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum usuário encontrado"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Comece adicionando usuários à sua empresa"}),p.jsxs(He,{onClick:r,children:[p.jsx(wf,{className:"h-4 w-4 mr-2"}),"Adicionar Primeiro Usuário"]})]})})}):p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:e.map(o=>p.jsx(IM,{user:o,onEdit:n},o.id))})}var Pp="Switch",[OM,u7]=Mo(Pp),[kM,PM]=OM(Pp),$S=E.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:a,required:d,disabled:h,value:m="on",onCheckedChange:g,form:y,...v}=e,[C,T]=E.useState(null),P=xt(t,S=>T(S)),_=E.useRef(!1),k=C?y||!!C.closest("form"):!0,[I=!1,N]=No({prop:o,defaultProp:a,onChange:g});return p.jsxs(kM,{scope:n,checked:I,disabled:h,children:[p.jsx(Ye.button,{type:"button",role:"switch","aria-checked":I,"aria-required":d,"data-state":XS(I),"data-disabled":h?"":void 0,disabled:h,value:m,...v,ref:P,onClick:Ue(e.onClick,S=>{N(D=>!D),k&&(_.current=S.isPropagationStopped(),_.current||S.stopPropagation())})}),k&&p.jsx(DM,{control:C,bubbles:!_.current,name:r,value:m,checked:I,required:d,disabled:h,form:y,style:{transform:"translateX(-100%)"}})]})});$S.displayName=Pp;var GS="SwitchThumb",qS=E.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=PM(GS,n);return p.jsx(Ye.span,{"data-state":XS(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});qS.displayName=GS;var DM=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,a=E.useRef(null),d=Ip(n),h=Cp(t);return E.useEffect(()=>{const m=a.current,g=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&v){const C=new Event("click",{bubbles:r});v.call(m,n),m.dispatchEvent(C)}},[d,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:a,style:{...e.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function XS(e){return e?"checked":"unchecked"}var KS=$S,MM=qS;const YS=E.forwardRef(({className:e,...t},n)=>p.jsx(KS,{className:De("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:p.jsx(MM,{className:De("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));YS.displayName=KS.displayName;function jM({formData:e,setFormData:t,onSubmit:n,onCancel:r,error:o,isLoading:a,isEditing:d,isEditingSelf:h}){return p.jsxs("form",{onSubmit:n,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"name",children:"Nome *"}),p.jsx(yt,{id:"name",value:e.name,onChange:m=>t(g=>({...g,name:m.target.value})),placeholder:"Nome completo",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"email",children:"Email *"}),p.jsx(yt,{id:"email",type:"email",value:e.email,onChange:m=>t(g=>({...g,email:m.target.value})),placeholder:"email@exemplo.com",required:!0,disabled:d}),d&&p.jsx("p",{className:"text-xs text-gray-500",children:"O email não pode ser alterado"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"role",children:"Papel"}),p.jsxs(Hd,{value:e.role,onValueChange:m=>t(g=>({...g,role:m})),children:[p.jsx(Tc,{children:p.jsx($d,{})}),p.jsxs(Ic,{children:[p.jsx(ir,{value:"viewer",children:"Viewer - Apenas visualização"}),p.jsx(ir,{value:"editor",children:"Editor - Pode criar e editar"}),p.jsx(ir,{value:"admin",children:"Admin - Controle total"})]})]})]}),!h&&p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(YS,{id:"is_active",checked:e.is_active,onCheckedChange:m=>t(g=>({...g,is_active:m}))}),p.jsx(lt,{htmlFor:"is_active",children:"Usuário ativo"})]}),h&&p.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:p.jsx("p",{className:"text-sm text-blue-700",children:"Você não pode alterar o status de ativação da sua própria conta."})}),o&&p.jsx(Tr,{variant:"destructive",children:p.jsx(Ir,{children:o})}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsx(He,{type:"submit",disabled:a,className:"flex-1",children:a?"Salvando...":d?"Salvar Alterações":"Criar Usuário"}),p.jsx(He,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:"Cancelar"})]})]})}function LM(){const{profile:e}=Jn(),{toast:t}=qr(),n=Ui(),r=ki({mutationFn:async a=>{const{data:d,error:h}=await ct.auth.signUp({email:a.email,password:Math.random().toString(36).slice(-12),options:{data:{name:a.name,company_id:e==null?void 0:e.company_id}}});if(h)throw h;if(d.user){const{error:m}=await ct.from("profiles").update({role:a.role,company_id:e==null?void 0:e.company_id,is_active:a.is_active}).eq("id",d.user.id);if(m)throw m}return d},onSuccess:()=>{n.invalidateQueries({queryKey:["company-users"]}),t({title:"Usuário criado com sucesso!",description:"O usuário foi adicionado ao sistema. Ele receberá um email de confirmação."})}}),o=ki({mutationFn:async({userId:a,updates:d})=>{const{error:h}=await ct.rpc("admin_update_user_profile",{user_id:a,new_name:d.name,new_role:d.role,new_is_active:d.is_active});if(h)throw h},onSuccess:()=>{n.invalidateQueries({queryKey:["company-users"]}),t({title:"Usuário atualizado com sucesso!",description:"As alterações foram salvas"})}});return{createUserMutation:r,updateUserMutation:o}}function BM(){const{profile:e}=Jn(),{createUserMutation:t,updateUserMutation:n}=LM(),{isMobile:r,isMobileOrTablet:o}=BE(),[a,d]=E.useState(!1),[h,m]=E.useState(null),[g,y]=E.useState({email:"",name:"",role:"viewer",is_active:!0}),[v,C]=E.useState(""),{data:T,isLoading:P}=Qa({queryKey:["company-users"],queryFn:async()=>{const{data:V,error:W}=await ct.from("profiles").select("*").eq("company_id",e==null?void 0:e.company_id).order("created_at",{ascending:!1});if(W)throw console.error("Error fetching users:",W),W;return V||[]},enabled:!!(e!=null&&e.company_id)}),_=()=>{y({email:"",name:"",role:"viewer",is_active:!0}),C("")},k=V=>{m(V),y({email:V.email,name:V.name,role:V.role,is_active:V.is_active??!0}),d(!0)},I=V=>{if(V.preventDefault(),C(""),!g.name||!g.email){C("Nome e email são obrigatórios");return}h?n.mutate({userId:h.id,updates:{name:g.name,role:g.role,is_active:g.is_active}},{onSuccess:()=>{d(!1),m(null),_()},onError:W=>{console.error("Error updating user:",W),C(W.message||"Erro ao atualizar usuário")}}):t.mutate({email:g.email,name:g.name,role:g.role,is_active:g.is_active},{onSuccess:()=>{d(!1),_()},onError:W=>{console.error("Error creating user:",W),C(W.message||"Erro ao criar usuário")}})},N=()=>{d(!1),m(null),_()},S=()=>{_(),m(null),d(!0)},D=h&&h.id===(e==null?void 0:e.id);return p.jsxs("div",{className:"space-y-6 pb-10",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Usuários"}),p.jsx("p",{className:"mt-2 text-gray-600",children:"Gerencie os usuários da sua empresa"})]}),p.jsxs(Xc,{open:a,onOpenChange:d,children:[p.jsx(If,{asChild:!0,children:p.jsxs(He,{onClick:S,size:r?"icon":void 0,children:[p.jsx(wf,{className:"h-4 w-4"}),!r&&p.jsx("span",{className:"ml-2",children:"Novo Usuário"})]})}),p.jsxs(fl,{children:[p.jsxs(Kc,{children:[p.jsx(Yc,{children:h?"Editar Usuário":"Novo Usuário"}),p.jsx(Rf,{children:h?"Modifique as informações do usuário":"Adicione um novo usuário à empresa. O usuário receberá um convite por email."})]}),p.jsx(jM,{formData:g,setFormData:y,onSubmit:I,onCancel:N,error:v,isLoading:t.isPending||n.isPending,isEditing:!!h,isEditingSelf:D})]})]})]}),p.jsx(RM,{users:T,isLoading:P,onEdit:k,onCreateUser:S})]})}function FM(){const{profile:e,company:t,user:n,updatePassword:r}=Jn(),{toast:o}=qr(),a=Ui(),[d,h]=E.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||""}),[m,g]=E.useState({newPassword:"",confirmPassword:""}),[y,v]=E.useState({profile:"",password:""}),C=ki({mutationFn:async S=>{if(!(e!=null&&e.id))throw new Error("Profile ID not found");const{error:D}=await ct.from("profiles").update({name:S.name,email:S.email}).eq("id",e.id);if(D)throw D},onSuccess:()=>{a.invalidateQueries({queryKey:["profile"]}),o({title:"Perfil atualizado!",description:"Suas informações foram salvas com sucesso"}),v(S=>({...S,profile:""}))},onError:S=>{v(D=>({...D,profile:S.message||"Erro ao atualizar perfil"}))}}),T=ki({mutationFn:async S=>{const D=await r(S);if(!D.success)throw new Error(D.error||"Erro ao alterar senha");return D},onSuccess:()=>{o({title:"Senha alterada!",description:"Sua senha foi alterada com sucesso"}),g({newPassword:"",confirmPassword:""}),v(S=>({...S,password:""}))},onError:S=>{v(D=>({...D,password:S.message||"Erro ao alterar senha"}))}}),P=S=>{if(S.preventDefault(),v(D=>({...D,profile:""})),!d.name.trim()){v(D=>({...D,profile:"Nome é obrigatório"}));return}if(!d.email.trim()){v(D=>({...D,profile:"Email é obrigatório"}));return}C.mutate(d)},_=S=>{if(S.preventDefault(),v(D=>({...D,password:""})),!m.newPassword){v(D=>({...D,password:"Nova senha é obrigatória"}));return}if(m.newPassword.length<6){v(D=>({...D,password:"Nova senha deve ter pelo menos 6 caracteres"}));return}if(m.newPassword!==m.confirmPassword){v(D=>({...D,password:"Senhas não coincidem"}));return}T.mutate(m.newPassword)},k=(S,D)=>{h(V=>({...V,[S]:D}))},I=(S,D)=>{g(V=>({...V,[S]:D}))},N=S=>{switch(S){case"admin":return"Administrador";case"editor":return"Editor";case"viewer":return"Visualizador";default:return S}};return e?p.jsxs("div",{className:"space-y-6 max-w-4xl pb-10",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl m d:text-3xl font-bold text-gray-900",children:"Perfil"}),p.jsx("p",{className:"mt-2 text-gray-600",children:"Gerencie suas informações pessoais e configurações da conta"})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[p.jsxs(ft,{className:"border-0 shadow-md",children:[p.jsx(Zt,{children:p.jsxs(Xt,{className:"flex items-center",children:[p.jsx(Od,{className:"h-5 w-5 mr-3 text-blue-600"}),"Informações Pessoais"]})}),p.jsx(ht,{children:p.jsxs("form",{onSubmit:P,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"name",children:"Nome"}),p.jsx(yt,{id:"name",value:d.name,onChange:S=>k("name",S.target.value),placeholder:"Seu nome completo"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"email",children:"Email"}),p.jsx(yt,{disabled:!0,id:"email",type:"email",value:d.email,onChange:S=>k("email",S.target.value),placeholder:"seu@email.com"})]})]}),y.profile&&p.jsx(Tr,{variant:"destructive",children:p.jsx(Ir,{children:y.profile})}),p.jsx(He,{type:"submit",disabled:C.isPending,className:"w-full sm:w-auto",children:C.isPending?"Salvando...":"Salvar Alterações"})]})})]}),p.jsxs(ft,{className:"border-0 shadow-md",children:[p.jsx(Zt,{children:p.jsxs(Xt,{className:"flex items-center",children:[p.jsx(k8,{className:"h-5 w-5 mr-3 text-blue-600"}),"Alterar Senha"]})}),p.jsx(ht,{children:p.jsxs("form",{onSubmit:_,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"newPassword",children:"Nova Senha"}),p.jsx(yt,{id:"newPassword",type:"password",value:m.newPassword,onChange:S=>I("newPassword",S.target.value),placeholder:"Digite a nova senha"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{htmlFor:"confirmPassword",children:"Confirmar Senha"}),p.jsx(yt,{id:"confirmPassword",type:"password",value:m.confirmPassword,onChange:S=>I("confirmPassword",S.target.value),placeholder:"Confirme a nova senha"})]})]}),y.password&&p.jsx(Tr,{variant:"destructive",children:p.jsx(Ir,{children:y.password})}),p.jsx(He,{type:"submit",disabled:T.isPending,className:"w-full sm:w-auto",children:T.isPending?"Alterando...":"Alterar Senha"})]})})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs(ft,{className:"border-0 shadow-md",children:[p.jsx(Zt,{children:p.jsxs(Xt,{className:"flex items-center",children:[p.jsx(Dx,{className:"h-5 w-5 mr-3 text-green-600"}),"Informações da Conta"]})}),p.jsxs(ht,{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(hb,{className:"h-5 w-5 text-gray-400"}),p.jsxs("div",{className:"min-w-0 flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),p.jsx("p",{className:"text-sm text-gray-900 truncate",children:e.email})]})]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(Dx,{className:"h-5 w-5 text-gray-400"}),p.jsxs("div",{className:"min-w-0 flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Função"}),p.jsx("p",{className:"text-sm text-gray-900",children:N(e.role)})]})]}),t&&p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(Xg,{className:"h-5 w-5 text-gray-400"}),p.jsxs("div",{className:"min-w-0 flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Empresa"}),p.jsx("p",{className:"text-sm text-gray-900 break-words",children:t.name})]})]})]})]}),p.jsxs(ft,{className:"border-0 shadow-md",children:[p.jsx(Zt,{children:p.jsxs(Xt,{className:"flex items-center",children:[p.jsx(ub,{className:"h-5 w-5 mr-3 text-blue-600"}),"Histórico"]})}),p.jsxs(ht,{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Conta criada em"}),p.jsx("p",{className:"text-sm text-gray-900",children:Na(new Date(e.created_at),"dd/MM/yyyy HH:mm",{locale:Ta})})]}),e.updated_by_user_name&&p.jsxs(p.Fragment,{children:[p.jsx(mp,{}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Última modificação"}),p.jsx("p",{className:"text-sm text-gray-900",children:e.updated_by_user_name}),p.jsx("p",{className:"text-sm text-gray-900",children:Na(new Date(e.updated_at),"dd/MM/yyyy HH:mm",{locale:Ta})})]})]})]})]})]})]})]}):p.jsxs("div",{className:"space-y-6 pb-10",children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Perfil"}),p.jsx(ft,{className:"border-0 shadow-md",children:p.jsxs(ht,{className:"text-center py-12",children:[p.jsx(Od,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Perfil não encontrado"}),p.jsx("p",{className:"text-gray-600",children:"Não foi possível carregar as informações do perfil"})]})})]})}function UM(){const{signOut:e}=Jn();return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center p-4",children:p.jsxs(ft,{className:"max-w-md w-full",children:[p.jsxs(Zt,{className:"text-center",children:[p.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:p.jsx(Cc,{className:"h-8 w-8 text-red-600"})}),p.jsx(Xt,{className:"text-xl text-gray-900",children:"Acesso Negado"})]}),p.jsxs(ht,{className:"text-center space-y-4",children:[p.jsx("p",{className:"text-gray-600",children:"Sua conta foi desativada ou não está mais vinculada a uma empresa. Entre em contato com o administrador da sua empresa."}),p.jsxs(He,{onClick:e,className:"w-full",children:[p.jsx(Qg,{className:"h-4 w-4 mr-2"}),"Fazer Login com Outra Conta"]})]})]})})}function VM(){const{hash:e,pathname:t}=ps(),n=Ls();return E.useEffect(()=>{if(!(e!=null&&e.startsWith("#access_token")))return;const r=new URLSearchParams(e.substring(1)),o=r.get("access_token"),a=r.get("refresh_token"),d=r.get("type");o&&a&&ct.auth.setSession({access_token:o,refresh_token:a}).then(()=>{d==="recovery"?n("/reset-password",{replace:!0}):n("/dashboard",{replace:!0})})},[e,t,n]),null}function WM(){const[e,t]=E.useState(""),[n,r]=E.useState(""),[o,a]=E.useState(!1),[d,h]=E.useState(""),{toast:m}=qr(),g=Ls(),y=async()=>{if(h(""),e!==n){h("As senhas não coincidem.");return}if(e.length<6){h("A senha deve ter pelo menos 6 caracteres.");return}a(!0);const{error:v}=await ct.auth.updateUser({password:e});if(a(!1),v){h(v.message);return}m({title:"Senha redefinida!",description:"Você será redirecionado para o login."}),setTimeout(()=>{g("/login",{replace:!0})},3e3)};return p.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50 px-4",children:p.jsxs("div",{className:"max-w-md w-full space-y-8",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"flex justify-center",children:p.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:p.jsx(Yt,{className:"h-8 w-8 text-white"})})}),p.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Armazena App"}),p.jsx("p",{className:"mt-2 text-xl font-semibold text-gray-900",children:"Definir nova senha"})]}),p.jsxs(ft,{className:"shadow-lg border-0",children:[p.jsxs(Zt,{children:[p.jsx(Xt,{className:"text-2xl text-center",children:"Nova senha"}),p.jsx(Tf,{className:"text-center",children:"Digite e confirme sua nova senha"})]}),p.jsxs(ht,{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{children:"Nova senha"}),p.jsx(yt,{type:"password",value:e,onChange:v=>t(v.target.value),placeholder:"Mínimo 6 caracteres",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(lt,{children:"Confirmar senha"}),p.jsx(yt,{type:"password",value:n,onChange:v=>r(v.target.value),required:!0})]}),d&&p.jsx(Tr,{variant:"destructive",children:p.jsx(Ir,{children:d})}),p.jsx(He,{className:"w-full h-11",onClick:y,disabled:o,children:o?"Salvando…":"Salvar"})]})]})]})})}const zM=new g4;function HM(){return p.jsx(y4,{client:zM,children:p.jsxs(AN,{children:[p.jsx(VM,{}),p.jsxs(U6,{children:[p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:p.jsxs(wN,{children:[p.jsx(wr,{path:"/reset-password",element:p.jsx(WM,{})}),p.jsx(wr,{path:"/login",element:p.jsx(hO,{})}),p.jsx(wr,{path:"/acesso-negado",element:p.jsx(UM,{})}),p.jsx(wr,{path:"/",element:p.jsx(Ks,{children:p.jsx(Ys,{children:p.jsx(c1,{to:"/dashboard",replace:!0})})})}),p.jsx(wr,{path:"/dashboard",element:p.jsx(Ks,{children:p.jsx(Ys,{children:p.jsx(qk,{})})})}),p.jsx(wr,{path:"/assets",element:p.jsx(Ks,{children:p.jsx(Ys,{children:p.jsx(oM,{})})})}),p.jsx(wr,{path:"/assets/new",element:p.jsx(Ks,{children:p.jsx(Ys,{children:p.jsx(NM,{})})})}),p.jsx(wr,{path:"/assets/:id",element:p.jsx(Ks,{children:p.jsx(Ys,{children:p.jsx(bM,{})})})}),p.jsx(wr,{path:"/assets/:id/edit",element:p.jsx(Ks,{children:p.jsx(Ys,{children:p.jsx(TM,{})})})}),p.jsx(wr,{path:"/users",element:p.jsx(Ks,{requiredRole:"admin",children:p.jsx(Ys,{children:p.jsx(BM,{})})})}),p.jsx(wr,{path:"/profile",element:p.jsx(Ks,{children:p.jsx(Ys,{children:p.jsx(FM,{})})})})]})}),p.jsx(cO,{}),p.jsx(oO,{}),p.jsx(iO,{}),p.jsx(bT,{})]})]})})}l2(document.getElementById("root")).render(p.jsx(HM,{}));
