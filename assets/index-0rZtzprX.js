var Og=e=>{throw TypeError(e)};var Nh=(e,t,r)=>t.has(e)||Og("Cannot "+r);var $=(e,t,r)=>(Nh(e,t,"read from private field"),r?r.call(e):t.get(e)),Fe=(e,t,r)=>t.has(e)?Og("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ye=(e,t,r,n)=>(Nh(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Je=(e,t,r)=>(Nh(e,t,"access private method"),r);var yu=(e,t,r,n)=>({set _(i){ye(e,t,i,r)},get _(){return $(e,t,n)}});function Ry(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var xr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function O3(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Oy={exports:{}},pf={},ky={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc=Symbol.for("react.element"),k3=Symbol.for("react.portal"),P3=Symbol.for("react.fragment"),j3=Symbol.for("react.strict_mode"),D3=Symbol.for("react.profiler"),M3=Symbol.for("react.provider"),L3=Symbol.for("react.context"),F3=Symbol.for("react.forward_ref"),B3=Symbol.for("react.suspense"),U3=Symbol.for("react.memo"),z3=Symbol.for("react.lazy"),kg=Symbol.iterator;function V3(e){return e===null||typeof e!="object"?null:(e=kg&&e[kg]||e["@@iterator"],typeof e=="function"?e:null)}var Py={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jy=Object.assign,Dy={};function ol(e,t,r){this.props=e,this.context=t,this.refs=Dy,this.updater=r||Py}ol.prototype.isReactComponent={};ol.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ol.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function My(){}My.prototype=ol.prototype;function lm(e,t,r){this.props=e,this.context=t,this.refs=Dy,this.updater=r||Py}var cm=lm.prototype=new My;cm.constructor=lm;jy(cm,ol.prototype);cm.isPureReactComponent=!0;var Pg=Array.isArray,Ly=Object.prototype.hasOwnProperty,um={current:null},Fy={key:!0,ref:!0,__self:!0,__source:!0};function By(e,t,r){var n,i={},a=null,u=null;if(t!=null)for(n in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(a=""+t.key),t)Ly.call(t,n)&&!Fy.hasOwnProperty(n)&&(i[n]=t[n]);var m=arguments.length-2;if(m===1)i.children=r;else if(1<m){for(var g=Array(m),p=0;p<m;p++)g[p]=arguments[p+2];i.children=g}if(e&&e.defaultProps)for(n in m=e.defaultProps,m)i[n]===void 0&&(i[n]=m[n]);return{$$typeof:Wc,type:e,key:a,ref:u,props:i,_owner:um.current}}function W3(e,t){return{$$typeof:Wc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wc}function H3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var jg=/\/+/g;function Th(e,t){return typeof e=="object"&&e!==null&&e.key!=null?H3(""+e.key):t.toString(36)}function Ju(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case Wc:case k3:u=!0}}if(u)return u=e,i=i(u),e=n===""?"."+Th(u,0):n,Pg(i)?(r="",e!=null&&(r=e.replace(jg,"$&/")+"/"),Ju(i,t,r,"",function(p){return p})):i!=null&&(dm(i)&&(i=W3(i,r+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(jg,"$&/")+"/")+e)),t.push(i)),1;if(u=0,n=n===""?".":n+":",Pg(e))for(var m=0;m<e.length;m++){a=e[m];var g=n+Th(a,m);u+=Ju(a,t,r,g,i)}else if(g=V3(e),typeof g=="function")for(e=g.call(e),m=0;!(a=e.next()).done;)a=a.value,g=n+Th(a,m++),u+=Ju(a,t,r,g,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function vu(e,t,r){if(e==null)return e;var n=[],i=0;return Ju(e,n,"","",function(a){return t.call(r,a,i++)}),n}function $3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Hr={current:null},ed={transition:null},G3={ReactCurrentDispatcher:Hr,ReactCurrentBatchConfig:ed,ReactCurrentOwner:um};function Uy(){throw Error("act(...) is not supported in production builds of React.")}st.Children={map:vu,forEach:function(e,t,r){vu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return vu(e,function(){t++}),t},toArray:function(e){return vu(e,function(t){return t})||[]},only:function(e){if(!dm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};st.Component=ol;st.Fragment=P3;st.Profiler=D3;st.PureComponent=lm;st.StrictMode=j3;st.Suspense=B3;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G3;st.act=Uy;st.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=jy({},e.props),i=e.key,a=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,u=um.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(g in t)Ly.call(t,g)&&!Fy.hasOwnProperty(g)&&(n[g]=t[g]===void 0&&m!==void 0?m[g]:t[g])}var g=arguments.length-2;if(g===1)n.children=r;else if(1<g){m=Array(g);for(var p=0;p<g;p++)m[p]=arguments[p+2];n.children=m}return{$$typeof:Wc,type:e.type,key:i,ref:a,props:n,_owner:u}};st.createContext=function(e){return e={$$typeof:L3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:M3,_context:e},e.Consumer=e};st.createElement=By;st.createFactory=function(e){var t=By.bind(null,e);return t.type=e,t};st.createRef=function(){return{current:null}};st.forwardRef=function(e){return{$$typeof:F3,render:e}};st.isValidElement=dm;st.lazy=function(e){return{$$typeof:z3,_payload:{_status:-1,_result:e},_init:$3}};st.memo=function(e,t){return{$$typeof:U3,type:e,compare:t===void 0?null:t}};st.startTransition=function(e){var t=ed.transition;ed.transition={};try{e()}finally{ed.transition=t}};st.unstable_act=Uy;st.useCallback=function(e,t){return Hr.current.useCallback(e,t)};st.useContext=function(e){return Hr.current.useContext(e)};st.useDebugValue=function(){};st.useDeferredValue=function(e){return Hr.current.useDeferredValue(e)};st.useEffect=function(e,t){return Hr.current.useEffect(e,t)};st.useId=function(){return Hr.current.useId()};st.useImperativeHandle=function(e,t,r){return Hr.current.useImperativeHandle(e,t,r)};st.useInsertionEffect=function(e,t){return Hr.current.useInsertionEffect(e,t)};st.useLayoutEffect=function(e,t){return Hr.current.useLayoutEffect(e,t)};st.useMemo=function(e,t){return Hr.current.useMemo(e,t)};st.useReducer=function(e,t,r){return Hr.current.useReducer(e,t,r)};st.useRef=function(e){return Hr.current.useRef(e)};st.useState=function(e){return Hr.current.useState(e)};st.useSyncExternalStore=function(e,t,r){return Hr.current.useSyncExternalStore(e,t,r)};st.useTransition=function(){return Hr.current.useTransition()};st.version="18.3.1";ky.exports=st;var C=ky.exports;const oi=mf(C),zy=Ry({__proto__:null,default:oi},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q3=C,X3=Symbol.for("react.element"),Y3=Symbol.for("react.fragment"),K3=Object.prototype.hasOwnProperty,Q3=q3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z3={key:!0,ref:!0,__self:!0,__source:!0};function Vy(e,t,r){var n,i={},a=null,u=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(u=t.ref);for(n in t)K3.call(t,n)&&!Z3.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:X3,type:e,key:a,ref:u,props:i,_owner:Q3.current}}pf.Fragment=Y3;pf.jsx=Vy;pf.jsxs=Vy;Oy.exports=pf;var f=Oy.exports,Wy={exports:{}},yn={},Hy={exports:{}},$y={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,te){var he=Z.length;Z.push(te);e:for(;0<he;){var ue=he-1>>>1,ge=Z[ue];if(0<i(ge,te))Z[ue]=te,Z[he]=ge,he=ue;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var te=Z[0],he=Z.pop();if(he!==te){Z[0]=he;e:for(var ue=0,ge=Z.length,we=ge>>>1;ue<we;){var ke=2*(ue+1)-1,ot=Z[ke],de=ke+1,Ee=Z[de];if(0>i(ot,he))de<ge&&0>i(Ee,ot)?(Z[ue]=Ee,Z[de]=he,ue=de):(Z[ue]=ot,Z[ke]=he,ue=ke);else if(de<ge&&0>i(Ee,he))Z[ue]=Ee,Z[de]=he,ue=de;else break e}}return te}function i(Z,te){var he=Z.sortIndex-te.sortIndex;return he!==0?he:Z.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,m=u.now();e.unstable_now=function(){return u.now()-m}}var g=[],p=[],w=1,v=null,E=3,_=!1,R=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Z){for(var te=r(p);te!==null;){if(te.callback===null)n(p);else if(te.startTime<=Z)n(p),te.sortIndex=te.expirationTime,t(g,te);else break;te=r(p)}}function j(Z){if(N=!1,S(Z),!R)if(r(g)!==null)R=!0,fe(z);else{var te=r(p);te!==null&&re(j,te.startTime-Z)}}function z(Z,te){R=!1,N&&(N=!1,I(L),L=-1),_=!0;var he=E;try{for(S(te),v=r(g);v!==null&&(!(v.expirationTime>te)||Z&&!Q());){var ue=v.callback;if(typeof ue=="function"){v.callback=null,E=v.priorityLevel;var ge=ue(v.expirationTime<=te);te=e.unstable_now(),typeof ge=="function"?v.callback=ge:v===r(g)&&n(g),S(te)}else n(g);v=r(g)}if(v!==null)var we=!0;else{var ke=r(p);ke!==null&&re(j,ke.startTime-te),we=!1}return we}finally{v=null,E=he,_=!1}}var V=!1,F=null,L=-1,D=5,W=-1;function Q(){return!(e.unstable_now()-W<D)}function q(){if(F!==null){var Z=e.unstable_now();W=Z;var te=!0;try{te=F(!0,Z)}finally{te?se():(V=!1,F=null)}}else V=!1}var se;if(typeof A=="function")se=function(){A(q)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,X=ne.port2;ne.port1.onmessage=q,se=function(){X.postMessage(null)}}else se=function(){P(q,0)};function fe(Z){F=Z,V||(V=!0,se())}function re(Z,te){L=P(function(){Z(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){R||_||(R=!0,fe(z))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return r(g)},e.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var te=3;break;default:te=E}var he=E;E=te;try{return Z()}finally{E=he}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,te){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var he=E;E=Z;try{return te()}finally{E=he}},e.unstable_scheduleCallback=function(Z,te,he){var ue=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ue+he:ue):he=ue,Z){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=he+ge,Z={id:w++,callback:te,priorityLevel:Z,startTime:he,expirationTime:ge,sortIndex:-1},he>ue?(Z.sortIndex=he,t(p,Z),r(g)===null&&Z===r(p)&&(N?(I(L),L=-1):N=!0,re(j,he-ue))):(Z.sortIndex=ge,t(g,Z),R||_||(R=!0,fe(z))),Z},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(Z){var te=E;return function(){var he=E;E=te;try{return Z.apply(this,arguments)}finally{E=he}}}})($y);Hy.exports=$y;var J3=Hy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_=C,wn=J3;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gy=new Set,dc={};function Bo(e,t){Xa(e,t),Xa(e+"Capture",t)}function Xa(e,t){for(dc[e]=t,e=0;e<t.length;e++)Gy.add(t[e])}var Bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),C0=Object.prototype.hasOwnProperty,t_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dg={},Mg={};function r_(e){return C0.call(Mg,e)?!0:C0.call(Dg,e)?!1:t_.test(e)?Mg[e]=!0:(Dg[e]=!0,!1)}function n_(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function s_(e,t,r,n){if(t===null||typeof t>"u"||n_(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $r(e,t,r,n,i,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var Nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Nr[e]=new $r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Nr[t]=new $r(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Nr[e]=new $r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Nr[e]=new $r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Nr[e]=new $r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Nr[e]=new $r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Nr[e]=new $r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Nr[e]=new $r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Nr[e]=new $r(e,5,!1,e.toLowerCase(),null,!1,!1)});var fm=/[\-:]([a-z])/g;function hm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fm,hm);Nr[t]=new $r(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fm,hm);Nr[t]=new $r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fm,hm);Nr[t]=new $r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Nr[e]=new $r(e,1,!1,e.toLowerCase(),null,!1,!1)});Nr.xlinkHref=new $r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Nr[e]=new $r(e,1,!1,e.toLowerCase(),null,!0,!0)});function mm(e,t,r,n){var i=Nr.hasOwnProperty(t)?Nr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(s_(t,r,i,n)&&(r=null),n||i===null?r_(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Gs=e_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bu=Symbol.for("react.element"),la=Symbol.for("react.portal"),ca=Symbol.for("react.fragment"),pm=Symbol.for("react.strict_mode"),E0=Symbol.for("react.profiler"),qy=Symbol.for("react.provider"),Xy=Symbol.for("react.context"),gm=Symbol.for("react.forward_ref"),S0=Symbol.for("react.suspense"),A0=Symbol.for("react.suspense_list"),xm=Symbol.for("react.memo"),ui=Symbol.for("react.lazy"),Yy=Symbol.for("react.offscreen"),Lg=Symbol.iterator;function Ol(e){return e===null||typeof e!="object"?null:(e=Lg&&e[Lg]||e["@@iterator"],typeof e=="function"?e:null)}var Ht=Object.assign,Ih;function Hl(e){if(Ih===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ih=t&&t[1]||""}return`
`+Ih+e}var Rh=!1;function Oh(e,t){if(!e||Rh)return"";Rh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var n=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){n=p}e.call(t.prototype)}else{try{throw Error()}catch(p){n=p}e()}}catch(p){if(p&&n&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),a=n.stack.split(`
`),u=i.length-1,m=a.length-1;1<=u&&0<=m&&i[u]!==a[m];)m--;for(;1<=u&&0<=m;u--,m--)if(i[u]!==a[m]){if(u!==1||m!==1)do if(u--,m--,0>m||i[u]!==a[m]){var g=`
`+i[u].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=u&&0<=m);break}}}finally{Rh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Hl(e):""}function i_(e){switch(e.tag){case 5:return Hl(e.type);case 16:return Hl("Lazy");case 13:return Hl("Suspense");case 19:return Hl("SuspenseList");case 0:case 2:case 15:return e=Oh(e.type,!1),e;case 11:return e=Oh(e.type.render,!1),e;case 1:return e=Oh(e.type,!0),e;default:return""}}function _0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ca:return"Fragment";case la:return"Portal";case E0:return"Profiler";case pm:return"StrictMode";case S0:return"Suspense";case A0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xy:return(e.displayName||"Context")+".Consumer";case qy:return(e._context.displayName||"Context")+".Provider";case gm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xm:return t=e.displayName||null,t!==null?t:_0(e.type)||"Memo";case ui:t=e._payload,e=e._init;try{return _0(e(t))}catch{}}return null}function o_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _0(t);case 8:return t===pm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ky(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function a_(e){var t=Ky(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(u){n=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cu(e){e._valueTracker||(e._valueTracker=a_(e))}function Qy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ky(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function wd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function N0(e,t){var r=t.checked;return Ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Fg(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Fi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zy(e,t){t=t.checked,t!=null&&mm(e,"checked",t,!1)}function T0(e,t){Zy(e,t);var r=Fi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?I0(e,t.type,r):t.hasOwnProperty("defaultValue")&&I0(e,t.type,Fi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function I0(e,t,r){(t!=="number"||wd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $l=Array.isArray;function ba(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Fi(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function R0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Ht({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ug(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ae(92));if($l(r)){if(1<r.length)throw Error(ae(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Fi(r)}}function Jy(e,t){var r=Fi(t.value),n=Fi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function zg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ev(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function O0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ev(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Eu,tv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Eu=Eu||document.createElement("div"),Eu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Eu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Zl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l_=["Webkit","ms","Moz","O"];Object.keys(Zl).forEach(function(e){l_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zl[t]=Zl[e]})});function rv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Zl.hasOwnProperty(e)&&Zl[e]?(""+t).trim():t+"px"}function nv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=rv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var c_=Ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function k0(e,t){if(t){if(c_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function P0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j0=null;function wm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var D0=null,Ca=null,Ea=null;function Vg(e){if(e=Gc(e)){if(typeof D0!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=vf(t),D0(e.stateNode,e.type,t))}}function sv(e){Ca?Ea?Ea.push(e):Ea=[e]:Ca=e}function iv(){if(Ca){var e=Ca,t=Ea;if(Ea=Ca=null,Vg(e),t)for(e=0;e<t.length;e++)Vg(t[e])}}function ov(e,t){return e(t)}function av(){}var kh=!1;function lv(e,t,r){if(kh)return e(t,r);kh=!0;try{return ov(e,t,r)}finally{kh=!1,(Ca!==null||Ea!==null)&&(av(),iv())}}function hc(e,t){var r=e.stateNode;if(r===null)return null;var n=vf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ae(231,t,typeof r));return r}var M0=!1;if(Bs)try{var kl={};Object.defineProperty(kl,"passive",{get:function(){M0=!0}}),window.addEventListener("test",kl,kl),window.removeEventListener("test",kl,kl)}catch{M0=!1}function u_(e,t,r,n,i,a,u,m,g){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(w){this.onError(w)}}var Jl=!1,yd=null,vd=!1,L0=null,d_={onError:function(e){Jl=!0,yd=e}};function f_(e,t,r,n,i,a,u,m,g){Jl=!1,yd=null,u_.apply(d_,arguments)}function h_(e,t,r,n,i,a,u,m,g){if(f_.apply(this,arguments),Jl){if(Jl){var p=yd;Jl=!1,yd=null}else throw Error(ae(198));vd||(vd=!0,L0=p)}}function Uo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function cv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wg(e){if(Uo(e)!==e)throw Error(ae(188))}function m_(e){var t=e.alternate;if(!t){if(t=Uo(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Wg(i),e;if(a===n)return Wg(i),t;a=a.sibling}throw Error(ae(188))}if(r.return!==n.return)r=i,n=a;else{for(var u=!1,m=i.child;m;){if(m===r){u=!0,r=i,n=a;break}if(m===n){u=!0,n=i,r=a;break}m=m.sibling}if(!u){for(m=a.child;m;){if(m===r){u=!0,r=a,n=i;break}if(m===n){u=!0,n=a,r=i;break}m=m.sibling}if(!u)throw Error(ae(189))}}if(r.alternate!==n)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?e:t}function uv(e){return e=m_(e),e!==null?dv(e):null}function dv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dv(e);if(t!==null)return t;e=e.sibling}return null}var fv=wn.unstable_scheduleCallback,Hg=wn.unstable_cancelCallback,p_=wn.unstable_shouldYield,g_=wn.unstable_requestPaint,Qt=wn.unstable_now,x_=wn.unstable_getCurrentPriorityLevel,ym=wn.unstable_ImmediatePriority,hv=wn.unstable_UserBlockingPriority,bd=wn.unstable_NormalPriority,w_=wn.unstable_LowPriority,mv=wn.unstable_IdlePriority,gf=null,ys=null;function y_(e){if(ys&&typeof ys.onCommitFiberRoot=="function")try{ys.onCommitFiberRoot(gf,e,void 0,(e.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:C_,v_=Math.log,b_=Math.LN2;function C_(e){return e>>>=0,e===0?32:31-(v_(e)/b_|0)|0}var Su=64,Au=4194304;function Gl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,u=r&268435455;if(u!==0){var m=u&~i;m!==0?n=Gl(m):(a&=u,a!==0&&(n=Gl(a)))}else u=r&~i,u!==0?n=Gl(u):a!==0&&(n=Gl(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Xn(t),i=1<<r,n|=e[r],t&=~i;return n}function E_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S_(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-Xn(a),m=1<<u,g=i[u];g===-1?(!(m&r)||m&n)&&(i[u]=E_(m,t)):g<=t&&(e.expiredLanes|=m),a&=~m}}function F0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pv(){var e=Su;return Su<<=1,!(Su&4194240)&&(Su=64),e}function Ph(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Hc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xn(t),e[t]=r}function A_(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Xn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function vm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Xn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var vt=0;function gv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xv,bm,wv,yv,vv,B0=!1,_u=[],Ti=null,Ii=null,Ri=null,mc=new Map,pc=new Map,hi=[],__="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $g(e,t){switch(e){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":mc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(t.pointerId)}}function Pl(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Gc(t),t!==null&&bm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function N_(e,t,r,n,i){switch(t){case"focusin":return Ti=Pl(Ti,e,t,r,n,i),!0;case"dragenter":return Ii=Pl(Ii,e,t,r,n,i),!0;case"mouseover":return Ri=Pl(Ri,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return mc.set(a,Pl(mc.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,pc.set(a,Pl(pc.get(a)||null,e,t,r,n,i)),!0}return!1}function bv(e){var t=fo(e.target);if(t!==null){var r=Uo(t);if(r!==null){if(t=r.tag,t===13){if(t=cv(r),t!==null){e.blockedOn=t,vv(e.priority,function(){wv(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function td(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=U0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);j0=n,r.target.dispatchEvent(n),j0=null}else return t=Gc(r),t!==null&&bm(t),e.blockedOn=r,!1;t.shift()}return!0}function Gg(e,t,r){td(e)&&r.delete(t)}function T_(){B0=!1,Ti!==null&&td(Ti)&&(Ti=null),Ii!==null&&td(Ii)&&(Ii=null),Ri!==null&&td(Ri)&&(Ri=null),mc.forEach(Gg),pc.forEach(Gg)}function jl(e,t){e.blockedOn===t&&(e.blockedOn=null,B0||(B0=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,T_)))}function gc(e){function t(i){return jl(i,e)}if(0<_u.length){jl(_u[0],e);for(var r=1;r<_u.length;r++){var n=_u[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ti!==null&&jl(Ti,e),Ii!==null&&jl(Ii,e),Ri!==null&&jl(Ri,e),mc.forEach(t),pc.forEach(t),r=0;r<hi.length;r++)n=hi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<hi.length&&(r=hi[0],r.blockedOn===null);)bv(r),r.blockedOn===null&&hi.shift()}var Sa=Gs.ReactCurrentBatchConfig,Ed=!0;function I_(e,t,r,n){var i=vt,a=Sa.transition;Sa.transition=null;try{vt=1,Cm(e,t,r,n)}finally{vt=i,Sa.transition=a}}function R_(e,t,r,n){var i=vt,a=Sa.transition;Sa.transition=null;try{vt=4,Cm(e,t,r,n)}finally{vt=i,Sa.transition=a}}function Cm(e,t,r,n){if(Ed){var i=U0(e,t,r,n);if(i===null)Wh(e,t,n,Sd,r),$g(e,n);else if(N_(i,e,t,r,n))n.stopPropagation();else if($g(e,n),t&4&&-1<__.indexOf(e)){for(;i!==null;){var a=Gc(i);if(a!==null&&xv(a),a=U0(e,t,r,n),a===null&&Wh(e,t,n,Sd,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Wh(e,t,n,null,r)}}var Sd=null;function U0(e,t,r,n){if(Sd=null,e=wm(n),e=fo(e),e!==null)if(t=Uo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=cv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sd=e,null}function Cv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x_()){case ym:return 1;case hv:return 4;case bd:case w_:return 16;case mv:return 536870912;default:return 16}default:return 16}}var Ai=null,Em=null,rd=null;function Ev(){if(rd)return rd;var e,t=Em,r=t.length,n,i="value"in Ai?Ai.value:Ai.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var u=r-e;for(n=1;n<=u&&t[r-n]===i[a-n];n++);return rd=i.slice(e,1<n?1-n:void 0)}function nd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nu(){return!0}function qg(){return!1}function vn(e){function t(r,n,i,a,u){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(r=e[m],this[m]=r?r(a):a[m]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Nu:qg,this.isPropagationStopped=qg,this}return Ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),t}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sm=vn(al),$c=Ht({},al,{view:0,detail:0}),O_=vn($c),jh,Dh,Dl,xf=Ht({},$c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Am,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dl&&(Dl&&e.type==="mousemove"?(jh=e.screenX-Dl.screenX,Dh=e.screenY-Dl.screenY):Dh=jh=0,Dl=e),jh)},movementY:function(e){return"movementY"in e?e.movementY:Dh}}),Xg=vn(xf),k_=Ht({},xf,{dataTransfer:0}),P_=vn(k_),j_=Ht({},$c,{relatedTarget:0}),Mh=vn(j_),D_=Ht({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),M_=vn(D_),L_=Ht({},al,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),F_=vn(L_),B_=Ht({},al,{data:0}),Yg=vn(B_),U_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=V_[e])?!!t[e]:!1}function Am(){return W_}var H_=Ht({},$c,{key:function(e){if(e.key){var t=U_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?z_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Am,charCode:function(e){return e.type==="keypress"?nd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$_=vn(H_),G_=Ht({},xf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kg=vn(G_),q_=Ht({},$c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Am}),X_=vn(q_),Y_=Ht({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),K_=vn(Y_),Q_=Ht({},xf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Z_=vn(Q_),J_=[9,13,27,32],_m=Bs&&"CompositionEvent"in window,ec=null;Bs&&"documentMode"in document&&(ec=document.documentMode);var eN=Bs&&"TextEvent"in window&&!ec,Sv=Bs&&(!_m||ec&&8<ec&&11>=ec),Qg=" ",Zg=!1;function Av(e,t){switch(e){case"keyup":return J_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _v(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function tN(e,t){switch(e){case"compositionend":return _v(t);case"keypress":return t.which!==32?null:(Zg=!0,Qg);case"textInput":return e=t.data,e===Qg&&Zg?null:e;default:return null}}function rN(e,t){if(ua)return e==="compositionend"||!_m&&Av(e,t)?(e=Ev(),rd=Em=Ai=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sv&&t.locale!=="ko"?null:t.data;default:return null}}var nN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nN[e.type]:t==="textarea"}function Nv(e,t,r,n){sv(n),t=Ad(t,"onChange"),0<t.length&&(r=new Sm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var tc=null,xc=null;function sN(e){Fv(e,0)}function wf(e){var t=ha(e);if(Qy(t))return e}function iN(e,t){if(e==="change")return t}var Tv=!1;if(Bs){var Lh;if(Bs){var Fh="oninput"in document;if(!Fh){var ex=document.createElement("div");ex.setAttribute("oninput","return;"),Fh=typeof ex.oninput=="function"}Lh=Fh}else Lh=!1;Tv=Lh&&(!document.documentMode||9<document.documentMode)}function tx(){tc&&(tc.detachEvent("onpropertychange",Iv),xc=tc=null)}function Iv(e){if(e.propertyName==="value"&&wf(xc)){var t=[];Nv(t,xc,e,wm(e)),lv(sN,t)}}function oN(e,t,r){e==="focusin"?(tx(),tc=t,xc=r,tc.attachEvent("onpropertychange",Iv)):e==="focusout"&&tx()}function aN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wf(xc)}function lN(e,t){if(e==="click")return wf(t)}function cN(e,t){if(e==="input"||e==="change")return wf(t)}function uN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kn=typeof Object.is=="function"?Object.is:uN;function wc(e,t){if(Kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!C0.call(t,i)||!Kn(e[i],t[i]))return!1}return!0}function rx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nx(e,t){var r=rx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rx(r)}}function Rv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ov(){for(var e=window,t=wd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=wd(e.document)}return t}function Nm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dN(e){var t=Ov(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Rv(r.ownerDocument.documentElement,r)){if(n!==null&&Nm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=nx(r,a);var u=nx(r,n);i&&u&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fN=Bs&&"documentMode"in document&&11>=document.documentMode,da=null,z0=null,rc=null,V0=!1;function sx(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;V0||da==null||da!==wd(n)||(n=da,"selectionStart"in n&&Nm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),rc&&wc(rc,n)||(rc=n,n=Ad(z0,"onSelect"),0<n.length&&(t=new Sm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=da)))}function Tu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var fa={animationend:Tu("Animation","AnimationEnd"),animationiteration:Tu("Animation","AnimationIteration"),animationstart:Tu("Animation","AnimationStart"),transitionend:Tu("Transition","TransitionEnd")},Bh={},kv={};Bs&&(kv=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function yf(e){if(Bh[e])return Bh[e];if(!fa[e])return e;var t=fa[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in kv)return Bh[e]=t[r];return e}var Pv=yf("animationend"),jv=yf("animationiteration"),Dv=yf("animationstart"),Mv=yf("transitionend"),Lv=new Map,ix="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(e,t){Lv.set(e,t),Bo(t,[e])}for(var Uh=0;Uh<ix.length;Uh++){var zh=ix[Uh],hN=zh.toLowerCase(),mN=zh[0].toUpperCase()+zh.slice(1);$i(hN,"on"+mN)}$i(Pv,"onAnimationEnd");$i(jv,"onAnimationIteration");$i(Dv,"onAnimationStart");$i("dblclick","onDoubleClick");$i("focusin","onFocus");$i("focusout","onBlur");$i(Mv,"onTransitionEnd");Xa("onMouseEnter",["mouseout","mouseover"]);Xa("onMouseLeave",["mouseout","mouseover"]);Xa("onPointerEnter",["pointerout","pointerover"]);Xa("onPointerLeave",["pointerout","pointerover"]);Bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pN=new Set("cancel close invalid load scroll toggle".split(" ").concat(ql));function ox(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,h_(n,t,void 0,e),e.currentTarget=null}function Fv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var u=n.length-1;0<=u;u--){var m=n[u],g=m.instance,p=m.currentTarget;if(m=m.listener,g!==a&&i.isPropagationStopped())break e;ox(i,m,p),a=g}else for(u=0;u<n.length;u++){if(m=n[u],g=m.instance,p=m.currentTarget,m=m.listener,g!==a&&i.isPropagationStopped())break e;ox(i,m,p),a=g}}}if(vd)throw e=L0,vd=!1,L0=null,e}function jt(e,t){var r=t[q0];r===void 0&&(r=t[q0]=new Set);var n=e+"__bubble";r.has(n)||(Bv(t,e,2,!1),r.add(n))}function Vh(e,t,r){var n=0;t&&(n|=4),Bv(r,e,n,t)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function yc(e){if(!e[Iu]){e[Iu]=!0,Gy.forEach(function(r){r!=="selectionchange"&&(pN.has(r)||Vh(r,!1,e),Vh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Iu]||(t[Iu]=!0,Vh("selectionchange",!1,t))}}function Bv(e,t,r,n){switch(Cv(t)){case 1:var i=I_;break;case 4:i=R_;break;default:i=Cm}r=i.bind(null,t,r,e),i=void 0,!M0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Wh(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var m=n.stateNode.containerInfo;if(m===i||m.nodeType===8&&m.parentNode===i)break;if(u===4)for(u=n.return;u!==null;){var g=u.tag;if((g===3||g===4)&&(g=u.stateNode.containerInfo,g===i||g.nodeType===8&&g.parentNode===i))return;u=u.return}for(;m!==null;){if(u=fo(m),u===null)return;if(g=u.tag,g===5||g===6){n=a=u;continue e}m=m.parentNode}}n=n.return}lv(function(){var p=a,w=wm(r),v=[];e:{var E=Lv.get(e);if(E!==void 0){var _=Sm,R=e;switch(e){case"keypress":if(nd(r)===0)break e;case"keydown":case"keyup":_=$_;break;case"focusin":R="focus",_=Mh;break;case"focusout":R="blur",_=Mh;break;case"beforeblur":case"afterblur":_=Mh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Xg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=P_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=X_;break;case Pv:case jv:case Dv:_=M_;break;case Mv:_=K_;break;case"scroll":_=O_;break;case"wheel":_=Z_;break;case"copy":case"cut":case"paste":_=F_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Kg}var N=(t&4)!==0,P=!N&&e==="scroll",I=N?E!==null?E+"Capture":null:E;N=[];for(var A=p,S;A!==null;){S=A;var j=S.stateNode;if(S.tag===5&&j!==null&&(S=j,I!==null&&(j=hc(A,I),j!=null&&N.push(vc(A,j,S)))),P)break;A=A.return}0<N.length&&(E=new _(E,R,null,r,w),v.push({event:E,listeners:N}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",E&&r!==j0&&(R=r.relatedTarget||r.fromElement)&&(fo(R)||R[Us]))break e;if((_||E)&&(E=w.window===w?w:(E=w.ownerDocument)?E.defaultView||E.parentWindow:window,_?(R=r.relatedTarget||r.toElement,_=p,R=R?fo(R):null,R!==null&&(P=Uo(R),R!==P||R.tag!==5&&R.tag!==6)&&(R=null)):(_=null,R=p),_!==R)){if(N=Xg,j="onMouseLeave",I="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(N=Kg,j="onPointerLeave",I="onPointerEnter",A="pointer"),P=_==null?E:ha(_),S=R==null?E:ha(R),E=new N(j,A+"leave",_,r,w),E.target=P,E.relatedTarget=S,j=null,fo(w)===p&&(N=new N(I,A+"enter",R,r,w),N.target=S,N.relatedTarget=P,j=N),P=j,_&&R)t:{for(N=_,I=R,A=0,S=N;S;S=Zo(S))A++;for(S=0,j=I;j;j=Zo(j))S++;for(;0<A-S;)N=Zo(N),A--;for(;0<S-A;)I=Zo(I),S--;for(;A--;){if(N===I||I!==null&&N===I.alternate)break t;N=Zo(N),I=Zo(I)}N=null}else N=null;_!==null&&ax(v,E,_,N,!1),R!==null&&P!==null&&ax(v,P,R,N,!0)}}e:{if(E=p?ha(p):window,_=E.nodeName&&E.nodeName.toLowerCase(),_==="select"||_==="input"&&E.type==="file")var z=iN;else if(Jg(E))if(Tv)z=cN;else{z=aN;var V=oN}else(_=E.nodeName)&&_.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(z=lN);if(z&&(z=z(e,p))){Nv(v,z,r,w);break e}V&&V(e,E,p),e==="focusout"&&(V=E._wrapperState)&&V.controlled&&E.type==="number"&&I0(E,"number",E.value)}switch(V=p?ha(p):window,e){case"focusin":(Jg(V)||V.contentEditable==="true")&&(da=V,z0=p,rc=null);break;case"focusout":rc=z0=da=null;break;case"mousedown":V0=!0;break;case"contextmenu":case"mouseup":case"dragend":V0=!1,sx(v,r,w);break;case"selectionchange":if(fN)break;case"keydown":case"keyup":sx(v,r,w)}var F;if(_m)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else ua?Av(e,r)&&(L="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(Sv&&r.locale!=="ko"&&(ua||L!=="onCompositionStart"?L==="onCompositionEnd"&&ua&&(F=Ev()):(Ai=w,Em="value"in Ai?Ai.value:Ai.textContent,ua=!0)),V=Ad(p,L),0<V.length&&(L=new Yg(L,e,null,r,w),v.push({event:L,listeners:V}),F?L.data=F:(F=_v(r),F!==null&&(L.data=F)))),(F=eN?tN(e,r):rN(e,r))&&(p=Ad(p,"onBeforeInput"),0<p.length&&(w=new Yg("onBeforeInput","beforeinput",null,r,w),v.push({event:w,listeners:p}),w.data=F))}Fv(v,t)})}function vc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ad(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=hc(e,r),a!=null&&n.unshift(vc(e,a,i)),a=hc(e,t),a!=null&&n.push(vc(e,a,i))),e=e.return}return n}function Zo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ax(e,t,r,n,i){for(var a=t._reactName,u=[];r!==null&&r!==n;){var m=r,g=m.alternate,p=m.stateNode;if(g!==null&&g===n)break;m.tag===5&&p!==null&&(m=p,i?(g=hc(r,a),g!=null&&u.unshift(vc(r,g,m))):i||(g=hc(r,a),g!=null&&u.push(vc(r,g,m)))),r=r.return}u.length!==0&&e.push({event:t,listeners:u})}var gN=/\r\n?/g,xN=/\u0000|\uFFFD/g;function lx(e){return(typeof e=="string"?e:""+e).replace(gN,`
`).replace(xN,"")}function Ru(e,t,r){if(t=lx(t),lx(e)!==t&&r)throw Error(ae(425))}function _d(){}var W0=null,H0=null;function $0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var G0=typeof setTimeout=="function"?setTimeout:void 0,wN=typeof clearTimeout=="function"?clearTimeout:void 0,cx=typeof Promise=="function"?Promise:void 0,yN=typeof queueMicrotask=="function"?queueMicrotask:typeof cx<"u"?function(e){return cx.resolve(null).then(e).catch(vN)}:G0;function vN(e){setTimeout(function(){throw e})}function Hh(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),gc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);gc(t)}function Oi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ux(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ll=Math.random().toString(36).slice(2),ps="__reactFiber$"+ll,bc="__reactProps$"+ll,Us="__reactContainer$"+ll,q0="__reactEvents$"+ll,bN="__reactListeners$"+ll,CN="__reactHandles$"+ll;function fo(e){var t=e[ps];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Us]||r[ps]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ux(e);e!==null;){if(r=e[ps])return r;e=ux(e)}return t}e=r,r=e.parentNode}return null}function Gc(e){return e=e[ps]||e[Us],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ha(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function vf(e){return e[bc]||null}var X0=[],ma=-1;function Gi(e){return{current:e}}function Mt(e){0>ma||(e.current=X0[ma],X0[ma]=null,ma--)}function Ot(e,t){ma++,X0[ma]=e.current,e.current=t}var Bi={},Mr=Gi(Bi),sn=Gi(!1),No=Bi;function Ya(e,t){var r=e.type.contextTypes;if(!r)return Bi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function on(e){return e=e.childContextTypes,e!=null}function Nd(){Mt(sn),Mt(Mr)}function dx(e,t,r){if(Mr.current!==Bi)throw Error(ae(168));Ot(Mr,t),Ot(sn,r)}function Uv(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ae(108,o_(e)||"Unknown",i));return Ht({},r,n)}function Td(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bi,No=Mr.current,Ot(Mr,e),Ot(sn,sn.current),!0}function fx(e,t,r){var n=e.stateNode;if(!n)throw Error(ae(169));r?(e=Uv(e,t,No),n.__reactInternalMemoizedMergedChildContext=e,Mt(sn),Mt(Mr),Ot(Mr,e)):Mt(sn),Ot(sn,r)}var Ps=null,bf=!1,$h=!1;function zv(e){Ps===null?Ps=[e]:Ps.push(e)}function EN(e){bf=!0,zv(e)}function qi(){if(!$h&&Ps!==null){$h=!0;var e=0,t=vt;try{var r=Ps;for(vt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ps=null,bf=!1}catch(i){throw Ps!==null&&(Ps=Ps.slice(e+1)),fv(ym,qi),i}finally{vt=t,$h=!1}}return null}var pa=[],ga=0,Id=null,Rd=0,Tn=[],In=0,To=null,Ds=1,Ms="";function oo(e,t){pa[ga++]=Rd,pa[ga++]=Id,Id=e,Rd=t}function Vv(e,t,r){Tn[In++]=Ds,Tn[In++]=Ms,Tn[In++]=To,To=e;var n=Ds;e=Ms;var i=32-Xn(n)-1;n&=~(1<<i),r+=1;var a=32-Xn(t)+i;if(30<a){var u=i-i%5;a=(n&(1<<u)-1).toString(32),n>>=u,i-=u,Ds=1<<32-Xn(t)+i|r<<i|n,Ms=a+e}else Ds=1<<a|r<<i|n,Ms=e}function Tm(e){e.return!==null&&(oo(e,1),Vv(e,1,0))}function Im(e){for(;e===Id;)Id=pa[--ga],pa[ga]=null,Rd=pa[--ga],pa[ga]=null;for(;e===To;)To=Tn[--In],Tn[In]=null,Ms=Tn[--In],Tn[In]=null,Ds=Tn[--In],Tn[In]=null}var gn=null,mn=null,Bt=!1,Gn=null;function Wv(e,t){var r=Rn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function hx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gn=e,mn=Oi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gn=e,mn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=To!==null?{id:Ds,overflow:Ms}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Rn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,gn=e,mn=null,!0):!1;default:return!1}}function Y0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function K0(e){if(Bt){var t=mn;if(t){var r=t;if(!hx(e,t)){if(Y0(e))throw Error(ae(418));t=Oi(r.nextSibling);var n=gn;t&&hx(e,t)?Wv(n,r):(e.flags=e.flags&-4097|2,Bt=!1,gn=e)}}else{if(Y0(e))throw Error(ae(418));e.flags=e.flags&-4097|2,Bt=!1,gn=e}}}function mx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gn=e}function Ou(e){if(e!==gn)return!1;if(!Bt)return mx(e),Bt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$0(e.type,e.memoizedProps)),t&&(t=mn)){if(Y0(e))throw Hv(),Error(ae(418));for(;t;)Wv(e,t),t=Oi(t.nextSibling)}if(mx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){mn=Oi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}mn=null}}else mn=gn?Oi(e.stateNode.nextSibling):null;return!0}function Hv(){for(var e=mn;e;)e=Oi(e.nextSibling)}function Ka(){mn=gn=null,Bt=!1}function Rm(e){Gn===null?Gn=[e]:Gn.push(e)}var SN=Gs.ReactCurrentBatchConfig;function Ml(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var n=r.stateNode}if(!n)throw Error(ae(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(u){var m=i.refs;u===null?delete m[a]:m[a]=u},t._stringRef=a,t)}if(typeof e!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,e))}return e}function ku(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function px(e){var t=e._init;return t(e._payload)}function $v(e){function t(I,A){if(e){var S=I.deletions;S===null?(I.deletions=[A],I.flags|=16):S.push(A)}}function r(I,A){if(!e)return null;for(;A!==null;)t(I,A),A=A.sibling;return null}function n(I,A){for(I=new Map;A!==null;)A.key!==null?I.set(A.key,A):I.set(A.index,A),A=A.sibling;return I}function i(I,A){return I=Di(I,A),I.index=0,I.sibling=null,I}function a(I,A,S){return I.index=S,e?(S=I.alternate,S!==null?(S=S.index,S<A?(I.flags|=2,A):S):(I.flags|=2,A)):(I.flags|=1048576,A)}function u(I){return e&&I.alternate===null&&(I.flags|=2),I}function m(I,A,S,j){return A===null||A.tag!==6?(A=Zh(S,I.mode,j),A.return=I,A):(A=i(A,S),A.return=I,A)}function g(I,A,S,j){var z=S.type;return z===ca?w(I,A,S.props.children,j,S.key):A!==null&&(A.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ui&&px(z)===A.type)?(j=i(A,S.props),j.ref=Ml(I,A,S),j.return=I,j):(j=ud(S.type,S.key,S.props,null,I.mode,j),j.ref=Ml(I,A,S),j.return=I,j)}function p(I,A,S,j){return A===null||A.tag!==4||A.stateNode.containerInfo!==S.containerInfo||A.stateNode.implementation!==S.implementation?(A=Jh(S,I.mode,j),A.return=I,A):(A=i(A,S.children||[]),A.return=I,A)}function w(I,A,S,j,z){return A===null||A.tag!==7?(A=Eo(S,I.mode,j,z),A.return=I,A):(A=i(A,S),A.return=I,A)}function v(I,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Zh(""+A,I.mode,S),A.return=I,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case bu:return S=ud(A.type,A.key,A.props,null,I.mode,S),S.ref=Ml(I,null,A),S.return=I,S;case la:return A=Jh(A,I.mode,S),A.return=I,A;case ui:var j=A._init;return v(I,j(A._payload),S)}if($l(A)||Ol(A))return A=Eo(A,I.mode,S,null),A.return=I,A;ku(I,A)}return null}function E(I,A,S,j){var z=A!==null?A.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return z!==null?null:m(I,A,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case bu:return S.key===z?g(I,A,S,j):null;case la:return S.key===z?p(I,A,S,j):null;case ui:return z=S._init,E(I,A,z(S._payload),j)}if($l(S)||Ol(S))return z!==null?null:w(I,A,S,j,null);ku(I,S)}return null}function _(I,A,S,j,z){if(typeof j=="string"&&j!==""||typeof j=="number")return I=I.get(S)||null,m(A,I,""+j,z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case bu:return I=I.get(j.key===null?S:j.key)||null,g(A,I,j,z);case la:return I=I.get(j.key===null?S:j.key)||null,p(A,I,j,z);case ui:var V=j._init;return _(I,A,S,V(j._payload),z)}if($l(j)||Ol(j))return I=I.get(S)||null,w(A,I,j,z,null);ku(A,j)}return null}function R(I,A,S,j){for(var z=null,V=null,F=A,L=A=0,D=null;F!==null&&L<S.length;L++){F.index>L?(D=F,F=null):D=F.sibling;var W=E(I,F,S[L],j);if(W===null){F===null&&(F=D);break}e&&F&&W.alternate===null&&t(I,F),A=a(W,A,L),V===null?z=W:V.sibling=W,V=W,F=D}if(L===S.length)return r(I,F),Bt&&oo(I,L),z;if(F===null){for(;L<S.length;L++)F=v(I,S[L],j),F!==null&&(A=a(F,A,L),V===null?z=F:V.sibling=F,V=F);return Bt&&oo(I,L),z}for(F=n(I,F);L<S.length;L++)D=_(F,I,L,S[L],j),D!==null&&(e&&D.alternate!==null&&F.delete(D.key===null?L:D.key),A=a(D,A,L),V===null?z=D:V.sibling=D,V=D);return e&&F.forEach(function(Q){return t(I,Q)}),Bt&&oo(I,L),z}function N(I,A,S,j){var z=Ol(S);if(typeof z!="function")throw Error(ae(150));if(S=z.call(S),S==null)throw Error(ae(151));for(var V=z=null,F=A,L=A=0,D=null,W=S.next();F!==null&&!W.done;L++,W=S.next()){F.index>L?(D=F,F=null):D=F.sibling;var Q=E(I,F,W.value,j);if(Q===null){F===null&&(F=D);break}e&&F&&Q.alternate===null&&t(I,F),A=a(Q,A,L),V===null?z=Q:V.sibling=Q,V=Q,F=D}if(W.done)return r(I,F),Bt&&oo(I,L),z;if(F===null){for(;!W.done;L++,W=S.next())W=v(I,W.value,j),W!==null&&(A=a(W,A,L),V===null?z=W:V.sibling=W,V=W);return Bt&&oo(I,L),z}for(F=n(I,F);!W.done;L++,W=S.next())W=_(F,I,L,W.value,j),W!==null&&(e&&W.alternate!==null&&F.delete(W.key===null?L:W.key),A=a(W,A,L),V===null?z=W:V.sibling=W,V=W);return e&&F.forEach(function(q){return t(I,q)}),Bt&&oo(I,L),z}function P(I,A,S,j){if(typeof S=="object"&&S!==null&&S.type===ca&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case bu:e:{for(var z=S.key,V=A;V!==null;){if(V.key===z){if(z=S.type,z===ca){if(V.tag===7){r(I,V.sibling),A=i(V,S.props.children),A.return=I,I=A;break e}}else if(V.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ui&&px(z)===V.type){r(I,V.sibling),A=i(V,S.props),A.ref=Ml(I,V,S),A.return=I,I=A;break e}r(I,V);break}else t(I,V);V=V.sibling}S.type===ca?(A=Eo(S.props.children,I.mode,j,S.key),A.return=I,I=A):(j=ud(S.type,S.key,S.props,null,I.mode,j),j.ref=Ml(I,A,S),j.return=I,I=j)}return u(I);case la:e:{for(V=S.key;A!==null;){if(A.key===V)if(A.tag===4&&A.stateNode.containerInfo===S.containerInfo&&A.stateNode.implementation===S.implementation){r(I,A.sibling),A=i(A,S.children||[]),A.return=I,I=A;break e}else{r(I,A);break}else t(I,A);A=A.sibling}A=Jh(S,I.mode,j),A.return=I,I=A}return u(I);case ui:return V=S._init,P(I,A,V(S._payload),j)}if($l(S))return R(I,A,S,j);if(Ol(S))return N(I,A,S,j);ku(I,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,A!==null&&A.tag===6?(r(I,A.sibling),A=i(A,S),A.return=I,I=A):(r(I,A),A=Zh(S,I.mode,j),A.return=I,I=A),u(I)):r(I,A)}return P}var Qa=$v(!0),Gv=$v(!1),Od=Gi(null),kd=null,xa=null,Om=null;function km(){Om=xa=kd=null}function Pm(e){var t=Od.current;Mt(Od),e._currentValue=t}function Q0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Aa(e,t){kd=e,Om=xa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nn=!0),e.firstContext=null)}function Pn(e){var t=e._currentValue;if(Om!==e)if(e={context:e,memoizedValue:t,next:null},xa===null){if(kd===null)throw Error(ae(308));xa=e,kd.dependencies={lanes:0,firstContext:e}}else xa=xa.next=e;return t}var ho=null;function jm(e){ho===null?ho=[e]:ho.push(e)}function qv(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,jm(t)):(r.next=i.next,i.next=r),t.interleaved=r,zs(e,n)}function zs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var di=!1;function Dm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ls(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ki(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,dt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,zs(e,r)}return i=n.interleaved,i===null?(t.next=t,jm(n)):(t.next=i.next,i.next=t),n.interleaved=t,zs(e,r)}function sd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vm(e,r)}}function gx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=u:a=a.next=u,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Pd(e,t,r,n){var i=e.updateQueue;di=!1;var a=i.firstBaseUpdate,u=i.lastBaseUpdate,m=i.shared.pending;if(m!==null){i.shared.pending=null;var g=m,p=g.next;g.next=null,u===null?a=p:u.next=p,u=g;var w=e.alternate;w!==null&&(w=w.updateQueue,m=w.lastBaseUpdate,m!==u&&(m===null?w.firstBaseUpdate=p:m.next=p,w.lastBaseUpdate=g))}if(a!==null){var v=i.baseState;u=0,w=p=g=null,m=a;do{var E=m.lane,_=m.eventTime;if((n&E)===E){w!==null&&(w=w.next={eventTime:_,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var R=e,N=m;switch(E=t,_=r,N.tag){case 1:if(R=N.payload,typeof R=="function"){v=R.call(_,v,E);break e}v=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=N.payload,E=typeof R=="function"?R.call(_,v,E):R,E==null)break e;v=Ht({},v,E);break e;case 2:di=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,E=i.effects,E===null?i.effects=[m]:E.push(m))}else _={eventTime:_,lane:E,tag:m.tag,payload:m.payload,callback:m.callback,next:null},w===null?(p=w=_,g=v):w=w.next=_,u|=E;if(m=m.next,m===null){if(m=i.shared.pending,m===null)break;E=m,m=E.next,E.next=null,i.lastBaseUpdate=E,i.shared.pending=null}}while(!0);if(w===null&&(g=v),i.baseState=g,i.firstBaseUpdate=p,i.lastBaseUpdate=w,t=i.shared.interleaved,t!==null){i=t;do u|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ro|=u,e.lanes=u,e.memoizedState=v}}function xx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ae(191,i));i.call(n)}}}var qc={},vs=Gi(qc),Cc=Gi(qc),Ec=Gi(qc);function mo(e){if(e===qc)throw Error(ae(174));return e}function Mm(e,t){switch(Ot(Ec,t),Ot(Cc,e),Ot(vs,qc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:O0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=O0(t,e)}Mt(vs),Ot(vs,t)}function Za(){Mt(vs),Mt(Cc),Mt(Ec)}function Yv(e){mo(Ec.current);var t=mo(vs.current),r=O0(t,e.type);t!==r&&(Ot(Cc,e),Ot(vs,r))}function Lm(e){Cc.current===e&&(Mt(vs),Mt(Cc))}var Vt=Gi(0);function jd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gh=[];function Fm(){for(var e=0;e<Gh.length;e++)Gh[e]._workInProgressVersionPrimary=null;Gh.length=0}var id=Gs.ReactCurrentDispatcher,qh=Gs.ReactCurrentBatchConfig,Io=0,Wt=null,ar=null,gr=null,Dd=!1,nc=!1,Sc=0,AN=0;function kr(){throw Error(ae(321))}function Bm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Kn(e[r],t[r]))return!1;return!0}function Um(e,t,r,n,i,a){if(Io=a,Wt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,id.current=e===null||e.memoizedState===null?IN:RN,e=r(n,i),nc){a=0;do{if(nc=!1,Sc=0,25<=a)throw Error(ae(301));a+=1,gr=ar=null,t.updateQueue=null,id.current=ON,e=r(n,i)}while(nc)}if(id.current=Md,t=ar!==null&&ar.next!==null,Io=0,gr=ar=Wt=null,Dd=!1,t)throw Error(ae(300));return e}function zm(){var e=Sc!==0;return Sc=0,e}function us(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?Wt.memoizedState=gr=e:gr=gr.next=e,gr}function jn(){if(ar===null){var e=Wt.alternate;e=e!==null?e.memoizedState:null}else e=ar.next;var t=gr===null?Wt.memoizedState:gr.next;if(t!==null)gr=t,ar=e;else{if(e===null)throw Error(ae(310));ar=e,e={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},gr===null?Wt.memoizedState=gr=e:gr=gr.next=e}return gr}function Ac(e,t){return typeof t=="function"?t(e):t}function Xh(e){var t=jn(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=ar,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var u=i.next;i.next=a.next,a.next=u}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var m=u=null,g=null,p=a;do{var w=p.lane;if((Io&w)===w)g!==null&&(g=g.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),n=p.hasEagerState?p.eagerState:e(n,p.action);else{var v={lane:w,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};g===null?(m=g=v,u=n):g=g.next=v,Wt.lanes|=w,Ro|=w}p=p.next}while(p!==null&&p!==a);g===null?u=n:g.next=m,Kn(n,t.memoizedState)||(nn=!0),t.memoizedState=n,t.baseState=u,t.baseQueue=g,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Wt.lanes|=a,Ro|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Yh(e){var t=jn(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var u=i=i.next;do a=e(a,u.action),u=u.next;while(u!==i);Kn(a,t.memoizedState)||(nn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Kv(){}function Qv(e,t){var r=Wt,n=jn(),i=t(),a=!Kn(n.memoizedState,i);if(a&&(n.memoizedState=i,nn=!0),n=n.queue,Vm(e2.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||gr!==null&&gr.memoizedState.tag&1){if(r.flags|=2048,_c(9,Jv.bind(null,r,n,i,t),void 0,null),wr===null)throw Error(ae(349));Io&30||Zv(r,t,i)}return i}function Zv(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Wt.updateQueue,t===null?(t={lastEffect:null,stores:null},Wt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Jv(e,t,r,n){t.value=r,t.getSnapshot=n,t2(t)&&r2(e)}function e2(e,t,r){return r(function(){t2(t)&&r2(e)})}function t2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Kn(e,r)}catch{return!0}}function r2(e){var t=zs(e,1);t!==null&&Yn(t,e,1,-1)}function wx(e){var t=us();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ac,lastRenderedState:e},t.queue=e,e=e.dispatch=TN.bind(null,Wt,e),[t.memoizedState,e]}function _c(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Wt.updateQueue,t===null?(t={lastEffect:null,stores:null},Wt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function n2(){return jn().memoizedState}function od(e,t,r,n){var i=us();Wt.flags|=e,i.memoizedState=_c(1|t,r,void 0,n===void 0?null:n)}function Cf(e,t,r,n){var i=jn();n=n===void 0?null:n;var a=void 0;if(ar!==null){var u=ar.memoizedState;if(a=u.destroy,n!==null&&Bm(n,u.deps)){i.memoizedState=_c(t,r,a,n);return}}Wt.flags|=e,i.memoizedState=_c(1|t,r,a,n)}function yx(e,t){return od(8390656,8,e,t)}function Vm(e,t){return Cf(2048,8,e,t)}function s2(e,t){return Cf(4,2,e,t)}function i2(e,t){return Cf(4,4,e,t)}function o2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function a2(e,t,r){return r=r!=null?r.concat([e]):null,Cf(4,4,o2.bind(null,t,e),r)}function Wm(){}function l2(e,t){var r=jn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function c2(e,t){var r=jn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function u2(e,t,r){return Io&21?(Kn(r,t)||(r=pv(),Wt.lanes|=r,Ro|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nn=!0),e.memoizedState=r)}function _N(e,t){var r=vt;vt=r!==0&&4>r?r:4,e(!0);var n=qh.transition;qh.transition={};try{e(!1),t()}finally{vt=r,qh.transition=n}}function d2(){return jn().memoizedState}function NN(e,t,r){var n=ji(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},f2(e))h2(t,r);else if(r=qv(e,t,r,n),r!==null){var i=Wr();Yn(r,e,n,i),m2(r,t,n)}}function TN(e,t,r){var n=ji(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(f2(e))h2(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,m=a(u,r);if(i.hasEagerState=!0,i.eagerState=m,Kn(m,u)){var g=t.interleaved;g===null?(i.next=i,jm(t)):(i.next=g.next,g.next=i),t.interleaved=i;return}}catch{}finally{}r=qv(e,t,i,n),r!==null&&(i=Wr(),Yn(r,e,n,i),m2(r,t,n))}}function f2(e){var t=e.alternate;return e===Wt||t!==null&&t===Wt}function h2(e,t){nc=Dd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function m2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vm(e,r)}}var Md={readContext:Pn,useCallback:kr,useContext:kr,useEffect:kr,useImperativeHandle:kr,useInsertionEffect:kr,useLayoutEffect:kr,useMemo:kr,useReducer:kr,useRef:kr,useState:kr,useDebugValue:kr,useDeferredValue:kr,useTransition:kr,useMutableSource:kr,useSyncExternalStore:kr,useId:kr,unstable_isNewReconciler:!1},IN={readContext:Pn,useCallback:function(e,t){return us().memoizedState=[e,t===void 0?null:t],e},useContext:Pn,useEffect:yx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,od(4194308,4,o2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return od(4194308,4,e,t)},useInsertionEffect:function(e,t){return od(4,2,e,t)},useMemo:function(e,t){var r=us();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=us();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=NN.bind(null,Wt,e),[n.memoizedState,e]},useRef:function(e){var t=us();return e={current:e},t.memoizedState=e},useState:wx,useDebugValue:Wm,useDeferredValue:function(e){return us().memoizedState=e},useTransition:function(){var e=wx(!1),t=e[0];return e=_N.bind(null,e[1]),us().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Wt,i=us();if(Bt){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=t(),wr===null)throw Error(ae(349));Io&30||Zv(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,yx(e2.bind(null,n,a,e),[e]),n.flags|=2048,_c(9,Jv.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=us(),t=wr.identifierPrefix;if(Bt){var r=Ms,n=Ds;r=(n&~(1<<32-Xn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Sc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=AN++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},RN={readContext:Pn,useCallback:l2,useContext:Pn,useEffect:Vm,useImperativeHandle:a2,useInsertionEffect:s2,useLayoutEffect:i2,useMemo:c2,useReducer:Xh,useRef:n2,useState:function(){return Xh(Ac)},useDebugValue:Wm,useDeferredValue:function(e){var t=jn();return u2(t,ar.memoizedState,e)},useTransition:function(){var e=Xh(Ac)[0],t=jn().memoizedState;return[e,t]},useMutableSource:Kv,useSyncExternalStore:Qv,useId:d2,unstable_isNewReconciler:!1},ON={readContext:Pn,useCallback:l2,useContext:Pn,useEffect:Vm,useImperativeHandle:a2,useInsertionEffect:s2,useLayoutEffect:i2,useMemo:c2,useReducer:Yh,useRef:n2,useState:function(){return Yh(Ac)},useDebugValue:Wm,useDeferredValue:function(e){var t=jn();return ar===null?t.memoizedState=e:u2(t,ar.memoizedState,e)},useTransition:function(){var e=Yh(Ac)[0],t=jn().memoizedState;return[e,t]},useMutableSource:Kv,useSyncExternalStore:Qv,useId:d2,unstable_isNewReconciler:!1};function Vn(e,t){if(e&&e.defaultProps){t=Ht({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Z0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ht({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ef={isMounted:function(e){return(e=e._reactInternals)?Uo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Wr(),i=ji(e),a=Ls(n,i);a.payload=t,r!=null&&(a.callback=r),t=ki(e,a,i),t!==null&&(Yn(t,e,i,n),sd(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Wr(),i=ji(e),a=Ls(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ki(e,a,i),t!==null&&(Yn(t,e,i,n),sd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Wr(),n=ji(e),i=Ls(r,n);i.tag=2,t!=null&&(i.callback=t),t=ki(e,i,n),t!==null&&(Yn(t,e,n,r),sd(t,e,n))}};function vx(e,t,r,n,i,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,u):t.prototype&&t.prototype.isPureReactComponent?!wc(r,n)||!wc(i,a):!0}function p2(e,t,r){var n=!1,i=Bi,a=t.contextType;return typeof a=="object"&&a!==null?a=Pn(a):(i=on(t)?No:Mr.current,n=t.contextTypes,a=(n=n!=null)?Ya(e,i):Bi),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ef,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function bx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ef.enqueueReplaceState(t,t.state,null)}function J0(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Dm(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Pn(a):(a=on(t)?No:Mr.current,i.context=Ya(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Z0(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ef.enqueueReplaceState(i,i.state,null),Pd(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ja(e,t){try{var r="",n=t;do r+=i_(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Kh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function e1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kN=typeof WeakMap=="function"?WeakMap:Map;function g2(e,t,r){r=Ls(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Fd||(Fd=!0,u1=n),e1(e,t)},r}function x2(e,t,r){r=Ls(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){e1(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){e1(e,t),typeof n!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),r}function Cx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new kN;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=GN.bind(null,e,t,r),t.then(e,e))}function Ex(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sx(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ls(-1,1),t.tag=2,ki(r,t,1))),r.lanes|=1),e)}var PN=Gs.ReactCurrentOwner,nn=!1;function Vr(e,t,r,n){t.child=e===null?Gv(t,null,r,n):Qa(t,e.child,r,n)}function Ax(e,t,r,n,i){r=r.render;var a=t.ref;return Aa(t,i),n=Um(e,t,r,n,a,i),r=zm(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i)):(Bt&&r&&Tm(t),t.flags|=1,Vr(e,t,n,i),t.child)}function _x(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Qm(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,w2(e,t,a,n,i)):(e=ud(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var u=a.memoizedProps;if(r=r.compare,r=r!==null?r:wc,r(u,n)&&e.ref===t.ref)return Vs(e,t,i)}return t.flags|=1,e=Di(a,n),e.ref=t.ref,e.return=t,t.child=e}function w2(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(wc(a,n)&&e.ref===t.ref)if(nn=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(nn=!0);else return t.lanes=e.lanes,Vs(e,t,i)}return t1(e,t,r,n,i)}function y2(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(ya,dn),dn|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ot(ya,dn),dn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ot(ya,dn),dn|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ot(ya,dn),dn|=n;return Vr(e,t,i,r),t.child}function v2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function t1(e,t,r,n,i){var a=on(r)?No:Mr.current;return a=Ya(t,a),Aa(t,i),r=Um(e,t,r,n,a,i),n=zm(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i)):(Bt&&n&&Tm(t),t.flags|=1,Vr(e,t,r,i),t.child)}function Nx(e,t,r,n,i){if(on(r)){var a=!0;Td(t)}else a=!1;if(Aa(t,i),t.stateNode===null)ad(e,t),p2(t,r,n),J0(t,r,n,i),n=!0;else if(e===null){var u=t.stateNode,m=t.memoizedProps;u.props=m;var g=u.context,p=r.contextType;typeof p=="object"&&p!==null?p=Pn(p):(p=on(r)?No:Mr.current,p=Ya(t,p));var w=r.getDerivedStateFromProps,v=typeof w=="function"||typeof u.getSnapshotBeforeUpdate=="function";v||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==n||g!==p)&&bx(t,u,n,p),di=!1;var E=t.memoizedState;u.state=E,Pd(t,n,u,i),g=t.memoizedState,m!==n||E!==g||sn.current||di?(typeof w=="function"&&(Z0(t,r,w,n),g=t.memoizedState),(m=di||vx(t,r,m,n,E,g,p))?(v||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=g),u.props=n,u.state=g,u.context=p,n=m):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{u=t.stateNode,Xv(e,t),m=t.memoizedProps,p=t.type===t.elementType?m:Vn(t.type,m),u.props=p,v=t.pendingProps,E=u.context,g=r.contextType,typeof g=="object"&&g!==null?g=Pn(g):(g=on(r)?No:Mr.current,g=Ya(t,g));var _=r.getDerivedStateFromProps;(w=typeof _=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==v||E!==g)&&bx(t,u,n,g),di=!1,E=t.memoizedState,u.state=E,Pd(t,n,u,i);var R=t.memoizedState;m!==v||E!==R||sn.current||di?(typeof _=="function"&&(Z0(t,r,_,n),R=t.memoizedState),(p=di||vx(t,r,p,n,E,R,g)||!1)?(w||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,R,g),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,R,g)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=R),u.props=n,u.state=R,u.context=g,n=p):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),n=!1)}return r1(e,t,r,n,a,i)}function r1(e,t,r,n,i,a){v2(e,t);var u=(t.flags&128)!==0;if(!n&&!u)return i&&fx(t,r,!1),Vs(e,t,a);n=t.stateNode,PN.current=t;var m=u&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&u?(t.child=Qa(t,e.child,null,a),t.child=Qa(t,null,m,a)):Vr(e,t,m,a),t.memoizedState=n.state,i&&fx(t,r,!0),t.child}function b2(e){var t=e.stateNode;t.pendingContext?dx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dx(e,t.context,!1),Mm(e,t.containerInfo)}function Tx(e,t,r,n,i){return Ka(),Rm(i),t.flags|=256,Vr(e,t,r,n),t.child}var n1={dehydrated:null,treeContext:null,retryLane:0};function s1(e){return{baseLanes:e,cachePool:null,transitions:null}}function C2(e,t,r){var n=t.pendingProps,i=Vt.current,a=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(i&2)!==0),m?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ot(Vt,i&1),e===null)return K0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=n.children,e=n.fallback,a?(n=t.mode,a=t.child,u={mode:"hidden",children:u},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=_f(u,n,0,null),e=Eo(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=s1(r),t.memoizedState=n1,e):Hm(t,u));if(i=e.memoizedState,i!==null&&(m=i.dehydrated,m!==null))return jN(e,t,u,n,m,i,r);if(a){a=n.fallback,u=t.mode,i=e.child,m=i.sibling;var g={mode:"hidden",children:n.children};return!(u&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=g,t.deletions=null):(n=Di(i,g),n.subtreeFlags=i.subtreeFlags&14680064),m!==null?a=Di(m,a):(a=Eo(a,u,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,u=e.child.memoizedState,u=u===null?s1(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~r,t.memoizedState=n1,n}return a=e.child,e=a.sibling,n=Di(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Hm(e,t){return t=_f({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pu(e,t,r,n){return n!==null&&Rm(n),Qa(t,e.child,null,r),e=Hm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jN(e,t,r,n,i,a,u){if(r)return t.flags&256?(t.flags&=-257,n=Kh(Error(ae(422))),Pu(e,t,u,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=_f({mode:"visible",children:n.children},i,0,null),a=Eo(a,i,u,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Qa(t,e.child,null,u),t.child.memoizedState=s1(u),t.memoizedState=n1,a);if(!(t.mode&1))return Pu(e,t,u,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var m=n.dgst;return n=m,a=Error(ae(419)),n=Kh(a,n,void 0),Pu(e,t,u,n)}if(m=(u&e.childLanes)!==0,nn||m){if(n=wr,n!==null){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|u)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,zs(e,i),Yn(n,e,i,-1))}return Km(),n=Kh(Error(ae(421))),Pu(e,t,u,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=qN.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,mn=Oi(i.nextSibling),gn=t,Bt=!0,Gn=null,e!==null&&(Tn[In++]=Ds,Tn[In++]=Ms,Tn[In++]=To,Ds=e.id,Ms=e.overflow,To=t),t=Hm(t,n.children),t.flags|=4096,t)}function Ix(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Q0(e.return,t,r)}function Qh(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function E2(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Vr(e,t,n.children,r),n=Vt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ix(e,r,t);else if(e.tag===19)Ix(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ot(Vt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&jd(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Qh(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&jd(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Qh(t,!0,r,null,a);break;case"together":Qh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ad(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ro|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,r=Di(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Di(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function DN(e,t,r){switch(t.tag){case 3:b2(t),Ka();break;case 5:Yv(t);break;case 1:on(t.type)&&Td(t);break;case 4:Mm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ot(Od,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ot(Vt,Vt.current&1),t.flags|=128,null):r&t.child.childLanes?C2(e,t,r):(Ot(Vt,Vt.current&1),e=Vs(e,t,r),e!==null?e.sibling:null);Ot(Vt,Vt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return E2(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ot(Vt,Vt.current),n)break;return null;case 22:case 23:return t.lanes=0,y2(e,t,r)}return Vs(e,t,r)}var S2,i1,A2,_2;S2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};i1=function(){};A2=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,mo(vs.current);var a=null;switch(r){case"input":i=N0(e,i),n=N0(e,n),a=[];break;case"select":i=Ht({},i,{value:void 0}),n=Ht({},n,{value:void 0}),a=[];break;case"textarea":i=R0(e,i),n=R0(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=_d)}k0(r,n);var u;r=null;for(p in i)if(!n.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var m=i[p];for(u in m)m.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(dc.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in n){var g=n[p];if(m=i!=null?i[p]:void 0,n.hasOwnProperty(p)&&g!==m&&(g!=null||m!=null))if(p==="style")if(m){for(u in m)!m.hasOwnProperty(u)||g&&g.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in g)g.hasOwnProperty(u)&&m[u]!==g[u]&&(r||(r={}),r[u]=g[u])}else r||(a||(a=[]),a.push(p,r)),r=g;else p==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,m=m?m.__html:void 0,g!=null&&m!==g&&(a=a||[]).push(p,g)):p==="children"?typeof g!="string"&&typeof g!="number"||(a=a||[]).push(p,""+g):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(dc.hasOwnProperty(p)?(g!=null&&p==="onScroll"&&jt("scroll",e),a||m===g||(a=[])):(a=a||[]).push(p,g))}r&&(a=a||[]).push("style",r);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};_2=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ll(e,t){if(!Bt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Pr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function MN(e,t,r){var n=t.pendingProps;switch(Im(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(t),null;case 1:return on(t.type)&&Nd(),Pr(t),null;case 3:return n=t.stateNode,Za(),Mt(sn),Mt(Mr),Fm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ou(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gn!==null&&(h1(Gn),Gn=null))),i1(e,t),Pr(t),null;case 5:Lm(t);var i=mo(Ec.current);if(r=t.type,e!==null&&t.stateNode!=null)A2(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ae(166));return Pr(t),null}if(e=mo(vs.current),Ou(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ps]=t,n[bc]=a,e=(t.mode&1)!==0,r){case"dialog":jt("cancel",n),jt("close",n);break;case"iframe":case"object":case"embed":jt("load",n);break;case"video":case"audio":for(i=0;i<ql.length;i++)jt(ql[i],n);break;case"source":jt("error",n);break;case"img":case"image":case"link":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"input":Fg(n,a),jt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},jt("invalid",n);break;case"textarea":Ug(n,a),jt("invalid",n)}k0(r,a),i=null;for(var u in a)if(a.hasOwnProperty(u)){var m=a[u];u==="children"?typeof m=="string"?n.textContent!==m&&(a.suppressHydrationWarning!==!0&&Ru(n.textContent,m,e),i=["children",m]):typeof m=="number"&&n.textContent!==""+m&&(a.suppressHydrationWarning!==!0&&Ru(n.textContent,m,e),i=["children",""+m]):dc.hasOwnProperty(u)&&m!=null&&u==="onScroll"&&jt("scroll",n)}switch(r){case"input":Cu(n),Bg(n,a,!0);break;case"textarea":Cu(n),zg(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=_d)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ev(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),r==="select"&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r),e[ps]=t,e[bc]=n,S2(e,t,!1,!1),t.stateNode=e;e:{switch(u=P0(r,n),r){case"dialog":jt("cancel",e),jt("close",e),i=n;break;case"iframe":case"object":case"embed":jt("load",e),i=n;break;case"video":case"audio":for(i=0;i<ql.length;i++)jt(ql[i],e);i=n;break;case"source":jt("error",e),i=n;break;case"img":case"image":case"link":jt("error",e),jt("load",e),i=n;break;case"details":jt("toggle",e),i=n;break;case"input":Fg(e,n),i=N0(e,n),jt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ht({},n,{value:void 0}),jt("invalid",e);break;case"textarea":Ug(e,n),i=R0(e,n),jt("invalid",e);break;default:i=n}k0(r,i),m=i;for(a in m)if(m.hasOwnProperty(a)){var g=m[a];a==="style"?nv(e,g):a==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&tv(e,g)):a==="children"?typeof g=="string"?(r!=="textarea"||g!=="")&&fc(e,g):typeof g=="number"&&fc(e,""+g):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(dc.hasOwnProperty(a)?g!=null&&a==="onScroll"&&jt("scroll",e):g!=null&&mm(e,a,g,u))}switch(r){case"input":Cu(e),Bg(e,n,!1);break;case"textarea":Cu(e),zg(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Fi(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?ba(e,!!n.multiple,a,!1):n.defaultValue!=null&&ba(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=_d)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pr(t),null;case 6:if(e&&t.stateNode!=null)_2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ae(166));if(r=mo(Ec.current),mo(vs.current),Ou(t)){if(n=t.stateNode,r=t.memoizedProps,n[ps]=t,(a=n.nodeValue!==r)&&(e=gn,e!==null))switch(e.tag){case 3:Ru(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ru(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ps]=t,t.stateNode=n}return Pr(t),null;case 13:if(Mt(Vt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Bt&&mn!==null&&t.mode&1&&!(t.flags&128))Hv(),Ka(),t.flags|=98560,a=!1;else if(a=Ou(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ae(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ae(317));a[ps]=t}else Ka(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pr(t),a=!1}else Gn!==null&&(h1(Gn),Gn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Vt.current&1?cr===0&&(cr=3):Km())),t.updateQueue!==null&&(t.flags|=4),Pr(t),null);case 4:return Za(),i1(e,t),e===null&&yc(t.stateNode.containerInfo),Pr(t),null;case 10:return Pm(t.type._context),Pr(t),null;case 17:return on(t.type)&&Nd(),Pr(t),null;case 19:if(Mt(Vt),a=t.memoizedState,a===null)return Pr(t),null;if(n=(t.flags&128)!==0,u=a.rendering,u===null)if(n)Ll(a,!1);else{if(cr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=jd(e),u!==null){for(t.flags|=128,Ll(a,!1),n=u.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ot(Vt,Vt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Qt()>el&&(t.flags|=128,n=!0,Ll(a,!1),t.lanes=4194304)}else{if(!n)if(e=jd(u),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ll(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!Bt)return Pr(t),null}else 2*Qt()-a.renderingStartTime>el&&r!==1073741824&&(t.flags|=128,n=!0,Ll(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(r=a.last,r!==null?r.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qt(),t.sibling=null,r=Vt.current,Ot(Vt,n?r&1|2:r&1),t):(Pr(t),null);case 22:case 23:return Ym(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?dn&1073741824&&(Pr(t),t.subtreeFlags&6&&(t.flags|=8192)):Pr(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function LN(e,t){switch(Im(t),t.tag){case 1:return on(t.type)&&Nd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Za(),Mt(sn),Mt(Mr),Fm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Lm(t),null;case 13:if(Mt(Vt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));Ka()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Mt(Vt),null;case 4:return Za(),null;case 10:return Pm(t.type._context),null;case 22:case 23:return Ym(),null;case 24:return null;default:return null}}var ju=!1,Dr=!1,FN=typeof WeakSet=="function"?WeakSet:Set,Se=null;function wa(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Yt(e,t,n)}else r.current=null}function o1(e,t,r){try{r()}catch(n){Yt(e,t,n)}}var Rx=!1;function BN(e,t){if(W0=Ed,e=Ov(),Nm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var u=0,m=-1,g=-1,p=0,w=0,v=e,E=null;t:for(;;){for(var _;v!==r||i!==0&&v.nodeType!==3||(m=u+i),v!==a||n!==0&&v.nodeType!==3||(g=u+n),v.nodeType===3&&(u+=v.nodeValue.length),(_=v.firstChild)!==null;)E=v,v=_;for(;;){if(v===e)break t;if(E===r&&++p===i&&(m=u),E===a&&++w===n&&(g=u),(_=v.nextSibling)!==null)break;v=E,E=v.parentNode}v=_}r=m===-1||g===-1?null:{start:m,end:g}}else r=null}r=r||{start:0,end:0}}else r=null;for(H0={focusedElem:e,selectionRange:r},Ed=!1,Se=t;Se!==null;)if(t=Se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Se=e;else for(;Se!==null;){t=Se;try{var R=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var N=R.memoizedProps,P=R.memoizedState,I=t.stateNode,A=I.getSnapshotBeforeUpdate(t.elementType===t.type?N:Vn(t.type,N),P);I.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(j){Yt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Se=e;break}Se=t.return}return R=Rx,Rx=!1,R}function sc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&o1(t,r,a)}i=i.next}while(i!==n)}}function Sf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function a1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function N2(e){var t=e.alternate;t!==null&&(e.alternate=null,N2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ps],delete t[bc],delete t[q0],delete t[bN],delete t[CN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function T2(e){return e.tag===5||e.tag===3||e.tag===4}function Ox(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||T2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function l1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=_d));else if(n!==4&&(e=e.child,e!==null))for(l1(e,t,r),e=e.sibling;e!==null;)l1(e,t,r),e=e.sibling}function c1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(c1(e,t,r),e=e.sibling;e!==null;)c1(e,t,r),e=e.sibling}var Ar=null,Hn=!1;function ri(e,t,r){for(r=r.child;r!==null;)I2(e,t,r),r=r.sibling}function I2(e,t,r){if(ys&&typeof ys.onCommitFiberUnmount=="function")try{ys.onCommitFiberUnmount(gf,r)}catch{}switch(r.tag){case 5:Dr||wa(r,t);case 6:var n=Ar,i=Hn;Ar=null,ri(e,t,r),Ar=n,Hn=i,Ar!==null&&(Hn?(e=Ar,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ar.removeChild(r.stateNode));break;case 18:Ar!==null&&(Hn?(e=Ar,r=r.stateNode,e.nodeType===8?Hh(e.parentNode,r):e.nodeType===1&&Hh(e,r),gc(e)):Hh(Ar,r.stateNode));break;case 4:n=Ar,i=Hn,Ar=r.stateNode.containerInfo,Hn=!0,ri(e,t,r),Ar=n,Hn=i;break;case 0:case 11:case 14:case 15:if(!Dr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&o1(r,t,u),i=i.next}while(i!==n)}ri(e,t,r);break;case 1:if(!Dr&&(wa(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(m){Yt(r,t,m)}ri(e,t,r);break;case 21:ri(e,t,r);break;case 22:r.mode&1?(Dr=(n=Dr)||r.memoizedState!==null,ri(e,t,r),Dr=n):ri(e,t,r);break;default:ri(e,t,r)}}function kx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new FN),t.forEach(function(n){var i=XN.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Bn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,u=t,m=u;e:for(;m!==null;){switch(m.tag){case 5:Ar=m.stateNode,Hn=!1;break e;case 3:Ar=m.stateNode.containerInfo,Hn=!0;break e;case 4:Ar=m.stateNode.containerInfo,Hn=!0;break e}m=m.return}if(Ar===null)throw Error(ae(160));I2(a,u,i),Ar=null,Hn=!1;var g=i.alternate;g!==null&&(g.return=null),i.return=null}catch(p){Yt(i,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)R2(t,e),t=t.sibling}function R2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bn(t,e),ls(e),n&4){try{sc(3,e,e.return),Sf(3,e)}catch(N){Yt(e,e.return,N)}try{sc(5,e,e.return)}catch(N){Yt(e,e.return,N)}}break;case 1:Bn(t,e),ls(e),n&512&&r!==null&&wa(r,r.return);break;case 5:if(Bn(t,e),ls(e),n&512&&r!==null&&wa(r,r.return),e.flags&32){var i=e.stateNode;try{fc(i,"")}catch(N){Yt(e,e.return,N)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,u=r!==null?r.memoizedProps:a,m=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{m==="input"&&a.type==="radio"&&a.name!=null&&Zy(i,a),P0(m,u);var p=P0(m,a);for(u=0;u<g.length;u+=2){var w=g[u],v=g[u+1];w==="style"?nv(i,v):w==="dangerouslySetInnerHTML"?tv(i,v):w==="children"?fc(i,v):mm(i,w,v,p)}switch(m){case"input":T0(i,a);break;case"textarea":Jy(i,a);break;case"select":var E=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var _=a.value;_!=null?ba(i,!!a.multiple,_,!1):E!==!!a.multiple&&(a.defaultValue!=null?ba(i,!!a.multiple,a.defaultValue,!0):ba(i,!!a.multiple,a.multiple?[]:"",!1))}i[bc]=a}catch(N){Yt(e,e.return,N)}}break;case 6:if(Bn(t,e),ls(e),n&4){if(e.stateNode===null)throw Error(ae(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(N){Yt(e,e.return,N)}}break;case 3:if(Bn(t,e),ls(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gc(t.containerInfo)}catch(N){Yt(e,e.return,N)}break;case 4:Bn(t,e),ls(e);break;case 13:Bn(t,e),ls(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(qm=Qt())),n&4&&kx(e);break;case 22:if(w=r!==null&&r.memoizedState!==null,e.mode&1?(Dr=(p=Dr)||w,Bn(t,e),Dr=p):Bn(t,e),ls(e),n&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!w&&e.mode&1)for(Se=e,w=e.child;w!==null;){for(v=Se=w;Se!==null;){switch(E=Se,_=E.child,E.tag){case 0:case 11:case 14:case 15:sc(4,E,E.return);break;case 1:wa(E,E.return);var R=E.stateNode;if(typeof R.componentWillUnmount=="function"){n=E,r=E.return;try{t=n,R.props=t.memoizedProps,R.state=t.memoizedState,R.componentWillUnmount()}catch(N){Yt(n,r,N)}}break;case 5:wa(E,E.return);break;case 22:if(E.memoizedState!==null){jx(v);continue}}_!==null?(_.return=E,Se=_):jx(v)}w=w.sibling}e:for(w=null,v=e;;){if(v.tag===5){if(w===null){w=v;try{i=v.stateNode,p?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(m=v.stateNode,g=v.memoizedProps.style,u=g!=null&&g.hasOwnProperty("display")?g.display:null,m.style.display=rv("display",u))}catch(N){Yt(e,e.return,N)}}}else if(v.tag===6){if(w===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(N){Yt(e,e.return,N)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;w===v&&(w=null),v=v.return}w===v&&(w=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Bn(t,e),ls(e),n&4&&kx(e);break;case 21:break;default:Bn(t,e),ls(e)}}function ls(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(T2(r)){var n=r;break e}r=r.return}throw Error(ae(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(fc(i,""),n.flags&=-33);var a=Ox(e);c1(e,a,i);break;case 3:case 4:var u=n.stateNode.containerInfo,m=Ox(e);l1(e,m,u);break;default:throw Error(ae(161))}}catch(g){Yt(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function UN(e,t,r){Se=e,O2(e)}function O2(e,t,r){for(var n=(e.mode&1)!==0;Se!==null;){var i=Se,a=i.child;if(i.tag===22&&n){var u=i.memoizedState!==null||ju;if(!u){var m=i.alternate,g=m!==null&&m.memoizedState!==null||Dr;m=ju;var p=Dr;if(ju=u,(Dr=g)&&!p)for(Se=i;Se!==null;)u=Se,g=u.child,u.tag===22&&u.memoizedState!==null?Dx(i):g!==null?(g.return=u,Se=g):Dx(i);for(;a!==null;)Se=a,O2(a),a=a.sibling;Se=i,ju=m,Dr=p}Px(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Se=a):Px(e)}}function Px(e){for(;Se!==null;){var t=Se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dr||Sf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Dr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Vn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&xx(t,a,n);break;case 3:var u=t.updateQueue;if(u!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}xx(t,u,r)}break;case 5:var m=t.stateNode;if(r===null&&t.flags&4){r=m;var g=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&r.focus();break;case"img":g.src&&(r.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var w=p.memoizedState;if(w!==null){var v=w.dehydrated;v!==null&&gc(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Dr||t.flags&512&&a1(t)}catch(E){Yt(t,t.return,E)}}if(t===e){Se=null;break}if(r=t.sibling,r!==null){r.return=t.return,Se=r;break}Se=t.return}}function jx(e){for(;Se!==null;){var t=Se;if(t===e){Se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Se=r;break}Se=t.return}}function Dx(e){for(;Se!==null;){var t=Se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Sf(4,t)}catch(g){Yt(t,r,g)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(g){Yt(t,i,g)}}var a=t.return;try{a1(t)}catch(g){Yt(t,a,g)}break;case 5:var u=t.return;try{a1(t)}catch(g){Yt(t,u,g)}}}catch(g){Yt(t,t.return,g)}if(t===e){Se=null;break}var m=t.sibling;if(m!==null){m.return=t.return,Se=m;break}Se=t.return}}var zN=Math.ceil,Ld=Gs.ReactCurrentDispatcher,$m=Gs.ReactCurrentOwner,On=Gs.ReactCurrentBatchConfig,dt=0,wr=null,tr=null,_r=0,dn=0,ya=Gi(0),cr=0,Nc=null,Ro=0,Af=0,Gm=0,ic=null,tn=null,qm=0,el=1/0,Os=null,Fd=!1,u1=null,Pi=null,Du=!1,_i=null,Bd=0,oc=0,d1=null,ld=-1,cd=0;function Wr(){return dt&6?Qt():ld!==-1?ld:ld=Qt()}function ji(e){return e.mode&1?dt&2&&_r!==0?_r&-_r:SN.transition!==null?(cd===0&&(cd=pv()),cd):(e=vt,e!==0||(e=window.event,e=e===void 0?16:Cv(e.type)),e):1}function Yn(e,t,r,n){if(50<oc)throw oc=0,d1=null,Error(ae(185));Hc(e,r,n),(!(dt&2)||e!==wr)&&(e===wr&&(!(dt&2)&&(Af|=r),cr===4&&mi(e,_r)),an(e,n),r===1&&dt===0&&!(t.mode&1)&&(el=Qt()+500,bf&&qi()))}function an(e,t){var r=e.callbackNode;S_(e,t);var n=Cd(e,e===wr?_r:0);if(n===0)r!==null&&Hg(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Hg(r),t===1)e.tag===0?EN(Mx.bind(null,e)):zv(Mx.bind(null,e)),yN(function(){!(dt&6)&&qi()}),r=null;else{switch(gv(n)){case 1:r=ym;break;case 4:r=hv;break;case 16:r=bd;break;case 536870912:r=mv;break;default:r=bd}r=B2(r,k2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function k2(e,t){if(ld=-1,cd=0,dt&6)throw Error(ae(327));var r=e.callbackNode;if(_a()&&e.callbackNode!==r)return null;var n=Cd(e,e===wr?_r:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ud(e,n);else{t=n;var i=dt;dt|=2;var a=j2();(wr!==e||_r!==t)&&(Os=null,el=Qt()+500,Co(e,t));do try{HN();break}catch(m){P2(e,m)}while(!0);km(),Ld.current=a,dt=i,tr!==null?t=0:(wr=null,_r=0,t=cr)}if(t!==0){if(t===2&&(i=F0(e),i!==0&&(n=i,t=f1(e,i))),t===1)throw r=Nc,Co(e,0),mi(e,n),an(e,Qt()),r;if(t===6)mi(e,n);else{if(i=e.current.alternate,!(n&30)&&!VN(i)&&(t=Ud(e,n),t===2&&(a=F0(e),a!==0&&(n=a,t=f1(e,a))),t===1))throw r=Nc,Co(e,0),mi(e,n),an(e,Qt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ae(345));case 2:ao(e,tn,Os);break;case 3:if(mi(e,n),(n&130023424)===n&&(t=qm+500-Qt(),10<t)){if(Cd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Wr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=G0(ao.bind(null,e,tn,Os),t);break}ao(e,tn,Os);break;case 4:if(mi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var u=31-Xn(n);a=1<<u,u=t[u],u>i&&(i=u),n&=~a}if(n=i,n=Qt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*zN(n/1960))-n,10<n){e.timeoutHandle=G0(ao.bind(null,e,tn,Os),n);break}ao(e,tn,Os);break;case 5:ao(e,tn,Os);break;default:throw Error(ae(329))}}}return an(e,Qt()),e.callbackNode===r?k2.bind(null,e):null}function f1(e,t){var r=ic;return e.current.memoizedState.isDehydrated&&(Co(e,t).flags|=256),e=Ud(e,t),e!==2&&(t=tn,tn=r,t!==null&&h1(t)),e}function h1(e){tn===null?tn=e:tn.push.apply(tn,e)}function VN(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Kn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mi(e,t){for(t&=~Gm,t&=~Af,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Xn(t),n=1<<r;e[r]=-1,t&=~n}}function Mx(e){if(dt&6)throw Error(ae(327));_a();var t=Cd(e,0);if(!(t&1))return an(e,Qt()),null;var r=Ud(e,t);if(e.tag!==0&&r===2){var n=F0(e);n!==0&&(t=n,r=f1(e,n))}if(r===1)throw r=Nc,Co(e,0),mi(e,t),an(e,Qt()),r;if(r===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ao(e,tn,Os),an(e,Qt()),null}function Xm(e,t){var r=dt;dt|=1;try{return e(t)}finally{dt=r,dt===0&&(el=Qt()+500,bf&&qi())}}function Oo(e){_i!==null&&_i.tag===0&&!(dt&6)&&_a();var t=dt;dt|=1;var r=On.transition,n=vt;try{if(On.transition=null,vt=1,e)return e()}finally{vt=n,On.transition=r,dt=t,!(dt&6)&&qi()}}function Ym(){dn=ya.current,Mt(ya)}function Co(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,wN(r)),tr!==null)for(r=tr.return;r!==null;){var n=r;switch(Im(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Nd();break;case 3:Za(),Mt(sn),Mt(Mr),Fm();break;case 5:Lm(n);break;case 4:Za();break;case 13:Mt(Vt);break;case 19:Mt(Vt);break;case 10:Pm(n.type._context);break;case 22:case 23:Ym()}r=r.return}if(wr=e,tr=e=Di(e.current,null),_r=dn=t,cr=0,Nc=null,Gm=Af=Ro=0,tn=ic=null,ho!==null){for(t=0;t<ho.length;t++)if(r=ho[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var u=a.next;a.next=i,n.next=u}r.pending=n}ho=null}return e}function P2(e,t){do{var r=tr;try{if(km(),id.current=Md,Dd){for(var n=Wt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Dd=!1}if(Io=0,gr=ar=Wt=null,nc=!1,Sc=0,$m.current=null,r===null||r.return===null){cr=1,Nc=t,tr=null;break}e:{var a=e,u=r.return,m=r,g=t;if(t=_r,m.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var p=g,w=m,v=w.tag;if(!(w.mode&1)&&(v===0||v===11||v===15)){var E=w.alternate;E?(w.updateQueue=E.updateQueue,w.memoizedState=E.memoizedState,w.lanes=E.lanes):(w.updateQueue=null,w.memoizedState=null)}var _=Ex(u);if(_!==null){_.flags&=-257,Sx(_,u,m,a,t),_.mode&1&&Cx(a,p,t),t=_,g=p;var R=t.updateQueue;if(R===null){var N=new Set;N.add(g),t.updateQueue=N}else R.add(g);break e}else{if(!(t&1)){Cx(a,p,t),Km();break e}g=Error(ae(426))}}else if(Bt&&m.mode&1){var P=Ex(u);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Sx(P,u,m,a,t),Rm(Ja(g,m));break e}}a=g=Ja(g,m),cr!==4&&(cr=2),ic===null?ic=[a]:ic.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var I=g2(a,g,t);gx(a,I);break e;case 1:m=g;var A=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof A.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Pi===null||!Pi.has(S)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=x2(a,m,t);gx(a,j);break e}}a=a.return}while(a!==null)}M2(r)}catch(z){t=z,tr===r&&r!==null&&(tr=r=r.return);continue}break}while(!0)}function j2(){var e=Ld.current;return Ld.current=Md,e===null?Md:e}function Km(){(cr===0||cr===3||cr===2)&&(cr=4),wr===null||!(Ro&268435455)&&!(Af&268435455)||mi(wr,_r)}function Ud(e,t){var r=dt;dt|=2;var n=j2();(wr!==e||_r!==t)&&(Os=null,Co(e,t));do try{WN();break}catch(i){P2(e,i)}while(!0);if(km(),dt=r,Ld.current=n,tr!==null)throw Error(ae(261));return wr=null,_r=0,cr}function WN(){for(;tr!==null;)D2(tr)}function HN(){for(;tr!==null&&!p_();)D2(tr)}function D2(e){var t=F2(e.alternate,e,dn);e.memoizedProps=e.pendingProps,t===null?M2(e):tr=t,$m.current=null}function M2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=LN(r,t),r!==null){r.flags&=32767,tr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{cr=6,tr=null;return}}else if(r=MN(r,t,dn),r!==null){tr=r;return}if(t=t.sibling,t!==null){tr=t;return}tr=t=e}while(t!==null);cr===0&&(cr=5)}function ao(e,t,r){var n=vt,i=On.transition;try{On.transition=null,vt=1,$N(e,t,r,n)}finally{On.transition=i,vt=n}return null}function $N(e,t,r,n){do _a();while(_i!==null);if(dt&6)throw Error(ae(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(A_(e,a),e===wr&&(tr=wr=null,_r=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Du||(Du=!0,B2(bd,function(){return _a(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=On.transition,On.transition=null;var u=vt;vt=1;var m=dt;dt|=4,$m.current=null,BN(e,r),R2(r,e),dN(H0),Ed=!!W0,H0=W0=null,e.current=r,UN(r),g_(),dt=m,vt=u,On.transition=a}else e.current=r;if(Du&&(Du=!1,_i=e,Bd=i),a=e.pendingLanes,a===0&&(Pi=null),y_(r.stateNode),an(e,Qt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Fd)throw Fd=!1,e=u1,u1=null,e;return Bd&1&&e.tag!==0&&_a(),a=e.pendingLanes,a&1?e===d1?oc++:(oc=0,d1=e):oc=0,qi(),null}function _a(){if(_i!==null){var e=gv(Bd),t=On.transition,r=vt;try{if(On.transition=null,vt=16>e?16:e,_i===null)var n=!1;else{if(e=_i,_i=null,Bd=0,dt&6)throw Error(ae(331));var i=dt;for(dt|=4,Se=e.current;Se!==null;){var a=Se,u=a.child;if(Se.flags&16){var m=a.deletions;if(m!==null){for(var g=0;g<m.length;g++){var p=m[g];for(Se=p;Se!==null;){var w=Se;switch(w.tag){case 0:case 11:case 15:sc(8,w,a)}var v=w.child;if(v!==null)v.return=w,Se=v;else for(;Se!==null;){w=Se;var E=w.sibling,_=w.return;if(N2(w),w===p){Se=null;break}if(E!==null){E.return=_,Se=E;break}Se=_}}}var R=a.alternate;if(R!==null){var N=R.child;if(N!==null){R.child=null;do{var P=N.sibling;N.sibling=null,N=P}while(N!==null)}}Se=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,Se=u;else e:for(;Se!==null;){if(a=Se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:sc(9,a,a.return)}var I=a.sibling;if(I!==null){I.return=a.return,Se=I;break e}Se=a.return}}var A=e.current;for(Se=A;Se!==null;){u=Se;var S=u.child;if(u.subtreeFlags&2064&&S!==null)S.return=u,Se=S;else e:for(u=A;Se!==null;){if(m=Se,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:Sf(9,m)}}catch(z){Yt(m,m.return,z)}if(m===u){Se=null;break e}var j=m.sibling;if(j!==null){j.return=m.return,Se=j;break e}Se=m.return}}if(dt=i,qi(),ys&&typeof ys.onPostCommitFiberRoot=="function")try{ys.onPostCommitFiberRoot(gf,e)}catch{}n=!0}return n}finally{vt=r,On.transition=t}}return!1}function Lx(e,t,r){t=Ja(r,t),t=g2(e,t,1),e=ki(e,t,1),t=Wr(),e!==null&&(Hc(e,1,t),an(e,t))}function Yt(e,t,r){if(e.tag===3)Lx(e,e,r);else for(;t!==null;){if(t.tag===3){Lx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Pi===null||!Pi.has(n))){e=Ja(r,e),e=x2(t,e,1),t=ki(t,e,1),e=Wr(),t!==null&&(Hc(t,1,e),an(t,e));break}}t=t.return}}function GN(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Wr(),e.pingedLanes|=e.suspendedLanes&r,wr===e&&(_r&r)===r&&(cr===4||cr===3&&(_r&130023424)===_r&&500>Qt()-qm?Co(e,0):Gm|=r),an(e,t)}function L2(e,t){t===0&&(e.mode&1?(t=Au,Au<<=1,!(Au&130023424)&&(Au=4194304)):t=1);var r=Wr();e=zs(e,t),e!==null&&(Hc(e,t,r),an(e,r))}function qN(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),L2(e,r)}function XN(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ae(314))}n!==null&&n.delete(t),L2(e,r)}var F2;F2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||sn.current)nn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return nn=!1,DN(e,t,r);nn=!!(e.flags&131072)}else nn=!1,Bt&&t.flags&1048576&&Vv(t,Rd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ad(e,t),e=t.pendingProps;var i=Ya(t,Mr.current);Aa(t,r),i=Um(null,t,n,e,i,r);var a=zm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,on(n)?(a=!0,Td(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Dm(t),i.updater=Ef,t.stateNode=i,i._reactInternals=t,J0(t,n,e,r),t=r1(null,t,n,!0,a,r)):(t.tag=0,Bt&&a&&Tm(t),Vr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ad(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=KN(n),e=Vn(n,e),i){case 0:t=t1(null,t,n,e,r);break e;case 1:t=Nx(null,t,n,e,r);break e;case 11:t=Ax(null,t,n,e,r);break e;case 14:t=_x(null,t,n,Vn(n.type,e),r);break e}throw Error(ae(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Vn(n,i),t1(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Vn(n,i),Nx(e,t,n,i,r);case 3:e:{if(b2(t),e===null)throw Error(ae(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Xv(e,t),Pd(t,n,null,r);var u=t.memoizedState;if(n=u.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Ja(Error(ae(423)),t),t=Tx(e,t,n,r,i);break e}else if(n!==i){i=Ja(Error(ae(424)),t),t=Tx(e,t,n,r,i);break e}else for(mn=Oi(t.stateNode.containerInfo.firstChild),gn=t,Bt=!0,Gn=null,r=Gv(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ka(),n===i){t=Vs(e,t,r);break e}Vr(e,t,n,r)}t=t.child}return t;case 5:return Yv(t),e===null&&K0(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,u=i.children,$0(n,i)?u=null:a!==null&&$0(n,a)&&(t.flags|=32),v2(e,t),Vr(e,t,u,r),t.child;case 6:return e===null&&K0(t),null;case 13:return C2(e,t,r);case 4:return Mm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qa(t,null,n,r):Vr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Vn(n,i),Ax(e,t,n,i,r);case 7:return Vr(e,t,t.pendingProps,r),t.child;case 8:return Vr(e,t,t.pendingProps.children,r),t.child;case 12:return Vr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,u=i.value,Ot(Od,n._currentValue),n._currentValue=u,a!==null)if(Kn(a.value,u)){if(a.children===i.children&&!sn.current){t=Vs(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var m=a.dependencies;if(m!==null){u=a.child;for(var g=m.firstContext;g!==null;){if(g.context===n){if(a.tag===1){g=Ls(-1,r&-r),g.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var w=p.pending;w===null?g.next=g:(g.next=w.next,w.next=g),p.pending=g}}a.lanes|=r,g=a.alternate,g!==null&&(g.lanes|=r),Q0(a.return,r,t),m.lanes|=r;break}g=g.next}}else if(a.tag===10)u=a.type===t.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(ae(341));u.lanes|=r,m=u.alternate,m!==null&&(m.lanes|=r),Q0(u,r,t),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Vr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Aa(t,r),i=Pn(i),n=n(i),t.flags|=1,Vr(e,t,n,r),t.child;case 14:return n=t.type,i=Vn(n,t.pendingProps),i=Vn(n.type,i),_x(e,t,n,i,r);case 15:return w2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Vn(n,i),ad(e,t),t.tag=1,on(n)?(e=!0,Td(t)):e=!1,Aa(t,r),p2(t,n,i),J0(t,n,i,r),r1(null,t,n,!0,e,r);case 19:return E2(e,t,r);case 22:return y2(e,t,r)}throw Error(ae(156,t.tag))};function B2(e,t){return fv(e,t)}function YN(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,t,r,n){return new YN(e,t,r,n)}function Qm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KN(e){if(typeof e=="function")return Qm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gm)return 11;if(e===xm)return 14}return 2}function Di(e,t){var r=e.alternate;return r===null?(r=Rn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ud(e,t,r,n,i,a){var u=2;if(n=e,typeof e=="function")Qm(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case ca:return Eo(r.children,i,a,t);case pm:u=8,i|=8;break;case E0:return e=Rn(12,r,t,i|2),e.elementType=E0,e.lanes=a,e;case S0:return e=Rn(13,r,t,i),e.elementType=S0,e.lanes=a,e;case A0:return e=Rn(19,r,t,i),e.elementType=A0,e.lanes=a,e;case Yy:return _f(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qy:u=10;break e;case Xy:u=9;break e;case gm:u=11;break e;case xm:u=14;break e;case ui:u=16,n=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=Rn(u,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Eo(e,t,r,n){return e=Rn(7,e,n,t),e.lanes=r,e}function _f(e,t,r,n){return e=Rn(22,e,n,t),e.elementType=Yy,e.lanes=r,e.stateNode={isHidden:!1},e}function Zh(e,t,r){return e=Rn(6,e,null,t),e.lanes=r,e}function Jh(e,t,r){return t=Rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function QN(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ph(0),this.expirationTimes=Ph(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ph(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zm(e,t,r,n,i,a,u,m,g){return e=new QN(e,t,r,m,g),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Rn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dm(a),e}function ZN(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:la,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function U2(e){if(!e)return Bi;e=e._reactInternals;e:{if(Uo(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(on(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var r=e.type;if(on(r))return Uv(e,r,t)}return t}function z2(e,t,r,n,i,a,u,m,g){return e=Zm(r,n,!0,e,i,a,u,m,g),e.context=U2(null),r=e.current,n=Wr(),i=ji(r),a=Ls(n,i),a.callback=t??null,ki(r,a,i),e.current.lanes=i,Hc(e,i,n),an(e,n),e}function Nf(e,t,r,n){var i=t.current,a=Wr(),u=ji(i);return r=U2(r),t.context===null?t.context=r:t.pendingContext=r,t=Ls(a,u),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ki(i,t,u),e!==null&&(Yn(e,i,u,a),sd(e,i,u)),u}function zd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Jm(e,t){Fx(e,t),(e=e.alternate)&&Fx(e,t)}function JN(){return null}var V2=typeof reportError=="function"?reportError:function(e){console.error(e)};function ep(e){this._internalRoot=e}Tf.prototype.render=ep.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));Nf(e,t,null,null)};Tf.prototype.unmount=ep.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Oo(function(){Nf(null,e,null,null)}),t[Us]=null}};function Tf(e){this._internalRoot=e}Tf.prototype.unstable_scheduleHydration=function(e){if(e){var t=yv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<hi.length&&t!==0&&t<hi[r].priority;r++);hi.splice(r,0,e),r===0&&bv(e)}};function tp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function If(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bx(){}function e4(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var p=zd(u);a.call(p)}}var u=z2(t,n,e,0,null,!1,!1,"",Bx);return e._reactRootContainer=u,e[Us]=u.current,yc(e.nodeType===8?e.parentNode:e),Oo(),u}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var m=n;n=function(){var p=zd(g);m.call(p)}}var g=Zm(e,0,!1,null,null,!1,!1,"",Bx);return e._reactRootContainer=g,e[Us]=g.current,yc(e.nodeType===8?e.parentNode:e),Oo(function(){Nf(t,g,r,n)}),g}function Rf(e,t,r,n,i){var a=r._reactRootContainer;if(a){var u=a;if(typeof i=="function"){var m=i;i=function(){var g=zd(u);m.call(g)}}Nf(t,u,e,i)}else u=e4(r,t,e,i,n);return zd(u)}xv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Gl(t.pendingLanes);r!==0&&(vm(t,r|1),an(t,Qt()),!(dt&6)&&(el=Qt()+500,qi()))}break;case 13:Oo(function(){var n=zs(e,1);if(n!==null){var i=Wr();Yn(n,e,1,i)}}),Jm(e,1)}};bm=function(e){if(e.tag===13){var t=zs(e,134217728);if(t!==null){var r=Wr();Yn(t,e,134217728,r)}Jm(e,134217728)}};wv=function(e){if(e.tag===13){var t=ji(e),r=zs(e,t);if(r!==null){var n=Wr();Yn(r,e,t,n)}Jm(e,t)}};yv=function(){return vt};vv=function(e,t){var r=vt;try{return vt=e,t()}finally{vt=r}};D0=function(e,t,r){switch(t){case"input":if(T0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=vf(n);if(!i)throw Error(ae(90));Qy(n),T0(n,i)}}}break;case"textarea":Jy(e,r);break;case"select":t=r.value,t!=null&&ba(e,!!r.multiple,t,!1)}};ov=Xm;av=Oo;var t4={usingClientEntryPoint:!1,Events:[Gc,ha,vf,sv,iv,Xm]},Fl={findFiberByHostInstance:fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r4={bundleType:Fl.bundleType,version:Fl.version,rendererPackageName:Fl.rendererPackageName,rendererConfig:Fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uv(e),e===null?null:e.stateNode},findFiberByHostInstance:Fl.findFiberByHostInstance||JN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{gf=Mu.inject(r4),ys=Mu}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t4;yn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tp(t))throw Error(ae(200));return ZN(e,t,null,r)};yn.createRoot=function(e,t){if(!tp(e))throw Error(ae(299));var r=!1,n="",i=V2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Zm(e,1,!1,null,null,r,!1,n,i),e[Us]=t.current,yc(e.nodeType===8?e.parentNode:e),new ep(t)};yn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=uv(t),e=e===null?null:e.stateNode,e};yn.flushSync=function(e){return Oo(e)};yn.hydrate=function(e,t,r){if(!If(t))throw Error(ae(200));return Rf(null,e,t,!0,r)};yn.hydrateRoot=function(e,t,r){if(!tp(e))throw Error(ae(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",u=V2;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),t=z2(t,null,e,1,r??null,i,!1,a,u),e[Us]=t.current,yc(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Tf(t)};yn.render=function(e,t,r){if(!If(t))throw Error(ae(200));return Rf(null,e,t,!1,r)};yn.unmountComponentAtNode=function(e){if(!If(e))throw Error(ae(40));return e._reactRootContainer?(Oo(function(){Rf(null,null,e,!1,function(){e._reactRootContainer=null,e[Us]=null})}),!0):!1};yn.unstable_batchedUpdates=Xm;yn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!If(r))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return Rf(e,t,r,!1,n)};yn.version="18.3.1-next-f1338f8080-20240426";function W2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W2)}catch(e){console.error(e)}}W2(),Wy.exports=yn;var zo=Wy.exports;const n4=mf(zo);var H2,Ux=zo;H2=Ux.createRoot,Ux.hydrateRoot;var cl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ko=typeof window>"u"||"Deno"in globalThis;function Nn(){}function s4(e,t){return typeof e=="function"?e(t):e}function m1(e){return typeof e=="number"&&e>=0&&e!==1/0}function $2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Na(e,t){return typeof e=="function"?e(t):e}function qn(e,t){return typeof e=="function"?e(t):e}function zx(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:u,stale:m}=e;if(u){if(n){if(t.queryHash!==rp(u,t.options))return!1}else if(!Tc(t.queryKey,u))return!1}if(r!=="all"){const g=t.isActive();if(r==="active"&&!g||r==="inactive"&&g)return!1}return!(typeof m=="boolean"&&t.isStale()!==m||i&&i!==t.state.fetchStatus||a&&!a(t))}function Vx(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Po(t.options.mutationKey)!==Po(a))return!1}else if(!Tc(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function rp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Po)(e)}function Po(e){return JSON.stringify(e,(t,r)=>p1(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Tc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Tc(e[r],t[r])):!1}function G2(e,t){if(e===t)return e;const r=Wx(e)&&Wx(t);if(r||p1(e)&&p1(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),u=a.length,m=r?[]:{};let g=0;for(let p=0;p<u;p++){const w=r?p:a[p];(!r&&n.includes(w)||r)&&e[w]===void 0&&t[w]===void 0?(m[w]=void 0,g++):(m[w]=G2(e[w],t[w]),m[w]===e[w]&&e[w]!==void 0&&g++)}return i===u&&g===i?e:m}return t}function Vd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Wx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function p1(e){if(!Hx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Hx(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Hx(e){return Object.prototype.toString.call(e)==="[object Object]"}function i4(e){return new Promise(t=>{setTimeout(t,e)})}function g1(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?G2(e,t):t}function o4(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function a4(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var np=Symbol();function q2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===np?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var po,gi,Da,vy,l4=(vy=class extends cl{constructor(){super();Fe(this,po);Fe(this,gi);Fe(this,Da);ye(this,Da,t=>{if(!ko&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){$(this,gi)||this.setEventListener($(this,Da))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,gi))==null||t.call(this),ye(this,gi,void 0))}setEventListener(t){var r;ye(this,Da,t),(r=$(this,gi))==null||r.call(this),ye(this,gi,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){$(this,po)!==t&&(ye(this,po,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof $(this,po)=="boolean"?$(this,po):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},po=new WeakMap,gi=new WeakMap,Da=new WeakMap,vy),sp=new l4,Ma,xi,La,by,c4=(by=class extends cl{constructor(){super();Fe(this,Ma,!0);Fe(this,xi);Fe(this,La);ye(this,La,t=>{if(!ko&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){$(this,xi)||this.setEventListener($(this,La))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,xi))==null||t.call(this),ye(this,xi,void 0))}setEventListener(t){var r;ye(this,La,t),(r=$(this,xi))==null||r.call(this),ye(this,xi,t(this.setOnline.bind(this)))}setOnline(t){$(this,Ma)!==t&&(ye(this,Ma,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return $(this,Ma)}},Ma=new WeakMap,xi=new WeakMap,La=new WeakMap,by),Wd=new c4;function x1(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function u4(e){return Math.min(1e3*2**e,3e4)}function X2(e){return(e??"online")==="online"?Wd.isOnline():!0}var Y2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function e0(e){return e instanceof Y2}function K2(e){let t=!1,r=0,n=!1,i;const a=x1(),u=N=>{var P;n||(E(new Y2(N)),(P=e.abort)==null||P.call(e))},m=()=>{t=!0},g=()=>{t=!1},p=()=>sp.isFocused()&&(e.networkMode==="always"||Wd.isOnline())&&e.canRun(),w=()=>X2(e.networkMode)&&e.canRun(),v=N=>{var P;n||(n=!0,(P=e.onSuccess)==null||P.call(e,N),i==null||i(),a.resolve(N))},E=N=>{var P;n||(n=!0,(P=e.onError)==null||P.call(e,N),i==null||i(),a.reject(N))},_=()=>new Promise(N=>{var P;i=I=>{(n||p())&&N(I)},(P=e.onPause)==null||P.call(e)}).then(()=>{var N;i=void 0,n||(N=e.onContinue)==null||N.call(e)}),R=()=>{if(n)return;let N;const P=r===0?e.initialPromise:void 0;try{N=P??e.fn()}catch(I){N=Promise.reject(I)}Promise.resolve(N).then(v).catch(I=>{var V;if(n)return;const A=e.retry??(ko?0:3),S=e.retryDelay??u4,j=typeof S=="function"?S(r,I):S,z=A===!0||typeof A=="number"&&r<A||typeof A=="function"&&A(r,I);if(t||!z){E(I);return}r++,(V=e.onFail)==null||V.call(e,r,I),i4(j).then(()=>p()?void 0:_()).then(()=>{t?E(I):R()})})};return{promise:a,cancel:u,continue:()=>(i==null||i(),a),cancelRetry:m,continueRetry:g,canStart:w,start:()=>(w()?R():_().then(R),a)}}function d4(){let e=[],t=0,r=m=>{m()},n=m=>{m()},i=m=>setTimeout(m,0);const a=m=>{t?e.push(m):i(()=>{r(m)})},u=()=>{const m=e;e=[],m.length&&i(()=>{n(()=>{m.forEach(g=>{r(g)})})})};return{batch:m=>{let g;t++;try{g=m()}finally{t--,t||u()}return g},batchCalls:m=>(...g)=>{a(()=>{m(...g)})},schedule:a,setNotifyFunction:m=>{r=m},setBatchNotifyFunction:m=>{n=m},setScheduler:m=>{i=m}}}var lr=d4(),go,Cy,Q2=(Cy=class{constructor(){Fe(this,go)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),m1(this.gcTime)&&ye(this,go,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ko?1/0:5*60*1e3))}clearGcTimeout(){$(this,go)&&(clearTimeout($(this,go)),ye(this,go,void 0))}},go=new WeakMap,Cy),Fa,Ba,_n,jr,Bc,xo,Wn,Ts,Ey,f4=(Ey=class extends Q2{constructor(t){super();Fe(this,Wn);Fe(this,Fa);Fe(this,Ba);Fe(this,_n);Fe(this,jr);Fe(this,Bc);Fe(this,xo);ye(this,xo,!1),ye(this,Bc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,_n,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,Fa,h4(this.options)),this.state=t.state??$(this,Fa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=$(this,jr))==null?void 0:t.promise}setOptions(t){this.options={...$(this,Bc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,_n).remove(this)}setData(t,r){const n=g1(this.state.data,t,this.options);return Je(this,Wn,Ts).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Je(this,Wn,Ts).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=$(this,jr))==null?void 0:n.promise;return(i=$(this,jr))==null||i.cancel(t),r?r.then(Nn).catch(Nn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Fa))}isActive(){return this.observers.some(t=>qn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===np||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!$2(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,jr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,jr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),$(this,_n).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||($(this,jr)&&($(this,xo)?$(this,jr).cancel({revert:!0}):$(this,jr).cancelRetry()),this.scheduleGc()),$(this,_n).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Je(this,Wn,Ts).call(this,{type:"invalidate"})}fetch(t,r){var g,p,w;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,jr))return $(this,jr).continueRetry(),$(this,jr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const v=this.observers.find(E=>E.options.queryFn);v&&this.setOptions(v.options)}const n=new AbortController,i=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(ye(this,xo,!0),n.signal)})},a=()=>{const v=q2(this.options,r),E={queryKey:this.queryKey,meta:this.meta};return i(E),ye(this,xo,!1),this.options.persister?this.options.persister(v,E,this):v(E)},u={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(u),(g=this.options.behavior)==null||g.onFetch(u,this),ye(this,Ba,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&Je(this,Wn,Ts).call(this,{type:"fetch",meta:(w=u.fetchOptions)==null?void 0:w.meta});const m=v=>{var E,_,R,N;e0(v)&&v.silent||Je(this,Wn,Ts).call(this,{type:"error",error:v}),e0(v)||((_=(E=$(this,_n).config).onError)==null||_.call(E,v,this),(N=(R=$(this,_n).config).onSettled)==null||N.call(R,this.state.data,v,this)),this.scheduleGc()};return ye(this,jr,K2({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:n.abort.bind(n),onSuccess:v=>{var E,_,R,N;if(v===void 0){m(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(P){m(P);return}(_=(E=$(this,_n).config).onSuccess)==null||_.call(E,v,this),(N=(R=$(this,_n).config).onSettled)==null||N.call(R,v,this.state.error,this),this.scheduleGc()},onError:m,onFail:(v,E)=>{Je(this,Wn,Ts).call(this,{type:"failed",failureCount:v,error:E})},onPause:()=>{Je(this,Wn,Ts).call(this,{type:"pause"})},onContinue:()=>{Je(this,Wn,Ts).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),$(this,jr).start()}},Fa=new WeakMap,Ba=new WeakMap,_n=new WeakMap,jr=new WeakMap,Bc=new WeakMap,xo=new WeakMap,Wn=new WeakSet,Ts=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Z2(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return e0(i)&&i.revert&&$(this,Ba)?{...$(this,Ba),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),lr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),$(this,_n).notify({query:this,type:"updated",action:t})})},Ey);function Z2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:X2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function h4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ds,Sy,m4=(Sy=class extends cl{constructor(t={}){super();Fe(this,ds);this.config=t,ye(this,ds,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??rp(i,r);let u=this.get(a);return u||(u=new f4({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(u)),u}add(t){$(this,ds).has(t.queryHash)||($(this,ds).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=$(this,ds).get(t.queryHash);r&&(t.destroy(),r===t&&$(this,ds).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){lr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return $(this,ds).get(t)}getAll(){return[...$(this,ds).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>zx(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>zx(t,n)):r}notify(t){lr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){lr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){lr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ds=new WeakMap,Sy),fs,Ur,wo,hs,ai,Ay,p4=(Ay=class extends Q2{constructor(t){super();Fe(this,hs);Fe(this,fs);Fe(this,Ur);Fe(this,wo);this.mutationId=t.mutationId,ye(this,Ur,t.mutationCache),ye(this,fs,[]),this.state=t.state||J2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){$(this,fs).includes(t)||($(this,fs).push(t),this.clearGcTimeout(),$(this,Ur).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,fs,$(this,fs).filter(r=>r!==t)),this.scheduleGc(),$(this,Ur).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){$(this,fs).length||(this.state.status==="pending"?this.scheduleGc():$(this,Ur).remove(this))}continue(){var t;return((t=$(this,wo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,u,m,g,p,w,v,E,_,R,N,P,I,A,S,j,z,V,F;ye(this,wo,K2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(L,D)=>{Je(this,hs,ai).call(this,{type:"failed",failureCount:L,error:D})},onPause:()=>{Je(this,hs,ai).call(this,{type:"pause"})},onContinue:()=>{Je(this,hs,ai).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Ur).canRun(this)}));const r=this.state.status==="pending",n=!$(this,wo).canStart();try{if(!r){Je(this,hs,ai).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(i=$(this,Ur).config).onMutate)==null?void 0:a.call(i,t,this));const D=await((m=(u=this.options).onMutate)==null?void 0:m.call(u,t));D!==this.state.context&&Je(this,hs,ai).call(this,{type:"pending",context:D,variables:t,isPaused:n})}const L=await $(this,wo).start();return await((p=(g=$(this,Ur).config).onSuccess)==null?void 0:p.call(g,L,t,this.state.context,this)),await((v=(w=this.options).onSuccess)==null?void 0:v.call(w,L,t,this.state.context)),await((_=(E=$(this,Ur).config).onSettled)==null?void 0:_.call(E,L,null,this.state.variables,this.state.context,this)),await((N=(R=this.options).onSettled)==null?void 0:N.call(R,L,null,t,this.state.context)),Je(this,hs,ai).call(this,{type:"success",data:L}),L}catch(L){try{throw await((I=(P=$(this,Ur).config).onError)==null?void 0:I.call(P,L,t,this.state.context,this)),await((S=(A=this.options).onError)==null?void 0:S.call(A,L,t,this.state.context)),await((z=(j=$(this,Ur).config).onSettled)==null?void 0:z.call(j,void 0,L,this.state.variables,this.state.context,this)),await((F=(V=this.options).onSettled)==null?void 0:F.call(V,void 0,L,t,this.state.context)),L}finally{Je(this,hs,ai).call(this,{type:"error",error:L})}}finally{$(this,Ur).runNext(this)}}},fs=new WeakMap,Ur=new WeakMap,wo=new WeakMap,hs=new WeakSet,ai=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),lr.batch(()=>{$(this,fs).forEach(n=>{n.onMutationUpdate(t)}),$(this,Ur).notify({mutation:this,type:"updated",action:t})})},Ay);function J2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var un,Uc,_y,g4=(_y=class extends cl{constructor(t={}){super();Fe(this,un);Fe(this,Uc);this.config=t,ye(this,un,new Map),ye(this,Uc,Date.now())}build(t,r,n){const i=new p4({mutationCache:this,mutationId:++yu(this,Uc)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){const r=Lu(t),n=$(this,un).get(r)??[];n.push(t),$(this,un).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Lu(t);if($(this,un).has(r)){const i=(n=$(this,un).get(r))==null?void 0:n.filter(a=>a!==t);i&&(i.length===0?$(this,un).delete(r):$(this,un).set(r,i))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=$(this,un).get(Lu(t)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=$(this,un).get(Lu(t)))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){lr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...$(this,un).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Vx(r,n))}findAll(t={}){return this.getAll().filter(r=>Vx(t,r))}notify(t){lr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return lr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Nn))))}},un=new WeakMap,Uc=new WeakMap,_y);function Lu(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function $x(e){return{onFetch:(t,r)=>{var w,v,E,_,R;const n=t.options,i=(E=(v=(w=t.fetchOptions)==null?void 0:w.meta)==null?void 0:v.fetchMore)==null?void 0:E.direction,a=((_=t.state.data)==null?void 0:_.pages)||[],u=((R=t.state.data)==null?void 0:R.pageParams)||[];let m={pages:[],pageParams:[]},g=0;const p=async()=>{let N=!1;const P=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?N=!0:t.signal.addEventListener("abort",()=>{N=!0}),t.signal)})},I=q2(t.options,t.fetchOptions),A=async(S,j,z)=>{if(N)return Promise.reject();if(j==null&&S.pages.length)return Promise.resolve(S);const V={queryKey:t.queryKey,pageParam:j,direction:z?"backward":"forward",meta:t.options.meta};P(V);const F=await I(V),{maxPages:L}=t.options,D=z?a4:o4;return{pages:D(S.pages,F,L),pageParams:D(S.pageParams,j,L)}};if(i&&a.length){const S=i==="backward",j=S?x4:Gx,z={pages:a,pageParams:u},V=j(n,z);m=await A(z,V,S)}else{const S=e??a.length;do{const j=g===0?u[0]??n.initialPageParam:Gx(n,m);if(g>0&&j==null)break;m=await A(m,j),g++}while(g<S)}return m};t.options.persister?t.fetchFn=()=>{var N,P;return(P=(N=t.options).persister)==null?void 0:P.call(N,p,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=p}}}function Gx(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function x4(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Xt,wi,yi,Ua,za,vi,Va,Wa,Ny,w4=(Ny=class{constructor(e={}){Fe(this,Xt);Fe(this,wi);Fe(this,yi);Fe(this,Ua);Fe(this,za);Fe(this,vi);Fe(this,Va);Fe(this,Wa);ye(this,Xt,e.queryCache||new m4),ye(this,wi,e.mutationCache||new g4),ye(this,yi,e.defaultOptions||{}),ye(this,Ua,new Map),ye(this,za,new Map),ye(this,vi,0)}mount(){yu(this,vi)._++,$(this,vi)===1&&(ye(this,Va,sp.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,Xt).onFocus())})),ye(this,Wa,Wd.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,Xt).onOnline())})))}unmount(){var e,t;yu(this,vi)._--,$(this,vi)===0&&((e=$(this,Va))==null||e.call(this),ye(this,Va,void 0),(t=$(this,Wa))==null||t.call(this),ye(this,Wa,void 0))}isFetching(e){return $(this,Xt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return $(this,wi).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,Xt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=$(this,Xt).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Na(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return $(this,Xt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=$(this,Xt).get(n.queryHash),a=i==null?void 0:i.state.data,u=s4(t,a);if(u!==void 0)return $(this,Xt).build(this,n).setData(u,{...r,manual:!0})}setQueriesData(e,t,r){return lr.batch(()=>$(this,Xt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,Xt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=$(this,Xt);lr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=$(this,Xt),n={type:"active",...e};return lr.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=lr.batch(()=>$(this,Xt).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Nn).catch(Nn)}invalidateQueries(e={},t={}){return lr.batch(()=>{if($(this,Xt).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=lr.batch(()=>$(this,Xt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Nn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Nn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=$(this,Xt).build(this,t);return r.isStaleByTime(Na(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Nn).catch(Nn)}fetchInfiniteQuery(e){return e.behavior=$x(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Nn).catch(Nn)}ensureInfiniteQueryData(e){return e.behavior=$x(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Wd.isOnline()?$(this,wi).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,Xt)}getMutationCache(){return $(this,wi)}getDefaultOptions(){return $(this,yi)}setDefaultOptions(e){ye(this,yi,e)}setQueryDefaults(e,t){$(this,Ua).set(Po(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...$(this,Ua).values()];let r={};return t.forEach(n=>{Tc(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){$(this,za).set(Po(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...$(this,za).values()];let r={};return t.forEach(n=>{Tc(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...$(this,yi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=rp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===np&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...$(this,yi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){$(this,Xt).clear(),$(this,wi).clear()}},Xt=new WeakMap,wi=new WeakMap,yi=new WeakMap,Ua=new WeakMap,za=new WeakMap,vi=new WeakMap,Va=new WeakMap,Wa=new WeakMap,Ny),Jr,lt,zc,zr,yo,Ha,bi,ms,Vc,$a,Ga,vo,bo,Ci,qa,wt,Xl,w1,y1,v1,b1,C1,E1,S1,eb,Ty,y4=(Ty=class extends cl{constructor(t,r){super();Fe(this,wt);Fe(this,Jr);Fe(this,lt);Fe(this,zc);Fe(this,zr);Fe(this,yo);Fe(this,Ha);Fe(this,bi);Fe(this,ms);Fe(this,Vc);Fe(this,$a);Fe(this,Ga);Fe(this,vo);Fe(this,bo);Fe(this,Ci);Fe(this,qa,new Set);this.options=r,ye(this,Jr,t),ye(this,ms,null),ye(this,bi,x1()),this.options.experimental_prefetchInRender||$(this,bi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,lt).addObserver(this),qx($(this,lt),this.options)?Je(this,wt,Xl).call(this):this.updateResult(),Je(this,wt,b1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return A1($(this,lt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return A1($(this,lt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Je(this,wt,C1).call(this),Je(this,wt,E1).call(this),$(this,lt).removeObserver(this)}setOptions(t,r){const n=this.options,i=$(this,lt);if(this.options=$(this,Jr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qn(this.options.enabled,$(this,lt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Je(this,wt,S1).call(this),$(this,lt).setOptions(this.options),n._defaulted&&!Vd(this.options,n)&&$(this,Jr).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,lt),observer:this});const a=this.hasListeners();a&&Xx($(this,lt),i,this.options,n)&&Je(this,wt,Xl).call(this),this.updateResult(r),a&&($(this,lt)!==i||qn(this.options.enabled,$(this,lt))!==qn(n.enabled,$(this,lt))||Na(this.options.staleTime,$(this,lt))!==Na(n.staleTime,$(this,lt)))&&Je(this,wt,w1).call(this);const u=Je(this,wt,y1).call(this);a&&($(this,lt)!==i||qn(this.options.enabled,$(this,lt))!==qn(n.enabled,$(this,lt))||u!==$(this,Ci))&&Je(this,wt,v1).call(this,u)}getOptimisticResult(t){const r=$(this,Jr).getQueryCache().build($(this,Jr),t),n=this.createResult(r,t);return b4(this,n)&&(ye(this,zr,n),ye(this,Ha,this.options),ye(this,yo,$(this,lt).state)),n}getCurrentResult(){return $(this,zr)}trackResult(t,r){const n={};return Object.keys(t).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),t[i])})}),n}trackProp(t){$(this,qa).add(t)}getCurrentQuery(){return $(this,lt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=$(this,Jr).defaultQueryOptions(t),n=$(this,Jr).getQueryCache().build($(this,Jr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Je(this,wt,Xl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,zr)))}createResult(t,r){var L;const n=$(this,lt),i=this.options,a=$(this,zr),u=$(this,yo),m=$(this,Ha),p=t!==n?t.state:$(this,zc),{state:w}=t;let v={...w},E=!1,_;if(r._optimisticResults){const D=this.hasListeners(),W=!D&&qx(t,r),Q=D&&Xx(t,n,r,i);(W||Q)&&(v={...v,...Z2(w.data,t.options)}),r._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:R,errorUpdatedAt:N,status:P}=v;if(r.select&&v.data!==void 0)if(a&&v.data===(u==null?void 0:u.data)&&r.select===$(this,Vc))_=$(this,$a);else try{ye(this,Vc,r.select),_=r.select(v.data),_=g1(a==null?void 0:a.data,_,r),ye(this,$a,_),ye(this,ms,null)}catch(D){ye(this,ms,D)}else _=v.data;if(r.placeholderData!==void 0&&_===void 0&&P==="pending"){let D;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(m==null?void 0:m.placeholderData))D=a.data;else if(D=typeof r.placeholderData=="function"?r.placeholderData((L=$(this,Ga))==null?void 0:L.state.data,$(this,Ga)):r.placeholderData,r.select&&D!==void 0)try{D=r.select(D),ye(this,ms,null)}catch(W){ye(this,ms,W)}D!==void 0&&(P="success",_=g1(a==null?void 0:a.data,D,r),E=!0)}$(this,ms)&&(R=$(this,ms),_=$(this,$a),N=Date.now(),P="error");const I=v.fetchStatus==="fetching",A=P==="pending",S=P==="error",j=A&&I,z=_!==void 0,F={status:P,fetchStatus:v.fetchStatus,isPending:A,isSuccess:P==="success",isError:S,isInitialLoading:j,isLoading:j,data:_,dataUpdatedAt:v.dataUpdatedAt,error:R,errorUpdatedAt:N,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>p.dataUpdateCount||v.errorUpdateCount>p.errorUpdateCount,isFetching:I,isRefetching:I&&!A,isLoadingError:S&&!z,isPaused:v.fetchStatus==="paused",isPlaceholderData:E,isRefetchError:S&&z,isStale:ip(t,r),refetch:this.refetch,promise:$(this,bi)};if(this.options.experimental_prefetchInRender){const D=q=>{F.status==="error"?q.reject(F.error):F.data!==void 0&&q.resolve(F.data)},W=()=>{const q=ye(this,bi,F.promise=x1());D(q)},Q=$(this,bi);switch(Q.status){case"pending":t.queryHash===n.queryHash&&D(Q);break;case"fulfilled":(F.status==="error"||F.data!==Q.value)&&W();break;case"rejected":(F.status!=="error"||F.error!==Q.reason)&&W();break}}return F}updateResult(t){const r=$(this,zr),n=this.createResult($(this,lt),this.options);if(ye(this,yo,$(this,lt).state),ye(this,Ha,this.options),$(this,yo).data!==void 0&&ye(this,Ga,$(this,lt)),Vd(n,r))return;ye(this,zr,n);const i={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:u}=this.options,m=typeof u=="function"?u():u;if(m==="all"||!m&&!$(this,qa).size)return!0;const g=new Set(m??$(this,qa));return this.options.throwOnError&&g.add("error"),Object.keys($(this,zr)).some(p=>{const w=p;return $(this,zr)[w]!==r[w]&&g.has(w)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),Je(this,wt,eb).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Je(this,wt,b1).call(this)}},Jr=new WeakMap,lt=new WeakMap,zc=new WeakMap,zr=new WeakMap,yo=new WeakMap,Ha=new WeakMap,bi=new WeakMap,ms=new WeakMap,Vc=new WeakMap,$a=new WeakMap,Ga=new WeakMap,vo=new WeakMap,bo=new WeakMap,Ci=new WeakMap,qa=new WeakMap,wt=new WeakSet,Xl=function(t){Je(this,wt,S1).call(this);let r=$(this,lt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Nn)),r},w1=function(){Je(this,wt,C1).call(this);const t=Na(this.options.staleTime,$(this,lt));if(ko||$(this,zr).isStale||!m1(t))return;const n=$2($(this,zr).dataUpdatedAt,t)+1;ye(this,vo,setTimeout(()=>{$(this,zr).isStale||this.updateResult()},n))},y1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,lt)):this.options.refetchInterval)??!1},v1=function(t){Je(this,wt,E1).call(this),ye(this,Ci,t),!(ko||qn(this.options.enabled,$(this,lt))===!1||!m1($(this,Ci))||$(this,Ci)===0)&&ye(this,bo,setInterval(()=>{(this.options.refetchIntervalInBackground||sp.isFocused())&&Je(this,wt,Xl).call(this)},$(this,Ci)))},b1=function(){Je(this,wt,w1).call(this),Je(this,wt,v1).call(this,Je(this,wt,y1).call(this))},C1=function(){$(this,vo)&&(clearTimeout($(this,vo)),ye(this,vo,void 0))},E1=function(){$(this,bo)&&(clearInterval($(this,bo)),ye(this,bo,void 0))},S1=function(){const t=$(this,Jr).getQueryCache().build($(this,Jr),this.options);if(t===$(this,lt))return;const r=$(this,lt);ye(this,lt,t),ye(this,zc,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},eb=function(t){lr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r($(this,zr))}),$(this,Jr).getQueryCache().notify({query:$(this,lt),type:"observerResultsUpdated"})})},Ty);function v4(e,t){return qn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function qx(e,t){return v4(e,t)||e.state.data!==void 0&&A1(e,t,t.refetchOnMount)}function A1(e,t,r){if(qn(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&ip(e,t)}return!1}function Xx(e,t,r,n){return(e!==t||qn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&ip(e,r)}function ip(e,t){return qn(t.enabled,e)!==!1&&e.isStaleByTime(Na(t.staleTime,e))}function b4(e,t){return!Vd(e.getCurrentResult(),t)}var Ei,Si,en,js,Fs,dd,_1,Iy,C4=(Iy=class extends cl{constructor(r,n){super();Fe(this,Fs);Fe(this,Ei);Fe(this,Si);Fe(this,en);Fe(this,js);ye(this,Ei,r),this.setOptions(n),this.bindMethods(),Je(this,Fs,dd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=$(this,Ei).defaultMutationOptions(r),Vd(this.options,n)||$(this,Ei).getMutationCache().notify({type:"observerOptionsUpdated",mutation:$(this,en),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Po(n.mutationKey)!==Po(this.options.mutationKey)?this.reset():((i=$(this,en))==null?void 0:i.state.status)==="pending"&&$(this,en).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=$(this,en))==null||r.removeObserver(this)}onMutationUpdate(r){Je(this,Fs,dd).call(this),Je(this,Fs,_1).call(this,r)}getCurrentResult(){return $(this,Si)}reset(){var r;(r=$(this,en))==null||r.removeObserver(this),ye(this,en,void 0),Je(this,Fs,dd).call(this),Je(this,Fs,_1).call(this)}mutate(r,n){var i;return ye(this,js,n),(i=$(this,en))==null||i.removeObserver(this),ye(this,en,$(this,Ei).getMutationCache().build($(this,Ei),this.options)),$(this,en).addObserver(this),$(this,en).execute(r)}},Ei=new WeakMap,Si=new WeakMap,en=new WeakMap,js=new WeakMap,Fs=new WeakSet,dd=function(){var n;const r=((n=$(this,en))==null?void 0:n.state)??J2();ye(this,Si,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},_1=function(r){lr.batch(()=>{var n,i,a,u,m,g,p,w;if($(this,js)&&this.hasListeners()){const v=$(this,Si).variables,E=$(this,Si).context;(r==null?void 0:r.type)==="success"?((i=(n=$(this,js)).onSuccess)==null||i.call(n,r.data,v,E),(u=(a=$(this,js)).onSettled)==null||u.call(a,r.data,null,v,E)):(r==null?void 0:r.type)==="error"&&((g=(m=$(this,js)).onError)==null||g.call(m,r.error,v,E),(w=(p=$(this,js)).onSettled)==null||w.call(p,void 0,r.error,v,E))}this.listeners.forEach(v=>{v($(this,Si))})})},Iy),tb=C.createContext(void 0),Es=e=>{const t=C.useContext(tb);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},E4=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),f.jsx(tb.Provider,{value:e,children:t})),rb=C.createContext(!1),S4=()=>C.useContext(rb);rb.Provider;function A4(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var _4=C.createContext(A4()),N4=()=>C.useContext(_4);function nb(e,t){return typeof e=="function"?e(...t):!!e}function sb(){}var T4=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},I4=e=>{C.useEffect(()=>{e.clearReset()},[e])},R4=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&nb(r,[e.error,n]),O4=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},k4=(e,t)=>e.isLoading&&e.isFetching&&!t,P4=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Yx=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function j4(e,t,r){var w,v,E,_,R;const n=Es(),i=S4(),a=N4(),u=n.defaultQueryOptions(e);(v=(w=n.getDefaultOptions().queries)==null?void 0:w._experimental_beforeQuery)==null||v.call(w,u),u._optimisticResults=i?"isRestoring":"optimistic",O4(u),T4(u,a),I4(a);const m=!n.getQueryCache().get(u.queryHash),[g]=C.useState(()=>new t(n,u)),p=g.getOptimisticResult(u);if(C.useSyncExternalStore(C.useCallback(N=>{const P=i?()=>{}:g.subscribe(lr.batchCalls(N));return g.updateResult(),P},[g,i]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),C.useEffect(()=>{g.setOptions(u,{listeners:!1})},[u,g]),P4(u,p))throw Yx(u,g,a);if(R4({result:p,errorResetBoundary:a,throwOnError:u.throwOnError,query:n.getQueryCache().get(u.queryHash)}))throw p.error;if((_=(E=n.getDefaultOptions().queries)==null?void 0:E._experimental_afterQuery)==null||_.call(E,u,p),u.experimental_prefetchInRender&&!ko&&k4(p,i)){const N=m?Yx(u,g,a):(R=n.getQueryCache().get(u.queryHash))==null?void 0:R.promise;N==null||N.catch(sb).finally(()=>{g.updateResult()})}return u.notifyOnChangeProps?p:g.trackResult(p)}function Ws(e,t){return j4(e,y4)}function bs(e,t){const r=Es(),[n]=C.useState(()=>new C4(r,e));C.useEffect(()=>{n.setOptions(e)},[n,e]);const i=C.useSyncExternalStore(C.useCallback(u=>n.subscribe(lr.batchCalls(u)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=C.useCallback((u,m)=>{n.mutate(u,m).catch(sb)},[n]);if(i.error&&nb(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ic.apply(this,arguments)}var Ni;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ni||(Ni={}));const Kx="popstate";function D4(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:u,hash:m}=n.location;return N1("",{pathname:a,search:u,hash:m},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Hd(i)}return L4(t,r,null,e)}function Zt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ib(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function M4(){return Math.random().toString(36).substr(2,8)}function Qx(e,t){return{usr:e.state,key:e.key,idx:t}}function N1(e,t,r,n){return r===void 0&&(r=null),Ic({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ul(t):t,{state:r,key:t&&t.key||n||M4()})}function Hd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ul(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function L4(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,u=i.history,m=Ni.Pop,g=null,p=w();p==null&&(p=0,u.replaceState(Ic({},u.state,{idx:p}),""));function w(){return(u.state||{idx:null}).idx}function v(){m=Ni.Pop;let P=w(),I=P==null?null:P-p;p=P,g&&g({action:m,location:N.location,delta:I})}function E(P,I){m=Ni.Push;let A=N1(N.location,P,I);p=w()+1;let S=Qx(A,p),j=N.createHref(A);try{u.pushState(S,"",j)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(j)}a&&g&&g({action:m,location:N.location,delta:1})}function _(P,I){m=Ni.Replace;let A=N1(N.location,P,I);p=w();let S=Qx(A,p),j=N.createHref(A);u.replaceState(S,"",j),a&&g&&g({action:m,location:N.location,delta:0})}function R(P){let I=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof P=="string"?P:Hd(P);return A=A.replace(/ $/,"%20"),Zt(I,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,I)}let N={get action(){return m},get location(){return e(i,u)},listen(P){if(g)throw new Error("A history only accepts one active listener");return i.addEventListener(Kx,v),g=P,()=>{i.removeEventListener(Kx,v),g=null}},createHref(P){return t(i,P)},createURL:R,encodeLocation(P){let I=R(P);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:E,replace:_,go(P){return u.go(P)}};return N}var Zx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Zx||(Zx={}));function F4(e,t,r){return r===void 0&&(r="/"),B4(e,t,r)}function B4(e,t,r,n){let i=typeof t=="string"?ul(t):t,a=op(i.pathname||"/",r);if(a==null)return null;let u=ob(e);U4(u);let m=null;for(let g=0;m==null&&g<u.length;++g){let p=Z4(a);m=Y4(u[g],p)}return m}function ob(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,u,m)=>{let g={relativePath:m===void 0?a.path||"":m,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};g.relativePath.startsWith("/")&&(Zt(g.relativePath.startsWith(n),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(n.length));let p=Mi([n,g.relativePath]),w=r.concat(g);a.children&&a.children.length>0&&(Zt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),ob(a.children,t,w,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:q4(p,a.index),routesMeta:w})};return e.forEach((a,u)=>{var m;if(a.path===""||!((m=a.path)!=null&&m.includes("?")))i(a,u);else for(let g of ab(a.path))i(a,u,g)}),t}function ab(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let u=ab(n.join("/")),m=[];return m.push(...u.map(g=>g===""?a:[a,g].join("/"))),i&&m.push(...u),m.map(g=>e.startsWith("/")&&g===""?"/":g)}function U4(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:X4(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const z4=/^:[\w-]+$/,V4=3,W4=2,H4=1,$4=10,G4=-2,Jx=e=>e==="*";function q4(e,t){let r=e.split("/"),n=r.length;return r.some(Jx)&&(n+=G4),t&&(n+=W4),r.filter(i=>!Jx(i)).reduce((i,a)=>i+(z4.test(a)?V4:a===""?H4:$4),n)}function X4(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Y4(e,t,r){let{routesMeta:n}=e,i={},a="/",u=[];for(let m=0;m<n.length;++m){let g=n[m],p=m===n.length-1,w=a==="/"?t:t.slice(a.length)||"/",v=K4({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},w),E=g.route;if(!v)return null;Object.assign(i,v.params),u.push({params:i,pathname:Mi([a,v.pathname]),pathnameBase:rT(Mi([a,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(a=Mi([a,v.pathnameBase]))}return u}function K4(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Q4(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),m=i.slice(1);return{params:n.reduce((p,w,v)=>{let{paramName:E,isOptional:_}=w;if(E==="*"){let N=m[v]||"";u=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const R=m[v];return _&&!R?p[E]=void 0:p[E]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:e}}function Q4(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ib(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,g)=>(n.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Z4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ib(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function op(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function J4(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?ul(e):e;return{pathname:r?r.startsWith("/")?r:eT(r,t):t,search:nT(n),hash:sT(i)}}function eT(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function t0(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ap(e,t){let r=tT(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function lp(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=ul(e):(i=Ic({},e),Zt(!i.pathname||!i.pathname.includes("?"),t0("?","pathname","search",i)),Zt(!i.pathname||!i.pathname.includes("#"),t0("#","pathname","hash",i)),Zt(!i.search||!i.search.includes("#"),t0("#","search","hash",i)));let a=e===""||i.pathname==="",u=a?"/":i.pathname,m;if(u==null)m=r;else{let v=t.length-1;if(!n&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),v-=1;i.pathname=E.join("/")}m=v>=0?t[v]:"/"}let g=J4(i,m),p=u&&u!=="/"&&u.endsWith("/"),w=(a||u===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(p||w)&&(g.pathname+="/"),g}const Mi=e=>e.join("/").replace(/\/\/+/g,"/"),rT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function iT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const lb=["post","put","patch","delete"];new Set(lb);const oT=["get",...lb];new Set(oT);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rc.apply(this,arguments)}const cp=C.createContext(null),aT=C.createContext(null),Xi=C.createContext(null),Of=C.createContext(null),qs=C.createContext({outlet:null,matches:[],isDataRoute:!1}),cb=C.createContext(null);function lT(e,t){let{relative:r}=t===void 0?{}:t;dl()||Zt(!1);let{basename:n,navigator:i}=C.useContext(Xi),{hash:a,pathname:u,search:m}=fb(e,{relative:r}),g=u;return n!=="/"&&(g=u==="/"?n:Mi([n,u])),i.createHref({pathname:g,search:m,hash:a})}function dl(){return C.useContext(Of)!=null}function Jn(){return dl()||Zt(!1),C.useContext(Of).location}function ub(e){C.useContext(Xi).static||C.useLayoutEffect(e)}function Ir(){let{isDataRoute:e}=C.useContext(qs);return e?bT():cT()}function cT(){dl()||Zt(!1);let e=C.useContext(cp),{basename:t,future:r,navigator:n}=C.useContext(Xi),{matches:i}=C.useContext(qs),{pathname:a}=Jn(),u=JSON.stringify(ap(i,r.v7_relativeSplatPath)),m=C.useRef(!1);return ub(()=>{m.current=!0}),C.useCallback(function(p,w){if(w===void 0&&(w={}),!m.current)return;if(typeof p=="number"){n.go(p);return}let v=lp(p,JSON.parse(u),a,w.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Mi([t,v.pathname])),(w.replace?n.replace:n.push)(v,w.state,w)},[t,n,u,a,e])}function db(){let{matches:e}=C.useContext(qs),t=e[e.length-1];return t?t.params:{}}function fb(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=C.useContext(Xi),{matches:i}=C.useContext(qs),{pathname:a}=Jn(),u=JSON.stringify(ap(i,n.v7_relativeSplatPath));return C.useMemo(()=>lp(e,JSON.parse(u),a,r==="path"),[e,u,a,r])}function uT(e,t){return dT(e,t)}function dT(e,t,r,n){dl()||Zt(!1);let{navigator:i}=C.useContext(Xi),{matches:a}=C.useContext(qs),u=a[a.length-1],m=u?u.params:{};u&&u.pathname;let g=u?u.pathnameBase:"/";u&&u.route;let p=Jn(),w;if(t){var v;let P=typeof t=="string"?ul(t):t;g==="/"||(v=P.pathname)!=null&&v.startsWith(g)||Zt(!1),w=P}else w=p;let E=w.pathname||"/",_=E;if(g!=="/"){let P=g.replace(/^\//,"").split("/");_="/"+E.replace(/^\//,"").split("/").slice(P.length).join("/")}let R=F4(e,{pathname:_}),N=gT(R&&R.map(P=>Object.assign({},P,{params:Object.assign({},m,P.params),pathname:Mi([g,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?g:Mi([g,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,r,n);return t&&N?C.createElement(Of.Provider,{value:{location:Rc({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:Ni.Pop}},N):N}function fT(){let e=vT(),t=iT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:i},r):null,null)}const hT=C.createElement(fT,null);class mT extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?C.createElement(qs.Provider,{value:this.props.routeContext},C.createElement(cb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pT(e){let{routeContext:t,match:r,children:n}=e,i=C.useContext(cp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(qs.Provider,{value:t},n)}function gT(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let u=e,m=(i=r)==null?void 0:i.errors;if(m!=null){let w=u.findIndex(v=>v.route.id&&(m==null?void 0:m[v.route.id])!==void 0);w>=0||Zt(!1),u=u.slice(0,Math.min(u.length,w+1))}let g=!1,p=-1;if(r&&n&&n.v7_partialHydration)for(let w=0;w<u.length;w++){let v=u[w];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=w),v.route.id){let{loaderData:E,errors:_}=r,R=v.route.loader&&E[v.route.id]===void 0&&(!_||_[v.route.id]===void 0);if(v.route.lazy||R){g=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((w,v,E)=>{let _,R=!1,N=null,P=null;r&&(_=m&&v.route.id?m[v.route.id]:void 0,N=v.route.errorElement||hT,g&&(p<0&&E===0?(CT("route-fallback"),R=!0,P=null):p===E&&(R=!0,P=v.route.hydrateFallbackElement||null)));let I=t.concat(u.slice(0,E+1)),A=()=>{let S;return _?S=N:R?S=P:v.route.Component?S=C.createElement(v.route.Component,null):v.route.element?S=v.route.element:S=w,C.createElement(pT,{match:v,routeContext:{outlet:w,matches:I,isDataRoute:r!=null},children:S})};return r&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?C.createElement(mT,{location:r.location,revalidation:r.revalidation,component:N,error:_,children:A(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):A()},null)}var hb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hb||{}),mb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(mb||{});function xT(e){let t=C.useContext(cp);return t||Zt(!1),t}function wT(e){let t=C.useContext(aT);return t||Zt(!1),t}function yT(e){let t=C.useContext(qs);return t||Zt(!1),t}function pb(e){let t=yT(),r=t.matches[t.matches.length-1];return r.route.id||Zt(!1),r.route.id}function vT(){var e;let t=C.useContext(cb),r=wT(),n=pb();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function bT(){let{router:e}=xT(hb.UseNavigateStable),t=pb(mb.UseNavigateStable),r=C.useRef(!1);return ub(()=>{r.current=!0}),C.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Rc({fromRouteId:t},a)))},[e,t])}const ew={};function CT(e,t,r){ew[e]||(ew[e]=!0)}function T1(e){let{to:t,replace:r,state:n,relative:i}=e;dl()||Zt(!1);let{future:a,static:u}=C.useContext(Xi),{matches:m}=C.useContext(qs),{pathname:g}=Jn(),p=Ir(),w=lp(t,ap(m,a.v7_relativeSplatPath),g,i==="path"),v=JSON.stringify(w);return C.useEffect(()=>p(JSON.parse(v),{replace:r,state:n,relative:i}),[p,v,i,r,n]),null}function Sr(e){Zt(!1)}function ET(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Ni.Pop,navigator:a,static:u=!1,future:m}=e;dl()&&Zt(!1);let g=t.replace(/^\/*/,"/"),p=C.useMemo(()=>({basename:g,navigator:a,static:u,future:Rc({v7_relativeSplatPath:!1},m)}),[g,m,a,u]);typeof n=="string"&&(n=ul(n));let{pathname:w="/",search:v="",hash:E="",state:_=null,key:R="default"}=n,N=C.useMemo(()=>{let P=op(w,g);return P==null?null:{location:{pathname:P,search:v,hash:E,state:_,key:R},navigationType:i}},[g,w,v,E,_,R,i]);return N==null?null:C.createElement(Xi.Provider,{value:p},C.createElement(Of.Provider,{children:r,value:N}))}function ST(e){let{children:t,location:r}=e;return uT(I1(t),r)}new Promise(()=>{});function I1(e,t){t===void 0&&(t=[]);let r=[];return C.Children.forEach(e,(n,i)=>{if(!C.isValidElement(n))return;let a=[...t,i];if(n.type===C.Fragment){r.push.apply(r,I1(n.props.children,a));return}n.type!==Sr&&Zt(!1),!n.props.index||!n.props.children||Zt(!1);let u={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=I1(n.props.children,a)),r.push(u)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function R1(){return R1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R1.apply(this,arguments)}function AT(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function _T(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function NT(e,t){return e.button===0&&(!t||t==="_self")&&!_T(e)}const TT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],IT="6";try{window.__reactRouterVersion=IT}catch{}const RT="startTransition",tw=zy[RT];function OT(e){let{basename:t,children:r,future:n,window:i}=e,a=C.useRef();a.current==null&&(a.current=D4({window:i,v5Compat:!0}));let u=a.current,[m,g]=C.useState({action:u.action,location:u.location}),{v7_startTransition:p}=n||{},w=C.useCallback(v=>{p&&tw?tw(()=>g(v)):g(v)},[g,p]);return C.useLayoutEffect(()=>u.listen(w),[u,w]),C.createElement(ET,{basename:t,children:r,location:m.location,navigationType:m.action,navigator:u,future:n})}const kT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kn=C.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:u,state:m,target:g,to:p,preventScrollReset:w,viewTransition:v}=t,E=AT(t,TT),{basename:_}=C.useContext(Xi),R,N=!1;if(typeof p=="string"&&PT.test(p)&&(R=p,kT))try{let S=new URL(window.location.href),j=p.startsWith("//")?new URL(S.protocol+p):new URL(p),z=op(j.pathname,_);j.origin===S.origin&&z!=null?p=z+j.search+j.hash:N=!0}catch{}let P=lT(p,{relative:i}),I=jT(p,{replace:u,state:m,target:g,preventScrollReset:w,relative:i,viewTransition:v});function A(S){n&&n(S),S.defaultPrevented||I(S)}return C.createElement("a",R1({},E,{href:R||P,onClick:N||a?n:A,ref:r,target:g}))});var rw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rw||(rw={}));var nw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nw||(nw={}));function jT(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:u,viewTransition:m}=t===void 0?{}:t,g=Ir(),p=Jn(),w=fb(e,{relative:u});return C.useCallback(v=>{if(NT(v,r)){v.preventDefault();let E=n!==void 0?n:Hd(p)===Hd(w);g(e,{replace:E,state:i,preventScrollReset:a,relative:u,viewTransition:m})}},[p,g,w,n,i,r,e,a,u,m])}const DT=1,MT=1e6;let r0=0;function LT(){return r0=(r0+1)%Number.MAX_SAFE_INTEGER,r0.toString()}const n0=new Map,sw=e=>{if(n0.has(e))return;const t=setTimeout(()=>{n0.delete(e),ac({type:"REMOVE_TOAST",toastId:e})},MT);n0.set(e,t)},FT=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,DT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?sw(r):e.toasts.forEach(n=>{sw(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},fd=[];let hd={toasts:[]};function ac(e){hd=FT(hd,e),fd.forEach(t=>{t(hd)})}function BT({...e}){const t=LT(),r=i=>ac({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>ac({type:"DISMISS_TOAST",toastId:t});return ac({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function yr(){const[e,t]=C.useState(hd);return C.useEffect(()=>(fd.push(t),()=>{const r=fd.indexOf(t);r>-1&&fd.splice(r,1)}),[e]),{...e,toast:BT,dismiss:r=>ac({type:"DISMISS_TOAST",toastId:r})}}function Me(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function UT(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function gb(...e){return t=>e.forEach(r=>UT(r,t))}function ct(...e){return C.useCallback(gb(...e),e)}function zT(e,t=[]){let r=[];function n(a,u){const m=C.createContext(u),g=r.length;r=[...r,u];function p(v){const{scope:E,children:_,...R}=v,N=(E==null?void 0:E[e][g])||m,P=C.useMemo(()=>R,Object.values(R));return f.jsx(N.Provider,{value:P,children:_})}function w(v,E){const _=(E==null?void 0:E[e][g])||m,R=C.useContext(_);if(R)return R;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${a}\``)}return p.displayName=a+"Provider",[p,w]}const i=()=>{const a=r.map(u=>C.createContext(u));return function(m){const g=(m==null?void 0:m[e])||a;return C.useMemo(()=>({[`__scope${e}`]:{...m,[e]:g}}),[m,g])}};return i.scopeName=e,[n,VT(i,...t)]}function VT(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=n.reduce((m,{useScope:g,scopeName:p})=>{const v=g(a)[`__scope${p}`];return{...m,...v}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return r.scopeName=t.scopeName,r}var jo=C.forwardRef((e,t)=>{const{children:r,...n}=e,i=C.Children.toArray(r),a=i.find(WT);if(a){const u=a.props.children,m=i.map(g=>g===a?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:g);return f.jsx(O1,{...n,ref:t,children:C.isValidElement(u)?C.cloneElement(u,void 0,m):null})}return f.jsx(O1,{...n,ref:t,children:r})});jo.displayName="Slot";var O1=C.forwardRef((e,t)=>{const{children:r,...n}=e;if(C.isValidElement(r)){const i=$T(r);return C.cloneElement(r,{...HT(n,r.props),ref:t?gb(t,i):i})}return C.Children.count(r)>1?C.Children.only(null):null});O1.displayName="SlotClone";var up=({children:e})=>f.jsx(f.Fragment,{children:e});function WT(e){return C.isValidElement(e)&&e.type===up}function HT(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...m)=>{a(...m),i(...m)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function $T(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function xb(e){const t=e+"CollectionProvider",[r,n]=zT(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),u=_=>{const{scope:R,children:N}=_,P=oi.useRef(null),I=oi.useRef(new Map).current;return f.jsx(i,{scope:R,itemMap:I,collectionRef:P,children:N})};u.displayName=t;const m=e+"CollectionSlot",g=oi.forwardRef((_,R)=>{const{scope:N,children:P}=_,I=a(m,N),A=ct(R,I.collectionRef);return f.jsx(jo,{ref:A,children:P})});g.displayName=m;const p=e+"CollectionItemSlot",w="data-radix-collection-item",v=oi.forwardRef((_,R)=>{const{scope:N,children:P,...I}=_,A=oi.useRef(null),S=ct(R,A),j=a(p,N);return oi.useEffect(()=>(j.itemMap.set(A,{ref:A,...I}),()=>void j.itemMap.delete(A))),f.jsx(jo,{[w]:"",ref:S,children:P})});v.displayName=p;function E(_){const R=a(e+"CollectionConsumer",_);return oi.useCallback(()=>{const P=R.collectionRef.current;if(!P)return[];const I=Array.from(P.querySelectorAll(`[${w}]`));return Array.from(R.itemMap.values()).sort((j,z)=>I.indexOf(j.ref.current)-I.indexOf(z.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:u,Slot:g,ItemSlot:v},E,n]}function GT(e,t){const r=C.createContext(t),n=a=>{const{children:u,...m}=a,g=C.useMemo(()=>m,Object.values(m));return f.jsx(r.Provider,{value:g,children:u})};n.displayName=e+"Provider";function i(a){const u=C.useContext(r);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function Yi(e,t=[]){let r=[];function n(a,u){const m=C.createContext(u),g=r.length;r=[...r,u];const p=v=>{var I;const{scope:E,children:_,...R}=v,N=((I=E==null?void 0:E[e])==null?void 0:I[g])||m,P=C.useMemo(()=>R,Object.values(R));return f.jsx(N.Provider,{value:P,children:_})};p.displayName=a+"Provider";function w(v,E){var N;const _=((N=E==null?void 0:E[e])==null?void 0:N[g])||m,R=C.useContext(_);if(R)return R;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[p,w]}const i=()=>{const a=r.map(u=>C.createContext(u));return function(m){const g=(m==null?void 0:m[e])||a;return C.useMemo(()=>({[`__scope${e}`]:{...m,[e]:g}}),[m,g])}};return i.scopeName=e,[n,qT(i,...t)]}function qT(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=n.reduce((m,{useScope:g,scopeName:p})=>{const v=g(a)[`__scope${p}`];return{...m,...v}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return r.scopeName=t.scopeName,r}var XT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],He=XT.reduce((e,t)=>{const r=C.forwardRef((n,i)=>{const{asChild:a,...u}=n,m=a?jo:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(m,{...u,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function wb(e,t){e&&zo.flushSync(()=>e.dispatchEvent(t))}function rr(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function YT(e,t=globalThis==null?void 0:globalThis.document){const r=rr(e);C.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var KT="DismissableLayer",k1="dismissableLayer.update",QT="dismissableLayer.pointerDownOutside",ZT="dismissableLayer.focusOutside",iw,yb=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xc=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:u,onDismiss:m,...g}=e,p=C.useContext(yb),[w,v]=C.useState(null),E=(w==null?void 0:w.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=C.useState({}),R=ct(t,F=>v(F)),N=Array.from(p.layers),[P]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),I=N.indexOf(P),A=w?N.indexOf(w):-1,S=p.layersWithOutsidePointerEventsDisabled.size>0,j=A>=I,z=e8(F=>{const L=F.target,D=[...p.branches].some(W=>W.contains(L));!j||D||(i==null||i(F),u==null||u(F),F.defaultPrevented||m==null||m())},E),V=t8(F=>{const L=F.target;[...p.branches].some(W=>W.contains(L))||(a==null||a(F),u==null||u(F),F.defaultPrevented||m==null||m())},E);return YT(F=>{A===p.layers.size-1&&(n==null||n(F),!F.defaultPrevented&&m&&(F.preventDefault(),m()))},E),C.useEffect(()=>{if(w)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(iw=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(w)),p.layers.add(w),ow(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=iw)}},[w,E,r,p]),C.useEffect(()=>()=>{w&&(p.layers.delete(w),p.layersWithOutsidePointerEventsDisabled.delete(w),ow())},[w,p]),C.useEffect(()=>{const F=()=>_({});return document.addEventListener(k1,F),()=>document.removeEventListener(k1,F)},[]),f.jsx(He.div,{...g,ref:R,style:{pointerEvents:S?j?"auto":"none":void 0,...e.style},onFocusCapture:Me(e.onFocusCapture,V.onFocusCapture),onBlurCapture:Me(e.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Me(e.onPointerDownCapture,z.onPointerDownCapture)})});Xc.displayName=KT;var JT="DismissableLayerBranch",vb=C.forwardRef((e,t)=>{const r=C.useContext(yb),n=C.useRef(null),i=ct(t,n);return C.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),f.jsx(He.div,{...e,ref:i})});vb.displayName=JT;function e8(e,t=globalThis==null?void 0:globalThis.document){const r=rr(e),n=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const a=m=>{if(m.target&&!n.current){let g=function(){bb(QT,r,p,{discrete:!0})};const p={originalEvent:m};m.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=g,t.addEventListener("click",i.current,{once:!0})):g()}else t.removeEventListener("click",i.current);n.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function t8(e,t=globalThis==null?void 0:globalThis.document){const r=rr(e),n=C.useRef(!1);return C.useEffect(()=>{const i=a=>{a.target&&!n.current&&bb(ZT,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ow(){const e=new CustomEvent(k1);document.dispatchEvent(e)}function bb(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?wb(i,a):i.dispatchEvent(a)}var r8=Xc,n8=vb,Tr=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},s8="Portal",kf=C.forwardRef((e,t)=>{var m;const{container:r,...n}=e,[i,a]=C.useState(!1);Tr(()=>a(!0),[]);const u=r||i&&((m=globalThis==null?void 0:globalThis.document)==null?void 0:m.body);return u?n4.createPortal(f.jsx(He.div,{...n,ref:t}),u):null});kf.displayName=s8;function i8(e,t){return C.useReducer((r,n)=>t[r][n]??r,e)}var es=e=>{const{present:t,children:r}=e,n=o8(t),i=typeof r=="function"?r({present:n.isPresent}):C.Children.only(r),a=ct(n.ref,a8(i));return typeof r=="function"||n.isPresent?C.cloneElement(i,{ref:a}):null};es.displayName="Presence";function o8(e){const[t,r]=C.useState(),n=C.useRef({}),i=C.useRef(e),a=C.useRef("none"),u=e?"mounted":"unmounted",[m,g]=i8(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const p=Fu(n.current);a.current=m==="mounted"?p:"none"},[m]),Tr(()=>{const p=n.current,w=i.current;if(w!==e){const E=a.current,_=Fu(p);e?g("MOUNT"):_==="none"||(p==null?void 0:p.display)==="none"?g("UNMOUNT"):g(w&&E!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,g]),Tr(()=>{if(t){let p;const w=t.ownerDocument.defaultView??window,v=_=>{const N=Fu(n.current).includes(_.animationName);if(_.target===t&&N&&(g("ANIMATION_END"),!i.current)){const P=t.style.animationFillMode;t.style.animationFillMode="forwards",p=w.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=P)})}},E=_=>{_.target===t&&(a.current=Fu(n.current))};return t.addEventListener("animationstart",E),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{w.clearTimeout(p),t.removeEventListener("animationstart",E),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else g("ANIMATION_END")},[t,g]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:C.useCallback(p=>{p&&(n.current=getComputedStyle(p)),r(p)},[])}}function Fu(e){return(e==null?void 0:e.animationName)||"none"}function a8(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Do({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=l8({defaultProp:t,onChange:r}),a=e!==void 0,u=a?e:n,m=rr(r),g=C.useCallback(p=>{if(a){const v=typeof p=="function"?p(e):p;v!==e&&m(v)}else i(p)},[a,e,i,m]);return[u,g]}function l8({defaultProp:e,onChange:t}){const r=C.useState(e),[n]=r,i=C.useRef(n),a=rr(t);return C.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}var c8="VisuallyHidden",Yc=C.forwardRef((e,t)=>f.jsx(He.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Yc.displayName=c8;var u8=Yc,dp="ToastProvider",[fp,d8,f8]=xb("Toast"),[Cb,H7]=Yi("Toast",[f8]),[h8,Pf]=Cb(dp),Eb=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:u}=e,[m,g]=C.useState(null),[p,w]=C.useState(0),v=C.useRef(!1),E=C.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${dp}\`. Expected non-empty \`string\`.`),f.jsx(fp.Provider,{scope:t,children:f.jsx(h8,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:p,viewport:m,onViewportChange:g,onToastAdd:C.useCallback(()=>w(_=>_+1),[]),onToastRemove:C.useCallback(()=>w(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:E,children:u})})};Eb.displayName=dp;var Sb="ToastViewport",m8=["F8"],P1="toast.viewportPause",j1="toast.viewportResume",Ab=C.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=m8,label:i="Notifications ({hotkey})",...a}=e,u=Pf(Sb,r),m=d8(r),g=C.useRef(null),p=C.useRef(null),w=C.useRef(null),v=C.useRef(null),E=ct(t,v,u.onViewportChange),_=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=u.toastCount>0;C.useEffect(()=>{const P=I=>{var S;n.length!==0&&n.every(j=>I[j]||I.code===j)&&((S=v.current)==null||S.focus())};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[n]),C.useEffect(()=>{const P=g.current,I=v.current;if(R&&P&&I){const A=()=>{if(!u.isClosePausedRef.current){const V=new CustomEvent(P1);I.dispatchEvent(V),u.isClosePausedRef.current=!0}},S=()=>{if(u.isClosePausedRef.current){const V=new CustomEvent(j1);I.dispatchEvent(V),u.isClosePausedRef.current=!1}},j=V=>{!P.contains(V.relatedTarget)&&S()},z=()=>{P.contains(document.activeElement)||S()};return P.addEventListener("focusin",A),P.addEventListener("focusout",j),P.addEventListener("pointermove",A),P.addEventListener("pointerleave",z),window.addEventListener("blur",A),window.addEventListener("focus",S),()=>{P.removeEventListener("focusin",A),P.removeEventListener("focusout",j),P.removeEventListener("pointermove",A),P.removeEventListener("pointerleave",z),window.removeEventListener("blur",A),window.removeEventListener("focus",S)}}},[R,u.isClosePausedRef]);const N=C.useCallback(({tabbingDirection:P})=>{const A=m().map(S=>{const j=S.ref.current,z=[j,...N8(j)];return P==="forwards"?z:z.reverse()});return(P==="forwards"?A.reverse():A).flat()},[m]);return C.useEffect(()=>{const P=v.current;if(P){const I=A=>{var z,V,F;const S=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!S){const L=document.activeElement,D=A.shiftKey;if(A.target===P&&D){(z=p.current)==null||z.focus();return}const q=N({tabbingDirection:D?"backwards":"forwards"}),se=q.findIndex(ne=>ne===L);s0(q.slice(se+1))?A.preventDefault():D?(V=p.current)==null||V.focus():(F=w.current)==null||F.focus()}};return P.addEventListener("keydown",I),()=>P.removeEventListener("keydown",I)}},[m,N]),f.jsxs(n8,{ref:g,role:"region","aria-label":i.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&f.jsx(D1,{ref:p,onFocusFromOutsideViewport:()=>{const P=N({tabbingDirection:"forwards"});s0(P)}}),f.jsx(fp.Slot,{scope:r,children:f.jsx(He.ol,{tabIndex:-1,...a,ref:E})}),R&&f.jsx(D1,{ref:w,onFocusFromOutsideViewport:()=>{const P=N({tabbingDirection:"backwards"});s0(P)}})]})});Ab.displayName=Sb;var _b="ToastFocusProxy",D1=C.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=Pf(_b,r);return f.jsx(Yc,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:u=>{var p;const m=u.relatedTarget;!((p=a.viewport)!=null&&p.contains(m))&&n()}})});D1.displayName=_b;var jf="Toast",p8="toast.swipeStart",g8="toast.swipeMove",x8="toast.swipeCancel",w8="toast.swipeEnd",Nb=C.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...u}=e,[m=!0,g]=Do({prop:n,defaultProp:i,onChange:a});return f.jsx(es,{present:r||m,children:f.jsx(b8,{open:m,...u,ref:t,onClose:()=>g(!1),onPause:rr(e.onPause),onResume:rr(e.onResume),onSwipeStart:Me(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Me(e.onSwipeMove,p=>{const{x:w,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${w}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:Me(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Me(e.onSwipeEnd,p=>{const{x:w,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${w}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),g(!1)})})})});Nb.displayName=jf;var[y8,v8]=Cb(jf,{onClose(){}}),b8=C.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:u,onEscapeKeyDown:m,onPause:g,onResume:p,onSwipeStart:w,onSwipeMove:v,onSwipeCancel:E,onSwipeEnd:_,...R}=e,N=Pf(jf,r),[P,I]=C.useState(null),A=ct(t,ne=>I(ne)),S=C.useRef(null),j=C.useRef(null),z=i||N.duration,V=C.useRef(0),F=C.useRef(z),L=C.useRef(0),{onToastAdd:D,onToastRemove:W}=N,Q=rr(()=>{var X;(P==null?void 0:P.contains(document.activeElement))&&((X=N.viewport)==null||X.focus()),u()}),q=C.useCallback(ne=>{!ne||ne===1/0||(window.clearTimeout(L.current),V.current=new Date().getTime(),L.current=window.setTimeout(Q,ne))},[Q]);C.useEffect(()=>{const ne=N.viewport;if(ne){const X=()=>{q(F.current),p==null||p()},fe=()=>{const re=new Date().getTime()-V.current;F.current=F.current-re,window.clearTimeout(L.current),g==null||g()};return ne.addEventListener(P1,fe),ne.addEventListener(j1,X),()=>{ne.removeEventListener(P1,fe),ne.removeEventListener(j1,X)}}},[N.viewport,z,g,p,q]),C.useEffect(()=>{a&&!N.isClosePausedRef.current&&q(z)},[a,z,N.isClosePausedRef,q]),C.useEffect(()=>(D(),()=>W()),[D,W]);const se=C.useMemo(()=>P?jb(P):null,[P]);return N.viewport?f.jsxs(f.Fragment,{children:[se&&f.jsx(C8,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:se}),f.jsx(y8,{scope:r,onClose:Q,children:zo.createPortal(f.jsx(fp.ItemSlot,{scope:r,children:f.jsx(r8,{asChild:!0,onEscapeKeyDown:Me(m,()=>{N.isFocusedToastEscapeKeyDownRef.current||Q(),N.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(He.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":N.swipeDirection,...R,ref:A,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Me(e.onKeyDown,ne=>{ne.key==="Escape"&&(m==null||m(ne.nativeEvent),ne.nativeEvent.defaultPrevented||(N.isFocusedToastEscapeKeyDownRef.current=!0,Q()))}),onPointerDown:Me(e.onPointerDown,ne=>{ne.button===0&&(S.current={x:ne.clientX,y:ne.clientY})}),onPointerMove:Me(e.onPointerMove,ne=>{if(!S.current)return;const X=ne.clientX-S.current.x,fe=ne.clientY-S.current.y,re=!!j.current,Z=["left","right"].includes(N.swipeDirection),te=["left","up"].includes(N.swipeDirection)?Math.min:Math.max,he=Z?te(0,X):0,ue=Z?0:te(0,fe),ge=ne.pointerType==="touch"?10:2,we={x:he,y:ue},ke={originalEvent:ne,delta:we};re?(j.current=we,Bu(g8,v,ke,{discrete:!1})):aw(we,N.swipeDirection,ge)?(j.current=we,Bu(p8,w,ke,{discrete:!1}),ne.target.setPointerCapture(ne.pointerId)):(Math.abs(X)>ge||Math.abs(fe)>ge)&&(S.current=null)}),onPointerUp:Me(e.onPointerUp,ne=>{const X=j.current,fe=ne.target;if(fe.hasPointerCapture(ne.pointerId)&&fe.releasePointerCapture(ne.pointerId),j.current=null,S.current=null,X){const re=ne.currentTarget,Z={originalEvent:ne,delta:X};aw(X,N.swipeDirection,N.swipeThreshold)?Bu(w8,_,Z,{discrete:!0}):Bu(x8,E,Z,{discrete:!0}),re.addEventListener("click",te=>te.preventDefault(),{once:!0})}})})})}),N.viewport)})]}):null}),C8=e=>{const{__scopeToast:t,children:r,...n}=e,i=Pf(jf,t),[a,u]=C.useState(!1),[m,g]=C.useState(!1);return A8(()=>u(!0)),C.useEffect(()=>{const p=window.setTimeout(()=>g(!0),1e3);return()=>window.clearTimeout(p)},[]),m?null:f.jsx(kf,{asChild:!0,children:f.jsx(Yc,{...n,children:a&&f.jsxs(f.Fragment,{children:[i.label," ",r]})})})},E8="ToastTitle",Tb=C.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return f.jsx(He.div,{...n,ref:t})});Tb.displayName=E8;var S8="ToastDescription",Ib=C.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return f.jsx(He.div,{...n,ref:t})});Ib.displayName=S8;var Rb="ToastAction",Ob=C.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?f.jsx(Pb,{altText:r,asChild:!0,children:f.jsx(hp,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Rb}\`. Expected non-empty \`string\`.`),null)});Ob.displayName=Rb;var kb="ToastClose",hp=C.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=v8(kb,r);return f.jsx(Pb,{asChild:!0,children:f.jsx(He.button,{type:"button",...n,ref:t,onClick:Me(e.onClick,i.onClose)})})});hp.displayName=kb;var Pb=C.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return f.jsx(He.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function jb(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),_8(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const u=n.dataset.radixToastAnnounceAlt;u&&t.push(u)}else t.push(...jb(n))}}),t}function Bu(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?wb(i,a):i.dispatchEvent(a)}var aw=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function A8(e=()=>{}){const t=rr(e);Tr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function _8(e){return e.nodeType===e.ELEMENT_NODE}function N8(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function s0(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var T8=Eb,Db=Ab,Mb=Nb,Lb=Tb,Fb=Ib,Bb=Ob,Ub=hp;function zb(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=zb(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Vb(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=zb(e))&&(n&&(n+=" "),n+=t);return n}const lw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cw=Vb,fl=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return cw(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,u=Object.keys(i).map(p=>{const w=r==null?void 0:r[p],v=a==null?void 0:a[p];if(w===null)return null;const E=lw(w)||lw(v);return i[p][E]}),m=r&&Object.entries(r).reduce((p,w)=>{let[v,E]=w;return E===void 0||(p[v]=E),p},{}),g=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((p,w)=>{let{class:v,className:E,..._}=w;return Object.entries(_).every(R=>{let[N,P]=R;return Array.isArray(P)?P.includes({...a,...m}[N]):{...a,...m}[N]===P})?[...p,v,E]:p},[]);return cw(e,u,g,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wb=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:u,...m},g)=>C.createElement("svg",{ref:g,...R8,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Wb("lucide",i),...m},[...u.map(([p,w])=>C.createElement(p,w)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(e,t)=>{const r=C.forwardRef(({className:n,...i},a)=>C.createElement(O8,{ref:a,iconNode:t,className:Wb(`lucide-${I8(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=Be("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=Be("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=Be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=Be("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=Be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=Be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=Be("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=Be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=Be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=Be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=Be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=Be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=Be("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=Be("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=Be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=Be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=Be("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=Be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=Be("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=Be("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=Be("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=Be("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=Be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=Be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=Be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=Be("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=Be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=Be("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=Be("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=Be("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=Be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=Be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=Be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=Be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=Be("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=Be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=Be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=Be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=Be("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=Be("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=Be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Cp="-",q8=e=>{const t=Y8(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:u=>{const m=u.split(Cp);return m[0]===""&&m.length!==1&&m.shift(),Jb(m,t)||X8(u)},getConflictingClassGroupIds:(u,m)=>{const g=r[u]||[];return m&&n[u]?[...g,...n[u]]:g}}},Jb=(e,t)=>{var u;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?Jb(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(Cp);return(u=t.validators.find(({validator:m})=>m(a)))==null?void 0:u.classGroupId},xw=/^\[(.+)\]$/,X8=e=>{if(xw.test(e)){const t=xw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Y8=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Q8(Object.entries(e.classGroups),r).forEach(([a,u])=>{M1(u,n,a,t)}),n},M1=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:ww(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(K8(i)){M1(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,u])=>{M1(u,ww(t,a),r,n)})})},ww=(e,t)=>{let r=e;return t.split(Cp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},K8=e=>e.isThemeGetter,Q8=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,m])=>[t+u,m])):a);return[r,i]}):e,Z8=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,u)=>{r.set(a,u),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let u=r.get(a);if(u!==void 0)return u;if((u=n.get(a))!==void 0)return i(a,u),u},set(a,u){r.has(a)?r.set(a,u):i(a,u)}}},eC="!",J8=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,u=m=>{const g=[];let p=0,w=0,v;for(let P=0;P<m.length;P++){let I=m[P];if(p===0){if(I===i&&(n||m.slice(P,P+a)===t)){g.push(m.slice(w,P)),w=P+a;continue}if(I==="/"){v=P;continue}}I==="["?p++:I==="]"&&p--}const E=g.length===0?m:m.substring(w),_=E.startsWith(eC),R=_?E.substring(1):E,N=v&&v>w?v-w:void 0;return{modifiers:g,hasImportantModifier:_,baseClassName:R,maybePostfixModifierPosition:N}};return r?m=>r({className:m,parseClassName:u}):u},eI=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},tI=e=>({cache:Z8(e.cacheSize),parseClassName:J8(e),...q8(e)}),rI=/\s+/,nI=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],u=e.trim().split(rI);let m="";for(let g=u.length-1;g>=0;g-=1){const p=u[g],{modifiers:w,hasImportantModifier:v,baseClassName:E,maybePostfixModifierPosition:_}=r(p);let R=!!_,N=n(R?E.substring(0,_):E);if(!N){if(!R){m=p+(m.length>0?" "+m:m);continue}if(N=n(E),!N){m=p+(m.length>0?" "+m:m);continue}R=!1}const P=eI(w).join(":"),I=v?P+eC:P,A=I+N;if(a.includes(A))continue;a.push(A);const S=i(N,R);for(let j=0;j<S.length;++j){const z=S[j];a.push(I+z)}m=p+(m.length>0?" "+m:m)}return m};function sI(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=tC(t))&&(n&&(n+=" "),n+=r);return n}const tC=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=tC(e[n]))&&(r&&(r+=" "),r+=t);return r};function iI(e,...t){let r,n,i,a=u;function u(g){const p=t.reduce((w,v)=>v(w),e());return r=tI(p),n=r.cache.get,i=r.cache.set,a=m,m(g)}function m(g){const p=n(g);if(p)return p;const w=nI(g,r);return i(g,w),w}return function(){return a(sI.apply(null,arguments))}}const Pt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},rC=/^\[(?:([a-z-]+):)?(.+)\]$/i,oI=/^\d+\/\d+$/,aI=new Set(["px","full","screen"]),lI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_s=e=>Ta(e)||aI.has(e)||oI.test(e),ni=e=>ml(e,"length",vI),Ta=e=>!!e&&!Number.isNaN(Number(e)),i0=e=>ml(e,"number",Ta),Bl=e=>!!e&&Number.isInteger(Number(e)),hI=e=>e.endsWith("%")&&Ta(e.slice(0,-1)),Ye=e=>rC.test(e),si=e=>lI.test(e),mI=new Set(["length","size","percentage"]),pI=e=>ml(e,mI,nC),gI=e=>ml(e,"position",nC),xI=new Set(["image","url"]),wI=e=>ml(e,xI,CI),yI=e=>ml(e,"",bI),Ul=()=>!0,ml=(e,t,r)=>{const n=rC.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},vI=e=>cI.test(e)&&!uI.test(e),nC=()=>!1,bI=e=>dI.test(e),CI=e=>fI.test(e),EI=()=>{const e=Pt("colors"),t=Pt("spacing"),r=Pt("blur"),n=Pt("brightness"),i=Pt("borderColor"),a=Pt("borderRadius"),u=Pt("borderSpacing"),m=Pt("borderWidth"),g=Pt("contrast"),p=Pt("grayscale"),w=Pt("hueRotate"),v=Pt("invert"),E=Pt("gap"),_=Pt("gradientColorStops"),R=Pt("gradientColorStopPositions"),N=Pt("inset"),P=Pt("margin"),I=Pt("opacity"),A=Pt("padding"),S=Pt("saturate"),j=Pt("scale"),z=Pt("sepia"),V=Pt("skew"),F=Pt("space"),L=Pt("translate"),D=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto",Ye,t],q=()=>[Ye,t],se=()=>["",_s,ni],ne=()=>["auto",Ta,Ye],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],fe=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",Ye],he=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>[Ta,Ye];return{cacheSize:500,separator:":",theme:{colors:[Ul],spacing:[_s,ni],blur:["none","",si,Ye],brightness:ue(),borderColor:[e],borderRadius:["none","","full",si,Ye],borderSpacing:q(),borderWidth:se(),contrast:ue(),grayscale:te(),hueRotate:ue(),invert:te(),gap:q(),gradientColorStops:[e],gradientColorStopPositions:[hI,ni],inset:Q(),margin:Q(),opacity:ue(),padding:q(),saturate:ue(),scale:ue(),sepia:te(),skew:ue(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[si]}],"break-after":[{"break-after":he()}],"break-before":[{"break-before":he()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Ye]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bl,Ye]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",Bl,Ye]}],"grid-cols":[{"grid-cols":[Ul]}],"col-start-end":[{col:["auto",{span:["full",Bl,Ye]},Ye]}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":[Ul]}],"row-start-end":[{row:["auto",{span:[Bl,Ye]},Ye]}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[P]}],mx:[{mx:[P]}],my:[{my:[P]}],ms:[{ms:[P]}],me:[{me:[P]}],mt:[{mt:[P]}],mr:[{mr:[P]}],mb:[{mb:[P]}],ml:[{ml:[P]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ye,t]}],"min-w":[{"min-w":[Ye,t,"min","max","fit"]}],"max-w":[{"max-w":[Ye,t,"none","full","min","max","fit","prose",{screen:[si]},si]}],h:[{h:[Ye,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ye,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ye,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ye,t,"auto","min","max","fit"]}],"font-size":[{text:["base",si,ni]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",i0]}],"font-family":[{font:[Ul]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",Ta,i0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_s,Ye]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[I]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[I]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_s,ni]}],"underline-offset":[{"underline-offset":["auto",_s,Ye]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[I]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),gI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[m]}],"border-w-x":[{"border-x":[m]}],"border-w-y":[{"border-y":[m]}],"border-w-s":[{"border-s":[m]}],"border-w-e":[{"border-e":[m]}],"border-w-t":[{"border-t":[m]}],"border-w-r":[{"border-r":[m]}],"border-w-b":[{"border-b":[m]}],"border-w-l":[{"border-l":[m]}],"border-opacity":[{"border-opacity":[I]}],"border-style":[{border:[...fe(),"hidden"]}],"divide-x":[{"divide-x":[m]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[m]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[I]}],"divide-style":[{divide:fe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...fe()]}],"outline-offset":[{"outline-offset":[_s,Ye]}],"outline-w":[{outline:[_s,ni]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[I]}],"ring-offset-w":[{"ring-offset":[_s,ni]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",si,yI]}],"shadow-color":[{shadow:[Ul]}],opacity:[{opacity:[I]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",si,Ye]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[w]}],invert:[{invert:[v]}],saturate:[{saturate:[S]}],sepia:[{sepia:[z]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[w]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[I]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:ue()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Bl,Ye]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[_s,ni,i0]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},SI=iI(EI);function Oe(...e){return SI(Vb(e))}function qd(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function L1(e){return new Intl.DateTimeFormat("pt-BR").format(new Date(e))}const AI=T8,sC=C.forwardRef(({className:e,...t},r)=>f.jsx(Db,{ref:r,className:Oe("fixed bottom-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));sC.displayName=Db.displayName;const _I=fl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),iC=C.forwardRef(({className:e,variant:t,...r},n)=>f.jsx(Mb,{ref:n,className:Oe(_I({variant:t}),e),...r}));iC.displayName=Mb.displayName;const NI=C.forwardRef(({className:e,...t},r)=>f.jsx(Bb,{ref:r,className:Oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));NI.displayName=Bb.displayName;const oC=C.forwardRef(({className:e,...t},r)=>f.jsx(Ub,{ref:r,className:Oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:f.jsx(hl,{className:"h-4 w-4"})}));oC.displayName=Ub.displayName;const aC=C.forwardRef(({className:e,...t},r)=>f.jsx(Lb,{ref:r,className:Oe("text-sm font-semibold",e),...t}));aC.displayName=Lb.displayName;const lC=C.forwardRef(({className:e,...t},r)=>f.jsx(Fb,{ref:r,className:Oe("text-sm opacity-90",e),...t}));lC.displayName=Fb.displayName;function TI(){const{toasts:e}=yr();return f.jsxs(AI,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return f.jsxs(iC,{...a,children:[f.jsxs("div",{className:"grid gap-1",children:[r&&f.jsx(aC,{children:r}),n&&f.jsx(lC,{children:n})]}),i,f.jsx(oC,{})]},t)}),f.jsx(sC,{})]})}const II="modulepreload",RI=function(e){return"/"+e},yw={},Kc=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),m=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=Promise.allSettled(r.map(g=>{if(g=RI(g),g in yw)return;yw[g]=!0;const p=g.endsWith(".css"),w=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${w}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":II,p||(v.as="script"),v.crossOrigin="",v.href=g,m&&v.setAttribute("nonce",m),document.head.appendChild(v),p)return new Promise((E,_)=>{v.addEventListener("load",E),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${g}`)))})}))}function a(u){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=u,window.dispatchEvent(m),!m.defaultPrevented)throw u}return i.then(u=>{for(const m of u||[])m.status==="rejected"&&a(m.reason);return t().catch(a)})},OI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Kc(async()=>{const{default:n}=await Promise.resolve().then(()=>pl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ep extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class kI extends Ep{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class PI extends Ep{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jI extends Ep{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var F1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(F1||(F1={}));var DI=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function m(w){try{p(n.next(w))}catch(v){u(v)}}function g(w){try{p(n.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((n=n.apply(e,t||[])).next())})};class MI{constructor(t,{headers:r={},customFetch:n,region:i=F1.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=OI(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return DI(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:u}=r;let m={},{region:g}=r;g||(g=this.region),g&&g!=="any"&&(m["x-region"]=g);let p;u&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(m["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(m["Content-Type"]="application/json",p=JSON.stringify(u)));const w=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),i),body:p}).catch(R=>{throw new kI(R)}),v=w.headers.get("x-relay-error");if(v&&v==="true")throw new PI(w);if(!w.ok)throw new jI(w);let E=((n=w.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),_;return E==="application/json"?_=yield w.json():E==="application/octet-stream"?_=yield w.blob():E==="text/event-stream"?_=w:E==="multipart/form-data"?_=yield w.formData():_=yield w.text(),{data:_,error:null}}catch(i){return{data:null,error:i}}})}}var rn={},Sp={},Lf={},Qc={},Ff={},Bf={},LI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rl=LI();const FI=rl.fetch,cC=rl.fetch.bind(rl),uC=rl.Headers,BI=rl.Request,UI=rl.Response,pl=Object.freeze(Object.defineProperty({__proto__:null,Headers:uC,Request:BI,Response:UI,default:cC,fetch:FI},Symbol.toStringTag,{value:"Module"})),zI=O3(pl);var Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});let VI=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Uf.default=VI;var dC=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bf,"__esModule",{value:!0});const WI=dC(zI),HI=dC(Uf);let $I=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=WI.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var u,m,g;let p=null,w=null,v=null,E=a.status,_=a.statusText;if(a.ok){if(this.method!=="HEAD"){const I=await a.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=I:w=JSON.parse(I))}const N=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),P=(m=a.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");N&&P&&P.length>1&&(v=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(p={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,v=null,E=406,_="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const N=await a.text();try{p=JSON.parse(N),Array.isArray(p)&&a.status===404&&(w=[],p=null,E=200,_="OK")}catch{a.status===404&&N===""?(E=204,_="No Content"):p={message:N}}if(p&&this.isMaybeSingle&&(!((g=p==null?void 0:p.details)===null||g===void 0)&&g.includes("0 rows"))&&(p=null,E=200,_="OK"),p&&this.shouldThrowOnError)throw new HI.default(p)}return{error:p,data:w,count:v,status:E,statusText:_}});return this.shouldThrowOnError||(i=i.catch(a=>{var u,m,g;return{error:{message:`${(u=a==null?void 0:a.name)!==null&&u!==void 0?u:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(m=a==null?void 0:a.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(g=a==null?void 0:a.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Bf.default=$I;var GI=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ff,"__esModule",{value:!0});const qI=GI(Bf);let XI=class extends qI.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const u=a?`${a}.order`:"order",m=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${m?`${m},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,u=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(u,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:u="text"}={}){var m;const g=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${p}"; options=${g};`,u==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ff.default=XI;var YI=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qc,"__esModule",{value:!0});const KI=YI(Ff);let QI=class extends KI.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const u=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${u}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Qc.default=QI;var ZI=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lf,"__esModule",{value:!0});const zl=ZI(Qc);let JI=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const u=(t??"*").split("").map(m=>/\s/.test(m)&&!a?"":(m==='"'&&(a=!a),m)).join("");return this.url.searchParams.set("select",u),n&&(this.headers.Prefer=`count=${n}`),new zl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const u=t.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(u.length>0){const m=[...new Set(u)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new zl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const u="POST",m=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&m.push(this.headers.Prefer),i&&m.push(`count=${i}`),a||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(t)){const g=t.reduce((p,w)=>p.concat(Object.keys(w)),[]);if(g.length>0){const p=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",p.join(","))}}return new zl.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new zl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new zl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Lf.default=JI;var zf={},Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.version=void 0;Vf.version="0.0.0-automated";Object.defineProperty(zf,"__esModule",{value:!0});zf.DEFAULT_HEADERS=void 0;const e6=Vf;zf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e6.version}`};var fC=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sp,"__esModule",{value:!0});const t6=fC(Lf),r6=fC(Qc),n6=zf;let s6=class hC{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},n6.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new t6.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new hC(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){let u;const m=new URL(`${this.url}/rpc/${t}`);let g;n||i?(u=n?"HEAD":"GET",Object.entries(r).filter(([w,v])=>v!==void 0).map(([w,v])=>[w,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([w,v])=>{m.searchParams.append(w,v)})):(u="POST",g=r);const p=Object.assign({},this.headers);return a&&(p.Prefer=`count=${a}`),new r6.default({method:u,url:m,headers:p,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}};Sp.default=s6;var gl=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rn,"__esModule",{value:!0});rn.PostgrestError=rn.PostgrestBuilder=rn.PostgrestTransformBuilder=rn.PostgrestFilterBuilder=rn.PostgrestQueryBuilder=rn.PostgrestClient=void 0;const mC=gl(Sp);rn.PostgrestClient=mC.default;const pC=gl(Lf);rn.PostgrestQueryBuilder=pC.default;const gC=gl(Qc);rn.PostgrestFilterBuilder=gC.default;const xC=gl(Ff);rn.PostgrestTransformBuilder=xC.default;const wC=gl(Bf);rn.PostgrestBuilder=wC.default;const yC=gl(Uf);rn.PostgrestError=yC.default;var i6=rn.default={PostgrestClient:mC.default,PostgrestQueryBuilder:pC.default,PostgrestFilterBuilder:gC.default,PostgrestTransformBuilder:xC.default,PostgrestBuilder:wC.default,PostgrestError:yC.default};const{PostgrestClient:o6,PostgrestQueryBuilder:K7,PostgrestFilterBuilder:Q7,PostgrestTransformBuilder:Z7,PostgrestBuilder:J7,PostgrestError:e9}=i6;let B1;typeof window>"u"?B1=require("ws"):B1=window.WebSocket;const a6="2.11.10",l6={"X-Client-Info":`realtime-js/${a6}`},c6="1.0.0",vC=1e4,u6=1e3;var Ia;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ia||(Ia={}));var Br;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Br||(Br={}));var $n;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})($n||($n={}));var U1;(function(e){e.websocket="websocket"})(U1||(U1={}));var uo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(uo||(uo={}));class d6{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let u=this.HEADER_LENGTH+2;const m=n.decode(t.slice(u,u+i));u=u+i;const g=n.decode(t.slice(u,u+a));u=u+a;const p=JSON.parse(n.decode(t.slice(u,t.byteLength)));return{ref:null,topic:m,event:g,payload:p}}}class bC{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Rt||(Rt={}));const vw=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,u)=>(a[u]=f6(u,e,t,i),a),{})},f6=(e,t,r,n)=>{const i=t.find(m=>m.name===e),a=i==null?void 0:i.type,u=r[e];return a&&!n.includes(a)?CC(a,u):z1(u)},CC=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return g6(t,r)}switch(e){case Rt.bool:return h6(t);case Rt.float4:case Rt.float8:case Rt.int2:case Rt.int4:case Rt.int8:case Rt.numeric:case Rt.oid:return m6(t);case Rt.json:case Rt.jsonb:return p6(t);case Rt.timestamp:return x6(t);case Rt.abstime:case Rt.date:case Rt.daterange:case Rt.int4range:case Rt.int8range:case Rt.money:case Rt.reltime:case Rt.text:case Rt.time:case Rt.timestamptz:case Rt.timetz:case Rt.tsrange:case Rt.tstzrange:return z1(t);default:return z1(t)}},z1=e=>e,h6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},m6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},p6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},g6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const u=e.slice(1,r);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(m=>CC(t,m))}return e},x6=e=>typeof e=="string"?e.replace(" ","T"):e,EC=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class o0{constructor(t,r,n={},i=vC){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var bw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(bw||(bw={}));class lc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:u,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lc.syncState(this.state,i,a,u),this.pendingDiffs.forEach(g=>{this.state=lc.syncDiff(this.state,g,a,u)}),this.pendingDiffs=[],m()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:u,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=lc.syncDiff(this.state,i,a,u),m())}),this.onJoin((i,a,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:u})}),this.onLeave((i,a,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),u=this.transformState(r),m={},g={};return this.map(a,(p,w)=>{u[p]||(g[p]=w)}),this.map(u,(p,w)=>{const v=a[p];if(v){const E=w.map(P=>P.presence_ref),_=v.map(P=>P.presence_ref),R=w.filter(P=>_.indexOf(P.presence_ref)<0),N=v.filter(P=>E.indexOf(P.presence_ref)<0);R.length>0&&(m[p]=R),N.length>0&&(g[p]=N)}else m[p]=w}),this.syncDiff(a,{joins:m,leaves:g},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(m,g)=>{var p;const w=(p=t[m])!==null&&p!==void 0?p:[];if(t[m]=this.cloneDeep(g),w.length>0){const v=t[m].map(_=>_.presence_ref),E=w.filter(_=>v.indexOf(_.presence_ref)<0);t[m].unshift(...E)}n(m,w,g)}),this.map(u,(m,g)=>{let p=t[m];if(!p)return;const w=g.map(v=>v.presence_ref);p=p.filter(v=>w.indexOf(v.presence_ref)<0),t[m]=p,i(m,p,g),p.length===0&&delete t[m]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Cw||(Cw={}));var Ew;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ew||(Ew={}));var ks;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ks||(ks={}));class Ap{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Br.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new o0(this,$n.join,this.params,this.timeout),this.rejoinTimer=new bC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Br.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Br.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this._on($n.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new lc(this),this.broadcastEndpointURL=EC(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:u,private:m}}=this.params;this._onError(w=>t==null?void 0:t(ks.CHANNEL_ERROR,w)),this._onClose(()=>t==null?void 0:t(ks.CLOSED));const g={},p={broadcast:a,presence:u,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(w=>w.filter))!==null&&i!==void 0?i:[],private:m};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var v;if(this.socket.setAuth(),w===void 0){t==null||t(ks.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,_=(v=E==null?void 0:E.length)!==null&&v!==void 0?v:0,R=[];for(let N=0;N<_;N++){const P=E[N],{filter:{event:I,schema:A,table:S,filter:j}}=P,z=w&&w[N];if(z&&z.event===I&&z.schema===A&&z.table===S&&z.filter===j)R.push(Object.assign(Object.assign({},P),{id:z.id}));else{this.unsubscribe(),this.state=Br.errored,t==null||t(ks.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,t&&t(ks.SUBSCRIBED);return}}).receive("error",w=>{this.state=Br.errored,t==null||t(ks.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ks.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:u}=t,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=p.body)===null||i===void 0?void 0:i.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,m,g;const p=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(m=(u=this.params)===null||u===void 0?void 0:u.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Br.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($n.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const i=new o0(this,$n.leave,{},t);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),u=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),u}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new o0(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const u=t.toLocaleLowerCase(),{close:m,error:g,leave:p,join:w}=$n;if(n&&[m,g,p,w].indexOf(u)>=0&&n!==this._joinRef())return;let E=this._onMessage(u,r,n);if(r&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var R,N,P;return((R=_.filter)===null||R===void 0?void 0:R.event)==="*"||((P=(N=_.filter)===null||N===void 0?void 0:N.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===u}).map(_=>_.callback(E,n)):(a=this.bindings[u])===null||a===void 0||a.filter(_=>{var R,N,P,I,A,S;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in _){const j=_.id,z=(R=_.filter)===null||R===void 0?void 0:R.event;return j&&((N=r.ids)===null||N===void 0?void 0:N.includes(j))&&(z==="*"||(z==null?void 0:z.toLocaleLowerCase())===((P=r.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const j=(A=(I=_==null?void 0:_.filter)===null||I===void 0?void 0:I.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return j==="*"||j===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===u}).map(_=>{if(typeof E=="object"&&"ids"in E){const R=E.data,{schema:N,table:P,commit_timestamp:I,type:A,errors:S}=R;E=Object.assign(Object.assign({},{schema:N,table:P,commit_timestamp:I,eventType:A,new:{},old:{},errors:S}),this._getPayloadRecords(R))}_.callback(E,n)})}_isClosed(){return this.state===Br.closed}_isJoined(){return this.state===Br.joined}_isJoining(){return this.state===Br.joining}_isLeaving(){return this.state===Br.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Ap.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on($n.close,{},t)}_onError(t){this._on($n.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Br.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=vw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=vw(t.columns,t.old_record)),r}}const Sw=()=>{},w6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class y6{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=l6,this.params={},this.timeout=vC,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sw,this.ref=0,this.logger=Sw,this.conn=null,this.sendBuffer=[],this.serializer=new d6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let u;return a?u=a:typeof fetch>"u"?u=(...m)=>Kc(async()=>{const{default:g}=await Promise.resolve().then(()=>pl);return{default:g}},void 0).then(({default:g})=>g(...m)):u=fetch,(...m)=>u(...m)},this.endPoint=`${t}/${U1.websocket}`,this.httpEndpoint=EC(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,u)=>u(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new bC(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=B1),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new v6(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:c6}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ia.connecting:return uo.Connecting;case Ia.open:return uo.Open;case Ia.closing:return uo.Closing;default:return uo.Closed}}isConnected(){return this.connectionState()===uo.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Ap(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,u=()=>{this.encode(t,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push($n.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(u6,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:a,ref:u}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${u&&"("+u+")"||""}`,a),Array.from(this.channels).filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,a,u)),this.stateChangeCallbacks.message.forEach(m=>m(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger($n.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([w6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class v6{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ia.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class _p extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function pr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class b6 extends _p{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class V1 extends _p{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var C6=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function m(w){try{p(n.next(w))}catch(v){u(v)}}function g(w){try{p(n.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((n=n.apply(e,t||[])).next())})};const SC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Kc(async()=>{const{default:n}=await Promise.resolve().then(()=>pl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},E6=()=>C6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Kc(()=>Promise.resolve().then(()=>pl),void 0)).Response:Response}),W1=e=>{if(Array.isArray(e))return e.map(r=>W1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=W1(n)}),t};var Vo=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function m(w){try{p(n.next(w))}catch(v){u(v)}}function g(w){try{p(n.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((n=n.apply(e,t||[])).next())})};const a0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),S6=(e,t,r)=>Vo(void 0,void 0,void 0,function*(){const n=yield E6();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{t(new b6(a0(i),e.status||500))}).catch(i=>{t(new V1(a0(i),i))}):t(new V1(a0(e),e))}),A6=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function Zc(e,t,r,n,i,a){return Vo(this,void 0,void 0,function*(){return new Promise((u,m)=>{e(r,A6(t,n,i,a)).then(g=>{if(!g.ok)throw g;return n!=null&&n.noResolveJson?g:g.json()}).then(g=>u(g)).catch(g=>S6(g,m,n))})})}function Xd(e,t,r,n){return Vo(this,void 0,void 0,function*(){return Zc(e,"GET",t,r,n)})}function fi(e,t,r,n,i){return Vo(this,void 0,void 0,function*(){return Zc(e,"POST",t,n,i,r)})}function _6(e,t,r,n,i){return Vo(this,void 0,void 0,function*(){return Zc(e,"PUT",t,n,i,r)})}function N6(e,t,r,n){return Vo(this,void 0,void 0,function*(){return Zc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function AC(e,t,r,n,i){return Vo(this,void 0,void 0,function*(){return Zc(e,"DELETE",t,n,i,r)})}var Zr=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function m(w){try{p(n.next(w))}catch(v){u(v)}}function g(w){try{p(n.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((n=n.apply(e,t||[])).next())})};const T6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Aw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class I6{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=SC(i)}uploadOrUpdate(t,r,n,i){return Zr(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},Aw),i);let m=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const g=u.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),g&&a.append("metadata",this.encodeMetadata(g)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",u.cacheControl),g&&a.append("metadata",this.encodeMetadata(g))):(a=n,m["cache-control"]=`max-age=${u.cacheControl}`,m["content-type"]=u.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),i!=null&&i.headers&&(m=Object.assign(Object.assign({},m),i.headers));const p=this._removeEmptyFolders(r),w=this._getFinalPath(p),v=yield this.fetch(`${this.url}/object/${w}`,Object.assign({method:t,body:a,headers:m},u!=null&&u.duplex?{duplex:u.duplex}:{})),E=yield v.json();return v.ok?{data:{path:p,id:E.Id,fullPath:E.Key},error:null}:{data:null,error:E}}catch(a){if(pr(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Zr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Zr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),u=this._getFinalPath(a),m=new URL(this.url+`/object/upload/sign/${u}`);m.searchParams.set("token",r);try{let g;const p=Object.assign({upsert:Aw.upsert},i),w=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&n instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",n)):typeof FormData<"u"&&n instanceof FormData?(g=n,g.append("cacheControl",p.cacheControl)):(g=n,w["cache-control"]=`max-age=${p.cacheControl}`,w["content-type"]=p.contentType);const v=yield this.fetch(m.toString(),{method:"PUT",body:g,headers:w}),E=yield v.json();return v.ok?{data:{path:a,fullPath:E.Key},error:null}:{data:null,error:E}}catch(g){if(pr(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(t,r){return Zr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield fi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),u=new URL(this.url+a.url),m=u.searchParams.get("token");if(!m)throw new _p("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:m},error:null}}catch(n){if(pr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Zr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Zr(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(pr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Zr(this,void 0,void 0,function*(){try{return{data:{path:(yield fi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(pr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Zr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield fi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const u=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(i){if(pr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Zr(this,void 0,void 0,function*(){try{const i=yield fi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(i){if(pr(i))return{data:null,error:i};throw i}})}download(t,r){return Zr(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=a?`?${a}`:"";try{const m=this._getFinalPath(t);return{data:yield(yield Xd(this.fetch,`${this.url}/${i}/${m}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(pr(m))return{data:null,error:m};throw m}})}info(t){return Zr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Xd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:W1(n),error:null}}catch(n){if(pr(n))return{data:null,error:n};throw n}})}exists(t){return Zr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield N6(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(pr(n)&&n instanceof V1){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const m=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});g!==""&&i.push(g);let p=i.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${n}${p}`)}}}remove(t){return Zr(this,void 0,void 0,function*(){try{return{data:yield AC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(pr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Zr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},T6),r),{prefix:t||""});return{data:yield fi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(pr(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const R6="2.7.1",O6={"X-Client-Info":`storage-js/${R6}`};var Jo=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function m(w){try{p(n.next(w))}catch(v){u(v)}}function g(w){try{p(n.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((n=n.apply(e,t||[])).next())})};class k6{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},O6),r),this.fetch=SC(n)}listBuckets(){return Jo(this,void 0,void 0,function*(){try{return{data:yield Xd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(pr(t))return{data:null,error:t};throw t}})}getBucket(t){return Jo(this,void 0,void 0,function*(){try{return{data:yield Xd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(pr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Jo(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(pr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Jo(this,void 0,void 0,function*(){try{return{data:yield _6(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(pr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Jo(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(pr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Jo(this,void 0,void 0,function*(){try{return{data:yield AC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(pr(r))return{data:null,error:r};throw r}})}}class P6 extends k6{constructor(t,r={},n){super(t,r,n)}from(t){return new I6(this.url,this.headers,t,this.fetch)}}const j6="2.50.0";let Kl="";typeof Deno<"u"?Kl="deno":typeof document<"u"?Kl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Kl="react-native":Kl="node";const D6={"X-Client-Info":`supabase-js-${Kl}/${j6}`},M6={headers:D6},L6={schema:"public"},F6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},B6={};var U6=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function m(w){try{p(n.next(w))}catch(v){u(v)}}function g(w){try{p(n.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((n=n.apply(e,t||[])).next())})};const z6=e=>{let t;return e?t=e:typeof fetch>"u"?t=cC:t=fetch,(...r)=>t(...r)},V6=()=>typeof Headers>"u"?uC:Headers,W6=(e,t,r)=>{const n=z6(r),i=V6();return(a,u)=>U6(void 0,void 0,void 0,function*(){var m;const g=(m=yield t())!==null&&m!==void 0?m:e;let p=new i(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),n(a,Object.assign(Object.assign({},u),{headers:p}))})};var H6=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function m(w){try{p(n.next(w))}catch(v){u(v)}}function g(w){try{p(n.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((n=n.apply(e,t||[])).next())})};function $6(e){return e.endsWith("/")?e:e+"/"}function G6(e,t){var r,n;const{db:i,auth:a,realtime:u,global:m}=e,{db:g,auth:p,realtime:w,global:v}=t,E={db:Object.assign(Object.assign({},g),i),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},w),u),global:Object.assign(Object.assign(Object.assign({},v),m),{headers:Object.assign(Object.assign({},(r=v==null?void 0:v.headers)!==null&&r!==void 0?r:{}),(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>H6(this,void 0,void 0,function*(){return""})};return e.accessToken?E.accessToken=e.accessToken:delete E.accessToken,E}const _C="2.70.0",aa=30*1e3,H1=3,l0=H1*aa,q6="http://localhost:9999",X6="supabase.auth.token",Y6={"X-Client-Info":`gotrue-js/${_C}`},$1="X-Supabase-Api-Version",NC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},K6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Q6=6e5;class Np extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function qe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Z6 extends Np{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function J6(e){return qe(e)&&e.name==="AuthApiError"}class TC extends Np{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ki extends Np{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class li extends Ki{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eR(e){return qe(e)&&e.name==="AuthSessionMissingError"}class Uu extends Ki{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zu extends Ki{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Vu extends Ki{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tR(e){return qe(e)&&e.name==="AuthImplicitGrantRedirectError"}class _w extends Ki{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class G1 extends Ki{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function c0(e){return qe(e)&&e.name==="AuthRetryableFetchError"}class Nw extends Ki{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class cc extends Ki{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tw=` 	
\r=`.split(""),rR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Tw.length;t+=1)e[Tw[t].charCodeAt(0)]=-2;for(let t=0;t<Yd.length;t+=1)e[Yd[t].charCodeAt(0)]=t;return e})();function Iw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Yd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Yd[n]),t.queuedBits-=6}}function IC(e,t,r){const n=rR[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Rw(e){const t=[],r=u=>{t.push(String.fromCodePoint(u))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=u=>{iR(u,n,r)};for(let u=0;u<e.length;u+=1)IC(e.charCodeAt(u),i,a);return t.join("")}function nR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function sR(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}nR(n,t)}}function iR(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function oR(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)IC(e.charCodeAt(i),r,n);return new Uint8Array(t)}function aR(e){const t=[];return sR(e,r=>t.push(r)),new Uint8Array(t)}function lR(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Iw(i,r,n)),Iw(null,r,n),t.join("")}function cR(e){return Math.round(Date.now()/1e3)+e}function uR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Un=()=>typeof window<"u"&&typeof document<"u",io={tested:!1,writable:!1},uc=()=>{if(!Un())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(io.tested)return io.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),io.tested=!0,io.writable=!0}catch{io.tested=!0,io.writable=!1}return io.writable};function dR(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const RC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Kc(async()=>{const{default:n}=await Promise.resolve().then(()=>pl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},fR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",OC=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Wu=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Hu=async(e,t)=>{await e.removeItem(t)};class Wf{constructor(){this.promise=new Wf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Wf.promiseConstructor=Promise;function u0(e){const t=e.split(".");if(t.length!==3)throw new cc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!K6.test(t[n]))throw new cc("JWT not in base64url format");return{header:JSON.parse(Rw(t[0])),payload:JSON.parse(Rw(t[1])),signature:oR(t[2]),raw:{header:t[0],payload:t[1]}}}async function hR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function mR(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await e(a);if(!t(a,null,u)){n(u);return}}catch(u){if(!t(a,u)){i(u);return}}})()})}function pR(e){return("0"+e.toString(16)).substr(-2)}function gR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,pR).join("")}async function xR(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function wR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await xR(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ea(e,t,r=!1){const n=gR();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await OC(e,`${t}-code-verifier`,i);const a=await wR(n);return[a,n===a?"plain":"s256"]}const yR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vR(e){const t=e.headers.get($1);if(!t||!t.match(yR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function bR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function CR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ER=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ta(e){if(!ER.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var SR=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const lo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),AR=[502,503,504];async function Ow(e){var t;if(!fR(e))throw new G1(lo(e),0);if(AR.includes(e.status))throw new G1(lo(e),e.status);let r;try{r=await e.json()}catch(a){throw new TC(lo(a),a)}let n;const i=vR(e);if(i&&i.getTime()>=NC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Nw(lo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new li}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new Nw(lo(r),e.status,r.weak_password.reasons);throw new Z6(lo(r),e.status||500,n)}const _R=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function nt(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[$1]||(a[$1]=NC["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const u=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(u.redirect_to=n.redirectTo);const m=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",g=await NR(e,t,r+m,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(g):{data:Object.assign({},g),error:null}}async function NR(e,t,r,n,i,a){const u=_R(t,n,i,a);let m;try{m=await e(r,Object.assign({},u))}catch(g){throw console.error(g),new G1(lo(g),0)}if(m.ok||await Ow(m),n!=null&&n.noResolveJson)return m;try{return await m.json()}catch(g){await Ow(g)}}function Is(e){var t;let r=null;OR(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=cR(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function kw(e){const t=Is(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function pi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function TR(e){return{data:e,error:null}}function IR(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,u=SR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},g=Object.assign({},u);return{data:{properties:m,user:g},error:null}}function RR(e){return e}function OR(e){return e.access_token&&e.refresh_token&&e.expires_in}const d0=["global","local","others"];var kR=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class PR{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=RC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=d0[0]){if(d0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${d0.join(", ")}`);try{return await nt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await nt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:pi})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=kR(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await nt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:IR,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(qe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await nt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:pi})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,u,m,g;try{const p={nextPage:null,lastPage:0,total:0},w=await nt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:RR});if(w.error)throw w.error;const v=await w.json(),E=(u=w.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(g=(m=w.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return _.length>0&&(_.forEach(R=>{const N=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(R.split(";")[1].split("=")[1]);p[`${P}Page`]=N}),p.total=parseInt(E)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(qe(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){ta(t);try{return await nt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:pi})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ta(t);try{return await nt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:pi})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ta(t);try{return await nt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:pi})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ta(t.userId);try{const{data:r,error:n}=await nt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ta(t.userId),ta(t.id);try{return{data:await nt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}}const jR={getItem:e=>uc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{uc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{uc()&&globalThis.localStorage.removeItem(e)}};function Pw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function DR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ra={debug:!!(globalThis&&uc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class MR extends kC{}async function LR(e,t,r){ra.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ra.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ra.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{ra.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ra.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new MR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ra.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}DR();const FR={url:q6,storageKey:X6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Y6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function jw(e,t,r){return await r()}class Pc{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Pc.nextInstanceID,Pc.nextInstanceID+=1,this.instanceID>0&&Un()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},FR),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new PR({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=RC(i.fetch),this.lock=i.lock||jw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Un()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=LR:this.lock=jw,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:uc()?this.storage=jR:(this.memoryStorage={},this.storage=Pw(this.memoryStorage)):(this.memoryStorage={},this.storage=Pw(this.memoryStorage)),Un()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_C}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=dR(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Un()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),tR(a)){const g=(t=a.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:m}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",m),await this._saveSession(u),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return qe(r)?{error:r}:{error:new TC("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Is}),{data:u,error:m}=a;if(m||!u)return{data:{user:null,session:null},error:m};const g=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(a){if(qe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:w,password:v,options:E}=t;let _=null,R=null;this.flowType==="pkce"&&([_,R]=await ea(this.storage,this.storageKey)),a=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:w,password:v,data:(r=E==null?void 0:E.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:_,code_challenge_method:R},xform:Is})}else if("phone"in t){const{phone:w,password:v,options:E}=t;a=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:v,data:(n=E==null?void 0:E.data)!==null&&n!==void 0?n:{},channel:(i=E==null?void 0:E.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:Is})}else throw new zu("You must provide either an email or phone number and a password");const{data:u,error:m}=a;if(m||!u)return{data:{user:null,session:null},error:m};const g=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(a){if(qe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:u,options:m}=t;r=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:kw})}else if("phone"in t){const{phone:a,password:u,options:m}=t;r=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:kw})}else throw new zu("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Uu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(qe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,a,u,m,g,p,w,v,E,_;let R,N;if("message"in t)R=t.message,N=t.signature;else{const{chain:P,wallet:I,statement:A,options:S}=t;let j;if(Un())if(typeof I=="object")j=I;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))j=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=I}const z=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const V=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),A?{statement:A}:null));let F;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")F=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)F=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)R=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),N=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${z.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(i=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((m=S==null?void 0:S.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((g=S==null?void 0:S.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((p=S==null?void 0:S.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((v=(w=S==null?void 0:S.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||v===void 0)&&v.length?["Resources",...S.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const V=await j.signMessage(new TextEncoder().encode(R),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=V}}try{const{data:P,error:I}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:lR(N)},!((E=t.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Is});if(I)throw I;return!P||!P.session||!P.user?{data:{user:null,session:null},error:new Uu}:(P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),{data:Object.assign({},P),error:I})}catch(P){if(qe(P))return{data:{user:null,session:null},error:P};throw P}}async _exchangeCodeForSession(t){const r=await Wu(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:u}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Is});if(await Hu(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Uu}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:u})}catch(a){if(qe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:u}=t,m=await nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Is}),{data:g,error:p}=m;return p?{data:{user:null,session:null},error:p}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Uu}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:p})}catch(r){if(qe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,u;try{if("email"in t){const{email:m,options:g}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await ea(this.storage,this.storageKey));const{error:v}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},create_user:(n=g==null?void 0:g.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:w},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:m,options:g}=t,{data:p,error:w}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(i=g==null?void 0:g.data)!==null&&i!==void 0?i:{},create_user:(a=g==null?void 0:g.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(u=g==null?void 0:g.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:w}}throw new zu("You must provide either an email or phone number.")}catch(m){if(qe(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:u,error:m}=await nt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Is});if(m)throw m;if(!u)throw new Error("An error occurred on token verification.");const g=u.session,p=u.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(i){if(qe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,u=null;return this.flowType==="pkce"&&([a,u]=await ea(this.storage,this.storageKey)),await nt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:TR})}catch(a){if(qe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new li;const{error:i}=await nt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(qe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:u}=await nt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:u,error:m}=await nt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:m}}throw new zu("You must provide either an email or phone number and a type")}catch(r){if(qe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Wu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<l0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(g,p,w)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,p,w))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:pi}):await this._useSession(async r=>{var n,i,a;const{data:u,error:m}=r;if(m)throw m;return!(!((n=u.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new li}:await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:pi})})}catch(r){if(qe(r))return eR(r)&&(await this._removeSession(),await Hu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new li;const u=i.session;let m=null,g=null;this.flowType==="pkce"&&t.email!=null&&([m,g]=await ea(this.storage,this.storageKey));const{data:p,error:w}=await nt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:m,code_challenge_method:g}),jwt:u.access_token,xform:pi});if(w)throw w;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new li;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:u}=u0(t.access_token);if(u.exp&&(n=u.exp,i=n<=r),i){const{session:m,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!m)return{data:{user:null,session:null},error:null};a=m}else{const{data:m,error:g}=await this._getUser(t.access_token);if(g)throw g;a={access_token:t.access_token,refresh_token:t.refresh_token,user:m.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(qe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:u,error:m}=r;if(m)throw m;t=(n=u.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new li;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(qe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Un())throw new Vu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new _w("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new _w("No code detected.");const{data:A,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:u,expires_in:m,expires_at:g,token_type:p}=t;if(!a||!m||!u||!p)throw new Vu("No session defined in URL");const w=Math.round(Date.now()/1e3),v=parseInt(m);let E=w+v;g&&(E=parseInt(g));const _=E-w;_*1e3<=aa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const R=E-v;w-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,E,w):w-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,E,w);const{data:N,error:P}=await this._getUser(a);if(P)throw P;const I={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:v,expires_at:E,refresh_token:u,token_type:p,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:t.type},error:null}}catch(n){if(qe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Wu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const u=(n=i.session)===null||n===void 0?void 0:n.access_token;if(u){const{error:m}=await this.admin.signOut(u,t);if(m&&!(J6(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return t!=="others"&&(await this._removeSession(),await Hu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=uR(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:u}=r;if(u)throw u;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ea(this.storage,this.storageKey,!0));try{return await nt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(qe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var u,m,g,p,w;const{data:v,error:E}=a;if(E)throw E;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(m=t.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await nt(this.fetch,"GET",_,{headers:this.headers,jwt:(w=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&w!==void 0?w:void 0})});if(i)throw i;return Un()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(qe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:u}=r;if(u)throw u;return await nt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await mR(async i=>(i>0&&await hR(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await nt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Is})),(i,a)=>{const u=200*Math.pow(2,i);return a&&c0(a)&&Date.now()+u-n<aa})}catch(n){if(this._debug(r,"error",n),qe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Un()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Wu(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<l0;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${l0}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),c0(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new li;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Wf;const{data:a,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!a.session)throw new li;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const m={session:a.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(a){if(this._debug(i,"error",a),qe(a)){const u={session:null,error:a};return c0(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(t,r)}catch(g){a.push(g)}});if(await Promise.all(u),a.length>0){for(let m=0;m<a.length;m+=1)console.error(a[m]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await OC(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Hu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Un()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),aa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/aa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${aa}ms, refresh threshold is ${H1} ticks`),i<=H1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof kC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Un()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,u]=await ea(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(m.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await nt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:u}=r;if(u)return{data:null,error:u};const m=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:g,error:p}=await nt(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&(!((i=g==null?void 0:g.totp)===null||i===void 0)&&i.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:u,error:m}=await nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:m})})}catch(r){if(qe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(qe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(u=>u.factor_type==="totp"&&u.status==="verified"),a=n.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=u0(i.access_token);let m=null;u.aal&&(m=u.aal);let g=m;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(g="aal2");const w=u.amr||[];return{data:{currentLevel:m,nextLevel:g,currentAuthenticationMethods:w},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n||(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+Q6>Date.now()))return n;const{data:i,error:a}=await nt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new cc("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(u=>u.kid===t),!n)throw new cc("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:_,error:R}=await this.getSession();if(R||!_.session)return{data:null,error:R};n=_.session.access_token}const{header:i,payload:a,signature:u,raw:{header:m,payload:g}}=u0(n);if(bR(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(n);if(_)throw _;return{data:{claims:a,header:i,signature:u},error:null}}const p=CR(i.alg),w=await this.fetchJwk(i.kid,r),v=await crypto.subtle.importKey("jwk",w,p,!0,["verify"]);if(!await crypto.subtle.verify(p,v,u,aR(`${m}.${g}`)))throw new cc("Invalid JWT signature");return{data:{claims:a,header:i,signature:u},error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}}Pc.nextInstanceID=0;const BR=Pc;class UR extends BR{constructor(t){super(t)}}var zR=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function m(w){try{p(n.next(w))}catch(v){u(v)}}function g(w){try{p(n.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((n=n.apply(e,t||[])).next())})};class VR{constructor(t,r,n){var i,a,u;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const m=$6(t),g=new URL(m);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const p=`sb-${g.hostname.split(".")[0]}-auth-token`,w={db:L6,realtime:B6,auth:Object.assign(Object.assign({},F6),{storageKey:p}),global:M6},v=G6(n??{},w);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=v.global.headers)!==null&&a!==void 0?a:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(E,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=W6(r,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new o6(new URL("rest/v1",g).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new MI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new P6(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return zR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:u,lock:m,debug:g},p,w){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new UR({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:u,lock:m,debug:g,fetch:w,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new y6(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const WR=(e,t,r)=>new VR(e,t,r),HR="https://nvwscxburlixyqkbhfux.supabase.co",$R="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im52d3NjeGJ1cmxpeHlxa2JoZnV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA1Mjk1MTEsImV4cCI6MjA2NjEwNTUxMX0.ppBJapu82yVC7wBeXqZlkgceMGLpPt9VA58AOSmUlhI",Ve=WR(HR,$R),PC=C.createContext(void 0);function GR({children:e}){const[t,r]=C.useState(null),[n,i]=C.useState(null),[a,u]=C.useState(null),[m,g]=C.useState(!0),p=Ir(),w=()=>{r(null),i(null),u(null),localStorage.removeItem("supabase.auth.token")},v=async A=>{try{console.log("Carregando dados do usuário:",A.id);const{data:S,error:j}=await Ve.from("profiles").select("*").eq("id",A.id).single();if(j){if(console.error("Erro ao carregar perfil:",j),j.code==="PGRST116"&&A.email_confirmed_at){console.log("Usuário confirmado mas sem perfil, precisa fazer onboarding"),p("/onboarding",{replace:!0});return}await N();return}if((S==null?void 0:S.is_active)===!1){p("/acesso-negado",{replace:!0});return}if(i(S),S!=null&&S.company_id){const{data:z,error:V}=await Ve.from("companies").select("*").eq("id",S.company_id).single();V?console.error("Erro ao carregar empresa:",V):u(z)}else{console.log("Usuário sem empresa, redirecionando para onboarding"),p("/onboarding",{replace:!0});return}}catch(S){console.error("Erro ao carregar dados do usuário:",S),await N()}},E=async()=>{var A;try{const{data:{session:S},error:j}=await Ve.auth.getSession();if(j){console.error("Erro ao verificar sessão:",j),w(),g(!1);return}if(S!=null&&S.user){const{error:z}=await Ve.from("profiles").select("id").limit(1);if(z&&(z.code==="invalid_token"||(A=z.message)!=null&&A.includes("JWT"))){await N();return}r(S.user),await v(S.user)}else w()}catch(S){console.error("Erro ao verificar sessão:",S),w()}finally{g(!1)}},_=async(A,S)=>{const{data:j,error:z}=await Ve.auth.signInWithPassword({email:A,password:S});if(z)throw new Error("Email ou senha inválidos.");if(j.user){console.log("Login realizado, verificando perfil do usuário:",j.user.id);const{data:V,error:F}=await Ve.from("profiles").select("is_active, company_id").eq("id",j.user.id).single();if(F){if(console.error("Erro ao verificar perfil:",F),F.code==="PGRST116"&&j.user.email_confirmed_at)return console.log("Usuário confirmado mas sem perfil, redirecionando para onboarding"),r(j.user),p("/onboarding",{replace:!0}),"success";throw await Ve.auth.signOut(),new Error("Conta não encontrada ou não confirmada.")}return V!=null&&V.is_active?V!=null&&V.company_id?(r(j.user),await v(j.user),"success"):(r(j.user),p("/onboarding",{replace:!0}),"success"):(await Ve.auth.signOut(),"inactive")}throw new Error("Erro inesperado.")},R=async(A,S,j)=>{const z=`${window.location.origin}/onboarding`,{data:V,error:F}=await Ve.auth.signUp({email:A,password:S,options:{emailRedirectTo:z,data:{name:j}}});if(F)throw F},N=async()=>{try{g(!0),await Ve.auth.signOut(),w(),p("/login",{replace:!0})}catch(A){console.error("Erro ao fazer logout:",A),w(),p("/login",{replace:!0})}finally{g(!1)}},P=async A=>{try{const{error:S}=await Ve.auth.updateUser({password:A});return S?{success:!1,error:S.message}:{success:!0}}catch(S){return{success:!1,error:S instanceof Error?S.message:"Erro desconhecido"}}};C.useEffect(()=>{E();const{data:{subscription:A}}=Ve.auth.onAuthStateChange(async(S,j)=>{S==="SIGNED_IN"&&(j!=null&&j.user)?(r(j.user),setTimeout(()=>{v(j.user)},0)):S==="SIGNED_OUT"?w():S==="TOKEN_REFRESHED"&&(j!=null&&j.user)&&(r(j.user),setTimeout(()=>{v(j.user)},0))});return()=>A.unsubscribe()},[]);const I={user:t,profile:n,company:a,loading:m,signIn:_,signUp:R,signOut:N,updatePassword:P};return f.jsx(PC.Provider,{value:I,children:e})}function er(){const e=C.useContext(PC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function cs({children:e,requiredRole:t}){const{user:r,profile:n,loading:i}=er(),a=Jn();return i?f.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r?n?n.is_active===!1?f.jsx(T1,{to:"/acesso-negado",replace:!0}):t&&n.role!==t&&n.role!=="admin"?f.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Acesso Negado"}),f.jsx("p",{className:"text-gray-600 mt-2",children:"Você não tem permissão para acessar esta página"})]})}):f.jsx(f.Fragment,{children:e}):f.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Carregando perfil..."}),f.jsx("p",{className:"text-gray-600 mt-2",children:"Configurando sua conta"})]})}):f.jsx(T1,{to:"/login",state:{from:a},replace:!0})}function qR(){const{profile:e}=er(),t=Jn(),r=[{name:"Dashboard",href:"/dashboard",icon:Yb},{name:"Ativos",href:"/assets",icon:Ct},...(e==null?void 0:e.role)==="admin"?[{name:"Usuários",href:"/users",icon:tl}]:[],...(e==null?void 0:e.role)==="admin"?[{name:"Meu Plano",href:"/my-plan",icon:Xb}]:[],{name:"Meu Perfil",href:"/profile",icon:Gd}];return f.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:f.jsxs("div",{className:"flex flex-col flex-grow pt-5 bg-white border-r border-gray-200 overflow-y-auto",children:[f.jsx("div",{className:"flex items-center flex-shrink-0 px-6 pb-4",children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-600 rounded-lg",children:f.jsx(Ct,{className:"h-6 w-6 text-white"})}),f.jsx("div",{children:f.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Armazena App"})})]})}),f.jsx("div",{className:"mt-5 flex-grow flex flex-col",children:f.jsx("nav",{className:"flex-1 px-4 space-y-2",children:r.map(n=>{const i=t.pathname===n.href;return f.jsxs(kn,{to:n.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[f.jsx(n.icon,{className:`mr-3 flex-shrink-0 h-5 w-5 ${i?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}`}),n.name]},n.name)})})})]})})}function jC(){const{user:e,profile:t}=er(),{toast:r}=yr(),n=Es(),[i,a]=C.useState(!1),{data:u=[],isLoading:m}=Ws({queryKey:["notifications"],queryFn:async()=>{const{data:A,error:S}=await Ve.from("notifications").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1}).limit(20);if(S)throw S;return A},enabled:!!e}),{data:g}=Ws({queryKey:["push-subscription"],queryFn:async()=>{const{data:A,error:S}=await Ve.from("push_subscriptions").select("*").eq("user_id",e==null?void 0:e.id).maybeSingle();if(S)throw S;return A},enabled:!!e});C.useEffect(()=>{a(!!g)},[g]);const p=u.filter(A=>!A.read_at).length,w=C.useCallback(async()=>"Notification"in window?Notification.permission==="granted"?!0:Notification.permission==="denied"?(r({title:"Permissão negada",description:"As notificações foram bloqueadas. Habilite-as nas configurações do navegador.",variant:"destructive"}),!1):await Notification.requestPermission()==="granted":(r({title:"Notificações não suportadas",description:"Seu navegador não suporta notificações push.",variant:"destructive"}),!1),[r]),v=C.useCallback(async()=>{if(!("serviceWorker"in navigator))return null;try{const A=await navigator.serviceWorker.register("/sw.js");return await navigator.serviceWorker.ready,A}catch(A){return console.error("Erro ao registrar service worker:",A),null}},[]),E=C.useCallback(async()=>{if(e)try{if(!await w())return;const S=await v();if(!S){r({title:"Erro",description:"Não foi possível registrar o service worker.",variant:"destructive"});return}const j=await S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:XR("BFmJvljvhokFZxcjmM3st1HvQMjPwcfyS4kWh0gWYFNaiW8w5e1XCX4tCB4a_fFpekRrzEk0CVkc4SZmHlD2M0o")}),{error:z}=await Ve.from("push_subscriptions").upsert({user_id:e.id,endpoint:j.endpoint,p256dh:btoa(String.fromCharCode.apply(null,new Uint8Array(j.getKey("p256dh")||new ArrayBuffer(0)))),auth:btoa(String.fromCharCode.apply(null,new Uint8Array(j.getKey("auth")||new ArrayBuffer(0))))});if(z)throw z;n.invalidateQueries({queryKey:["push-subscription"]}),r({title:"Notificações ativadas",description:"Você receberá notificações sobre mudanças nos ativos."})}catch(A){console.error("Erro ao inscrever para notificações:",A),r({title:"Erro",description:"Não foi possível ativar as notificações.",variant:"destructive"})}},[e,w,v,n,r]),_=C.useCallback(async()=>{if(e)try{const S=await(await navigator.serviceWorker.ready).pushManager.getSubscription();S&&await S.unsubscribe();const{error:j}=await Ve.from("push_subscriptions").delete().eq("user_id",e.id);if(j)throw j;n.invalidateQueries({queryKey:["push-subscription"]}),r({title:"Notificações desativadas",description:"Você não receberá mais notificações push."})}catch(A){console.error("Erro ao cancelar inscrição:",A),r({title:"Erro",description:"Não foi possível desativar as notificações.",variant:"destructive"})}},[e,n,r]),R=bs({mutationFn:async A=>{const{error:S}=await Ve.from("notifications").update({read_at:new Date().toISOString()}).eq("id",A);if(S)throw S},onSuccess:()=>{n.invalidateQueries({queryKey:["notifications"]})}}),N=bs({mutationFn:async()=>{const{error:A}=await Ve.from("notifications").update({read_at:new Date().toISOString()}).eq("user_id",e==null?void 0:e.id).is("read_at",null);if(A)throw A},onSuccess:()=>{n.invalidateQueries({queryKey:["notifications"]}),r({title:"Notificações marcadas como lidas"})}}),P=C.useCallback(A=>R.mutateAsync(A),[R]),I=C.useCallback(()=>N.mutateAsync(),[N]);return{notifications:u,unreadCount:p,loading:m,subscribeToPush:E,unsubscribeFromPush:_,markAsRead:P,markAllAsRead:I,isSubscribed:i}}function XR(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(r),i=new Uint8Array(n.length);for(let a=0;a<n.length;++a)i[a]=n.charCodeAt(a);return i}const Tp=fl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ne=C.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const u=n?jo:"button";return f.jsx(u,{className:Oe(Tp({variant:t,size:r,className:e})),ref:a,...i})});Ne.displayName="Button";var YR=zy.useId||(()=>{}),KR=0;function Ao(e){const[t,r]=C.useState(YR());return Tr(()=>{r(n=>n??String(KR++))},[e]),t?`radix-${t}`:""}var f0="focusScope.autoFocusOnMount",h0="focusScope.autoFocusOnUnmount",Dw={bubbles:!1,cancelable:!0},QR="FocusScope",Ip=C.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...u}=e,[m,g]=C.useState(null),p=rr(i),w=rr(a),v=C.useRef(null),E=ct(t,N=>g(N)),_=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(n){let N=function(S){if(_.paused||!m)return;const j=S.target;m.contains(j)?v.current=j:ci(v.current,{select:!0})},P=function(S){if(_.paused||!m)return;const j=S.relatedTarget;j!==null&&(m.contains(j)||ci(v.current,{select:!0}))},I=function(S){if(document.activeElement===document.body)for(const z of S)z.removedNodes.length>0&&ci(m)};document.addEventListener("focusin",N),document.addEventListener("focusout",P);const A=new MutationObserver(I);return m&&A.observe(m,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",P),A.disconnect()}}},[n,m,_.paused]),C.useEffect(()=>{if(m){Lw.add(_);const N=document.activeElement;if(!m.contains(N)){const I=new CustomEvent(f0,Dw);m.addEventListener(f0,p),m.dispatchEvent(I),I.defaultPrevented||(ZR(nO(DC(m)),{select:!0}),document.activeElement===N&&ci(m))}return()=>{m.removeEventListener(f0,p),setTimeout(()=>{const I=new CustomEvent(h0,Dw);m.addEventListener(h0,w),m.dispatchEvent(I),I.defaultPrevented||ci(N??document.body,{select:!0}),m.removeEventListener(h0,w),Lw.remove(_)},0)}}},[m,p,w,_]);const R=C.useCallback(N=>{if(!r&&!n||_.paused)return;const P=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,I=document.activeElement;if(P&&I){const A=N.currentTarget,[S,j]=JR(A);S&&j?!N.shiftKey&&I===j?(N.preventDefault(),r&&ci(S,{select:!0})):N.shiftKey&&I===S&&(N.preventDefault(),r&&ci(j,{select:!0})):I===A&&N.preventDefault()}},[r,n,_.paused]);return f.jsx(He.div,{tabIndex:-1,...u,ref:E,onKeyDown:R})});Ip.displayName=QR;function ZR(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ci(n,{select:t}),document.activeElement!==r)return}function JR(e){const t=DC(e),r=Mw(t,e),n=Mw(t.reverse(),e);return[r,n]}function DC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Mw(e,t){for(const r of e)if(!eO(r,{upTo:t}))return r}function eO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function tO(e){return e instanceof HTMLInputElement&&"select"in e}function ci(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&tO(e)&&t&&e.select()}}var Lw=rO();function rO(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Fw(e,t),e.unshift(t)},remove(t){var r;e=Fw(e,t),(r=e[0])==null||r.resume()}}}function Fw(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function nO(e){return e.filter(t=>t.tagName!=="A")}var m0=0;function MC(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Bw()),document.body.insertAdjacentElement("beforeend",e[1]??Bw()),m0++,()=>{m0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),m0--}},[])}function Bw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var gs=function(){return gs=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},gs.apply(this,arguments)};function LC(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function sO(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var md="right-scroll-bar-position",pd="width-before-scroll-bar",iO="with-scroll-bars-hidden",oO="--removed-body-scroll-bar-size";function p0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function aO(e,t){var r=C.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var lO=typeof window<"u"?C.useLayoutEffect:C.useEffect,Uw=new WeakMap;function cO(e,t){var r=aO(null,function(n){return e.forEach(function(i){return p0(i,n)})});return lO(function(){var n=Uw.get(r);if(n){var i=new Set(n),a=new Set(e),u=r.current;i.forEach(function(m){a.has(m)||p0(m,null)}),a.forEach(function(m){i.has(m)||p0(m,u)})}Uw.set(r,e)},[e]),r}function uO(e){return e}function dO(e,t){t===void 0&&(t=uO);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var u=t(a,n);return r.push(u),function(){r=r.filter(function(m){return m!==u})}},assignSyncMedium:function(a){for(n=!0;r.length;){var u=r;r=[],u.forEach(a)}r={push:function(m){return a(m)},filter:function(){return r}}},assignMedium:function(a){n=!0;var u=[];if(r.length){var m=r;r=[],m.forEach(a),u=r}var g=function(){var w=u;u=[],w.forEach(a)},p=function(){return Promise.resolve().then(g)};p(),r={push:function(w){u.push(w),p()},filter:function(w){return u=u.filter(w),r}}}};return i}function fO(e){e===void 0&&(e={});var t=dO(null);return t.options=gs({async:!0,ssr:!1},e),t}var FC=function(e){var t=e.sideCar,r=LC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return C.createElement(n,gs({},r))};FC.isSideCarExport=!0;function hO(e,t){return e.useMedium(t),FC}var BC=fO(),g0=function(){},Hf=C.forwardRef(function(e,t){var r=C.useRef(null),n=C.useState({onScrollCapture:g0,onWheelCapture:g0,onTouchMoveCapture:g0}),i=n[0],a=n[1],u=e.forwardProps,m=e.children,g=e.className,p=e.removeScrollBar,w=e.enabled,v=e.shards,E=e.sideCar,_=e.noIsolation,R=e.inert,N=e.allowPinchZoom,P=e.as,I=P===void 0?"div":P,A=e.gapMode,S=LC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=E,z=cO([r,t]),V=gs(gs({},S),i);return C.createElement(C.Fragment,null,w&&C.createElement(j,{sideCar:BC,removeScrollBar:p,shards:v,noIsolation:_,inert:R,setCallbacks:a,allowPinchZoom:!!N,lockRef:r,gapMode:A}),u?C.cloneElement(C.Children.only(m),gs(gs({},V),{ref:z})):C.createElement(I,gs({},V,{className:g,ref:z}),m))});Hf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hf.classNames={fullWidth:pd,zeroRight:md};var mO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=mO();return t&&e.setAttribute("nonce",t),e}function gO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function xO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var wO=function(){var e=0,t=null;return{add:function(r){e==0&&(t=pO())&&(gO(t,r),xO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yO=function(){var e=wO();return function(t,r){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},UC=function(){var e=yO(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},vO={left:0,top:0,right:0,gap:0},x0=function(e){return parseInt(e||"",10)||0},bO=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[x0(r),x0(n),x0(i)]},CO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return vO;var t=bO(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},EO=UC(),Ra="data-scroll-locked",SO=function(e,t,r,n){var i=e.left,a=e.top,u=e.right,m=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(iO,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(m,"px ").concat(n,`;
  }
  body[`).concat(Ra,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(m,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(md,` {
    right: `).concat(m,"px ").concat(n,`;
  }
  
  .`).concat(pd,` {
    margin-right: `).concat(m,"px ").concat(n,`;
  }
  
  .`).concat(md," .").concat(md,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(pd," .").concat(pd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ra,`] {
    `).concat(oO,": ").concat(m,`px;
  }
`)},zw=function(){var e=parseInt(document.body.getAttribute(Ra)||"0",10);return isFinite(e)?e:0},AO=function(){C.useEffect(function(){return document.body.setAttribute(Ra,(zw()+1).toString()),function(){var e=zw()-1;e<=0?document.body.removeAttribute(Ra):document.body.setAttribute(Ra,e.toString())}},[])},_O=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;AO();var a=C.useMemo(function(){return CO(i)},[i]);return C.createElement(EO,{styles:SO(a,!t,i,r?"":"!important")})},q1=!1;if(typeof window<"u")try{var $u=Object.defineProperty({},"passive",{get:function(){return q1=!0,!0}});window.addEventListener("test",$u,$u),window.removeEventListener("test",$u,$u)}catch{q1=!1}var na=q1?{passive:!1}:!1,NO=function(e){return e.tagName==="TEXTAREA"},zC=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!NO(e)&&r[t]==="visible")},TO=function(e){return zC(e,"overflowY")},IO=function(e){return zC(e,"overflowX")},Vw=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=VC(e,n);if(i){var a=WC(e,n),u=a[1],m=a[2];if(u>m)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},RO=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},OO=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},VC=function(e,t){return e==="v"?TO(t):IO(t)},WC=function(e,t){return e==="v"?RO(t):OO(t)},kO=function(e,t){return e==="h"&&t==="rtl"?-1:1},PO=function(e,t,r,n,i){var a=kO(e,window.getComputedStyle(t).direction),u=a*n,m=r.target,g=t.contains(m),p=!1,w=u>0,v=0,E=0;do{var _=WC(e,m),R=_[0],N=_[1],P=_[2],I=N-P-a*R;(R||I)&&VC(e,m)&&(v+=I,E+=R),m instanceof ShadowRoot?m=m.host:m=m.parentNode}while(!g&&m!==document.body||g&&(t.contains(m)||t===m));return(w&&Math.abs(v)<1||!w&&Math.abs(E)<1)&&(p=!0),p},Gu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ww=function(e){return[e.deltaX,e.deltaY]},Hw=function(e){return e&&"current"in e?e.current:e},jO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},DO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},MO=0,sa=[];function LO(e){var t=C.useRef([]),r=C.useRef([0,0]),n=C.useRef(),i=C.useState(MO++)[0],a=C.useState(UC)[0],u=C.useRef(e);C.useEffect(function(){u.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var N=sO([e.lockRef.current],(e.shards||[]).map(Hw),!0).filter(Boolean);return N.forEach(function(P){return P.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),N.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var m=C.useCallback(function(N,P){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!u.current.allowPinchZoom;var I=Gu(N),A=r.current,S="deltaX"in N?N.deltaX:A[0]-I[0],j="deltaY"in N?N.deltaY:A[1]-I[1],z,V=N.target,F=Math.abs(S)>Math.abs(j)?"h":"v";if("touches"in N&&F==="h"&&V.type==="range")return!1;var L=Vw(F,V);if(!L)return!0;if(L?z=F:(z=F==="v"?"h":"v",L=Vw(F,V)),!L)return!1;if(!n.current&&"changedTouches"in N&&(S||j)&&(n.current=z),!z)return!0;var D=n.current||z;return PO(D,P,N,D==="h"?S:j)},[]),g=C.useCallback(function(N){var P=N;if(!(!sa.length||sa[sa.length-1]!==a)){var I="deltaY"in P?Ww(P):Gu(P),A=t.current.filter(function(z){return z.name===P.type&&(z.target===P.target||P.target===z.shadowParent)&&jO(z.delta,I)})[0];if(A&&A.should){P.cancelable&&P.preventDefault();return}if(!A){var S=(u.current.shards||[]).map(Hw).filter(Boolean).filter(function(z){return z.contains(P.target)}),j=S.length>0?m(P,S[0]):!u.current.noIsolation;j&&P.cancelable&&P.preventDefault()}}},[]),p=C.useCallback(function(N,P,I,A){var S={name:N,delta:P,target:I,should:A,shadowParent:FO(I)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(j){return j!==S})},1)},[]),w=C.useCallback(function(N){r.current=Gu(N),n.current=void 0},[]),v=C.useCallback(function(N){p(N.type,Ww(N),N.target,m(N,e.lockRef.current))},[]),E=C.useCallback(function(N){p(N.type,Gu(N),N.target,m(N,e.lockRef.current))},[]);C.useEffect(function(){return sa.push(a),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:E}),document.addEventListener("wheel",g,na),document.addEventListener("touchmove",g,na),document.addEventListener("touchstart",w,na),function(){sa=sa.filter(function(N){return N!==a}),document.removeEventListener("wheel",g,na),document.removeEventListener("touchmove",g,na),document.removeEventListener("touchstart",w,na)}},[]);var _=e.removeScrollBar,R=e.inert;return C.createElement(C.Fragment,null,R?C.createElement(a,{styles:DO(i)}):null,_?C.createElement(_O,{gapMode:e.gapMode}):null)}function FO(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const BO=hO(BC,LO);var Rp=C.forwardRef(function(e,t){return C.createElement(Hf,gs({},e,{ref:t,sideCar:BO}))});Rp.classNames=Hf.classNames;var UO=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ia=new WeakMap,qu=new WeakMap,Xu={},w0=0,HC=function(e){return e&&(e.host||HC(e.parentNode))},zO=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=HC(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},VO=function(e,t,r,n){var i=zO(t,Array.isArray(e)?e:[e]);Xu[r]||(Xu[r]=new WeakMap);var a=Xu[r],u=[],m=new Set,g=new Set(i),p=function(v){!v||m.has(v)||(m.add(v),p(v.parentNode))};i.forEach(p);var w=function(v){!v||g.has(v)||Array.prototype.forEach.call(v.children,function(E){if(m.has(E))w(E);else try{var _=E.getAttribute(n),R=_!==null&&_!=="false",N=(ia.get(E)||0)+1,P=(a.get(E)||0)+1;ia.set(E,N),a.set(E,P),u.push(E),N===1&&R&&qu.set(E,!0),P===1&&E.setAttribute(r,"true"),R||E.setAttribute(n,"true")}catch(I){console.error("aria-hidden: cannot operate on ",E,I)}})};return w(t),m.clear(),w0++,function(){u.forEach(function(v){var E=ia.get(v)-1,_=a.get(v)-1;ia.set(v,E),a.set(v,_),E||(qu.has(v)||v.removeAttribute(n),qu.delete(v)),_||v.removeAttribute(r)}),w0--,w0||(ia=new WeakMap,ia=new WeakMap,qu=new WeakMap,Xu={})}},$C=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=UO(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),VO(n,i,r,"aria-hidden")):function(){return null}},Op="Dialog",[GC,qC]=Yi(Op),[WO,ts]=GC(Op),XC=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:u=!0}=e,m=C.useRef(null),g=C.useRef(null),[p=!1,w]=Do({prop:n,defaultProp:i,onChange:a});return f.jsx(WO,{scope:t,triggerRef:m,contentRef:g,contentId:Ao(),titleId:Ao(),descriptionId:Ao(),open:p,onOpenChange:w,onOpenToggle:C.useCallback(()=>w(v=>!v),[w]),modal:u,children:r})};XC.displayName=Op;var YC="DialogTrigger",KC=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=ts(YC,r),a=ct(t,i.triggerRef);return f.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":jp(i.open),...n,ref:a,onClick:Me(e.onClick,i.onOpenToggle)})});KC.displayName=YC;var kp="DialogPortal",[HO,QC]=GC(kp,{forceMount:void 0}),ZC=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=ts(kp,t);return f.jsx(HO,{scope:t,forceMount:r,children:C.Children.map(n,u=>f.jsx(es,{present:r||a.open,children:f.jsx(kf,{asChild:!0,container:i,children:u})}))})};ZC.displayName=kp;var Kd="DialogOverlay",JC=C.forwardRef((e,t)=>{const r=QC(Kd,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=ts(Kd,e.__scopeDialog);return a.modal?f.jsx(es,{present:n||a.open,children:f.jsx($O,{...i,ref:t})}):null});JC.displayName=Kd;var $O=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=ts(Kd,r);return f.jsx(Rp,{as:jo,allowPinchZoom:!0,shards:[i.contentRef],children:f.jsx(He.div,{"data-state":jp(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Mo="DialogContent",eE=C.forwardRef((e,t)=>{const r=QC(Mo,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=ts(Mo,e.__scopeDialog);return f.jsx(es,{present:n||a.open,children:a.modal?f.jsx(GO,{...i,ref:t}):f.jsx(qO,{...i,ref:t})})});eE.displayName=Mo;var GO=C.forwardRef((e,t)=>{const r=ts(Mo,e.__scopeDialog),n=C.useRef(null),i=ct(t,r.contentRef,n);return C.useEffect(()=>{const a=n.current;if(a)return $C(a)},[]),f.jsx(tE,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(e.onCloseAutoFocus,a=>{var u;a.preventDefault(),(u=r.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Me(e.onPointerDownOutside,a=>{const u=a.detail.originalEvent,m=u.button===0&&u.ctrlKey===!0;(u.button===2||m)&&a.preventDefault()}),onFocusOutside:Me(e.onFocusOutside,a=>a.preventDefault())})}),qO=C.forwardRef((e,t)=>{const r=ts(Mo,e.__scopeDialog),n=C.useRef(!1),i=C.useRef(!1);return f.jsx(tE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var u,m;(u=e.onCloseAutoFocus)==null||u.call(e,a),a.defaultPrevented||(n.current||(m=r.triggerRef.current)==null||m.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var g,p;(g=e.onInteractOutside)==null||g.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=a.target;((p=r.triggerRef.current)==null?void 0:p.contains(u))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),tE=C.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...u}=e,m=ts(Mo,r),g=C.useRef(null),p=ct(t,g);return MC(),f.jsxs(f.Fragment,{children:[f.jsx(Ip,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:f.jsx(Xc,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":jp(m.open),...u,ref:p,onDismiss:()=>m.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(YO,{titleId:m.titleId}),f.jsx(QO,{contentRef:g,descriptionId:m.descriptionId})]})]})}),Pp="DialogTitle",rE=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=ts(Pp,r);return f.jsx(He.h2,{id:i.titleId,...n,ref:t})});rE.displayName=Pp;var nE="DialogDescription",sE=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=ts(nE,r);return f.jsx(He.p,{id:i.descriptionId,...n,ref:t})});sE.displayName=nE;var iE="DialogClose",oE=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=ts(iE,r);return f.jsx(He.button,{type:"button",...n,ref:t,onClick:Me(e.onClick,()=>i.onOpenChange(!1))})});oE.displayName=iE;function jp(e){return e?"open":"closed"}var aE="DialogTitleWarning",[XO,lE]=GT(aE,{contentName:Mo,titleName:Pp,docsSlug:"dialog"}),YO=({titleId:e})=>{const t=lE(aE),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},KO="DialogDescriptionWarning",QO=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lE(KO).contentName}}.`;return C.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Dp=XC,Mp=KC,Lp=ZC,Jc=JC,eu=eE,tu=rE,ru=sE,$f=oE;const ZO=Dp,JO=Mp,ek=Lp,cE=C.forwardRef(({className:e,...t},r)=>f.jsx(Jc,{className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));cE.displayName=Jc.displayName;const tk=fl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),uE=C.forwardRef(({side:e="right",className:t,children:r,...n},i)=>f.jsxs(ek,{children:[f.jsx(cE,{}),f.jsxs(eu,{ref:i,className:Oe(tk({side:e}),t),...n,children:[r,f.jsxs($f,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[f.jsx(hl,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));uE.displayName=eu.displayName;const rk=C.forwardRef(({className:e,...t},r)=>f.jsx(tu,{ref:r,className:Oe("text-lg font-semibold text-foreground",e),...t}));rk.displayName=tu.displayName;const nk=C.forwardRef(({className:e,...t},r)=>f.jsx(ru,{ref:r,className:Oe("text-sm text-muted-foreground",e),...t}));nk.displayName=ru.displayName;var sk="Separator",$w="horizontal",ik=["horizontal","vertical"],dE=C.forwardRef((e,t)=>{const{decorative:r,orientation:n=$w,...i}=e,a=ok(n)?n:$w,m=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return f.jsx(He.div,{"data-orientation":a,...m,...i,ref:t})});dE.displayName=sk;function ok(e){return ik.includes(e)}var fE=dE;const Gf=C.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>f.jsx(fE,{ref:i,decorative:r,orientation:t,className:Oe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Gf.displayName=fE.displayName;const ak=fl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Jt({className:e,variant:t,...r}){return f.jsx("div",{className:Oe(ak({variant:t}),e),...r})}const Fp={free:{maxAssets:50,maxUsers:2,support:"E-mail (até 72h)",icon:"🟢",color:"green",name:"Free"},basic:{maxAssets:500,maxUsers:3,support:"E-mail (até 48h)",icon:"🔵",color:"blue",name:"Basic"},premium:{maxAssets:1e3,maxUsers:10,support:"WhatsApp (até 24h)",icon:"🟣",color:"purple",name:"Premium"}};function nu(){const{profile:e,company:t}=er();return Ws({queryKey:["plan-limits",e==null?void 0:e.company_id],queryFn:async()=>{if(!(e!=null&&e.company_id))throw new Error("Company ID not found");const r=(t==null?void 0:t.plan)||"free",n=Fp[r],{count:i}=await Ve.from("assets").select("*",{count:"exact",head:!0}).eq("company_id",e.company_id),{count:a}=await Ve.from("profiles").select("*",{count:"exact",head:!0}).eq("company_id",e.company_id).eq("is_active",!0),u=n.maxAssets,m=n.maxUsers,g=Math.round((i||0)/u*100),p=Math.round((a||0)/m*100);return{currentPlan:r,planInfo:n,assetsCount:i||0,usersCount:a||0,assetsLimit:u,usersLimit:m,assetsUsage:g,usersUsage:p,isAssetsLimitReached:(i||0)>=u,isUsersLimitReached:(a||0)>=m,isAssetsLimitWarning:g>=80,isUsersLimitWarning:p>=80}},enabled:!!(e!=null&&e.company_id)&&!!t})}function hE({plan:e,className:t=""}){const r=Fp[e],n=a=>{switch(a){case"green":return"default";case"blue":return"secondary";case"purple":return"outline";default:return"default"}},i=a=>{switch(a){case"green":return"bg-green-100 text-green-800 border-green-200";case"blue":return"bg-blue-100 text-blue-800 border-blue-200";case"purple":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return f.jsxs(Jt,{variant:n(r.color),className:`${i(r.color)} ${t}`,children:[f.jsx("span",{className:"mr-1",children:r.icon}),r.name]})}function lk(){const{profile:e,company:t,signOut:r}=er(),n=Jn(),[i,a]=C.useState(!1),u=[{name:"Dashboard",href:"/dashboard",icon:Yb},{name:"Ativos",href:"/assets",icon:Ct},...(e==null?void 0:e.role)==="admin"?[{name:"Usuários",href:"/users",icon:tl}]:[]],m=()=>{a(!1)},g=async()=>{a(!1),await r()};return f.jsxs(ZO,{open:i,onOpenChange:a,children:[f.jsx(JO,{asChild:!0,children:f.jsx(Ne,{variant:"ghost",size:"icon",className:"lg:hidden !w-14 !h-14 [&_svg]:!w-8 [&_svg]:!h-8",children:f.jsx(B8,{})})}),f.jsx(uE,{side:"left",className:"w-72 p-0",children:f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsx("div",{className:"p-6 border-b",children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-600 rounded-lg",children:f.jsx(Ct,{className:"h-6 w-6 text-white"})}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Armazena App"}),t&&f.jsxs("div",{className:"flex items-start text-sm text-gray-600 mt-1",children:[f.jsx(mp,{className:"h-3 w-3 mr-1 mt-0.5 flex-shrink-0"}),f.jsx("span",{className:"break-words leading-tight",children:t.name})]}),(e==null?void 0:e.role)==="admin"&&t&&t.plan!=="enterprise"&&f.jsx("div",{className:"mt-2",children:f.jsx(hE,{plan:t.plan})})]})]})}),f.jsx("nav",{className:"flex-1 p-4 space-y-2",children:u.map(p=>{const w=n.pathname===p.href;return f.jsxs(kn,{to:p.href,onClick:m,className:`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${w?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[f.jsx(p.icon,{className:"mr-3 h-5 w-5"}),p.name]},p.name)})}),f.jsx(Gf,{}),f.jsxs("div",{className:"p-4 space-y-2",children:[(e==null?void 0:e.role)==="admin"&&f.jsxs(kn,{to:"/my-plan",onClick:m,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-50 hover:text-gray-900 transition-colors",children:[f.jsx(Xb,{className:"mr-3 h-5 w-5"}),"Meu Plano"]}),f.jsxs(kn,{to:"/profile",onClick:m,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-50 hover:text-gray-900 transition-colors",children:[f.jsx(Gd,{className:"mr-3 h-5 w-5"}),"Perfil"]}),f.jsxs(Ne,{variant:"ghost",onClick:g,className:"w-full justify-start px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:[f.jsx(wp,{className:"mr-3 h-5 w-5"}),"Sair"]})]}),e&&f.jsx("div",{className:"p-4 border-t bg-gray-50",children:f.jsxs("div",{className:"text-xs text-gray-500",children:[f.jsx("p",{className:"font-medium break-words",children:e.name}),f.jsx("p",{className:"break-words",children:e.email}),f.jsx("p",{className:"capitalize mt-1",children:e.role==="admin"?"Administrador":e.role==="editor"?"Editor":"Visualizador"})]})})]})})]})}const Ke=C.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:Oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ke.displayName="Card";const pt=C.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:Oe("flex flex-col space-y-1.5 p-6",e),...t}));pt.displayName="CardHeader";const mt=C.forwardRef(({className:e,...t},r)=>f.jsx("h3",{ref:r,className:Oe("text-2xl font-semibold leading-none tracking-tight",e),...t}));mt.displayName="CardTitle";const pn=C.forwardRef(({className:e,...t},r)=>f.jsx("p",{ref:r,className:Oe("text-sm text-muted-foreground",e),...t}));pn.displayName="CardDescription";const et=C.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:Oe("p-6 pt-0",e),...t}));et.displayName="CardContent";const ck=C.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:Oe("flex items-center p-6 pt-0",e),...t}));ck.displayName="CardFooter";var uk=C.createContext(void 0);function mE(e){const t=C.useContext(uk);return e||t||"ltr"}function X1(e,[t,r]){return Math.min(r,Math.max(t,e))}function dk(e,t){return C.useReducer((r,n)=>t[r][n]??r,e)}var Bp="ScrollArea",[pE,t9]=Yi(Bp),[fk,Dn]=pE(Bp),gE=C.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...u}=e,[m,g]=C.useState(null),[p,w]=C.useState(null),[v,E]=C.useState(null),[_,R]=C.useState(null),[N,P]=C.useState(null),[I,A]=C.useState(0),[S,j]=C.useState(0),[z,V]=C.useState(!1),[F,L]=C.useState(!1),D=ct(t,Q=>g(Q)),W=mE(i);return f.jsx(fk,{scope:r,type:n,dir:W,scrollHideDelay:a,scrollArea:m,viewport:p,onViewportChange:w,content:v,onContentChange:E,scrollbarX:_,onScrollbarXChange:R,scrollbarXEnabled:z,onScrollbarXEnabledChange:V,scrollbarY:N,onScrollbarYChange:P,scrollbarYEnabled:F,onScrollbarYEnabledChange:L,onCornerWidthChange:A,onCornerHeightChange:j,children:f.jsx(He.div,{dir:W,...u,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":I+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});gE.displayName=Bp;var xE="ScrollAreaViewport",wE=C.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:i,nonce:a,...u}=e,m=Dn(xE,r),g=C.useRef(null),p=ct(t,g,m.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),f.jsx(He.div,{"data-radix-scroll-area-viewport":"",...u,asChild:i,ref:p,style:{overflowX:m.scrollbarXEnabled?"scroll":"hidden",overflowY:m.scrollbarYEnabled?"scroll":"hidden",...e.style},children:Ck({asChild:i,children:n},w=>f.jsx("div",{"data-radix-scroll-area-content":"",ref:m.onContentChange,style:{minWidth:m.scrollbarXEnabled?"fit-content":void 0},children:w}))})]})});wE.displayName=xE;var Ss="ScrollAreaScrollbar",Up=C.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Dn(Ss,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:u}=i,m=e.orientation==="horizontal";return C.useEffect(()=>(m?a(!0):u(!0),()=>{m?a(!1):u(!1)}),[m,a,u]),i.type==="hover"?f.jsx(hk,{...n,ref:t,forceMount:r}):i.type==="scroll"?f.jsx(mk,{...n,ref:t,forceMount:r}):i.type==="auto"?f.jsx(yE,{...n,ref:t,forceMount:r}):i.type==="always"?f.jsx(zp,{...n,ref:t}):null});Up.displayName=Ss;var hk=C.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Dn(Ss,e.__scopeScrollArea),[a,u]=C.useState(!1);return C.useEffect(()=>{const m=i.scrollArea;let g=0;if(m){const p=()=>{window.clearTimeout(g),u(!0)},w=()=>{g=window.setTimeout(()=>u(!1),i.scrollHideDelay)};return m.addEventListener("pointerenter",p),m.addEventListener("pointerleave",w),()=>{window.clearTimeout(g),m.removeEventListener("pointerenter",p),m.removeEventListener("pointerleave",w)}}},[i.scrollArea,i.scrollHideDelay]),f.jsx(es,{present:r||a,children:f.jsx(yE,{"data-state":a?"visible":"hidden",...n,ref:t})})}),mk=C.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Dn(Ss,e.__scopeScrollArea),a=e.orientation==="horizontal",u=Xf(()=>g("SCROLL_END"),100),[m,g]=dk("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(m==="idle"){const p=window.setTimeout(()=>g("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(p)}},[m,i.scrollHideDelay,g]),C.useEffect(()=>{const p=i.viewport,w=a?"scrollLeft":"scrollTop";if(p){let v=p[w];const E=()=>{const _=p[w];v!==_&&(g("SCROLL"),u()),v=_};return p.addEventListener("scroll",E),()=>p.removeEventListener("scroll",E)}},[i.viewport,a,g,u]),f.jsx(es,{present:r||m!=="hidden",children:f.jsx(zp,{"data-state":m==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Me(e.onPointerEnter,()=>g("POINTER_ENTER")),onPointerLeave:Me(e.onPointerLeave,()=>g("POINTER_LEAVE"))})})}),yE=C.forwardRef((e,t)=>{const r=Dn(Ss,e.__scopeScrollArea),{forceMount:n,...i}=e,[a,u]=C.useState(!1),m=e.orientation==="horizontal",g=Xf(()=>{if(r.viewport){const p=r.viewport.offsetWidth<r.viewport.scrollWidth,w=r.viewport.offsetHeight<r.viewport.scrollHeight;u(m?p:w)}},10);return nl(r.viewport,g),nl(r.content,g),f.jsx(es,{present:n||a,children:f.jsx(zp,{"data-state":a?"visible":"hidden",...i,ref:t})})}),zp=C.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=Dn(Ss,e.__scopeScrollArea),a=C.useRef(null),u=C.useRef(0),[m,g]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=SE(m.viewport,m.content),w={...n,sizes:m,onSizesChange:g,hasThumb:p>0&&p<1,onThumbChange:E=>a.current=E,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:E=>u.current=E};function v(E,_){return vk(E,u.current,m,_)}return r==="horizontal"?f.jsx(pk,{...w,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const E=i.viewport.scrollLeft,_=Gw(E,m,i.dir);a.current.style.transform=`translate3d(${_}px, 0, 0)`}},onWheelScroll:E=>{i.viewport&&(i.viewport.scrollLeft=E)},onDragScroll:E=>{i.viewport&&(i.viewport.scrollLeft=v(E,i.dir))}}):r==="vertical"?f.jsx(gk,{...w,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const E=i.viewport.scrollTop,_=Gw(E,m);a.current.style.transform=`translate3d(0, ${_}px, 0)`}},onWheelScroll:E=>{i.viewport&&(i.viewport.scrollTop=E)},onDragScroll:E=>{i.viewport&&(i.viewport.scrollTop=v(E))}}):null}),pk=C.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=Dn(Ss,e.__scopeScrollArea),[u,m]=C.useState(),g=C.useRef(null),p=ct(t,g,a.onScrollbarXChange);return C.useEffect(()=>{g.current&&m(getComputedStyle(g.current))},[g]),f.jsx(bE,{"data-orientation":"horizontal",...i,ref:p,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":qf(r)+"px",...e.style},onThumbPointerDown:w=>e.onThumbPointerDown(w.x),onDragScroll:w=>e.onDragScroll(w.x),onWheelScroll:(w,v)=>{if(a.viewport){const E=a.viewport.scrollLeft+w.deltaX;e.onWheelScroll(E),_E(E,v)&&w.preventDefault()}},onResize:()=>{g.current&&a.viewport&&u&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:g.current.clientWidth,paddingStart:Zd(u.paddingLeft),paddingEnd:Zd(u.paddingRight)}})}})}),gk=C.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=Dn(Ss,e.__scopeScrollArea),[u,m]=C.useState(),g=C.useRef(null),p=ct(t,g,a.onScrollbarYChange);return C.useEffect(()=>{g.current&&m(getComputedStyle(g.current))},[g]),f.jsx(bE,{"data-orientation":"vertical",...i,ref:p,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":qf(r)+"px",...e.style},onThumbPointerDown:w=>e.onThumbPointerDown(w.y),onDragScroll:w=>e.onDragScroll(w.y),onWheelScroll:(w,v)=>{if(a.viewport){const E=a.viewport.scrollTop+w.deltaY;e.onWheelScroll(E),_E(E,v)&&w.preventDefault()}},onResize:()=>{g.current&&a.viewport&&u&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:g.current.clientHeight,paddingStart:Zd(u.paddingTop),paddingEnd:Zd(u.paddingBottom)}})}})}),[xk,vE]=pE(Ss),bE=C.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:u,onThumbPointerDown:m,onThumbPositionChange:g,onDragScroll:p,onWheelScroll:w,onResize:v,...E}=e,_=Dn(Ss,r),[R,N]=C.useState(null),P=ct(t,D=>N(D)),I=C.useRef(null),A=C.useRef(""),S=_.viewport,j=n.content-n.viewport,z=rr(w),V=rr(g),F=Xf(v,10);function L(D){if(I.current){const W=D.clientX-I.current.left,Q=D.clientY-I.current.top;p({x:W,y:Q})}}return C.useEffect(()=>{const D=W=>{const Q=W.target;(R==null?void 0:R.contains(Q))&&z(W,j)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[S,R,j,z]),C.useEffect(V,[n,V]),nl(R,F),nl(_.content,F),f.jsx(xk,{scope:r,scrollbar:R,hasThumb:i,onThumbChange:rr(a),onThumbPointerUp:rr(u),onThumbPositionChange:V,onThumbPointerDown:rr(m),children:f.jsx(He.div,{...E,ref:P,style:{position:"absolute",...E.style},onPointerDown:Me(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),I.current=R.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",_.viewport&&(_.viewport.style.scrollBehavior="auto"),L(D))}),onPointerMove:Me(e.onPointerMove,L),onPointerUp:Me(e.onPointerUp,D=>{const W=D.target;W.hasPointerCapture(D.pointerId)&&W.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=A.current,_.viewport&&(_.viewport.style.scrollBehavior=""),I.current=null})})})}),Qd="ScrollAreaThumb",CE=C.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=vE(Qd,e.__scopeScrollArea);return f.jsx(es,{present:r||i.hasThumb,children:f.jsx(wk,{ref:t,...n})})}),wk=C.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,a=Dn(Qd,r),u=vE(Qd,r),{onThumbPositionChange:m}=u,g=ct(t,v=>u.onThumbChange(v)),p=C.useRef(),w=Xf(()=>{p.current&&(p.current(),p.current=void 0)},100);return C.useEffect(()=>{const v=a.viewport;if(v){const E=()=>{if(w(),!p.current){const _=bk(v,m);p.current=_,m()}};return m(),v.addEventListener("scroll",E),()=>v.removeEventListener("scroll",E)}},[a.viewport,w,m]),f.jsx(He.div,{"data-state":u.hasThumb?"visible":"hidden",...i,ref:g,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Me(e.onPointerDownCapture,v=>{const _=v.target.getBoundingClientRect(),R=v.clientX-_.left,N=v.clientY-_.top;u.onThumbPointerDown({x:R,y:N})}),onPointerUp:Me(e.onPointerUp,u.onThumbPointerUp)})});CE.displayName=Qd;var Vp="ScrollAreaCorner",EE=C.forwardRef((e,t)=>{const r=Dn(Vp,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?f.jsx(yk,{...e,ref:t}):null});EE.displayName=Vp;var yk=C.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=Dn(Vp,r),[a,u]=C.useState(0),[m,g]=C.useState(0),p=!!(a&&m);return nl(i.scrollbarX,()=>{var v;const w=((v=i.scrollbarX)==null?void 0:v.offsetHeight)||0;i.onCornerHeightChange(w),g(w)}),nl(i.scrollbarY,()=>{var v;const w=((v=i.scrollbarY)==null?void 0:v.offsetWidth)||0;i.onCornerWidthChange(w),u(w)}),p?f.jsx(He.div,{...n,ref:t,style:{width:a,height:m,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Zd(e){return e?parseInt(e,10):0}function SE(e,t){const r=e/t;return isNaN(r)?0:r}function qf(e){const t=SE(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function vk(e,t,r,n="ltr"){const i=qf(r),a=i/2,u=t||a,m=i-u,g=r.scrollbar.paddingStart+u,p=r.scrollbar.size-r.scrollbar.paddingEnd-m,w=r.content-r.viewport,v=n==="ltr"?[0,w]:[w*-1,0];return AE([g,p],v)(e)}function Gw(e,t,r="ltr"){const n=qf(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,u=t.content-t.viewport,m=a-n,g=r==="ltr"?[0,u]:[u*-1,0],p=X1(e,g);return AE([0,u],[0,m])(p)}function AE(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function _E(e,t){return e>0&&e<t}var bk=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},u=r.left!==a.left,m=r.top!==a.top;(u||m)&&t(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function Xf(e,t){const r=rr(e),n=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),C.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function nl(e,t){const r=rr(t);Tr(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}function Ck(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const i=C.Children.only(n);return C.cloneElement(i,{children:typeof t=="function"?t(i.props.children):t})}var NE=gE,Ek=wE,Sk=EE;const TE=C.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(NE,{ref:n,className:Oe("relative overflow-hidden",e),...r,children:[f.jsx(Ek,{className:"h-full w-full rounded-[inherit]",children:t}),f.jsx(IE,{}),f.jsx(Sk,{})]}));TE.displayName=NE.displayName;const IE=C.forwardRef(({className:e,orientation:t="vertical",...r},n)=>f.jsx(Up,{ref:n,orientation:t,className:Oe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:f.jsx(CE,{className:"relative flex-1 rounded-full bg-border"})}));IE.displayName=Up.displayName;function _t(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ui(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const RE=6048e5,Ak=864e5,Yu=43200,qw=1440;let _k={};function su(){return _k}function jc(e,t){var m,g,p,w;const r=su(),n=(t==null?void 0:t.weekStartsOn)??((g=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((w=(p=r.locale)==null?void 0:p.options)==null?void 0:w.weekStartsOn)??0,i=_t(e),a=i.getDay(),u=(a<n?7:0)+a-n;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function Jd(e){return jc(e,{weekStartsOn:1})}function OE(e){const t=_t(e),r=t.getFullYear(),n=Ui(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Jd(n),a=Ui(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const u=Jd(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}function Xw(e){const t=_t(e);return t.setHours(0,0,0,0),t}function ef(e){const t=_t(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Nk(e,t){const r=Xw(e),n=Xw(t),i=+r-ef(r),a=+n-ef(n);return Math.round((i-a)/Ak)}function Tk(e){const t=OE(e),r=Ui(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Jd(r)}function gd(e,t){const r=_t(e),n=_t(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function Ik(e){return Ui(e,Date.now())}function Rk(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ok(e){if(!Rk(e)&&typeof e!="number")return!1;const t=_t(e);return!isNaN(Number(t))}function kk(e,t){const r=_t(e),n=_t(t),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function Pk(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function jk(e,t){return+_t(e)-+_t(t)}function Dk(e){const t=_t(e);return t.setHours(23,59,59,999),t}function Mk(e){const t=_t(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Lk(e){const t=_t(e);return+Dk(t)==+Mk(t)}function Fk(e,t){const r=_t(e),n=_t(t),i=gd(r,n),a=Math.abs(kk(r,n));let u;if(a<1)u=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);let m=gd(r,n)===-i;Lk(_t(e))&&a===1&&gd(e,n)===1&&(m=!1),u=i*(a-Number(m))}return u===0?0:u}function Bk(e,t,r){const n=jk(e,t)/1e3;return Pk(r==null?void 0:r.roundingMethod)(n)}function Uk(e){const t=_t(e),r=Ui(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const zk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vk=(e,t,r)=>{let n;const i=zk[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Oa(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Wk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$k={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Gk={date:Oa({formats:Wk,defaultWidth:"full"}),time:Oa({formats:Hk,defaultWidth:"full"}),dateTime:Oa({formats:$k,defaultWidth:"full"})},qk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Xk=(e,t,r,n)=>qk[e];function xs(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const u=e.defaultFormattingWidth||e.defaultWidth,m=r!=null&&r.width?String(r.width):u;i=e.formattingValues[m]||e.formattingValues[u]}else{const u=e.defaultWidth,m=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[m]||e.values[u]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const Yk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Kk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Zk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Jk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tP=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},rP={ordinalNumber:tP,era:xs({values:Yk,defaultWidth:"wide"}),quarter:xs({values:Kk,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xs({values:Qk,defaultWidth:"wide"}),day:xs({values:Zk,defaultWidth:"wide"}),dayPeriod:xs({values:Jk,defaultWidth:"wide",formattingValues:eP,defaultFormattingWidth:"wide"})};function ws(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const u=a[0],m=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],g=Array.isArray(m)?sP(m,v=>v.test(u)):nP(m,v=>v.test(u));let p;p=e.valueCallback?e.valueCallback(g):g,p=r.valueCallback?r.valueCallback(p):p;const w=t.slice(u.length);return{value:p,rest:w}}}function nP(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function sP(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function kE(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let u=e.valueCallback?e.valueCallback(a[0]):a[0];u=r.valueCallback?r.valueCallback(u):u;const m=t.slice(i.length);return{value:u,rest:m}}}const iP=/^(\d+)(th|st|nd|rd)?/i,oP=/\d+/i,aP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lP={any:[/^b/i,/^(a|c)/i]},cP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uP={any:[/1/i,/2/i,/3/i,/4/i]},dP={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hP={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mP={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pP={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gP={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xP={ordinalNumber:kE({matchPattern:iP,parsePattern:oP,valueCallback:e=>parseInt(e,10)}),era:ws({matchPatterns:aP,defaultMatchWidth:"wide",parsePatterns:lP,defaultParseWidth:"any"}),quarter:ws({matchPatterns:cP,defaultMatchWidth:"wide",parsePatterns:uP,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ws({matchPatterns:dP,defaultMatchWidth:"wide",parsePatterns:fP,defaultParseWidth:"any"}),day:ws({matchPatterns:hP,defaultMatchWidth:"wide",parsePatterns:mP,defaultParseWidth:"any"}),dayPeriod:ws({matchPatterns:pP,defaultMatchWidth:"any",parsePatterns:gP,defaultParseWidth:"any"})},PE={code:"en-US",formatDistance:Vk,formatLong:Gk,formatRelative:Xk,localize:rP,match:xP,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wP(e){const t=_t(e);return Nk(t,Uk(t))+1}function yP(e){const t=_t(e),r=+Jd(t)-+Tk(t);return Math.round(r/RE)+1}function jE(e,t){var w,v,E,_;const r=_t(e),n=r.getFullYear(),i=su(),a=(t==null?void 0:t.firstWeekContainsDate)??((v=(w=t==null?void 0:t.locale)==null?void 0:w.options)==null?void 0:v.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(E=i.locale)==null?void 0:E.options)==null?void 0:_.firstWeekContainsDate)??1,u=Ui(e,0);u.setFullYear(n+1,0,a),u.setHours(0,0,0,0);const m=jc(u,t),g=Ui(e,0);g.setFullYear(n,0,a),g.setHours(0,0,0,0);const p=jc(g,t);return r.getTime()>=m.getTime()?n+1:r.getTime()>=p.getTime()?n:n-1}function vP(e,t){var m,g,p,w;const r=su(),n=(t==null?void 0:t.firstWeekContainsDate)??((g=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(p=r.locale)==null?void 0:p.options)==null?void 0:w.firstWeekContainsDate)??1,i=jE(e,t),a=Ui(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),jc(a,t)}function bP(e,t){const r=_t(e),n=+jc(r,t)-+vP(r,t);return Math.round(n/RE)+1}function yt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ii={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return yt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):yt(r+1,2)},d(e,t){return yt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return yt(e.getHours()%12||12,t.length)},H(e,t){return yt(e.getHours(),t.length)},m(e,t){return yt(e.getMinutes(),t.length)},s(e,t){return yt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return yt(i,t.length)}},oa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Yw={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return ii.y(e,t)},Y:function(e,t,r,n){const i=jE(e,n),a=i>0?i:1-i;if(t==="YY"){const u=a%100;return yt(u,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):yt(a,t.length)},R:function(e,t){const r=OE(e);return yt(r,t.length)},u:function(e,t){const r=e.getFullYear();return yt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return yt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return yt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ii.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return yt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=bP(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):yt(i,t.length)},I:function(e,t,r){const n=yP(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):yt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ii.d(e,t)},D:function(e,t,r){const n=wP(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):yt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return yt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return yt(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return yt(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=oa.noon:n===0?i=oa.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=oa.evening:n>=12?i=oa.afternoon:n>=4?i=oa.morning:i=oa.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ii.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ii.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):yt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):yt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ii.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ii.s(e,t)},S:function(e,t){return ii.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Qw(n);case"XXXX":case"XX":return co(n);case"XXXXX":case"XXX":default:return co(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Qw(n);case"xxxx":case"xx":return co(n);case"xxxxx":case"xxx":default:return co(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Kw(n,":");case"OOOO":default:return"GMT"+co(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Kw(n,":");case"zzzz":default:return"GMT"+co(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return yt(n,t.length)},T:function(e,t,r){const n=e.getTime();return yt(n,t.length)}};function Kw(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+yt(a,2)}function Qw(e,t){return e%60===0?(e>0?"-":"+")+yt(Math.abs(e)/60,2):co(e,t)}function co(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=yt(Math.trunc(n/60),2),a=yt(n%60,2);return r+i+t+a}const Zw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},DE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},CP=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Zw(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Zw(n,t)).replace("{{time}}",DE(i,t))},EP={p:DE,P:CP},SP=/^D+$/,AP=/^Y+$/,_P=["D","DD","YY","YYYY"];function NP(e){return SP.test(e)}function TP(e){return AP.test(e)}function IP(e,t,r){const n=RP(e,t,r);if(console.warn(n),_P.includes(e))throw new RangeError(n)}function RP(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const OP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PP=/^'([^]*?)'?$/,jP=/''/g,DP=/[a-zA-Z]/;function ka(e,t,r){var w,v,E,_,R,N,P,I;const n=su(),i=(r==null?void 0:r.locale)??n.locale??PE,a=(r==null?void 0:r.firstWeekContainsDate)??((v=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:v.firstWeekContainsDate)??n.firstWeekContainsDate??((_=(E=n.locale)==null?void 0:E.options)==null?void 0:_.firstWeekContainsDate)??1,u=(r==null?void 0:r.weekStartsOn)??((N=(R=r==null?void 0:r.locale)==null?void 0:R.options)==null?void 0:N.weekStartsOn)??n.weekStartsOn??((I=(P=n.locale)==null?void 0:P.options)==null?void 0:I.weekStartsOn)??0,m=_t(e);if(!Ok(m))throw new RangeError("Invalid time value");let g=t.match(kP).map(A=>{const S=A[0];if(S==="p"||S==="P"){const j=EP[S];return j(A,i.formatLong)}return A}).join("").match(OP).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const S=A[0];if(S==="'")return{isToken:!1,value:MP(A)};if(Yw[S])return{isToken:!0,value:A};if(S.match(DP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:A}});i.localize.preprocessor&&(g=i.localize.preprocessor(m,g));const p={firstWeekContainsDate:a,weekStartsOn:u,locale:i};return g.map(A=>{if(!A.isToken)return A.value;const S=A.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&TP(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&NP(S))&&IP(S,t,String(e));const j=Yw[S[0]];return j(m,S,i.localize,p)}).join("")}function MP(e){const t=e.match(PP);return t?t[1].replace(jP,"'"):e}function LP(e,t,r){const n=su(),i=(r==null?void 0:r.locale)??n.locale??PE,a=2520,u=gd(e,t);if(isNaN(u))throw new RangeError("Invalid time value");const m=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:u});let g,p;u>0?(g=_t(t),p=_t(e)):(g=_t(e),p=_t(t));const w=Bk(p,g),v=(ef(p)-ef(g))/1e3,E=Math.round((w-v)/60);let _;if(E<2)return r!=null&&r.includeSeconds?w<5?i.formatDistance("lessThanXSeconds",5,m):w<10?i.formatDistance("lessThanXSeconds",10,m):w<20?i.formatDistance("lessThanXSeconds",20,m):w<40?i.formatDistance("halfAMinute",0,m):w<60?i.formatDistance("lessThanXMinutes",1,m):i.formatDistance("xMinutes",1,m):E===0?i.formatDistance("lessThanXMinutes",1,m):i.formatDistance("xMinutes",E,m);if(E<45)return i.formatDistance("xMinutes",E,m);if(E<90)return i.formatDistance("aboutXHours",1,m);if(E<qw){const R=Math.round(E/60);return i.formatDistance("aboutXHours",R,m)}else{if(E<a)return i.formatDistance("xDays",1,m);if(E<Yu){const R=Math.round(E/qw);return i.formatDistance("xDays",R,m)}else if(E<Yu*2)return _=Math.round(E/Yu),i.formatDistance("aboutXMonths",_,m)}if(_=Fk(p,g),_<12){const R=Math.round(E/Yu);return i.formatDistance("xMonths",R,m)}else{const R=_%12,N=Math.trunc(_/12);return R<3?i.formatDistance("aboutXYears",N,m):R<9?i.formatDistance("overXYears",N,m):i.formatDistance("almostXYears",N+1,m)}}function FP(e,t){return LP(e,Ik(e),t)}const BP={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},UP=(e,t,r)=>{let n;const i=BP[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"há "+n:n},zP={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},VP={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},WP={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HP={date:Oa({formats:zP,defaultWidth:"full"}),time:Oa({formats:VP,defaultWidth:"full"}),dateTime:Oa({formats:WP,defaultWidth:"full"})},$P={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},GP=(e,t,r,n)=>{const i=$P[e];return typeof i=="function"?i(t):i},qP={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},XP={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},YP={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},KP={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},QP={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},ZP={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},JP=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"ª":r+"º"},e5={ordinalNumber:JP,era:xs({values:qP,defaultWidth:"wide"}),quarter:xs({values:XP,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xs({values:YP,defaultWidth:"wide"}),day:xs({values:KP,defaultWidth:"wide"}),dayPeriod:xs({values:QP,defaultWidth:"wide",formattingValues:ZP,defaultFormattingWidth:"wide"})},t5=/^(\d+)[ºªo]?/i,r5=/\d+/i,n5={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},s5={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},i5={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},o5={any:[/1/i,/2/i,/3/i,/4/i]},a5={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},l5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},c5={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},u5={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},d5={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},f5={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},h5={ordinalNumber:kE({matchPattern:t5,parsePattern:r5,valueCallback:e=>parseInt(e,10)}),era:ws({matchPatterns:n5,defaultMatchWidth:"wide",parsePatterns:s5,defaultParseWidth:"any"}),quarter:ws({matchPatterns:i5,defaultMatchWidth:"wide",parsePatterns:o5,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ws({matchPatterns:a5,defaultMatchWidth:"wide",parsePatterns:l5,defaultParseWidth:"any"}),day:ws({matchPatterns:c5,defaultMatchWidth:"wide",parsePatterns:u5,defaultParseWidth:"any"}),dayPeriod:ws({matchPatterns:d5,defaultMatchWidth:"any",parsePatterns:f5,defaultParseWidth:"any"})},_o={code:"pt-BR",formatDistance:UP,formatLong:HP,formatRelative:GP,localize:e5,match:h5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function m5({isOpen:e,onClose:t}){const{notifications:r,unreadCount:n,loading:i,subscribeToPush:a,unsubscribeFromPush:u,markAsRead:m,markAllAsRead:g,isSubscribed:p}=jC(),[w,v]=C.useState(!1),E=Ir(),_=async()=>{v(!0);try{await a()}finally{v(!1)}},R=async()=>{v(!0);try{await u()}finally{v(!1)}},N=I=>{switch(I){case"asset_created":case"asset_updated":case"asset_deleted":return f.jsx(Ct,{className:"h-4 w-4"});case"app_update":return f.jsx(Kb,{className:"h-4 w-4"});default:return f.jsx(Yl,{className:"h-4 w-4"})}},P=I=>{switch(I){case"asset_created":return"text-green-600 bg-green-50";case"asset_updated":return"text-blue-600 bg-blue-50";case"asset_deleted":return"text-red-600 bg-red-50";case"app_update":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}};return e?f.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-start justify-end p-4",onClick:()=>t(),children:f.jsxs(Ke,{className:"w-full max-w-md h-[80vh] flex flex-col",onClick:I=>I.stopPropagation(),children:[f.jsxs(pt,{className:"flex-shrink-0",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(mt,{className:"flex items-center gap-2",children:[f.jsx(Yl,{className:"h-5 w-5"}),"Notificações",n>0&&f.jsx(Jt,{variant:"destructive",className:"ml-2",children:n})]}),f.jsx(Ne,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0",children:f.jsx(hl,{className:"h-4 w-4"})})]}),f.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[p?f.jsxs(Ne,{size:"sm",variant:"outline",onClick:R,disabled:w,className:"flex-1",children:[f.jsx(P8,{className:"h-4 w-4 mr-2"}),w?"Desativando...":"Desativar Notificações"]}):f.jsxs(Ne,{size:"sm",onClick:_,disabled:w,className:"flex-1",children:[f.jsx(Yl,{className:"h-4 w-4 mr-2"}),w?"Ativando...":"Ativar Notificações"]}),n>0&&f.jsx(Ne,{size:"sm",variant:"ghost",onClick:g,className:"px-2",children:f.jsx(j8,{className:"h-4 w-4"})})]})]}),f.jsx(Gf,{}),f.jsx(TE,{className:"flex-1 p-4",children:i?f.jsx("div",{className:"flex items-center justify-center h-32",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.filter(I=>I.type!=="app_update").length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-gray-500",children:[f.jsx(Yl,{className:"h-12 w-12 mb-2 opacity-50"}),f.jsx("p",{className:"text-sm",children:"Nenhuma notificação"})]}):f.jsx("div",{className:"space-y-3",children:r.filter(I=>I.type!=="app_update").map(I=>{const A=I.type==="asset_created"||I.type==="asset_updated";let S;A&&I.data&&typeof I.data=="object"&&"asset_id"in I.data&&(S=I.data.asset_id);const j=()=>{m(I.id),A&&S&&(t(),E(`/assets/${S}`))};return f.jsx("div",{className:`p-3 rounded-lg border transition-colors ${I.read_at?"bg-gray-50 border-gray-200":"bg-white border-blue-200 shadow-sm"} ${A&&S?"cursor-pointer hover:bg-blue-50":""}`,onClick:A&&S?j:()=>m(I.id),children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:`p-2 rounded-full ${P(I.type)}`,children:N(I.type)}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-start justify-between gap-2",children:[f.jsx("h4",{className:"font-medium text-sm text-gray-900",children:I.title}),!I.read_at&&f.jsx(Ne,{size:"sm",variant:"ghost",onClick:z=>{z.stopPropagation(),m(I.id)},className:"h-6 w-6 p-0",children:f.jsx(gp,{className:"h-3 w-3"})})]}),f.jsx("p",{className:"text-sm text-gray-600 mt-1",children:I.body}),f.jsx("p",{className:"text-xs text-gray-400 mt-2",children:FP(new Date(I.created_at),{addSuffix:!0,locale:_o})})]})]})},I.id)})})})]})}):null}function p5(){const{profile:e,company:t,signOut:r}=er(),{unreadCount:n}=jC(),[i,a]=C.useState(!1),u=m=>{const g={admin:"bg-red-100 text-red-800",editor:"bg-yellow-100 text-yellow-800",viewer:"bg-green-100 text-green-800"},p={admin:"Administrador",editor:"Editor",viewer:"Visualizador"};return f.jsx(Jt,{className:g[m],children:p[m]})};return f.jsxs(f.Fragment,{children:[f.jsx("header",{className:"bg-white border-b border-gray-200 px-0 py-0 sm:px-2 sm:py-2 md:px-6 md:py-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-4 min-w-0 flex-1",children:[f.jsx(lk,{}),t&&f.jsxs("div",{className:"hidden lg:flex items-center text-gray-600 min-w-0 space-x-3",children:[f.jsx(mp,{className:"h-4 w-4 mr-2 flex-shrink-0"}),f.jsx("span",{className:"text-sm font-medium break-words",children:t.name}),(e==null?void 0:e.role)==="admin"&&t.plan!=="enterprise"&&f.jsx(hE,{plan:t.plan})]})]}),f.jsxs("div",{className:"flex items-center space-x-4 flex-shrink-0",children:[f.jsxs(Ne,{variant:"ghost",size:"sm",onClick:()=>a(!0),className:"relative",children:[f.jsx(Yl,{className:"h-4 w-4"}),n>0&&f.jsx(Jt,{variant:"destructive",className:"absolute -top-1 -left-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:n>9?"9+":n})]}),f.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>window.location.reload(),title:"Recarregar página",className:"md:hidden",children:f.jsx(Kb,{className:"h-4 w-4"})}),e&&f.jsxs("div",{className:"hidden md:block text-right",children:[f.jsx("p",{className:"text-sm font-medium text-gray-900 break-words",children:e.name}),u(e.role)]}),f.jsxs(Ne,{variant:"ghost",size:"sm",onClick:r,className:"hidden md:flex",children:[f.jsx(wp,{className:"h-4 w-4 mr-2"}),"Sair"]})]})]})}),f.jsx(m5,{isOpen:i,onClose:()=>a(!1)})]})}function g5(){const{data:e}=nu(),{toast:t}=yr(),{profile:r}=er(),n=(r==null?void 0:r.role)==="admin";return C.useEffect(()=>{!e||!n||(e.isAssetsLimitReached?t({title:"Limite de ativos atingido",description:`Você atingiu o limite de ${e.assetsLimit} ativos do seu plano. Faça upgrade para adicionar mais ativos.`,variant:"destructive",duration:8e3}):e.isAssetsLimitWarning&&t({title:"Aproximando do limite de ativos",description:`Você está usando ${e.assetsUsage}% do seu limite de ativos. Considere fazer upgrade do seu plano.`,variant:"destructive",duration:6e3}),e.isUsersLimitReached?t({title:"Limite de usuários atingido",description:`Você atingiu o limite de ${e.usersLimit} usuários do seu plano. Faça upgrade para adicionar mais usuários.`,variant:"destructive",duration:8e3}):e.isUsersLimitWarning&&t({title:"Aproximando do limite de usuários",description:`Você está usando ${e.usersUsage}% do seu limite de usuários. Considere fazer upgrade do seu plano.`,variant:"destructive",duration:6e3}))},[e,t,n]),{planLimits:e,showLimitWarning:i=>{!e||!n||(i==="assets"&&e.isAssetsLimitWarning&&t({title:"Aproximando do limite de ativos",description:`Você está usando ${e.assetsUsage}% do seu limite de ativos. Considere fazer upgrade do seu plano.`,variant:"destructive"}),i==="users"&&e.isUsersLimitWarning&&t({title:"Aproximando do limite de usuários",description:`Você está usando ${e.usersUsage}% do seu limite de usuários. Considere fazer upgrade do seu plano.`,variant:"destructive"}))}}}const ME=C.createContext(null);function Ns({children:e}){const t=C.useRef(null);return g5(),f.jsx(ME.Provider,{value:t,children:f.jsxs("div",{className:"flex h-screen bg-gray-50",children:[f.jsx(qR,{}),f.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[f.jsx(p5,{}),f.jsx("main",{ref:t,className:"flex-1 overflow-y-auto bg-gray-50 px-4 md:px-6 pt-6 pb-20",children:f.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]})})}function x5(){const[e,t]=C.useState(!1),[r,n]=C.useState(!1),[i,a]=C.useState(!1),[u,m]=C.useState(null);return C.useEffect(()=>{const p=()=>{window.matchMedia("(display-mode: standalone)").matches&&(n(!0),t(!1))},w=_=>{_.preventDefault(),m(_),t(!0),a(!0)},v=()=>{n(!0),t(!1),a(!1),m(null)},E=async()=>{if("serviceWorker"in navigator)try{const _=await navigator.serviceWorker.register("/sw.js");console.log("Service Worker registrado com sucesso:",_)}catch(_){console.error("Erro ao registrar Service Worker:",_)}};return p(),E(),window.addEventListener("beforeinstallprompt",w),window.addEventListener("appinstalled",v),()=>{window.removeEventListener("beforeinstallprompt",w),window.removeEventListener("appinstalled",v)}},[]),{isInstallable:e,isInstalled:r,installApp:async()=>{if(!u){console.log("Prompt de instalação não disponível");return}try{await u.prompt();const{outcome:p}=await u.userChoice;p==="accepted"?(console.log("Usuário aceitou a instalação"),n(!0),t(!1),a(!1)):console.log("Usuário recusou a instalação"),m(null)}catch(p){console.error("Erro durante a instalação:",p)}},showInstallPrompt:i,setShowInstallPrompt:a}}function w5(){const{isInstallable:e,showInstallPrompt:t,setShowInstallPrompt:r,installApp:n}=x5();return!e||!t?null:f.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-4 md:right-auto md:w-80",children:f.jsx(Ke,{className:"shadow-lg border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:f.jsx(et,{className:"p-4",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"bg-blue-600 p-2 rounded-full flex-shrink-0",children:f.jsx(Ct,{className:"h-5 w-5 text-white"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Instalar Armazena"}),f.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Instale o app na tela inicial para acesso rápido e funcionalidade offline"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(Ne,{onClick:n,size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[f.jsx(L8,{className:"h-4 w-4 mr-2"}),"Instalar"]}),f.jsx(Ne,{onClick:()=>r(!1),variant:"outline",size:"sm",className:"px-3",children:f.jsx(hl,{className:"h-4 w-4"})})]})]})]})})})})}const y5=fl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ur=C.forwardRef(({className:e,variant:t,...r},n)=>f.jsx("div",{ref:n,role:"alert",className:Oe(y5({variant:t}),e),...r}));ur.displayName="Alert";const v5=C.forwardRef(({className:e,...t},r)=>f.jsx("h5",{ref:r,className:Oe("mb-1 font-medium leading-none tracking-tight",e),...t}));v5.displayName="AlertTitle";const dr=C.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:Oe("text-sm [&_p]:leading-relaxed",e),...t}));dr.displayName="AlertDescription";function b5(){const[e,t]=C.useState(navigator.onLine);return C.useEffect(()=>{const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r),window.addEventListener("offline",n),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}},[]),e?null:f.jsx("div",{className:"fixed top-4 left-4 right-4 z-50 md:left-4 md:right-auto md:w-80",children:f.jsxs(ur,{className:"border-orange-200 bg-orange-50",children:[f.jsx($8,{className:"h-4 w-4 text-orange-600"}),f.jsx(dr,{className:"text-orange-800",children:"Você está offline. Algumas funcionalidades podem não estar disponíveis."})]})})}const rt=C.forwardRef(({className:e,type:t,...r},n)=>f.jsx("input",{type:t,className:Oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));rt.displayName="Input";var C5="Label",LE=C.forwardRef((e,t)=>f.jsx(He.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));LE.displayName=C5;var FE=LE;const E5=fl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Xe=C.forwardRef(({className:e,...t},r)=>f.jsx(FE,{ref:r,className:Oe(E5(),e),...t}));Xe.displayName=FE.displayName;const iu=Dp,Yf=Mp,S5=Lp,BE=C.forwardRef(({className:e,...t},r)=>f.jsx(Jc,{ref:r,className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));BE.displayName=Jc.displayName;const xl=C.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(S5,{children:[f.jsx(BE,{}),f.jsxs(eu,{ref:n,className:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,f.jsxs($f,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(hl,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xl.displayName=eu.displayName;const ou=({className:e,...t})=>f.jsx("div",{className:Oe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ou.displayName="DialogHeader";const UE=({className:e,...t})=>f.jsx("div",{className:Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});UE.displayName="DialogFooter";const au=C.forwardRef(({className:e,...t},r)=>f.jsx(tu,{ref:r,className:Oe("text-lg font-semibold leading-none tracking-tight",e),...t}));au.displayName=tu.displayName;const Kf=C.forwardRef(({className:e,...t},r)=>f.jsx(ru,{ref:r,className:Oe("text-sm text-muted-foreground",e),...t}));Kf.displayName=ru.displayName;function A5(){var D,W;const[e,t]=C.useState(""),[r,n]=C.useState(""),[i,a]=C.useState(!1),[u,m]=C.useState(!1),[g,p]=C.useState(""),[w,v]=C.useState(""),[E,_]=C.useState(!1),[R,N]=C.useState(!1),{signIn:P}=er(),I=Ir(),A=Jn(),{toast:S}=yr(),V=new URLSearchParams(A.search).get("redirect_to")||((W=(D=A.state)==null?void 0:D.from)==null?void 0:W.pathname)||"/dashboard",F=async Q=>{Q.preventDefault(),p(""),m(!0);try{if(await P(e,r)==="inactive"){I("/acesso-negado",{replace:!0});return}S({title:"Login realizado com sucesso!",description:"Bem-vindo ao Armazena"}),I(V,{replace:!0})}catch(q){p(q.message||"Erro ao fazer login")}finally{m(!1)}},L=async Q=>{Q.preventDefault(),_(!0);try{const{error:q}=await Ve.auth.resetPasswordForEmail(w,{redirectTo:`${window.location.origin}/login`});if(q)throw q;S({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir sua senha."}),N(!1),v("")}catch(q){S({title:"Erro ao enviar email",description:q.message||"Erro ao enviar email de redefinição",variant:"destructive"})}finally{_(!1)}};return f.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50 px-4",children:f.jsxs("div",{className:"max-w-md w-full space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"flex justify-center items-center gap-3 mt-6",children:[f.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:f.jsx(Ct,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Armazena App"})]}),f.jsx("p",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Sistema de Gestão de Ativos"})]}),f.jsxs(Ke,{className:"shadow-lg border-0",children:[f.jsxs(pt,{className:"space-y-1",children:[f.jsx(mt,{className:"text-2xl text-center",children:"Entrar"}),f.jsx(pn,{className:"text-center",children:"Digite suas credenciais para acessar o sistema"})]}),f.jsxs(et,{children:[f.jsxs("form",{onSubmit:F,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"email",children:"Email"}),f.jsx(rt,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:Q=>t(Q.target.value),required:!0,className:"h-11"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"password",children:"Senha"}),f.jsxs("div",{className:"relative",children:[f.jsx(rt,{id:"password",type:i?"text":"password",placeholder:"Sua senha",value:r,onChange:Q=>n(Q.target.value),required:!0,className:"h-11 pr-10"}),f.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!i),children:i?f.jsx($d,{className:"h-4 w-4 text-gray-400"}):f.jsx(Oc,{className:"h-4 w-4 text-gray-400"})})]})]}),g&&f.jsx(ur,{variant:"destructive",children:f.jsx(dr,{children:g})}),f.jsx(Ne,{type:"submit",className:"w-full h-11",disabled:u,children:u?"Entrando...":"Entrar"})]}),f.jsxs("div",{className:"text-center mt-4",children:[f.jsxs(iu,{open:R,onOpenChange:N,children:[f.jsx(Yf,{asChild:!0,children:f.jsx(Ne,{variant:"link",className:"text-sm text-blue-600 hover:text-blue-800",children:"Esqueci minha senha"})}),f.jsxs(xl,{className:"sm:max-w-[425px]",children:[f.jsxs(ou,{children:[f.jsx(au,{children:"Redefinir senha"}),f.jsx(Kf,{children:"Digite seu email para receber um link de redefinição de senha."})]}),f.jsxs("form",{onSubmit:L,children:[f.jsx("div",{className:"grid gap-4 py-4",children:f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"resetEmail",children:"Email"}),f.jsx(rt,{id:"resetEmail",type:"email",placeholder:"seu@email.com",value:w,onChange:Q=>v(Q.target.value),required:!0})]})}),f.jsxs(UE,{children:[f.jsx(Ne,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancelar"}),f.jsx(Ne,{type:"submit",disabled:E,children:E?"Enviando...":"Enviar email"})]})]})]})]}),f.jsx("div",{className:"mt-2",children:f.jsx(kn,{to:"/signup",children:f.jsx(Ne,{variant:"link",className:"text-sm text-blue-600 hover:text-blue-800",children:"Não tem uma conta? Criar conta"})})})]})]})]})]})})}function _5(){const[e,t]=C.useState(""),[r,n]=C.useState(""),[i,a]=C.useState(""),[u,m]=C.useState(!1),[g,p]=C.useState(!1),[w,v]=C.useState(""),[E,_]=C.useState(!1);Ir();const R=async N=>{N.preventDefault(),v(""),p(!0);try{if(!e||!r||!i){v("Preencha todos os campos");return}if(i.length<6){v("A senha deve ter pelo menos 6 caracteres");return}const I=`${window.location.origin}/onboarding`;console.log("Enviando signup com redirect para:",I);const{error:A}=await Ve.auth.signUp({email:r,password:i,options:{emailRedirectTo:I,data:{name:e}}});if(A)throw A;_(!0)}catch(P){console.error("Erro no signup:",P),v(P.message||"Erro ao criar conta")}finally{p(!1)}};return E?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 px-4 flex items-center justify-center",children:f.jsxs("div",{className:"max-w-md w-full space-y-8",children:[f.jsx("div",{className:"text-center",children:f.jsxs("div",{className:"flex justify-center items-center gap-3 mb-6",children:[f.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:f.jsx(Ct,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Armazena App"})]})}),f.jsxs(Ke,{className:"shadow-lg border-0",children:[f.jsxs(pt,{className:"text-center",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx(Gb,{className:"h-16 w-16 text-green-500"})}),f.jsx(mt,{className:"text-2xl text-green-700",children:"Conta criada com sucesso!"}),f.jsx(pn,{className:"text-gray-600",children:"Enviamos um link de confirmação para seu e-mail. Clique no link para ativar sua conta e continuar o cadastro."})]}),f.jsxs(et,{className:"text-center",children:[f.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:f.jsxs("p",{className:"text-sm text-blue-800",children:[f.jsx("strong",{children:"Próximo passo:"})," Verifique sua caixa de entrada e clique no link de confirmação para ativar sua conta."]})}),f.jsx(kn,{to:"/login",children:f.jsx(Ne,{variant:"outline",className:"w-full",children:"Voltar para o login"})})]})]})]})}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 px-4 flex items-center justify-center",children:f.jsxs("div",{className:"max-w-md w-full space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"flex justify-center items-center gap-3 mb-6",children:[f.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:f.jsx(Ct,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Armazena App"})]}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"Sistema de Gestão de Ativos"})]}),f.jsxs(Ke,{className:"shadow-lg border-0",children:[f.jsxs(pt,{className:"space-y-1",children:[f.jsx(mt,{className:"text-2xl text-center",children:"Criar Conta"}),f.jsx(pn,{className:"text-center",children:"Preencha os dados para criar sua conta"})]}),f.jsxs(et,{children:[f.jsxs("form",{onSubmit:R,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"name",children:"Nome Completo *"}),f.jsx(rt,{id:"name",type:"text",placeholder:"Seu nome completo",value:e,onChange:N=>t(N.target.value),required:!0,className:"h-11"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"email",children:"E-mail *"}),f.jsx(rt,{id:"email",type:"email",placeholder:"seu@email.com",value:r,onChange:N=>n(N.target.value),required:!0,className:"h-11"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"password",children:"Senha *"}),f.jsxs("div",{className:"relative",children:[f.jsx(rt,{id:"password",type:u?"text":"password",placeholder:"Mínimo 6 caracteres",value:i,onChange:N=>a(N.target.value),required:!0,className:"h-11 pr-10"}),f.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!u),children:u?f.jsx($d,{className:"h-4 w-4 text-gray-400"}):f.jsx(Oc,{className:"h-4 w-4 text-gray-400"})})]})]}),w&&f.jsx(ur,{variant:"destructive",children:f.jsx(dr,{children:w})}),f.jsx(Ne,{type:"submit",className:"w-full h-11",disabled:g,children:g?"Criando conta...":"Criar Conta"})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("p",{className:"text-sm text-gray-600",children:["Já tem uma conta?"," ",f.jsx(kn,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Fazer login"})]})})]})]})]})})}function N5(){Ir();const{data:e}=nu(),{data:t}=Ws({queryKey:["dashboard-stats"],queryFn:async()=>{const{data:a}=await Ve.from("assets").select("*");if(!a)return null;const u=a.length,m=a.filter(E=>E.status==="ativo").length,g=a.filter(E=>E.status==="manutenção").length,p=a.filter(E=>E.status==="baixado").length,w=a.reduce((E,_)=>E+(_.value||0),0),v=a.filter(E=>E.status==="ativo").reduce((E,_)=>E+(_.value||0),0);return{totalAssets:u,activeAssets:m,maintenanceAssets:g,deactivatedAssets:p,totalValue:w,activeValue:v}}}),{data:r}=Ws({queryKey:["recent-assets"],queryFn:async()=>{const{data:a}=await Ve.from("assets").select("*").order("created_at",{ascending:!1}).limit(5);return a||[]}}),n=a=>{const u={ativo:"bg-green-100 text-green-800",manutenção:"bg-yellow-100 text-yellow-800",baixado:"bg-red-100 text-red-800"};return f.jsx(Jt,{className:u[a],children:a.toUpperCase()})},i=a=>{switch(a){case"ativo":return f.jsx(gw,{className:"h-4 w-4 text-green-600"});case"manutenção":return f.jsx(kc,{className:"h-4 w-4 text-yellow-600"});case"baixado":return f.jsx(uw,{className:"h-4 w-4 text-red-600"});default:return f.jsx(Ct,{className:"h-4 w-4 text-gray-600"})}};return f.jsxs("div",{className:"space-y-8 pb-10",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),f.jsx("p",{className:"mt-2 text-gray-600",children:"Visão geral dos seus ativos patrimoniais"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsxs(Ke,{className:"border-0 shadow-md",children:[f.jsxs(pt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(mt,{className:"text-sm font-medium text-gray-600",children:"Total"}),f.jsx(Ct,{className:"h-4 w-4 text-blue-600"})]}),f.jsxs(et,{children:[f.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(t==null?void 0:t.totalAssets)||0}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Todos os ativos cadastrados"})]})]}),f.jsxs(Ke,{className:"border-0 shadow-md",children:[f.jsxs(pt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(mt,{className:"text-sm font-medium text-gray-600",children:"Ativos"}),f.jsx(gw,{className:"h-4 w-4 text-green-600"})]}),f.jsxs(et,{children:[f.jsx("div",{className:"text-2xl font-bold text-green-700",children:(t==null?void 0:t.activeAssets)||0}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Em operação normal"})]})]}),f.jsxs(Ke,{className:"border-0 shadow-md",children:[f.jsxs(pt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(mt,{className:"text-sm font-medium text-gray-600",children:"Manutenção"}),f.jsx(kc,{className:"h-4 w-4 text-yellow-600"})]}),f.jsxs(et,{children:[f.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:(t==null?void 0:t.maintenanceAssets)||0}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Em manutenção"})]})]}),f.jsxs(Ke,{className:"border-0 shadow-md",children:[f.jsxs(pt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(mt,{className:"text-sm font-medium text-gray-600",children:"Baixados"}),f.jsx(uw,{className:"h-4 w-4 text-red-600"})]}),f.jsxs(et,{children:[f.jsx("div",{className:"text-2xl font-bold text-red-700",children:(t==null?void 0:t.deactivatedAssets)||0}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Fora de operação"})]})]})]}),f.jsx("div",{className:"w-full",children:f.jsx(Ke,{className:"border-0 shadow-md",children:f.jsxs(et,{className:"flex items-center justify-between p-6",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(mt,{className:"text-sm font-medium text-gray-600",children:"Valor Total"}),f.jsx(xp,{className:"h-4 w-4 text-blue-600"})]}),f.jsx("div",{className:"text-2xl font-bold text-blue-700 break-words",children:qd((t==null?void 0:t.totalValue)||0)})]})})}),f.jsxs(Ke,{className:"border-0 shadow-md",children:[f.jsxs(pt,{children:[f.jsxs(mt,{className:"flex items-center",children:[f.jsx(qb,{className:"h-5 w-5 mr-2 text-blue-600"}),"Ativos Recentes"]}),f.jsx(pn,{children:"Últimos ativos adicionados ao sistema"})]}),f.jsx(et,{children:r&&r.length>0?f.jsx("div",{className:"space-y-4",children:r.map(a=>f.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[i(a.status),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-gray-900",children:a.name}),f.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[f.jsxs("span",{children:["#",a.code]}),a.location&&f.jsxs(f.Fragment,{children:[f.jsx("span",{children:"•"}),f.jsx(vp,{className:"h-3 w-3"}),f.jsx("span",{children:a.location})]})]})]})]}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center md:space-x-3 space-y-2 md:space-y-0 mt-2 md:mt-0",children:[a.value&&f.jsx("span",{className:"text-sm font-medium text-gray-900",children:qd(a.value)}),n(a.status),f.jsx("span",{className:"text-xs text-gray-500",children:a.acquisition_date?ka(new Date(a.acquisition_date),"dd/MM/yyyy",{locale:_o}):"-"})]})]},a.id))}):f.jsxs("div",{className:"text-center py-8",children:[f.jsx(Ct,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum ativo cadastrado"}),f.jsx("p",{className:"text-gray-600",children:"Comece adicionando seus primeiros ativos ao sistema"})]})})]})]})}function zE(){const[e,t]=C.useState(!1),[r,n]=C.useState(!1),[i,a]=C.useState(!1);return C.useEffect(()=>{const u=()=>{const m=window.innerWidth,g=navigator.userAgent,p=m<768,w=m>=768&&m<=1024,v=m>1024,E=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(g);t(p||E&&!w),n(w),a(v&&!E)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),{isMobile:e,isTablet:r,isDesktop:i,isMobileOrTablet:e||r}}const y0=20;function T5(e){const[t,r]=C.useState([]),[n,i]=C.useState(1),[a,u]=C.useState(!0),[m,g]=C.useState(!1),[p,w]=C.useState(!1),v=C.useCallback(async P=>{let I=Ve.from("assets").select("*").order("created_at",{ascending:!1});e.search&&(I=I.or(`name.ilike.%${e.search}%,code.ilike.%${e.search}%`)),e.statusFilter!=="all"&&(I=I.eq("status",e.statusFilter)),e.locationFilter!=="all"&&(I=I.eq("location",e.locationFilter));const A=(P-1)*y0,S=A+y0-1,{data:j,error:z}=await I.range(A,S);if(z)throw z;return j||[]},[e.search,e.statusFilter,e.locationFilter]),E=C.useCallback(async P=>{const I=P===1;I?g(!0):w(!0);try{const A=await v(P);r(S=>I?A:[...S,...A]),u(A.length===y0)}finally{I&&g(!1),w(!1)}},[v]),_=C.useCallback(()=>{r([]),i(1),u(!0),w(!1)},[]),R=C.useCallback(()=>{if(!a||p)return;const P=n+1;i(P),E(P)},[a,p,n,E]);C.useEffect(()=>{_()},[e.search,e.statusFilter,e.locationFilter,_]),C.useEffect(()=>{E(n)},[n,E]);const{data:N}=Ws({queryKey:["asset-locations"],queryFn:async()=>{const{data:P}=await Ve.from("assets").select("location").not("location","is",null);return[...new Set(P==null?void 0:P.map(A=>A.location).filter(Boolean))]}});return{assets:t,loading:m,loadingMore:p,hasMore:a,currentPage:n,resetFilters:_,loadMore:R,locations:N}}const I5=["Nome","Código","Status","Localização","Valor","Data de Aquisição","Fabricante","Modelo","Cor","Número de Série","Capacidade","Voltagem","Condições","Detentor","Origem","Inalienável","Observações"];function R5(){const[e,t]=C.useState(!1),r=g=>{let p=Ve.from("assets").select("*").order("created_at",{ascending:!1});return g.search&&(p=p.or(`name.ilike.%${g.search}%,code.ilike.%${g.search}%`)),g.statusFilter!=="all"&&(p=p.eq("status",g.statusFilter)),g.locationFilter!=="all"&&(p=p.eq("location",g.locationFilter)),p},n=g=>{if(g==null)return"";const p=String(g);return p.includes(",")?`"${p.replace(/"/g,'""')}"`:p},i=g=>{const p=g.map(w=>[w.name,w.code,w.status,w.location||"",w.value||"",w.acquisition_date||"",w.manufacturer||"",w.model||"",w.color||"",w.serial_number||"",w.capacity||"",w.voltage||"",w.condition||"",w.holder||"",w.origin||"",w.inalienable?"Sim":"Não",w.notes||""].map(n));return[I5.join(","),...p.map(w=>w.join(","))].join(`
`)},a=g=>{const p=new Date,v=new Date(p.getTime()-3*60*60*1e3).toISOString().replace("T","_").slice(0,16).replace(":","")+"h";return`ativos_${g}_${v}.csv`},u=(g,p)=>{const w=new Blob([g],{type:"text/csv;charset=utf-8;"}),v=document.createElement("a"),E=URL.createObjectURL(w);v.setAttribute("href",E),v.setAttribute("download",p),v.style.visibility="hidden",document.body.appendChild(v),v.click(),document.body.removeChild(v)};return{exportLoading:e,exportToCSV:async g=>{t(!0);try{const p=r(g),{data:w,error:v}=await p;if(v||!w||w.length===0)throw new Error("Nenhum ativo encontrado para exportar");const E=i(w),_=a(g.companyName);u(E,_)}finally{t(!1)}}}}function O5(e){const[t,r]=C.useState(!1),n=C.useCallback(()=>{e&&r(e.scrollTop>300)},[e]),i=C.useCallback(()=>{e==null||e.scrollTo({top:0,behavior:"smooth"})},[e]);return C.useEffect(()=>{if(e)return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)},[e,n]),{showScrollToTop:t,scrollToTop:i}}var VE={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(xr,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,u=n.IS_PAPA_WORKER||!1,m={},g=0,p={};function w(L){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(D){var W=z(D);W.chunkSize=parseInt(W.chunkSize),D.step||D.chunk||(W.chunkSize=null),this._handle=new N(W),(this._handle.streamer=this)._config=W}).call(this,L),this.parseChunk=function(D,W){var Q=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<Q){let se=this._config.newline;se||(q=this._config.quoteChar||'"',se=this._handle.guessLineEndings(D,q)),D=[...D.split(se).slice(Q)].join(se)}this.isFirstChunk&&F(this._config.beforeFirstChunk)&&(q=this._config.beforeFirstChunk(D))!==void 0&&(D=q),this.isFirstChunk=!1,this._halted=!1;var Q=this._partialLine+D,q=(this._partialLine="",this._handle.parse(Q,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(D=q.meta.cursor,Q=(this._finished||(this._partialLine=Q.substring(D-this._baseIndex),this._baseIndex=D),q&&q.data&&(this._rowCount+=q.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),u)n.postMessage({results:q,workerId:p.WORKER_ID,finished:Q});else if(F(this._config.chunk)&&!W){if(this._config.chunk(q,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=q=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(q.data),this._completeResults.errors=this._completeResults.errors.concat(q.errors),this._completeResults.meta=q.meta),this._completed||!Q||!F(this._config.complete)||q&&q.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Q||q&&q.meta.paused||this._nextChunk(),q}this._halted=!0},this._sendError=function(D){F(this._config.error)?this._config.error(D):u&&this._config.error&&n.postMessage({workerId:p.WORKER_ID,error:D,finished:!1})}}function v(L){var D;(L=L||{}).chunkSize||(L.chunkSize=p.RemoteChunkSize),w.call(this,L),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(W){this._input=W,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(D=new XMLHttpRequest,this._config.withCredentials&&(D.withCredentials=this._config.withCredentials),a||(D.onload=V(this._chunkLoaded,this),D.onerror=V(this._chunkError,this)),D.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var W,Q=this._config.downloadRequestHeaders;for(W in Q)D.setRequestHeader(W,Q[W])}var q;this._config.chunkSize&&(q=this._start+this._config.chunkSize-1,D.setRequestHeader("Range","bytes="+this._start+"-"+q));try{D.send(this._config.downloadRequestBody)}catch(se){this._chunkError(se.message)}a&&D.status===0&&this._chunkError()}},this._chunkLoaded=function(){D.readyState===4&&(D.status<200||400<=D.status?this._chunkError():(this._start+=this._config.chunkSize||D.responseText.length,this._finished=!this._config.chunkSize||this._start>=(W=>(W=W.getResponseHeader("Content-Range"))!==null?parseInt(W.substring(W.lastIndexOf("/")+1)):-1)(D),this.parseChunk(D.responseText)))},this._chunkError=function(W){W=D.statusText||W,this._sendError(new Error(W))}}function E(L){(L=L||{}).chunkSize||(L.chunkSize=p.LocalChunkSize),w.call(this,L);var D,W,Q=typeof FileReader<"u";this.stream=function(q){this._input=q,W=q.slice||q.webkitSlice||q.mozSlice,Q?((D=new FileReader).onload=V(this._chunkLoaded,this),D.onerror=V(this._chunkError,this)):D=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var q=this._input,se=(this._config.chunkSize&&(se=Math.min(this._start+this._config.chunkSize,this._input.size),q=W.call(q,this._start,se)),D.readAsText(q,this._config.encoding));Q||this._chunkLoaded({target:{result:se}})},this._chunkLoaded=function(q){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(q.target.result)},this._chunkError=function(){this._sendError(D.error)}}function _(L){var D;w.call(this,L=L||{}),this.stream=function(W){return D=W,this._nextChunk()},this._nextChunk=function(){var W,Q;if(!this._finished)return W=this._config.chunkSize,D=W?(Q=D.substring(0,W),D.substring(W)):(Q=D,""),this._finished=!D,this.parseChunk(Q)}}function R(L){w.call(this,L=L||{});var D=[],W=!0,Q=!1;this.pause=function(){w.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){w.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(q){this._input=q,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){Q&&D.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),D.length?this.parseChunk(D.shift()):W=!0},this._streamData=V(function(q){try{D.push(typeof q=="string"?q:q.toString(this._config.encoding)),W&&(W=!1,this._checkIsFinished(),this.parseChunk(D.shift()))}catch(se){this._streamError(se)}},this),this._streamError=V(function(q){this._streamCleanUp(),this._sendError(q)},this),this._streamEnd=V(function(){this._streamCleanUp(),Q=!0,this._streamData("")},this),this._streamCleanUp=V(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function N(L){var D,W,Q,q,se=Math.pow(2,53),ne=-se,X=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,fe=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,re=this,Z=0,te=0,he=!1,ue=!1,ge=[],we={data:[],errors:[],meta:{}};function ke(xe){return L.skipEmptyLines==="greedy"?xe.join("").trim()==="":xe.length===1&&xe[0].length===0}function ot(){if(we&&Q&&(Ee("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),Q=!1),L.skipEmptyLines&&(we.data=we.data.filter(function(Ie){return!ke(Ie)})),de()){let Ie=function(Ae,$e){F(L.transformHeader)&&(Ae=L.transformHeader(Ae,$e)),ge.push(Ae)};var pe=Ie;if(we)if(Array.isArray(we.data[0])){for(var xe=0;de()&&xe<we.data.length;xe++)we.data[xe].forEach(Ie);we.data.splice(0,1)}else we.data.forEach(Ie)}function je(Ie,Ae){for(var $e=L.header?{}:[],We=0;We<Ie.length;We++){var Ue=We,Qe=Ie[We],Qe=((Te,_e)=>(Lt=>(L.dynamicTypingFunction&&L.dynamicTyping[Lt]===void 0&&(L.dynamicTyping[Lt]=L.dynamicTypingFunction(Lt)),(L.dynamicTyping[Lt]||L.dynamicTyping)===!0))(Te)?_e==="true"||_e==="TRUE"||_e!=="false"&&_e!=="FALSE"&&((Lt=>{if(X.test(Lt)&&(Lt=parseFloat(Lt),ne<Lt&&Lt<se))return 1})(_e)?parseFloat(_e):fe.test(_e)?new Date(_e):_e===""?null:_e):_e)(Ue=L.header?We>=ge.length?"__parsed_extra":ge[We]:Ue,Qe=L.transform?L.transform(Qe,Ue):Qe);Ue==="__parsed_extra"?($e[Ue]=$e[Ue]||[],$e[Ue].push(Qe)):$e[Ue]=Qe}return L.header&&(We>ge.length?Ee("FieldMismatch","TooManyFields","Too many fields: expected "+ge.length+" fields but parsed "+We,te+Ae):We<ge.length&&Ee("FieldMismatch","TooFewFields","Too few fields: expected "+ge.length+" fields but parsed "+We,te+Ae)),$e}var Pe;we&&(L.header||L.dynamicTyping||L.transform)&&(Pe=1,!we.data.length||Array.isArray(we.data[0])?(we.data=we.data.map(je),Pe=we.data.length):we.data=je(we.data,0),L.header&&we.meta&&(we.meta.fields=ge),te+=Pe)}function de(){return L.header&&ge.length===0}function Ee(xe,je,Pe,pe){xe={type:xe,code:je,message:Pe},pe!==void 0&&(xe.row=pe),we.errors.push(xe)}F(L.step)&&(q=L.step,L.step=function(xe){we=xe,de()?ot():(ot(),we.data.length!==0&&(Z+=xe.data.length,L.preview&&Z>L.preview?W.abort():(we.data=we.data[0],q(we,re))))}),this.parse=function(xe,je,Pe){var pe=L.quoteChar||'"',pe=(L.newline||(L.newline=this.guessLineEndings(xe,pe)),Q=!1,L.delimiter?F(L.delimiter)&&(L.delimiter=L.delimiter(xe),we.meta.delimiter=L.delimiter):((pe=((Ie,Ae,$e,We,Ue)=>{var Qe,Te,_e,Lt;Ue=Ue||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var ve=0;ve<Ue.length;ve++){for(var Lr,Ys=Ue[ve],Nt=0,Gr=0,gt=0,vr=(_e=void 0,new I({comments:We,delimiter:Ys,newline:Ae,preview:10}).parse(Ie)),fr=0;fr<vr.data.length;fr++)$e&&ke(vr.data[fr])?gt++:(Lr=vr.data[fr].length,Gr+=Lr,_e===void 0?_e=Lr:0<Lr&&(Nt+=Math.abs(Lr-_e),_e=Lr));0<vr.data.length&&(Gr/=vr.data.length-gt),(Te===void 0||Nt<=Te)&&(Lt===void 0||Lt<Gr)&&1.99<Gr&&(Te=Nt,Qe=Ys,Lt=Gr)}return{successful:!!(L.delimiter=Qe),bestDelimiter:Qe}})(xe,L.newline,L.skipEmptyLines,L.comments,L.delimitersToGuess)).successful?L.delimiter=pe.bestDelimiter:(Q=!0,L.delimiter=p.DefaultDelimiter),we.meta.delimiter=L.delimiter),z(L));return L.preview&&L.header&&pe.preview++,D=xe,W=new I(pe),we=W.parse(D,je,Pe),ot(),he?{meta:{paused:!0}}:we||{meta:{paused:!1}}},this.paused=function(){return he},this.pause=function(){he=!0,W.abort(),D=F(L.chunk)?"":D.substring(W.getCharIndex())},this.resume=function(){re.streamer._halted?(he=!1,re.streamer.parseChunk(D,!0)):setTimeout(re.resume,3)},this.aborted=function(){return ue},this.abort=function(){ue=!0,W.abort(),we.meta.aborted=!0,F(L.complete)&&L.complete(we),D=""},this.guessLineEndings=function(Ie,pe){Ie=Ie.substring(0,1048576);var pe=new RegExp(P(pe)+"([^]*?)"+P(pe),"gm"),Pe=(Ie=Ie.replace(pe,"")).split("\r"),pe=Ie.split(`
`),Ie=1<pe.length&&pe[0].length<Pe[0].length;if(Pe.length===1||Ie)return`
`;for(var Ae=0,$e=0;$e<Pe.length;$e++)Pe[$e][0]===`
`&&Ae++;return Ae>=Pe.length/2?`\r
`:"\r"}}function P(L){return L.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function I(L){var D=(L=L||{}).delimiter,W=L.newline,Q=L.comments,q=L.step,se=L.preview,ne=L.fastMode,X=null,fe=!1,re=L.quoteChar==null?'"':L.quoteChar,Z=re;if(L.escapeChar!==void 0&&(Z=L.escapeChar),(typeof D!="string"||-1<p.BAD_DELIMITERS.indexOf(D))&&(D=","),Q===D)throw new Error("Comment character same as delimiter");Q===!0?Q="#":(typeof Q!="string"||-1<p.BAD_DELIMITERS.indexOf(Q))&&(Q=!1),W!==`
`&&W!=="\r"&&W!==`\r
`&&(W=`
`);var te=0,he=!1;this.parse=function(ue,ge,we){if(typeof ue!="string")throw new Error("Input must be a string");var ke=ue.length,ot=D.length,de=W.length,Ee=Q.length,xe=F(q),je=[],Pe=[],pe=[],Ie=te=0;if(!ue)return Nt();if(ne||ne!==!1&&ue.indexOf(re)===-1){for(var Ae=ue.split(W),$e=0;$e<Ae.length;$e++){if(pe=Ae[$e],te+=pe.length,$e!==Ae.length-1)te+=W.length;else if(we)return Nt();if(!Q||pe.substring(0,Ee)!==Q){if(xe){if(je=[],Lt(pe.split(D)),Gr(),he)return Nt()}else Lt(pe.split(D));if(se&&se<=$e)return je=je.slice(0,se),Nt(!0)}}return Nt()}for(var We=ue.indexOf(D,te),Ue=ue.indexOf(W,te),Qe=new RegExp(P(Z)+P(re),"g"),Te=ue.indexOf(re,te);;)if(ue[te]===re)for(Te=te,te++;;){if((Te=ue.indexOf(re,Te+1))===-1)return we||Pe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:je.length,index:te}),Lr();if(Te===ke-1)return Lr(ue.substring(te,Te).replace(Qe,re));if(re===Z&&ue[Te+1]===Z)Te++;else if(re===Z||Te===0||ue[Te-1]!==Z){We!==-1&&We<Te+1&&(We=ue.indexOf(D,Te+1));var _e=ve((Ue=Ue!==-1&&Ue<Te+1?ue.indexOf(W,Te+1):Ue)===-1?We:Math.min(We,Ue));if(ue.substr(Te+1+_e,ot)===D){pe.push(ue.substring(te,Te).replace(Qe,re)),ue[te=Te+1+_e+ot]!==re&&(Te=ue.indexOf(re,te)),We=ue.indexOf(D,te),Ue=ue.indexOf(W,te);break}if(_e=ve(Ue),ue.substring(Te+1+_e,Te+1+_e+de)===W){if(pe.push(ue.substring(te,Te).replace(Qe,re)),Ys(Te+1+_e+de),We=ue.indexOf(D,te),Te=ue.indexOf(re,te),xe&&(Gr(),he))return Nt();if(se&&je.length>=se)return Nt(!0);break}Pe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:je.length,index:te}),Te++}}else if(Q&&pe.length===0&&ue.substring(te,te+Ee)===Q){if(Ue===-1)return Nt();te=Ue+de,Ue=ue.indexOf(W,te),We=ue.indexOf(D,te)}else if(We!==-1&&(We<Ue||Ue===-1))pe.push(ue.substring(te,We)),te=We+ot,We=ue.indexOf(D,te);else{if(Ue===-1)break;if(pe.push(ue.substring(te,Ue)),Ys(Ue+de),xe&&(Gr(),he))return Nt();if(se&&je.length>=se)return Nt(!0)}return Lr();function Lt(gt){je.push(gt),Ie=te}function ve(gt){var vr=0;return vr=gt!==-1&&(gt=ue.substring(Te+1,gt))&&gt.trim()===""?gt.length:vr}function Lr(gt){return we||(gt===void 0&&(gt=ue.substring(te)),pe.push(gt),te=ke,Lt(pe),xe&&Gr()),Nt()}function Ys(gt){te=gt,Lt(pe),pe=[],Ue=ue.indexOf(W,te)}function Nt(gt){if(L.header&&!ge&&je.length&&!fe){var vr=je[0],fr=Object.create(null),nr=new Set(vr);let bl=!1;for(let Mn=0;Mn<vr.length;Mn++){let bn=vr[Mn];if(fr[bn=F(L.transformHeader)?L.transformHeader(bn,Mn):bn]){let Tt,me=fr[bn];for(;Tt=bn+"_"+me,me++,nr.has(Tt););nr.add(Tt),vr[Mn]=Tt,fr[bn]++,bl=!0,(X=X===null?{}:X)[Tt]=bn}else fr[bn]=1,vr[Mn]=bn;nr.add(bn)}bl&&console.warn("Duplicate headers found and renamed."),fe=!0}return{data:je,errors:Pe,meta:{delimiter:D,linebreak:W,aborted:he,truncated:!!gt,cursor:Ie+(ge||0),renamedHeaders:X}}}function Gr(){q(Nt()),je=[],Pe=[]}},this.abort=function(){he=!0},this.getCharIndex=function(){return te}}function A(L){var D=L.data,W=m[D.workerId],Q=!1;if(D.error)W.userError(D.error,D.file);else if(D.results&&D.results.data){var q={abort:function(){Q=!0,S(D.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:j,resume:j};if(F(W.userStep)){for(var se=0;se<D.results.data.length&&(W.userStep({data:D.results.data[se],errors:D.results.errors,meta:D.results.meta},q),!Q);se++);delete D.results}else F(W.userChunk)&&(W.userChunk(D.results,q,D.file),delete D.results)}D.finished&&!Q&&S(D.workerId,D.results)}function S(L,D){var W=m[L];F(W.userComplete)&&W.userComplete(D),W.terminate(),delete m[L]}function j(){throw new Error("Not implemented.")}function z(L){if(typeof L!="object"||L===null)return L;var D,W=Array.isArray(L)?[]:{};for(D in L)W[D]=z(L[D]);return W}function V(L,D){return function(){L.apply(D,arguments)}}function F(L){return typeof L=="function"}return p.parse=function(L,D){var W=(D=D||{}).dynamicTyping||!1;if(F(W)&&(D.dynamicTypingFunction=W,W={}),D.dynamicTyping=W,D.transform=!!F(D.transform)&&D.transform,!D.worker||!p.WORKERS_SUPPORTED)return W=null,p.NODE_STREAM_INPUT,typeof L=="string"?(L=(Q=>Q.charCodeAt(0)!==65279?Q:Q.slice(1))(L),W=new(D.download?v:_)(D)):L.readable===!0&&F(L.read)&&F(L.on)?W=new R(D):(n.File&&L instanceof File||L instanceof Object)&&(W=new E(D)),W.stream(L);(W=(()=>{var Q;return!!p.WORKERS_SUPPORTED&&(Q=(()=>{var q=n.URL||n.webkitURL||null,se=r.toString();return p.BLOB_URL||(p.BLOB_URL=q.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",se,")();"],{type:"text/javascript"})))})(),(Q=new n.Worker(Q)).onmessage=A,Q.id=g++,m[Q.id]=Q)})()).userStep=D.step,W.userChunk=D.chunk,W.userComplete=D.complete,W.userError=D.error,D.step=F(D.step),D.chunk=F(D.chunk),D.complete=F(D.complete),D.error=F(D.error),delete D.worker,W.postMessage({input:L,config:D,workerId:W.id})},p.unparse=function(L,D){var W=!1,Q=!0,q=",",se=`\r
`,ne='"',X=ne+ne,fe=!1,re=null,Z=!1,te=((()=>{if(typeof D=="object"){if(typeof D.delimiter!="string"||p.BAD_DELIMITERS.filter(function(ge){return D.delimiter.indexOf(ge)!==-1}).length||(q=D.delimiter),typeof D.quotes!="boolean"&&typeof D.quotes!="function"&&!Array.isArray(D.quotes)||(W=D.quotes),typeof D.skipEmptyLines!="boolean"&&typeof D.skipEmptyLines!="string"||(fe=D.skipEmptyLines),typeof D.newline=="string"&&(se=D.newline),typeof D.quoteChar=="string"&&(ne=D.quoteChar),typeof D.header=="boolean"&&(Q=D.header),Array.isArray(D.columns)){if(D.columns.length===0)throw new Error("Option columns is empty");re=D.columns}D.escapeChar!==void 0&&(X=D.escapeChar+ne),D.escapeFormulae instanceof RegExp?Z=D.escapeFormulae:typeof D.escapeFormulae=="boolean"&&D.escapeFormulae&&(Z=/^[=+\-@\t\r].*$/)}})(),new RegExp(P(ne),"g"));if(typeof L=="string"&&(L=JSON.parse(L)),Array.isArray(L)){if(!L.length||Array.isArray(L[0]))return he(null,L,fe);if(typeof L[0]=="object")return he(re||Object.keys(L[0]),L,fe)}else if(typeof L=="object")return typeof L.data=="string"&&(L.data=JSON.parse(L.data)),Array.isArray(L.data)&&(L.fields||(L.fields=L.meta&&L.meta.fields||re),L.fields||(L.fields=Array.isArray(L.data[0])?L.fields:typeof L.data[0]=="object"?Object.keys(L.data[0]):[]),Array.isArray(L.data[0])||typeof L.data[0]=="object"||(L.data=[L.data])),he(L.fields||[],L.data||[],fe);throw new Error("Unable to serialize unrecognized input");function he(ge,we,ke){var ot="",de=(typeof ge=="string"&&(ge=JSON.parse(ge)),typeof we=="string"&&(we=JSON.parse(we)),Array.isArray(ge)&&0<ge.length),Ee=!Array.isArray(we[0]);if(de&&Q){for(var xe=0;xe<ge.length;xe++)0<xe&&(ot+=q),ot+=ue(ge[xe],xe);0<we.length&&(ot+=se)}for(var je=0;je<we.length;je++){var Pe=(de?ge:we[je]).length,pe=!1,Ie=de?Object.keys(we[je]).length===0:we[je].length===0;if(ke&&!de&&(pe=ke==="greedy"?we[je].join("").trim()==="":we[je].length===1&&we[je][0].length===0),ke==="greedy"&&de){for(var Ae=[],$e=0;$e<Pe;$e++){var We=Ee?ge[$e]:$e;Ae.push(we[je][We])}pe=Ae.join("").trim()===""}if(!pe){for(var Ue=0;Ue<Pe;Ue++){0<Ue&&!Ie&&(ot+=q);var Qe=de&&Ee?ge[Ue]:Ue;ot+=ue(we[je][Qe],Ue)}je<we.length-1&&(!ke||0<Pe&&!Ie)&&(ot+=se)}}return ot}function ue(ge,we){var ke,ot;return ge==null?"":ge.constructor===Date?JSON.stringify(ge).slice(1,25):(ot=!1,Z&&typeof ge=="string"&&Z.test(ge)&&(ge="'"+ge,ot=!0),ke=ge.toString().replace(te,X),(ot=ot||W===!0||typeof W=="function"&&W(ge,we)||Array.isArray(W)&&W[we]||((de,Ee)=>{for(var xe=0;xe<Ee.length;xe++)if(-1<de.indexOf(Ee[xe]))return!0;return!1})(ke,p.BAD_DELIMITERS)||-1<ke.indexOf(q)||ke.charAt(0)===" "||ke.charAt(ke.length-1)===" ")?ne+ke+ne:ke)}},p.RECORD_SEP="",p.UNIT_SEP="",p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!a&&!!n.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=I,p.ParserHandle=N,p.NetworkStreamer=v,p.FileStreamer=E,p.StringStreamer=_,p.ReadableStreamStreamer=R,n.jQuery&&((i=n.jQuery).fn.parse=function(L){var D=L.config||{},W=[];return this.each(function(se){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var ne=0;ne<this.files.length;ne++)W.push({file:this.files[ne],inputElem:this,instanceConfig:i.extend({},D)})}),Q(),this;function Q(){if(W.length===0)F(L.complete)&&L.complete();else{var se,ne,X,fe,re=W[0];if(F(L.before)){var Z=L.before(re.file,re.inputElem);if(typeof Z=="object"){if(Z.action==="abort")return se="AbortError",ne=re.file,X=re.inputElem,fe=Z.reason,void(F(L.error)&&L.error({name:se},ne,X,fe));if(Z.action==="skip")return void q();typeof Z.config=="object"&&(re.instanceConfig=i.extend(re.instanceConfig,Z.config))}else if(Z==="skip")return void q()}var te=re.instanceConfig.complete;re.instanceConfig.complete=function(he){F(te)&&te(he,re.file,re.inputElem),q()},p.parse(re.file,re.instanceConfig)}}function q(){W.splice(0,1),Q()}}),u&&(n.onmessage=function(L){L=L.data,p.WORKER_ID===void 0&&L&&(p.WORKER_ID=L.workerId),typeof L.input=="string"?n.postMessage({workerId:p.WORKER_ID,results:p.parse(L.input,L.config),finished:!0}):(n.File&&L.input instanceof File||L.input instanceof Object)&&(L=p.parse(L.input,L.config))&&n.postMessage({workerId:p.WORKER_ID,results:L,finished:!0})}),(v.prototype=Object.create(w.prototype)).constructor=v,(E.prototype=Object.create(w.prototype)).constructor=E,(_.prototype=Object.create(_.prototype)).constructor=_,(R.prototype=Object.create(w.prototype)).constructor=R,p})})(VE);var k5=VE.exports;const P5=mf(k5),j5=["top","right","bottom","left"],zi=Math.min,fn=Math.max,tf=Math.round,Ku=Math.floor,Vi=e=>({x:e,y:e}),D5={left:"right",right:"left",bottom:"top",top:"bottom"},M5={start:"end",end:"start"};function Y1(e,t,r){return fn(e,zi(t,r))}function Hs(e,t){return typeof e=="function"?e(t):e}function $s(e){return e.split("-")[0]}function wl(e){return e.split("-")[1]}function Wp(e){return e==="x"?"y":"x"}function Hp(e){return e==="y"?"height":"width"}function Wi(e){return["top","bottom"].includes($s(e))?"y":"x"}function $p(e){return Wp(Wi(e))}function L5(e,t,r){r===void 0&&(r=!1);const n=wl(e),i=$p(e),a=Hp(i);let u=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(u=rf(u)),[u,rf(u)]}function F5(e){const t=rf(e);return[K1(e),t,K1(t)]}function K1(e){return e.replace(/start|end/g,t=>M5[t])}function B5(e,t,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],u=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?a:u;default:return[]}}function U5(e,t,r,n){const i=wl(e);let a=B5($s(e),r==="start",n);return i&&(a=a.map(u=>u+"-"+i),t&&(a=a.concat(a.map(K1)))),a}function rf(e){return e.replace(/left|right|bottom|top/g,t=>D5[t])}function z5(e){return{top:0,right:0,bottom:0,left:0,...e}}function WE(e){return typeof e!="number"?z5(e):{top:e,right:e,bottom:e,left:e}}function nf(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function Jw(e,t,r){let{reference:n,floating:i}=e;const a=Wi(t),u=$p(t),m=Hp(u),g=$s(t),p=a==="y",w=n.x+n.width/2-i.width/2,v=n.y+n.height/2-i.height/2,E=n[m]/2-i[m]/2;let _;switch(g){case"top":_={x:w,y:n.y-i.height};break;case"bottom":_={x:w,y:n.y+n.height};break;case"right":_={x:n.x+n.width,y:v};break;case"left":_={x:n.x-i.width,y:v};break;default:_={x:n.x,y:n.y}}switch(wl(t)){case"start":_[u]-=E*(r&&p?-1:1);break;case"end":_[u]+=E*(r&&p?-1:1);break}return _}const V5=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:u}=r,m=a.filter(Boolean),g=await(u.isRTL==null?void 0:u.isRTL(t));let p=await u.getElementRects({reference:e,floating:t,strategy:i}),{x:w,y:v}=Jw(p,n,g),E=n,_={},R=0;for(let N=0;N<m.length;N++){const{name:P,fn:I}=m[N],{x:A,y:S,data:j,reset:z}=await I({x:w,y:v,initialPlacement:n,placement:E,strategy:i,middlewareData:_,rects:p,platform:u,elements:{reference:e,floating:t}});w=A??w,v=S??v,_={..._,[P]:{..._[P],...j}},z&&R<=50&&(R++,typeof z=="object"&&(z.placement&&(E=z.placement),z.rects&&(p=z.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:i}):z.rects),{x:w,y:v}=Jw(p,E,g)),N=-1)}return{x:w,y:v,placement:E,strategy:i,middlewareData:_}};async function Dc(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:u,elements:m,strategy:g}=e,{boundary:p="clippingAncestors",rootBoundary:w="viewport",elementContext:v="floating",altBoundary:E=!1,padding:_=0}=Hs(t,e),R=WE(_),P=m[E?v==="floating"?"reference":"floating":v],I=nf(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(P)))==null||r?P:P.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(m.floating)),boundary:p,rootBoundary:w,strategy:g})),A=v==="floating"?{x:n,y:i,width:u.floating.width,height:u.floating.height}:u.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(m.floating)),j=await(a.isElement==null?void 0:a.isElement(S))?await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1}:{x:1,y:1},z=nf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:A,offsetParent:S,strategy:g}):A);return{top:(I.top-z.top+R.top)/j.y,bottom:(z.bottom-I.bottom+R.bottom)/j.y,left:(I.left-z.left+R.left)/j.x,right:(z.right-I.right+R.right)/j.x}}const W5=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:u,elements:m,middlewareData:g}=t,{element:p,padding:w=0}=Hs(e,t)||{};if(p==null)return{};const v=WE(w),E={x:r,y:n},_=$p(i),R=Hp(_),N=await u.getDimensions(p),P=_==="y",I=P?"top":"left",A=P?"bottom":"right",S=P?"clientHeight":"clientWidth",j=a.reference[R]+a.reference[_]-E[_]-a.floating[R],z=E[_]-a.reference[_],V=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let F=V?V[S]:0;(!F||!await(u.isElement==null?void 0:u.isElement(V)))&&(F=m.floating[S]||a.floating[R]);const L=j/2-z/2,D=F/2-N[R]/2-1,W=zi(v[I],D),Q=zi(v[A],D),q=W,se=F-N[R]-Q,ne=F/2-N[R]/2+L,X=Y1(q,ne,se),fe=!g.arrow&&wl(i)!=null&&ne!==X&&a.reference[R]/2-(ne<q?W:Q)-N[R]/2<0,re=fe?ne<q?ne-q:ne-se:0;return{[_]:E[_]+re,data:{[_]:X,centerOffset:ne-X-re,...fe&&{alignmentOffset:re}},reset:fe}}}),H5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:u,initialPlacement:m,platform:g,elements:p}=t,{mainAxis:w=!0,crossAxis:v=!0,fallbackPlacements:E,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:N=!0,...P}=Hs(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const I=$s(i),A=Wi(m),S=$s(m)===m,j=await(g.isRTL==null?void 0:g.isRTL(p.floating)),z=E||(S||!N?[rf(m)]:F5(m)),V=R!=="none";!E&&V&&z.push(...U5(m,N,R,j));const F=[m,...z],L=await Dc(t,P),D=[];let W=((n=a.flip)==null?void 0:n.overflows)||[];if(w&&D.push(L[I]),v){const ne=L5(i,u,j);D.push(L[ne[0]],L[ne[1]])}if(W=[...W,{placement:i,overflows:D}],!D.every(ne=>ne<=0)){var Q,q;const ne=(((Q=a.flip)==null?void 0:Q.index)||0)+1,X=F[ne];if(X)return{data:{index:ne,overflows:W},reset:{placement:X}};let fe=(q=W.filter(re=>re.overflows[0]<=0).sort((re,Z)=>re.overflows[1]-Z.overflows[1])[0])==null?void 0:q.placement;if(!fe)switch(_){case"bestFit":{var se;const re=(se=W.filter(Z=>{if(V){const te=Wi(Z.placement);return te===A||te==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(te=>te>0).reduce((te,he)=>te+he,0)]).sort((Z,te)=>Z[1]-te[1])[0])==null?void 0:se[0];re&&(fe=re);break}case"initialPlacement":fe=m;break}if(i!==fe)return{reset:{placement:fe}}}return{}}}};function ey(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ty(e){return j5.some(t=>e[t]>=0)}const $5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Hs(e,t);switch(n){case"referenceHidden":{const a=await Dc(t,{...i,elementContext:"reference"}),u=ey(a,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:ty(u)}}}case"escaped":{const a=await Dc(t,{...i,altBoundary:!0}),u=ey(a,r.floating);return{data:{escapedOffsets:u,escaped:ty(u)}}}default:return{}}}}};async function G5(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),u=$s(r),m=wl(r),g=Wi(r)==="y",p=["left","top"].includes(u)?-1:1,w=a&&g?-1:1,v=Hs(t,e);let{mainAxis:E,crossAxis:_,alignmentAxis:R}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return m&&typeof R=="number"&&(_=m==="end"?R*-1:R),g?{x:_*w,y:E*p}:{x:E*p,y:_*w}}const q5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:u,middlewareData:m}=t,g=await G5(t,e);return u===((r=m.offset)==null?void 0:r.placement)&&(n=m.arrow)!=null&&n.alignmentOffset?{}:{x:i+g.x,y:a+g.y,data:{...g,placement:u}}}}},X5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:u=!1,limiter:m={fn:P=>{let{x:I,y:A}=P;return{x:I,y:A}}},...g}=Hs(e,t),p={x:r,y:n},w=await Dc(t,g),v=Wi($s(i)),E=Wp(v);let _=p[E],R=p[v];if(a){const P=E==="y"?"top":"left",I=E==="y"?"bottom":"right",A=_+w[P],S=_-w[I];_=Y1(A,_,S)}if(u){const P=v==="y"?"top":"left",I=v==="y"?"bottom":"right",A=R+w[P],S=R-w[I];R=Y1(A,R,S)}const N=m.fn({...t,[E]:_,[v]:R});return{...N,data:{x:N.x-r,y:N.y-n,enabled:{[E]:a,[v]:u}}}}}},Y5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:u}=t,{offset:m=0,mainAxis:g=!0,crossAxis:p=!0}=Hs(e,t),w={x:r,y:n},v=Wi(i),E=Wp(v);let _=w[E],R=w[v];const N=Hs(m,t),P=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(g){const S=E==="y"?"height":"width",j=a.reference[E]-a.floating[S]+P.mainAxis,z=a.reference[E]+a.reference[S]-P.mainAxis;_<j?_=j:_>z&&(_=z)}if(p){var I,A;const S=E==="y"?"width":"height",j=["top","left"].includes($s(i)),z=a.reference[v]-a.floating[S]+(j&&((I=u.offset)==null?void 0:I[v])||0)+(j?0:P.crossAxis),V=a.reference[v]+a.reference[S]+(j?0:((A=u.offset)==null?void 0:A[v])||0)-(j?P.crossAxis:0);R<z?R=z:R>V&&(R=V)}return{[E]:_,[v]:R}}}},K5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:u,elements:m}=t,{apply:g=()=>{},...p}=Hs(e,t),w=await Dc(t,p),v=$s(i),E=wl(i),_=Wi(i)==="y",{width:R,height:N}=a.floating;let P,I;v==="top"||v==="bottom"?(P=v,I=E===(await(u.isRTL==null?void 0:u.isRTL(m.floating))?"start":"end")?"left":"right"):(I=v,P=E==="end"?"top":"bottom");const A=N-w.top-w.bottom,S=R-w.left-w.right,j=zi(N-w[P],A),z=zi(R-w[I],S),V=!t.middlewareData.shift;let F=j,L=z;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(L=S),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(F=A),V&&!E){const W=fn(w.left,0),Q=fn(w.right,0),q=fn(w.top,0),se=fn(w.bottom,0);_?L=R-2*(W!==0||Q!==0?W+Q:fn(w.left,w.right)):F=N-2*(q!==0||se!==0?q+se:fn(w.top,w.bottom))}await g({...t,availableWidth:L,availableHeight:F});const D=await u.getDimensions(m.floating);return R!==D.width||N!==D.height?{reset:{rects:!0}}:{}}}};function Qf(){return typeof window<"u"}function yl(e){return HE(e)?(e.nodeName||"").toLowerCase():"#document"}function xn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function As(e){var t;return(t=(HE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function HE(e){return Qf()?e instanceof Node||e instanceof xn(e).Node:!1}function Qn(e){return Qf()?e instanceof Element||e instanceof xn(e).Element:!1}function Cs(e){return Qf()?e instanceof HTMLElement||e instanceof xn(e).HTMLElement:!1}function ry(e){return!Qf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof xn(e).ShadowRoot}function lu(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Zn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function Q5(e){return["table","td","th"].includes(yl(e))}function Zf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Gp(e){const t=qp(),r=Qn(e)?Zn(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Z5(e){let t=Hi(e);for(;Cs(t)&&!sl(t);){if(Gp(t))return t;if(Zf(t))return null;t=Hi(t)}return null}function qp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function sl(e){return["html","body","#document"].includes(yl(e))}function Zn(e){return xn(e).getComputedStyle(e)}function Jf(e){return Qn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Hi(e){if(yl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ry(e)&&e.host||As(e);return ry(t)?t.host:t}function $E(e){const t=Hi(e);return sl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Cs(t)&&lu(t)?t:$E(t)}function Mc(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=$E(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),u=xn(i);if(a){const m=Q1(u);return t.concat(u,u.visualViewport||[],lu(i)?i:[],m&&r?Mc(m):[])}return t.concat(i,Mc(i,[],r))}function Q1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function GE(e){const t=Zn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Cs(e),a=i?e.offsetWidth:r,u=i?e.offsetHeight:n,m=tf(r)!==a||tf(n)!==u;return m&&(r=a,n=u),{width:r,height:n,$:m}}function Xp(e){return Qn(e)?e:e.contextElement}function Pa(e){const t=Xp(e);if(!Cs(t))return Vi(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=GE(t);let u=(a?tf(r.width):r.width)/n,m=(a?tf(r.height):r.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!m||!Number.isFinite(m))&&(m=1),{x:u,y:m}}const J5=Vi(0);function qE(e){const t=xn(e);return!qp()||!t.visualViewport?J5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ej(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==xn(e)?!1:t}function Lo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=Xp(e);let u=Vi(1);t&&(n?Qn(n)&&(u=Pa(n)):u=Pa(e));const m=ej(a,r,n)?qE(a):Vi(0);let g=(i.left+m.x)/u.x,p=(i.top+m.y)/u.y,w=i.width/u.x,v=i.height/u.y;if(a){const E=xn(a),_=n&&Qn(n)?xn(n):n;let R=E,N=Q1(R);for(;N&&n&&_!==R;){const P=Pa(N),I=N.getBoundingClientRect(),A=Zn(N),S=I.left+(N.clientLeft+parseFloat(A.paddingLeft))*P.x,j=I.top+(N.clientTop+parseFloat(A.paddingTop))*P.y;g*=P.x,p*=P.y,w*=P.x,v*=P.y,g+=S,p+=j,R=xn(N),N=Q1(R)}}return nf({width:w,height:v,x:g,y:p})}function tj(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",u=As(n),m=t?Zf(t.floating):!1;if(n===u||m&&a)return r;let g={scrollLeft:0,scrollTop:0},p=Vi(1);const w=Vi(0),v=Cs(n);if((v||!v&&!a)&&((yl(n)!=="body"||lu(u))&&(g=Jf(n)),Cs(n))){const E=Lo(n);p=Pa(n),w.x=E.x+n.clientLeft,w.y=E.y+n.clientTop}return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-g.scrollLeft*p.x+w.x,y:r.y*p.y-g.scrollTop*p.y+w.y}}function rj(e){return Array.from(e.getClientRects())}function Z1(e,t){const r=Jf(e).scrollLeft;return t?t.left+r:Lo(As(e)).left+r}function nj(e){const t=As(e),r=Jf(e),n=e.ownerDocument.body,i=fn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=fn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let u=-r.scrollLeft+Z1(e);const m=-r.scrollTop;return Zn(n).direction==="rtl"&&(u+=fn(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:u,y:m}}function sj(e,t){const r=xn(e),n=As(e),i=r.visualViewport;let a=n.clientWidth,u=n.clientHeight,m=0,g=0;if(i){a=i.width,u=i.height;const p=qp();(!p||p&&t==="fixed")&&(m=i.offsetLeft,g=i.offsetTop)}return{width:a,height:u,x:m,y:g}}function ij(e,t){const r=Lo(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=Cs(e)?Pa(e):Vi(1),u=e.clientWidth*a.x,m=e.clientHeight*a.y,g=i*a.x,p=n*a.y;return{width:u,height:m,x:g,y:p}}function ny(e,t,r){let n;if(t==="viewport")n=sj(e,r);else if(t==="document")n=nj(As(e));else if(Qn(t))n=ij(t,r);else{const i=qE(e);n={...t,x:t.x-i.x,y:t.y-i.y}}return nf(n)}function XE(e,t){const r=Hi(e);return r===t||!Qn(r)||sl(r)?!1:Zn(r).position==="fixed"||XE(r,t)}function oj(e,t){const r=t.get(e);if(r)return r;let n=Mc(e,[],!1).filter(m=>Qn(m)&&yl(m)!=="body"),i=null;const a=Zn(e).position==="fixed";let u=a?Hi(e):e;for(;Qn(u)&&!sl(u);){const m=Zn(u),g=Gp(u);!g&&m.position==="fixed"&&(i=null),(a?!g&&!i:!g&&m.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||lu(u)&&!g&&XE(e,u))?n=n.filter(w=>w!==u):i=m,u=Hi(u)}return t.set(e,n),n}function aj(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const u=[...r==="clippingAncestors"?Zf(t)?[]:oj(t,this._c):[].concat(r),n],m=u[0],g=u.reduce((p,w)=>{const v=ny(t,w,i);return p.top=fn(v.top,p.top),p.right=zi(v.right,p.right),p.bottom=zi(v.bottom,p.bottom),p.left=fn(v.left,p.left),p},ny(t,m,i));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function lj(e){const{width:t,height:r}=GE(e);return{width:t,height:r}}function cj(e,t,r){const n=Cs(t),i=As(t),a=r==="fixed",u=Lo(e,!0,a,t);let m={scrollLeft:0,scrollTop:0};const g=Vi(0);if(n||!n&&!a)if((yl(t)!=="body"||lu(i))&&(m=Jf(t)),n){const _=Lo(t,!0,a,t);g.x=_.x+t.clientLeft,g.y=_.y+t.clientTop}else i&&(g.x=Z1(i));let p=0,w=0;if(i&&!n&&!a){const _=i.getBoundingClientRect();w=_.top+m.scrollTop,p=_.left+m.scrollLeft-Z1(i,_)}const v=u.left+m.scrollLeft-g.x-p,E=u.top+m.scrollTop-g.y-w;return{x:v,y:E,width:u.width,height:u.height}}function v0(e){return Zn(e).position==="static"}function sy(e,t){if(!Cs(e)||Zn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return As(e)===r&&(r=r.ownerDocument.body),r}function YE(e,t){const r=xn(e);if(Zf(e))return r;if(!Cs(e)){let i=Hi(e);for(;i&&!sl(i);){if(Qn(i)&&!v0(i))return i;i=Hi(i)}return r}let n=sy(e,t);for(;n&&Q5(n)&&v0(n);)n=sy(n,t);return n&&sl(n)&&v0(n)&&!Gp(n)?r:n||Z5(e)||r}const uj=async function(e){const t=this.getOffsetParent||YE,r=this.getDimensions,n=await r(e.floating);return{reference:cj(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function dj(e){return Zn(e).direction==="rtl"}const fj={convertOffsetParentRelativeRectToViewportRelativeRect:tj,getDocumentElement:As,getClippingRect:aj,getOffsetParent:YE,getElementRects:uj,getClientRects:rj,getDimensions:lj,getScale:Pa,isElement:Qn,isRTL:dj};function hj(e,t){let r=null,n;const i=As(e);function a(){var m;clearTimeout(n),(m=r)==null||m.disconnect(),r=null}function u(m,g){m===void 0&&(m=!1),g===void 0&&(g=1),a();const{left:p,top:w,width:v,height:E}=e.getBoundingClientRect();if(m||t(),!v||!E)return;const _=Ku(w),R=Ku(i.clientWidth-(p+v)),N=Ku(i.clientHeight-(w+E)),P=Ku(p),A={rootMargin:-_+"px "+-R+"px "+-N+"px "+-P+"px",threshold:fn(0,zi(1,g))||1};let S=!0;function j(z){const V=z[0].intersectionRatio;if(V!==g){if(!S)return u();V?u(!1,V):n=setTimeout(()=>{u(!1,1e-7)},1e3)}S=!1}try{r=new IntersectionObserver(j,{...A,root:i.ownerDocument})}catch{r=new IntersectionObserver(j,A)}r.observe(e)}return u(!0),a}function mj(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:g=!1}=n,p=Xp(e),w=i||a?[...p?Mc(p):[],...Mc(t)]:[];w.forEach(I=>{i&&I.addEventListener("scroll",r,{passive:!0}),a&&I.addEventListener("resize",r)});const v=p&&m?hj(p,r):null;let E=-1,_=null;u&&(_=new ResizeObserver(I=>{let[A]=I;A&&A.target===p&&_&&(_.unobserve(t),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var S;(S=_)==null||S.observe(t)})),r()}),p&&!g&&_.observe(p),_.observe(t));let R,N=g?Lo(e):null;g&&P();function P(){const I=Lo(e);N&&(I.x!==N.x||I.y!==N.y||I.width!==N.width||I.height!==N.height)&&r(),N=I,R=requestAnimationFrame(P)}return r(),()=>{var I;w.forEach(A=>{i&&A.removeEventListener("scroll",r),a&&A.removeEventListener("resize",r)}),v==null||v(),(I=_)==null||I.disconnect(),_=null,g&&cancelAnimationFrame(R)}}const pj=q5,gj=X5,xj=H5,wj=K5,yj=$5,iy=W5,vj=Y5,bj=(e,t,r)=>{const n=new Map,i={platform:fj,...r},a={...i.platform,_c:n};return V5(e,t,{...i,platform:a})};var xd=typeof document<"u"?C.useLayoutEffect:C.useEffect;function sf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!sf(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!sf(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function KE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function oy(e,t){const r=KE(e);return Math.round(t*r)/r}function b0(e){const t=C.useRef(e);return xd(()=>{t.current=e}),t}function Cj(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:u}={},transform:m=!0,whileElementsMounted:g,open:p}=e,[w,v]=C.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[E,_]=C.useState(n);sf(E,n)||_(n);const[R,N]=C.useState(null),[P,I]=C.useState(null),A=C.useCallback(Z=>{Z!==V.current&&(V.current=Z,N(Z))},[]),S=C.useCallback(Z=>{Z!==F.current&&(F.current=Z,I(Z))},[]),j=a||R,z=u||P,V=C.useRef(null),F=C.useRef(null),L=C.useRef(w),D=g!=null,W=b0(g),Q=b0(i),q=b0(p),se=C.useCallback(()=>{if(!V.current||!F.current)return;const Z={placement:t,strategy:r,middleware:E};Q.current&&(Z.platform=Q.current),bj(V.current,F.current,Z).then(te=>{const he={...te,isPositioned:q.current!==!1};ne.current&&!sf(L.current,he)&&(L.current=he,zo.flushSync(()=>{v(he)}))})},[E,t,r,Q,q]);xd(()=>{p===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,v(Z=>({...Z,isPositioned:!1})))},[p]);const ne=C.useRef(!1);xd(()=>(ne.current=!0,()=>{ne.current=!1}),[]),xd(()=>{if(j&&(V.current=j),z&&(F.current=z),j&&z){if(W.current)return W.current(j,z,se);se()}},[j,z,se,W,D]);const X=C.useMemo(()=>({reference:V,floating:F,setReference:A,setFloating:S}),[A,S]),fe=C.useMemo(()=>({reference:j,floating:z}),[j,z]),re=C.useMemo(()=>{const Z={position:r,left:0,top:0};if(!fe.floating)return Z;const te=oy(fe.floating,w.x),he=oy(fe.floating,w.y);return m?{...Z,transform:"translate("+te+"px, "+he+"px)",...KE(fe.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:te,top:he}},[r,m,fe.floating,w.x,w.y]);return C.useMemo(()=>({...w,update:se,refs:X,elements:fe,floatingStyles:re}),[w,se,X,fe,re])}const Ej=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?iy({element:n.current,padding:i}).fn(r):{}:n?iy({element:n,padding:i}).fn(r):{}}}},Sj=(e,t)=>({...pj(e),options:[e,t]}),Aj=(e,t)=>({...gj(e),options:[e,t]}),_j=(e,t)=>({...vj(e),options:[e,t]}),Nj=(e,t)=>({...xj(e),options:[e,t]}),Tj=(e,t)=>({...wj(e),options:[e,t]}),Ij=(e,t)=>({...yj(e),options:[e,t]}),Rj=(e,t)=>({...Ej(e),options:[e,t]});var Oj="Arrow",QE=C.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return f.jsx(He.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});QE.displayName=Oj;var kj=QE;function Pj(e,t=[]){let r=[];function n(a,u){const m=C.createContext(u),g=r.length;r=[...r,u];function p(v){const{scope:E,children:_,...R}=v,N=(E==null?void 0:E[e][g])||m,P=C.useMemo(()=>R,Object.values(R));return f.jsx(N.Provider,{value:P,children:_})}function w(v,E){const _=(E==null?void 0:E[e][g])||m,R=C.useContext(_);if(R)return R;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${a}\``)}return p.displayName=a+"Provider",[p,w]}const i=()=>{const a=r.map(u=>C.createContext(u));return function(m){const g=(m==null?void 0:m[e])||a;return C.useMemo(()=>({[`__scope${e}`]:{...m,[e]:g}}),[m,g])}};return i.scopeName=e,[n,jj(i,...t)]}function jj(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=n.reduce((m,{useScope:g,scopeName:p})=>{const v=g(a)[`__scope${p}`];return{...m,...v}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return r.scopeName=t.scopeName,r}function Yp(e){const[t,r]=C.useState(void 0);return Tr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let u,m;if("borderBoxSize"in a){const g=a.borderBoxSize,p=Array.isArray(g)?g[0]:g;u=p.inlineSize,m=p.blockSize}else u=e.offsetWidth,m=e.offsetHeight;r({width:u,height:m})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Kp="Popper",[ZE,eh]=Pj(Kp),[Dj,JE]=ZE(Kp),eS=e=>{const{__scopePopper:t,children:r}=e,[n,i]=C.useState(null);return f.jsx(Dj,{scope:t,anchor:n,onAnchorChange:i,children:r})};eS.displayName=Kp;var tS="PopperAnchor",rS=C.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=JE(tS,r),u=C.useRef(null),m=ct(t,u);return C.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||u.current)}),n?null:f.jsx(He.div,{...i,ref:m})});rS.displayName=tS;var Qp="PopperContent",[Mj,Lj]=ZE(Qp),nS=C.forwardRef((e,t)=>{var Ee,xe,je,Pe,pe,Ie;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:u=0,arrowPadding:m=0,avoidCollisions:g=!0,collisionBoundary:p=[],collisionPadding:w=0,sticky:v="partial",hideWhenDetached:E=!1,updatePositionStrategy:_="optimized",onPlaced:R,...N}=e,P=JE(Qp,r),[I,A]=C.useState(null),S=ct(t,Ae=>A(Ae)),[j,z]=C.useState(null),V=Yp(j),F=(V==null?void 0:V.width)??0,L=(V==null?void 0:V.height)??0,D=n+(a!=="center"?"-"+a:""),W=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},Q=Array.isArray(p)?p:[p],q=Q.length>0,se={padding:W,boundary:Q.filter(Bj),altBoundary:q},{refs:ne,floatingStyles:X,placement:fe,isPositioned:re,middlewareData:Z}=Cj({strategy:"fixed",placement:D,whileElementsMounted:(...Ae)=>mj(...Ae,{animationFrame:_==="always"}),elements:{reference:P.anchor},middleware:[Sj({mainAxis:i+L,alignmentAxis:u}),g&&Aj({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?_j():void 0,...se}),g&&Nj({...se}),Tj({...se,apply:({elements:Ae,rects:$e,availableWidth:We,availableHeight:Ue})=>{const{width:Qe,height:Te}=$e.reference,_e=Ae.floating.style;_e.setProperty("--radix-popper-available-width",`${We}px`),_e.setProperty("--radix-popper-available-height",`${Ue}px`),_e.setProperty("--radix-popper-anchor-width",`${Qe}px`),_e.setProperty("--radix-popper-anchor-height",`${Te}px`)}}),j&&Rj({element:j,padding:m}),Uj({arrowWidth:F,arrowHeight:L}),E&&Ij({strategy:"referenceHidden",...se})]}),[te,he]=oS(fe),ue=rr(R);Tr(()=>{re&&(ue==null||ue())},[re,ue]);const ge=(Ee=Z.arrow)==null?void 0:Ee.x,we=(xe=Z.arrow)==null?void 0:xe.y,ke=((je=Z.arrow)==null?void 0:je.centerOffset)!==0,[ot,de]=C.useState();return Tr(()=>{I&&de(window.getComputedStyle(I).zIndex)},[I]),f.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:re?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ot,"--radix-popper-transform-origin":[(Pe=Z.transformOrigin)==null?void 0:Pe.x,(pe=Z.transformOrigin)==null?void 0:pe.y].join(" "),...((Ie=Z.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:f.jsx(Mj,{scope:r,placedSide:te,onArrowChange:z,arrowX:ge,arrowY:we,shouldHideArrow:ke,children:f.jsx(He.div,{"data-side":te,"data-align":he,...N,ref:S,style:{...N.style,animation:re?void 0:"none"}})})})});nS.displayName=Qp;var sS="PopperArrow",Fj={top:"bottom",right:"left",bottom:"top",left:"right"},iS=C.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=Lj(sS,n),u=Fj[a.placedSide];return f.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:f.jsx(kj,{...i,ref:r,style:{...i.style,display:"block"}})})});iS.displayName=sS;function Bj(e){return e!==null}var Uj=e=>({name:"transformOrigin",options:e,fn(t){var P,I,A;const{placement:r,rects:n,middlewareData:i}=t,u=((P=i.arrow)==null?void 0:P.centerOffset)!==0,m=u?0:e.arrowWidth,g=u?0:e.arrowHeight,[p,w]=oS(r),v={start:"0%",center:"50%",end:"100%"}[w],E=(((I=i.arrow)==null?void 0:I.x)??0)+m/2,_=(((A=i.arrow)==null?void 0:A.y)??0)+g/2;let R="",N="";return p==="bottom"?(R=u?v:`${E}px`,N=`${-g}px`):p==="top"?(R=u?v:`${E}px`,N=`${n.floating.height+g}px`):p==="right"?(R=`${-g}px`,N=u?v:`${_}px`):p==="left"&&(R=`${n.floating.width+g}px`,N=u?v:`${_}px`),{data:{x:R,y:N}}}});function oS(e){const[t,r="center"]=e.split("-");return[t,r]}var aS=eS,lS=rS,cS=nS,uS=iS,[th,r9]=Yi("Tooltip",[eh]),rh=eh(),dS="TooltipProvider",zj=700,J1="tooltip.open",[Vj,Zp]=th(dS),fS=e=>{const{__scopeTooltip:t,delayDuration:r=zj,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,[u,m]=C.useState(!0),g=C.useRef(!1),p=C.useRef(0);return C.useEffect(()=>{const w=p.current;return()=>window.clearTimeout(w)},[]),f.jsx(Vj,{scope:t,isOpenDelayed:u,delayDuration:r,onOpen:C.useCallback(()=>{window.clearTimeout(p.current),m(!1)},[]),onClose:C.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>m(!0),n)},[n]),isPointerInTransitRef:g,onPointerInTransitChange:C.useCallback(w=>{g.current=w},[]),disableHoverableContent:i,children:a})};fS.displayName=dS;var nh="Tooltip",[Wj,sh]=th(nh),hS=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:u,delayDuration:m}=e,g=Zp(nh,e.__scopeTooltip),p=rh(t),[w,v]=C.useState(null),E=Ao(),_=C.useRef(0),R=u??g.disableHoverableContent,N=m??g.delayDuration,P=C.useRef(!1),[I=!1,A]=Do({prop:n,defaultProp:i,onChange:F=>{F?(g.onOpen(),document.dispatchEvent(new CustomEvent(J1))):g.onClose(),a==null||a(F)}}),S=C.useMemo(()=>I?P.current?"delayed-open":"instant-open":"closed",[I]),j=C.useCallback(()=>{window.clearTimeout(_.current),_.current=0,P.current=!1,A(!0)},[A]),z=C.useCallback(()=>{window.clearTimeout(_.current),_.current=0,A(!1)},[A]),V=C.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{P.current=!0,A(!0),_.current=0},N)},[N,A]);return C.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),f.jsx(aS,{...p,children:f.jsx(Wj,{scope:t,contentId:E,open:I,stateAttribute:S,trigger:w,onTriggerChange:v,onTriggerEnter:C.useCallback(()=>{g.isOpenDelayed?V():j()},[g.isOpenDelayed,V,j]),onTriggerLeave:C.useCallback(()=>{R?z():(window.clearTimeout(_.current),_.current=0)},[z,R]),onOpen:j,onClose:z,disableHoverableContent:R,children:r})})};hS.displayName=nh;var em="TooltipTrigger",mS=C.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=sh(em,r),a=Zp(em,r),u=rh(r),m=C.useRef(null),g=ct(t,m,i.onTriggerChange),p=C.useRef(!1),w=C.useRef(!1),v=C.useCallback(()=>p.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),f.jsx(lS,{asChild:!0,...u,children:f.jsx(He.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:g,onPointerMove:Me(e.onPointerMove,E=>{E.pointerType!=="touch"&&!w.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),w.current=!0)}),onPointerLeave:Me(e.onPointerLeave,()=>{i.onTriggerLeave(),w.current=!1}),onPointerDown:Me(e.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Me(e.onFocus,()=>{p.current||i.onOpen()}),onBlur:Me(e.onBlur,i.onClose),onClick:Me(e.onClick,i.onClose)})})});mS.displayName=em;var Hj="TooltipPortal",[n9,$j]=th(Hj,{forceMount:void 0}),il="TooltipContent",pS=C.forwardRef((e,t)=>{const r=$j(il,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,u=sh(il,e.__scopeTooltip);return f.jsx(es,{present:n||u.open,children:u.disableHoverableContent?f.jsx(gS,{side:i,...a,ref:t}):f.jsx(Gj,{side:i,...a,ref:t})})}),Gj=C.forwardRef((e,t)=>{const r=sh(il,e.__scopeTooltip),n=Zp(il,e.__scopeTooltip),i=C.useRef(null),a=ct(t,i),[u,m]=C.useState(null),{trigger:g,onClose:p}=r,w=i.current,{onPointerInTransitChange:v}=n,E=C.useCallback(()=>{m(null),v(!1)},[v]),_=C.useCallback((R,N)=>{const P=R.currentTarget,I={x:R.clientX,y:R.clientY},A=Kj(I,P.getBoundingClientRect()),S=Qj(I,A),j=Zj(N.getBoundingClientRect()),z=eD([...S,...j]);m(z),v(!0)},[v]);return C.useEffect(()=>()=>E(),[E]),C.useEffect(()=>{if(g&&w){const R=P=>_(P,w),N=P=>_(P,g);return g.addEventListener("pointerleave",R),w.addEventListener("pointerleave",N),()=>{g.removeEventListener("pointerleave",R),w.removeEventListener("pointerleave",N)}}},[g,w,_,E]),C.useEffect(()=>{if(u){const R=N=>{const P=N.target,I={x:N.clientX,y:N.clientY},A=(g==null?void 0:g.contains(P))||(w==null?void 0:w.contains(P)),S=!Jj(I,u);A?E():S&&(E(),p())};return document.addEventListener("pointermove",R),()=>document.removeEventListener("pointermove",R)}},[g,w,u,p,E]),f.jsx(gS,{...e,ref:a})}),[qj,Xj]=th(nh,{isInside:!1}),gS=C.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:u,...m}=e,g=sh(il,r),p=rh(r),{onClose:w}=g;return C.useEffect(()=>(document.addEventListener(J1,w),()=>document.removeEventListener(J1,w)),[w]),C.useEffect(()=>{if(g.trigger){const v=E=>{const _=E.target;_!=null&&_.contains(g.trigger)&&w()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[g.trigger,w]),f.jsx(Xc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:v=>v.preventDefault(),onDismiss:w,children:f.jsxs(cS,{"data-state":g.stateAttribute,...p,...m,ref:t,style:{...m.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(up,{children:n}),f.jsx(qj,{scope:r,isInside:!0,children:f.jsx(u8,{id:g.contentId,role:"tooltip",children:i||n})})]})})});pS.displayName=il;var xS="TooltipArrow",Yj=C.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=rh(r);return Xj(xS,r).isInside?null:f.jsx(uS,{...i,...n,ref:t})});Yj.displayName=xS;function Kj(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Qj(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Zj(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function Jj(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,u=t.length-1;a<t.length;u=a++){const m=t[a].x,g=t[a].y,p=t[u].x,w=t[u].y;g>n!=w>n&&r<(p-m)*(n-g)/(w-g)+m&&(i=!i)}return i}function eD(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),tD(t)}function tD(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],u=t[t.length-2];if((a.x-u.x)*(i.y-u.y)>=(a.y-u.y)*(i.x-u.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],u=r[r.length-2];if((a.x-u.x)*(i.y-u.y)>=(a.y-u.y)*(i.x-u.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var rD=fS,nD=hS,sD=mS,wS=pS;const yS=rD,vS=nD,bS=sD,Jp=C.forwardRef(({className:e,sideOffset:t=4,...r},n)=>f.jsx(wS,{ref:n,sideOffset:t,className:Oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Jp.displayName=wS.displayName;const iD=e=>e?parseFloat(e.replace(",",".")):null,oD=e=>{if(!e||e.trim()==="")return null;const t=e.trim();if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;const r=t.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/);if(r){const[,a,u,m]=r;return`${m}-${u.padStart(2,"0")}-${a.padStart(2,"0")}`}const n=t.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/);if(n){const[,a,u,m]=n;return parseInt(a)>12?`${m}-${a.padStart(2,"0")}-${u.padStart(2,"0")}`:`${m}-${a.padStart(2,"0")}-${u.padStart(2,"0")}`}try{const a=new Date(t);if(!isNaN(a.getTime()))return a.toISOString().split("T")[0]}catch{}const i=t.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})/);if(i){const[,a,u,m]=i;return`${m}-${u.padStart(2,"0")}-${a.padStart(2,"0")}`}return null},aD=e=>{const t=e==null?void 0:e.toLowerCase();return t==="manutenção"?"manutenção":t==="baixado"?"baixado":"ativo"},lD=e=>{const t=e==null?void 0:e.toLowerCase();return t==="sim"||t==="true"},cD=e=>!e.nome||!e.codigo?"Nome e código são obrigatórios":null,uD=(e,t)=>({name:e.nome,code:e.codigo,location:e.localizacao||null,status:aD(e.status),acquisition_date:oD(e.data_aquisicao),value:iD(e.valor),serial_number:e.numero_serie||null,color:e.cor||null,manufacturer:e.fabricante||null,model:e.modelo||null,capacity:e.capacidade||null,voltage:e.voltagem||null,origin:e.origem||null,condition:e.condicoes||null,inalienable:lD(e.inalienavel),holder:e.detentor||null,notes:e.observacoes||null,company_id:t}),dD=()=>{const{profile:e}=er(),{toast:t}=yr(),r=Es();return bs({mutationFn:async n=>{if(!(e!=null&&e.company_id))throw new Error("Company ID not found");const i={success:0,errors:[]};for(let a=0;a<n.length;a++){const u=n[a],m=a+2,g=cD(u);if(g){i.errors.push({row:m,error:g,data:u});continue}try{const p=uD(u,e.company_id),{error:w}=await Ve.from("assets").insert(p);w?i.errors.push({row:m,error:w.message,data:u}):i.success++}catch(p){i.errors.push({row:m,error:p instanceof Error?p.message:"Erro desconhecido",data:u})}}return i},onSuccess:n=>{r.invalidateQueries({queryKey:["assets"]}),r.invalidateQueries({queryKey:["dashboard-stats"]}),r.invalidateQueries({queryKey:["recent-assets"]}),t({title:"Importação concluída!",description:`${n.success} ativos importados com sucesso`})},onError:n=>{t({title:"Erro na importação",description:n.message||"Erro ao importar ativos",variant:"destructive"})}})},fD=()=>{const{toast:e}=yr(),[t,r]=C.useState(null),[n,i]=C.useState(0);return{file:t,inputKey:n,handleFileChange:g=>{var w;const p=(w=g.target.files)==null?void 0:w[0];p&&p.type==="text/csv"?r(p):e({title:"Arquivo inválido",description:"Por favor, selecione um arquivo CSV",variant:"destructive"})},removeFile:()=>{r(null),i(g=>g+1)},resetFile:()=>{r(null),i(g=>g+1)},setFile:r}},hD={nome:"nome",código:"codigo",codigo:"codigo",localização:"localizacao",localizacao:"localizacao",local:"localizacao",status:"status",aquisição:"data_aquisicao","data de aquisição":"data_aquisicao",data_aquisicao:"data_aquisicao",data:"data_aquisicao",valor:"valor",preço:"valor",preco:"valor","número de série":"numero_serie",numero_serie:"numero_serie",serial:"numero_serie",cor:"cor",fabricante:"fabricante",marca:"fabricante",modelo:"modelo",capacidade:"capacidade",voltagem:"voltagem",origem:"origem",condições:"condicoes",condicoes:"condicoes",condição:"condicoes",condicao:"condicoes",inalienável:"inalienavel",inalienavel:"inalienavel",detentor:"detentor",responsável:"detentor",responsavel:"detentor",observações:"observacoes",observacoes:"observacoes",obs:"observacoes",notas:"observacoes"},mD=`nome,codigo,localizacao,status,data_aquisicao,valor,numero_serie,cor,fabricante,modelo,capacidade,voltagem,origem,condicoes,inalienavel,detentor,observacoes
Notebook Dell,NB001,Sala 101,ativo,2023-01-15,2500.00,SN123456,Preto,Dell,Inspiron 15,8GB RAM,Bivolt,compra,Novo,não,João Silva,Notebook para desenvolvimento
Monitor Samsung,MON001,Sala 102,ativo,2023-02-10,800.00,MON789,Branco,Samsung,24 polegadas,1920x1080,110V,compra,Usado,não,Maria Santos,Monitor secundário`,pD=e=>hD[e.toLowerCase()]||e,gD=()=>{const e=new Blob([mD],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),r=URL.createObjectURL(e);t.setAttribute("href",r),t.setAttribute("download","template_ativos.csv"),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)};function xD(e,t=[]){let r=[];function n(a,u){const m=C.createContext(u),g=r.length;r=[...r,u];function p(v){const{scope:E,children:_,...R}=v,N=(E==null?void 0:E[e][g])||m,P=C.useMemo(()=>R,Object.values(R));return f.jsx(N.Provider,{value:P,children:_})}function w(v,E){const _=(E==null?void 0:E[e][g])||m,R=C.useContext(_);if(R)return R;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${a}\``)}return p.displayName=a+"Provider",[p,w]}const i=()=>{const a=r.map(u=>C.createContext(u));return function(m){const g=(m==null?void 0:m[e])||a;return C.useMemo(()=>({[`__scope${e}`]:{...m,[e]:g}}),[m,g])}};return i.scopeName=e,[n,wD(i,...t)]}function wD(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=n.reduce((m,{useScope:g,scopeName:p})=>{const v=g(a)[`__scope${p}`];return{...m,...v}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return r.scopeName=t.scopeName,r}var eg="Progress",tg=100,[yD,s9]=xD(eg),[vD,bD]=yD(eg),CS=C.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=CD,...u}=e;(i||i===0)&&!ay(i)&&console.error(ED(`${i}`,"Progress"));const m=ay(i)?i:tg;n!==null&&!ly(n,m)&&console.error(SD(`${n}`,"Progress"));const g=ly(n,m)?n:null,p=of(g)?a(g,m):void 0;return f.jsx(vD,{scope:r,value:g,max:m,children:f.jsx(He.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":of(g)?g:void 0,"aria-valuetext":p,role:"progressbar","data-state":AS(g,m),"data-value":g??void 0,"data-max":m,...u,ref:t})})});CS.displayName=eg;var ES="ProgressIndicator",SS=C.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=bD(ES,r);return f.jsx(He.div,{"data-state":AS(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});SS.displayName=ES;function CD(e,t){return`${Math.round(e/t*100)}%`}function AS(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function of(e){return typeof e=="number"}function ay(e){return of(e)&&!isNaN(e)&&e>0}function ly(e,t){return of(e)&&!isNaN(e)&&e<=t&&e>=0}function ED(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${tg}\`.`}function SD(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${tg} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var _S=CS,AD=SS;const af=C.forwardRef(({className:e,value:t,indicatorClassName:r,...n},i)=>f.jsx(_S,{ref:i,className:Oe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:f.jsx(AD,{className:Oe("h-full w-full flex-1 bg-primary transition-all",r),style:{transform:`translateX(-${100-(t||0)}%)`}})}));af.displayName=_S.displayName;const _D=()=>f.jsxs("div",{children:[f.jsxs(Ne,{variant:"outline",onClick:gD,className:"mb-4",children:[f.jsx(Df,{className:"h-4 w-4 mr-2"}),"Baixar Template CSV"]}),f.jsxs(ur,{children:[f.jsx(M8,{className:"h-4 w-4"}),f.jsxs(dr,{children:["Baixe o template CSV acima para ver o formato correto dos dados. Os campos ",f.jsx("strong",{children:"nome"})," e ",f.jsx("strong",{children:"codigo"})," são obrigatórios."]})]})]}),ND=({file:e,inputKey:t,handleFileChange:r,removeFile:n,importing:i})=>f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"csvFile",children:"Arquivo CSV"}),f.jsx(rt,{id:"csvFile",type:"file",accept:".csv",onChange:r,disabled:i,className:"cursor-pointer"},t)]}),e&&f.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("p",{className:"text-sm text-gray-600",children:[f.jsx("strong",{children:"Arquivo selecionado:"})," ",e.name]}),f.jsxs("p",{className:"text-sm text-gray-600",children:[f.jsx("strong",{children:"Tamanho:"})," ",(e.size/1024).toFixed(2)," KB"]})]}),f.jsxs(vS,{children:[f.jsx(bS,{asChild:!0,children:f.jsx("button",{type:"button",onClick:n,className:"ml-4 text-gray-400 hover:text-red-600 text-lg font-bold focus:outline-none","aria-label":"Remover arquivo",children:"×"})}),f.jsx(Jp,{side:"left",align:"center",children:"Remover arquivo selecionado"})]})]})]}),TD=({progress:e})=>f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{children:"Importando ativos..."}),f.jsxs("span",{children:[Math.round(e),"%"]})]}),f.jsx(af,{value:e})]}),ID=({result:e})=>e?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center text-green-600",children:[f.jsx(Gb,{className:"h-5 w-5 mr-2"}),f.jsxs("span",{className:"font-medium",children:[e.success," ativos importados com sucesso"]})]}),e.errors.length>0&&f.jsxs("div",{children:[f.jsxs("h4",{className:"font-medium text-red-600 mb-2",children:[e.errors.length," erros encontrados:"]}),f.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:e.errors.map((t,r)=>f.jsx(ur,{variant:"destructive",children:f.jsxs(dr,{children:[f.jsxs("strong",{children:["Linha ",t.row,":"]})," ",t.error,f.jsx("br",{}),f.jsxs("small",{children:["Dados: ",JSON.stringify(t.data)]})]})},r))})]})]}):null;function NS(){const{toast:e}=yr(),t=dD(),{file:r,inputKey:n,handleFileChange:i,removeFile:a}=fD(),[u,m]=C.useState(!1),[g,p]=C.useState(0),[w,v]=C.useState(null),E=()=>{r&&(m(!0),p(0),v(null),P5.parse(r,{header:!0,skipEmptyLines:!0,transformHeader:pD,complete:R=>{if(m(!1),R.errors.length>0){e({title:"Erro ao processar CSV",description:"Verifique o formato do arquivo",variant:"destructive"});return}t.mutate(R.data,{onSuccess:N=>{v(N)}})},error:R=>{m(!1),e({title:"Erro ao ler arquivo",description:R.message,variant:"destructive"})}}))},_=()=>{a(),v(null)};return f.jsx(yS,{delayDuration:500,children:f.jsx("div",{className:"space-y-6",children:f.jsxs(Ke,{className:"border-0 shadow-md",children:[f.jsx(pt,{children:f.jsxs(mt,{className:"flex items-center",children:[f.jsx(Df,{className:"h-5 w-5 mr-2 text-blue-600"}),"Importar Ativos por CSV"]})}),f.jsxs(et,{className:"space-y-6",children:[f.jsx(_D,{}),f.jsx(ND,{file:r,inputKey:n,handleFileChange:i,removeFile:_,importing:u}),u&&f.jsx(TD,{progress:g}),f.jsxs(Ne,{onClick:E,disabled:!r||u||t.isPending,className:"w-full",children:[f.jsx(bp,{className:"h-4 w-4 mr-2"}),u||t.isPending?"Importando...":"Importar Ativos"]}),f.jsx(ID,{result:w})]})]})})})}function RD({canEdit:e,isMobileOrTablet:t,isDesktop:r,loading:n,exportLoading:i,onScannerOpen:a,onExportCSV:u}){return e?f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Ativos"}),f.jsx("p",{className:"mt-2 text-gray-600",children:"Gerencie todos os ativos patrimoniais da empresa"})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[t&&f.jsxs(Ne,{variant:"outline",onClick:a,className:"w-full sm:w-auto",children:[f.jsx(Hb,{className:"h-4 w-4 mr-2"}),"Buscar por Código"]}),r&&f.jsxs(f.Fragment,{children:[f.jsxs(Ne,{variant:"outline",onClick:u,className:"w-full sm:w-auto",disabled:n||i,children:[f.jsx(Df,{className:"h-4 w-4 mr-2"}),"Exportar CSV"]}),f.jsxs(iu,{children:[f.jsx(Yf,{asChild:!0,children:f.jsxs(Ne,{variant:"outline",className:"w-full sm:w-auto",children:[f.jsx(bp,{className:"h-4 w-4 mr-2"}),"Importar CSV"]})}),f.jsx(xl,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:f.jsx(NS,{})})]})]}),f.jsx(Ne,{asChild:!0,className:"w-full sm:w-auto",children:f.jsxs(kn,{to:"/assets/new",children:[f.jsx(Mf,{className:"h-4 w-4 mr-2"}),"Novo Ativo"]})})]})]}):f.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Ativos"}),f.jsx("p",{className:"mt-2 text-gray-600",children:"Gerencie todos os ativos patrimoniais da empresa"})]})})}function rg(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var OD=[" ","Enter","ArrowUp","ArrowDown"],kD=[" ","Enter"],cu="Select",[ih,oh,PD]=xb(cu),[vl,i9]=Yi(cu,[PD,eh]),ah=eh(),[jD,Qi]=vl(cu),[DD,MD]=vl(cu),TS=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:u,defaultValue:m,onValueChange:g,dir:p,name:w,autoComplete:v,disabled:E,required:_,form:R}=e,N=ah(t),[P,I]=C.useState(null),[A,S]=C.useState(null),[j,z]=C.useState(!1),V=mE(p),[F=!1,L]=Do({prop:n,defaultProp:i,onChange:a}),[D,W]=Do({prop:u,defaultProp:m,onChange:g}),Q=C.useRef(null),q=P?R||!!P.closest("form"):!0,[se,ne]=C.useState(new Set),X=Array.from(se).map(fe=>fe.props.value).join(";");return f.jsx(aS,{...N,children:f.jsxs(jD,{required:_,scope:t,trigger:P,onTriggerChange:I,valueNode:A,onValueNodeChange:S,valueNodeHasChildren:j,onValueNodeHasChildrenChange:z,contentId:Ao(),value:D,onValueChange:W,open:F,onOpenChange:L,dir:V,triggerPointerDownPosRef:Q,disabled:E,children:[f.jsx(ih.Provider,{scope:t,children:f.jsx(DD,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(fe=>{ne(re=>new Set(re).add(fe))},[]),onNativeOptionRemove:C.useCallback(fe=>{ne(re=>{const Z=new Set(re);return Z.delete(fe),Z})},[]),children:r})}),q?f.jsxs(JS,{"aria-hidden":!0,required:_,tabIndex:-1,name:w,autoComplete:v,value:D,onChange:fe=>W(fe.target.value),disabled:E,form:R,children:[D===void 0?f.jsx("option",{value:""}):null,Array.from(se)]},X):null]})})};TS.displayName=cu;var IS="SelectTrigger",RS=C.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=ah(r),u=Qi(IS,r),m=u.disabled||n,g=ct(t,u.onTriggerChange),p=oh(r),w=C.useRef("touch"),[v,E,_]=eA(N=>{const P=p().filter(S=>!S.disabled),I=P.find(S=>S.value===u.value),A=tA(P,N,I);A!==void 0&&u.onValueChange(A.value)}),R=N=>{m||(u.onOpenChange(!0),_()),N&&(u.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return f.jsx(lS,{asChild:!0,...a,children:f.jsx(He.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:m,"data-disabled":m?"":void 0,"data-placeholder":ZS(u.value)?"":void 0,...i,ref:g,onClick:Me(i.onClick,N=>{N.currentTarget.focus(),w.current!=="mouse"&&R(N)}),onPointerDown:Me(i.onPointerDown,N=>{w.current=N.pointerType;const P=N.target;P.hasPointerCapture(N.pointerId)&&P.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(R(N),N.preventDefault())}),onKeyDown:Me(i.onKeyDown,N=>{const P=v.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&E(N.key),!(P&&N.key===" ")&&OD.includes(N.key)&&(R(),N.preventDefault())})})})});RS.displayName=IS;var OS="SelectValue",kS=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:u="",...m}=e,g=Qi(OS,r),{onValueNodeHasChildrenChange:p}=g,w=a!==void 0,v=ct(t,g.onValueNodeChange);return Tr(()=>{p(w)},[p,w]),f.jsx(He.span,{...m,ref:v,style:{pointerEvents:"none"},children:ZS(g.value)?f.jsx(f.Fragment,{children:u}):a})});kS.displayName=OS;var LD="SelectIcon",PS=C.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return f.jsx(He.span,{"aria-hidden":!0,...i,ref:t,children:n||"▼"})});PS.displayName=LD;var FD="SelectPortal",jS=e=>f.jsx(kf,{asChild:!0,...e});jS.displayName=FD;var Fo="SelectContent",DS=C.forwardRef((e,t)=>{const r=Qi(Fo,e.__scopeSelect),[n,i]=C.useState();if(Tr(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?zo.createPortal(f.jsx(MS,{scope:e.__scopeSelect,children:f.jsx(ih.Slot,{scope:e.__scopeSelect,children:f.jsx("div",{children:e.children})})}),a):null}return f.jsx(LS,{...e,ref:t})});DS.displayName=Fo;var zn=10,[MS,Zi]=vl(Fo),BD="SelectContentImpl",LS=C.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:u,side:m,sideOffset:g,align:p,alignOffset:w,arrowPadding:v,collisionBoundary:E,collisionPadding:_,sticky:R,hideWhenDetached:N,avoidCollisions:P,...I}=e,A=Qi(Fo,r),[S,j]=C.useState(null),[z,V]=C.useState(null),F=ct(t,Ee=>j(Ee)),[L,D]=C.useState(null),[W,Q]=C.useState(null),q=oh(r),[se,ne]=C.useState(!1),X=C.useRef(!1);C.useEffect(()=>{if(S)return $C(S)},[S]),MC();const fe=C.useCallback(Ee=>{const[xe,...je]=q().map(Ie=>Ie.ref.current),[Pe]=je.slice(-1),pe=document.activeElement;for(const Ie of Ee)if(Ie===pe||(Ie==null||Ie.scrollIntoView({block:"nearest"}),Ie===xe&&z&&(z.scrollTop=0),Ie===Pe&&z&&(z.scrollTop=z.scrollHeight),Ie==null||Ie.focus(),document.activeElement!==pe))return},[q,z]),re=C.useCallback(()=>fe([L,S]),[fe,L,S]);C.useEffect(()=>{se&&re()},[se,re]);const{onOpenChange:Z,triggerPointerDownPosRef:te}=A;C.useEffect(()=>{if(S){let Ee={x:0,y:0};const xe=Pe=>{var pe,Ie;Ee={x:Math.abs(Math.round(Pe.pageX)-(((pe=te.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((Ie=te.current)==null?void 0:Ie.y)??0))}},je=Pe=>{Ee.x<=10&&Ee.y<=10?Pe.preventDefault():S.contains(Pe.target)||Z(!1),document.removeEventListener("pointermove",xe),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",je,{capture:!0})}}},[S,Z,te]),C.useEffect(()=>{const Ee=()=>Z(!1);return window.addEventListener("blur",Ee),window.addEventListener("resize",Ee),()=>{window.removeEventListener("blur",Ee),window.removeEventListener("resize",Ee)}},[Z]);const[he,ue]=eA(Ee=>{const xe=q().filter(pe=>!pe.disabled),je=xe.find(pe=>pe.ref.current===document.activeElement),Pe=tA(xe,Ee,je);Pe&&setTimeout(()=>Pe.ref.current.focus())}),ge=C.useCallback((Ee,xe,je)=>{const Pe=!X.current&&!je;(A.value!==void 0&&A.value===xe||Pe)&&(D(Ee),Pe&&(X.current=!0))},[A.value]),we=C.useCallback(()=>S==null?void 0:S.focus(),[S]),ke=C.useCallback((Ee,xe,je)=>{const Pe=!X.current&&!je;(A.value!==void 0&&A.value===xe||Pe)&&Q(Ee)},[A.value]),ot=n==="popper"?tm:FS,de=ot===tm?{side:m,sideOffset:g,align:p,alignOffset:w,arrowPadding:v,collisionBoundary:E,collisionPadding:_,sticky:R,hideWhenDetached:N,avoidCollisions:P}:{};return f.jsx(MS,{scope:r,content:S,viewport:z,onViewportChange:V,itemRefCallback:ge,selectedItem:L,onItemLeave:we,itemTextRefCallback:ke,focusSelectedItem:re,selectedItemText:W,position:n,isPositioned:se,searchRef:he,children:f.jsx(Rp,{as:jo,allowPinchZoom:!0,children:f.jsx(Ip,{asChild:!0,trapped:A.open,onMountAutoFocus:Ee=>{Ee.preventDefault()},onUnmountAutoFocus:Me(i,Ee=>{var xe;(xe=A.trigger)==null||xe.focus({preventScroll:!0}),Ee.preventDefault()}),children:f.jsx(Xc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:Ee=>Ee.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:f.jsx(ot,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:Ee=>Ee.preventDefault(),...I,...de,onPlaced:()=>ne(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...I.style},onKeyDown:Me(I.onKeyDown,Ee=>{const xe=Ee.ctrlKey||Ee.altKey||Ee.metaKey;if(Ee.key==="Tab"&&Ee.preventDefault(),!xe&&Ee.key.length===1&&ue(Ee.key),["ArrowUp","ArrowDown","Home","End"].includes(Ee.key)){let Pe=q().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(Ee.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ee.key)){const pe=Ee.target,Ie=Pe.indexOf(pe);Pe=Pe.slice(Ie+1)}setTimeout(()=>fe(Pe)),Ee.preventDefault()}})})})})})})});LS.displayName=BD;var UD="SelectItemAlignedPosition",FS=C.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=Qi(Fo,r),u=Zi(Fo,r),[m,g]=C.useState(null),[p,w]=C.useState(null),v=ct(t,F=>w(F)),E=oh(r),_=C.useRef(!1),R=C.useRef(!0),{viewport:N,selectedItem:P,selectedItemText:I,focusSelectedItem:A}=u,S=C.useCallback(()=>{if(a.trigger&&a.valueNode&&m&&p&&N&&P&&I){const F=a.trigger.getBoundingClientRect(),L=p.getBoundingClientRect(),D=a.valueNode.getBoundingClientRect(),W=I.getBoundingClientRect();if(a.dir!=="rtl"){const pe=W.left-L.left,Ie=D.left-pe,Ae=F.left-Ie,$e=F.width+Ae,We=Math.max($e,L.width),Ue=window.innerWidth-zn,Qe=X1(Ie,[zn,Math.max(zn,Ue-We)]);m.style.minWidth=$e+"px",m.style.left=Qe+"px"}else{const pe=L.right-W.right,Ie=window.innerWidth-D.right-pe,Ae=window.innerWidth-F.right-Ie,$e=F.width+Ae,We=Math.max($e,L.width),Ue=window.innerWidth-zn,Qe=X1(Ie,[zn,Math.max(zn,Ue-We)]);m.style.minWidth=$e+"px",m.style.right=Qe+"px"}const Q=E(),q=window.innerHeight-zn*2,se=N.scrollHeight,ne=window.getComputedStyle(p),X=parseInt(ne.borderTopWidth,10),fe=parseInt(ne.paddingTop,10),re=parseInt(ne.borderBottomWidth,10),Z=parseInt(ne.paddingBottom,10),te=X+fe+se+Z+re,he=Math.min(P.offsetHeight*5,te),ue=window.getComputedStyle(N),ge=parseInt(ue.paddingTop,10),we=parseInt(ue.paddingBottom,10),ke=F.top+F.height/2-zn,ot=q-ke,de=P.offsetHeight/2,Ee=P.offsetTop+de,xe=X+fe+Ee,je=te-xe;if(xe<=ke){const pe=Q.length>0&&P===Q[Q.length-1].ref.current;m.style.bottom="0px";const Ie=p.clientHeight-N.offsetTop-N.offsetHeight,Ae=Math.max(ot,de+(pe?we:0)+Ie+re),$e=xe+Ae;m.style.height=$e+"px"}else{const pe=Q.length>0&&P===Q[0].ref.current;m.style.top="0px";const Ae=Math.max(ke,X+N.offsetTop+(pe?ge:0)+de)+je;m.style.height=Ae+"px",N.scrollTop=xe-ke+N.offsetTop}m.style.margin=`${zn}px 0`,m.style.minHeight=he+"px",m.style.maxHeight=q+"px",n==null||n(),requestAnimationFrame(()=>_.current=!0)}},[E,a.trigger,a.valueNode,m,p,N,P,I,a.dir,n]);Tr(()=>S(),[S]);const[j,z]=C.useState();Tr(()=>{p&&z(window.getComputedStyle(p).zIndex)},[p]);const V=C.useCallback(F=>{F&&R.current===!0&&(S(),A==null||A(),R.current=!1)},[S,A]);return f.jsx(VD,{scope:r,contentWrapper:m,shouldExpandOnScrollRef:_,onScrollButtonChange:V,children:f.jsx("div",{ref:g,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:f.jsx(He.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});FS.displayName=UD;var zD="SelectPopperPosition",tm=C.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=zn,...a}=e,u=ah(r);return f.jsx(cS,{...u,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tm.displayName=zD;var[VD,ng]=vl(Fo,{}),rm="SelectViewport",BS=C.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=Zi(rm,r),u=ng(rm,r),m=ct(t,a.onViewportChange),g=C.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),f.jsx(ih.Slot,{scope:r,children:f.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:m,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Me(i.onScroll,p=>{const w=p.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:E}=u;if(E!=null&&E.current&&v){const _=Math.abs(g.current-w.scrollTop);if(_>0){const R=window.innerHeight-zn*2,N=parseFloat(v.style.minHeight),P=parseFloat(v.style.height),I=Math.max(N,P);if(I<R){const A=I+_,S=Math.min(R,A),j=A-S;v.style.height=S+"px",v.style.bottom==="0px"&&(w.scrollTop=j>0?j:0,v.style.justifyContent="flex-end")}}}g.current=w.scrollTop})})})]})});BS.displayName=rm;var US="SelectGroup",[WD,HD]=vl(US),$D=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Ao();return f.jsx(WD,{scope:r,id:i,children:f.jsx(He.div,{role:"group","aria-labelledby":i,...n,ref:t})})});$D.displayName=US;var zS="SelectLabel",VS=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=HD(zS,r);return f.jsx(He.div,{id:i.id,...n,ref:t})});VS.displayName=zS;var lf="SelectItem",[GD,WS]=vl(lf),HS=C.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...u}=e,m=Qi(lf,r),g=Zi(lf,r),p=m.value===n,[w,v]=C.useState(a??""),[E,_]=C.useState(!1),R=ct(t,A=>{var S;return(S=g.itemRefCallback)==null?void 0:S.call(g,A,n,i)}),N=Ao(),P=C.useRef("touch"),I=()=>{i||(m.onValueChange(n),m.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(GD,{scope:r,value:n,disabled:i,textId:N,isSelected:p,onItemTextChange:C.useCallback(A=>{v(S=>S||((A==null?void 0:A.textContent)??"").trim())},[]),children:f.jsx(ih.ItemSlot,{scope:r,value:n,disabled:i,textValue:w,children:f.jsx(He.div,{role:"option","aria-labelledby":N,"data-highlighted":E?"":void 0,"aria-selected":p&&E,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:R,onFocus:Me(u.onFocus,()=>_(!0)),onBlur:Me(u.onBlur,()=>_(!1)),onClick:Me(u.onClick,()=>{P.current!=="mouse"&&I()}),onPointerUp:Me(u.onPointerUp,()=>{P.current==="mouse"&&I()}),onPointerDown:Me(u.onPointerDown,A=>{P.current=A.pointerType}),onPointerMove:Me(u.onPointerMove,A=>{var S;P.current=A.pointerType,i?(S=g.onItemLeave)==null||S.call(g):P.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Me(u.onPointerLeave,A=>{var S;A.currentTarget===document.activeElement&&((S=g.onItemLeave)==null||S.call(g))}),onKeyDown:Me(u.onKeyDown,A=>{var j;((j=g.searchRef)==null?void 0:j.current)!==""&&A.key===" "||(kD.includes(A.key)&&I(),A.key===" "&&A.preventDefault())})})})})});HS.displayName=lf;var Ql="SelectItemText",$S=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,u=Qi(Ql,r),m=Zi(Ql,r),g=WS(Ql,r),p=MD(Ql,r),[w,v]=C.useState(null),E=ct(t,I=>v(I),g.onItemTextChange,I=>{var A;return(A=m.itemTextRefCallback)==null?void 0:A.call(m,I,g.value,g.disabled)}),_=w==null?void 0:w.textContent,R=C.useMemo(()=>f.jsx("option",{value:g.value,disabled:g.disabled,children:_},g.value),[g.disabled,g.value,_]),{onNativeOptionAdd:N,onNativeOptionRemove:P}=p;return Tr(()=>(N(R),()=>P(R)),[N,P,R]),f.jsxs(f.Fragment,{children:[f.jsx(He.span,{id:g.textId,...a,ref:E}),g.isSelected&&u.valueNode&&!u.valueNodeHasChildren?zo.createPortal(a.children,u.valueNode):null]})});$S.displayName=Ql;var GS="SelectItemIndicator",qS=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return WS(GS,r).isSelected?f.jsx(He.span,{"aria-hidden":!0,...n,ref:t}):null});qS.displayName=GS;var nm="SelectScrollUpButton",XS=C.forwardRef((e,t)=>{const r=Zi(nm,e.__scopeSelect),n=ng(nm,e.__scopeSelect),[i,a]=C.useState(!1),u=ct(t,n.onScrollButtonChange);return Tr(()=>{if(r.viewport&&r.isPositioned){let m=function(){const p=g.scrollTop>0;a(p)};const g=r.viewport;return m(),g.addEventListener("scroll",m),()=>g.removeEventListener("scroll",m)}},[r.viewport,r.isPositioned]),i?f.jsx(KS,{...e,ref:u,onAutoScroll:()=>{const{viewport:m,selectedItem:g}=r;m&&g&&(m.scrollTop=m.scrollTop-g.offsetHeight)}}):null});XS.displayName=nm;var sm="SelectScrollDownButton",YS=C.forwardRef((e,t)=>{const r=Zi(sm,e.__scopeSelect),n=ng(sm,e.__scopeSelect),[i,a]=C.useState(!1),u=ct(t,n.onScrollButtonChange);return Tr(()=>{if(r.viewport&&r.isPositioned){let m=function(){const p=g.scrollHeight-g.clientHeight,w=Math.ceil(g.scrollTop)<p;a(w)};const g=r.viewport;return m(),g.addEventListener("scroll",m),()=>g.removeEventListener("scroll",m)}},[r.viewport,r.isPositioned]),i?f.jsx(KS,{...e,ref:u,onAutoScroll:()=>{const{viewport:m,selectedItem:g}=r;m&&g&&(m.scrollTop=m.scrollTop+g.offsetHeight)}}):null});YS.displayName=sm;var KS=C.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=Zi("SelectScrollButton",r),u=C.useRef(null),m=oh(r),g=C.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return C.useEffect(()=>()=>g(),[g]),Tr(()=>{var w;const p=m().find(v=>v.ref.current===document.activeElement);(w=p==null?void 0:p.ref.current)==null||w.scrollIntoView({block:"nearest"})},[m]),f.jsx(He.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Me(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(n,50))}),onPointerMove:Me(i.onPointerMove,()=>{var p;(p=a.onItemLeave)==null||p.call(a),u.current===null&&(u.current=window.setInterval(n,50))}),onPointerLeave:Me(i.onPointerLeave,()=>{g()})})}),qD="SelectSeparator",QS=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return f.jsx(He.div,{"aria-hidden":!0,...n,ref:t})});QS.displayName=qD;var im="SelectArrow",XD=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=ah(r),a=Qi(im,r),u=Zi(im,r);return a.open&&u.position==="popper"?f.jsx(uS,{...i,...n,ref:t}):null});XD.displayName=im;function ZS(e){return e===""||e===void 0}var JS=C.forwardRef((e,t)=>{const{value:r,...n}=e,i=C.useRef(null),a=ct(t,i),u=rg(r);return C.useEffect(()=>{const m=i.current,g=window.HTMLSelectElement.prototype,w=Object.getOwnPropertyDescriptor(g,"value").set;if(u!==r&&w){const v=new Event("change",{bubbles:!0});w.call(m,r),m.dispatchEvent(v)}},[u,r]),f.jsx(Yc,{asChild:!0,children:f.jsx("select",{...n,ref:a,defaultValue:r})})});JS.displayName="BubbleSelect";function eA(e){const t=rr(e),r=C.useRef(""),n=C.useRef(0),i=C.useCallback(u=>{const m=r.current+u;t(m),function g(p){r.current=p,window.clearTimeout(n.current),p!==""&&(n.current=window.setTimeout(()=>g(""),1e3))}(m)},[t]),a=C.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function tA(e,t,r){const i=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let u=YD(e,Math.max(a,0));i.length===1&&(u=u.filter(p=>p!==r));const g=u.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return g!==r?g:void 0}function YD(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var KD=TS,rA=RS,QD=kS,ZD=PS,JD=jS,nA=DS,eM=BS,sA=VS,iA=HS,tM=$S,rM=qS,oA=XS,aA=YS,lA=QS;const cf=KD,uf=QD,Lc=C.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(rA,{ref:n,className:Oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,f.jsx(ZD,{asChild:!0,children:f.jsx($b,{className:"h-4 w-4 opacity-50"})})]}));Lc.displayName=rA.displayName;const cA=C.forwardRef(({className:e,...t},r)=>f.jsx(oA,{ref:r,className:Oe("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(D8,{className:"h-4 w-4"})}));cA.displayName=oA.displayName;const uA=C.forwardRef(({className:e,...t},r)=>f.jsx(aA,{ref:r,className:Oe("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx($b,{className:"h-4 w-4"})}));uA.displayName=aA.displayName;const Fc=C.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>f.jsx(JD,{children:f.jsxs(nA,{ref:i,className:Oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[f.jsx(cA,{}),f.jsx(eM,{className:Oe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),f.jsx(uA,{})]})}));Fc.displayName=nA.displayName;const nM=C.forwardRef(({className:e,...t},r)=>f.jsx(sA,{ref:r,className:Oe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));nM.displayName=sA.displayName;const hn=C.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(iA,{ref:n,className:Oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(rM,{children:f.jsx(gp,{className:"h-4 w-4"})})}),f.jsx(tM,{children:t})]}));hn.displayName=iA.displayName;const sM=C.forwardRef(({className:e,...t},r)=>f.jsx(lA,{ref:r,className:Oe("-mx-1 my-1 h-px bg-muted",e),...t}));sM.displayName=lA.displayName;function iM({search:e,statusFilter:t,locationFilter:r,locations:n,onSearchChange:i,onStatusFilterChange:a,onLocationFilterChange:u}){return f.jsxs(Ke,{className:"border-0 shadow-md",children:[f.jsx(pt,{children:f.jsx(mt,{className:"text-lg",children:"Filtros"})}),f.jsx(et,{children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx(V8,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),f.jsx(rt,{placeholder:"Buscar por nome ou código...",value:e,onChange:m=>i(m.target.value),className:"pl-10 pr-8"}),e&&f.jsx("button",{type:"button",onClick:()=>i(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":"Limpar busca",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs(cf,{value:t,onValueChange:a,children:[f.jsx(Lc,{children:f.jsx(uf,{placeholder:"Status"})}),f.jsxs(Fc,{children:[f.jsx(hn,{value:"all",children:"Todos os status"}),f.jsx(hn,{value:"ativo",children:f.jsx(Jt,{className:"bg-green-100 text-green-800",children:"ATIVO"})}),f.jsx(hn,{value:"manutenção",children:f.jsx(Jt,{className:"bg-yellow-100 text-yellow-800",children:"MANUTENÇÃO"})}),f.jsx(hn,{value:"baixado",children:f.jsx(Jt,{className:"bg-red-100 text-red-800",children:"BAIXADO"})})]})]}),f.jsxs(cf,{value:r,onValueChange:u,children:[f.jsx(Lc,{children:f.jsx(uf,{placeholder:"Localização"})}),f.jsxs(Fc,{children:[f.jsx(hn,{value:"all",children:"Todas as localizações"}),n==null?void 0:n.map(m=>f.jsx(hn,{value:m,children:m},m))]})]})]})})]})}const oM={ativo:"bg-green-100 text-green-800",manutenção:"bg-yellow-100 text-yellow-800",baixado:"bg-red-100 text-red-800"};function aM({asset:e,isLast:t=!1,onIntersect:r}){const n=a=>f.jsx(Jt,{className:oM[a],children:a.toUpperCase()}),i=t?r:void 0;return f.jsx(Ke,{className:"border-0 shadow-md hover:shadow-lg transition-shadow group",ref:i,children:f.jsxs(et,{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors truncate",children:e.name}),f.jsxs("p",{className:"text-sm text-gray-500",children:["#",e.code]})]}),n(e.status)]}),f.jsxs("div",{className:"space-y-2 mb-4",children:[f.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[f.jsx(vp,{className:"h-4 w-4 mr-2 flex-shrink-0"}),f.jsx("span",{className:"truncate",children:e.location?e.location:"-"})]}),f.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[f.jsx(xp,{className:"h-4 w-4 mr-2 flex-shrink-0"}),f.jsx("span",{children:e.value?qd(e.value):"-"})]}),f.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[f.jsx(pp,{className:"h-4 w-4 mr-2 flex-shrink-0"}),f.jsx("span",{children:e.acquisition_date?"Adiquirido em: "+L1(e.acquisition_date+"T00:00:00"):"Adicionado em: "+L1(e.created_at)})]})]}),f.jsx("div",{className:"flex justify-between items-center",children:f.jsx(Ne,{variant:"outline",size:"sm",asChild:!0,children:f.jsxs(kn,{to:`/assets/${e.id}`,children:[f.jsx(Oc,{className:"h-4 w-4 mr-2"}),"Ver Detalhes"]})})})]})})}function lM({assets:e,loading:t,loadingMore:r,hasMore:n,canEdit:i,isDesktop:a,onLoadMore:u}){const m=C.useRef(null),g=C.useRef(null),p=C.useCallback(w=>{!n||r||(m.current&&m.current.disconnect(),m.current=new IntersectionObserver(v=>{v[0].isIntersecting&&n&&!r&&u()}),w&&m.current.observe(w))},[n,r,u]);return t?f.jsx("div",{className:"col-span-full flex justify-center py-12",children:f.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),f.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[f.jsx(Ct,{className:"h-5 w-5 animate-pulse"}),f.jsx("span",{className:"text-base",children:"Carregando ativos..."})]})]})}):e.length===0?f.jsx("div",{className:"col-span-full",children:f.jsx(Ke,{className:"border-0 shadow-md",children:f.jsxs(et,{className:"text-center py-12",children:[f.jsx(Ct,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum ativo encontrado"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Comece adicionando seus primeiros ativos ao sistema"}),i&&f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[a&&f.jsxs(iu,{children:[f.jsx(Yf,{asChild:!0,children:f.jsxs(Ne,{variant:"outline",children:[f.jsx(bp,{className:"h-4 w-4 mr-2"}),"Importar CSV"]})}),f.jsxs(xl,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsx(ou,{children:f.jsx(au,{children:"Importar Ativos"})}),f.jsx(NS,{})]})]}),f.jsx(Ne,{asChild:!0,children:f.jsxs(kn,{to:"/assets/new",children:[f.jsx(Mf,{className:"h-4 w-4 mr-2"}),"Adicionar Primeiro Ativo"]})})]})]})})}):f.jsxs(f.Fragment,{children:[e.map((w,v)=>f.jsx(aM,{asset:w,isLast:v===e.length-1,onIntersect:p},w.id)),n&&r&&f.jsx("div",{ref:g,className:"col-span-full flex justify-center py-8",children:f.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),f.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[f.jsx(Ct,{className:"h-4 w-4 animate-pulse"}),f.jsx("span",{className:"text-sm",children:"Carregando mais ativos..."})]})]})})]})}var Ce;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ce||(Ce={}));var cy=new Map([[Ce.QR_CODE,"QR_CODE"],[Ce.AZTEC,"AZTEC"],[Ce.CODABAR,"CODABAR"],[Ce.CODE_39,"CODE_39"],[Ce.CODE_93,"CODE_93"],[Ce.CODE_128,"CODE_128"],[Ce.DATA_MATRIX,"DATA_MATRIX"],[Ce.MAXICODE,"MAXICODE"],[Ce.ITF,"ITF"],[Ce.EAN_13,"EAN_13"],[Ce.EAN_8,"EAN_8"],[Ce.PDF_417,"PDF_417"],[Ce.RSS_14,"RSS_14"],[Ce.RSS_EXPANDED,"RSS_EXPANDED"],[Ce.UPC_A,"UPC_A"],[Ce.UPC_E,"UPC_E"],[Ce.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),uy;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(uy||(uy={}));function cM(e){return Object.values(Ce).includes(e)}var df;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(df||(df={}));var uM=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[df.SCAN_TYPE_CAMERA,df.SCAN_TYPE_FILE],e}(),dA=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!cy.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,cy.get(t))},e}(),dy=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),om;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(om||(om={}));var dM=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:om.UNKWOWN_ERROR}},e}(),fM=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Rs(e){return typeof e>"u"||e===null}var va=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),fA=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),u=Object.keys(t),m=0,g=u;m<g.length;m++){var p=g[m];if(a.has(p))return r.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),am={exports:{}};(function(e,t){(function(r,n){n(t)})(xr,function(r){function n(O){return O==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,s){O.__proto__=s}||function(O,s){for(var o in s)s.hasOwnProperty(o)&&(O[o]=s[o])};function a(O,s){i(O,s);function o(){this.constructor=O}O.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}function u(O,s){var o=Object.setPrototypeOf;o?o(O,s):O.__proto__=s}function m(O,s){s===void 0&&(s=O.constructor);var o=Error.captureStackTrace;o&&o(O,s)}var g=function(O){a(s,O);function s(o){var l=this.constructor,c=O.call(this,o)||this;return Object.defineProperty(c,"name",{value:l.name,enumerable:!1}),u(c,l.prototype),m(c),c}return s}(Error);class p extends g{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}p.kind="Exception";class w extends p{}w.kind="ArgumentException";class v extends p{}v.kind="IllegalArgumentException";class E{constructor(s){if(this.binarizer=s,s===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,o){return this.binarizer.getBlackRow(s,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,o,l,c){const d=this.binarizer.getLuminanceSource().crop(s,o,l,c);return new E(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends p{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class R{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class N{static arraycopy(s,o,l,c,d){for(;d--;)l[c++]=s[o++]}static currentTimeMillis(){return Date.now()}}class P extends p{}P.kind="IndexOutOfBoundsException";class I extends P{constructor(s=void 0,o=void 0){super(o),this.index=s,this.message=o}}I.kind="ArrayIndexOutOfBoundsException";class A{static fill(s,o){for(let l=0,c=s.length;l<c;l++)s[l]=o}static fillWithin(s,o,l,c){A.rangeCheck(s.length,o,l);for(let d=o;d<l;d++)s[d]=c}static rangeCheck(s,o,l){if(o>l)throw new v("fromIndex("+o+") > toIndex("+l+")");if(o<0)throw new I(o);if(l>s)throw new I(l)}static asList(...s){return s}static create(s,o,l){return Array.from({length:s}).map(d=>Array.from({length:o}).fill(l))}static createInt32Array(s,o,l){return Array.from({length:s}).map(d=>Int32Array.from({length:o}).fill(l))}static equals(s,o){if(!s||!o||!s.length||!o.length||s.length!==o.length)return!1;for(let l=0,c=s.length;l<c;l++)if(s[l]!==o[l])return!1;return!0}static hashCode(s){if(s===null)return 0;let o=1;for(const l of s)o=31*o+l;return o}static fillUint8Array(s,o){for(let l=0;l!==s.length;l++)s[l]=o}static copyOf(s,o){return s.slice(0,o)}static copyOfUint8Array(s,o){if(s.length<=o){const l=new Uint8Array(o);return l.set(s),l}return s.slice(0,o)}static copyOfRange(s,o,l){const c=l-o,d=new Int32Array(c);return N.arraycopy(s,o,d,0,c),d}static binarySearch(s,o,l){l===void 0&&(l=A.numberComparator);let c=0,d=s.length-1;for(;c<=d;){const h=d+c>>1,x=l(o,s[h]);if(x>0)c=h+1;else if(x<0)d=h-1;else return h}return-c-1}static numberComparator(s,o){return s-o}}class S{static numberOfTrailingZeros(s){let o;if(s===0)return 32;let l=31;return o=s<<16,o!==0&&(l-=16,s=o),o=s<<8,o!==0&&(l-=8,s=o),o=s<<4,o!==0&&(l-=4,s=o),o=s<<2,o!==0&&(l-=2,s=o),l-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let o=1;return s>>>16||(o+=16,s<<=16),s>>>24||(o+=8,s<<=8),s>>>28||(o+=4,s<<=4),s>>>30||(o+=2,s<<=2),o-=s>>>31,o}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,o){return Math.trunc(s/o)}static parseInt(s,o=void 0){return parseInt(s,o)}}S.MIN_VALUE_32_BITS=-2147483648,S.MAX_VALUE=Number.MAX_SAFE_INTEGER;class j{constructor(s,o){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,o==null?this.bits=j.makeArray(s):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const o=j.makeArray(s);N.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const o=this.size;if(s>=o)return o;const l=this.bits;let c=Math.floor(s/32),d=l[c];d&=~((1<<(s&31))-1);const h=l.length;for(;d===0;){if(++c===h)return o;d=l[c]}const x=c*32+S.numberOfTrailingZeros(d);return x>o?o:x}getNextUnset(s){const o=this.size;if(s>=o)return o;const l=this.bits;let c=Math.floor(s/32),d=~l[c];d&=~((1<<(s&31))-1);const h=l.length;for(;d===0;){if(++c===h)return o;d=~l[c]}const x=c*32+S.numberOfTrailingZeros(d);return x>o?o:x}setBulk(s,o){this.bits[Math.floor(s/32)]=o}setRange(s,o){if(o<s||s<0||o>this.size)throw new v;if(o===s)return;o--;const l=Math.floor(s/32),c=Math.floor(o/32),d=this.bits;for(let h=l;h<=c;h++){const x=h>l?0:s&31,b=(2<<(h<c?31:o&31))-(1<<x);d[h]|=b}}clear(){const s=this.bits.length,o=this.bits;for(let l=0;l<s;l++)o[l]=0}isRange(s,o,l){if(o<s||s<0||o>this.size)throw new v;if(o===s)return!0;o--;const c=Math.floor(s/32),d=Math.floor(o/32),h=this.bits;for(let x=c;x<=d;x++){const y=x>c?0:s&31,T=(2<<(x<d?31:o&31))-(1<<y)&4294967295;if((h[x]&T)!==(l?T:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,o){if(o<0||o>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let l=o;l>0;l--)this.appendBit((s>>l-1&1)===1)}appendBitArray(s){const o=s.size;this.ensureCapacity(this.size+o);for(let l=0;l<o;l++)this.appendBit(s.get(l))}xor(s){if(this.size!==s.size)throw new v("Sizes don't match");const o=this.bits;for(let l=0,c=o.length;l<c;l++)o[l]^=s.bits[l]}toBytes(s,o,l,c){for(let d=0;d<c;d++){let h=0;for(let x=0;x<8;x++)this.get(s)&&(h|=1<<7-x),s++;o[l+d]=h}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),l=o+1,c=this.bits;for(let d=0;d<l;d++){let h=c[d];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,s[o-d]=h}if(this.size!==l*32){const d=l*32-this.size;let h=s[0]>>>d;for(let x=1;x<l;x++){const y=s[x];h|=y<<32-d,s[x-1]=h,h=y>>>d}s[l-1]=h}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof j))return!1;const o=s;return this.size===o.size&&A.equals(this.bits,o.bits)}hashCode(){return 31*this.size+A.hashCode(this.bits)}toString(){let s="";for(let o=0,l=this.size;o<l;o++)o&7||(s+=" "),s+=this.get(o)?"X":".";return s}clone(){return new j(this.size,this.bits.slice())}}var z;(function(O){O[O.OTHER=0]="OTHER",O[O.PURE_BARCODE=1]="PURE_BARCODE",O[O.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",O[O.TRY_HARDER=3]="TRY_HARDER",O[O.CHARACTER_SET=4]="CHARACTER_SET",O[O.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",O[O.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",O[O.ASSUME_GS1=7]="ASSUME_GS1",O[O.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",O[O.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",O[O.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(z||(z={}));var V=z;class F extends p{static getFormatInstance(){return new F}}F.kind="FormatException";var L;(function(O){O[O.Cp437=0]="Cp437",O[O.ISO8859_1=1]="ISO8859_1",O[O.ISO8859_2=2]="ISO8859_2",O[O.ISO8859_3=3]="ISO8859_3",O[O.ISO8859_4=4]="ISO8859_4",O[O.ISO8859_5=5]="ISO8859_5",O[O.ISO8859_6=6]="ISO8859_6",O[O.ISO8859_7=7]="ISO8859_7",O[O.ISO8859_8=8]="ISO8859_8",O[O.ISO8859_9=9]="ISO8859_9",O[O.ISO8859_10=10]="ISO8859_10",O[O.ISO8859_11=11]="ISO8859_11",O[O.ISO8859_13=12]="ISO8859_13",O[O.ISO8859_14=13]="ISO8859_14",O[O.ISO8859_15=14]="ISO8859_15",O[O.ISO8859_16=15]="ISO8859_16",O[O.SJIS=16]="SJIS",O[O.Cp1250=17]="Cp1250",O[O.Cp1251=18]="Cp1251",O[O.Cp1252=19]="Cp1252",O[O.Cp1256=20]="Cp1256",O[O.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",O[O.UTF8=22]="UTF8",O[O.ASCII=23]="ASCII",O[O.Big5=24]="Big5",O[O.GB18030=25]="GB18030",O[O.EUC_KR=26]="EUC_KR"})(L||(L={}));class D{constructor(s,o,l,...c){this.valueIdentifier=s,this.name=l,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=c,D.VALUE_IDENTIFIER_TO_ECI.set(s,this),D.NAME_TO_ECI.set(l,this);const d=this.values;for(let h=0,x=d.length;h!==x;h++){const y=d[h];D.VALUES_TO_ECI.set(y,this)}for(const h of c)D.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new F("incorect value");const o=D.VALUES_TO_ECI.get(s);if(o===void 0)throw new F("incorect value");return o}static getCharacterSetECIByName(s){const o=D.NAME_TO_ECI.get(s);if(o===void 0)throw new F("incorect value");return o}equals(s){if(!(s instanceof D))return!1;const o=s;return this.getName()===o.getName()}}D.VALUE_IDENTIFIER_TO_ECI=new Map,D.VALUES_TO_ECI=new Map,D.NAME_TO_ECI=new Map,D.Cp437=new D(L.Cp437,Int32Array.from([0,2]),"Cp437"),D.ISO8859_1=new D(L.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),D.ISO8859_2=new D(L.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),D.ISO8859_3=new D(L.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),D.ISO8859_4=new D(L.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),D.ISO8859_5=new D(L.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),D.ISO8859_6=new D(L.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),D.ISO8859_7=new D(L.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),D.ISO8859_8=new D(L.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),D.ISO8859_9=new D(L.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),D.ISO8859_10=new D(L.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),D.ISO8859_11=new D(L.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),D.ISO8859_13=new D(L.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),D.ISO8859_14=new D(L.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),D.ISO8859_15=new D(L.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),D.ISO8859_16=new D(L.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),D.SJIS=new D(L.SJIS,20,"SJIS","Shift_JIS"),D.Cp1250=new D(L.Cp1250,21,"Cp1250","windows-1250"),D.Cp1251=new D(L.Cp1251,22,"Cp1251","windows-1251"),D.Cp1252=new D(L.Cp1252,23,"Cp1252","windows-1252"),D.Cp1256=new D(L.Cp1256,24,"Cp1256","windows-1256"),D.UnicodeBigUnmarked=new D(L.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),D.UTF8=new D(L.UTF8,26,"UTF8","UTF-8"),D.ASCII=new D(L.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),D.Big5=new D(L.Big5,28,"Big5"),D.GB18030=new D(L.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),D.EUC_KR=new D(L.EUC_KR,30,"EUC_KR","EUC-KR");class W extends p{}W.kind="UnsupportedOperationException";class Q{static decode(s,o){const l=this.encodingName(o);return this.customDecoder?this.customDecoder(s,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(s,l):new TextDecoder(l).decode(s)}static shouldDecodeOnFallback(s){return!Q.isBrowser()&&s==="ISO-8859-1"}static encode(s,o){const l=this.encodingName(o);return this.customEncoder?this.customEncoder(s,l):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof D?s:D.getCharacterSetECIByName(s)}static decodeFallback(s,o){const l=this.encodingCharacterSet(o);if(Q.isDecodeFallbackSupported(l)){let c="";for(let d=0,h=s.length;d<h;d++){let x=s[d].toString(16);x.length<2&&(x="0"+x),c+="%"+x}return decodeURIComponent(c)}if(l.equals(D.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new W(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(D.UTF8)||s.equals(D.ISO8859_1)||s.equals(D.ASCII)}static encodeFallback(s){const l=btoa(unescape(encodeURIComponent(s))).split(""),c=[];for(let d=0;d<l.length;d++)c.push(l[d].charCodeAt(0));return new Uint8Array(c)}}class q{static castAsNonUtf8Char(s,o=null){const l=o?o.getName():this.ISO88591;return Q.decode(new Uint8Array([s]),l)}static guessEncoding(s,o){if(o!=null&&o.get(V.CHARACTER_SET)!==void 0)return o.get(V.CHARACTER_SET).toString();const l=s.length;let c=!0,d=!0,h=!0,x=0,y=0,b=0,T=0,k=0,M=0,U=0,H=0,G=0,Y=0,ee=0;const le=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let ce=0;ce<l&&(c||d||h);ce++){const oe=s[ce]&255;h&&(x>0?oe&128?x--:h=!1:oe&128&&(oe&64?(x++,oe&32?(x++,oe&16?(x++,oe&8?h=!1:T++):b++):y++):h=!1)),c&&(oe>127&&oe<160?c=!1:oe>159&&(oe<192||oe===215||oe===247)&&ee++),d&&(k>0?oe<64||oe===127||oe>252?d=!1:k--:oe===128||oe===160||oe>239?d=!1:oe>160&&oe<224?(M++,H=0,U++,U>G&&(G=U)):oe>127?(k++,U=0,H++,H>Y&&(Y=H)):(U=0,H=0))}return h&&x>0&&(h=!1),d&&k>0&&(d=!1),h&&(le||y+b+T>0)?q.UTF8:d&&(q.ASSUME_SHIFT_JIS||G>=3||Y>=3)?q.SHIFT_JIS:c&&d?G===2&&M===2||ee*10>=l?q.SHIFT_JIS:q.ISO88591:c?q.ISO88591:d?q.SHIFT_JIS:h?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(s,...o){let l=-1;function c(h,x,y,b,T,k){if(h==="%%")return"%";if(o[++l]===void 0)return;h=b?parseInt(b.substr(1)):void 0;let M=T?parseInt(T.substr(1)):void 0,U;switch(k){case"s":U=o[l];break;case"c":U=o[l][0];break;case"f":U=parseFloat(o[l]).toFixed(h);break;case"p":U=parseFloat(o[l]).toPrecision(h);break;case"e":U=parseFloat(o[l]).toExponential(h);break;case"x":U=parseInt(o[l]).toString(M||16);break;case"d":U=parseFloat(parseInt(o[l],M||10).toPrecision(h)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(M);let H=parseInt(y),G=y&&y[0]+""=="0"?"0":" ";for(;U.length<H;)U=x!==void 0?U+G:G+U;return U}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(d,c)}static getBytes(s,o){return Q.encode(s,o)}static getCharCode(s,o=0){return s.charCodeAt(o)}static getCharAt(s){return String.fromCharCode(s)}}q.SHIFT_JIS=D.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=D.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=D.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class se{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=q.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,o,l){for(let c=o;o<o+l;c++)this.append(s[c]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+1)}substring(s,o){return this.value.substring(s,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+o.length)}}class ne{constructor(s,o,l,c){if(this.width=s,this.height=o,this.rowSize=l,this.bits=c,o==null&&(o=s),this.height=o,s<1||o<1)throw new v("Both dimensions must be greater than 0");l==null&&(l=Math.floor((s+31)/32)),this.rowSize=l,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const o=s.length,l=s[0].length,c=new ne(l,o);for(let d=0;d<o;d++){const h=s[d];for(let x=0;x<l;x++)h[x]&&c.set(x,d)}return c}static parseFromString(s,o,l){if(s===null)throw new v("stringRepresentation cannot be null");const c=new Array(s.length);let d=0,h=0,x=-1,y=0,b=0;for(;b<s.length;)if(s.charAt(b)===`
`||s.charAt(b)==="\r"){if(d>h){if(x===-1)x=d-h;else if(d-h!==x)throw new v("row lengths do not match");h=d,y++}b++}else if(s.substring(b,b+o.length)===o)b+=o.length,c[d]=!0,d++;else if(s.substring(b,b+l.length)===l)b+=l.length,c[d]=!1,d++;else throw new v("illegal character encountered: "+s.substring(b));if(d>h){if(x===-1)x=d-h;else if(d-h!==x)throw new v("row lengths do not match");y++}const T=new ne(x,y);for(let k=0;k<d;k++)c[k]&&T.set(Math.floor(k%x),Math.floor(k/x));return T}get(s,o){const l=o*this.rowSize+Math.floor(s/32);return(this.bits[l]>>>(s&31)&1)!==0}set(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]|=1<<(s&31)&4294967295}unset(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]&=~(1<<(s&31)&4294967295)}flip(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new v("input matrix dimensions do not match");const o=new j(Math.floor(this.width/32)+1),l=this.rowSize,c=this.bits;for(let d=0,h=this.height;d<h;d++){const x=d*l,y=s.getRow(d,o).getBitArray();for(let b=0;b<l;b++)c[x+b]^=y[b]}}clear(){const s=this.bits,o=s.length;for(let l=0;l<o;l++)s[l]=0}setRegion(s,o,l,c){if(o<0||s<0)throw new v("Left and top must be nonnegative");if(c<1||l<1)throw new v("Height and width must be at least 1");const d=s+l,h=o+c;if(h>this.height||d>this.width)throw new v("The region must fit inside the matrix");const x=this.rowSize,y=this.bits;for(let b=o;b<h;b++){const T=b*x;for(let k=s;k<d;k++)y[T+Math.floor(k/32)]|=1<<(k&31)&4294967295}}getRow(s,o){o==null||o.getSize()<this.width?o=new j(this.width):o.clear();const l=this.rowSize,c=this.bits,d=s*l;for(let h=0;h<l;h++)o.setBulk(h*32,c[d+h]);return o}setRow(s,o){N.arraycopy(o.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),o=this.getHeight();let l=new j(s),c=new j(s);for(let d=0,h=Math.floor((o+1)/2);d<h;d++)l=this.getRow(d,l),c=this.getRow(o-1-d,c),l.reverse(),c.reverse(),this.setRow(d,c),this.setRow(o-1-d,l)}getEnclosingRectangle(){const s=this.width,o=this.height,l=this.rowSize,c=this.bits;let d=s,h=o,x=-1,y=-1;for(let b=0;b<o;b++)for(let T=0;T<l;T++){const k=c[b*l+T];if(k!==0){if(b<h&&(h=b),b>y&&(y=b),T*32<d){let M=0;for(;!(k<<31-M&4294967295);)M++;T*32+M<d&&(d=T*32+M)}if(T*32+31>x){let M=31;for(;!(k>>>M);)M--;T*32+M>x&&(x=T*32+M)}}}return x<d||y<h?null:Int32Array.from([d,h,x-d+1,y-h+1])}getTopLeftOnBit(){const s=this.rowSize,o=this.bits;let l=0;for(;l<o.length&&o[l]===0;)l++;if(l===o.length)return null;const c=l/s;let d=l%s*32;const h=o[l];let x=0;for(;!(h<<31-x&4294967295);)x++;return d+=x,Int32Array.from([d,c])}getBottomRightOnBit(){const s=this.rowSize,o=this.bits;let l=o.length-1;for(;l>=0&&o[l]===0;)l--;if(l<0)return null;const c=Math.floor(l/s);let d=Math.floor(l%s)*32;const h=o[l];let x=31;for(;!(h>>>x);)x--;return d+=x,Int32Array.from([d,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof ne))return!1;const o=s;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&A.equals(this.bits,o.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+A.hashCode(this.bits),s}toString(s="X ",o="  ",l=`
`){return this.buildToString(s,o,l)}buildToString(s,o,l){let c=new se;for(let d=0,h=this.height;d<h;d++){for(let x=0,y=this.width;x<y;x++)c.append(this.get(x,d)?s:o);c.append(l)}return c.toString()}clone(){return new ne(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends p{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class fe extends R{constructor(s){super(s),this.luminances=fe.EMPTY,this.buckets=new Int32Array(fe.LUMINANCE_BUCKETS)}getBlackRow(s,o){const l=this.getLuminanceSource(),c=l.getWidth();o==null||o.getSize()<c?o=new j(c):o.clear(),this.initArrays(c);const d=l.getRow(s,this.luminances),h=this.buckets;for(let y=0;y<c;y++)h[(d[y]&255)>>fe.LUMINANCE_SHIFT]++;const x=fe.estimateBlackPoint(h);if(c<3)for(let y=0;y<c;y++)(d[y]&255)<x&&o.set(y);else{let y=d[0]&255,b=d[1]&255;for(let T=1;T<c-1;T++){const k=d[T+1]&255;(b*4-y-k)/2<x&&o.set(T),y=b,b=k}}return o}getBlackMatrix(){const s=this.getLuminanceSource(),o=s.getWidth(),l=s.getHeight(),c=new ne(o,l);this.initArrays(o);const d=this.buckets;for(let y=1;y<5;y++){const b=Math.floor(l*y/5),T=s.getRow(b,this.luminances),k=Math.floor(o*4/5);for(let M=Math.floor(o/5);M<k;M++){const U=T[M]&255;d[U>>fe.LUMINANCE_SHIFT]++}}const h=fe.estimateBlackPoint(d),x=s.getMatrix();for(let y=0;y<l;y++){const b=y*o;for(let T=0;T<o;T++)(x[b+T]&255)<h&&c.set(T,y)}return c}createBinarizer(s){return new fe(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const o=this.buckets;for(let l=0;l<fe.LUMINANCE_BUCKETS;l++)o[l]=0}static estimateBlackPoint(s){const o=s.length;let l=0,c=0,d=0;for(let T=0;T<o;T++)s[T]>d&&(c=T,d=s[T]),s[T]>l&&(l=s[T]);let h=0,x=0;for(let T=0;T<o;T++){const k=T-c,M=s[T]*k*k;M>x&&(h=T,x=M)}if(c>h){const T=c;c=h,h=T}if(h-c<=o/16)throw new X;let y=h-1,b=-1;for(let T=h-1;T>c;T--){const k=T-c,M=k*k*(h-T)*(l-s[T]);M>b&&(y=T,b=M)}return y<<fe.LUMINANCE_SHIFT}}fe.LUMINANCE_BITS=5,fe.LUMINANCE_SHIFT=8-fe.LUMINANCE_BITS,fe.LUMINANCE_BUCKETS=1<<fe.LUMINANCE_BITS,fe.EMPTY=Uint8ClampedArray.from([0]);class re extends fe{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),o=s.getWidth(),l=s.getHeight();if(o>=re.MINIMUM_DIMENSION&&l>=re.MINIMUM_DIMENSION){const c=s.getMatrix();let d=o>>re.BLOCK_SIZE_POWER;o&re.BLOCK_SIZE_MASK&&d++;let h=l>>re.BLOCK_SIZE_POWER;l&re.BLOCK_SIZE_MASK&&h++;const x=re.calculateBlackPoints(c,d,h,o,l),y=new ne(o,l);re.calculateThresholdForBlock(c,d,h,o,l,x,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new re(s)}static calculateThresholdForBlock(s,o,l,c,d,h,x){const y=d-re.BLOCK_SIZE,b=c-re.BLOCK_SIZE;for(let T=0;T<l;T++){let k=T<<re.BLOCK_SIZE_POWER;k>y&&(k=y);const M=re.cap(T,2,l-3);for(let U=0;U<o;U++){let H=U<<re.BLOCK_SIZE_POWER;H>b&&(H=b);const G=re.cap(U,2,o-3);let Y=0;for(let le=-2;le<=2;le++){const ce=h[M+le];Y+=ce[G-2]+ce[G-1]+ce[G]+ce[G+1]+ce[G+2]}const ee=Y/25;re.thresholdBlock(s,H,k,ee,c,x)}}}static cap(s,o,l){return s<o?o:s>l?l:s}static thresholdBlock(s,o,l,c,d,h){for(let x=0,y=l*d+o;x<re.BLOCK_SIZE;x++,y+=d)for(let b=0;b<re.BLOCK_SIZE;b++)(s[y+b]&255)<=c&&h.set(o+b,l+x)}static calculateBlackPoints(s,o,l,c,d){const h=d-re.BLOCK_SIZE,x=c-re.BLOCK_SIZE,y=new Array(l);for(let b=0;b<l;b++){y[b]=new Int32Array(o);let T=b<<re.BLOCK_SIZE_POWER;T>h&&(T=h);for(let k=0;k<o;k++){let M=k<<re.BLOCK_SIZE_POWER;M>x&&(M=x);let U=0,H=255,G=0;for(let ee=0,le=T*c+M;ee<re.BLOCK_SIZE;ee++,le+=c){for(let ce=0;ce<re.BLOCK_SIZE;ce++){const oe=s[le+ce]&255;U+=oe,oe<H&&(H=oe),oe>G&&(G=oe)}if(G-H>re.MIN_DYNAMIC_RANGE)for(ee++,le+=c;ee<re.BLOCK_SIZE;ee++,le+=c)for(let ce=0;ce<re.BLOCK_SIZE;ce++)U+=s[le+ce]&255}let Y=U>>re.BLOCK_SIZE_POWER*2;if(G-H<=re.MIN_DYNAMIC_RANGE&&(Y=H/2,b>0&&k>0)){const ee=(y[b-1][k]+2*y[b][k-1]+y[b-1][k-1])/4;H<ee&&(Y=ee)}y[b][k]=Y}}return y}}re.BLOCK_SIZE_POWER=3,re.BLOCK_SIZE=1<<re.BLOCK_SIZE_POWER,re.BLOCK_SIZE_MASK=re.BLOCK_SIZE-1,re.MINIMUM_DIMENSION=re.BLOCK_SIZE*5,re.MIN_DYNAMIC_RANGE=24;class Z{constructor(s,o){this.width=s,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,o,l,c){throw new W("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new W("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new W("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let o=new se;for(let l=0;l<this.height;l++){const c=this.getRow(l,s);for(let d=0;d<this.width;d++){const h=c[d]&255;let x;h<64?x="#":h<128?x="+":h<192?x=".":x=" ",o.append(x)}o.append(`
`)}return o.toString()}}class te extends Z{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,o){const l=this.delegate.getRow(s,o),c=this.getWidth();for(let d=0;d<c;d++)l[d]=255-(l[d]&255);return l}getMatrix(){const s=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(o);for(let c=0;c<o;c++)l[c]=255-(s[c]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(s,o,l,c){return new te(this.delegate.crop(s,o,l,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new te(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new te(this.delegate.rotateCounterClockwise45())}}class he extends Z{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=he.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const o=s.getContext("2d").getImageData(0,0,s.width,s.height);return he.toGrayscaleBuffer(o.data,s.width,s.height)}static toGrayscaleBuffer(s,o,l){const c=new Uint8ClampedArray(o*l);for(let d=0,h=0,x=s.length;d<x;d+=4,h++){let y;if(s[d+3]===0)y=255;else{const T=s[d],k=s[d+1],M=s[d+2];y=306*T+601*k+117*M+512>>10}c[h]=y}return c}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const l=this.getWidth(),c=s*l;return o===null?o=this.buffer.slice(c,c+l):(o.length<l&&(o=new Uint8ClampedArray(l)),o.set(this.buffer.slice(c,c+l))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,o,l,c){return super.crop(s,o,l,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const o=this.getTempCanvasElement(),l=o.getContext("2d"),c=s*he.DEGREE_TO_RADIANS,d=this.canvas.width,h=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(c))*d+Math.abs(Math.sin(c))*h),y=Math.ceil(Math.abs(Math.sin(c))*d+Math.abs(Math.cos(c))*h);return o.width=x,o.height=y,l.translate(x/2,y/2),l.rotate(c),l.drawImage(this.canvas,d/-2,h/-2),this.buffer=he.makeBufferFromCanvasImageData(o),this}invert(){return new te(this)}}he.DEGREE_TO_RADIANS=Math.PI/180;class ue{constructor(s,o,l){this.deviceId=s,this.label=o,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ge=(globalThis||xr||self||window||void 0)&&(globalThis||xr||self||window||void 0).__awaiter||function(O,s,o,l){function c(d){return d instanceof o?d:new o(function(h){h(d)})}return new(o||(o=Promise))(function(d,h){function x(T){try{b(l.next(T))}catch(k){h(k)}}function y(T){try{b(l.throw(T))}catch(k){h(k)}}function b(T){T.done?d(T.value):c(T.value).then(x,y)}b((l=l.apply(O,s||[])).next())})};class we{constructor(s,o=500,l){this.reader=s,this.timeBetweenScansMillis=o,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return ge(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const l of s){const c=l.kind==="video"?"videoinput":l.kind;if(c!=="videoinput")continue;const d=l.deviceId||l.id,h=l.label||`Video device ${o.length+1}`,x=l.groupId,y={deviceId:d,label:h,kind:c,groupId:x};o.push(y)}return o})}getVideoInputDevices(){return ge(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new ue(o.deviceId,o.label))})}findDeviceById(s){return ge(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(l=>l.deviceId===s):null})}decodeFromInputVideoDevice(s,o){return ge(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,o)})}decodeOnceFromVideoDevice(s,o){return ge(this,void 0,void 0,function*(){this.reset();let l;s?l={deviceId:{exact:s}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeOnceFromConstraints(c,o)})}decodeOnceFromConstraints(s,o){return ge(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(l,o)})}decodeOnceFromStream(s,o){return ge(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(s,o);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(s,o,l){return ge(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,o,l)})}decodeFromVideoDevice(s,o,l){return ge(this,void 0,void 0,function*(){let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const d={video:c};return yield this.decodeFromConstraints(d,o,l)})}decodeFromConstraints(s,o,l){return ge(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(c,o,l)})}decodeFromStream(s,o,l){return ge(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,o);return yield this.decodeContinuously(c,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,o){return ge(this,void 0,void 0,function*(){const l=this.prepareVideoElement(o);return this.addVideoSource(l,s),this.videoElement=l,this.stream=s,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(s){return new Promise((o,l)=>this.playVideoOnLoad(s,()=>o()))}playVideoOnLoad(s,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",o),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return ge(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,o){const l=document.getElementById(s);if(!l)throw new w(`element with id '${s}' not found`);if(l.nodeName.toLowerCase()!==o.toLowerCase())throw new w(`element with id '${s}' must be an ${o} element`);return l}decodeFromImage(s,o){if(!s&&!o)throw new w("either imageElement with a src set or an url must be provided");return o&&!s?this.decodeFromImageUrl(o):this.decodeFromImageElement(s)}decodeFromVideo(s,o){if(!s&&!o)throw new w("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,o,l){if(s===void 0&&o===void 0)throw new w("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrlContinuously(o,l):this.decodeFromVideoElementContinuously(s,l)}decodeFromImageElement(s){if(!s)throw new w("An image element must be provided.");this.reset();const o=this.prepareImageElement(s);this.imageElement=o;let l;return this.isImageLoaded(o)?l=this.decodeOnce(o,!1,!0):l=this._decodeOnLoadImage(o),l}decodeFromVideoElement(s){const o=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(s,o){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(l,o)}_decodeFromVideoElementSetup(s){if(!s)throw new w("A video element must be provided.");this.reset();const o=this.prepareVideoElement(s);return this.videoElement=o,o}decodeFromImageUrl(s){if(!s)throw new w("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const l=this._decodeOnLoadImage(o);return o.src=s,l}decodeFromVideoUrl(s){if(!s)throw new w("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElement(o);return o.src=s,l}decodeFromVideoUrlContinuously(s,o){if(!s)throw new w("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(l,o);return l.src=s,c}_decodeOnLoadImage(s){return new Promise((o,l)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(o,l),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return ge(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,o){return ge(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,o)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let o;return typeof s>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(o=s),o}prepareVideoElement(s){let o;return!s&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(o=s),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(s,o=!0,l=!0){this._stopAsyncDecode=!1;const c=(d,h)=>{if(this._stopAsyncDecode){h(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(s);d(x)}catch(x){const y=o&&x instanceof X,T=(x instanceof _||x instanceof F)&&l;if(y||T)return setTimeout(c,this._timeBetweenDecodingAttempts,d,h);h(x)}};return new Promise((d,h)=>c(d,h))}decodeContinuously(s,o){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(s);o(c,null),setTimeout(l,this.timeBetweenScansMillis)}catch(c){o(null,c);const d=c instanceof _||c instanceof F,h=c instanceof X;(d||h)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(s){const o=this.createBinaryBitmap(s);return this.decodeBitmap(o)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,o,l){o||(o={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(s,o,l=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const o=this.getCaptureCanvas(s),l=new he(o),c=new re(l);return new E(c)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const o=this.createCaptureCanvas(s);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let l,c;return typeof s<"u"&&(s instanceof HTMLVideoElement?(l=s.videoWidth,c=s.videoHeight):s instanceof HTMLImageElement&&(l=s.naturalWidth||s.width,c=s.naturalHeight||s.height)),o.style.width=l+"px",o.style.height=c+"px",o.width=l,o.height=c,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,o){try{s.srcObject=o}catch{s.src=URL.createObjectURL(o)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class ke{constructor(s,o,l=o==null?0:8*o.length,c,d,h=N.currentTimeMillis()){this.text=s,this.rawBytes=o,this.numBits=l,this.resultPoints=c,this.format=d,this.timestamp=h,this.text=s,this.rawBytes=o,l==null?this.numBits=o==null?0:8*o.length:this.numBits=l,this.resultPoints=c,this.format=d,this.resultMetadata=null,h==null?this.timestamp=N.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,o)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const o=this.resultPoints;if(o===null)this.resultPoints=s;else if(s!==null&&s.length>0){const l=new Array(o.length+s.length);N.arraycopy(o,0,l,0,o.length),N.arraycopy(s,0,l,o.length,s.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ot;(function(O){O[O.AZTEC=0]="AZTEC",O[O.CODABAR=1]="CODABAR",O[O.CODE_39=2]="CODE_39",O[O.CODE_93=3]="CODE_93",O[O.CODE_128=4]="CODE_128",O[O.DATA_MATRIX=5]="DATA_MATRIX",O[O.EAN_8=6]="EAN_8",O[O.EAN_13=7]="EAN_13",O[O.ITF=8]="ITF",O[O.MAXICODE=9]="MAXICODE",O[O.PDF_417=10]="PDF_417",O[O.QR_CODE=11]="QR_CODE",O[O.RSS_14=12]="RSS_14",O[O.RSS_EXPANDED=13]="RSS_EXPANDED",O[O.UPC_A=14]="UPC_A",O[O.UPC_E=15]="UPC_E",O[O.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ot||(ot={}));var de=ot,Ee;(function(O){O[O.OTHER=0]="OTHER",O[O.ORIENTATION=1]="ORIENTATION",O[O.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",O[O.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",O[O.ISSUE_NUMBER=4]="ISSUE_NUMBER",O[O.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",O[O.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",O[O.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",O[O.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",O[O.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",O[O.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ee||(Ee={}));var xe=Ee;class je{constructor(s,o,l,c,d=-1,h=-1){this.rawBytes=s,this.text=o,this.byteSegments=l,this.ecLevel=c,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=h,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Pe{exp(s){return this.expTable[s]}log(s){if(s===0)throw new v;return this.logTable[s]}static addOrSubtract(s,o){return s^o}}class pe{constructor(s,o){if(o.length===0)throw new v;this.field=s;const l=o.length;if(l>1&&o[0]===0){let c=1;for(;c<l&&o[c]===0;)c++;c===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-c),N.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const o=this.coefficients;let l;if(s===1){l=0;for(let h=0,x=o.length;h!==x;h++){const y=o[h];l=Pe.addOrSubtract(l,y)}return l}l=o[0];const c=o.length,d=this.field;for(let h=1;h<c;h++)l=Pe.addOrSubtract(d.multiply(s,l),o[h]);return l}addOrSubtract(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,l=s.coefficients;if(o.length>l.length){const h=o;o=l,l=h}let c=new Int32Array(l.length);const d=l.length-o.length;N.arraycopy(l,0,c,0,d);for(let h=d;h<l.length;h++)c[h]=Pe.addOrSubtract(o[h-d],l[h]);return new pe(this.field,c)}multiply(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const o=this.coefficients,l=o.length,c=s.coefficients,d=c.length,h=new Int32Array(l+d-1),x=this.field;for(let y=0;y<l;y++){const b=o[y];for(let T=0;T<d;T++)h[y+T]=Pe.addOrSubtract(h[y+T],x.multiply(b,c[T]))}return new pe(x,h)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const o=this.coefficients.length,l=this.field,c=new Int32Array(o),d=this.coefficients;for(let h=0;h<o;h++)c[h]=l.multiply(d[h],s);return new pe(l,c)}multiplyByMonomial(s,o){if(s<0)throw new v;if(o===0)return this.field.getZero();const l=this.coefficients,c=l.length,d=new Int32Array(c+s),h=this.field;for(let x=0;x<c;x++)d[x]=h.multiply(l[x],o);return new pe(h,d)}divide(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new v("Divide by 0");const o=this.field;let l=o.getZero(),c=this;const d=s.getCoefficient(s.getDegree()),h=o.inverse(d);for(;c.getDegree()>=s.getDegree()&&!c.isZero();){const x=c.getDegree()-s.getDegree(),y=o.multiply(c.getCoefficient(c.getDegree()),h),b=s.multiplyByMonomial(x,y),T=o.buildMonomial(x,y);l=l.addOrSubtract(T),c=c.addOrSubtract(b)}return[l,c]}toString(){let s="";for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);if(l!==0){if(l<0?(s+=" - ",l=-l):s.length>0&&(s+=" + "),o===0||l!==1){const c=this.field.log(l);c===0?s+="1":c===1?s+="a":(s+="a^",s+=c)}o!==0&&(o===1?s+="x":(s+="x^",s+=o))}}return s}}class Ie extends p{}Ie.kind="ArithmeticException";class Ae extends Pe{constructor(s,o,l){super(),this.primitive=s,this.size=o,this.generatorBase=l;const c=new Int32Array(o);let d=1;for(let x=0;x<o;x++)c[x]=d,d*=2,d>=o&&(d^=s,d&=o-1);this.expTable=c;const h=new Int32Array(o);for(let x=0;x<o-1;x++)h[c[x]]=x;this.logTable=h,this.zero=new pe(this,Int32Array.from([0])),this.one=new pe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new v;if(o===0)return this.zero;const l=new Int32Array(s+1);return l[0]=o,new pe(this,l)}inverse(s){if(s===0)throw new Ie;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+S.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}Ae.AZTEC_DATA_12=new Ae(4201,4096,1),Ae.AZTEC_DATA_10=new Ae(1033,1024,1),Ae.AZTEC_DATA_6=new Ae(67,64,1),Ae.AZTEC_PARAM=new Ae(19,16,1),Ae.QR_CODE_FIELD_256=new Ae(285,256,0),Ae.DATA_MATRIX_FIELD_256=new Ae(301,256,1),Ae.AZTEC_DATA_8=Ae.DATA_MATRIX_FIELD_256,Ae.MAXICODE_FIELD_64=Ae.AZTEC_DATA_6;class $e extends p{}$e.kind="ReedSolomonException";class We extends p{}We.kind="IllegalStateException";class Ue{constructor(s){this.field=s}decode(s,o){const l=this.field,c=new pe(l,s),d=new Int32Array(o);let h=!0;for(let U=0;U<o;U++){const H=c.evaluateAt(l.exp(U+l.getGeneratorBase()));d[d.length-1-U]=H,H!==0&&(h=!1)}if(h)return;const x=new pe(l,d),y=this.runEuclideanAlgorithm(l.buildMonomial(o,1),x,o),b=y[0],T=y[1],k=this.findErrorLocations(b),M=this.findErrorMagnitudes(T,k);for(let U=0;U<k.length;U++){const H=s.length-1-l.log(k[U]);if(H<0)throw new $e("Bad error location");s[H]=Ae.addOrSubtract(s[H],M[U])}}runEuclideanAlgorithm(s,o,l){if(s.getDegree()<o.getDegree()){const U=s;s=o,o=U}const c=this.field;let d=s,h=o,x=c.getZero(),y=c.getOne();for(;h.getDegree()>=(l/2|0);){let U=d,H=x;if(d=h,x=y,d.isZero())throw new $e("r_{i-1} was zero");h=U;let G=c.getZero();const Y=d.getCoefficient(d.getDegree()),ee=c.inverse(Y);for(;h.getDegree()>=d.getDegree()&&!h.isZero();){const le=h.getDegree()-d.getDegree(),ce=c.multiply(h.getCoefficient(h.getDegree()),ee);G=G.addOrSubtract(c.buildMonomial(le,ce)),h=h.addOrSubtract(d.multiplyByMonomial(le,ce))}if(y=G.multiply(x).addOrSubtract(H),h.getDegree()>=d.getDegree())throw new We("Division algorithm failed to reduce polynomial?")}const b=y.getCoefficient(0);if(b===0)throw new $e("sigmaTilde(0) was zero");const T=c.inverse(b),k=y.multiplyScalar(T),M=h.multiplyScalar(T);return[k,M]}findErrorLocations(s){const o=s.getDegree();if(o===1)return Int32Array.from([s.getCoefficient(1)]);const l=new Int32Array(o);let c=0;const d=this.field;for(let h=1;h<d.getSize()&&c<o;h++)s.evaluateAt(h)===0&&(l[c]=d.inverse(h),c++);if(c!==o)throw new $e("Error locator degree does not match number of roots");return l}findErrorMagnitudes(s,o){const l=o.length,c=new Int32Array(l),d=this.field;for(let h=0;h<l;h++){const x=d.inverse(o[h]);let y=1;for(let b=0;b<l;b++)if(h!==b){const T=d.multiply(o[b],x),k=T&1?T&-2:T|1;y=d.multiply(y,k)}c[h]=d.multiply(s.evaluateAt(x),d.inverse(y)),d.getGeneratorBase()!==0&&(c[h]=d.multiply(c[h],x))}return c}}var Qe;(function(O){O[O.UPPER=0]="UPPER",O[O.LOWER=1]="LOWER",O[O.MIXED=2]="MIXED",O[O.DIGIT=3]="DIGIT",O[O.PUNCT=4]="PUNCT",O[O.BINARY=5]="BINARY"})(Qe||(Qe={}));class Te{decode(s){this.ddata=s;let o=s.getBits(),l=this.extractBits(o),c=this.correctBits(l),d=Te.convertBoolArrayToByteArray(c),h=Te.getEncodedData(c),x=new je(d,h,null,null);return x.setNumBits(c.length),x}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let o=s.length,l=Qe.UPPER,c=Qe.UPPER,d="",h=0;for(;h<o;)if(c===Qe.BINARY){if(o-h<5)break;let x=Te.readCode(s,h,5);if(h+=5,x===0){if(o-h<11)break;x=Te.readCode(s,h,11)+31,h+=11}for(let y=0;y<x;y++){if(o-h<8){h=o;break}const b=Te.readCode(s,h,8);d+=q.castAsNonUtf8Char(b),h+=8}c=l}else{let x=c===Qe.DIGIT?4:5;if(o-h<x)break;let y=Te.readCode(s,h,x);h+=x;let b=Te.getCharacter(c,y);b.startsWith("CTRL_")?(l=c,c=Te.getTable(b.charAt(5)),b.charAt(6)==="L"&&(l=c)):(d+=b,c=l)}return d}static getTable(s){switch(s){case"L":return Qe.LOWER;case"P":return Qe.PUNCT;case"M":return Qe.MIXED;case"D":return Qe.DIGIT;case"B":return Qe.BINARY;case"U":default:return Qe.UPPER}}static getCharacter(s,o){switch(s){case Qe.UPPER:return Te.UPPER_TABLE[o];case Qe.LOWER:return Te.LOWER_TABLE[o];case Qe.MIXED:return Te.MIXED_TABLE[o];case Qe.PUNCT:return Te.PUNCT_TABLE[o];case Qe.DIGIT:return Te.DIGIT_TABLE[o];default:throw new We("Bad table")}}correctBits(s){let o,l;this.ddata.getNbLayers()<=2?(l=6,o=Ae.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,o=Ae.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,o=Ae.AZTEC_DATA_10):(l=12,o=Ae.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),d=s.length/l;if(d<c)throw new F;let h=s.length%l,x=new Int32Array(d);for(let M=0;M<d;M++,h+=l)x[M]=Te.readCode(s,h,l);try{new Ue(o).decode(x,d-c)}catch(M){throw new F(M)}let y=(1<<l)-1,b=0;for(let M=0;M<c;M++){let U=x[M];if(U===0||U===y)throw new F;(U===1||U===y-1)&&b++}let T=new Array(c*l-b),k=0;for(let M=0;M<c;M++){let U=x[M];if(U===1||U===y-1)T.fill(U>1,k,k+l-1),k+=l-1;else for(let H=l-1;H>=0;--H)T[k++]=(U&1<<H)!==0}return T}extractBits(s){let o=this.ddata.isCompact(),l=this.ddata.getNbLayers(),c=(o?11:14)+l*4,d=new Int32Array(c),h=new Array(this.totalBitsInLayer(l,o));if(o)for(let x=0;x<d.length;x++)d[x]=x;else{let x=c+1+2*S.truncDivision(S.truncDivision(c,2)-1,15),y=c/2,b=S.truncDivision(x,2);for(let T=0;T<y;T++){let k=T+S.truncDivision(T,15);d[y-T-1]=b-k-1,d[y+T]=b+k+1}}for(let x=0,y=0;x<l;x++){let b=(l-x)*4+(o?9:12),T=x*2,k=c-1-T;for(let M=0;M<b;M++){let U=M*2;for(let H=0;H<2;H++)h[y+U+H]=s.get(d[T+H],d[T+M]),h[y+2*b+U+H]=s.get(d[T+M],d[k-H]),h[y+4*b+U+H]=s.get(d[k-H],d[k-M]),h[y+6*b+U+H]=s.get(d[k-M],d[T+H])}y+=b*8}return h}static readCode(s,o,l){let c=0;for(let d=o;d<o+l;d++)c<<=1,s[d]&&(c|=1);return c}static readByte(s,o){let l=s.length-o;return l>=8?Te.readCode(s,o,8):Te.readCode(s,o,l)<<8-l}static convertBoolArrayToByteArray(s){let o=new Uint8Array((s.length+7)/8);for(let l=0;l<o.length;l++)o[l]=Te.readByte(s,8*l);return o}totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}Te.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Te.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Te.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Te.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Te.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class _e{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,o,l,c){const d=s-l,h=o-c;return Math.sqrt(d*d+h*h)}static sum(s){let o=0;for(let l=0,c=s.length;l!==c;l++){const d=s[l];o+=d}return o}}class Lt{static floatToIntBits(s){return s}}Lt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ve{constructor(s,o){this.x=s,this.y=o}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof ve){const o=s;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Lt.floatToIntBits(this.x)+Lt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const o=this.distance(s[0],s[1]),l=this.distance(s[1],s[2]),c=this.distance(s[0],s[2]);let d,h,x;if(l>=o&&l>=c?(h=s[0],d=s[1],x=s[2]):c>=l&&c>=o?(h=s[1],d=s[0],x=s[2]):(h=s[2],d=s[0],x=s[1]),this.crossProductZ(d,h,x)<0){const y=d;d=x,x=y}s[0]=d,s[1]=h,s[2]=x}static distance(s,o){return _e.distance(s.x,s.y,o.x,o.y)}static crossProductZ(s,o,l){const c=o.x,d=o.y;return(l.x-c)*(s.y-d)-(l.y-d)*(s.x-c)}}class Lr{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Ys extends Lr{constructor(s,o,l,c,d){super(s,o),this.compact=l,this.nbDatablocks=c,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Nt{constructor(s,o,l,c){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),o==null&&(o=Nt.INIT_SIZE),l==null&&(l=s.getWidth()/2|0),c==null&&(c=s.getHeight()/2|0);const d=o/2|0;if(this.leftInit=l-d,this.rightInit=l+d,this.upInit=c-d,this.downInit=c+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let s=this.leftInit,o=this.rightInit,l=this.upInit,c=this.downInit,d=!1,h=!0,x=!1,y=!1,b=!1,T=!1,k=!1;const M=this.width,U=this.height;for(;h;){h=!1;let H=!0;for(;(H||!y)&&o<M;)H=this.containsBlackPoint(l,c,o,!1),H?(o++,h=!0,y=!0):y||o++;if(o>=M){d=!0;break}let G=!0;for(;(G||!b)&&c<U;)G=this.containsBlackPoint(s,o,c,!0),G?(c++,h=!0,b=!0):b||c++;if(c>=U){d=!0;break}let Y=!0;for(;(Y||!T)&&s>=0;)Y=this.containsBlackPoint(l,c,s,!1),Y?(s--,h=!0,T=!0):T||s--;if(s<0){d=!0;break}let ee=!0;for(;(ee||!k)&&l>=0;)ee=this.containsBlackPoint(s,o,l,!0),ee?(l--,h=!0,k=!0):k||l--;if(l<0){d=!0;break}h&&(x=!0)}if(!d&&x){const H=o-s;let G=null;for(let ce=1;G===null&&ce<H;ce++)G=this.getBlackPointOnSegment(s,c-ce,s+ce,c);if(G==null)throw new X;let Y=null;for(let ce=1;Y===null&&ce<H;ce++)Y=this.getBlackPointOnSegment(s,l+ce,s+ce,l);if(Y==null)throw new X;let ee=null;for(let ce=1;ee===null&&ce<H;ce++)ee=this.getBlackPointOnSegment(o,l+ce,o-ce,l);if(ee==null)throw new X;let le=null;for(let ce=1;le===null&&ce<H;ce++)le=this.getBlackPointOnSegment(o,c-ce,o-ce,c);if(le==null)throw new X;return this.centerEdges(le,G,ee,Y)}else throw new X}getBlackPointOnSegment(s,o,l,c){const d=_e.round(_e.distance(s,o,l,c)),h=(l-s)/d,x=(c-o)/d,y=this.image;for(let b=0;b<d;b++){const T=_e.round(s+b*h),k=_e.round(o+b*x);if(y.get(T,k))return new ve(T,k)}return null}centerEdges(s,o,l,c){const d=s.getX(),h=s.getY(),x=o.getX(),y=o.getY(),b=l.getX(),T=l.getY(),k=c.getX(),M=c.getY(),U=Nt.CORR;return d<this.width/2?[new ve(k-U,M+U),new ve(x+U,y+U),new ve(b-U,T-U),new ve(d+U,h-U)]:[new ve(k+U,M+U),new ve(x+U,y-U),new ve(b-U,T+U),new ve(d-U,h-U)]}containsBlackPoint(s,o,l,c){const d=this.image;if(c){for(let h=s;h<=o;h++)if(d.get(h,l))return!0}else for(let h=s;h<=o;h++)if(d.get(l,h))return!0;return!1}}Nt.INIT_SIZE=10,Nt.CORR=1;class Gr{static checkAndNudgePoints(s,o){const l=s.getWidth(),c=s.getHeight();let d=!0;for(let h=0;h<o.length&&d;h+=2){const x=Math.floor(o[h]),y=Math.floor(o[h+1]);if(x<-1||x>l||y<-1||y>c)throw new X;d=!1,x===-1?(o[h]=0,d=!0):x===l&&(o[h]=l-1,d=!0),y===-1?(o[h+1]=0,d=!0):y===c&&(o[h+1]=c-1,d=!0)}d=!0;for(let h=o.length-2;h>=0&&d;h-=2){const x=Math.floor(o[h]),y=Math.floor(o[h+1]);if(x<-1||x>l||y<-1||y>c)throw new X;d=!1,x===-1?(o[h]=0,d=!0):x===l&&(o[h]=l-1,d=!0),y===-1?(o[h+1]=0,d=!0):y===c&&(o[h+1]=c-1,d=!0)}}}class gt{constructor(s,o,l,c,d,h,x,y,b){this.a11=s,this.a21=o,this.a31=l,this.a12=c,this.a22=d,this.a32=h,this.a13=x,this.a23=y,this.a33=b}static quadrilateralToQuadrilateral(s,o,l,c,d,h,x,y,b,T,k,M,U,H,G,Y){const ee=gt.quadrilateralToSquare(s,o,l,c,d,h,x,y);return gt.squareToQuadrilateral(b,T,k,M,U,H,G,Y).times(ee)}transformPoints(s){const o=s.length,l=this.a11,c=this.a12,d=this.a13,h=this.a21,x=this.a22,y=this.a23,b=this.a31,T=this.a32,k=this.a33;for(let M=0;M<o;M+=2){const U=s[M],H=s[M+1],G=d*U+y*H+k;s[M]=(l*U+h*H+b)/G,s[M+1]=(c*U+x*H+T)/G}}transformPointsWithValues(s,o){const l=this.a11,c=this.a12,d=this.a13,h=this.a21,x=this.a22,y=this.a23,b=this.a31,T=this.a32,k=this.a33,M=s.length;for(let U=0;U<M;U++){const H=s[U],G=o[U],Y=d*H+y*G+k;s[U]=(l*H+h*G+b)/Y,o[U]=(c*H+x*G+T)/Y}}static squareToQuadrilateral(s,o,l,c,d,h,x,y){const b=s-l+d-x,T=o-c+h-y;if(b===0&&T===0)return new gt(l-s,d-l,s,c-o,h-c,o,0,0,1);{const k=l-d,M=x-d,U=c-h,H=y-h,G=k*H-M*U,Y=(b*H-M*T)/G,ee=(k*T-b*U)/G;return new gt(l-s+Y*l,x-s+ee*x,s,c-o+Y*c,y-o+ee*y,o,Y,ee,1)}}static quadrilateralToSquare(s,o,l,c,d,h,x,y){return gt.squareToQuadrilateral(s,o,l,c,d,h,x,y).buildAdjoint()}buildAdjoint(){return new gt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new gt(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class vr extends Gr{sampleGrid(s,o,l,c,d,h,x,y,b,T,k,M,U,H,G,Y,ee,le,ce){const oe=gt.quadrilateralToQuadrilateral(c,d,h,x,y,b,T,k,M,U,H,G,Y,ee,le,ce);return this.sampleGridWithTransform(s,o,l,oe)}sampleGridWithTransform(s,o,l,c){if(o<=0||l<=0)throw new X;const d=new ne(o,l),h=new Float32Array(2*o);for(let x=0;x<l;x++){const y=h.length,b=x+.5;for(let T=0;T<y;T+=2)h[T]=T/2+.5,h[T+1]=b;c.transformPoints(h),Gr.checkAndNudgePoints(s,h);try{for(let T=0;T<y;T+=2)s.get(Math.floor(h[T]),Math.floor(h[T+1]))&&d.set(T/2,x)}catch{throw new X}}return d}}class fr{static setGridSampler(s){fr.gridSampler=s}static getInstance(){return fr.gridSampler}}fr.gridSampler=new vr;class nr{constructor(s,o){this.x=s,this.y=o}toResultPoint(){return new ve(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class bl{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let o=this.getMatrixCenter(),l=this.getBullsEyeCorners(o);if(s){let h=l[0];l[0]=l[2],l[2]=h}this.extractParameters(l);let c=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),d=this.getMatrixCornerPoints(l);return new Ys(c,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new X;let o=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(s[0],s[1],o),this.sampleLine(s[1],s[2],o),this.sampleLine(s[2],s[3],o),this.sampleLine(s[3],s[0],o)]);this.shift=this.getRotation(l,o);let c=0;for(let h=0;h<4;h++){let x=l[(this.shift+h)%4];this.compact?(c<<=7,c+=x>>1&127):(c<<=10,c+=(x>>2&992)+(x>>1&31))}let d=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(d>>6)+1,this.nbDataBlocks=(d&63)+1):(this.nbLayers=(d>>11)+1,this.nbDataBlocks=(d&2047)+1)}getRotation(s,o){let l=0;s.forEach((c,d,h)=>{let x=(c>>o-2<<1)+(c&1);l=(l<<3)+x}),l=((l&1)<<11)+(l>>1);for(let c=0;c<4;c++)if(S.bitCount(l^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new X}getCorrectedParameterData(s,o){let l,c;o?(l=7,c=2):(l=10,c=4);let d=l-c,h=new Int32Array(l);for(let y=l-1;y>=0;--y)h[y]=s&15,s>>=4;try{new Ue(Ae.AZTEC_PARAM).decode(h,d)}catch{throw new X}let x=0;for(let y=0;y<c;y++)x=(x<<4)+h[y];return x}getBullsEyeCorners(s){let o=s,l=s,c=s,d=s,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let k=this.getFirstDifferent(o,h,1,-1),M=this.getFirstDifferent(l,h,1,1),U=this.getFirstDifferent(c,h,-1,1),H=this.getFirstDifferent(d,h,-1,-1);if(this.nbCenterLayers>2){let G=this.distancePoint(H,k)*this.nbCenterLayers/(this.distancePoint(d,o)*(this.nbCenterLayers+2));if(G<.75||G>1.25||!this.isWhiteOrBlackRectangle(k,M,U,H))break}o=k,l=M,c=U,d=H,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let x=new ve(o.getX()+.5,o.getY()-.5),y=new ve(l.getX()+.5,l.getY()+.5),b=new ve(c.getX()-.5,c.getY()+.5),T=new ve(d.getX()-.5,d.getY()-.5);return this.expandSquare([x,y,b,T],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,o,l,c;try{let x=new Nt(this.image).detect();s=x[0],o=x[1],l=x[2],c=x[3]}catch{let y=this.image.getWidth()/2,b=this.image.getHeight()/2;s=this.getFirstDifferent(new nr(y+7,b-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new nr(y+7,b+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new nr(y-7,b+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new nr(y-7,b-7),!1,-1,-1).toResultPoint()}let d=_e.round((s.getX()+c.getX()+o.getX()+l.getX())/4),h=_e.round((s.getY()+c.getY()+o.getY()+l.getY())/4);try{let x=new Nt(this.image,15,d,h).detect();s=x[0],o=x[1],l=x[2],c=x[3]}catch{s=this.getFirstDifferent(new nr(d+7,h-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new nr(d+7,h+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new nr(d-7,h+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new nr(d-7,h-7),!1,-1,-1).toResultPoint()}return d=_e.round((s.getX()+c.getX()+o.getX()+l.getX())/4),h=_e.round((s.getY()+c.getY()+o.getY()+l.getY())/4),new nr(d,h)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,o,l,c,d){let h=fr.getInstance(),x=this.getDimension(),y=x/2-this.nbCenterLayers,b=x/2+this.nbCenterLayers;return h.sampleGrid(s,x,x,y,y,b,y,b,b,y,b,o.getX(),o.getY(),l.getX(),l.getY(),c.getX(),c.getY(),d.getX(),d.getY())}sampleLine(s,o,l){let c=0,d=this.distanceResultPoint(s,o),h=d/l,x=s.getX(),y=s.getY(),b=h*(o.getX()-s.getX())/d,T=h*(o.getY()-s.getY())/d;for(let k=0;k<l;k++)this.image.get(_e.round(x+k*b),_e.round(y+k*T))&&(c|=1<<l-k-1);return c}isWhiteOrBlackRectangle(s,o,l,c){let d=3;s=new nr(s.getX()-d,s.getY()+d),o=new nr(o.getX()-d,o.getY()-d),l=new nr(l.getX()+d,l.getY()-d),c=new nr(c.getX()+d,c.getY()+d);let h=this.getColor(c,s);if(h===0)return!1;let x=this.getColor(s,o);return x!==h||(x=this.getColor(o,l),x!==h)?!1:(x=this.getColor(l,c),x===h)}getColor(s,o){let l=this.distancePoint(s,o),c=(o.getX()-s.getX())/l,d=(o.getY()-s.getY())/l,h=0,x=s.getX(),y=s.getY(),b=this.image.get(s.getX(),s.getY()),T=Math.ceil(l);for(let M=0;M<T;M++)x+=c,y+=d,this.image.get(_e.round(x),_e.round(y))!==b&&h++;let k=h/l;return k>.1&&k<.9?0:k<=.1===b?1:-1}getFirstDifferent(s,o,l,c){let d=s.getX()+l,h=s.getY()+c;for(;this.isValid(d,h)&&this.image.get(d,h)===o;)d+=l,h+=c;for(d-=l,h-=c;this.isValid(d,h)&&this.image.get(d,h)===o;)d+=l;for(d-=l;this.isValid(d,h)&&this.image.get(d,h)===o;)h+=c;return h-=c,new nr(d,h)}expandSquare(s,o,l){let c=l/(2*o),d=s[0].getX()-s[2].getX(),h=s[0].getY()-s[2].getY(),x=(s[0].getX()+s[2].getX())/2,y=(s[0].getY()+s[2].getY())/2,b=new ve(x+c*d,y+c*h),T=new ve(x-c*d,y-c*h);d=s[1].getX()-s[3].getX(),h=s[1].getY()-s[3].getY(),x=(s[1].getX()+s[3].getX())/2,y=(s[1].getY()+s[3].getY())/2;let k=new ve(x+c*d,y+c*h),M=new ve(x-c*d,y-c*h);return[b,k,T,M]}isValid(s,o){return s>=0&&s<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(s){let o=_e.round(s.getX()),l=_e.round(s.getY());return this.isValid(o,l)}distancePoint(s,o){return _e.distance(s.getX(),s.getY(),o.getX(),o.getY())}distanceResultPoint(s,o){return _e.distance(s.getX(),s.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(S.truncDivision(this.nbLayers-4,8)+1)+15}}class Mn{decode(s,o=null){let l=null,c=new bl(s.getBlackMatrix()),d=null,h=null;try{let T=c.detectMirror(!1);d=T.getPoints(),this.reportFoundResultPoints(o,d),h=new Te().decode(T)}catch(T){l=T}if(h==null)try{let T=c.detectMirror(!0);d=T.getPoints(),this.reportFoundResultPoints(o,d),h=new Te().decode(T)}catch(T){throw l??T}let x=new ke(h.getText(),h.getRawBytes(),h.getNumBits(),d,de.AZTEC,N.currentTimeMillis()),y=h.getByteSegments();y!=null&&x.putMetadata(xe.BYTE_SEGMENTS,y);let b=h.getECLevel();return b!=null&&x.putMetadata(xe.ERROR_CORRECTION_LEVEL,b),x}reportFoundResultPoints(s,o){if(s!=null){let l=s.get(V.NEED_RESULT_POINT_CALLBACK);l!=null&&o.forEach((c,d,h)=>{l.foundPossibleResultPoint(c)})}}reset(){}}class bn extends we{constructor(s=500){super(new Mn,s)}}class Tt{decode(s,o){try{return this.doDecode(s,o)}catch{if(o&&o.get(V.TRY_HARDER)===!0&&s.isRotateSupported()){const d=s.rotateCounterClockwise(),h=this.doDecode(d,o),x=h.getResultMetadata();let y=270;x!==null&&x.get(xe.ORIENTATION)===!0&&(y=y+x.get(xe.ORIENTATION)%360),h.putMetadata(xe.ORIENTATION,y);const b=h.getResultPoints();if(b!==null){const T=d.getHeight();for(let k=0;k<b.length;k++)b[k]=new ve(T-b[k].getY()-1,b[k].getX())}return h}else throw new X}}reset(){}doDecode(s,o){const l=s.getWidth(),c=s.getHeight();let d=new j(l);const h=o&&o.get(V.TRY_HARDER)===!0,x=Math.max(1,c>>(h?8:5));let y;h?y=c:y=15;const b=Math.trunc(c/2);for(let T=0;T<y;T++){const k=Math.trunc((T+1)/2),M=(T&1)===0,U=b+x*(M?k:-k);if(U<0||U>=c)break;try{d=s.getBlackRow(U,d)}catch{continue}for(let H=0;H<2;H++){if(H===1&&(d.reverse(),o&&o.get(V.NEED_RESULT_POINT_CALLBACK)===!0)){const G=new Map;o.forEach((Y,ee)=>G.set(ee,Y)),G.delete(V.NEED_RESULT_POINT_CALLBACK),o=G}try{const G=this.decodeRow(U,d,o);if(H===1){G.putMetadata(xe.ORIENTATION,180);const Y=G.getResultPoints();Y!==null&&(Y[0]=new ve(l-Y[0].getX()-1,Y[0].getY()),Y[1]=new ve(l-Y[1].getX()-1,Y[1].getY()))}return G}catch{}}}throw new X}static recordPattern(s,o,l){const c=l.length;for(let b=0;b<c;b++)l[b]=0;const d=s.getSize();if(o>=d)throw new X;let h=!s.get(o),x=0,y=o;for(;y<d;){if(s.get(y)!==h)l[x]++;else{if(++x===c)break;l[x]=1,h=!h}y++}if(!(x===c||x===c-1&&y===d))throw new X}static recordPatternInReverse(s,o,l){let c=l.length,d=s.get(o);for(;o>0&&c>=0;)s.get(--o)!==d&&(c--,d=!d);if(c>=0)throw new X;Tt.recordPattern(s,o+1,l)}static patternMatchVariance(s,o,l){const c=s.length;let d=0,h=0;for(let b=0;b<c;b++)d+=s[b],h+=o[b];if(d<h)return Number.POSITIVE_INFINITY;const x=d/h;l*=x;let y=0;for(let b=0;b<c;b++){const T=s[b],k=o[b]*x,M=T>k?T-k:k-T;if(M>l)return Number.POSITIVE_INFINITY;y+=M}return y/d}}class me extends Tt{static findStartPattern(s){const o=s.getSize(),l=s.getNextSet(0);let c=0,d=Int32Array.from([0,0,0,0,0,0]),h=l,x=!1;const y=6;for(let b=l;b<o;b++)if(s.get(b)!==x)d[c]++;else{if(c===y-1){let T=me.MAX_AVG_VARIANCE,k=-1;for(let M=me.CODE_START_A;M<=me.CODE_START_C;M++){const U=Tt.patternMatchVariance(d,me.CODE_PATTERNS[M],me.MAX_INDIVIDUAL_VARIANCE);U<T&&(T=U,k=M)}if(k>=0&&s.isRange(Math.max(0,h-(b-h)/2),h,!1))return Int32Array.from([h,b,k]);h+=d[0]+d[1],d=d.slice(2,d.length-1),d[c-1]=0,d[c]=0,c--}else c++;d[c]=1,x=!x}throw new X}static decodeCode(s,o,l){Tt.recordPattern(s,l,o);let c=me.MAX_AVG_VARIANCE,d=-1;for(let h=0;h<me.CODE_PATTERNS.length;h++){const x=me.CODE_PATTERNS[h],y=this.patternMatchVariance(o,x,me.MAX_INDIVIDUAL_VARIANCE);y<c&&(c=y,d=h)}if(d>=0)return d;throw new X}decodeRow(s,o,l){const c=l&&l.get(V.ASSUME_GS1)===!0,d=me.findStartPattern(o),h=d[2];let x=0;const y=new Uint8Array(20);y[x++]=h;let b;switch(h){case me.CODE_START_A:b=me.CODE_CODE_A;break;case me.CODE_START_B:b=me.CODE_CODE_B;break;case me.CODE_START_C:b=me.CODE_CODE_C;break;default:throw new F}let T=!1,k=!1,M="",U=d[0],H=d[1];const G=Int32Array.from([0,0,0,0,0,0]);let Y=0,ee=0,le=h,ce=0,oe=!0,it=!1,Ge=!1;for(;!T;){const Qo=k;switch(k=!1,Y=ee,ee=me.decodeCode(o,G,H),y[x++]=ee,ee!==me.CODE_STOP&&(oe=!0),ee!==me.CODE_STOP&&(ce++,le+=ce*ee),U=H,H+=G.reduce((I3,R3)=>I3+R3,0),ee){case me.CODE_START_A:case me.CODE_START_B:case me.CODE_START_C:throw new F}switch(b){case me.CODE_CODE_A:if(ee<64)Ge===it?M+=String.fromCharCode(32+ee):M+=String.fromCharCode(32+ee+128),Ge=!1;else if(ee<96)Ge===it?M+=String.fromCharCode(ee-64):M+=String.fromCharCode(ee+64),Ge=!1;else switch(ee!==me.CODE_STOP&&(oe=!1),ee){case me.CODE_FNC_1:c&&(M.length===0?M+="]C1":M+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_A:!it&&Ge?(it=!0,Ge=!1):it&&Ge?(it=!1,Ge=!1):Ge=!0;break;case me.CODE_SHIFT:k=!0,b=me.CODE_CODE_B;break;case me.CODE_CODE_B:b=me.CODE_CODE_B;break;case me.CODE_CODE_C:b=me.CODE_CODE_C;break;case me.CODE_STOP:T=!0;break}break;case me.CODE_CODE_B:if(ee<96)Ge===it?M+=String.fromCharCode(32+ee):M+=String.fromCharCode(32+ee+128),Ge=!1;else switch(ee!==me.CODE_STOP&&(oe=!1),ee){case me.CODE_FNC_1:c&&(M.length===0?M+="]C1":M+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_B:!it&&Ge?(it=!0,Ge=!1):it&&Ge?(it=!1,Ge=!1):Ge=!0;break;case me.CODE_SHIFT:k=!0,b=me.CODE_CODE_A;break;case me.CODE_CODE_A:b=me.CODE_CODE_A;break;case me.CODE_CODE_C:b=me.CODE_CODE_C;break;case me.CODE_STOP:T=!0;break}break;case me.CODE_CODE_C:if(ee<100)ee<10&&(M+="0"),M+=ee;else switch(ee!==me.CODE_STOP&&(oe=!1),ee){case me.CODE_FNC_1:c&&(M.length===0?M+="]C1":M+="");break;case me.CODE_CODE_A:b=me.CODE_CODE_A;break;case me.CODE_CODE_B:b=me.CODE_CODE_B;break;case me.CODE_STOP:T=!0;break}break}Qo&&(b=b===me.CODE_CODE_A?me.CODE_CODE_B:me.CODE_CODE_A)}const Kr=H-U;if(H=o.getNextUnset(H),!o.isRange(H,Math.min(o.getSize(),H+(H-U)/2),!1))throw new X;if(le-=ce*Y,le%103!==Y)throw new _;const Fn=M.length;if(Fn===0)throw new X;Fn>0&&oe&&(b===me.CODE_CODE_C?M=M.substring(0,Fn-2):M=M.substring(0,Fn-1));const Qr=(d[1]+d[0])/2,At=U+Kr/2,Er=y.length,ln=new Uint8Array(Er);for(let Qo=0;Qo<Er;Qo++)ln[Qo]=y[Qo];const Ko=[new ve(Qr,s),new ve(At,s)];return new ke(M,ln,0,Ko,de.CODE_128,new Date().getTime())}}me.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],me.MAX_AVG_VARIANCE=.25,me.MAX_INDIVIDUAL_VARIANCE=.7,me.CODE_SHIFT=98,me.CODE_CODE_C=99,me.CODE_CODE_B=100,me.CODE_CODE_A=101,me.CODE_FNC_1=102,me.CODE_FNC_2=97,me.CODE_FNC_3=96,me.CODE_FNC_4_A=101,me.CODE_FNC_4_B=100,me.CODE_START_A=103,me.CODE_START_B=104,me.CODE_START_C=105,me.CODE_STOP=106;class sr extends Tt{constructor(s=!1,o=!1){super(),this.usingCheckDigit=s,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,o,l){let c=this.counters;c.fill(0),this.decodeRowResult="";let d=sr.findAsteriskPattern(o,c),h=o.getNextSet(d[1]),x=o.getSize(),y,b;do{sr.recordPattern(o,h,c);let G=sr.toNarrowWidePattern(c);if(G<0)throw new X;y=sr.patternToChar(G),this.decodeRowResult+=y,b=h;for(let Y of c)h+=Y;h=o.getNextSet(h)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let T=0;for(let G of c)T+=G;let k=h-b-T;if(h!==x&&k*2<T)throw new X;if(this.usingCheckDigit){let G=this.decodeRowResult.length-1,Y=0;for(let ee=0;ee<G;ee++)Y+=sr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ee));if(this.decodeRowResult.charAt(G)!==sr.ALPHABET_STRING.charAt(Y%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,G)}if(this.decodeRowResult.length===0)throw new X;let M;this.extendedMode?M=sr.decodeExtended(this.decodeRowResult):M=this.decodeRowResult;let U=(d[1]+d[0])/2,H=b+T/2;return new ke(M,null,0,[new ve(U,s),new ve(H,s)],de.CODE_39,new Date().getTime())}static findAsteriskPattern(s,o){let l=s.getSize(),c=s.getNextSet(0),d=0,h=c,x=!1,y=o.length;for(let b=c;b<l;b++)if(s.get(b)!==x)o[d]++;else{if(d===y-1){if(this.toNarrowWidePattern(o)===sr.ASTERISK_ENCODING&&s.isRange(Math.max(0,h-Math.floor((b-h)/2)),h,!1))return[h,b];h+=o[0]+o[1],o.copyWithin(0,2,2+d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,x=!x}throw new X}static toNarrowWidePattern(s){let o=s.length,l=0,c;do{let d=2147483647;for(let y of s)y<d&&y>l&&(d=y);l=d,c=0;let h=0,x=0;for(let y=0;y<o;y++){let b=s[y];b>l&&(x|=1<<o-1-y,c++,h+=b)}if(c===3){for(let y=0;y<o&&c>0;y++){let b=s[y];if(b>l&&(c--,b*2>=h))return-1}return x}}while(c>3);return-1}static patternToChar(s){for(let o=0;o<sr.CHARACTER_ENCODINGS.length;o++)if(sr.CHARACTER_ENCODINGS[o]===s)return sr.ALPHABET_STRING.charAt(o);if(s===sr.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(s){let o=s.length,l="";for(let c=0;c<o;c++){let d=s.charAt(c);if(d==="+"||d==="$"||d==="%"||d==="/"){let h=s.charAt(c+1),x="\0";switch(d){case"+":if(h>="A"&&h<="Z")x=String.fromCharCode(h.charCodeAt(0)+32);else throw new F;break;case"$":if(h>="A"&&h<="Z")x=String.fromCharCode(h.charCodeAt(0)-64);else throw new F;break;case"%":if(h>="A"&&h<="E")x=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")x=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")x=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")x=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")x="\0";else if(h==="V")x="@";else if(h==="W")x="`";else if(h==="X"||h==="Y"||h==="Z")x="";else throw new F;break;case"/":if(h>="A"&&h<="O")x=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")x=":";else throw new F;break}l+=x,c++}else l+=d}return l}}sr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",sr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],sr.ASTERISK_ENCODING=148;class Et extends Tt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,o,l){let c=this.decodeStart(o),d=this.decodeEnd(o),h=new se;Et.decodeMiddle(o,c[1],d[0],h);let x=h.toString(),y=null;l!=null&&(y=l.get(V.ALLOWED_LENGTHS)),y==null&&(y=Et.DEFAULT_ALLOWED_LENGTHS);let b=x.length,T=!1,k=0;for(let H of y){if(b===H){T=!0;break}H>k&&(k=H)}if(!T&&b>k&&(T=!0),!T)throw new F;const M=[new ve(c[1],s),new ve(d[0],s)];return new ke(x,null,0,M,de.ITF,new Date().getTime())}static decodeMiddle(s,o,l,c){let d=new Int32Array(10),h=new Int32Array(5),x=new Int32Array(5);for(d.fill(0),h.fill(0),x.fill(0);o<l;){Tt.recordPattern(s,o,d);for(let b=0;b<5;b++){let T=2*b;h[b]=d[T],x[b]=d[T+1]}let y=Et.decodeDigit(h);c.append(y.toString()),y=this.decodeDigit(x),c.append(y.toString()),d.forEach(function(b){o+=b})}}decodeStart(s){let o=Et.skipWhiteSpace(s),l=Et.findGuardPattern(s,o,Et.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(s,l[0]),l}validateQuietZone(s,o){let l=this.narrowLineWidth*10;l=l<o?l:o;for(let c=o-1;l>0&&c>=0&&!s.get(c);c--)l--;if(l!==0)throw new X}static skipWhiteSpace(s){const o=s.getSize(),l=s.getNextSet(0);if(l===o)throw new X;return l}decodeEnd(s){s.reverse();try{let o=Et.skipWhiteSpace(s),l;try{l=Et.findGuardPattern(s,o,Et.END_PATTERN_REVERSED[0])}catch(d){d instanceof X&&(l=Et.findGuardPattern(s,o,Et.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,l[0]);let c=l[0];return l[0]=s.getSize()-l[1],l[1]=s.getSize()-c,l}finally{s.reverse()}}static findGuardPattern(s,o,l){let c=l.length,d=new Int32Array(c),h=s.getSize(),x=!1,y=0,b=o;d.fill(0);for(let T=o;T<h;T++)if(s.get(T)!==x)d[y]++;else{if(y===c-1){if(Tt.patternMatchVariance(d,l,Et.MAX_INDIVIDUAL_VARIANCE)<Et.MAX_AVG_VARIANCE)return[b,T];b+=d[0]+d[1],N.arraycopy(d,2,d,0,y-1),d[y-1]=0,d[y]=0,y--}else y++;d[y]=1,x=!x}throw new X}static decodeDigit(s){let o=Et.MAX_AVG_VARIANCE,l=-1,c=Et.PATTERNS.length;for(let d=0;d<c;d++){let h=Et.PATTERNS[d],x=Tt.patternMatchVariance(s,h,Et.MAX_INDIVIDUAL_VARIANCE);x<o?(o=x,l=d):x===o&&(l=-1)}if(l>=0)return l%10;throw new X}}Et.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Et.MAX_AVG_VARIANCE=.38,Et.MAX_INDIVIDUAL_VARIANCE=.5,Et.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Et.START_PATTERN=Int32Array.from([1,1,1,1]),Et.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class $t extends Tt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let o=!1,l,c=0,d=Int32Array.from([0,0,0]);for(;!o;){d=Int32Array.from([0,0,0]),l=$t.findGuardPattern(s,c,!1,this.START_END_PATTERN,d);let h=l[0];c=l[1];let x=h-(c-h);x>=0&&(o=s.isRange(x,h,!1))}return l}static checkChecksum(s){return $t.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let l=parseInt(s.charAt(o-1),10);return $t.getStandardUPCEANChecksum(s.substring(0,o-1))===l}static getStandardUPCEANChecksum(s){let o=s.length,l=0;for(let c=o-1;c>=0;c-=2){let d=s.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new F;l+=d}l*=3;for(let c=o-2;c>=0;c-=2){let d=s.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new F;l+=d}return(1e3-l)%10}static decodeEnd(s,o){return $t.findGuardPattern(s,o,!1,$t.START_END_PATTERN,new Int32Array($t.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,o,l,c){return this.findGuardPattern(s,o,l,c,new Int32Array(c.length))}static findGuardPattern(s,o,l,c,d){let h=s.getSize();o=l?s.getNextUnset(o):s.getNextSet(o);let x=0,y=o,b=c.length,T=l;for(let k=o;k<h;k++)if(s.get(k)!==T)d[x]++;else{if(x===b-1){if(Tt.patternMatchVariance(d,c,$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE)return Int32Array.from([y,k]);y+=d[0]+d[1];let M=d.slice(2,d.length-1);for(let U=0;U<x-1;U++)d[U]=M[U];d[x-1]=0,d[x]=0,x--}else x++;d[x]=1,T=!T}throw new X}static decodeDigit(s,o,l,c){this.recordPattern(s,l,o);let d=this.MAX_AVG_VARIANCE,h=-1,x=c.length;for(let y=0;y<x;y++){let b=c[y],T=Tt.patternMatchVariance(o,b,$t.MAX_INDIVIDUAL_VARIANCE);T<d&&(d=T,h=y)}if(h>=0)return h;throw new X}}$t.MAX_AVG_VARIANCE=.48,$t.MAX_INDIVIDUAL_VARIANCE=.7,$t.START_END_PATTERN=Int32Array.from([1,1,1]),$t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),$t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),$t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Cl{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,l){let c=this.decodeRowStringBuffer,d=this.decodeMiddle(o,l,c),h=c.toString(),x=Cl.parseExtensionString(h),y=[new ve((l[0]+l[1])/2,s),new ve(d,s)],b=new ke(h,null,0,y,de.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&b.putAllMetadata(x),b}decodeMiddle(s,o,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),h=o[1],x=0;for(let b=0;b<5&&h<d;b++){let T=$t.decodeDigit(s,c,h,$t.L_AND_G_PATTERNS);l+=String.fromCharCode(48+T%10);for(let k of c)h+=k;T>=10&&(x|=1<<4-b),b!==4&&(h=s.getNextSet(h),h=s.getNextUnset(h))}if(l.length!==5)throw new X;let y=this.determineCheckDigit(x);if(Cl.extensionChecksum(l.toString())!==y)throw new X;return h}static extensionChecksum(s){let o=s.length,l=0;for(let c=o-2;c>=0;c-=2)l+=s.charAt(c).charCodeAt(0)-48;l*=3;for(let c=o-1;c>=0;c-=2)l+=s.charAt(c).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(s){for(let o=0;o<10;o++)if(s===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new X}static parseExtensionString(s){if(s.length!==5)return null;let o=Cl.parseExtension5String(s);return o==null?null:new Map([[xe.SUGGESTED_PRICE,o]])}static parseExtension5String(s){let o;switch(s.charAt(0)){case"0":o="£";break;case"5":o="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let l=parseInt(s.substring(1)),c=(l/100).toString(),d=l%100,h=d<10?"0"+d:d.toString();return o+c+"."+h}}class lh{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,l){let c=this.decodeRowStringBuffer,d=this.decodeMiddle(o,l,c),h=c.toString(),x=lh.parseExtensionString(h),y=[new ve((l[0]+l[1])/2,s),new ve(d,s)],b=new ke(h,null,0,y,de.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&b.putAllMetadata(x),b}decodeMiddle(s,o,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),h=o[1],x=0;for(let y=0;y<2&&h<d;y++){let b=$t.decodeDigit(s,c,h,$t.L_AND_G_PATTERNS);l+=String.fromCharCode(48+b%10);for(let T of c)h+=T;b>=10&&(x|=1<<1-y),y!==1&&(h=s.getNextSet(h),h=s.getNextUnset(h))}if(l.length!==2)throw new X;if(parseInt(l.toString())%4!==x)throw new X;return h}static parseExtensionString(s){return s.length!==2?null:new Map([[xe.ISSUE_NUMBER,parseInt(s)]])}}class mg{static decodeRow(s,o,l){let c=$t.findGuardPattern(o,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Cl().decodeRow(s,o,c)}catch{return new lh().decodeRow(s,o,c)}}}mg.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ft extends $t{constructor(){super(),this.decodeRowStringBuffer="",ft.L_AND_G_PATTERNS=ft.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let o=ft.L_PATTERNS[s-10],l=new Int32Array(o.length);for(let c=0;c<o.length;c++)l[c]=o[o.length-c-1];ft.L_AND_G_PATTERNS[s]=l}}decodeRow(s,o,l){let c=ft.findStartGuardPattern(o),d=l==null?null:l.get(V.NEED_RESULT_POINT_CALLBACK);if(d!=null){const oe=new ve((c[0]+c[1])/2,s);d.foundPossibleResultPoint(oe)}let h=this.decodeMiddle(o,c,this.decodeRowStringBuffer),x=h.rowOffset,y=h.resultString;if(d!=null){const oe=new ve(x,s);d.foundPossibleResultPoint(oe)}let b=this.decodeEnd(o,x);if(d!=null){const oe=new ve((b[0]+b[1])/2,s);d.foundPossibleResultPoint(oe)}let T=b[1],k=T+(T-b[0]);if(k>=o.getSize()||!o.isRange(T,k,!1))throw new X;let M=y.toString();if(M.length<8)throw new F;if(!ft.checkChecksum(M))throw new _;let U=(c[1]+c[0])/2,H=(b[1]+b[0])/2,G=this.getBarcodeFormat(),Y=[new ve(U,s),new ve(H,s)],ee=new ke(M,null,0,Y,G,new Date().getTime()),le=0;try{let oe=mg.decodeRow(s,o,b[1]);ee.putMetadata(xe.UPC_EAN_EXTENSION,oe.getText()),ee.putAllMetadata(oe.getResultMetadata()),ee.addResultPoints(oe.getResultPoints()),le=oe.getText().length}catch{}let ce=l==null?null:l.get(V.ALLOWED_EAN_EXTENSIONS);if(ce!=null){let oe=!1;for(let it in ce)if(le.toString()===it){oe=!0;break}if(!oe)throw new X}return ee}decodeEnd(s,o){return ft.findGuardPattern(s,o,!1,ft.START_END_PATTERN,new Int32Array(ft.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return ft.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let l=parseInt(s.charAt(o-1),10);return ft.getStandardUPCEANChecksum(s.substring(0,o-1))===l}static getStandardUPCEANChecksum(s){let o=s.length,l=0;for(let c=o-1;c>=0;c-=2){let d=s.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new F;l+=d}l*=3;for(let c=o-2;c>=0;c-=2){let d=s.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new F;l+=d}return(1e3-l)%10}}class Ji extends ft{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),h=o[1],x=0;for(let b=0;b<6&&h<d;b++){let T=ft.decodeDigit(s,c,h,ft.L_AND_G_PATTERNS);l+=String.fromCharCode(48+T%10);for(let k of c)h+=k;T>=10&&(x|=1<<5-b)}l=Ji.determineFirstDigit(l,x),h=ft.findGuardPattern(s,h,!0,ft.MIDDLE_PATTERN,new Int32Array(ft.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<6&&h<d;b++){let T=ft.decodeDigit(s,c,h,ft.L_PATTERNS);l+=String.fromCharCode(48+T);for(let k of c)h+=k}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return de.EAN_13}static determineFirstDigit(s,o){for(let l=0;l<10;l++)if(o===this.FIRST_DIGIT_ENCODINGS[l])return s=String.fromCharCode(48+l)+s,s;throw new X}}Ji.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class pg extends ft{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,l){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),h=o[1];for(let y=0;y<4&&h<d;y++){let b=ft.decodeDigit(s,c,h,ft.L_PATTERNS);l+=String.fromCharCode(48+b);for(let T of c)h+=T}h=ft.findGuardPattern(s,h,!0,ft.MIDDLE_PATTERN,new Int32Array(ft.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&h<d;y++){let b=ft.decodeDigit(s,c,h,ft.L_PATTERNS);l+=String.fromCharCode(48+b);for(let T of c)h+=T}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return de.EAN_8}}class gg extends ft{constructor(){super(...arguments),this.ean13Reader=new Ji}getBarcodeFormat(){return de.UPC_A}decode(s,o){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,o,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,o,l))}decodeMiddle(s,o,l){return this.ean13Reader.decodeMiddle(s,o,l)}maybeReturnResult(s){let o=s.getText();if(o.charAt(0)==="0"){let l=new ke(o.substring(1),null,null,s.getResultPoints(),de.UPC_A);return s.getResultMetadata()!=null&&l.putAllMetadata(s.getResultMetadata()),l}else throw new X}reset(){this.ean13Reader.reset()}}class Ln extends ft{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,o,l){const c=this.decodeMiddleCounters.map(b=>b);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const d=s.getSize();let h=o[1],x=0;for(let b=0;b<6&&h<d;b++){const T=Ln.decodeDigit(s,c,h,Ln.L_AND_G_PATTERNS);l+=String.fromCharCode(48+T%10);for(let k of c)h+=k;T>=10&&(x|=1<<5-b)}let y=Ln.determineNumSysAndCheckDigit(l,x);return{rowOffset:h,resultString:y}}decodeEnd(s,o){return Ln.findGuardPatternWithoutCounters(s,o,!0,Ln.MIDDLE_END_PATTERN)}checkChecksum(s){return ft.checkChecksum(Ln.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,o){for(let l=0;l<=1;l++)for(let c=0;c<10;c++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][c]){let d=String.fromCharCode(48+l),h=String.fromCharCode(48+c);return d+s+h}throw X.getNotFoundInstance()}getBarcodeFormat(){return de.UPC_E}static convertUPCEtoUPCA(s){const o=s.slice(1,7).split("").map(d=>d.charCodeAt(0)),l=new se;l.append(s.charAt(0));let c=o[5];switch(c){case 0:case 1:case 2:l.appendChars(o,0,2),l.append(c),l.append("0000"),l.appendChars(o,2,3);break;case 3:l.appendChars(o,0,3),l.append("00000"),l.appendChars(o,3,2);break;case 4:l.appendChars(o,0,4),l.append("00000"),l.append(o[4]);break;default:l.appendChars(o,0,5),l.append("0000"),l.append(c);break}return s.length>=8&&l.append(s.charAt(7)),l.toString()}}Ln.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ln.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ch extends Tt{constructor(s){super();let o=s==null?null:s.get(V.POSSIBLE_FORMATS),l=[];n(o)?(l.push(new Ji),l.push(new gg),l.push(new pg),l.push(new Ln)):(o.indexOf(de.EAN_13)>-1&&l.push(new Ji),o.indexOf(de.UPC_A)>-1&&l.push(new gg),o.indexOf(de.EAN_8)>-1&&l.push(new pg),o.indexOf(de.UPC_E)>-1&&l.push(new Ln)),this.readers=l}decodeRow(s,o,l){for(let c of this.readers)try{const d=c.decodeRow(s,o,l),h=d.getBarcodeFormat()===de.EAN_13&&d.getText().charAt(0)==="0",x=l==null?null:l.get(V.POSSIBLE_FORMATS),y=x==null||x.includes(de.UPC_A);if(h&&y){const b=d.getRawBytes(),T=new ke(d.getText().substring(1),b,b?b.length:null,d.getResultPoints(),de.UPC_A);return T.putAllMetadata(d.getResultMetadata()),T}return d}catch{}throw new X}reset(){for(let s of this.readers)s.reset()}}class Rr extends Tt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,o){for(let l=0;l<o.length;l++)if(Tt.patternMatchVariance(s,o[l],Rr.MAX_INDIVIDUAL_VARIANCE)<Rr.MAX_AVG_VARIANCE)return l;throw new X}static count(s){return _e.sum(new Int32Array(s))}static increment(s,o){let l=0,c=o[0];for(let d=1;d<s.length;d++)o[d]>c&&(c=o[d],l=d);s[l]++}static decrement(s,o){let l=0,c=o[0];for(let d=1;d<s.length;d++)o[d]<c&&(c=o[d],l=d);s[l]--}static isFinderPattern(s){let o=s[0]+s[1],l=o+s[2]+s[3],c=o/l;if(c>=Rr.MIN_FINDER_PATTERN_RATIO&&c<=Rr.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let x of s)x>h&&(h=x),x<d&&(d=x);return h<10*d}return!1}}Rr.MAX_AVG_VARIANCE=.2,Rr.MAX_INDIVIDUAL_VARIANCE=.45,Rr.MIN_FINDER_PATTERN_RATIO=9.5/12,Rr.MAX_FINDER_PATTERN_RATIO=12.5/14;class Wo{constructor(s,o){this.value=s,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Wo))return!1;const o=s;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class uu{constructor(s,o,l,c,d){this.value=s,this.startEnd=o,this.value=s,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new ve(l,d)),this.resultPoints.push(new ve(c,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof uu))return!1;const o=s;return this.value===o.value}hashCode(){return this.value}}class rs{constructor(){}static getRSSvalue(s,o,l){let c=0;for(let y of s)c+=y;let d=0,h=0,x=s.length;for(let y=0;y<x-1;y++){let b;for(b=1,h|=1<<y;b<s[y];b++,h&=~(1<<y)){let T=rs.combins(c-b-1,x-y-2);if(l&&h===0&&c-b-(x-y-1)>=x-y-1&&(T-=rs.combins(c-b-(x-y),x-y-2)),x-y-1>1){let k=0;for(let M=c-b-(x-y-2);M>o;M--)k+=rs.combins(c-b-M-1,x-y-3);T-=k*(x-1-y)}else c-b>o&&T--;d+=T}c-=b}return d}static combins(s,o){let l,c;s-o>o?(c=o,l=s-o):(c=s-o,l=o);let d=1,h=1;for(let x=s;x>l;x--)d*=x,h<=c&&(d/=h,h++);for(;h<=c;)d/=h,h++;return d}}class t3{static buildBitArray(s){let o=s.length*2-1;s[s.length-1].getRightChar()==null&&(o-=1);let l=12*o,c=new j(l),d=0,x=s[0].getRightChar().getValue();for(let y=11;y>=0;--y)x&1<<y&&c.set(d),d++;for(let y=1;y<s.length;++y){let b=s[y],T=b.getLeftChar().getValue();for(let k=11;k>=0;--k)T&1<<k&&c.set(d),d++;if(b.getRightChar()!=null){let k=b.getRightChar().getValue();for(let M=11;M>=0;--M)k&1<<M&&c.set(d),d++}}return c}}class eo{constructor(s,o){o?this.decodedInformation=null:(this.finished=s,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class uh{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class qr extends uh{constructor(s,o){super(s),this.value=o}getValue(){return this.value}isFNC1(){return this.value===qr.FNC1}}qr.FNC1="$";class to extends uh{constructor(s,o,l){super(s),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Cn extends uh{constructor(s,o,l){if(super(s),o<0||o>10||l<0||l>10)throw new F;this.firstDigit=o,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Cn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Cn.FNC1}isAnyFNC1(){return this.firstDigit===Cn.FNC1||this.secondDigit===Cn.FNC1}}Cn.FNC1=10;class be{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new X;let o=s.substring(0,2);for(let d of be.TWO_DIGIT_DATA_LENGTH)if(d[0]===o)return d[1]===be.VARIABLE_LENGTH?be.processVariableAI(2,d[2],s):be.processFixedAI(2,d[1],s);if(s.length<3)throw new X;let l=s.substring(0,3);for(let d of be.THREE_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===be.VARIABLE_LENGTH?be.processVariableAI(3,d[2],s):be.processFixedAI(3,d[1],s);for(let d of be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===be.VARIABLE_LENGTH?be.processVariableAI(4,d[2],s):be.processFixedAI(4,d[1],s);if(s.length<4)throw new X;let c=s.substring(0,4);for(let d of be.FOUR_DIGIT_DATA_LENGTH)if(d[0]===c)return d[1]===be.VARIABLE_LENGTH?be.processVariableAI(4,d[2],s):be.processFixedAI(4,d[1],s);throw new X}static processFixedAI(s,o,l){if(l.length<s)throw new X;let c=l.substring(0,s);if(l.length<s+o)throw new X;let d=l.substring(s,s+o),h=l.substring(s+o),x="("+c+")"+d,y=be.parseFieldsInGeneralPurpose(h);return y==null?x:x+y}static processVariableAI(s,o,l){let c=l.substring(0,s),d;l.length<s+o?d=l.length:d=s+o;let h=l.substring(s,d),x=l.substring(d),y="("+c+")"+h,b=be.parseFieldsInGeneralPurpose(x);return b==null?y:y+b}}be.VARIABLE_LENGTH=[],be.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",be.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",be.VARIABLE_LENGTH,20],["22",be.VARIABLE_LENGTH,29],["30",be.VARIABLE_LENGTH,8],["37",be.VARIABLE_LENGTH,8],["90",be.VARIABLE_LENGTH,30],["91",be.VARIABLE_LENGTH,30],["92",be.VARIABLE_LENGTH,30],["93",be.VARIABLE_LENGTH,30],["94",be.VARIABLE_LENGTH,30],["95",be.VARIABLE_LENGTH,30],["96",be.VARIABLE_LENGTH,30],["97",be.VARIABLE_LENGTH,3],["98",be.VARIABLE_LENGTH,30],["99",be.VARIABLE_LENGTH,30]],be.THREE_DIGIT_DATA_LENGTH=[["240",be.VARIABLE_LENGTH,30],["241",be.VARIABLE_LENGTH,30],["242",be.VARIABLE_LENGTH,6],["250",be.VARIABLE_LENGTH,30],["251",be.VARIABLE_LENGTH,30],["253",be.VARIABLE_LENGTH,17],["254",be.VARIABLE_LENGTH,20],["400",be.VARIABLE_LENGTH,30],["401",be.VARIABLE_LENGTH,30],["402",17],["403",be.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",be.VARIABLE_LENGTH,20],["421",be.VARIABLE_LENGTH,15],["422",3],["423",be.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",be.VARIABLE_LENGTH,15],["391",be.VARIABLE_LENGTH,18],["392",be.VARIABLE_LENGTH,15],["393",be.VARIABLE_LENGTH,18],["703",be.VARIABLE_LENGTH,30]],be.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",be.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",be.VARIABLE_LENGTH,20],["8003",be.VARIABLE_LENGTH,30],["8004",be.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",be.VARIABLE_LENGTH,30],["8008",be.VARIABLE_LENGTH,12],["8018",18],["8020",be.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",be.VARIABLE_LENGTH,70],["8200",be.VARIABLE_LENGTH,70]];class Ho{constructor(s){this.buffer=new se,this.information=s}decodeAllCodes(s,o){let l=o,c=null;do{let d=this.decodeGeneralPurposeField(l,c),h=be.parseFieldsInGeneralPurpose(d.getNewString());if(h!=null&&s.append(h),d.isRemaining()?c=""+d.getRemainingValue():c=null,l===d.getNewPosition())break;l=d.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let o=s;o<s+3;++o)if(this.information.get(o))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(s,4);return d===0?new Cn(this.information.getSize(),Cn.FNC1,Cn.FNC1):new Cn(this.information.getSize(),d-1,Cn.FNC1)}let o=this.extractNumericValueFromBitArray(s,7),l=(o-8)/11,c=(o-8)%11;return new Cn(s+7,l,c)}extractNumericValueFromBitArray(s,o){return Ho.extractNumericValueFromBitArray(this.information,s,o)}static extractNumericValueFromBitArray(s,o,l){let c=0;for(let d=0;d<l;++d)s.get(o+d)&&(c|=1<<l-d-1);return c}decodeGeneralPurposeField(s,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(s);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new to(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new to(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,o;do{let l=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),s=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),s=o.isFinished()):(o=this.parseNumericBlock(),s=o.isFinished()),!(l!==this.current.getPosition())&&!s)break}while(!s);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let o;return s.isSecondDigitFNC1()?o=new to(this.current.getPosition(),this.buffer.toString()):o=new to(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new eo(!0,o)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let o=new to(this.current.getPosition(),this.buffer.toString());return new eo(!0,o)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new eo(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new to(this.current.getPosition(),this.buffer.toString());return new eo(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new eo(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new to(this.current.getPosition(),this.buffer.toString());return new eo(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new eo(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<116)return!0;if(s+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,8);return c>=232&&c<253}decodeIsoIec646(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new qr(s+5,qr.FNC1);if(o>=5&&o<15)return new qr(s+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<90)return new qr(s+7,""+(l+1));if(l>=90&&l<116)return new qr(s+7,""+(l+7));let c=this.extractNumericValueFromBitArray(s,8),d;switch(c){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new F}return new qr(s+8,d)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,6);return l>=16&&l<63}decodeAlphanumeric(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new qr(s+5,qr.FNC1);if(o>=5&&o<15)return new qr(s+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(s,6);if(l>=32&&l<58)return new qr(s+6,""+(l+33));let c;switch(l){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new We("Decoding invalid alphanumeric value: "+l)}return new qr(s+6,c)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<5&&o+s<this.information.getSize();++o)if(o===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+o))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let o=s;o<s+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<4&&o+s<this.information.getSize();++o)if(this.information.get(s+o))return!1;return!0}}class dh{constructor(s){this.information=s,this.generalDecoder=new Ho(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Xr extends dh{constructor(s){super(s)}encodeCompressedGtin(s,o){s.append("(01)");let l=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,o,l)}encodeCompressedGtinWithoutAI(s,o,l){for(let c=0;c<4;++c){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*c,10);d/100===0&&s.append("0"),d/10===0&&s.append("0"),s.append(d)}Xr.appendCheckDigit(s,l)}static appendCheckDigit(s,o){let l=0;for(let c=0;c<13;c++){let d=s.charAt(c+o).charCodeAt(0)-48;l+=c&1?d:3*d}l=10-l%10,l===10&&(l=0),s.append(l)}}Xr.GTIN_SIZE=40;class $o extends Xr{constructor(s){super(s)}parseInformation(){let s=new se;s.append("(01)");let o=s.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray($o.HEADER_SIZE,4);return s.append(l),this.encodeCompressedGtinWithoutAI(s,$o.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(s,$o.HEADER_SIZE+44)}}$o.HEADER_SIZE=4;class du extends dh{constructor(s){super(s)}parseInformation(){let s=new se;return this.getGeneralDecoder().decodeAllCodes(s,du.HEADER_SIZE)}}du.HEADER_SIZE=5;class fu extends Xr{constructor(s){super(s)}encodeCompressedWeight(s,o,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,l);this.addWeightCode(s,c);let d=this.checkWeight(c),h=1e5;for(let x=0;x<5;++x)d/h===0&&s.append("0"),h/=10;s.append(d)}}class ns extends fu{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=ns.HEADER_SIZE+fu.GTIN_SIZE+ns.WEIGHT_SIZE)throw new X;let s=new se;return this.encodeCompressedGtin(s,ns.HEADER_SIZE),this.encodeCompressedWeight(s,ns.HEADER_SIZE+fu.GTIN_SIZE,ns.WEIGHT_SIZE),s.toString()}}ns.HEADER_SIZE=5,ns.WEIGHT_SIZE=15;class r3 extends ns{constructor(s){super(s)}addWeightCode(s,o){s.append("(3103)")}checkWeight(s){return s}}class n3 extends ns{constructor(s){super(s)}addWeightCode(s,o){o<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class ss extends Xr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<ss.HEADER_SIZE+Xr.GTIN_SIZE)throw new X;let s=new se;this.encodeCompressedGtin(s,ss.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(ss.HEADER_SIZE+Xr.GTIN_SIZE,ss.LAST_DIGIT_SIZE);s.append("(392"),s.append(o),s.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(ss.HEADER_SIZE+Xr.GTIN_SIZE+ss.LAST_DIGIT_SIZE,null);return s.append(l.getNewString()),s.toString()}}ss.HEADER_SIZE=8,ss.LAST_DIGIT_SIZE=2;class Fr extends Xr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Fr.HEADER_SIZE+Xr.GTIN_SIZE)throw new X;let s=new se;this.encodeCompressedGtin(s,Fr.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Fr.HEADER_SIZE+Xr.GTIN_SIZE,Fr.LAST_DIGIT_SIZE);s.append("(393"),s.append(o),s.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Fr.HEADER_SIZE+Xr.GTIN_SIZE+Fr.LAST_DIGIT_SIZE,Fr.FIRST_THREE_DIGITS_SIZE);l/100==0&&s.append("0"),l/10==0&&s.append("0"),s.append(l);let c=this.getGeneralDecoder().decodeGeneralPurposeField(Fr.HEADER_SIZE+Xr.GTIN_SIZE+Fr.LAST_DIGIT_SIZE+Fr.FIRST_THREE_DIGITS_SIZE,null);return s.append(c.getNewString()),s.toString()}}Fr.HEADER_SIZE=8,Fr.LAST_DIGIT_SIZE=2,Fr.FIRST_THREE_DIGITS_SIZE=10;class Ft extends fu{constructor(s,o,l){super(s),this.dateCode=l,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Ft.HEADER_SIZE+Ft.GTIN_SIZE+Ft.WEIGHT_SIZE+Ft.DATE_SIZE)throw new X;let s=new se;return this.encodeCompressedGtin(s,Ft.HEADER_SIZE),this.encodeCompressedWeight(s,Ft.HEADER_SIZE+Ft.GTIN_SIZE,Ft.WEIGHT_SIZE),this.encodeCompressedDate(s,Ft.HEADER_SIZE+Ft.GTIN_SIZE+Ft.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Ft.DATE_SIZE);if(l==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let c=l%32;l/=32;let d=l%12+1;l/=12;let h=l;h/10==0&&s.append("0"),s.append(h),d/10==0&&s.append("0"),s.append(d),c/10==0&&s.append("0"),s.append(c)}addWeightCode(s,o){s.append("("),s.append(this.firstAIdigits),s.append(o/1e5),s.append(")")}checkWeight(s){return s%1e5}}Ft.HEADER_SIZE=8,Ft.WEIGHT_SIZE=20,Ft.DATE_SIZE=16;function xg(O){try{if(O.get(1))return new $o(O);if(!O.get(2))return new du(O);switch(Ho.extractNumericValueFromBitArray(O,1,4)){case 4:return new r3(O);case 5:return new n3(O)}switch(Ho.extractNumericValueFromBitArray(O,1,5)){case 12:return new ss(O);case 13:return new Fr(O)}switch(Ho.extractNumericValueFromBitArray(O,1,7)){case 56:return new Ft(O,"310","11");case 57:return new Ft(O,"320","11");case 58:return new Ft(O,"310","13");case 59:return new Ft(O,"320","13");case 60:return new Ft(O,"310","15");case 61:return new Ft(O,"320","15");case 62:return new Ft(O,"310","17");case 63:return new Ft(O,"320","17")}}catch(s){throw console.log(s),new We("unknown decoder: "+O)}}class Ks{constructor(s,o,l,c){this.leftchar=s,this.rightchar=o,this.finderpattern=l,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,o){return s instanceof Ks?Ks.equalsOrNull(s.leftchar,o.leftchar)&&Ks.equalsOrNull(s.rightchar,o.rightchar)&&Ks.equalsOrNull(s.finderpattern,o.finderpattern):!1}static equalsOrNull(s,o){return s===null?o===null:Ks.equals(s,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class fh{constructor(s,o,l){this.pairs=s,this.rowNumber=o,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,o){return s instanceof fh?this.checkEqualitity(s,o)&&s.wasReversed===o.wasReversed:!1}checkEqualitity(s,o){if(!s||!o)return;let l;return s.forEach((c,d)=>{o.forEach(h=>{c.getLeftChar().getValue()===h.getLeftChar().getValue()&&c.getRightChar().getValue()===h.getRightChar().getValue()&&c.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(l=!0)})}),l}}class ie extends Rr{constructor(s){super(...arguments),this.pairs=new Array(ie.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,o,l){this.pairs.length=0,this.startFromEven=!1;try{return ie.constructResult(this.decodeRow2pairs(s,o))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,ie.constructResult(this.decodeRow2pairs(s,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,o){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,s))}catch(d){if(d instanceof X){if(!this.pairs.length)throw new X;l=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(s,!1),c){let d=this.checkRowsBoolean(!1);if(d!=null||(d=this.checkRowsBoolean(!0),d!=null))return d}throw new X}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return s&&(this.rows=this.rows.reverse()),o}checkRows(s,o){for(let l=o;l<this.rows.length;l++){let c=this.rows[l];this.pairs.length=0;for(let h of s)this.pairs.push(h.getPairs());if(this.pairs.push(c.getPairs()),!ie.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(s);d.push(c);try{return this.checkRows(d,l+1)}catch(h){this.verbose&&console.log(h)}}throw new X}static isValidSequence(s){for(let o of ie.FINDER_PATTERN_SEQUENCES){if(s.length>o.length)continue;let l=!0;for(let c=0;c<s.length;c++)if(s[c].getFinderPattern().getValue()!=o[c]){l=!1;break}if(l)return!0}return!1}storeRow(s,o){let l=0,c=!1,d=!1;for(;l<this.rows.length;){let h=this.rows[l];if(h.getRowNumber()>s){d=h.isEquivalent(this.pairs);break}c=h.isEquivalent(this.pairs),l++}d||c||ie.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new fh(this.pairs,s,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,o){for(let l of o)if(l.getPairs().length!==s.length){for(let c of l.getPairs())for(let d of s)if(Ks.equals(c,d))break}}static isPartialRow(s,o){for(let l of o){let c=!0;for(let d of s){let h=!1;for(let x of l.getPairs())if(d.equals(x)){h=!0;break}if(!h){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(s){let o=t3.buildBitArray(s),c=xg(o).parseInformation(),d=s[0].getFinderPattern().getResultPoints(),h=s[s.length-1].getFinderPattern().getResultPoints(),x=[d[0],d[1],h[0],h[1]];return new ke(c,null,null,x,de.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),o=s.getLeftChar(),l=s.getRightChar();if(l==null)return!1;let c=l.getChecksumPortion(),d=2;for(let x=1;x<this.pairs.size();++x){let y=this.pairs.get(x);c+=y.getLeftChar().getChecksumPortion(),d++;let b=y.getRightChar();b!=null&&(c+=b.getChecksumPortion(),d++)}return c%=211,211*(d-4)+c==o.getValue()}static getNextSecondBar(s,o){let l;return s.get(o)?(l=s.getNextUnset(o),l=s.getNextSet(l)):(l=s.getNextSet(o),l=s.getNextUnset(l)),l}retrieveNextPair(s,o,l){let c=o.length%2==0;this.startFromEven&&(c=!c);let d,h=!0,x=-1;do this.findNextPair(s,o,x),d=this.parseFoundFinderPattern(s,l,c),d==null?x=ie.getNextSecondBar(s,this.startEnd[0]):h=!1;while(h);let y=this.decodeDataCharacter(s,d,c,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new X;let b;try{b=this.decodeDataCharacter(s,d,c,!1)}catch(T){b=null,this.verbose&&console.log(T)}return new Ks(y,b,d,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,o,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),h;l>=0?h=l:this.isEmptyPair(o)?h=0:h=o[o.length-1].getFinderPattern().getStartEnd()[1];let x=o.length%2!=0;this.startFromEven&&(x=!x);let y=!1;for(;h<d&&(y=!s.get(h),!!y);)h++;let b=0,T=h;for(let k=h;k<d;k++)if(s.get(k)!=y)c[b]++;else{if(b==3){if(x&&ie.reverseCounters(c),ie.isFinderPattern(c)){this.startEnd[0]=T,this.startEnd[1]=k;return}x&&ie.reverseCounters(c),T+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,b--}else b++;c[b]=1,y=!y}throw new X}static reverseCounters(s){let o=s.length;for(let l=0;l<o/2;++l){let c=s[l];s[l]=s[o-l-1],s[o-l-1]=c}}parseFoundFinderPattern(s,o,l){let c,d,h;if(l){let b=this.startEnd[0]-1;for(;b>=0&&!s.get(b);)b--;b++,c=this.startEnd[0]-b,d=b,h=this.startEnd[1]}else d=this.startEnd[0],h=s.getNextUnset(this.startEnd[1]+1),c=h-this.startEnd[1];let x=this.getDecodeFinderCounters();N.arraycopy(x,0,x,1,x.length-1),x[0]=c;let y;try{y=this.parseFinderValue(x,ie.FINDER_PATTERNS)}catch{return null}return new uu(y,[d,h],d,h,o)}decodeDataCharacter(s,o,l,c){let d=this.getDataCharacterCounters();for(let At=0;At<d.length;At++)d[At]=0;if(c)ie.recordPatternInReverse(s,o.getStartEnd()[0],d);else{ie.recordPattern(s,o.getStartEnd()[1],d);for(let At=0,Er=d.length-1;At<Er;At++,Er--){let ln=d[At];d[At]=d[Er],d[Er]=ln}}let h=17,x=_e.sum(new Int32Array(d))/h,y=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(x-y)/y>.3)throw new X;let b=this.getOddCounts(),T=this.getEvenCounts(),k=this.getOddRoundingErrors(),M=this.getEvenRoundingErrors();for(let At=0;At<d.length;At++){let Er=1*d[At]/x,ln=Er+.5;if(ln<1){if(Er<.3)throw new X;ln=1}else if(ln>8){if(Er>8.7)throw new X;ln=8}let Ko=At/2;At&1?(T[Ko]=ln,M[Ko]=Er-ln):(b[Ko]=ln,k[Ko]=Er-ln)}this.adjustOddEvenCounts(h);let U=4*o.getValue()+(l?0:2)+(c?0:1)-1,H=0,G=0;for(let At=b.length-1;At>=0;At--){if(ie.isNotA1left(o,l,c)){let Er=ie.WEIGHTS[U][2*At];G+=b[At]*Er}H+=b[At]}let Y=0;for(let At=T.length-1;At>=0;At--)if(ie.isNotA1left(o,l,c)){let Er=ie.WEIGHTS[U][2*At+1];Y+=T[At]*Er}let ee=G+Y;if(H&1||H>13||H<4)throw new X;let le=(13-H)/2,ce=ie.SYMBOL_WIDEST[le],oe=9-ce,it=rs.getRSSvalue(b,ce,!0),Ge=rs.getRSSvalue(T,oe,!1),Kr=ie.EVEN_TOTAL_SUBSET[le],Fn=ie.GSUM[le],Qr=it*Kr+Ge+Fn;return new Wo(Qr,ee)}static isNotA1left(s,o,l){return!(s.getValue()==0&&o&&l)}adjustOddEvenCounts(s){let o=_e.sum(new Int32Array(this.getOddCounts())),l=_e.sum(new Int32Array(this.getEvenCounts())),c=!1,d=!1;o>13?d=!0:o<4&&(c=!0);let h=!1,x=!1;l>13?x=!0:l<4&&(h=!0);let y=o+l-s,b=(o&1)==1,T=(l&1)==0;if(y==1)if(b){if(T)throw new X;d=!0}else{if(!T)throw new X;x=!0}else if(y==-1)if(b){if(T)throw new X;c=!0}else{if(!T)throw new X;h=!0}else if(y==0){if(b){if(!T)throw new X;o<l?(c=!0,x=!0):(d=!0,h=!0)}else if(T)throw new X}else throw new X;if(c){if(d)throw new X;ie.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&ie.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(x)throw new X;ie.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&ie.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ie.SYMBOL_WIDEST=[7,5,4,3,1],ie.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ie.GSUM=[0,348,1388,2948,3988],ie.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ie.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ie.FINDER_PAT_A=0,ie.FINDER_PAT_B=1,ie.FINDER_PAT_C=2,ie.FINDER_PAT_D=3,ie.FINDER_PAT_E=4,ie.FINDER_PAT_F=5,ie.FINDER_PATTERN_SEQUENCES=[[ie.FINDER_PAT_A,ie.FINDER_PAT_A],[ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B],[ie.FINDER_PAT_A,ie.FINDER_PAT_C,ie.FINDER_PAT_B,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_C],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F]],ie.MAX_PAIRS=11;class s3 extends Wo{constructor(s,o,l){super(s,o),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Gt extends Rr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,o,l){const c=this.decodePair(o,!1,s,l);Gt.addOrTally(this.possibleLeftPairs,c),o.reverse();let d=this.decodePair(o,!0,s,l);Gt.addOrTally(this.possibleRightPairs,d),o.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&Gt.checkChecksum(h,x))return Gt.constructResult(h,x)}throw new X}static addOrTally(s,o){if(o==null)return;let l=!1;for(let c of s)if(c.getValue()===o.getValue()){c.incrementCount(),l=!0;break}l||s.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,o){let l=4537077*s.getValue()+o.getValue(),c=new String(l).toString(),d=new se;for(let b=13-c.length;b>0;b--)d.append("0");d.append(c);let h=0;for(let b=0;b<13;b++){let T=d.charAt(b).charCodeAt(0)-48;h+=b&1?T:3*T}h=10-h%10,h===10&&(h=0),d.append(h.toString());let x=s.getFinderPattern().getResultPoints(),y=o.getFinderPattern().getResultPoints();return new ke(d.toString(),null,0,[x[0],x[1],y[0],y[1]],de.RSS_14,new Date().getTime())}static checkChecksum(s,o){let l=(s.getChecksumPortion()+16*o.getChecksumPortion())%79,c=9*s.getFinderPattern().getValue()+o.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,l===c}decodePair(s,o,l,c){try{let d=this.findFinderPattern(s,o),h=this.parseFoundFinderPattern(s,l,o,d),x=c==null?null:c.get(V.NEED_RESULT_POINT_CALLBACK);if(x!=null){let T=(d[0]+d[1])/2;o&&(T=s.getSize()-1-T),x.foundPossibleResultPoint(new ve(T,l))}let y=this.decodeDataCharacter(s,h,!0),b=this.decodeDataCharacter(s,h,!1);return new s3(1597*y.getValue()+b.getValue(),y.getChecksumPortion()+4*b.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(s,o,l){let c=this.getDataCharacterCounters();for(let Y=0;Y<c.length;Y++)c[Y]=0;if(l)Tt.recordPatternInReverse(s,o.getStartEnd()[0],c);else{Tt.recordPattern(s,o.getStartEnd()[1]+1,c);for(let Y=0,ee=c.length-1;Y<ee;Y++,ee--){let le=c[Y];c[Y]=c[ee],c[ee]=le}}let d=l?16:15,h=_e.sum(new Int32Array(c))/d,x=this.getOddCounts(),y=this.getEvenCounts(),b=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let Y=0;Y<c.length;Y++){let ee=c[Y]/h,le=Math.floor(ee+.5);le<1?le=1:le>8&&(le=8);let ce=Math.floor(Y/2);Y&1?(y[ce]=le,T[ce]=ee-le):(x[ce]=le,b[ce]=ee-le)}this.adjustOddEvenCounts(l,d);let k=0,M=0;for(let Y=x.length-1;Y>=0;Y--)M*=9,M+=x[Y],k+=x[Y];let U=0,H=0;for(let Y=y.length-1;Y>=0;Y--)U*=9,U+=y[Y],H+=y[Y];let G=M+3*U;if(l){if(k&1||k>12||k<4)throw new X;let Y=(12-k)/2,ee=Gt.OUTSIDE_ODD_WIDEST[Y],le=9-ee,ce=rs.getRSSvalue(x,ee,!1),oe=rs.getRSSvalue(y,le,!0),it=Gt.OUTSIDE_EVEN_TOTAL_SUBSET[Y],Ge=Gt.OUTSIDE_GSUM[Y];return new Wo(ce*it+oe+Ge,G)}else{if(H&1||H>10||H<4)throw new X;let Y=(10-H)/2,ee=Gt.INSIDE_ODD_WIDEST[Y],le=9-ee,ce=rs.getRSSvalue(x,ee,!0),oe=rs.getRSSvalue(y,le,!1),it=Gt.INSIDE_ODD_TOTAL_SUBSET[Y],Ge=Gt.INSIDE_GSUM[Y];return new Wo(oe*it+ce+Ge,G)}}findFinderPattern(s,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=s.getSize(),d=!1,h=0;for(;h<c&&(d=!s.get(h),o!==d);)h++;let x=0,y=h;for(let b=h;b<c;b++)if(s.get(b)!==d)l[x]++;else{if(x===3){if(Rr.isFinderPattern(l))return[y,b];y+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,x--}else x++;l[x]=1,d=!d}throw new X}parseFoundFinderPattern(s,o,l,c){let d=s.get(c[0]),h=c[0]-1;for(;h>=0&&d!==s.get(h);)h--;h++;const x=c[0]-h,y=this.getDecodeFinderCounters(),b=new Int32Array(y.length);N.arraycopy(y,0,b,1,y.length-1),b[0]=x;const T=this.parseFinderValue(b,Gt.FINDER_PATTERNS);let k=h,M=c[1];return l&&(k=s.getSize()-1-k,M=s.getSize()-1-M),new uu(T,[h,c[1]],k,M,o)}adjustOddEvenCounts(s,o){let l=_e.sum(new Int32Array(this.getOddCounts())),c=_e.sum(new Int32Array(this.getEvenCounts())),d=!1,h=!1,x=!1,y=!1;s?(l>12?h=!0:l<4&&(d=!0),c>12?y=!0:c<4&&(x=!0)):(l>11?h=!0:l<5&&(d=!0),c>10?y=!0:c<4&&(x=!0));let b=l+c-o,T=(l&1)===(s?1:0),k=(c&1)===1;if(b===1)if(T){if(k)throw new X;h=!0}else{if(!k)throw new X;y=!0}else if(b===-1)if(T){if(k)throw new X;d=!0}else{if(!k)throw new X;x=!0}else if(b===0){if(T){if(!k)throw new X;l<c?(d=!0,y=!0):(h=!0,x=!0)}else if(k)throw new X}else throw new X;if(d){if(h)throw new X;Rr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Rr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(y)throw new X;Rr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&Rr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Gt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Gt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Gt.OUTSIDE_GSUM=[0,161,961,2015,2715],Gt.INSIDE_GSUM=[0,336,1036,1516],Gt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Gt.INSIDE_ODD_WIDEST=[2,4,6,8],Gt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Go extends Tt{constructor(s,o){super(),this.readers=[],this.verbose=o===!0;const l=s?s.get(V.POSSIBLE_FORMATS):null,c=s&&s.get(V.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(de.EAN_13)||l.includes(de.UPC_A)||l.includes(de.EAN_8)||l.includes(de.UPC_E))&&this.readers.push(new ch(s)),l.includes(de.CODE_39)&&this.readers.push(new sr(c)),l.includes(de.CODE_128)&&this.readers.push(new me),l.includes(de.ITF)&&this.readers.push(new Et),l.includes(de.RSS_14)&&this.readers.push(new Gt),l.includes(de.RSS_EXPANDED)&&this.readers.push(new ie(this.verbose))):(this.readers.push(new ch(s)),this.readers.push(new sr),this.readers.push(new ch(s)),this.readers.push(new me),this.readers.push(new Et),this.readers.push(new Gt),this.readers.push(new ie(this.verbose)))}decodeRow(s,o,l){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(s,o,l)}catch{}throw new X}reset(){this.readers.forEach(s=>s.reset())}}class i3 extends we{constructor(s=500,o){super(new Go(o),s,o)}}class xt{constructor(s,o,l){this.ecCodewords=s,this.ecBlocks=[o],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ht{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class at{constructor(s,o,l,c,d,h){this.versionNumber=s,this.symbolSizeRows=o,this.symbolSizeColumns=l,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=d,this.ecBlocks=h;let x=0;const y=h.getECCodewords(),b=h.getECBlocks();for(let T of b)x+=T.getCount()*(T.getDataCodewords()+y);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,o){if(s&1||o&1)throw new F;for(let l of at.VERSIONS)if(l.symbolSizeRows===s&&l.symbolSizeColumns===o)return l;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new at(1,10,10,8,8,new xt(5,new ht(1,3))),new at(2,12,12,10,10,new xt(7,new ht(1,5))),new at(3,14,14,12,12,new xt(10,new ht(1,8))),new at(4,16,16,14,14,new xt(12,new ht(1,12))),new at(5,18,18,16,16,new xt(14,new ht(1,18))),new at(6,20,20,18,18,new xt(18,new ht(1,22))),new at(7,22,22,20,20,new xt(20,new ht(1,30))),new at(8,24,24,22,22,new xt(24,new ht(1,36))),new at(9,26,26,24,24,new xt(28,new ht(1,44))),new at(10,32,32,14,14,new xt(36,new ht(1,62))),new at(11,36,36,16,16,new xt(42,new ht(1,86))),new at(12,40,40,18,18,new xt(48,new ht(1,114))),new at(13,44,44,20,20,new xt(56,new ht(1,144))),new at(14,48,48,22,22,new xt(68,new ht(1,174))),new at(15,52,52,24,24,new xt(42,new ht(2,102))),new at(16,64,64,14,14,new xt(56,new ht(2,140))),new at(17,72,72,16,16,new xt(36,new ht(4,92))),new at(18,80,80,18,18,new xt(48,new ht(4,114))),new at(19,88,88,20,20,new xt(56,new ht(4,144))),new at(20,96,96,22,22,new xt(68,new ht(4,174))),new at(21,104,104,24,24,new xt(56,new ht(6,136))),new at(22,120,120,18,18,new xt(68,new ht(6,175))),new at(23,132,132,20,20,new xt(62,new ht(8,163))),new at(24,144,144,22,22,new xt(62,new ht(8,156),new ht(2,155))),new at(25,8,18,6,16,new xt(7,new ht(1,5))),new at(26,8,32,6,14,new xt(11,new ht(1,10))),new at(27,12,26,10,24,new xt(14,new ht(1,16))),new at(28,12,36,10,16,new xt(18,new ht(1,22))),new at(29,16,36,14,16,new xt(24,new ht(1,32))),new at(30,16,48,14,22,new xt(28,new ht(1,49)))]}}at.VERSIONS=at.buildVersions();class hh{constructor(s){const o=s.getHeight();if(o<8||o>144||o&1)throw new F;this.version=hh.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new ne(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const o=s.getHeight(),l=s.getWidth();return at.getVersionForDimensions(o,l)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let o=0,l=4,c=0;const d=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let x=!1,y=!1,b=!1,T=!1;do if(l===d&&c===0&&!x)s[o++]=this.readCorner1(d,h)&255,l-=2,c+=2,x=!0;else if(l===d-2&&c===0&&h&3&&!y)s[o++]=this.readCorner2(d,h)&255,l-=2,c+=2,y=!0;else if(l===d+4&&c===2&&!(h&7)&&!b)s[o++]=this.readCorner3(d,h)&255,l-=2,c+=2,b=!0;else if(l===d-2&&c===0&&(h&7)===4&&!T)s[o++]=this.readCorner4(d,h)&255,l-=2,c+=2,T=!0;else{do l<d&&c>=0&&!this.readMappingMatrix.get(c,l)&&(s[o++]=this.readUtah(l,c,d,h)&255),l-=2,c+=2;while(l>=0&&c<h);l+=1,c+=3;do l>=0&&c<h&&!this.readMappingMatrix.get(c,l)&&(s[o++]=this.readUtah(l,c,d,h)&255),l+=2,c-=2;while(l<d&&c>=0);l+=3,c+=1}while(l<d||c<h);if(o!==this.version.getTotalCodewords())throw new F;return s}readModule(s,o,l,c){return s<0&&(s+=l,o+=4-(l+4&7)),o<0&&(o+=c,s+=4-(c+4&7)),this.readMappingMatrix.set(o,s),this.mappingBitMatrix.get(o,s)}readUtah(s,o,l,c){let d=0;return this.readModule(s-2,o-2,l,c)&&(d|=1),d<<=1,this.readModule(s-2,o-1,l,c)&&(d|=1),d<<=1,this.readModule(s-1,o-2,l,c)&&(d|=1),d<<=1,this.readModule(s-1,o-1,l,c)&&(d|=1),d<<=1,this.readModule(s-1,o,l,c)&&(d|=1),d<<=1,this.readModule(s,o-2,l,c)&&(d|=1),d<<=1,this.readModule(s,o-1,l,c)&&(d|=1),d<<=1,this.readModule(s,o,l,c)&&(d|=1),d}readCorner1(s,o){let l=0;return this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,1,s,o)&&(l|=1),l<<=1,this.readModule(s-1,2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(2,o-1,s,o)&&(l|=1),l<<=1,this.readModule(3,o-1,s,o)&&(l|=1),l}readCorner2(s,o){let l=0;return this.readModule(s-3,0,s,o)&&(l|=1),l<<=1,this.readModule(s-2,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(0,o-4,s,o)&&(l|=1),l<<=1,this.readModule(0,o-3,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l}readCorner3(s,o){let l=0;return this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(0,o-3,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-3,s,o)&&(l|=1),l<<=1,this.readModule(1,o-2,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l}readCorner4(s,o){let l=0;return this.readModule(s-3,0,s,o)&&(l|=1),l<<=1,this.readModule(s-2,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(2,o-1,s,o)&&(l|=1),l<<=1,this.readModule(3,o-1,s,o)&&(l|=1),l}extractDataRegion(s){const o=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(s.getHeight()!==o)throw new v("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),h=o/c|0,x=l/d|0,y=h*c,b=x*d,T=new ne(b,y);for(let k=0;k<h;++k){const M=k*c;for(let U=0;U<x;++U){const H=U*d;for(let G=0;G<c;++G){const Y=k*(c+2)+1+G,ee=M+G;for(let le=0;le<d;++le){const ce=U*(d+2)+1+le;if(s.get(ce,Y)){const oe=H+le;T.set(oe,ee)}}}}}return T}}class mh{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o){const l=o.getECBlocks();let c=0;const d=l.getECBlocks();for(let G of d)c+=G.getCount();const h=new Array(c);let x=0;for(let G of d)for(let Y=0;Y<G.getCount();Y++){const ee=G.getDataCodewords(),le=l.getECCodewords()+ee;h[x++]=new mh(ee,new Uint8Array(le))}const b=h[0].codewords.length-l.getECCodewords(),T=b-1;let k=0;for(let G=0;G<T;G++)for(let Y=0;Y<x;Y++)h[Y].codewords[G]=s[k++];const M=o.getVersionNumber()===24,U=M?8:x;for(let G=0;G<U;G++)h[G].codewords[b-1]=s[k++];const H=h[0].codewords.length;for(let G=b;G<H;G++)for(let Y=0;Y<x;Y++){const ee=M?(Y+8)%x:Y,le=M&&ee>7?G-1:G;h[ee].codewords[le]=s[k++]}if(k!==s.length)throw new v;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ph{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new v(""+s);let o=0,l=this.bitOffset,c=this.byteOffset;const d=this.bytes;if(l>0){const h=8-l,x=s<h?s:h,y=h-x,b=255>>8-x<<y;o=(d[c]&b)>>y,s-=x,l+=x,l===8&&(l=0,c++)}if(s>0){for(;s>=8;)o=o<<8|d[c]&255,c++,s-=8;if(s>0){const h=8-s,x=255>>h<<h;o=o<<s|(d[c]&x)>>h,l+=s}}return this.bitOffset=l,this.byteOffset=c,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ir;(function(O){O[O.PAD_ENCODE=0]="PAD_ENCODE",O[O.ASCII_ENCODE=1]="ASCII_ENCODE",O[O.C40_ENCODE=2]="C40_ENCODE",O[O.TEXT_ENCODE=3]="TEXT_ENCODE",O[O.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",O[O.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",O[O.BASE256_ENCODE=6]="BASE256_ENCODE"})(ir||(ir={}));class Qs{static decode(s){const o=new ph(s),l=new se,c=new se,d=new Array;let h=ir.ASCII_ENCODE;do if(h===ir.ASCII_ENCODE)h=this.decodeAsciiSegment(o,l,c);else{switch(h){case ir.C40_ENCODE:this.decodeC40Segment(o,l);break;case ir.TEXT_ENCODE:this.decodeTextSegment(o,l);break;case ir.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,l);break;case ir.EDIFACT_ENCODE:this.decodeEdifactSegment(o,l);break;case ir.BASE256_ENCODE:this.decodeBase256Segment(o,l,d);break;default:throw new F}h=ir.ASCII_ENCODE}while(h!==ir.PAD_ENCODE&&o.available()>0);return c.length()>0&&l.append(c.toString()),new je(s,l.toString(),d.length===0?null:d,null)}static decodeAsciiSegment(s,o,l){let c=!1;do{let d=s.readBits(8);if(d===0)throw new F;if(d<=128)return c&&(d+=128),o.append(String.fromCharCode(d-1)),ir.ASCII_ENCODE;if(d===129)return ir.PAD_ENCODE;if(d<=229){const h=d-130;h<10&&o.append("0"),o.append(""+h)}else switch(d){case 230:return ir.C40_ENCODE;case 231:return ir.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:o.append("[)>05"),l.insert(0,"");break;case 237:o.append("[)>06"),l.insert(0,"");break;case 238:return ir.ANSIX12_ENCODE;case 239:return ir.TEXT_ENCODE;case 240:return ir.EDIFACT_ENCODE;case 241:break;default:if(d!==254||s.available()!==0)throw new F;break}}while(s.available()>0);return ir.ASCII_ENCODE}static decodeC40Segment(s,o){let l=!1;const c=[];let d=0;do{if(s.available()===8)return;const h=s.readBits(8);if(h===254)return;this.parseTwoBytes(h,s.readBits(8),c);for(let x=0;x<3;x++){const y=c[x];switch(d){case 0:if(y<3)d=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const b=this.C40_BASIC_SET_CHARS[y];l?(o.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):o.append(b)}else throw new F;break;case 1:l?(o.append(String.fromCharCode(y+128)),l=!1):o.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const b=this.C40_SHIFT2_SET_CHARS[y];l?(o.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):o.append(b)}else switch(y){case 27:o.append("");break;case 30:l=!0;break;default:throw new F}d=0;break;case 3:l?(o.append(String.fromCharCode(y+224)),l=!1):o.append(String.fromCharCode(y+96)),d=0;break;default:throw new F}}}while(s.available()>0)}static decodeTextSegment(s,o){let l=!1,c=[],d=0;do{if(s.available()===8)return;const h=s.readBits(8);if(h===254)return;this.parseTwoBytes(h,s.readBits(8),c);for(let x=0;x<3;x++){const y=c[x];switch(d){case 0:if(y<3)d=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const b=this.TEXT_BASIC_SET_CHARS[y];l?(o.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):o.append(b)}else throw new F;break;case 1:l?(o.append(String.fromCharCode(y+128)),l=!1):o.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const b=this.TEXT_SHIFT2_SET_CHARS[y];l?(o.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):o.append(b)}else switch(y){case 27:o.append("");break;case 30:l=!0;break;default:throw new F}d=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const b=this.TEXT_SHIFT3_SET_CHARS[y];l?(o.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):o.append(b),d=0}else throw new F;break;default:throw new F}}}while(s.available()>0)}static decodeAnsiX12Segment(s,o){const l=[];do{if(s.available()===8)return;const c=s.readBits(8);if(c===254)return;this.parseTwoBytes(c,s.readBits(8),l);for(let d=0;d<3;d++){const h=l[d];switch(h){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(h<14)o.append(String.fromCharCode(h+44));else if(h<40)o.append(String.fromCharCode(h+51));else throw new F;break}}}while(s.available()>0)}static parseTwoBytes(s,o,l){let c=(s<<8)+o-1,d=Math.floor(c/1600);l[0]=d,c-=d*1600,d=Math.floor(c/40),l[1]=d,l[2]=c-d*40}static decodeEdifactSegment(s,o){do{if(s.available()<=16)return;for(let l=0;l<4;l++){let c=s.readBits(6);if(c===31){const d=8-s.getBitOffset();d!==8&&s.readBits(d);return}c&32||(c|=64),o.append(String.fromCharCode(c))}}while(s.available()>0)}static decodeBase256Segment(s,o,l){let c=1+s.getByteOffset();const d=this.unrandomize255State(s.readBits(8),c++);let h;if(d===0?h=s.available()/8|0:d<250?h=d:h=250*(d-249)+this.unrandomize255State(s.readBits(8),c++),h<0)throw new F;const x=new Uint8Array(h);for(let y=0;y<h;y++){if(s.available()<8)throw new F;x[y]=this.unrandomize255State(s.readBits(8),c++)}l.push(x);try{o.append(Q.decode(x,q.ISO88591))}catch(y){throw new We("Platform does not support required encoding: "+y.message)}}static unrandomize255State(s,o){const l=149*o%255+1,c=s-l;return c>=0?c:c+256}}Qs.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Qs.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Qs.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Qs.TEXT_SHIFT2_SET_CHARS=Qs.C40_SHIFT2_SET_CHARS,Qs.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class o3{constructor(){this.rsDecoder=new Ue(Ae.DATA_MATRIX_FIELD_256)}decode(s){const o=new hh(s),l=o.getVersion(),c=o.readCodewords(),d=mh.getDataBlocks(c,l);let h=0;for(let b of d)h+=b.getNumDataCodewords();const x=new Uint8Array(h),y=d.length;for(let b=0;b<y;b++){const T=d[b],k=T.getCodewords(),M=T.getNumDataCodewords();this.correctErrors(k,M);for(let U=0;U<M;U++)x[U*y+b]=k[U]}return Qs.decode(x)}correctErrors(s,o){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-o)}catch{throw new _}for(let c=0;c<o;c++)s[c]=l[c]}}class Kt{constructor(s){this.image=s,this.rectangleDetector=new Nt(this.image)}detect(){const s=this.rectangleDetector.detect();let o=this.detectSolid1(s);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new X;o=this.shiftToModuleCenter(o);const l=o[0],c=o[1],d=o[2],h=o[3];let x=this.transitionsBetween(l,h)+1,y=this.transitionsBetween(d,h)+1;(x&1)===1&&(x+=1),(y&1)===1&&(y+=1),4*x<7*y&&4*y<7*x&&(x=y=Math.max(x,y));let b=Kt.sampleGrid(this.image,l,c,d,h,x,y);return new Lr(b,[l,c,d,h])}static shiftPoint(s,o,l){let c=(o.getX()-s.getX())/(l+1),d=(o.getY()-s.getY())/(l+1);return new ve(s.getX()+c,s.getY()+d)}static moveAway(s,o,l){let c=s.getX(),d=s.getY();return c<o?c-=1:c+=1,d<l?d-=1:d+=1,new ve(c,d)}detectSolid1(s){let o=s[0],l=s[1],c=s[3],d=s[2],h=this.transitionsBetween(o,l),x=this.transitionsBetween(l,c),y=this.transitionsBetween(c,d),b=this.transitionsBetween(d,o),T=h,k=[d,o,l,c];return T>x&&(T=x,k[0]=o,k[1]=l,k[2]=c,k[3]=d),T>y&&(T=y,k[0]=l,k[1]=c,k[2]=d,k[3]=o),T>b&&(k[0]=c,k[1]=d,k[2]=o,k[3]=l),k}detectSolid2(s){let o=s[0],l=s[1],c=s[2],d=s[3],h=this.transitionsBetween(o,d),x=Kt.shiftPoint(l,c,(h+1)*4),y=Kt.shiftPoint(c,l,(h+1)*4),b=this.transitionsBetween(x,o),T=this.transitionsBetween(y,d);return b<T?(s[0]=o,s[1]=l,s[2]=c,s[3]=d):(s[0]=l,s[1]=c,s[2]=d,s[3]=o),s}correctTopRight(s){let o=s[0],l=s[1],c=s[2],d=s[3],h=this.transitionsBetween(o,d),x=this.transitionsBetween(l,d),y=Kt.shiftPoint(o,l,(x+1)*4),b=Kt.shiftPoint(c,l,(h+1)*4);h=this.transitionsBetween(y,d),x=this.transitionsBetween(b,d);let T=new ve(d.getX()+(c.getX()-l.getX())/(h+1),d.getY()+(c.getY()-l.getY())/(h+1)),k=new ve(d.getX()+(o.getX()-l.getX())/(x+1),d.getY()+(o.getY()-l.getY())/(x+1));if(!this.isValid(T))return this.isValid(k)?k:null;if(!this.isValid(k))return T;let M=this.transitionsBetween(y,T)+this.transitionsBetween(b,T),U=this.transitionsBetween(y,k)+this.transitionsBetween(b,k);return M>U?T:k}shiftToModuleCenter(s){let o=s[0],l=s[1],c=s[2],d=s[3],h=this.transitionsBetween(o,d)+1,x=this.transitionsBetween(c,d)+1,y=Kt.shiftPoint(o,l,x*4),b=Kt.shiftPoint(c,l,h*4);h=this.transitionsBetween(y,d)+1,x=this.transitionsBetween(b,d)+1,(h&1)===1&&(h+=1),(x&1)===1&&(x+=1);let T=(o.getX()+l.getX()+c.getX()+d.getX())/4,k=(o.getY()+l.getY()+c.getY()+d.getY())/4;o=Kt.moveAway(o,T,k),l=Kt.moveAway(l,T,k),c=Kt.moveAway(c,T,k),d=Kt.moveAway(d,T,k);let M,U;return y=Kt.shiftPoint(o,l,x*4),y=Kt.shiftPoint(y,d,h*4),M=Kt.shiftPoint(l,o,x*4),M=Kt.shiftPoint(M,c,h*4),b=Kt.shiftPoint(c,d,x*4),b=Kt.shiftPoint(b,l,h*4),U=Kt.shiftPoint(d,c,x*4),U=Kt.shiftPoint(U,o,h*4),[y,M,b,U]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,o,l,c,d,h,x){return fr.getInstance().sampleGrid(s,h,x,.5,.5,h-.5,.5,h-.5,x-.5,.5,x-.5,o.getX(),o.getY(),d.getX(),d.getY(),c.getX(),c.getY(),l.getX(),l.getY())}transitionsBetween(s,o){let l=Math.trunc(s.getX()),c=Math.trunc(s.getY()),d=Math.trunc(o.getX()),h=Math.trunc(o.getY()),x=Math.abs(h-c)>Math.abs(d-l);if(x){let G=l;l=c,c=G,G=d,d=h,h=G}let y=Math.abs(d-l),b=Math.abs(h-c),T=-y/2,k=c<h?1:-1,M=l<d?1:-1,U=0,H=this.image.get(x?c:l,x?l:c);for(let G=l,Y=c;G!==d;G+=M){let ee=this.image.get(x?Y:G,x?G:Y);if(ee!==H&&(U++,H=ee),T+=b,T>0){if(Y===h)break;Y+=k,T-=y}}return U}}class Zs{constructor(){this.decoder=new o3}decode(s,o=null){let l,c;if(o!=null&&o.has(V.PURE_BARCODE)){const b=Zs.extractPureBits(s.getBlackMatrix());l=this.decoder.decode(b),c=Zs.NO_POINTS}else{const b=new Kt(s.getBlackMatrix()).detect();l=this.decoder.decode(b.getBits()),c=b.getPoints()}const d=l.getRawBytes(),h=new ke(l.getText(),d,8*d.length,c,de.DATA_MATRIX,N.currentTimeMillis()),x=l.getByteSegments();x!=null&&h.putMetadata(xe.BYTE_SEGMENTS,x);const y=l.getECLevel();return y!=null&&h.putMetadata(xe.ERROR_CORRECTION_LEVEL,y),h}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(o==null||l==null)throw new X;const c=this.moduleSize(o,s);let d=o[1];const h=l[1];let x=o[0];const b=(l[0]-x+1)/c,T=(h-d+1)/c;if(b<=0||T<=0)throw new X;const k=c/2;d+=k,x+=k;const M=new ne(b,T);for(let U=0;U<T;U++){const H=d+U*c;for(let G=0;G<b;G++)s.get(x+G*c,H)&&M.set(G,U)}return M}static moduleSize(s,o){const l=o.getWidth();let c=s[0];const d=s[1];for(;c<l&&o.get(c,d);)c++;if(c===l)throw new X;const h=c-s[0];if(h===0)throw new X;return h}}Zs.NO_POINTS=[];class a3 extends we{constructor(s=500){super(new Zs,s)}}var qo;(function(O){O[O.L=0]="L",O[O.M=1]="M",O[O.Q=2]="Q",O[O.H=3]="H"})(qo||(qo={}));class It{constructor(s,o,l){this.value=s,this.stringValue=o,this.bits=l,It.FOR_BITS.set(l,this),It.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return It.L;case"M":return It.M;case"Q":return It.Q;case"H":return It.H;default:throw new w(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof It))return!1;const o=s;return this.value===o.value}static forBits(s){if(s<0||s>=It.FOR_BITS.size)throw new v;return It.FOR_BITS.get(s)}}It.FOR_BITS=new Map,It.FOR_VALUE=new Map,It.L=new It(qo.L,"L",1),It.M=new It(qo.M,"M",0),It.Q=new It(qo.Q,"Q",3),It.H=new It(qo.H,"H",2);class Or{constructor(s){this.errorCorrectionLevel=It.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,o){return S.bitCount(s^o)}static decodeFormatInformation(s,o){const l=Or.doDecodeFormatInformation(s,o);return l!==null?l:Or.doDecodeFormatInformation(s^Or.FORMAT_INFO_MASK_QR,o^Or.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,o){let l=Number.MAX_SAFE_INTEGER,c=0;for(const d of Or.FORMAT_INFO_DECODE_LOOKUP){const h=d[0];if(h===s||h===o)return new Or(d[1]);let x=Or.numBitsDiffering(s,h);x<l&&(c=d[1],l=x),s!==o&&(x=Or.numBitsDiffering(o,h),x<l&&(c=d[1],l=x))}return l<=3?new Or(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof Or))return!1;const o=s;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}Or.FORMAT_INFO_MASK_QR=21522,Or.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class K{constructor(s,...o){this.ecCodewordsPerBlock=s,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const o=this.ecBlocks;for(const l of o)s+=l.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class B{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Re{constructor(s,o,...l){this.versionNumber=s,this.alignmentPatternCenters=o,this.ecBlocks=l;let c=0;const d=l[0].getECCodewordsPerBlock(),h=l[0].getECBlocks();for(const x of h)c+=x.getCount()*(x.getDataCodewords()+d);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new F;try{return this.getVersionForNumber((s-17)/4)}catch{throw new F}}static getVersionForNumber(s){if(s<1||s>40)throw new v;return Re.VERSIONS[s-1]}static decodeVersionInformation(s){let o=Number.MAX_SAFE_INTEGER,l=0;for(let c=0;c<Re.VERSION_DECODE_INFO.length;c++){const d=Re.VERSION_DECODE_INFO[c];if(d===s)return Re.getVersionForNumber(c+7);const h=Or.numBitsDiffering(s,d);h<o&&(l=c+7,o=h)}return o<=3?Re.getVersionForNumber(l):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),o=new ne(s);o.setRegion(0,0,9,9),o.setRegion(s-8,0,8,9),o.setRegion(0,s-8,9,8);const l=this.alignmentPatternCenters.length;for(let c=0;c<l;c++){const d=this.alignmentPatternCenters[c]-2;for(let h=0;h<l;h++)c===0&&(h===0||h===l-1)||c===l-1&&h===0||o.setRegion(this.alignmentPatternCenters[h]-2,d,5,5)}return o.setRegion(6,9,1,s-17),o.setRegion(9,6,s-17,1),this.versionNumber>6&&(o.setRegion(s-11,0,3,6),o.setRegion(0,s-11,6,3)),o}toString(){return""+this.versionNumber}}Re.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Re.VERSIONS=[new Re(1,new Int32Array(0),new K(7,new B(1,19)),new K(10,new B(1,16)),new K(13,new B(1,13)),new K(17,new B(1,9))),new Re(2,Int32Array.from([6,18]),new K(10,new B(1,34)),new K(16,new B(1,28)),new K(22,new B(1,22)),new K(28,new B(1,16))),new Re(3,Int32Array.from([6,22]),new K(15,new B(1,55)),new K(26,new B(1,44)),new K(18,new B(2,17)),new K(22,new B(2,13))),new Re(4,Int32Array.from([6,26]),new K(20,new B(1,80)),new K(18,new B(2,32)),new K(26,new B(2,24)),new K(16,new B(4,9))),new Re(5,Int32Array.from([6,30]),new K(26,new B(1,108)),new K(24,new B(2,43)),new K(18,new B(2,15),new B(2,16)),new K(22,new B(2,11),new B(2,12))),new Re(6,Int32Array.from([6,34]),new K(18,new B(2,68)),new K(16,new B(4,27)),new K(24,new B(4,19)),new K(28,new B(4,15))),new Re(7,Int32Array.from([6,22,38]),new K(20,new B(2,78)),new K(18,new B(4,31)),new K(18,new B(2,14),new B(4,15)),new K(26,new B(4,13),new B(1,14))),new Re(8,Int32Array.from([6,24,42]),new K(24,new B(2,97)),new K(22,new B(2,38),new B(2,39)),new K(22,new B(4,18),new B(2,19)),new K(26,new B(4,14),new B(2,15))),new Re(9,Int32Array.from([6,26,46]),new K(30,new B(2,116)),new K(22,new B(3,36),new B(2,37)),new K(20,new B(4,16),new B(4,17)),new K(24,new B(4,12),new B(4,13))),new Re(10,Int32Array.from([6,28,50]),new K(18,new B(2,68),new B(2,69)),new K(26,new B(4,43),new B(1,44)),new K(24,new B(6,19),new B(2,20)),new K(28,new B(6,15),new B(2,16))),new Re(11,Int32Array.from([6,30,54]),new K(20,new B(4,81)),new K(30,new B(1,50),new B(4,51)),new K(28,new B(4,22),new B(4,23)),new K(24,new B(3,12),new B(8,13))),new Re(12,Int32Array.from([6,32,58]),new K(24,new B(2,92),new B(2,93)),new K(22,new B(6,36),new B(2,37)),new K(26,new B(4,20),new B(6,21)),new K(28,new B(7,14),new B(4,15))),new Re(13,Int32Array.from([6,34,62]),new K(26,new B(4,107)),new K(22,new B(8,37),new B(1,38)),new K(24,new B(8,20),new B(4,21)),new K(22,new B(12,11),new B(4,12))),new Re(14,Int32Array.from([6,26,46,66]),new K(30,new B(3,115),new B(1,116)),new K(24,new B(4,40),new B(5,41)),new K(20,new B(11,16),new B(5,17)),new K(24,new B(11,12),new B(5,13))),new Re(15,Int32Array.from([6,26,48,70]),new K(22,new B(5,87),new B(1,88)),new K(24,new B(5,41),new B(5,42)),new K(30,new B(5,24),new B(7,25)),new K(24,new B(11,12),new B(7,13))),new Re(16,Int32Array.from([6,26,50,74]),new K(24,new B(5,98),new B(1,99)),new K(28,new B(7,45),new B(3,46)),new K(24,new B(15,19),new B(2,20)),new K(30,new B(3,15),new B(13,16))),new Re(17,Int32Array.from([6,30,54,78]),new K(28,new B(1,107),new B(5,108)),new K(28,new B(10,46),new B(1,47)),new K(28,new B(1,22),new B(15,23)),new K(28,new B(2,14),new B(17,15))),new Re(18,Int32Array.from([6,30,56,82]),new K(30,new B(5,120),new B(1,121)),new K(26,new B(9,43),new B(4,44)),new K(28,new B(17,22),new B(1,23)),new K(28,new B(2,14),new B(19,15))),new Re(19,Int32Array.from([6,30,58,86]),new K(28,new B(3,113),new B(4,114)),new K(26,new B(3,44),new B(11,45)),new K(26,new B(17,21),new B(4,22)),new K(26,new B(9,13),new B(16,14))),new Re(20,Int32Array.from([6,34,62,90]),new K(28,new B(3,107),new B(5,108)),new K(26,new B(3,41),new B(13,42)),new K(30,new B(15,24),new B(5,25)),new K(28,new B(15,15),new B(10,16))),new Re(21,Int32Array.from([6,28,50,72,94]),new K(28,new B(4,116),new B(4,117)),new K(26,new B(17,42)),new K(28,new B(17,22),new B(6,23)),new K(30,new B(19,16),new B(6,17))),new Re(22,Int32Array.from([6,26,50,74,98]),new K(28,new B(2,111),new B(7,112)),new K(28,new B(17,46)),new K(30,new B(7,24),new B(16,25)),new K(24,new B(34,13))),new Re(23,Int32Array.from([6,30,54,78,102]),new K(30,new B(4,121),new B(5,122)),new K(28,new B(4,47),new B(14,48)),new K(30,new B(11,24),new B(14,25)),new K(30,new B(16,15),new B(14,16))),new Re(24,Int32Array.from([6,28,54,80,106]),new K(30,new B(6,117),new B(4,118)),new K(28,new B(6,45),new B(14,46)),new K(30,new B(11,24),new B(16,25)),new K(30,new B(30,16),new B(2,17))),new Re(25,Int32Array.from([6,32,58,84,110]),new K(26,new B(8,106),new B(4,107)),new K(28,new B(8,47),new B(13,48)),new K(30,new B(7,24),new B(22,25)),new K(30,new B(22,15),new B(13,16))),new Re(26,Int32Array.from([6,30,58,86,114]),new K(28,new B(10,114),new B(2,115)),new K(28,new B(19,46),new B(4,47)),new K(28,new B(28,22),new B(6,23)),new K(30,new B(33,16),new B(4,17))),new Re(27,Int32Array.from([6,34,62,90,118]),new K(30,new B(8,122),new B(4,123)),new K(28,new B(22,45),new B(3,46)),new K(30,new B(8,23),new B(26,24)),new K(30,new B(12,15),new B(28,16))),new Re(28,Int32Array.from([6,26,50,74,98,122]),new K(30,new B(3,117),new B(10,118)),new K(28,new B(3,45),new B(23,46)),new K(30,new B(4,24),new B(31,25)),new K(30,new B(11,15),new B(31,16))),new Re(29,Int32Array.from([6,30,54,78,102,126]),new K(30,new B(7,116),new B(7,117)),new K(28,new B(21,45),new B(7,46)),new K(30,new B(1,23),new B(37,24)),new K(30,new B(19,15),new B(26,16))),new Re(30,Int32Array.from([6,26,52,78,104,130]),new K(30,new B(5,115),new B(10,116)),new K(28,new B(19,47),new B(10,48)),new K(30,new B(15,24),new B(25,25)),new K(30,new B(23,15),new B(25,16))),new Re(31,Int32Array.from([6,30,56,82,108,134]),new K(30,new B(13,115),new B(3,116)),new K(28,new B(2,46),new B(29,47)),new K(30,new B(42,24),new B(1,25)),new K(30,new B(23,15),new B(28,16))),new Re(32,Int32Array.from([6,34,60,86,112,138]),new K(30,new B(17,115)),new K(28,new B(10,46),new B(23,47)),new K(30,new B(10,24),new B(35,25)),new K(30,new B(19,15),new B(35,16))),new Re(33,Int32Array.from([6,30,58,86,114,142]),new K(30,new B(17,115),new B(1,116)),new K(28,new B(14,46),new B(21,47)),new K(30,new B(29,24),new B(19,25)),new K(30,new B(11,15),new B(46,16))),new Re(34,Int32Array.from([6,34,62,90,118,146]),new K(30,new B(13,115),new B(6,116)),new K(28,new B(14,46),new B(23,47)),new K(30,new B(44,24),new B(7,25)),new K(30,new B(59,16),new B(1,17))),new Re(35,Int32Array.from([6,30,54,78,102,126,150]),new K(30,new B(12,121),new B(7,122)),new K(28,new B(12,47),new B(26,48)),new K(30,new B(39,24),new B(14,25)),new K(30,new B(22,15),new B(41,16))),new Re(36,Int32Array.from([6,24,50,76,102,128,154]),new K(30,new B(6,121),new B(14,122)),new K(28,new B(6,47),new B(34,48)),new K(30,new B(46,24),new B(10,25)),new K(30,new B(2,15),new B(64,16))),new Re(37,Int32Array.from([6,28,54,80,106,132,158]),new K(30,new B(17,122),new B(4,123)),new K(28,new B(29,46),new B(14,47)),new K(30,new B(49,24),new B(10,25)),new K(30,new B(24,15),new B(46,16))),new Re(38,Int32Array.from([6,32,58,84,110,136,162]),new K(30,new B(4,122),new B(18,123)),new K(28,new B(13,46),new B(32,47)),new K(30,new B(48,24),new B(14,25)),new K(30,new B(42,15),new B(32,16))),new Re(39,Int32Array.from([6,26,54,82,110,138,166]),new K(30,new B(20,117),new B(4,118)),new K(28,new B(40,47),new B(7,48)),new K(30,new B(43,24),new B(22,25)),new K(30,new B(10,15),new B(67,16))),new Re(40,Int32Array.from([6,30,58,86,114,142,170]),new K(30,new B(19,118),new B(6,119)),new K(28,new B(18,47),new B(31,48)),new K(30,new B(34,24),new B(34,25)),new K(30,new B(20,15),new B(61,16)))];var hr;(function(O){O[O.DATA_MASK_000=0]="DATA_MASK_000",O[O.DATA_MASK_001=1]="DATA_MASK_001",O[O.DATA_MASK_010=2]="DATA_MASK_010",O[O.DATA_MASK_011=3]="DATA_MASK_011",O[O.DATA_MASK_100=4]="DATA_MASK_100",O[O.DATA_MASK_101=5]="DATA_MASK_101",O[O.DATA_MASK_110=6]="DATA_MASK_110",O[O.DATA_MASK_111=7]="DATA_MASK_111"})(hr||(hr={}));class En{constructor(s,o){this.value=s,this.isMasked=o}unmaskBitMatrix(s,o){for(let l=0;l<o;l++)for(let c=0;c<o;c++)this.isMasked(l,c)&&s.flip(c,l)}}En.values=new Map([[hr.DATA_MASK_000,new En(hr.DATA_MASK_000,(O,s)=>(O+s&1)===0)],[hr.DATA_MASK_001,new En(hr.DATA_MASK_001,(O,s)=>(O&1)===0)],[hr.DATA_MASK_010,new En(hr.DATA_MASK_010,(O,s)=>s%3===0)],[hr.DATA_MASK_011,new En(hr.DATA_MASK_011,(O,s)=>(O+s)%3===0)],[hr.DATA_MASK_100,new En(hr.DATA_MASK_100,(O,s)=>(Math.floor(O/2)+Math.floor(s/3)&1)===0)],[hr.DATA_MASK_101,new En(hr.DATA_MASK_101,(O,s)=>O*s%6===0)],[hr.DATA_MASK_110,new En(hr.DATA_MASK_110,(O,s)=>O*s%6<3)],[hr.DATA_MASK_111,new En(hr.DATA_MASK_111,(O,s)=>(O+s+O*s%3&1)===0)]]);class l3{constructor(s){const o=s.getHeight();if(o<21||(o&3)!==1)throw new F;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let d=0;d<6;d++)s=this.copyBit(d,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let d=5;d>=0;d--)s=this.copyBit(8,d,s);const o=this.bitMatrix.getHeight();let l=0;const c=o-7;for(let d=o-1;d>=c;d--)l=this.copyBit(8,d,l);for(let d=o-8;d<o;d++)l=this.copyBit(d,8,l);if(this.parsedFormatInfo=Or.decodeFormatInformation(s,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),o=Math.floor((s-17)/4);if(o<=6)return Re.getVersionForNumber(o);let l=0;const c=s-11;for(let h=5;h>=0;h--)for(let x=s-9;x>=c;x--)l=this.copyBit(x,h,l);let d=Re.decodeVersionInformation(l);if(d!==null&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;l=0;for(let h=5;h>=0;h--)for(let x=s-9;x>=c;x--)l=this.copyBit(h,x,l);if(d=Re.decodeVersionInformation(l),d!==null&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;throw new F}copyBit(s,o,l){return(this.isMirror?this.bitMatrix.get(o,s):this.bitMatrix.get(s,o))?l<<1|1:l<<1}readCodewords(){const s=this.readFormatInformation(),o=this.readVersion(),l=En.values.get(s.getDataMask()),c=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,c);const d=o.buildFunctionPattern();let h=!0;const x=new Uint8Array(o.getTotalCodewords());let y=0,b=0,T=0;for(let k=c-1;k>0;k-=2){k===6&&k--;for(let M=0;M<c;M++){const U=h?c-1-M:M;for(let H=0;H<2;H++)d.get(k-H,U)||(T++,b<<=1,this.bitMatrix.get(k-H,U)&&(b|=1),T===8&&(x[y++]=b,T=0,b=0))}h=!h}if(y!==o.getTotalCodewords())throw new F;return x}remask(){if(this.parsedFormatInfo===null)return;const s=En.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let o=0,l=s.getWidth();o<l;o++)for(let c=o+1,d=s.getHeight();c<d;c++)s.get(o,c)!==s.get(c,o)&&(s.flip(c,o),s.flip(o,c))}}class gh{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o,l){if(s.length!==o.getTotalCodewords())throw new v;const c=o.getECBlocksForLevel(l);let d=0;const h=c.getECBlocks();for(const H of h)d+=H.getCount();const x=new Array(d);let y=0;for(const H of h)for(let G=0;G<H.getCount();G++){const Y=H.getDataCodewords(),ee=c.getECCodewordsPerBlock()+Y;x[y++]=new gh(Y,new Uint8Array(ee))}const b=x[0].codewords.length;let T=x.length-1;for(;T>=0&&x[T].codewords.length!==b;)T--;T++;const k=b-c.getECCodewordsPerBlock();let M=0;for(let H=0;H<k;H++)for(let G=0;G<y;G++)x[G].codewords[H]=s[M++];for(let H=T;H<y;H++)x[H].codewords[k]=s[M++];const U=x[0].codewords.length;for(let H=k;H<U;H++)for(let G=0;G<y;G++){const Y=G<T?H:H+1;x[G].codewords[Y]=s[M++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Sn;(function(O){O[O.TERMINATOR=0]="TERMINATOR",O[O.NUMERIC=1]="NUMERIC",O[O.ALPHANUMERIC=2]="ALPHANUMERIC",O[O.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",O[O.BYTE=4]="BYTE",O[O.ECI=5]="ECI",O[O.KANJI=6]="KANJI",O[O.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",O[O.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",O[O.HANZI=9]="HANZI"})(Sn||(Sn={}));class De{constructor(s,o,l,c){this.value=s,this.stringValue=o,this.characterCountBitsForVersions=l,this.bits=c,De.FOR_BITS.set(c,this),De.FOR_VALUE.set(s,this)}static forBits(s){const o=De.FOR_BITS.get(s);if(o===void 0)throw new v;return o}getCharacterCountBits(s){const o=s.getVersionNumber();let l;return o<=9?l=0:o<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof De))return!1;const o=s;return this.value===o.value}toString(){return this.stringValue}}De.FOR_BITS=new Map,De.FOR_VALUE=new Map,De.TERMINATOR=new De(Sn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),De.NUMERIC=new De(Sn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),De.ALPHANUMERIC=new De(Sn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),De.STRUCTURED_APPEND=new De(Sn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),De.BYTE=new De(Sn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),De.ECI=new De(Sn.ECI,"ECI",Int32Array.from([0,0,0]),7),De.KANJI=new De(Sn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),De.FNC1_FIRST_POSITION=new De(Sn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),De.FNC1_SECOND_POSITION=new De(Sn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),De.HANZI=new De(Sn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ut{static decode(s,o,l,c){const d=new ph(s);let h=new se;const x=new Array;let y=-1,b=-1;try{let T=null,k=!1,M;do{if(d.available()<4)M=De.TERMINATOR;else{const U=d.readBits(4);M=De.forBits(U)}switch(M){case De.TERMINATOR:break;case De.FNC1_FIRST_POSITION:case De.FNC1_SECOND_POSITION:k=!0;break;case De.STRUCTURED_APPEND:if(d.available()<16)throw new F;y=d.readBits(8),b=d.readBits(8);break;case De.ECI:const U=Ut.parseECIValue(d);if(T=D.getCharacterSetECIByValue(U),T===null)throw new F;break;case De.HANZI:const H=d.readBits(4),G=d.readBits(M.getCharacterCountBits(o));H===Ut.GB2312_SUBSET&&Ut.decodeHanziSegment(d,h,G);break;default:const Y=d.readBits(M.getCharacterCountBits(o));switch(M){case De.NUMERIC:Ut.decodeNumericSegment(d,h,Y);break;case De.ALPHANUMERIC:Ut.decodeAlphanumericSegment(d,h,Y,k);break;case De.BYTE:Ut.decodeByteSegment(d,h,Y,T,x,c);break;case De.KANJI:Ut.decodeKanjiSegment(d,h,Y);break;default:throw new F}break}}while(M!==De.TERMINATOR)}catch{throw new F}return new je(s,h.toString(),x.length===0?null:x,l===null?null:l.toString(),y,b)}static decodeHanziSegment(s,o,l){if(l*13>s.available())throw new F;const c=new Uint8Array(2*l);let d=0;for(;l>0;){const h=s.readBits(13);let x=h/96<<8&4294967295|h%96;x<959?x+=41377:x+=42657,c[d]=x>>8&255,c[d+1]=x&255,d+=2,l--}try{o.append(Q.decode(c,q.GB2312))}catch(h){throw new F(h)}}static decodeKanjiSegment(s,o,l){if(l*13>s.available())throw new F;const c=new Uint8Array(2*l);let d=0;for(;l>0;){const h=s.readBits(13);let x=h/192<<8&4294967295|h%192;x<7936?x+=33088:x+=49472,c[d]=x>>8,c[d+1]=x,d+=2,l--}try{o.append(Q.decode(c,q.SHIFT_JIS))}catch(h){throw new F(h)}}static decodeByteSegment(s,o,l,c,d,h){if(8*l>s.available())throw new F;const x=new Uint8Array(l);for(let b=0;b<l;b++)x[b]=s.readBits(8);let y;c===null?y=q.guessEncoding(x,h):y=c.getName();try{o.append(Q.decode(x,y))}catch(b){throw new F(b)}d.push(x)}static toAlphaNumericChar(s){if(s>=Ut.ALPHANUMERIC_CHARS.length)throw new F;return Ut.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,o,l,c){const d=o.length();for(;l>1;){if(s.available()<11)throw new F;const h=s.readBits(11);o.append(Ut.toAlphaNumericChar(Math.floor(h/45))),o.append(Ut.toAlphaNumericChar(h%45)),l-=2}if(l===1){if(s.available()<6)throw new F;o.append(Ut.toAlphaNumericChar(s.readBits(6)))}if(c)for(let h=d;h<o.length();h++)o.charAt(h)==="%"&&(h<o.length()-1&&o.charAt(h+1)==="%"?o.deleteCharAt(h+1):o.setCharAt(h,""))}static decodeNumericSegment(s,o,l){for(;l>=3;){if(s.available()<10)throw new F;const c=s.readBits(10);if(c>=1e3)throw new F;o.append(Ut.toAlphaNumericChar(Math.floor(c/100))),o.append(Ut.toAlphaNumericChar(Math.floor(c/10)%10)),o.append(Ut.toAlphaNumericChar(c%10)),l-=3}if(l===2){if(s.available()<7)throw new F;const c=s.readBits(7);if(c>=100)throw new F;o.append(Ut.toAlphaNumericChar(Math.floor(c/10))),o.append(Ut.toAlphaNumericChar(c%10))}else if(l===1){if(s.available()<4)throw new F;const c=s.readBits(4);if(c>=10)throw new F;o.append(Ut.toAlphaNumericChar(c))}}static parseECIValue(s){const o=s.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const l=s.readBits(8);return(o&63)<<8&4294967295|l}if((o&224)===192){const l=s.readBits(16);return(o&31)<<16&4294967295|l}throw new F}}Ut.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ut.GB2312_SUBSET=1;class wg{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const o=s[0];s[0]=s[2],s[2]=o}}class c3{constructor(){this.rsDecoder=new Ue(Ae.QR_CODE_FIELD_256)}decodeBooleanArray(s,o){return this.decodeBitMatrix(ne.parseFromBooleanArray(s),o)}decodeBitMatrix(s,o){const l=new l3(s);let c=null;try{return this.decodeBitMatrixParser(l,o)}catch(d){c=d}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const d=this.decodeBitMatrixParser(l,o);return d.setOther(new wg(!0)),d}catch(d){throw c!==null?c:d}}decodeBitMatrixParser(s,o){const l=s.readVersion(),c=s.readFormatInformation().getErrorCorrectionLevel(),d=s.readCodewords(),h=gh.getDataBlocks(d,l,c);let x=0;for(const T of h)x+=T.getNumDataCodewords();const y=new Uint8Array(x);let b=0;for(const T of h){const k=T.getCodewords(),M=T.getNumDataCodewords();this.correctErrors(k,M);for(let U=0;U<M;U++)y[b++]=k[U]}return Ut.decode(y,l,c,o)}correctErrors(s,o){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-o)}catch{throw new _}for(let c=0;c<o;c++)s[c]=l[c]}}class xh extends ve{constructor(s,o,l){super(s,o),this.estimatedModuleSize=l}aboutEquals(s,o,l){if(Math.abs(o-this.getY())<=s&&Math.abs(l-this.getX())<=s){const c=Math.abs(s-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(s,o,l){const c=(this.getX()+o)/2,d=(this.getY()+s)/2,h=(this.estimatedModuleSize+l)/2;return new xh(c,d,h)}}class hu{constructor(s,o,l,c,d,h,x){this.image=s,this.startX=o,this.startY=l,this.width=c,this.height=d,this.moduleSize=h,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,o=this.height,l=this.width,c=s+l,d=this.startY+o/2,h=new Int32Array(3),x=this.image;for(let y=0;y<o;y++){const b=d+(y&1?-Math.floor((y+1)/2):Math.floor((y+1)/2));h[0]=0,h[1]=0,h[2]=0;let T=s;for(;T<c&&!x.get(T,b);)T++;let k=0;for(;T<c;){if(x.get(T,b))if(k===1)h[1]++;else if(k===2){if(this.foundPatternCross(h)){const M=this.handlePossibleCenter(h,b,T);if(M!==null)return M}h[0]=h[2],h[1]=1,h[2]=0,k=1}else h[++k]++;else k===1&&k++,h[k]++;T++}if(this.foundPatternCross(h)){const M=this.handlePossibleCenter(h,b,c);if(M!==null)return M}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(s,o){return o-s[2]-s[1]/2}foundPatternCross(s){const o=this.moduleSize,l=o/2;for(let c=0;c<3;c++)if(Math.abs(o-s[c])>=l)return!1;return!0}crossCheckVertical(s,o,l,c){const d=this.image,h=d.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let y=s;for(;y>=0&&d.get(o,y)&&x[1]<=l;)x[1]++,y--;if(y<0||x[1]>l)return NaN;for(;y>=0&&!d.get(o,y)&&x[0]<=l;)x[0]++,y--;if(x[0]>l)return NaN;for(y=s+1;y<h&&d.get(o,y)&&x[1]<=l;)x[1]++,y++;if(y===h||x[1]>l)return NaN;for(;y<h&&!d.get(o,y)&&x[2]<=l;)x[2]++,y++;if(x[2]>l)return NaN;const b=x[0]+x[1]+x[2];return 5*Math.abs(b-c)>=2*c?NaN:this.foundPatternCross(x)?hu.centerFromEnd(x,y):NaN}handlePossibleCenter(s,o,l){const c=s[0]+s[1]+s[2],d=hu.centerFromEnd(s,l),h=this.crossCheckVertical(o,d,2*s[1],c);if(!isNaN(h)){const x=(s[0]+s[1]+s[2])/3;for(const b of this.possibleCenters)if(b.aboutEquals(x,h,d))return b.combineEstimate(h,d,x);const y=new xh(d,h,x);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class wh extends ve{constructor(s,o,l,c){super(s,o),this.estimatedModuleSize=l,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,o,l){if(Math.abs(o-this.getY())<=s&&Math.abs(l-this.getX())<=s){const c=Math.abs(s-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(s,o,l){const c=this.count+1,d=(this.count*this.getX()+o)/c,h=(this.count*this.getY()+s)/c,x=(this.count*this.estimatedModuleSize+l)/c;return new wh(d,h,x,c)}}class u3{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class mr{constructor(s,o){this.image=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const o=s!=null&&s.get(V.TRY_HARDER)!==void 0,l=s!=null&&s.get(V.PURE_BARCODE)!==void 0,c=this.image,d=c.getHeight(),h=c.getWidth();let x=Math.floor(3*d/(4*mr.MAX_MODULES));(x<mr.MIN_SKIP||o)&&(x=mr.MIN_SKIP);let y=!1;const b=new Int32Array(5);for(let k=x-1;k<d&&!y;k+=x){b[0]=0,b[1]=0,b[2]=0,b[3]=0,b[4]=0;let M=0;for(let U=0;U<h;U++)if(c.get(U,k))(M&1)===1&&M++,b[M]++;else if(M&1)b[M]++;else if(M===4)if(mr.foundPatternCross(b)){if(this.handlePossibleCenter(b,k,U,l)===!0)if(x=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const G=this.findRowSkip();G>b[2]&&(k+=G-b[2]-x,U=h-1)}else{b[0]=b[2],b[1]=b[3],b[2]=b[4],b[3]=1,b[4]=0,M=3;continue}M=0,b[0]=0,b[1]=0,b[2]=0,b[3]=0,b[4]=0}else b[0]=b[2],b[1]=b[3],b[2]=b[4],b[3]=1,b[4]=0,M=3;else b[++M]++;mr.foundPatternCross(b)&&this.handlePossibleCenter(b,k,h,l)===!0&&(x=b[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const T=this.selectBestPatterns();return ve.orderBestPatterns(T),new u3(T)}static centerFromEnd(s,o){return o-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let o=0;for(let d=0;d<5;d++){const h=s[d];if(h===0)return!1;o+=h}if(o<7)return!1;const l=o/7,c=l/2;return Math.abs(l-s[0])<c&&Math.abs(l-s[1])<c&&Math.abs(3*l-s[2])<3*c&&Math.abs(l-s[3])<c&&Math.abs(l-s[4])<c}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,o,l,c){const d=this.getCrossCheckStateCount();let h=0;const x=this.image;for(;s>=h&&o>=h&&x.get(o-h,s-h);)d[2]++,h++;if(s<h||o<h)return!1;for(;s>=h&&o>=h&&!x.get(o-h,s-h)&&d[1]<=l;)d[1]++,h++;if(s<h||o<h||d[1]>l)return!1;for(;s>=h&&o>=h&&x.get(o-h,s-h)&&d[0]<=l;)d[0]++,h++;if(d[0]>l)return!1;const y=x.getHeight(),b=x.getWidth();for(h=1;s+h<y&&o+h<b&&x.get(o+h,s+h);)d[2]++,h++;if(s+h>=y||o+h>=b)return!1;for(;s+h<y&&o+h<b&&!x.get(o+h,s+h)&&d[3]<l;)d[3]++,h++;if(s+h>=y||o+h>=b||d[3]>=l)return!1;for(;s+h<y&&o+h<b&&x.get(o+h,s+h)&&d[4]<l;)d[4]++,h++;if(d[4]>=l)return!1;const T=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(T-c)<2*c&&mr.foundPatternCross(d)}crossCheckVertical(s,o,l,c){const d=this.image,h=d.getHeight(),x=this.getCrossCheckStateCount();let y=s;for(;y>=0&&d.get(o,y);)x[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(o,y)&&x[1]<=l;)x[1]++,y--;if(y<0||x[1]>l)return NaN;for(;y>=0&&d.get(o,y)&&x[0]<=l;)x[0]++,y--;if(x[0]>l)return NaN;for(y=s+1;y<h&&d.get(o,y);)x[2]++,y++;if(y===h)return NaN;for(;y<h&&!d.get(o,y)&&x[3]<l;)x[3]++,y++;if(y===h||x[3]>=l)return NaN;for(;y<h&&d.get(o,y)&&x[4]<l;)x[4]++,y++;if(x[4]>=l)return NaN;const b=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(b-c)>=2*c?NaN:mr.foundPatternCross(x)?mr.centerFromEnd(x,y):NaN}crossCheckHorizontal(s,o,l,c){const d=this.image,h=d.getWidth(),x=this.getCrossCheckStateCount();let y=s;for(;y>=0&&d.get(y,o);)x[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(y,o)&&x[1]<=l;)x[1]++,y--;if(y<0||x[1]>l)return NaN;for(;y>=0&&d.get(y,o)&&x[0]<=l;)x[0]++,y--;if(x[0]>l)return NaN;for(y=s+1;y<h&&d.get(y,o);)x[2]++,y++;if(y===h)return NaN;for(;y<h&&!d.get(y,o)&&x[3]<l;)x[3]++,y++;if(y===h||x[3]>=l)return NaN;for(;y<h&&d.get(y,o)&&x[4]<l;)x[4]++,y++;if(x[4]>=l)return NaN;const b=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(b-c)>=c?NaN:mr.foundPatternCross(x)?mr.centerFromEnd(x,y):NaN}handlePossibleCenter(s,o,l,c){const d=s[0]+s[1]+s[2]+s[3]+s[4];let h=mr.centerFromEnd(s,l),x=this.crossCheckVertical(o,Math.floor(h),s[2],d);if(!isNaN(x)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(x),s[2],d),!isNaN(h)&&(!c||this.crossCheckDiagonal(Math.floor(x),Math.floor(h),s[2],d)))){const y=d/7;let b=!1;const T=this.possibleCenters;for(let k=0,M=T.length;k<M;k++){const U=T[k];if(U.aboutEquals(y,x,h)){T[k]=U.combineEstimate(x,h,y),b=!0;break}}if(!b){const k=new wh(h,x,y);T.push(k),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(k)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const l of this.possibleCenters)if(l.getCount()>=mr.CENTER_QUORUM)if(o==null)o=l;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-l.getX())-Math.abs(o.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,o=0;const l=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=mr.CENTER_QUORUM&&(s++,o+=h.getEstimatedModuleSize());if(s<3)return!1;const c=o/l;let d=0;for(const h of this.possibleCenters)d+=Math.abs(h.getEstimatedModuleSize()-c);return d<=.05*o}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new X;const o=this.possibleCenters;let l;if(s>3){let c=0,d=0;for(const y of this.possibleCenters){const b=y.getEstimatedModuleSize();c+=b,d+=b*b}l=c/s;let h=Math.sqrt(d/s-l*l);o.sort((y,b)=>{const T=Math.abs(b.getEstimatedModuleSize()-l),k=Math.abs(y.getEstimatedModuleSize()-l);return T<k?-1:T>k?1:0});const x=Math.max(.2*l,h);for(let y=0;y<o.length&&o.length>3;y++){const b=o[y];Math.abs(b.getEstimatedModuleSize()-l)>x&&(o.splice(y,1),y--)}}if(o.length>3){let c=0;for(const d of o)c+=d.getEstimatedModuleSize();l=c/o.length,o.sort((d,h)=>{if(h.getCount()===d.getCount()){const x=Math.abs(h.getEstimatedModuleSize()-l),y=Math.abs(d.getEstimatedModuleSize()-l);return x<y?1:x>y?-1:0}else return h.getCount()-d.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}mr.CENTER_QUORUM=2,mr.MIN_SKIP=3,mr.MAX_MODULES=57;class El{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(V.NEED_RESULT_POINT_CALLBACK);const l=new mr(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(l)}processFinderPatternInfo(s){const o=s.getTopLeft(),l=s.getTopRight(),c=s.getBottomLeft(),d=this.calculateModuleSize(o,l,c);if(d<1)throw new X("No pattern found in proccess finder.");const h=El.computeDimension(o,l,c,d),x=Re.getProvisionalVersionForDimension(h),y=x.getDimensionForVersion()-7;let b=null;if(x.getAlignmentPatternCenters().length>0){const U=l.getX()-o.getX()+c.getX(),H=l.getY()-o.getY()+c.getY(),G=1-3/y,Y=Math.floor(o.getX()+G*(U-o.getX())),ee=Math.floor(o.getY()+G*(H-o.getY()));for(let le=4;le<=16;le<<=1)try{b=this.findAlignmentInRegion(d,Y,ee,le);break}catch(ce){if(!(ce instanceof X))throw ce}}const T=El.createTransform(o,l,c,b,h),k=El.sampleGrid(this.image,T,h);let M;return b===null?M=[c,o,l]:M=[c,o,l,b],new Lr(k,M)}static createTransform(s,o,l,c,d){const h=d-3.5;let x,y,b,T;return c!==null?(x=c.getX(),y=c.getY(),b=h-3,T=b):(x=o.getX()-s.getX()+l.getX(),y=o.getY()-s.getY()+l.getY(),b=h,T=h),gt.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,b,T,3.5,h,s.getX(),s.getY(),o.getX(),o.getY(),x,y,l.getX(),l.getY())}static sampleGrid(s,o,l){return fr.getInstance().sampleGridWithTransform(s,l,l,o)}static computeDimension(s,o,l,c){const d=_e.round(ve.distance(s,o)/c),h=_e.round(ve.distance(s,l)/c);let x=Math.floor((d+h)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new X("Dimensions could be not found.")}return x}calculateModuleSize(s,o,l){return(this.calculateModuleSizeOneWay(s,o)+this.calculateModuleSizeOneWay(s,l))/2}calculateModuleSizeOneWay(s,o){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(o.getX()),Math.floor(o.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(l)?c/7:isNaN(c)?l/7:(l+c)/14}sizeOfBlackWhiteBlackRunBothWays(s,o,l,c){let d=this.sizeOfBlackWhiteBlackRun(s,o,l,c),h=1,x=s-(l-s);x<0?(h=s/(s-x),x=0):x>=this.image.getWidth()&&(h=(this.image.getWidth()-1-s)/(x-s),x=this.image.getWidth()-1);let y=Math.floor(o-(c-o)*h);return h=1,y<0?(h=o/(o-y),y=0):y>=this.image.getHeight()&&(h=(this.image.getHeight()-1-o)/(y-o),y=this.image.getHeight()-1),x=Math.floor(s+(x-s)*h),d+=this.sizeOfBlackWhiteBlackRun(s,o,x,y),d-1}sizeOfBlackWhiteBlackRun(s,o,l,c){const d=Math.abs(c-o)>Math.abs(l-s);if(d){let U=s;s=o,o=U,U=l,l=c,c=U}const h=Math.abs(l-s),x=Math.abs(c-o);let y=-h/2;const b=s<l?1:-1,T=o<c?1:-1;let k=0;const M=l+b;for(let U=s,H=o;U!==M;U+=b){const G=d?H:U,Y=d?U:H;if(k===1===this.image.get(G,Y)){if(k===2)return _e.distance(U,H,s,o);k++}if(y+=x,y>0){if(H===c)break;H+=T,y-=h}}return k===2?_e.distance(l+b,c,s,o):NaN}findAlignmentInRegion(s,o,l,c){const d=Math.floor(c*s),h=Math.max(0,o-d),x=Math.min(this.image.getWidth()-1,o+d);if(x-h<s*3)throw new X("Alignment top exceeds estimated module size.");const y=Math.max(0,l-d),b=Math.min(this.image.getHeight()-1,l+d);if(b-y<s*3)throw new X("Alignment bottom exceeds estimated module size.");return new hu(this.image,h,y,x-h,b-y,s,this.resultPointCallback).find()}}class Js{constructor(){this.decoder=new c3}getDecoder(){return this.decoder}decode(s,o){let l,c;if(o!=null&&o.get(V.PURE_BARCODE)!==void 0){const y=Js.extractPureBits(s.getBlackMatrix());l=this.decoder.decodeBitMatrix(y,o),c=Js.NO_POINTS}else{const y=new El(s.getBlackMatrix()).detect(o);l=this.decoder.decodeBitMatrix(y.getBits(),o),c=y.getPoints()}l.getOther()instanceof wg&&l.getOther().applyMirroredCorrection(c);const d=new ke(l.getText(),l.getRawBytes(),void 0,c,de.QR_CODE,void 0),h=l.getByteSegments();h!==null&&d.putMetadata(xe.BYTE_SEGMENTS,h);const x=l.getECLevel();return x!==null&&d.putMetadata(xe.ERROR_CORRECTION_LEVEL,x),l.hasStructuredAppend()&&(d.putMetadata(xe.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),d.putMetadata(xe.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),d}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(o===null||l===null)throw new X;const c=this.moduleSize(o,s);let d=o[1],h=l[1],x=o[0],y=l[0];if(x>=y||d>=h)throw new X;if(h-d!==y-x&&(y=x+(h-d),y>=s.getWidth()))throw new X;const b=Math.round((y-x+1)/c),T=Math.round((h-d+1)/c);if(b<=0||T<=0)throw new X;if(T!==b)throw new X;const k=Math.floor(c/2);d+=k,x+=k;const M=x+Math.floor((b-1)*c)-y;if(M>0){if(M>k)throw new X;x-=M}const U=d+Math.floor((T-1)*c)-h;if(U>0){if(U>k)throw new X;d-=U}const H=new ne(b,T);for(let G=0;G<T;G++){const Y=d+Math.floor(G*c);for(let ee=0;ee<b;ee++)s.get(x+Math.floor(ee*c),Y)&&H.set(ee,G)}return H}static moduleSize(s,o){const l=o.getHeight(),c=o.getWidth();let d=s[0],h=s[1],x=!0,y=0;for(;d<c&&h<l;){if(x!==o.get(d,h)){if(++y===5)break;x=!x}d++,h++}if(d===c||h===l)throw new X;return(d-s[0])/7}}Js.NO_POINTS=new Array;class ze{PDF417Common(){}static getBitCountSum(s){return _e.sum(s)}static toIntArray(s){if(s==null||!s.length)return ze.EMPTY_INT_ARRAY;const o=new Int32Array(s.length);let l=0;for(const c of s)o[l++]=c;return o}static getCodeword(s){const o=A.binarySearch(ze.SYMBOL_TABLE,s&262143);return o<0?-1:(ze.CODEWORD_TABLE[o]-1)%ze.NUMBER_OF_CODEWORDS}}ze.NUMBER_OF_CODEWORDS=929,ze.MAX_CODEWORDS_IN_BARCODE=ze.NUMBER_OF_CODEWORDS-1,ze.MIN_ROWS_IN_BARCODE=3,ze.MAX_ROWS_IN_BARCODE=90,ze.MODULES_IN_CODEWORD=17,ze.MODULES_IN_STOP_PATTERN=18,ze.BARS_IN_MODULE=8,ze.EMPTY_INT_ARRAY=new Int32Array([]),ze.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ze.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class d3{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Ze{static detectMultiple(s,o,l){let c=s.getBlackMatrix(),d=Ze.detect(l,c);return d.length||(c=c.clone(),c.rotate180(),d=Ze.detect(l,c)),new d3(c,d)}static detect(s,o){const l=new Array;let c=0,d=0,h=!1;for(;c<o.getHeight();){const x=Ze.findVertices(o,c,d);if(x[0]==null&&x[3]==null){if(!h)break;h=!1,d=0;for(const y of l)y[1]!=null&&(c=Math.trunc(Math.max(c,y[1].getY()))),y[3]!=null&&(c=Math.max(c,Math.trunc(y[3].getY())));c+=Ze.ROW_STEP;continue}if(h=!0,l.push(x),!s)break;x[2]!=null?(d=Math.trunc(x[2].getX()),c=Math.trunc(x[2].getY())):(d=Math.trunc(x[4].getX()),c=Math.trunc(x[4].getY()))}return l}static findVertices(s,o,l){const c=s.getHeight(),d=s.getWidth(),h=new Array(8);return Ze.copyToResult(h,Ze.findRowsWithPattern(s,c,d,o,l,Ze.START_PATTERN),Ze.INDEXES_START_PATTERN),h[4]!=null&&(l=Math.trunc(h[4].getX()),o=Math.trunc(h[4].getY())),Ze.copyToResult(h,Ze.findRowsWithPattern(s,c,d,o,l,Ze.STOP_PATTERN),Ze.INDEXES_STOP_PATTERN),h}static copyToResult(s,o,l){for(let c=0;c<l.length;c++)s[l[c]]=o[c]}static findRowsWithPattern(s,o,l,c,d,h){const x=new Array(4);let y=!1;const b=new Int32Array(h.length);for(;c<o;c+=Ze.ROW_STEP){let k=Ze.findGuardPattern(s,d,c,l,!1,h,b);if(k!=null){for(;c>0;){const M=Ze.findGuardPattern(s,d,--c,l,!1,h,b);if(M!=null)k=M;else{c++;break}}x[0]=new ve(k[0],c),x[1]=new ve(k[1],c),y=!0;break}}let T=c+1;if(y){let k=0,M=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;T<o;T++){const U=Ze.findGuardPattern(s,M[0],T,l,!1,h,b);if(U!=null&&Math.abs(M[0]-U[0])<Ze.MAX_PATTERN_DRIFT&&Math.abs(M[1]-U[1])<Ze.MAX_PATTERN_DRIFT)M=U,k=0;else{if(k>Ze.SKIPPED_ROW_COUNT_MAX)break;k++}}T-=k+1,x[2]=new ve(M[0],T),x[3]=new ve(M[1],T)}return T-c<Ze.BARCODE_MIN_HEIGHT&&A.fill(x,null),x}static findGuardPattern(s,o,l,c,d,h,x){A.fillWithin(x,0,x.length,0);let y=o,b=0;for(;s.get(y,l)&&y>0&&b++<Ze.MAX_PIXEL_DRIFT;)y--;let T=y,k=0,M=h.length;for(let U=d;T<c;T++)if(s.get(T,l)!==U)x[k]++;else{if(k===M-1){if(Ze.patternMatchVariance(x,h,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE)return new Int32Array([y,T]);y+=x[0]+x[1],N.arraycopy(x,2,x,0,k-1),x[k-1]=0,x[k]=0,k--}else k++;x[k]=1,U=!U}return k===M-1&&Ze.patternMatchVariance(x,h,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE?new Int32Array([y,T-1]):null}static patternMatchVariance(s,o,l){let c=s.length,d=0,h=0;for(let b=0;b<c;b++)d+=s[b],h+=o[b];if(d<h)return 1/0;let x=d/h;l*=x;let y=0;for(let b=0;b<c;b++){let T=s[b],k=o[b]*x,M=T>k?T-k:k-T;if(M>l)return 1/0;y+=M}return y/d}}Ze.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ze.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ze.MAX_AVG_VARIANCE=.42,Ze.MAX_INDIVIDUAL_VARIANCE=.8,Ze.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ze.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ze.MAX_PIXEL_DRIFT=3,Ze.MAX_PATTERN_DRIFT=5,Ze.SKIPPED_ROW_COUNT_MAX=25,Ze.ROW_STEP=5,Ze.BARCODE_MIN_HEIGHT=10;class br{constructor(s,o){if(o.length===0)throw new v;this.field=s;let l=o.length;if(l>1&&o[0]===0){let c=1;for(;c<l&&o[c]===0;)c++;c===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-c),N.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let c=0;for(let d of this.coefficients)c=this.field.add(c,d);return c}let o=this.coefficients[0],l=this.coefficients.length;for(let c=1;c<l;c++)o=this.field.add(this.field.multiply(s,o),this.coefficients[c]);return o}add(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,l=s.coefficients;if(o.length>l.length){let h=o;o=l,l=h}let c=new Int32Array(l.length),d=l.length-o.length;N.arraycopy(l,0,c,0,d);for(let h=d;h<l.length;h++)c[h]=this.field.add(o[h-d],l[h]);return new br(this.field,c)}subtract(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof br?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new br(this.field,new Int32Array([0]));let o=this.coefficients,l=o.length,c=s.coefficients,d=c.length,h=new Int32Array(l+d-1);for(let x=0;x<l;x++){let y=o[x];for(let b=0;b<d;b++)h[x+b]=this.field.add(h[x+b],this.field.multiply(y,c[b]))}return new br(this.field,h)}negative(){let s=this.coefficients.length,o=new Int32Array(s);for(let l=0;l<s;l++)o[l]=this.field.subtract(0,this.coefficients[l]);return new br(this.field,o)}multiplyScalar(s){if(s===0)return new br(this.field,new Int32Array([0]));if(s===1)return this;let o=this.coefficients.length,l=new Int32Array(o);for(let c=0;c<o;c++)l[c]=this.field.multiply(this.coefficients[c],s);return new br(this.field,l)}multiplyByMonomial(s,o){if(s<0)throw new v;if(o===0)return new br(this.field,new Int32Array([0]));let l=this.coefficients.length,c=new Int32Array(l+s);for(let d=0;d<l;d++)c[d]=this.field.multiply(this.coefficients[d],o);return new br(this.field,c)}toString(){let s=new se;for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);l!==0&&(l<0?(s.append(" - "),l=-l):s.length()>0&&s.append(" + "),(o===0||l!==1)&&s.append(l),o!==0&&(o===1?s.append("x"):(s.append("x^"),s.append(o))))}return s.toString()}}class f3{add(s,o){return(s+o)%this.modulus}subtract(s,o){return(this.modulus+s-o)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new v;return this.logTable[s]}inverse(s){if(s===0)throw new Ie;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class yh extends f3{constructor(s,o){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let l=1;for(let c=0;c<s;c++)this.expTable[c]=l,l=l*o%s;for(let c=0;c<s-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new br(this,new Int32Array([0])),this.one=new br(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new v;if(o===0)return this.zero;let l=new Int32Array(s+1);return l[0]=o,new br(this,l)}}yh.PDF417_GF=new yh(ze.NUMBER_OF_CODEWORDS,3);class yg{constructor(){this.field=yh.PDF417_GF}decode(s,o,l){let c=new br(this.field,s),d=new Int32Array(o),h=!1;for(let H=o;H>0;H--){let G=c.evaluateAt(this.field.exp(H));d[o-H]=G,G!==0&&(h=!0)}if(!h)return 0;let x=this.field.getOne();if(l!=null)for(const H of l){let G=this.field.exp(s.length-1-H),Y=new br(this.field,new Int32Array([this.field.subtract(0,G),1]));x=x.multiply(Y)}let y=new br(this.field,d),b=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),y,o),T=b[0],k=b[1],M=this.findErrorLocations(T),U=this.findErrorMagnitudes(k,T,M);for(let H=0;H<M.length;H++){let G=s.length-1-this.field.log(M[H]);if(G<0)throw _.getChecksumInstance();s[G]=this.field.subtract(s[G],U[H])}return M.length}runEuclideanAlgorithm(s,o,l){if(s.getDegree()<o.getDegree()){let M=s;s=o,o=M}let c=s,d=o,h=this.field.getZero(),x=this.field.getOne();for(;d.getDegree()>=Math.round(l/2);){let M=c,U=h;if(c=d,h=x,c.isZero())throw _.getChecksumInstance();d=M;let H=this.field.getZero(),G=c.getCoefficient(c.getDegree()),Y=this.field.inverse(G);for(;d.getDegree()>=c.getDegree()&&!d.isZero();){let ee=d.getDegree()-c.getDegree(),le=this.field.multiply(d.getCoefficient(d.getDegree()),Y);H=H.add(this.field.buildMonomial(ee,le)),d=d.subtract(c.multiplyByMonomial(ee,le))}x=H.multiply(h).subtract(U).negative()}let y=x.getCoefficient(0);if(y===0)throw _.getChecksumInstance();let b=this.field.inverse(y),T=x.multiply(b),k=d.multiply(b);return[T,k]}findErrorLocations(s){let o=s.getDegree(),l=new Int32Array(o),c=0;for(let d=1;d<this.field.getSize()&&c<o;d++)s.evaluateAt(d)===0&&(l[c]=this.field.inverse(d),c++);if(c!==o)throw _.getChecksumInstance();return l}findErrorMagnitudes(s,o,l){let c=o.getDegree(),d=new Int32Array(c);for(let b=1;b<=c;b++)d[c-b]=this.field.multiply(b,o.getCoefficient(b));let h=new br(this.field,d),x=l.length,y=new Int32Array(x);for(let b=0;b<x;b++){let T=this.field.inverse(l[b]),k=this.field.subtract(0,s.evaluateAt(T)),M=this.field.inverse(h.evaluateAt(T));y[b]=this.field.multiply(k,M)}return y}}class ro{constructor(s,o,l,c,d){s instanceof ro?this.constructor_2(s):this.constructor_1(s,o,l,c,d)}constructor_1(s,o,l,c,d){const h=o==null||l==null,x=c==null||d==null;if(h&&x)throw new X;h?(o=new ve(0,c.getY()),l=new ve(0,d.getY())):x&&(c=new ve(s.getWidth()-1,o.getY()),d=new ve(s.getWidth()-1,l.getY())),this.image=s,this.topLeft=o,this.bottomLeft=l,this.topRight=c,this.bottomRight=d,this.minX=Math.trunc(Math.min(o.getX(),l.getX())),this.maxX=Math.trunc(Math.max(c.getX(),d.getX())),this.minY=Math.trunc(Math.min(o.getY(),c.getY())),this.maxY=Math.trunc(Math.max(l.getY(),d.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,o){return s==null?o:o==null?s:new ro(s.image,s.topLeft,s.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(s,o,l){let c=this.topLeft,d=this.bottomLeft,h=this.topRight,x=this.bottomRight;if(s>0){let y=l?this.topLeft:this.topRight,b=Math.trunc(y.getY()-s);b<0&&(b=0);let T=new ve(y.getX(),b);l?c=T:h=T}if(o>0){let y=l?this.bottomLeft:this.bottomRight,b=Math.trunc(y.getY()+o);b>=this.image.getHeight()&&(b=this.image.getHeight()-1);let T=new ve(y.getX(),b);l?d=T:x=T}return new ro(this.image,c,d,h,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class h3{constructor(s,o,l,c){this.columnCount=s,this.errorCorrectionLevel=c,this.rowCountUpperPart=o,this.rowCountLowerPart=l,this.rowCount=o+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Sl{constructor(){this.buffer=""}static form(s,o){let l=-1;function c(h,x,y,b,T,k){if(h==="%%")return"%";if(o[++l]===void 0)return;h=b?parseInt(b.substr(1)):void 0;let M=T?parseInt(T.substr(1)):void 0,U;switch(k){case"s":U=o[l];break;case"c":U=o[l][0];break;case"f":U=parseFloat(o[l]).toFixed(h);break;case"p":U=parseFloat(o[l]).toPrecision(h);break;case"e":U=parseFloat(o[l]).toExponential(h);break;case"x":U=parseInt(o[l]).toString(M||16);break;case"d":U=parseFloat(parseInt(o[l],M||10).toPrecision(h)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(M);let H=parseInt(y),G=y&&y[0]+""=="0"?"0":" ";for(;U.length<H;)U=x!==void 0?U+G:G+U;return U}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(d,c)}format(s,...o){this.buffer+=Sl.form(s,o)}toString(){return this.buffer}}class Al{constructor(s){this.boundingBox=new ro(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let o=this.getCodeword(s);if(o!=null)return o;for(let l=1;l<Al.MAX_NEARBY_DISTANCE;l++){let c=this.imageRowToCodewordIndex(s)-l;if(c>=0&&(o=this.codewords[c],o!=null)||(c=this.imageRowToCodewordIndex(s)+l,c<this.codewords.length&&(o=this.codewords[c],o!=null)))return o}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,o){this.codewords[this.imageRowToCodewordIndex(s)]=o}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Sl;let o=0;for(const l of this.codewords){if(l==null){s.format("%3d:    |   %n",o++);continue}s.format("%3d: %3d|%3d%n",o++,l.getRowNumber(),l.getValue())}return s.toString()}}Al.MAX_NEARBY_DISTANCE=5;class _l{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let o=this.values.get(s);o==null&&(o=0),o++,this.values.set(s,o)}getValue(){let s=-1,o=new Array;for(const[l,c]of this.values.entries()){const d={getKey:()=>l,getValue:()=>c};d.getValue()>s?(s=d.getValue(),o=[],o.push(d.getKey())):d.getValue()===s&&o.push(d.getKey())}return ze.toIntArray(o)}getConfidence(s){return this.values.get(s)}}class vg extends Al{constructor(s,o){super(s),this._isLeft=o}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,s);let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),d=this._isLeft?l.getBottomLeft():l.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),x=this.imageRowToCodewordIndex(Math.trunc(d.getY())),y=-1,b=1,T=0;for(let k=h;k<x;k++){if(o[k]==null)continue;let M=o[k],U=M.getRowNumber()-y;if(U===0)T++;else if(U===1)b=Math.max(b,T),T=1,y=M.getRowNumber();else if(U<0||M.getRowNumber()>=s.getRowCount()||U>k)o[k]=null;else{let H;b>2?H=(b-2)*U:H=U;let G=H>=k;for(let Y=1;Y<=H&&!G;Y++)G=o[k-Y]!=null;G?o[k]=null:(y=M.getRowNumber(),T=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let o=new Int32Array(s.getRowCount());for(let l of this.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=o.length)continue;o[c]++}return o}adjustIncompleteIndicatorColumnRowNumbers(s){let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),x=this.getCodewords(),y=-1;for(let b=d;b<h;b++){if(x[b]==null)continue;let T=x[b];T.setRowNumberAsRowIndicatorColumn();let k=T.getRowNumber()-y;k===0||(k===1?y=T.getRowNumber():T.getRowNumber()>=s.getRowCount()?x[b]=null:y=T.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),o=new _l,l=new _l,c=new _l,d=new _l;for(let x of s){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let y=x.getValue()%30,b=x.getRowNumber();switch(this._isLeft||(b+=2),b%3){case 0:l.setValue(y*3+1);break;case 1:d.setValue(y/3),c.setValue(y%3);break;case 2:o.setValue(y+1);break}}if(o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||d.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+c.getValue()[0]<ze.MIN_ROWS_IN_BARCODE||l.getValue()[0]+c.getValue()[0]>ze.MAX_ROWS_IN_BARCODE)return null;let h=new h3(o.getValue()[0],l.getValue()[0],c.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(s,h),h}removeIncorrectCodewords(s,o){for(let l=0;l<s.length;l++){let c=s[l];if(s[l]==null)continue;let d=c.getValue()%30,h=c.getRowNumber();if(h>o.getRowCount()){s[l]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:d*3+1!==o.getRowCountUpperPart()&&(s[l]=null);break;case 1:(Math.trunc(d/3)!==o.getErrorCorrectionLevel()||d%3!==o.getRowCountLowerPart())&&(s[l]=null);break;case 2:d+1!==o.getColumnCount()&&(s[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Nl{constructor(s,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=ze.MAX_CODEWORDS_IN_BARCODE,o;do o=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let l=this.detectionResultColumns[o].getCodewords();for(let c=0;c<l.length;c++)l[c]!=null&&(l[c].hasValidRowNumber()||this.adjustRowNumbers(o,c,l))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++)if(s[l]!=null&&o[l]!=null&&s[l].getRowNumber()===o[l].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let d=this.detectionResultColumns[c].getCodewords()[l];d!=null&&(d.setRowNumber(s[l].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let c=o[l].getRowNumber(),d=0;for(let h=this.barcodeColumnCount+1;h>0&&d<this.ADJUST_ROW_NUMBER_SKIP;h--){let x=this.detectionResultColumns[h].getCodewords()[l];x!=null&&(d=Nl.adjustRowNumberIfValid(c,d,x),x.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,o=this.detectionResultColumns[0].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let c=o[l].getRowNumber(),d=0;for(let h=1;h<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;h++){let x=this.detectionResultColumns[h].getCodewords()[l];x!=null&&(d=Nl.adjustRowNumberIfValid(c,d,x),x.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,o,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(s)?(l.setRowNumber(s),o=0):++o),o}adjustRowNumbers(s,o,l){if(!this.detectionResultColumns[s-1])return;let c=l[o],d=this.detectionResultColumns[s-1].getCodewords(),h=d;this.detectionResultColumns[s+1]!=null&&(h=this.detectionResultColumns[s+1].getCodewords());let x=new Array(14);x[2]=d[o],x[3]=h[o],o>0&&(x[0]=l[o-1],x[4]=d[o-1],x[5]=h[o-1]),o>1&&(x[8]=l[o-2],x[10]=d[o-2],x[11]=h[o-2]),o<l.length-1&&(x[1]=l[o+1],x[6]=d[o+1],x[7]=h[o+1]),o<l.length-2&&(x[9]=l[o+2],x[12]=d[o+2],x[13]=h[o+2]);for(let y of x)if(Nl.adjustRowNumber(c,y))return}static adjustRowNumber(s,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===s.getBucket()?(s.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,o){this.detectionResultColumns[s]=o}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Sl;for(let l=0;l<s.getCodewords().length;l++){o.format("CW %3d:",l);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){o.format("    |   ");continue}let d=this.detectionResultColumns[c].getCodewords()[l];if(d==null){o.format("    |   ");continue}o.format(" %3d|%3d",d.getRowNumber(),d.getValue())}o.format("%n")}return o.toString()}}class Tl{constructor(s,o,l,c){this.rowNumber=Tl.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(o),this.bucket=Math.trunc(l),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==Tl.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}Tl.BARCODE_ROW_UNKNOWN=-1;class Yr{static initialize(){for(let s=0;s<ze.SYMBOL_TABLE.length;s++){let o=ze.SYMBOL_TABLE[s],l=o&1;for(let c=0;c<ze.BARS_IN_MODULE;c++){let d=0;for(;(o&1)===l;)d+=1,o>>=1;l=o&1,Yr.RATIOS_TABLE[s]||(Yr.RATIOS_TABLE[s]=new Array(ze.BARS_IN_MODULE)),Yr.RATIOS_TABLE[s][ze.BARS_IN_MODULE-c-1]=Math.fround(d/ze.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let o=Yr.getDecodedCodewordValue(Yr.sampleBitCounts(s));return o!==-1?o:Yr.getClosestDecodedValue(s)}static sampleBitCounts(s){let o=_e.sum(s),l=new Int32Array(ze.BARS_IN_MODULE),c=0,d=0;for(let h=0;h<ze.MODULES_IN_CODEWORD;h++){let x=o/(2*ze.MODULES_IN_CODEWORD)+h*o/ze.MODULES_IN_CODEWORD;d+s[c]<=x&&(d+=s[c],c++),l[c]++}return l}static getDecodedCodewordValue(s){let o=Yr.getBitValue(s);return ze.getCodeword(o)===-1?-1:o}static getBitValue(s){let o=0;for(let l=0;l<s.length;l++)for(let c=0;c<s[l];c++)o=o<<1|(l%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(s){let o=_e.sum(s),l=new Array(ze.BARS_IN_MODULE);if(o>1)for(let h=0;h<l.length;h++)l[h]=Math.fround(s[h]/o);let c=Lt.MAX_VALUE,d=-1;this.bSymbolTableReady||Yr.initialize();for(let h=0;h<Yr.RATIOS_TABLE.length;h++){let x=0,y=Yr.RATIOS_TABLE[h];for(let b=0;b<ze.BARS_IN_MODULE;b++){let T=Math.fround(y[b]-l[b]);if(x+=Math.fround(T*T),x>=c)break}x<c&&(c=x,d=ze.SYMBOL_TABLE[h])}return d}}Yr.bSymbolTableReady=!1,Yr.RATIOS_TABLE=new Array(ze.SYMBOL_TABLE.length).map(O=>new Array(ze.BARS_IN_MODULE));class bg{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Cg{static parseLong(s,o=void 0){return parseInt(s,o)}}class Eg extends p{}Eg.kind="NullPointerException";class m3{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,o,l){if(s==null)throw new Eg;if(o<0||o>s.length||l<0||o+l>s.length||o+l<0)throw new P;if(l===0)return;for(let c=0;c<l;c++)this.write(s[o+c])}flush(){}close(){}}class p3 extends p{}class g3 extends m3{constructor(s=32){if(super(),this.count=0,s<0)throw new v("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let l=this.buf.length<<1;if(l-s<0&&(l=s),l<0){if(s<0)throw new p3;l=S.MAX_VALUE}this.buf=A.copyOfUint8Array(this.buf,l)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,o,l){if(o<0||o>s.length||l<0||o+l-s.length>0)throw new P;this.ensureCapacity(this.count+l),N.arraycopy(s,o,this.buf,this.count,l),this.count+=l}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return A.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var bt;(function(O){O[O.ALPHA=0]="ALPHA",O[O.LOWER=1]="LOWER",O[O.MIXED=2]="MIXED",O[O.PUNCT=3]="PUNCT",O[O.ALPHA_SHIFT=4]="ALPHA_SHIFT",O[O.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(bt||(bt={}));function Sg(){if(typeof window<"u")return window.BigInt||null;if(typeof xr<"u")return xr.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let mu;function ei(O){if(typeof mu>"u"&&(mu=Sg()),mu===null)throw new Error("BigInt is not supported!");return mu(O)}function x3(){let O=[];O[0]=ei(1);let s=ei(900);O[1]=s;for(let o=2;o<16;o++)O[o]=O[o-1]*s;return O}class J{static decode(s,o){let l=new se(""),c=D.ISO8859_1;l.enableDecoding(c);let d=1,h=s[d++],x=new bg;for(;d<s[0];){switch(h){case J.TEXT_COMPACTION_MODE_LATCH:d=J.textCompaction(s,d,l);break;case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:d=J.byteCompaction(h,s,c,d,l);break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[d++]);break;case J.NUMERIC_COMPACTION_MODE_LATCH:d=J.numericCompaction(s,d,l);break;case J.ECI_CHARSET:D.getCharacterSetECIByValue(s[d++]);break;case J.ECI_GENERAL_PURPOSE:d+=2;break;case J.ECI_USER_DEFINED:d++;break;case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=J.decodeMacroBlock(s,d,x);break;case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:throw new F;default:d--,d=J.textCompaction(s,d,l);break}if(d<s.length)h=s[d++];else throw F.getFormatInstance()}if(l.length()===0)throw F.getFormatInstance();let y=new je(null,l.toString(),null,o);return y.setOther(x),y}static decodeMacroBlock(s,o,l){if(o+J.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw F.getFormatInstance();let c=new Int32Array(J.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<J.NUMBER_OF_SEQUENCE_CODEWORDS;x++,o++)c[x]=s[o];l.setSegmentIndex(S.parseInt(J.decodeBase900toBase10(c,J.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new se;o=J.textCompaction(s,o,d),l.setFileId(d.toString());let h=-1;for(s[o]===J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=o+1);o<s[0];)switch(s[o]){case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,s[o]){case J.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new se;o=J.textCompaction(s,o+1,x),l.setFileName(x.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new se;o=J.textCompaction(s,o+1,y),l.setSender(y.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let b=new se;o=J.textCompaction(s,o+1,b),l.setAddressee(b.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let T=new se;o=J.numericCompaction(s,o+1,T),l.setSegmentCount(S.parseInt(T.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let k=new se;o=J.numericCompaction(s,o+1,k),l.setTimestamp(Cg.parseLong(k.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let M=new se;o=J.numericCompaction(s,o+1,M),l.setChecksum(S.parseInt(M.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let U=new se;o=J.numericCompaction(s,o+1,U),l.setFileSize(Cg.parseLong(U.toString()));break;default:throw F.getFormatInstance()}break;case J.MACRO_PDF417_TERMINATOR:o++,l.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(h!==-1){let x=o-h;l.isLastSegment()&&x--,l.setOptionalData(A.copyOfRange(s,h,h+x))}return o}static textCompaction(s,o,l){let c=new Int32Array((s[0]-o)*2),d=new Int32Array((s[0]-o)*2),h=0,x=!1;for(;o<s[0]&&!x;){let y=s[o++];if(y<J.TEXT_COMPACTION_MODE_LATCH)c[h]=y/30,c[h+1]=y%30,h+=2;else switch(y){case J.TEXT_COMPACTION_MODE_LATCH:c[h++]=J.TEXT_COMPACTION_MODE_LATCH;break;case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:o--,x=!0;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[h]=J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=s[o++],d[h]=y,h++;break}}return J.decodeTextCompaction(c,d,h,l),o}static decodeTextCompaction(s,o,l,c){let d=bt.ALPHA,h=bt.ALPHA,x=0;for(;x<l;){let y=s[x],b="";switch(d){case bt.ALPHA:if(y<26)b=String.fromCharCode(65+y);else switch(y){case 26:b=" ";break;case J.LL:d=bt.LOWER;break;case J.ML:d=bt.MIXED;break;case J.PS:h=d,d=bt.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case J.TEXT_COMPACTION_MODE_LATCH:d=bt.ALPHA;break}break;case bt.LOWER:if(y<26)b=String.fromCharCode(97+y);else switch(y){case 26:b=" ";break;case J.AS:h=d,d=bt.ALPHA_SHIFT;break;case J.ML:d=bt.MIXED;break;case J.PS:h=d,d=bt.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case J.TEXT_COMPACTION_MODE_LATCH:d=bt.ALPHA;break}break;case bt.MIXED:if(y<J.PL)b=J.MIXED_CHARS[y];else switch(y){case J.PL:d=bt.PUNCT;break;case 26:b=" ";break;case J.LL:d=bt.LOWER;break;case J.AL:d=bt.ALPHA;break;case J.PS:h=d,d=bt.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case J.TEXT_COMPACTION_MODE_LATCH:d=bt.ALPHA;break}break;case bt.PUNCT:if(y<J.PAL)b=J.PUNCT_CHARS[y];else switch(y){case J.PAL:d=bt.ALPHA;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case J.TEXT_COMPACTION_MODE_LATCH:d=bt.ALPHA;break}break;case bt.ALPHA_SHIFT:if(d=h,y<26)b=String.fromCharCode(65+y);else switch(y){case 26:b=" ";break;case J.TEXT_COMPACTION_MODE_LATCH:d=bt.ALPHA;break}break;case bt.PUNCT_SHIFT:if(d=h,y<J.PAL)b=J.PUNCT_CHARS[y];else switch(y){case J.PAL:d=bt.ALPHA;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case J.TEXT_COMPACTION_MODE_LATCH:d=bt.ALPHA;break}break}b!==""&&c.append(b),x++}}static byteCompaction(s,o,l,c,d){let h=new g3,x=0,y=0,b=!1;switch(s){case J.BYTE_COMPACTION_MODE_LATCH:let T=new Int32Array(6),k=o[c++];for(;c<o[0]&&!b;)switch(T[x++]=k,y=900*y+k,k=o[c++],k){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:c--,b=!0;break;default:if(x%5===0&&x>0){for(let M=0;M<6;++M)h.write(Number(ei(y)>>ei(8*(5-M))));y=0,x=0}break}c===o[0]&&k<J.TEXT_COMPACTION_MODE_LATCH&&(T[x++]=k);for(let M=0;M<x;M++)h.write(T[M]);break;case J.BYTE_COMPACTION_MODE_LATCH_6:for(;c<o[0]&&!b;){let M=o[c++];if(M<J.TEXT_COMPACTION_MODE_LATCH)x++,y=900*y+M;else switch(M){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:c--,b=!0;break}if(x%5===0&&x>0){for(let U=0;U<6;++U)h.write(Number(ei(y)>>ei(8*(5-U))));y=0,x=0}}break}return d.append(Q.decode(h.toByteArray(),l)),c}static numericCompaction(s,o,l){let c=0,d=!1,h=new Int32Array(J.MAX_NUMERIC_CODEWORDS);for(;o<s[0]&&!d;){let x=s[o++];if(o===s[0]&&(d=!0),x<J.TEXT_COMPACTION_MODE_LATCH)h[c]=x,c++;else switch(x){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:o--,d=!0;break}(c%J.MAX_NUMERIC_CODEWORDS===0||x===J.NUMERIC_COMPACTION_MODE_LATCH||d)&&c>0&&(l.append(J.decodeBase900toBase10(h,c)),c=0)}return o}static decodeBase900toBase10(s,o){let l=ei(0);for(let d=0;d<o;d++)l+=J.EXP900[o-d-1]*ei(s[d]);let c=l.toString();if(c.charAt(0)!=="1")throw new F;return c.substring(1)}}J.TEXT_COMPACTION_MODE_LATCH=900,J.BYTE_COMPACTION_MODE_LATCH=901,J.NUMERIC_COMPACTION_MODE_LATCH=902,J.BYTE_COMPACTION_MODE_LATCH_6=924,J.ECI_USER_DEFINED=925,J.ECI_GENERAL_PURPOSE=926,J.ECI_CHARSET=927,J.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,J.MACRO_PDF417_TERMINATOR=922,J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,J.MAX_NUMERIC_CODEWORDS=15,J.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,J.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,J.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,J.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,J.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,J.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,J.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,J.PL=25,J.LL=27,J.AS=27,J.ML=28,J.AL=28,J.PS=29,J.PAL=29,J.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,J.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",J.EXP900=Sg()?x3():[],J.NUMBER_OF_SEQUENCE_CODEWORDS=2;class tt{constructor(){}static decode(s,o,l,c,d,h,x){let y=new ro(s,o,l,c,d),b=null,T=null,k;for(let H=!0;;H=!1){if(o!=null&&(b=tt.getRowIndicatorColumn(s,y,o,!0,h,x)),c!=null&&(T=tt.getRowIndicatorColumn(s,y,c,!1,h,x)),k=tt.merge(b,T),k==null)throw X.getNotFoundInstance();let G=k.getBoundingBox();if(H&&G!=null&&(G.getMinY()<y.getMinY()||G.getMaxY()>y.getMaxY()))y=G;else break}k.setBoundingBox(y);let M=k.getBarcodeColumnCount()+1;k.setDetectionResultColumn(0,b),k.setDetectionResultColumn(M,T);let U=b!=null;for(let H=1;H<=M;H++){let G=U?H:M-H;if(k.getDetectionResultColumn(G)!==void 0)continue;let Y;G===0||G===M?Y=new vg(y,G===0):Y=new Al(y),k.setDetectionResultColumn(G,Y);let ee=-1,le=ee;for(let ce=y.getMinY();ce<=y.getMaxY();ce++){if(ee=tt.getStartColumn(k,G,ce,U),ee<0||ee>y.getMaxX()){if(le===-1)continue;ee=le}let oe=tt.detectCodeword(s,y.getMinX(),y.getMaxX(),U,ee,ce,h,x);oe!=null&&(Y.setCodeword(ce,oe),le=ee,h=Math.min(h,oe.getWidth()),x=Math.max(x,oe.getWidth()))}}return tt.createDecoderResult(k)}static merge(s,o){if(s==null&&o==null)return null;let l=tt.getBarcodeMetadata(s,o);if(l==null)return null;let c=ro.merge(tt.adjustBoundingBox(s),tt.adjustBoundingBox(o));return new Nl(l,c)}static adjustBoundingBox(s){if(s==null)return null;let o=s.getRowHeights();if(o==null)return null;let l=tt.getMax(o),c=0;for(let x of o)if(c+=l-x,x>0)break;let d=s.getCodewords();for(let x=0;c>0&&d[x]==null;x++)c--;let h=0;for(let x=o.length-1;x>=0&&(h+=l-o[x],!(o[x]>0));x--);for(let x=d.length-1;h>0&&d[x]==null;x--)h--;return s.getBoundingBox().addMissingRows(c,h,s.isLeft())}static getMax(s){let o=-1;for(let l of s)o=Math.max(o,l);return o}static getBarcodeMetadata(s,o){let l;if(s==null||(l=s.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let c;return o==null||(c=o.getBarcodeMetadata())==null?l:l.getColumnCount()!==c.getColumnCount()&&l.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&l.getRowCount()!==c.getRowCount()?null:l}static getRowIndicatorColumn(s,o,l,c,d,h){let x=new vg(o,c);for(let y=0;y<2;y++){let b=y===0?1:-1,T=Math.trunc(Math.trunc(l.getX()));for(let k=Math.trunc(Math.trunc(l.getY()));k<=o.getMaxY()&&k>=o.getMinY();k+=b){let M=tt.detectCodeword(s,0,s.getWidth(),c,T,k,d,h);M!=null&&(x.setCodeword(k,M),c?T=M.getStartX():T=M.getEndX())}}return x}static adjustCodewordCount(s,o){let l=o[0][1],c=l.getValue(),d=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-tt.getNumberOfECCodeWords(s.getBarcodeECLevel());if(c.length===0){if(d<1||d>ze.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();l.setValue(d)}else c[0]!==d&&l.setValue(d)}static createDecoderResult(s){let o=tt.createBarcodeMatrix(s);tt.adjustCodewordCount(s,o);let l=new Array,c=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),d=[],h=new Array;for(let y=0;y<s.getBarcodeRowCount();y++)for(let b=0;b<s.getBarcodeColumnCount();b++){let T=o[y][b+1].getValue(),k=y*s.getBarcodeColumnCount()+b;T.length===0?l.push(k):T.length===1?c[k]=T[0]:(h.push(k),d.push(T))}let x=new Array(d.length);for(let y=0;y<x.length;y++)x[y]=d[y];return tt.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),c,ze.toIntArray(l),ze.toIntArray(h),x)}static createDecoderResultFromAmbiguousValues(s,o,l,c,d){let h=new Int32Array(c.length),x=100;for(;x-- >0;){for(let y=0;y<h.length;y++)o[c[y]]=d[y][h[y]];try{return tt.decodeCodewords(o,s,l)}catch(y){if(!(y instanceof _))throw y}if(h.length===0)throw _.getChecksumInstance();for(let y=0;y<h.length;y++)if(h[y]<d[y].length-1){h[y]++;break}else if(h[y]=0,y===h.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(s){let o=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let c=0;c<o.length;c++)for(let d=0;d<o[c].length;d++)o[c][d]=new _l;let l=0;for(let c of s.getDetectionResultColumns()){if(c!=null){for(let d of c.getCodewords())if(d!=null){let h=d.getRowNumber();if(h>=0){if(h>=o.length)continue;o[h][l].setValue(d.getValue())}}}l++}return o}static isValidBarcodeColumn(s,o){return o>=0&&o<=s.getBarcodeColumnCount()+1}static getStartColumn(s,o,l,c){let d=c?1:-1,h=null;if(tt.isValidBarcodeColumn(s,o-d)&&(h=s.getDetectionResultColumn(o-d).getCodeword(l)),h!=null)return c?h.getEndX():h.getStartX();if(h=s.getDetectionResultColumn(o).getCodewordNearby(l),h!=null)return c?h.getStartX():h.getEndX();if(tt.isValidBarcodeColumn(s,o-d)&&(h=s.getDetectionResultColumn(o-d).getCodewordNearby(l)),h!=null)return c?h.getEndX():h.getStartX();let x=0;for(;tt.isValidBarcodeColumn(s,o-d);){o-=d;for(let y of s.getDetectionResultColumn(o).getCodewords())if(y!=null)return(c?y.getEndX():y.getStartX())+d*x*(y.getEndX()-y.getStartX());x++}return c?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,o,l,c,d,h,x,y){d=tt.adjustCodewordStartColumn(s,o,l,c,d,h);let b=tt.getModuleBitCount(s,o,l,c,d,h);if(b==null)return null;let T,k=_e.sum(b);if(c)T=d+k;else{for(let H=0;H<b.length/2;H++){let G=b[H];b[H]=b[b.length-1-H],b[b.length-1-H]=G}T=d,d=T-k}if(!tt.checkCodewordSkew(k,x,y))return null;let M=Yr.getDecodedValue(b),U=ze.getCodeword(M);return U===-1?null:new Tl(d,T,tt.getCodewordBucketNumber(M),U)}static getModuleBitCount(s,o,l,c,d,h){let x=d,y=new Int32Array(8),b=0,T=c?1:-1,k=c;for(;(c?x<l:x>=o)&&b<y.length;)s.get(x,h)===k?(y[b]++,x+=T):(b++,k=!k);return b===y.length||x===(c?l:o)&&b===y.length-1?y:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,o,l,c,d,h){let x=d,y=c?-1:1;for(let b=0;b<2;b++){for(;(c?x>=o:x<l)&&c===s.get(x,h);){if(Math.abs(d-x)>tt.CODEWORD_SKEW_SIZE)return d;x+=y}y=-y,c=!c}return x}static checkCodewordSkew(s,o,l){return o-tt.CODEWORD_SKEW_SIZE<=s&&s<=l+tt.CODEWORD_SKEW_SIZE}static decodeCodewords(s,o,l){if(s.length===0)throw F.getFormatInstance();let c=1<<o+1,d=tt.correctErrors(s,l,c);tt.verifyCodewordCount(s,c);let h=J.decode(s,""+o);return h.setErrorsCorrected(d),h.setErasures(l.length),h}static correctErrors(s,o,l){if(o!=null&&o.length>l/2+tt.MAX_ERRORS||l<0||l>tt.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return tt.errorCorrection.decode(s,l,o)}static verifyCodewordCount(s,o){if(s.length<4)throw F.getFormatInstance();let l=s[0];if(l>s.length)throw F.getFormatInstance();if(l===0)if(o<s.length)s[0]=s.length-o;else throw F.getFormatInstance()}static getBitCountForCodeword(s){let o=new Int32Array(8),l=0,c=o.length-1;for(;!((s&1)!==l&&(l=s&1,c--,c<0));)o[c]++,s>>=1;return o}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return tt.getCodewordBucketNumber(tt.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let o=new Sl;for(let l=0;l<s.length;l++){o.format("Row %2d: ",l);for(let c=0;c<s[l].length;c++){let d=s[l][c];d.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}o.format("%n")}return o.toString()}}tt.CODEWORD_SKEW_SIZE=2,tt.MAX_ERRORS=3,tt.MAX_EC_CODEWORDS=512,tt.errorCorrection=new yg;class Cr{decode(s,o=null){let l=Cr.decode(s,o,!1);if(l==null||l.length===0||l[0]==null)throw X.getNotFoundInstance();return l[0]}decodeMultiple(s,o=null){try{return Cr.decode(s,o,!0)}catch(l){throw l instanceof F||l instanceof _?X.getNotFoundInstance():l}}static decode(s,o,l){const c=new Array,d=Ze.detectMultiple(s,o,l);for(const h of d.getPoints()){const x=tt.decode(d.getBits(),h[4],h[5],h[6],h[7],Cr.getMinCodewordWidth(h),Cr.getMaxCodewordWidth(h)),y=new ke(x.getText(),x.getRawBytes(),void 0,h,de.PDF_417);y.putMetadata(xe.ERROR_CORRECTION_LEVEL,x.getECLevel());const b=x.getOther();b!=null&&y.putMetadata(xe.PDF417_EXTRA_METADATA,b),c.push(y)}return c.map(h=>h)}static getMaxWidth(s,o){return s==null||o==null?0:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMinWidth(s,o){return s==null||o==null?S.MAX_VALUE:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Cr.getMaxWidth(s[0],s[4]),Cr.getMaxWidth(s[6],s[2])*ze.MODULES_IN_CODEWORD/ze.MODULES_IN_STOP_PATTERN),Math.max(Cr.getMaxWidth(s[1],s[5]),Cr.getMaxWidth(s[7],s[3])*ze.MODULES_IN_CODEWORD/ze.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Cr.getMinWidth(s[0],s[4]),Cr.getMinWidth(s[6],s[2])*ze.MODULES_IN_CODEWORD/ze.MODULES_IN_STOP_PATTERN),Math.min(Cr.getMinWidth(s[1],s[5]),Cr.getMinWidth(s[7],s[3])*ze.MODULES_IN_CODEWORD/ze.MODULES_IN_STOP_PATTERN)))}reset(){}}class pu extends p{}pu.kind="ReaderException";class Ag{constructor(s,o){this.verbose=s===!0,o&&this.setHints(o)}decode(s,o){return o&&this.setHints(o),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const o=!n(s)&&s.get(V.TRY_HARDER)===!0,l=n(s)?null:s.get(V.POSSIBLE_FORMATS),c=new Array;if(!n(l)){const d=l.some(h=>h===de.UPC_A||h===de.UPC_E||h===de.EAN_13||h===de.EAN_8||h===de.CODABAR||h===de.CODE_39||h===de.CODE_93||h===de.CODE_128||h===de.ITF||h===de.RSS_14||h===de.RSS_EXPANDED);d&&!o&&c.push(new Go(s,this.verbose)),l.includes(de.QR_CODE)&&c.push(new Js),l.includes(de.DATA_MATRIX)&&c.push(new Zs),l.includes(de.AZTEC)&&c.push(new Mn),l.includes(de.PDF_417)&&c.push(new Cr),d&&o&&c.push(new Go(s,this.verbose))}c.length===0&&(o||c.push(new Go(s,this.verbose)),c.push(new Js),c.push(new Zs),c.push(new Mn),c.push(new Cr),o&&c.push(new Go(s,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new pu("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(s,this.hints)}catch(l){if(l instanceof pu)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class w3 extends we{constructor(s=null,o=500){const l=new Ag;l.setHints(s),super(l,o)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class y3 extends we{constructor(s=500){super(new Cr,s)}}class v3 extends we{constructor(s=500){super(new Js,s)}}var vh;(function(O){O[O.ERROR_CORRECTION=0]="ERROR_CORRECTION",O[O.CHARACTER_SET=1]="CHARACTER_SET",O[O.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",O[O.MIN_SIZE=3]="MIN_SIZE",O[O.MAX_SIZE=4]="MAX_SIZE",O[O.MARGIN=5]="MARGIN",O[O.PDF417_COMPACT=6]="PDF417_COMPACT",O[O.PDF417_COMPACTION=7]="PDF417_COMPACTION",O[O.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",O[O.AZTEC_LAYERS=9]="AZTEC_LAYERS",O[O.QR_VERSION=10]="QR_VERSION"})(vh||(vh={}));var or=vh;class bh{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new pe(s,Int32Array.from([1])))}buildGenerator(s){const o=this.cachedGenerators;if(s>=o.length){let l=o[o.length-1];const c=this.field;for(let d=o.length;d<=s;d++){const h=l.multiply(new pe(c,Int32Array.from([1,c.exp(d-1+c.getGeneratorBase())])));o.push(h),l=h}}return o[s]}encode(s,o){if(o===0)throw new v("No error correction bytes");const l=s.length-o;if(l<=0)throw new v("No data bytes provided");const c=this.buildGenerator(o),d=new Int32Array(l);N.arraycopy(s,0,d,0,l);let h=new pe(this.field,d);h=h.multiplyByMonomial(o,1);const y=h.divide(c)[1].getCoefficients(),b=o-y.length;for(let T=0;T<b;T++)s[l+T]=0;N.arraycopy(y,0,s,l+b,y.length)}}class qt{constructor(){}static applyMaskPenaltyRule1(s){return qt.applyMaskPenaltyRule1Internal(s,!0)+qt.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let o=0;const l=s.getArray(),c=s.getWidth(),d=s.getHeight();for(let h=0;h<d-1;h++){const x=l[h];for(let y=0;y<c-1;y++){const b=x[y];b===x[y+1]&&b===l[h+1][y]&&b===l[h+1][y+1]&&o++}}return qt.N2*o}static applyMaskPenaltyRule3(s){let o=0;const l=s.getArray(),c=s.getWidth(),d=s.getHeight();for(let h=0;h<d;h++)for(let x=0;x<c;x++){const y=l[h];x+6<c&&y[x]===1&&y[x+1]===0&&y[x+2]===1&&y[x+3]===1&&y[x+4]===1&&y[x+5]===0&&y[x+6]===1&&(qt.isWhiteHorizontal(y,x-4,x)||qt.isWhiteHorizontal(y,x+7,x+11))&&o++,h+6<d&&l[h][x]===1&&l[h+1][x]===0&&l[h+2][x]===1&&l[h+3][x]===1&&l[h+4][x]===1&&l[h+5][x]===0&&l[h+6][x]===1&&(qt.isWhiteVertical(l,x,h-4,h)||qt.isWhiteVertical(l,x,h+7,h+11))&&o++}return o*qt.N3}static isWhiteHorizontal(s,o,l){o=Math.max(o,0),l=Math.min(l,s.length);for(let c=o;c<l;c++)if(s[c]===1)return!1;return!0}static isWhiteVertical(s,o,l,c){l=Math.max(l,0),c=Math.min(c,s.length);for(let d=l;d<c;d++)if(s[d][o]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let o=0;const l=s.getArray(),c=s.getWidth(),d=s.getHeight();for(let y=0;y<d;y++){const b=l[y];for(let T=0;T<c;T++)b[T]===1&&o++}const h=s.getHeight()*s.getWidth();return Math.floor(Math.abs(o*2-h)*10/h)*qt.N4}static getDataMaskBit(s,o,l){let c,d;switch(s){case 0:c=l+o&1;break;case 1:c=l&1;break;case 2:c=o%3;break;case 3:c=(l+o)%3;break;case 4:c=Math.floor(l/2)+Math.floor(o/3)&1;break;case 5:d=l*o,c=(d&1)+d%3;break;case 6:d=l*o,c=(d&1)+d%3&1;break;case 7:d=l*o,c=d%3+(l+o&1)&1;break;default:throw new v("Invalid mask pattern: "+s)}return c===0}static applyMaskPenaltyRule1Internal(s,o){let l=0;const c=o?s.getHeight():s.getWidth(),d=o?s.getWidth():s.getHeight(),h=s.getArray();for(let x=0;x<c;x++){let y=0,b=-1;for(let T=0;T<d;T++){const k=o?h[x][T]:h[T][x];k===b?y++:(y>=5&&(l+=qt.N1+(y-5)),y=1,b=k)}y>=5&&(l+=qt.N1+(y-5))}return l}}qt.N1=3,qt.N2=3,qt.N3=40,qt.N4=10;class gu{constructor(s,o){this.width=s,this.height=o;const l=new Array(o);for(let c=0;c!==o;c++)l[c]=new Uint8Array(s);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(s,o){return this.bytes[o][s]}getArray(){return this.bytes}setNumber(s,o,l){this.bytes[o][s]=l}setBoolean(s,o,l){this.bytes[o][s]=l?1:0}clear(s){for(const o of this.bytes)A.fill(o,s)}equals(s){if(!(s instanceof gu))return!1;const o=s;if(this.width!==o.width||this.height!==o.height)return!1;for(let l=0,c=this.height;l<c;++l){const d=this.bytes[l],h=o.bytes[l];for(let x=0,y=this.width;x<y;++x)if(d[x]!==h[x])return!1}return!0}toString(){const s=new se;for(let o=0,l=this.height;o<l;++o){const c=this.bytes[o];for(let d=0,h=this.width;d<h;++d)switch(c[d]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class no{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new se;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<no.NUM_MASK_PATTERNS}}no.NUM_MASK_PATTERNS=8;class St extends p{}St.kind="WriterException";class Le{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,o,l,c,d){Le.clearMatrix(d),Le.embedBasicPatterns(l,d),Le.embedTypeInfo(o,c,d),Le.maybeEmbedVersionInfo(l,d),Le.embedDataBits(s,c,d)}static embedBasicPatterns(s,o){Le.embedPositionDetectionPatternsAndSeparators(o),Le.embedDarkDotAtLeftBottomCorner(o),Le.maybeEmbedPositionAdjustmentPatterns(s,o),Le.embedTimingPatterns(o)}static embedTypeInfo(s,o,l){const c=new j;Le.makeTypeInfoBits(s,o,c);for(let d=0,h=c.getSize();d<h;++d){const x=c.get(c.getSize()-1-d),y=Le.TYPE_INFO_COORDINATES[d],b=y[0],T=y[1];if(l.setBoolean(b,T,x),d<8){const k=l.getWidth()-d-1;l.setBoolean(k,8,x)}else{const M=l.getHeight()-7+(d-8);l.setBoolean(8,M,x)}}}static maybeEmbedVersionInfo(s,o){if(s.getVersionNumber()<7)return;const l=new j;Le.makeVersionInfoBits(s,l);let c=6*3-1;for(let d=0;d<6;++d)for(let h=0;h<3;++h){const x=l.get(c);c--,o.setBoolean(d,o.getHeight()-11+h,x),o.setBoolean(o.getHeight()-11+h,d,x)}}static embedDataBits(s,o,l){let c=0,d=-1,h=l.getWidth()-1,x=l.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);x>=0&&x<l.getHeight();){for(let y=0;y<2;++y){const b=h-y;if(!Le.isEmpty(l.get(b,x)))continue;let T;c<s.getSize()?(T=s.get(c),++c):T=!1,o!==255&&qt.getDataMaskBit(o,b,x)&&(T=!T),l.setBoolean(b,x,T)}x+=d}d=-d,x+=d,h-=2}if(c!==s.getSize())throw new St("Not all bits consumed: "+c+"/"+s.getSize())}static findMSBSet(s){return 32-S.numberOfLeadingZeros(s)}static calculateBCHCode(s,o){if(o===0)throw new v("0 polynomial");const l=Le.findMSBSet(o);for(s<<=l-1;Le.findMSBSet(s)>=l;)s^=o<<Le.findMSBSet(s)-l;return s}static makeTypeInfoBits(s,o,l){if(!no.isValidMaskPattern(o))throw new St("Invalid mask pattern");const c=s.getBits()<<3|o;l.appendBits(c,5);const d=Le.calculateBCHCode(c,Le.TYPE_INFO_POLY);l.appendBits(d,10);const h=new j;if(h.appendBits(Le.TYPE_INFO_MASK_PATTERN,15),l.xor(h),l.getSize()!==15)throw new St("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(s,o){o.appendBits(s.getVersionNumber(),6);const l=Le.calculateBCHCode(s.getVersionNumber(),Le.VERSION_INFO_POLY);if(o.appendBits(l,12),o.getSize()!==18)throw new St("should not happen but we got: "+o.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let o=8;o<s.getWidth()-8;++o){const l=(o+1)%2;Le.isEmpty(s.get(o,6))&&s.setNumber(o,6,l),Le.isEmpty(s.get(6,o))&&s.setNumber(6,o,l)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new St;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,o,l){for(let c=0;c<8;++c){if(!Le.isEmpty(l.get(s+c,o)))throw new St;l.setNumber(s+c,o,0)}}static embedVerticalSeparationPattern(s,o,l){for(let c=0;c<7;++c){if(!Le.isEmpty(l.get(s,o+c)))throw new St;l.setNumber(s,o+c,0)}}static embedPositionAdjustmentPattern(s,o,l){for(let c=0;c<5;++c){const d=Le.POSITION_ADJUSTMENT_PATTERN[c];for(let h=0;h<5;++h)l.setNumber(s+h,o+c,d[h])}}static embedPositionDetectionPattern(s,o,l){for(let c=0;c<7;++c){const d=Le.POSITION_DETECTION_PATTERN[c];for(let h=0;h<7;++h)l.setNumber(s+h,o+c,d[h])}}static embedPositionDetectionPatternsAndSeparators(s){const o=Le.POSITION_DETECTION_PATTERN[0].length;Le.embedPositionDetectionPattern(0,0,s),Le.embedPositionDetectionPattern(s.getWidth()-o,0,s),Le.embedPositionDetectionPattern(0,s.getWidth()-o,s);const l=8;Le.embedHorizontalSeparationPattern(0,l-1,s),Le.embedHorizontalSeparationPattern(s.getWidth()-l,l-1,s),Le.embedHorizontalSeparationPattern(0,s.getWidth()-l,s);const c=7;Le.embedVerticalSeparationPattern(c,0,s),Le.embedVerticalSeparationPattern(s.getHeight()-c-1,0,s),Le.embedVerticalSeparationPattern(c,s.getHeight()-c,s)}static maybeEmbedPositionAdjustmentPatterns(s,o){if(s.getVersionNumber()<2)return;const l=s.getVersionNumber()-1,c=Le.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let d=0,h=c.length;d!==h;d++){const x=c[d];if(x>=0)for(let y=0;y!==h;y++){const b=c[y];b>=0&&Le.isEmpty(o.get(b,x))&&Le.embedPositionAdjustmentPattern(b-2,x-2,o)}}}}Le.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Le.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Le.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Le.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Le.VERSION_INFO_POLY=7973,Le.TYPE_INFO_POLY=1335,Le.TYPE_INFO_MASK_PATTERN=21522;class b3{constructor(s,o){this.dataBytes=s,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class kt{constructor(){}static calculateMaskPenalty(s){return qt.applyMaskPenaltyRule1(s)+qt.applyMaskPenaltyRule2(s)+qt.applyMaskPenaltyRule3(s)+qt.applyMaskPenaltyRule4(s)}static encode(s,o,l=null){let c=kt.DEFAULT_BYTE_MODE_ENCODING;const d=l!==null&&l.get(or.CHARACTER_SET)!==void 0;d&&(c=l.get(or.CHARACTER_SET).toString());const h=this.chooseMode(s,c),x=new j;if(h===De.BYTE&&(d||kt.DEFAULT_BYTE_MODE_ENCODING!==c)){const ce=D.getCharacterSetECIByName(c);ce!==void 0&&this.appendECI(ce,x)}this.appendModeInfo(h,x);const y=new j;this.appendBytes(s,h,y,c);let b;if(l!==null&&l.get(or.QR_VERSION)!==void 0){const ce=Number.parseInt(l.get(or.QR_VERSION).toString(),10);b=Re.getVersionForNumber(ce);const oe=this.calculateBitsNeeded(h,x,y,b);if(!this.willFit(oe,b,o))throw new St("Data too big for requested version")}else b=this.recommendVersion(o,h,x,y);const T=new j;T.appendBitArray(x);const k=h===De.BYTE?y.getSizeInBytes():s.length;this.appendLengthInfo(k,b,h,T),T.appendBitArray(y);const M=b.getECBlocksForLevel(o),U=b.getTotalCodewords()-M.getTotalECCodewords();this.terminateBits(U,T);const H=this.interleaveWithECBytes(T,b.getTotalCodewords(),U,M.getNumBlocks()),G=new no;G.setECLevel(o),G.setMode(h),G.setVersion(b);const Y=b.getDimensionForVersion(),ee=new gu(Y,Y),le=this.chooseMaskPattern(H,o,b,ee);return G.setMaskPattern(le),Le.buildMatrix(H,o,b,le,ee),G.setMatrix(ee),G}static recommendVersion(s,o,l,c){const d=this.calculateBitsNeeded(o,l,c,Re.getVersionForNumber(1)),h=this.chooseVersion(d,s),x=this.calculateBitsNeeded(o,l,c,h);return this.chooseVersion(x,s)}static calculateBitsNeeded(s,o,l,c){return o.getSize()+s.getCharacterCountBits(c)+l.getSize()}static getAlphanumericCode(s){return s<kt.ALPHANUMERIC_TABLE.length?kt.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,o=null){if(D.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(s))return De.KANJI;let l=!1,c=!1;for(let d=0,h=s.length;d<h;++d){const x=s.charAt(d);if(kt.isDigit(x))l=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)c=!0;else return De.BYTE}return c?De.ALPHANUMERIC:l?De.NUMERIC:De.BYTE}static isOnlyDoubleByteKanji(s){let o;try{o=Q.encode(s,D.SJIS)}catch{return!1}const l=o.length;if(l%2!==0)return!1;for(let c=0;c<l;c+=2){const d=o[c]&255;if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(s,o,l,c){let d=Number.MAX_SAFE_INTEGER,h=-1;for(let x=0;x<no.NUM_MASK_PATTERNS;x++){Le.buildMatrix(s,o,l,x,c);let y=this.calculateMaskPenalty(c);y<d&&(d=y,h=x)}return h}static chooseVersion(s,o){for(let l=1;l<=40;l++){const c=Re.getVersionForNumber(l);if(kt.willFit(s,c,o))return c}throw new St("Data too big")}static willFit(s,o,l){const c=o.getTotalCodewords(),h=o.getECBlocksForLevel(l).getTotalECCodewords(),x=c-h,y=(s+7)/8;return x>=y}static terminateBits(s,o){const l=s*8;if(o.getSize()>l)throw new St("data bits cannot fit in the QR Code"+o.getSize()+" > "+l);for(let h=0;h<4&&o.getSize()<l;++h)o.appendBit(!1);const c=o.getSize()&7;if(c>0)for(let h=c;h<8;h++)o.appendBit(!1);const d=s-o.getSizeInBytes();for(let h=0;h<d;++h)o.appendBits(h&1?17:236,8);if(o.getSize()!==l)throw new St("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,o,l,c,d,h){if(c>=l)throw new St("Block ID too large");const x=s%l,y=l-x,b=Math.floor(s/l),T=b+1,k=Math.floor(o/l),M=k+1,U=b-k,H=T-M;if(U!==H)throw new St("EC bytes mismatch");if(l!==y+x)throw new St("RS blocks mismatch");if(s!==(k+U)*y+(M+H)*x)throw new St("Total bytes mismatch");c<y?(d[0]=k,h[0]=U):(d[0]=M,h[0]=H)}static interleaveWithECBytes(s,o,l,c){if(s.getSizeInBytes()!==l)throw new St("Number of bits and data bytes does not match");let d=0,h=0,x=0;const y=new Array;for(let T=0;T<c;++T){const k=new Int32Array(1),M=new Int32Array(1);kt.getNumDataBytesAndNumECBytesForBlockID(o,l,c,T,k,M);const U=k[0],H=new Uint8Array(U);s.toBytes(8*d,H,0,U);const G=kt.generateECBytes(H,M[0]);y.push(new b3(H,G)),h=Math.max(h,U),x=Math.max(x,G.length),d+=k[0]}if(l!==d)throw new St("Data bytes does not match offset");const b=new j;for(let T=0;T<h;++T)for(const k of y){const M=k.getDataBytes();T<M.length&&b.appendBits(M[T],8)}for(let T=0;T<x;++T)for(const k of y){const M=k.getErrorCorrectionBytes();T<M.length&&b.appendBits(M[T],8)}if(o!==b.getSizeInBytes())throw new St("Interleaving error: "+o+" and "+b.getSizeInBytes()+" differ.");return b}static generateECBytes(s,o){const l=s.length,c=new Int32Array(l+o);for(let h=0;h<l;h++)c[h]=s[h]&255;new bh(Ae.QR_CODE_FIELD_256).encode(c,o);const d=new Uint8Array(o);for(let h=0;h<o;h++)d[h]=c[l+h];return d}static appendModeInfo(s,o){o.appendBits(s.getBits(),4)}static appendLengthInfo(s,o,l,c){const d=l.getCharacterCountBits(o);if(s>=1<<d)throw new St(s+" is bigger than "+((1<<d)-1));c.appendBits(s,d)}static appendBytes(s,o,l,c){switch(o){case De.NUMERIC:kt.appendNumericBytes(s,l);break;case De.ALPHANUMERIC:kt.appendAlphanumericBytes(s,l);break;case De.BYTE:kt.append8BitBytes(s,l,c);break;case De.KANJI:kt.appendKanjiBytes(s,l);break;default:throw new St("Invalid mode: "+o)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const o=kt.getDigit(s);return o>=0&&o<=9}static appendNumericBytes(s,o){const l=s.length;let c=0;for(;c<l;){const d=kt.getDigit(s.charAt(c));if(c+2<l){const h=kt.getDigit(s.charAt(c+1)),x=kt.getDigit(s.charAt(c+2));o.appendBits(d*100+h*10+x,10),c+=3}else if(c+1<l){const h=kt.getDigit(s.charAt(c+1));o.appendBits(d*10+h,7),c+=2}else o.appendBits(d,4),c++}}static appendAlphanumericBytes(s,o){const l=s.length;let c=0;for(;c<l;){const d=kt.getAlphanumericCode(s.charCodeAt(c));if(d===-1)throw new St;if(c+1<l){const h=kt.getAlphanumericCode(s.charCodeAt(c+1));if(h===-1)throw new St;o.appendBits(d*45+h,11),c+=2}else o.appendBits(d,6),c++}}static append8BitBytes(s,o,l){let c;try{c=Q.encode(s,l)}catch(d){throw new St(d)}for(let d=0,h=c.length;d!==h;d++){const x=c[d];o.appendBits(x,8)}}static appendKanjiBytes(s,o){let l;try{l=Q.encode(s,D.SJIS)}catch(d){throw new St(d)}const c=l.length;for(let d=0;d<c;d+=2){const h=l[d]&255,x=l[d+1]&255,y=h<<8&4294967295|x;let b=-1;if(y>=33088&&y<=40956?b=y-33088:y>=57408&&y<=60351&&(b=y-49472),b===-1)throw new St("Invalid byte sequence");const T=(b>>8)*192+(b&255);o.appendBits(T,13)}}static appendECI(s,o){o.appendBits(De.ECI.getBits(),4),o.appendBits(s.getValue(),8)}}kt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),kt.DEFAULT_BYTE_MODE_ENCODING=D.UTF8.getName();class so{write(s,o,l,c=null){if(s.length===0)throw new v("Found empty contents");if(o<0||l<0)throw new v("Requested dimensions are too small: "+o+"x"+l);let d=It.L,h=so.QUIET_ZONE_SIZE;c!==null&&(c.get(or.ERROR_CORRECTION)!==void 0&&(d=It.fromString(c.get(or.ERROR_CORRECTION).toString())),c.get(or.MARGIN)!==void 0&&(h=Number.parseInt(c.get(or.MARGIN).toString(),10)));const x=kt.encode(s,d,c);return this.renderResult(x,o,l,h)}writeToDom(s,o,l,c,d=null){typeof s=="string"&&(s=document.querySelector(s));const h=this.write(o,l,c,d);s&&s.appendChild(h)}renderResult(s,o,l,c){const d=s.getMatrix();if(d===null)throw new We;const h=d.getWidth(),x=d.getHeight(),y=h+c*2,b=x+c*2,T=Math.max(o,y),k=Math.max(l,b),M=Math.min(Math.floor(T/y),Math.floor(k/b)),U=Math.floor((T-h*M)/2),H=Math.floor((k-x*M)/2),G=this.createSVGElement(T,k);for(let Y=0,ee=H;Y<x;Y++,ee+=M)for(let le=0,ce=U;le<h;le++,ce+=M)if(d.get(le,Y)===1){const oe=this.createSvgRectElement(ce,ee,M,M);G.appendChild(oe)}return G}createSVGElement(s,o){const l=document.createElementNS(so.SVG_NS,"svg");return l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",o.toString()),l}createSvgRectElement(s,o,l,c){const d=document.createElementNS(so.SVG_NS,"rect");return d.setAttributeNS(null,"x",s.toString()),d.setAttributeNS(null,"y",o.toString()),d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",c.toString()),d.setAttributeNS(null,"fill","#000000"),d}}so.QUIET_ZONE_SIZE=4,so.SVG_NS="http://www.w3.org/2000/svg";class Xo{encode(s,o,l,c,d){if(s.length===0)throw new v("Found empty contents");if(o!==de.QR_CODE)throw new v("Can only encode QR_CODE, but got "+o);if(l<0||c<0)throw new v(`Requested dimensions are too small: ${l}x${c}`);let h=It.L,x=Xo.QUIET_ZONE_SIZE;d!==null&&(d.get(or.ERROR_CORRECTION)!==void 0&&(h=It.fromString(d.get(or.ERROR_CORRECTION).toString())),d.get(or.MARGIN)!==void 0&&(x=Number.parseInt(d.get(or.MARGIN).toString(),10)));const y=kt.encode(s,h,d);return Xo.renderResult(y,l,c,x)}static renderResult(s,o,l,c){const d=s.getMatrix();if(d===null)throw new We;const h=d.getWidth(),x=d.getHeight(),y=h+c*2,b=x+c*2,T=Math.max(o,y),k=Math.max(l,b),M=Math.min(Math.floor(T/y),Math.floor(k/b)),U=Math.floor((T-h*M)/2),H=Math.floor((k-x*M)/2),G=new ne(T,k);for(let Y=0,ee=H;Y<x;Y++,ee+=M)for(let le=0,ce=U;le<h;le++,ce+=M)d.get(le,Y)===1&&G.setRegion(ce,ee,M,M);return G}}Xo.QUIET_ZONE_SIZE=4;class C3{encode(s,o,l,c,d){let h;switch(o){case de.QR_CODE:h=new Xo;break;default:throw new v("No encoder available for format "+o)}return h.encode(s,o,l,c,d)}}class is extends Z{constructor(s,o,l,c,d,h,x,y){if(super(h,x),this.yuvData=s,this.dataWidth=o,this.dataHeight=l,this.left=c,this.top=d,c+h>o||d+x>l)throw new v("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(h,x)}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const c=(s+this.top)*this.dataWidth+this.left;return N.arraycopy(this.yuvData,c,o,0,l),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.yuvData;const l=s*o,c=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return N.arraycopy(this.yuvData,d,c,0,l),c;for(let h=0;h<o;h++){const x=h*s;N.arraycopy(this.yuvData,d,c,x,s),d+=this.dataWidth}return c}isCropSupported(){return!0}crop(s,o,l,c){return new is(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+o,l,c,!1)}renderThumbnail(){const s=this.getWidth()/is.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/is.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(s*o),c=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let h=0;h<o;h++){const x=h*s;for(let y=0;y<s;y++){const b=c[d+y*is.THUMBNAIL_SCALE_FACTOR]&255;l[x+y]=4278190080|b*65793}d+=this.dataWidth*is.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/is.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/is.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,o){const l=this.yuvData;for(let c=0,d=this.top*this.dataWidth+this.left;c<o;c++,d+=this.dataWidth){const h=d+s/2;for(let x=d,y=d+s-1;x<h;x++,y--){const b=l[x];l[x]=l[y],l[y]=b}}}invert(){return new te(this)}}is.THUMBNAIL_SCALE_FACTOR=2;class Ch extends Z{constructor(s,o,l,c,d,h,x){if(super(o,l),this.dataWidth=c,this.dataHeight=d,this.left=h,this.top=x,s.BYTES_PER_ELEMENT===4){const y=o*l,b=new Uint8ClampedArray(y);for(let T=0;T<y;T++){const k=s[T],M=k>>16&255,U=k>>7&510,H=k&255;b[T]=(M+U+H)/4&255}this.luminances=b}else this.luminances=s;if(c===void 0&&(this.dataWidth=o),d===void 0&&(this.dataHeight=l),h===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+l>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const c=(s+this.top)*this.dataWidth+this.left;return N.arraycopy(this.luminances,c,o,0,l),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.luminances;const l=s*o,c=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return N.arraycopy(this.luminances,d,c,0,l),c;for(let h=0;h<o;h++){const x=h*s;N.arraycopy(this.luminances,d,c,x,s),d+=this.dataWidth}return c}isCropSupported(){return!0}crop(s,o,l,c){return new Ch(this.luminances,l,c,this.dataWidth,this.dataHeight,this.left+s,this.top+o)}invert(){return new te(this)}}class _g extends D{static forName(s){return this.getCharacterSetECIByName(s)}}class Eh{}Eh.ISO_8859_1=D.ISO8859_1;class Ng{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Tg{static singletonList(s){return[s]}static min(s,o){return s.sort(o)[0]}}class E3{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Yo extends E3{constructor(s,o,l){super(s),this.value=o,this.bitCount=l}appendTo(s,o){s.appendBits(this.value,this.bitCount)}add(s,o){return new Yo(this,s,o)}addBinaryShift(s,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Yo(this,s,o)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+S.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Sh extends Yo{constructor(s,o,l){super(s,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=l}appendTo(s,o){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):l===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(o[this.binaryShiftStart+l],8)}addBinaryShift(s,o){return new Sh(this,s,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function S3(O,s,o){return new Sh(O,s,o)}function Il(O,s,o){return new Yo(O,s,o)}const A3=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ti=0,xu=1,An=2,Ig=3,os=4,_3=new Yo(null,0,0),Ah=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function N3(O){for(let s of O)A.fill(s,-1);return O[ti][os]=0,O[xu][os]=0,O[xu][ti]=28,O[Ig][os]=0,O[An][os]=0,O[An][ti]=15,O}const Rg=N3(A.createInt32Array(6,6));class as{constructor(s,o,l,c){this.token=s,this.mode=o,this.binaryShiftByteCount=l,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,o){let l=this.bitCount,c=this.token;if(s!==this.mode){let h=Ah[this.mode][s];c=Il(c,h&65535,h>>16),l+=h>>16}let d=s===An?4:5;return c=Il(c,o,d),new as(c,s,0,l+d)}shiftAndAppend(s,o){let l=this.token,c=this.mode===An?4:5;return l=Il(l,Rg[this.mode][s],c),l=Il(l,o,5),new as(l,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(s){let o=this.token,l=this.mode,c=this.bitCount;if(this.mode===os||this.mode===An){let x=Ah[l][ti];o=Il(o,x&65535,x>>16),c+=x>>16,l=ti}let d=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new as(o,l,this.binaryShiftByteCount+1,c+d);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(s+1)),h}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=S3(o,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new as(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let o=this.bitCount+(Ah[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?o+=as.calculateBinaryShiftCost(s)-as.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(o+=10),o<=s.bitCount}toBitArray(s){let o=[];for(let c=this.endBinaryShift(s.length).token;c!==null;c=c.getPrevious())o.unshift(c);let l=new j;for(const c of o)c.appendTo(l,s);return l}toString(){return q.format("%s bits=%d bytes=%d",A3[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}as.INITIAL_STATE=new as(_3,ti,0,0);function T3(O){const s=q.getCharCode(" "),o=q.getCharCode("."),l=q.getCharCode(",");O[ti][s]=1;const c=q.getCharCode("Z"),d=q.getCharCode("A");for(let M=d;M<=c;M++)O[ti][M]=M-d+2;O[xu][s]=1;const h=q.getCharCode("z"),x=q.getCharCode("a");for(let M=x;M<=h;M++)O[xu][M]=M-x+2;O[An][s]=1;const y=q.getCharCode("9"),b=q.getCharCode("0");for(let M=b;M<=y;M++)O[An][M]=M-b+2;O[An][l]=12,O[An][o]=13;const T=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let M=0;M<T.length;M++)O[Ig][q.getCharCode(T[M])]=M;const k=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let M=0;M<k.length;M++)q.getCharCode(k[M])>0&&(O[os][q.getCharCode(k[M])]=M);return O}const _h=T3(A.createInt32Array(5,256));class Rl{constructor(s){this.text=s}encode(){const s=q.getCharCode(" "),o=q.getCharCode(`
`);let l=Tg.singletonList(as.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let h,x=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case q.getCharCode("\r"):h=x===o?2:0;break;case q.getCharCode("."):h=x===s?3:0;break;case q.getCharCode(","):h=x===s?4:0;break;case q.getCharCode(":"):h=x===s?5:0;break;default:h=0}h>0?(l=Rl.updateStateListForPair(l,d,h),d++):l=this.updateStateListForChar(l,d)}return Tg.min(l,(d,h)=>d.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,o){const l=[];for(let c of s)this.updateStateForChar(c,o,l);return Rl.simplifyStates(l)}updateStateForChar(s,o,l){let c=this.text[o]&255,d=_h[s.getMode()][c]>0,h=null;for(let x=0;x<=os;x++){let y=_h[x][c];if(y>0){if(h==null&&(h=s.endBinaryShift(o)),!d||x===s.getMode()||x===An){const b=h.latchAndAppend(x,y);l.push(b)}if(!d&&Rg[s.getMode()][x]>=0){const b=h.shiftAndAppend(x,y);l.push(b)}}}if(s.getBinaryShiftByteCount()>0||_h[s.getMode()][c]===0){let x=s.addBinaryShiftChar(o);l.push(x)}}static updateStateListForPair(s,o,l){const c=[];for(let d of s)this.updateStateForPair(d,o,l,c);return this.simplifyStates(c)}static updateStateForPair(s,o,l,c){let d=s.endBinaryShift(o);if(c.push(d.latchAndAppend(os,l)),s.getMode()!==os&&c.push(d.shiftAndAppend(os,l)),l===3||l===4){let h=d.latchAndAppend(An,16-l).latchAndAppend(An,1);c.push(h)}if(s.getBinaryShiftByteCount()>0){let h=s.addBinaryShiftChar(o).addBinaryShiftChar(o+1);c.push(h)}}static simplifyStates(s){let o=[];for(const l of s){let c=!0;for(const d of o){if(d.isBetterThanOrEqualTo(l)){c=!1;break}l.isBetterThanOrEqualTo(d)&&(o=o.filter(h=>h!==d))}c&&o.push(l)}return o}}class ut{constructor(){}static encodeBytes(s){return ut.encode(s,ut.DEFAULT_EC_PERCENT,ut.DEFAULT_AZTEC_LAYERS)}static encode(s,o,l){let c=new Rl(s).encode(),d=S.truncDivision(c.getSize()*o,100)+11,h=c.getSize()+d,x,y,b,T,k;if(l!==ut.DEFAULT_AZTEC_LAYERS){if(x=l<0,y=Math.abs(l),y>(x?ut.MAX_NB_BITS_COMPACT:ut.MAX_NB_BITS))throw new v(q.format("Illegal value %s for layers",l));b=ut.totalBitsInLayer(y,x),T=ut.WORD_SIZE[y];let oe=b-b%T;if(k=ut.stuffBits(c,T),k.getSize()+d>oe)throw new v("Data to large for user specified layer");if(x&&k.getSize()>T*64)throw new v("Data to large for user specified layer")}else{T=0,k=null;for(let oe=0;;oe++){if(oe>ut.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(x=oe<=3,y=x?oe+1:oe,b=ut.totalBitsInLayer(y,x),h>b)continue;(k==null||T!==ut.WORD_SIZE[y])&&(T=ut.WORD_SIZE[y],k=ut.stuffBits(c,T));let it=b-b%T;if(!(x&&k.getSize()>T*64)&&k.getSize()+d<=it)break}}let M=ut.generateCheckWords(k,b,T),U=k.getSize()/T,H=ut.generateModeMessage(x,y,U),G=(x?11:14)+y*4,Y=new Int32Array(G),ee;if(x){ee=G;for(let oe=0;oe<Y.length;oe++)Y[oe]=oe}else{ee=G+1+2*S.truncDivision(S.truncDivision(G,2)-1,15);let oe=S.truncDivision(G,2),it=S.truncDivision(ee,2);for(let Ge=0;Ge<oe;Ge++){let Kr=Ge+S.truncDivision(Ge,15);Y[oe-Ge-1]=it-Kr-1,Y[oe+Ge]=it+Kr+1}}let le=new ne(ee);for(let oe=0,it=0;oe<y;oe++){let Ge=(y-oe)*4+(x?9:12);for(let Kr=0;Kr<Ge;Kr++){let Fn=Kr*2;for(let Qr=0;Qr<2;Qr++)M.get(it+Fn+Qr)&&le.set(Y[oe*2+Qr],Y[oe*2+Kr]),M.get(it+Ge*2+Fn+Qr)&&le.set(Y[oe*2+Kr],Y[G-1-oe*2-Qr]),M.get(it+Ge*4+Fn+Qr)&&le.set(Y[G-1-oe*2-Qr],Y[G-1-oe*2-Kr]),M.get(it+Ge*6+Fn+Qr)&&le.set(Y[G-1-oe*2-Kr],Y[oe*2+Qr])}it+=Ge*8}if(ut.drawModeMessage(le,x,ee,H),x)ut.drawBullsEye(le,S.truncDivision(ee,2),5);else{ut.drawBullsEye(le,S.truncDivision(ee,2),7);for(let oe=0,it=0;oe<S.truncDivision(G,2)-1;oe+=15,it+=16)for(let Ge=S.truncDivision(ee,2)&1;Ge<ee;Ge+=2)le.set(S.truncDivision(ee,2)-it,Ge),le.set(S.truncDivision(ee,2)+it,Ge),le.set(Ge,S.truncDivision(ee,2)-it),le.set(Ge,S.truncDivision(ee,2)+it)}let ce=new Ng;return ce.setCompact(x),ce.setSize(ee),ce.setLayers(y),ce.setCodeWords(U),ce.setMatrix(le),ce}static drawBullsEye(s,o,l){for(let c=0;c<l;c+=2)for(let d=o-c;d<=o+c;d++)s.set(d,o-c),s.set(d,o+c),s.set(o-c,d),s.set(o+c,d);s.set(o-l,o-l),s.set(o-l+1,o-l),s.set(o-l,o-l+1),s.set(o+l,o-l),s.set(o+l,o-l+1),s.set(o+l,o+l-1)}static generateModeMessage(s,o,l){let c=new j;return s?(c.appendBits(o-1,2),c.appendBits(l-1,6),c=ut.generateCheckWords(c,28,4)):(c.appendBits(o-1,5),c.appendBits(l-1,11),c=ut.generateCheckWords(c,40,4)),c}static drawModeMessage(s,o,l,c){let d=S.truncDivision(l,2);if(o)for(let h=0;h<7;h++){let x=d-3+h;c.get(h)&&s.set(x,d-5),c.get(h+7)&&s.set(d+5,x),c.get(20-h)&&s.set(x,d+5),c.get(27-h)&&s.set(d-5,x)}else for(let h=0;h<10;h++){let x=d-5+h+S.truncDivision(h,5);c.get(h)&&s.set(x,d-7),c.get(h+10)&&s.set(d+7,x),c.get(29-h)&&s.set(x,d+7),c.get(39-h)&&s.set(d-7,x)}}static generateCheckWords(s,o,l){let c=s.getSize()/l,d=new bh(ut.getGF(l)),h=S.truncDivision(o,l),x=ut.bitsToWords(s,l,h);d.encode(x,h-c);let y=o%l,b=new j;b.appendBits(0,y);for(const T of Array.from(x))b.appendBits(T,l);return b}static bitsToWords(s,o,l){let c=new Int32Array(l),d,h;for(d=0,h=s.getSize()/o;d<h;d++){let x=0;for(let y=0;y<o;y++)x|=s.get(d*o+y)?1<<o-y-1:0;c[d]=x}return c}static getGF(s){switch(s){case 4:return Ae.AZTEC_PARAM;case 6:return Ae.AZTEC_DATA_6;case 8:return Ae.AZTEC_DATA_8;case 10:return Ae.AZTEC_DATA_10;case 12:return Ae.AZTEC_DATA_12;default:throw new v("Unsupported word size "+s)}}static stuffBits(s,o){let l=new j,c=s.getSize(),d=(1<<o)-2;for(let h=0;h<c;h+=o){let x=0;for(let y=0;y<o;y++)(h+y>=c||s.get(h+y))&&(x|=1<<o-1-y);(x&d)===d?(l.appendBits(x&d,o),h--):x&d?l.appendBits(x,o):(l.appendBits(x|1,o),h--)}return l}static totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}ut.DEFAULT_EC_PERCENT=33,ut.DEFAULT_AZTEC_LAYERS=0,ut.MAX_NB_BITS=32,ut.MAX_NB_BITS_COMPACT=4,ut.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class wu{encode(s,o,l,c){return this.encodeWithHints(s,o,l,c,null)}encodeWithHints(s,o,l,c,d){let h=Eh.ISO_8859_1,x=ut.DEFAULT_EC_PERCENT,y=ut.DEFAULT_AZTEC_LAYERS;return d!=null&&(d.has(or.CHARACTER_SET)&&(h=_g.forName(d.get(or.CHARACTER_SET).toString())),d.has(or.ERROR_CORRECTION)&&(x=S.parseInt(d.get(or.ERROR_CORRECTION).toString())),d.has(or.AZTEC_LAYERS)&&(y=S.parseInt(d.get(or.AZTEC_LAYERS).toString()))),wu.encodeLayers(s,o,l,c,h,x,y)}static encodeLayers(s,o,l,c,d,h,x){if(o!==de.AZTEC)throw new v("Can only encode AZTEC, but got "+o);let y=ut.encode(q.getBytes(s,d),h,x);return wu.renderResult(y,l,c)}static renderResult(s,o,l){let c=s.getMatrix();if(c==null)throw new We;let d=c.getWidth(),h=c.getHeight(),x=Math.max(o,d),y=Math.max(l,h),b=Math.min(x/d,y/h),T=(x-d*b)/2,k=(y-h*b)/2,M=new ne(x,y);for(let U=0,H=k;U<h;U++,H+=b)for(let G=0,Y=T;G<d;G++,Y+=b)c.get(G,U)&&M.setRegion(Y,H,b,b);return M}}r.AbstractExpandedDecoder=dh,r.ArgumentException=w,r.ArithmeticException=Ie,r.AztecCode=Ng,r.AztecCodeReader=Mn,r.AztecCodeWriter=wu,r.AztecDecoder=Te,r.AztecDetector=bl,r.AztecDetectorResult=Ys,r.AztecEncoder=ut,r.AztecHighLevelEncoder=Rl,r.AztecPoint=nr,r.BarcodeFormat=de,r.Binarizer=R,r.BinaryBitmap=E,r.BitArray=j,r.BitMatrix=ne,r.BitSource=ph,r.BrowserAztecCodeReader=bn,r.BrowserBarcodeReader=i3,r.BrowserCodeReader=we,r.BrowserDatamatrixCodeReader=a3,r.BrowserMultiFormatReader=w3,r.BrowserPDF417Reader=y3,r.BrowserQRCodeReader=v3,r.BrowserQRCodeSvgWriter=so,r.CharacterSetECI=D,r.ChecksumException=_,r.Code128Reader=me,r.Code39Reader=sr,r.DataMatrixDecodedBitStreamParser=Qs,r.DataMatrixReader=Zs,r.DecodeHintType=V,r.DecoderResult=je,r.DefaultGridSampler=vr,r.DetectorResult=Lr,r.EAN13Reader=Ji,r.EncodeHintType=or,r.Exception=p,r.FormatException=F,r.GenericGF=Ae,r.GenericGFPoly=pe,r.GlobalHistogramBinarizer=fe,r.GridSampler=Gr,r.GridSamplerInstance=fr,r.HTMLCanvasElementLuminanceSource=he,r.HybridBinarizer=re,r.ITFReader=Et,r.IllegalArgumentException=v,r.IllegalStateException=We,r.InvertedLuminanceSource=te,r.LuminanceSource=Z,r.MathUtils=_e,r.MultiFormatOneDReader=Go,r.MultiFormatReader=Ag,r.MultiFormatWriter=C3,r.NotFoundException=X,r.OneDReader=Tt,r.PDF417DecodedBitStreamParser=J,r.PDF417DecoderErrorCorrection=yg,r.PDF417Reader=Cr,r.PDF417ResultMetadata=bg,r.PerspectiveTransform=gt,r.PlanarYUVLuminanceSource=is,r.QRCodeByteMatrix=gu,r.QRCodeDataMask=En,r.QRCodeDecodedBitStreamParser=Ut,r.QRCodeDecoderErrorCorrectionLevel=It,r.QRCodeDecoderFormatInformation=Or,r.QRCodeEncoder=kt,r.QRCodeEncoderQRCode=no,r.QRCodeMaskUtil=qt,r.QRCodeMatrixUtil=Le,r.QRCodeMode=De,r.QRCodeReader=Js,r.QRCodeVersion=Re,r.QRCodeWriter=Xo,r.RGBLuminanceSource=Ch,r.RSS14Reader=Gt,r.RSSExpandedReader=ie,r.ReaderException=pu,r.ReedSolomonDecoder=Ue,r.ReedSolomonEncoder=bh,r.ReedSolomonException=$e,r.Result=ke,r.ResultMetadataType=xe,r.ResultPoint=ve,r.StringUtils=q,r.UnsupportedOperationException=W,r.VideoInputDevice=ue,r.WhiteRectangleDetector=Nt,r.WriterException=St,r.ZXingArrays=A,r.ZXingCharset=_g,r.ZXingInteger=S,r.ZXingStandardCharsets=Eh,r.ZXingStringBuilder=se,r.ZXingStringEncoding=Q,r.ZXingSystem=N,r.createAbstractExpandedDecoder=xg,Object.defineProperty(r,"__esModule",{value:!0})})})(am,am.exports);var Dt=am.exports;const hM=mf(Dt),mM=Ry({__proto__:null,default:hM},[Dt]);var fy=function(){function e(t,r,n){if(this.formatMap=new Map([[Ce.QR_CODE,Dt.BarcodeFormat.QR_CODE],[Ce.AZTEC,Dt.BarcodeFormat.AZTEC],[Ce.CODABAR,Dt.BarcodeFormat.CODABAR],[Ce.CODE_39,Dt.BarcodeFormat.CODE_39],[Ce.CODE_93,Dt.BarcodeFormat.CODE_93],[Ce.CODE_128,Dt.BarcodeFormat.CODE_128],[Ce.DATA_MATRIX,Dt.BarcodeFormat.DATA_MATRIX],[Ce.MAXICODE,Dt.BarcodeFormat.MAXICODE],[Ce.ITF,Dt.BarcodeFormat.ITF],[Ce.EAN_13,Dt.BarcodeFormat.EAN_13],[Ce.EAN_8,Dt.BarcodeFormat.EAN_8],[Ce.PDF_417,Dt.BarcodeFormat.PDF_417],[Ce.RSS_14,Dt.BarcodeFormat.RSS_14],[Ce.RSS_EXPANDED,Dt.BarcodeFormat.RSS_EXPANDED],[Ce.UPC_A,Dt.BarcodeFormat.UPC_A],[Ce.UPC_E,Dt.BarcodeFormat.UPC_E],[Ce.UPC_EAN_EXTENSION,Dt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!mM)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),a=new Map;a.set(Dt.DecodeHintType.POSSIBLE_FORMATS,i),a.set(Dt.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var r=new Dt.MultiFormatReader(this.verbose,this.hints),n=new Dt.HTMLCanvasElementLuminanceSource(t),i=new Dt.BinaryBitmap(new Dt.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:dA.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),pM=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function m(w){try{p(n.next(w))}catch(v){u(v)}}function g(w){try{p(n.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((n=n.apply(e,t||[])).next())})},gM=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function m(p){return function(w){return g([p,w])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(w){p=[6,w],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},hy=function(){function e(t,r,n){if(this.formatMap=new Map([[Ce.QR_CODE,"qr_code"],[Ce.AZTEC,"aztec"],[Ce.CODABAR,"codabar"],[Ce.CODE_39,"code_39"],[Ce.CODE_93,"code_93"],[Ce.CODE_128,"code_128"],[Ce.DATA_MATRIX,"data_matrix"],[Ce.ITF,"itf"],[Ce.EAN_13,"ean_13"],[Ce.EAN_8,"ean_8"],[Ce.PDF_417,"pdf417"],[Ce.UPC_A,"upc_a"],[Ce.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return pM(this,void 0,void 0,function(){var r,n;return gM(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:dA.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,a=t;i<a.length;i++){var u=a[i],m=u.boundingBox.width*u.boundingBox.height;m>n&&(n=m,r=u)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),my=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function m(w){try{p(n.next(w))}catch(v){u(v)}}function g(w){try{p(n.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((n=n.apply(e,t||[])).next())})},py=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function m(p){return function(w){return g([p,w])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(w){p=[6,w],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},xM=function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&hy.isSupported()?(this.primaryDecoder=new hy(t,n,i),this.secondaryDecoder=new fy(t,n,i)):this.primaryDecoder=new fy(t,n,i)}return e.prototype.decodeAsync=function(t){return my(this,void 0,void 0,function(){var r;return py(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return my(this,void 0,void 0,function(){var r,n;return py(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),sg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ff=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function m(w){try{p(n.next(w))}catch(v){u(v)}}function g(w){try{p(n.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((n=n.apply(e,t||[])).next())})},hf=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function m(p){return function(w){return g([p,w])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(w){p=[6,w],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},hA=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),wM=function(e){sg(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(hA),yM=function(e){sg(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(wM),vM=function(e){sg(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(hA),bM=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new yM(this.track)},e.prototype.torchFeature=function(){return new vM(this.track)},e}(),CM=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return ff(this,void 0,void 0,function(){var a,u;return hf(this,function(m){switch(m.label){case 0:return a=new e(t,r,i),n.aspectRatio?(u={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(u)]):[3,2];case 1:m.sent(),m.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return ff(this,void 0,void 0,function(){return hf(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),a=i.length,u=0;t.mediaStream.getVideoTracks().forEach(function(m){t.mediaStream.removeTrack(m),m.stop(),++u,u>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new bM(this.getFirstTrackOrFail())},e}(),EM=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return ff(this,void 0,void 0,function(){return hf(this,function(i){return[2,CM.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return ff(this,void 0,void 0,function(){var r,n;return hf(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e}(),gy=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function m(w){try{p(n.next(w))}catch(v){u(v)}}function g(w){try{p(n.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((n=n.apply(e,t||[])).next())})},xy=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function m(p){return function(w){return g([p,w])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(w){p=[6,w],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},SM=function(){function e(){}return e.failIfNotSupported=function(){return gy(this,void 0,void 0,function(){return xy(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return gy(this,void 0,void 0,function(){return xy(this,function(r){return[2,EM.create(t)]})})},e}(),AM=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function m(w){try{p(n.next(w))}catch(v){u(v)}}function g(w){try{p(n.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((n=n.apply(e,t||[])).next())})},_M=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function m(p){return function(w){return g([p,w])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(w){p=[6,w],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},NM=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=va.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=va.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return AM(this,void 0,void 0,function(){var t,r,n,i,a,u,m;return _M(this,function(g){switch(g.label){case 0:return t=function(p){for(var w=p.getVideoTracks(),v=0,E=w;v<E.length;v++){var _=E[v];_.enabled=!1,_.stop(),p.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=g.sent(),i=[],a=0,u=n;a<u.length;a++)m=u[a],m.kind==="videoinput"&&i.push({id:m.deviceId,label:m.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var u=[],m=0,g=a;m<g.length;m++){var p=g[m];p.kind==="video"&&u.push({id:p.id,label:p.label})}t(u)},i=MediaStreamTrack;i.getSources(n)})},e}(),zt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(zt||(zt={}));var TM=function(){function e(){this.state=zt.NOT_STARTED,this.onGoingTransactionNewState=zt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===zt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=zt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===zt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=zt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==zt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case zt.UNKNOWN:throw"Transition from unknown is not allowed";case zt.NOT_STARTED:this.failIfNewStateIs(t,[zt.PAUSED]);break;case zt.SCANNING:break;case zt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),IM=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===zt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==zt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===zt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===zt.PAUSED},e}(),RM=function(){function e(){}return e.create=function(){return new IM(new TM)},e}(),OM=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cn=function(e){OM(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(uM),kM=function(){function e(t,r){this.logger=r,this.fps=cn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=cn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?fA.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Rs(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),PM=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new fM(this.verbose),this.qrcode=new xM(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=RM.create()}return e.prototype.start=function(t,r,n,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var u;i?u=i:u=this.verbose?this.logger.log:function(){};var m=kM.create(r,this.logger);this.clearElement();var g=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=g,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:cn.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var v=this,E=this.stateManagerProxy.startTransition(zt.SCANNING);return new Promise(function(_,R){var N=p?m.videoConstraints:v.createVideoConstraints(t);if(!N){E.cancel(),R("videoConstraints should be defined");return}var P={};(!p||m.aspectRatio)&&(P.aspectRatio=m.aspectRatio);var I={onRenderSurfaceReady:function(A,S){v.setupUi(A,S,m),v.isScanning=!0,v.foreverScan(m,n,u)}};SM.failIfNotSupported().then(function(A){A.create(N).then(function(S){return S.render(a.element,P,I).then(function(j){v.renderedCamera=j,E.execute(),_(null)}).catch(function(j){E.cancel(),R(j)})}).catch(function(S){E.cancel(),R(va.errorGettingUserMedia(S))})}).catch(function(A){E.cancel(),R(va.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(zt.PAUSED),this.showPausedState(),(Rs(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(zt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(zt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(cn.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Rs(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var u=new Image;u.onload=function(){var m=u.width,g=u.height,p=document.getElementById(n.elementId),w=p.clientWidth?p.clientWidth:cn.DEFAULT_WIDTH,v=Math.max(p.clientHeight?p.clientHeight:g,cn.FILE_SCAN_MIN_HEIGHT),E=n.computeCanvasDrawConfig(m,g,w,v);if(r){var _=n.createCanvasElement(w,v,"qr-canvas-visible");_.style.display="inline-block",p.appendChild(_);var R=_.getContext("2d");if(!R)throw"Unable to get 2d context from canvas";R.canvas.width=w,R.canvas.height=v,R.drawImage(u,0,0,m,g,E.x,E.y,E.width,E.height)}var N=cn.FILE_SCAN_HIDDEN_CANVAS_PADDING,P=Math.max(u.width,E.width),I=Math.max(u.height,E.height),A=P+2*N,S=I+2*N,j=n.createCanvasElement(A,S);p.appendChild(j);var z=j.getContext("2d");if(!z)throw"Unable to get 2d context from canvas";z.canvas.width=A,z.canvas.height=S,z.drawImage(u,0,0,m,g,N,N,P,I);try{n.qrcode.decodeRobustlyAsync(j).then(function(V){i(dy.createFromQrcodeResult(V))}).catch(a)}catch(V){a("QR code parse error, error = ".concat(V))}},u.onerror=a,u.onabort=a,u.onstalled=a,u.onsuspend=a,u.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return NM.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!fA.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Ce.QR_CODE,Ce.AZTEC,Ce.CODABAR,Ce.CODE_39,Ce.CODE_93,Ce.CODE_128,Ce.DATA_MATRIX,Ce.MAXICODE,Ce.ITF,Ce.EAN_13,Ce.EAN_8,Ce.PDF_417,Ce.RSS_14,Ce.RSS_EXPANDED,Ce.UPC_A,Ce.UPC_E,Ce.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=t.formatsToSupport;i<a.length;i++){var u=a[i];cM(u)?n.push(u):this.logger.warn("Invalid format: ".concat(u," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Rs(t))return!0;if(!Rs(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Rs(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return Rs(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var u=this.toQrdimensions(t,r,a),m=function(p){if(p<cn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(cn.MIN_QR_BOX_SIZE,"px.")},g=function(p){return p>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};m(u.width),m(u.height),u.width=g(u.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=Rs(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var u=n.isShadedBoxEnabled()&&a.height<=r,m={x:0,y:0,width:t,height:r},g=u?this.getShadedRegionBounds(t,r,a):m,p=this.createCanvasElement(g.width,g.height),w={willReadFrequently:!0},v=p.getContext("2d",w);v.canvas.width=g.width,v.canvas.height=g.height,this.element.append(p),u&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=v,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=va.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,dy.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=va.codeParseError(i);return r(a,dM.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),u=a.videoWidth/a.clientWidth,m=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*u,p=this.qrRegion.height*m,w=this.qrRegion.x*u,v=this.qrRegion.y*m;this.context.drawImage(a,w,v,g,p,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(_){!_&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){E()})):E()}).catch(function(_){i.logger.logError("Error happend while scanning context",_),E()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",u=function(R){if(R in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(R,"'")},m=Object.keys(t);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var g=Object.keys(t)[0];if(g!==r&&g!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(g===r){var p=t.facingMode;if(typeof p=="string"){if(u(p))return{facingMode:p}}else if(typeof p=="object")if(a in p){if(u(p["".concat(a)]))return{facingMode:{exact:p["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var w=typeof p;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(a in v)return{deviceId:{exact:v["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var E=typeof v;throw"Invalid type of 'deviceId' = ".concat(E)}}}var _=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var a=(n-t)/2,u=(i-r)/2;return{x:a,y:u,width:t,height:r}}else{var m=t,g=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(g)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?cn.BORDER_SHADER_MATCH_COLOR:cn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,a=r,u=document.createElement("canvas");return u.style.width="".concat(i,"px"),u.style.height="".concat(a,"px"),u.style.display="none",u.id=Rs(n)?"qr-canvas":n,u},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var u=(r-i.width)/2,m=(n-i.height)/2;if(a.style.borderLeft="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(cn.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var g=5,p=40;this.insertShaderBorders(a,p,g,-g,null,0,!0),this.insertShaderBorders(a,p,g,-g,null,0,!1),this.insertShaderBorders(a,p,g,null,-g,0,!0),this.insertShaderBorders(a,p,g,null,-g,0,!1),this.insertShaderBorders(a,g,p+g,-g,null,-g,!0),this.insertShaderBorders(a,g,p+g,null,-g,-g,!0),this.insertShaderBorders(a,g,p+g,-g,null,-g,!1),this.insertShaderBorders(a,g,p+g,null,-g,-g,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,i,a,u,m){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=cn.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(r,"px"),g.style.height="".concat(n,"px"),i!==null&&(g.style.top="".concat(i,"px")),a!==null&&(g.style.bottom="".concat(a,"px")),m?g.style.left="".concat(u,"px"):g.style.right="".concat(u,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),t.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),wy;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(wy||(wy={}));function jM({isOpen:e,onClose:t,onScan:r}){const n=C.useRef(null),i="html5qr-code-full-region",[a,u]=C.useState(null),m=async()=>{if(!n.current)try{n.current=new PM(i),await n.current.start({facingMode:"environment"},{fps:10},p=>{r(p),g(),t()},p=>{})}catch(p){console.error(p),u("Não foi possível acessar a câmera.")}},g=async()=>{var p,w,v;((p=n.current)==null?void 0:p.getState())===zt.SCANNING&&await((w=n.current)==null?void 0:w.stop()),(v=n.current)==null||v.clear(),n.current=null};return C.useEffect(()=>{let p;const w=()=>{document.getElementById(i)?m():p=requestAnimationFrame(w)};return e?w():g(),()=>{cancelAnimationFrame(p),g()}},[e]),f.jsx(iu,{open:e,onOpenChange:t,children:f.jsxs(xl,{className:"max-w-md",children:[f.jsxs(ou,{children:[f.jsxs(au,{className:"flex items-center gap-2",children:[f.jsx(Hb,{className:"h-5 w-5"}),"Escanear Código"]}),f.jsx(Kf,{children:"Suporta QR code e códigos de barras comuns."})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{id:i,className:"relative aspect-square bg-black rounded-lg overflow-hidden"}),a&&f.jsx("p",{className:"text-sm text-red-600 bg-red-50 p-3 rounded",children:a}),f.jsxs(Ne,{variant:"outline",onClick:()=>{g(),t()},className:"w-full flex items-center justify-center gap-2",children:[f.jsx(hl,{className:"h-4 w-4"}),"Fechar"]})]})]})})}function DM(){const{profile:e,company:t}=er(),{isMobileOrTablet:r,isDesktop:n}=zE(),i=C.useContext(ME),[a,u]=C.useState(""),[m,g]=C.useState("all"),[p,w]=C.useState("all"),[v,E]=C.useState(!1),{assets:_,loading:R,loadingMore:N,hasMore:P,loadMore:I,locations:A}=T5({search:a,statusFilter:m,locationFilter:p}),{exportLoading:S,exportToCSV:j}=R5(),{showScrollToTop:z,scrollToTop:V}=O5(i==null?void 0:i.current),F=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="editor",L=W=>{u(W)},D=()=>{j({search:a,statusFilter:m,locationFilter:p,companyName:t.name})};return f.jsxs("div",{id:"assets-scroll-container",className:"space-y-6 pb-10 overflow-y-auto",children:[S&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",children:f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600"})}),f.jsx(RD,{canEdit:F,isMobileOrTablet:r,isDesktop:n,loading:R,exportLoading:S,onScannerOpen:()=>E(!0),onExportCSV:D}),f.jsx(iM,{search:a,statusFilter:m,locationFilter:p,locations:A,onSearchChange:u,onStatusFilterChange:g,onLocationFilterChange:w}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:f.jsx(lM,{assets:_,loading:R,loadingMore:N,hasMore:P,canEdit:F,isDesktop:n,onLoadMore:I})}),z&&f.jsx(Ne,{onClick:V,className:"fixed bottom-6 right-6 z-50 rounded-full w-12 h-12 shadow-lg hover:shadow-xl transition-all duration-200",size:"icon",children:f.jsx(k8,{className:"h-5 w-5"})}),f.jsx(jM,{isOpen:v,onClose:()=>E(!1),onScan:L})]})}var mA="AlertDialog",[MM,o9]=Yi(mA,[qC]),Xs=qC(),pA=e=>{const{__scopeAlertDialog:t,...r}=e,n=Xs(t);return f.jsx(Dp,{...n,...r,modal:!0})};pA.displayName=mA;var LM="AlertDialogTrigger",gA=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Xs(r);return f.jsx(Mp,{...i,...n,ref:t})});gA.displayName=LM;var FM="AlertDialogPortal",xA=e=>{const{__scopeAlertDialog:t,...r}=e,n=Xs(t);return f.jsx(Lp,{...n,...r})};xA.displayName=FM;var BM="AlertDialogOverlay",wA=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Xs(r);return f.jsx(Jc,{...i,...n,ref:t})});wA.displayName=BM;var ja="AlertDialogContent",[UM,zM]=MM(ja),yA=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,a=Xs(r),u=C.useRef(null),m=ct(t,u),g=C.useRef(null);return f.jsx(XO,{contentName:ja,titleName:vA,docsSlug:"alert-dialog",children:f.jsx(UM,{scope:r,cancelRef:g,children:f.jsxs(eu,{role:"alertdialog",...a,...i,ref:m,onOpenAutoFocus:Me(i.onOpenAutoFocus,p=>{var w;p.preventDefault(),(w=g.current)==null||w.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[f.jsx(up,{children:n}),f.jsx(WM,{contentRef:u})]})})})});yA.displayName=ja;var vA="AlertDialogTitle",bA=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Xs(r);return f.jsx(tu,{...i,...n,ref:t})});bA.displayName=vA;var CA="AlertDialogDescription",EA=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Xs(r);return f.jsx(ru,{...i,...n,ref:t})});EA.displayName=CA;var VM="AlertDialogAction",SA=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Xs(r);return f.jsx($f,{...i,...n,ref:t})});SA.displayName=VM;var AA="AlertDialogCancel",_A=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=zM(AA,r),a=Xs(r),u=ct(t,i);return f.jsx($f,{...a,...n,ref:u})});_A.displayName=AA;var WM=({contentRef:e})=>{const t=`\`${ja}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ja}\` by passing a \`${CA}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ja}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return C.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},HM=pA,$M=gA,GM=xA,NA=wA,TA=yA,IA=SA,RA=_A,OA=bA,kA=EA;const PA=HM,jA=$M,qM=GM,DA=C.forwardRef(({className:e,...t},r)=>f.jsx(NA,{className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));DA.displayName=NA.displayName;const ig=C.forwardRef(({className:e,...t},r)=>f.jsxs(qM,{children:[f.jsx(DA,{}),f.jsx(TA,{ref:r,className:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));ig.displayName=TA.displayName;const og=({className:e,...t})=>f.jsx("div",{className:Oe("flex flex-col space-y-2 text-center sm:text-left",e),...t});og.displayName="AlertDialogHeader";const ag=({className:e,...t})=>f.jsx("div",{className:Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ag.displayName="AlertDialogFooter";const lg=C.forwardRef(({className:e,...t},r)=>f.jsx(OA,{ref:r,className:Oe("text-lg font-semibold",e),...t}));lg.displayName=OA.displayName;const cg=C.forwardRef(({className:e,...t},r)=>f.jsx(kA,{ref:r,className:Oe("text-sm text-muted-foreground",e),...t}));cg.displayName=kA.displayName;const ug=C.forwardRef(({className:e,...t},r)=>f.jsx(IA,{ref:r,className:Oe(Tp(),e),...t}));ug.displayName=IA.displayName;const dg=C.forwardRef(({className:e,...t},r)=>f.jsx(RA,{ref:r,className:Oe(Tp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));dg.displayName=RA.displayName;function XM(){const{id:e}=db(),t=Ir(),{profile:r}=er(),{toast:n}=yr(),i=Es(),{data:a,isLoading:u}=Ws({queryKey:["asset",e],queryFn:async()=>{if(!e)throw new Error("Asset ID is required");const{data:_,error:R}=await Ve.from("assets").select("*").eq("id",e).single();if(R)throw R;return _},enabled:!!e}),m=bs({mutationFn:async()=>{if(!e)throw new Error("Asset ID is required");const{error:_}=await Ve.from("assets").delete().eq("id",e);if(_)throw _},onSuccess:()=>{i.invalidateQueries({queryKey:["assets"]}),i.invalidateQueries({queryKey:["dashboard-stats"]}),i.invalidateQueries({queryKey:["recent-assets"]}),n({title:"Ativo deletado com sucesso!",description:"O ativo foi removido do sistema"}),t("/assets")},onError:_=>{n({title:"Erro ao deletar ativo",description:_.message||"Erro ao deletar o ativo",variant:"destructive"})}}),g=()=>{m.mutate()},p=_=>{const R={ativo:"bg-green-100 text-green-800",manutenção:"bg-yellow-100 text-yellow-800",baixado:"bg-red-100 text-red-800"};return f.jsx(Jt,{className:R[_],children:_.toLocaleUpperCase()})},w=_=>{switch(_){case"ativo":return f.jsx(Ct,{className:"h-5 w-5 text-green-600"});case"manutenção":return f.jsx(kc,{className:"h-5 w-5 text-yellow-600"});case"baixado":return f.jsx(Ct,{className:"h-5 w-5 text-red-600"});default:return f.jsx(Ct,{className:"h-5 w-5 text-gray-600"})}},v=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="editor",E=(r==null?void 0:r.role)==="admin";return u?f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"flex items-center space-x-4",children:f.jsxs(Ne,{variant:"ghost",onClick:()=>t("/assets"),children:[f.jsx(So,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),f.jsx("div",{className:"animate-pulse max-w-4xl",children:f.jsx(Ke,{className:"border-0 shadow-md",children:f.jsxs(et,{className:"p-8",children:[f.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),f.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-8"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsx("div",{className:"space-y-4",children:Array.from({length:4}).map((_,R)=>f.jsx("div",{className:"h-12 bg-gray-200 rounded"},R))}),f.jsx("div",{className:"space-y-4",children:Array.from({length:4}).map((_,R)=>f.jsx("div",{className:"h-12 bg-gray-200 rounded"},R))})]})]})})})]}):a?f.jsxs("div",{className:"space-y-6 max-w-6xl pb-10",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs(Ne,{variant:"ghost",onClick:()=>t("/assets"),children:[f.jsx(So,{className:"h-4 w-4 mr-2"}),"Voltar"]}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:a.name}),f.jsx("p",{className:"mt-2 text-gray-600",children:"Detalhes do ativo"})]})]}),v&&f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Ne,{asChild:!0,children:f.jsxs(kn,{to:`/assets/${a.id}/edit`,children:[f.jsx(Qb,{className:"h-4 w-4 mr-2"}),"Editar"]})}),E&&f.jsxs(PA,{children:[f.jsx(jA,{asChild:!0,children:f.jsx(Ne,{variant:"destructive",size:"default",className:"flex items-center justify-center",children:f.jsx(Zb,{className:"h-4 w-4"})})}),f.jsxs(ig,{children:[f.jsxs(og,{children:[f.jsx(lg,{children:"Confirmar exclusão"}),f.jsxs(cg,{children:['Tem certeza que deseja apagar o ativo "',a.name,'"? Esta ação não pode ser desfeita e todos os dados do ativo serão perdidos permanentemente.']})]}),f.jsxs(ag,{children:[f.jsx(dg,{children:"Cancelar"}),f.jsx(ug,{onClick:g,className:"bg-red-600 hover:bg-red-700",disabled:m.isPending,children:m.isPending?"Deletando...":"Apagar Ativo"})]})]})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[f.jsxs(Ke,{className:"border-0 shadow-md",children:[f.jsx(pt,{children:f.jsxs(mt,{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[w(a.status),f.jsx("span",{className:"ml-3",children:"Informações Básicas"})]}),p(a.status)]})}),f.jsxs(et,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(fw,{className:"h-5 w-5 text-gray-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Código"}),f.jsx("p",{className:"text-lg text-gray-900",children:a.code})]})]}),a.serial_number&&f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(fw,{className:"h-5 w-5 text-gray-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Número de Série"}),f.jsx("p",{className:"text-lg text-gray-900",children:a.serial_number})]})]}),a.location&&f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(vp,{className:"h-5 w-5 text-gray-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Localização"}),f.jsx("p",{className:"text-lg text-gray-900",children:a.location})]})]}),a.holder&&f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(H8,{className:"h-5 w-5 text-gray-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Detentor"}),f.jsx("p",{className:"text-lg text-gray-900",children:a.holder})]})]})]})]}),(a.manufacturer||a.model||a.color||a.capacity||a.voltage||a.condition)&&f.jsxs(Ke,{className:"border-0 shadow-md",children:[f.jsx(pt,{children:f.jsxs(mt,{className:"flex items-center",children:[f.jsx(dw,{className:"h-5 w-5 mr-3 text-blue-600"}),"Especificações Técnicas"]})}),f.jsxs(et,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.manufacturer&&f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(Ct,{className:"h-5 w-5 text-gray-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Fabricante"}),f.jsx("p",{className:"text-lg text-gray-900",children:a.manufacturer})]})]}),a.model&&f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(Ct,{className:"h-5 w-5 text-gray-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Modelo"}),f.jsx("p",{className:"text-lg text-gray-900",children:a.model})]})]}),a.color&&f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(z8,{className:"h-5 w-5 text-gray-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Cor"}),f.jsx("p",{className:"text-lg text-gray-900",children:a.color})]})]}),a.capacity&&f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(dw,{className:"h-5 w-5 text-gray-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Capacidade"}),f.jsx("p",{className:"text-lg text-gray-900",children:a.capacity})]})]}),a.voltage&&f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(G8,{className:"h-5 w-5 text-gray-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Voltagem"}),f.jsx("p",{className:"text-lg text-gray-900",children:a.voltage})]})]}),a.condition&&f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(Ct,{className:"h-5 w-5 text-gray-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Condições"}),f.jsx("p",{className:"text-lg text-gray-900",children:a.condition})]})]})]})]}),a.notes&&f.jsxs(Ke,{className:"border-0 shadow-md",children:[f.jsx(pt,{children:f.jsxs(mt,{className:"flex items-center",children:[f.jsx(Df,{className:"h-5 w-5 mr-3 text-blue-600"}),"Observações"]})}),f.jsx(et,{children:f.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:a.notes})})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs(Ke,{className:"border-0 shadow-md",children:[f.jsx(pt,{children:f.jsxs(mt,{className:"flex items-center",children:[f.jsx(xp,{className:"h-5 w-5 mr-3 text-green-600"}),"Informações Financeiras"]})}),f.jsxs(et,{className:"space-y-4",children:[a.value&&f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor"}),f.jsx("p",{className:"text-2xl font-semibold text-green-700",children:qd(a.value)})]}),a.origin&&f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Origem"}),f.jsx("p",{className:"text-lg text-gray-900 capitalize",children:a.origin})]}),a.inalienable&&f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(kc,{className:"h-5 w-5 text-orange-500"}),f.jsx("span",{className:"text-sm font-medium text-orange-700",children:"Inalienável"})]})]})]}),f.jsxs(Ke,{className:"border-0 shadow-md",children:[f.jsx(pt,{children:f.jsxs(mt,{className:"flex items-center",children:[f.jsx(pp,{className:"h-5 w-5 mr-3 text-blue-600"}),"Datas"]})}),f.jsxs(et,{className:"space-y-4",children:[a.acquisition_date&&f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Data de Aquisição"}),f.jsx("p",{className:"text-lg text-gray-900",children:ka(new Date(a.acquisition_date+"T00:00:00"),"dd/MM/yyyy",{locale:_o})})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Adicionado em"}),f.jsx("p",{className:"text-lg text-gray-900",children:ka(new Date(a.created_at),"dd/MM/yyyy HH:mm",{locale:_o})})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Última atualização"}),f.jsx("p",{className:"text-lg text-gray-900",children:ka(new Date(a.updated_at),"dd/MM/yyyy HH:mm",{locale:_o})})]}),a.updated_by_user_name&&f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Modificado por"}),f.jsx("p",{className:"text-sm text-gray-900",children:a.updated_by_user_name})]})]})]})]})]})]}):f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"flex items-center space-x-4",children:f.jsxs(Ne,{variant:"ghost",onClick:()=>t("/assets"),children:[f.jsx(So,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),f.jsx(Ke,{className:"border-0 shadow-md",children:f.jsxs(et,{className:"text-center py-12",children:[f.jsx(Ct,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ativo não encontrado"}),f.jsx("p",{className:"text-gray-600",children:"O ativo solicitado não existe ou foi removido"})]})})]})}const MA=C.forwardRef(({className:e,...t},r)=>f.jsx("textarea",{className:Oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));MA.displayName="Textarea";var fg="Checkbox",[YM,a9]=Yi(fg),[KM,QM]=YM(fg),LA=C.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:u,disabled:m,value:g="on",onCheckedChange:p,form:w,...v}=e,[E,_]=C.useState(null),R=ct(t,j=>_(j)),N=C.useRef(!1),P=E?w||!!E.closest("form"):!0,[I=!1,A]=Do({prop:i,defaultProp:a,onChange:p}),S=C.useRef(I);return C.useEffect(()=>{const j=E==null?void 0:E.form;if(j){const z=()=>A(S.current);return j.addEventListener("reset",z),()=>j.removeEventListener("reset",z)}},[E,A]),f.jsxs(KM,{scope:r,state:I,disabled:m,children:[f.jsx(He.button,{type:"button",role:"checkbox","aria-checked":Li(I)?"mixed":I,"aria-required":u,"data-state":UA(I),"data-disabled":m?"":void 0,disabled:m,value:g,...v,ref:R,onKeyDown:Me(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Me(e.onClick,j=>{A(z=>Li(z)?!0:!z),P&&(N.current=j.isPropagationStopped(),N.current||j.stopPropagation())})}),P&&f.jsx(ZM,{control:E,bubbles:!N.current,name:n,value:g,checked:I,required:u,disabled:m,form:w,style:{transform:"translateX(-100%)"},defaultChecked:Li(a)?!1:a})]})});LA.displayName=fg;var FA="CheckboxIndicator",BA=C.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,a=QM(FA,r);return f.jsx(es,{present:n||Li(a.state)||a.state===!0,children:f.jsx(He.span,{"data-state":UA(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});BA.displayName=FA;var ZM=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:i,...a}=e,u=C.useRef(null),m=rg(r),g=Yp(t);C.useEffect(()=>{const w=u.current,v=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(v,"checked").set;if(m!==r&&_){const R=new Event("click",{bubbles:n});w.indeterminate=Li(r),_.call(w,Li(r)?!1:r),w.dispatchEvent(R)}},[m,r,n]);const p=C.useRef(Li(r)?!1:r);return f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??p.current,...a,tabIndex:-1,ref:u,style:{...e.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Li(e){return e==="indeterminate"}function UA(e){return Li(e)?"indeterminate":e?"checked":"unchecked"}var zA=LA,JM=BA;const VA=C.forwardRef(({className:e,...t},r)=>f.jsx(zA,{ref:r,className:Oe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:f.jsx(JM,{className:Oe("flex items-center justify-center text-current"),children:f.jsx(gp,{className:"h-4 w-4"})})}));VA.displayName=zA.displayName;function WA({asset:e,onSubmit:t,isSubmitting:r,submitLabel:n,disabled:i=!1}){var p;const[a,u]=C.useState({name:(e==null?void 0:e.name)||"",code:(e==null?void 0:e.code)||"",location:(e==null?void 0:e.location)||"",status:(e==null?void 0:e.status)||"ativo",acquisition_date:(e==null?void 0:e.acquisition_date)||"",value:((p=e==null?void 0:e.value)==null?void 0:p.toString())||"",serial_number:(e==null?void 0:e.serial_number)||"",color:(e==null?void 0:e.color)||"",manufacturer:(e==null?void 0:e.manufacturer)||"",model:(e==null?void 0:e.model)||"",capacity:(e==null?void 0:e.capacity)||"",voltage:(e==null?void 0:e.voltage)||"",origin:(e==null?void 0:e.origin)||"",condition:(e==null?void 0:e.condition)||"",inalienable:(e==null?void 0:e.inalienable)||!1,holder:(e==null?void 0:e.holder)||"",notes:(e==null?void 0:e.notes)||""}),m=w=>{w.preventDefault(),t(a)},g=(w,v)=>{u(E=>({...E,[w]:v}))};return f.jsxs("form",{onSubmit:m,className:"space-y-6",children:[f.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Básicas"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"name",children:"Nome do Ativo *"}),f.jsx(rt,{id:"name",value:a.name,onChange:w=>g("name",w.target.value),placeholder:"Ex: Notebook Dell",required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"code",children:"Código do Ativo *"}),f.jsx(rt,{id:"code",value:a.code,onChange:w=>g("code",w.target.value),placeholder:"Ex: NB001",required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"serial_number",children:"Número de Série"}),f.jsx(rt,{id:"serial_number",value:a.serial_number,onChange:w=>g("serial_number",w.target.value),placeholder:"Ex: SN123456789"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"status",children:"Status"}),f.jsxs(cf,{value:a.status,onValueChange:w=>g("status",w),children:[f.jsx(Lc,{children:f.jsx(uf,{})}),f.jsxs(Fc,{children:[f.jsx(hn,{value:"ativo",children:f.jsx(Jt,{className:"bg-green-100 text-green-800",children:"ATIVO"})}),f.jsx(hn,{value:"manutenção",children:f.jsx(Jt,{className:"bg-yellow-100 text-yellow-800",children:"MANUTENÇÃO"})}),f.jsx(hn,{value:"baixado",children:f.jsx(Jt,{className:"bg-red-100 text-red-800",children:"BAIXADO"})})]})]})]})]})]}),f.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Especificações Técnicas"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"manufacturer",children:"Fabricante"}),f.jsx(rt,{id:"manufacturer",value:a.manufacturer,onChange:w=>g("manufacturer",w.target.value),placeholder:"Ex: Dell, HP, Samsung"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"model",children:"Modelo"}),f.jsx(rt,{id:"model",value:a.model,onChange:w=>g("model",w.target.value),placeholder:"Ex: Inspiron 15 3000"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"color",children:"Cor"}),f.jsx(rt,{id:"color",value:a.color,onChange:w=>g("color",w.target.value),placeholder:"Ex: Preto, Branco, Prata"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"capacity",children:"Capacidade"}),f.jsx(rt,{id:"capacity",value:a.capacity,onChange:w=>g("capacity",w.target.value),placeholder:"Ex: 500GB, 8GB RAM"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"voltage",children:"Voltagem"}),f.jsx(rt,{id:"voltage",value:a.voltage,onChange:w=>g("voltage",w.target.value),placeholder:"Ex: 110V, 220V, Bivolt"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"condition",children:"Condições"}),f.jsx(rt,{id:"condition",value:a.condition,onChange:w=>g("condition",w.target.value),placeholder:"Ex: Novo, Usado, Bom estado"})]})]})]}),f.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Localização e Patrimônio"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"location",children:"Localização"}),f.jsx(rt,{id:"location",value:a.location,onChange:w=>g("location",w.target.value),placeholder:"Ex: Sala 201, Almoxarifado"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"holder",children:"Detentor"}),f.jsx(rt,{id:"holder",value:a.holder,onChange:w=>g("holder",w.target.value),placeholder:"Ex: João Silva, Setor TI"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"origin",children:"Origem"}),f.jsx(rt,{id:"origin",value:a.origin,onChange:w=>g("origin",w.target.value),placeholder:"Ex: Compra, Doação, Transferência"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"acquisition_date",children:"Data de Aquisição"}),f.jsx(rt,{id:"acquisition_date",type:"date",value:a.acquisition_date,onChange:w=>g("acquisition_date",w.target.value)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"value",children:"Valor (R$)"}),f.jsx(rt,{id:"value",type:"number",step:"0.01",value:a.value,onChange:w=>g("value",w.target.value),placeholder:"0,00"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(VA,{id:"inalienable",checked:a.inalienable,onCheckedChange:w=>g("inalienable",w)}),f.jsx(Xe,{htmlFor:"inalienable",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Inalienável"})]})]})]}),f.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Observações"}),f.jsx("div",{className:"space-y-2",children:f.jsx(MA,{id:"notes",value:a.notes,onChange:w=>g("notes",w.target.value),placeholder:"Observações adicionais sobre o ativo...",rows:4})})]}),f.jsx("div",{className:"flex space-x-4",children:f.jsx(Ne,{type:"submit",disabled:r||i,className:"flex-1",children:r?"Salvando...":n})})]})}function e7(){const e=Ir(),{profile:t}=er(),{toast:r}=yr(),n=Es(),[i,a]=C.useState(""),{data:u}=nu(),m=bs({mutationFn:async p=>{if(!(t!=null&&t.company_id))throw new Error("Company ID not found");if(u!=null&&u.isAssetsLimitReached)throw new Error("Limite de ativos do seu plano foi atingido. Faça upgrade para adicionar mais ativos.");const{error:w}=await Ve.from("assets").insert({name:p.name,code:p.code,location:p.location||null,status:p.status,acquisition_date:p.acquisition_date||null,value:p.value?parseFloat(p.value):null,serial_number:p.serial_number||null,color:p.color||null,manufacturer:p.manufacturer||null,model:p.model||null,capacity:p.capacity||null,voltage:p.voltage||null,origin:p.origin&&p.origin!=="nao_informado"?p.origin:null,condition:p.condition||null,inalienable:p.inalienable,holder:p.holder||null,notes:p.notes||null,company_id:t.company_id});if(w)throw w},onSuccess:()=>{n.invalidateQueries({queryKey:["assets"]}),n.invalidateQueries({queryKey:["dashboard-stats"]}),n.invalidateQueries({queryKey:["recent-assets"]}),n.invalidateQueries({queryKey:["plan-limits"]}),r({title:"Ativo criado com sucesso!",description:"O ativo foi adicionado ao sistema"}),u!=null&&u.isAssetsLimitWarning&&!(u!=null&&u.isAssetsLimitReached)&&r({title:"Aproximando do limite",description:"Você está próximo do limite de ativos do seu plano. Considere fazer upgrade.",variant:"destructive"}),e("/assets")},onError:p=>{a(p.message||"Erro ao criar ativo")}}),g=p=>{if(a(""),!p.name||!p.code){a("Nome e código são obrigatórios");return}m.mutate(p)};return f.jsxs("div",{className:"space-y-6 pb-10",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs(Ne,{variant:"ghost",onClick:()=>e("/assets"),children:[f.jsx(So,{className:"h-4 w-4 mr-2"}),"Voltar"]}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Novo Ativo"}),f.jsx("p",{className:"mt-2 text-gray-600",children:"Adicionar um novo ativo ao patrimônio da empresa"})]})]}),f.jsxs("div",{className:"max-w-4xl",children:[i&&f.jsx(ur,{variant:"destructive",className:"mb-6",children:f.jsx(dr,{children:i})}),(u==null?void 0:u.isAssetsLimitReached)&&f.jsx(ur,{className:"mb-6",children:f.jsxs(dr,{children:["Você atingiu o limite de ativos do seu plano atual (",u.assetsCount,"/",u.assetsLimit,").",f.jsx(Ne,{variant:"link",className:"p-0 h-auto font-semibold ml-1",onClick:()=>e("/my-plan"),children:"Faça upgrade do seu plano"})," ","para adicionar mais ativos."]})}),f.jsx(WA,{onSubmit:g,isSubmitting:m.isPending,submitLabel:"Salvar Ativo",disabled:u==null?void 0:u.isAssetsLimitReached})]})]})}function t7(){const{id:e}=db(),t=Ir(),{profile:r}=er(),{toast:n}=yr(),i=Es(),[a,u]=C.useState(""),{data:m,isLoading:g}=Ws({queryKey:["asset",e],queryFn:async()=>{if(!e)throw new Error("Asset ID is required");const{data:v,error:E}=await Ve.from("assets").select("*").eq("id",e).single();if(E)throw E;return v},enabled:!!e}),p=bs({mutationFn:async v=>{if(!e)throw new Error("Asset ID is required");if(!(r!=null&&r.company_id))throw new Error("Company ID not found");const{error:E}=await Ve.from("assets").update({name:v.name,code:v.code,location:v.location||null,status:v.status,acquisition_date:v.acquisition_date||null,value:v.value?parseFloat(v.value):null,serial_number:v.serial_number||null,color:v.color||null,manufacturer:v.manufacturer||null,model:v.model||null,capacity:v.capacity||null,voltage:v.voltage||null,origin:v.origin||null,condition:v.condition||null,inalienable:v.inalienable,holder:v.holder||null,notes:v.notes||null}).eq("id",e);if(E)throw E},onSuccess:()=>{i.invalidateQueries({queryKey:["asset",e]}),i.invalidateQueries({queryKey:["assets"]}),i.invalidateQueries({queryKey:["dashboard-stats"]}),i.invalidateQueries({queryKey:["recent-assets"]}),n({title:"Ativo atualizado com sucesso!",description:"As alterações foram salvas"}),t(`/assets/${e}`)},onError:v=>{u(v.message||"Erro ao atualizar ativo")}}),w=v=>{if(u(""),!v.name||!v.code){u("Nome e código são obrigatórios");return}p.mutate(v)};return g?f.jsxs("div",{className:"space-y-6 pb-10",children:[f.jsx("div",{className:"flex items-center space-x-4",children:f.jsxs(Ne,{variant:"ghost",onClick:()=>t("/assets"),children:[f.jsx(So,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),f.jsxs("div",{className:"animate-pulse max-w-4xl",children:[f.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),f.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-8"}),f.jsx("div",{className:"space-y-4",children:Array.from({length:6}).map((v,E)=>f.jsx("div",{className:"h-12 bg-gray-200 rounded"},E))})]})]}):m?f.jsxs("div",{className:"space-y-6 pb-10",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs(Ne,{variant:"ghost",onClick:()=>t(`/assets/${e}`),children:[f.jsx(So,{className:"h-4 w-4 mr-2"}),"Voltar"]}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Editar Ativo"}),f.jsxs("p",{className:"mt-2 text-gray-600",children:["Modificar informações de ",f.jsx("strong",{children:m.name})]})]})]}),f.jsxs("div",{className:"max-w-4xl",children:[a&&f.jsx(ur,{variant:"destructive",className:"mb-6",children:f.jsx(dr,{children:a})}),f.jsx(WA,{asset:m,onSubmit:w,isSubmitting:p.isPending,submitLabel:"Salvar Alterações"})]})]}):f.jsxs("div",{className:"space-y-6 pb-10",children:[f.jsx("div",{className:"flex items-center space-x-4",children:f.jsxs(Ne,{variant:"ghost",onClick:()=>t("/assets"),children:[f.jsx(So,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),f.jsx(ur,{variant:"destructive",children:f.jsx(dr,{children:"Ativo não encontrado"})})]})}function r7({user:e,onEdit:t,profile:r,onDelete:n}){const i=u=>{const m={admin:"bg-red-100 text-red-800",editor:"bg-yellow-100 text-yellow-800",viewer:"bg-green-100 text-green-800"},g={admin:"Administrador",editor:"Editor",viewer:"Visualizador"};return f.jsx(Jt,{className:m[u],children:g[u]})},a=u=>f.jsx(Jt,{className:u?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:u?"Ativo":"Inativo"});return f.jsx(Ke,{className:"border-0 shadow-md hover:shadow-lg transition-shadow",children:f.jsxs(et,{className:"p-6",children:[f.jsx("div",{className:"flex justify-between items-start mb-4",children:f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),e.id===(r==null?void 0:r.id)&&f.jsx(Jt,{className:"bg-blue-100 text-blue-800 text-xs",children:"Você"})]}),f.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[f.jsx(yp,{className:"h-3 w-3 mr-1"}),e.email]}),f.jsxs("div",{className:"flex flex-row gap-2 mt-2 justify-center",children:[i(e.role),a(e.is_active??!0)]})]})}),f.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-4",children:[f.jsx(pp,{className:"h-4 w-4 mr-2"}),"Desde ",L1(e.created_at)]}),f.jsxs("div",{className:"flex space-x-2",children:[e.id!==(r==null?void 0:r.id)&&f.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>t(e),className:"flex-1",children:[f.jsx(Qb,{className:"h-3 w-3 mr-1"}),"Editar"]}),(r==null?void 0:r.role)==="admin"&&e.role!=="admin"&&f.jsxs(PA,{children:[f.jsxs(vS,{children:[f.jsx(bS,{asChild:!0,children:f.jsx(jA,{asChild:!0,children:f.jsx(Ne,{variant:"destructive",size:"sm",className:"flex items-center justify-center",children:f.jsx(Zb,{className:"h-4 w-4"})})})}),f.jsx(Jp,{children:"Apagar usuário"})]}),f.jsxs(ig,{children:[f.jsxs(og,{children:[f.jsx(lg,{children:"Confirmar exclusão"}),f.jsxs(cg,{children:['Tem certeza que deseja apagar o usuário "',e.name,'"? Esta ação não pode ser desfeita.']})]}),f.jsxs(ag,{children:[f.jsx(dg,{children:"Cancelar"}),f.jsx(ug,{onClick:()=>n(e),className:"bg-red-600 hover:bg-red-700",children:"Apagar usuário"})]})]})]})]})]})})}function n7({users:e,isLoading:t,onEdit:r,onCreateUser:n,profile:i,onDelete:a}){if(t)return f.jsx("div",{className:"col-span-full flex justify-center py-12",children:f.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),f.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[f.jsx(tl,{className:"h-5 w-5 animate-pulse"}),f.jsx("span",{className:"text-base",children:"Carregando usuários..."})]})]})});if(!e||e.length===0)return f.jsx("div",{className:"col-span-full",children:f.jsx(Ke,{className:"border-0 shadow-md",children:f.jsxs(et,{className:"text-center py-12",children:[f.jsx(tl,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum usuário encontrado"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Comece adicionando usuários à sua empresa"}),f.jsxs(Ne,{onClick:n,children:[f.jsx(Mf,{className:"h-4 w-4 mr-2"}),"Adicionar Primeiro Usuário"]})]})})});const u=m=>{a(m)};return f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:e.map(m=>f.jsx(r7,{user:m,onEdit:r,profile:i,onDelete:u},m.id))})}var hg="Switch",[s7,l9]=Yi(hg),[i7,o7]=s7(hg),HA=C.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:u,disabled:m,value:g="on",onCheckedChange:p,form:w,...v}=e,[E,_]=C.useState(null),R=ct(t,S=>_(S)),N=C.useRef(!1),P=E?w||!!E.closest("form"):!0,[I=!1,A]=Do({prop:i,defaultProp:a,onChange:p});return f.jsxs(i7,{scope:r,checked:I,disabled:m,children:[f.jsx(He.button,{type:"button",role:"switch","aria-checked":I,"aria-required":u,"data-state":qA(I),"data-disabled":m?"":void 0,disabled:m,value:g,...v,ref:R,onClick:Me(e.onClick,S=>{A(j=>!j),P&&(N.current=S.isPropagationStopped(),N.current||S.stopPropagation())})}),P&&f.jsx(a7,{control:E,bubbles:!N.current,name:n,value:g,checked:I,required:u,disabled:m,form:w,style:{transform:"translateX(-100%)"}})]})});HA.displayName=hg;var $A="SwitchThumb",GA=C.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=o7($A,r);return f.jsx(He.span,{"data-state":qA(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});GA.displayName=$A;var a7=e=>{const{control:t,checked:r,bubbles:n=!0,...i}=e,a=C.useRef(null),u=rg(r),m=Yp(t);return C.useEffect(()=>{const g=a.current,p=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==r&&v){const E=new Event("click",{bubbles:n});v.call(g,r),g.dispatchEvent(E)}},[u,r,n]),f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...e.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function qA(e){return e?"checked":"unchecked"}var XA=HA,l7=GA;const YA=C.forwardRef(({className:e,...t},r)=>f.jsx(XA,{className:Oe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:f.jsx(l7,{className:Oe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));YA.displayName=XA.displayName;function c7({formData:e,setFormData:t,onSubmit:r,onCancel:n,error:i,isLoading:a,isEditing:u,isEditingSelf:m,disabled:g=!1}){return f.jsxs("form",{onSubmit:r,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"name",children:"Nome *"}),f.jsx(rt,{id:"name",value:e.name,onChange:p=>t(w=>({...w,name:p.target.value})),placeholder:"Nome completo",required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"email",children:"Email *"}),f.jsx(rt,{id:"email",type:"email",value:e.email,onChange:p=>t(w=>({...w,email:p.target.value})),placeholder:"email@exemplo.com",required:!0,disabled:u}),u&&f.jsx("p",{className:"text-xs text-gray-500",children:"O email não pode ser alterado"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"role",children:"Papel"}),f.jsxs(cf,{value:e.role,onValueChange:p=>t(w=>({...w,role:p})),children:[f.jsx(Lc,{children:f.jsx(uf,{})}),f.jsxs(Fc,{children:[f.jsx(hn,{value:"viewer",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Jt,{className:"bg-green-100 text-green-800",children:"Visualizador"}),f.jsx("span",{className:"text-xs text-gray-600",children:"Apenas visualiza dados"})]})}),f.jsx(hn,{value:"editor",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Jt,{className:"bg-yellow-100 text-yellow-800",children:"Editor"}),f.jsx("span",{className:"text-xs text-gray-600",children:"Pode criar e editar"})]})}),f.jsx(hn,{value:"admin",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Jt,{className:"bg-red-100 text-red-800",children:"Administrador"}),f.jsx("span",{className:"text-xs text-gray-600",children:"Controle total"})]})})]})]})]}),!m&&f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(YA,{id:"is_active",checked:e.is_active,onCheckedChange:p=>t(w=>({...w,is_active:p}))}),f.jsx(Xe,{htmlFor:"is_active",children:"Usuário ativo"})]}),m&&f.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:f.jsx("p",{className:"text-sm text-blue-700",children:"Você não pode alterar o status de ativação da sua própria conta."})}),i&&f.jsx(ur,{variant:"destructive",children:f.jsx(dr,{children:i})}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx(Ne,{type:"button",variant:"outline",onClick:n,className:"flex-1",children:"Cancelar"}),f.jsx(Ne,{type:"submit",disabled:a||g,className:"flex-1",children:a?"Salvando...":u?"Salvar Alterações":"Criar Usuário"})]})]})}function u7(){const{profile:e}=er(),{toast:t}=yr(),r=Es(),n=bs({mutationFn:async a=>{const{data:u,error:m}=await Ve.auth.signUp({email:a.email,password:Math.random().toString(36).slice(-12),options:{data:{name:a.name,company_id:e==null?void 0:e.company_id}}});if(m)throw m;if(u.user){const{error:g}=await Ve.from("profiles").update({role:a.role,company_id:e==null?void 0:e.company_id,is_active:a.is_active}).eq("id",u.user.id);if(g)throw g}return u},onSuccess:()=>{r.invalidateQueries({queryKey:["company-users"]}),t({title:"Usuário criado com sucesso!",description:"O usuário foi adicionado ao sistema. Ele receberá um email de confirmação."})}}),i=bs({mutationFn:async({userId:a,updates:u})=>{const{error:m}=await Ve.rpc("admin_update_user_profile",{user_id:a,new_name:u.name,new_role:u.role,new_is_active:u.is_active});if(m)throw m},onSuccess:()=>{r.invalidateQueries({queryKey:["company-users"]}),t({title:"Usuário atualizado com sucesso!",description:"As alterações foram salvas"})}});return{createUserMutation:n,updateUserMutation:i}}function d7(){const e=Ir(),{profile:t}=er(),{createUserMutation:r,updateUserMutation:n}=u7(),{data:i}=nu(),{toast:a}=yr(),{isMobile:u}=zE(),m=Es(),[g,p]=C.useState(!1),[w,v]=C.useState(null),[E,_]=C.useState({email:"",name:"",role:"viewer",is_active:!0}),[R,N]=C.useState(""),{data:P,isLoading:I}=Ws({queryKey:["company-users"],queryFn:async()=>{const{data:D,error:W}=await Ve.from("profiles").select("*").eq("company_id",t==null?void 0:t.company_id).order("created_at",{ascending:!1});if(W)throw console.error("Error fetching users:",W),W;return D||[]},enabled:!!(t!=null&&t.company_id)}),A=()=>{_({email:"",name:"",role:"viewer",is_active:!0}),N("")},S=D=>{v(D),_({email:D.email,name:D.name,role:D.role,is_active:D.is_active??!0}),p(!0)},j=D=>{if(D.preventDefault(),N(""),!E.name||!E.email){N("Nome e email são obrigatórios");return}if(!w&&(i!=null&&i.isUsersLimitReached)){N("Limite de usuários do seu plano foi atingido. Faça upgrade para adicionar mais usuários.");return}w?n.mutate({userId:w.id,updates:{name:E.name,role:E.role,is_active:E.is_active}},{onSuccess:()=>{p(!1),v(null),A()},onError:W=>{console.error("Error updating user:",W),N(W.message||"Erro ao atualizar usuário")}}):r.mutate({email:E.email,name:E.name,role:E.role,is_active:E.is_active},{onSuccess:()=>{p(!1),A(),i!=null&&i.isUsersLimitWarning&&!(i!=null&&i.isUsersLimitReached)&&a({title:"Aproximando do limite",description:"Você está próximo do limite de usuários do seu plano. Considere fazer upgrade.",variant:"destructive"})},onError:W=>{console.error("Error creating user:",W),N(W.message||"Erro ao criar usuário")}})},z=()=>{p(!1),v(null),A()},V=()=>{A(),v(null),p(!0)},F=w&&w.id===(t==null?void 0:t.id),L=async D=>{if(!window.confirm(`Tem certeza que deseja deletar o usuário ${D.name}?`))return;const{error:W}=await Ve.from("profiles").delete().eq("id",D.id);W?a({title:"Erro ao deletar usuário",description:W.message,variant:"destructive"}):(a({title:"Usuário deletado com sucesso"}),m.invalidateQueries({queryKey:["company-users"]}))};return f.jsx(yS,{children:f.jsxs("div",{className:"space-y-6 pb-10",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Usuários"}),f.jsx("p",{className:"mt-2 text-gray-600",children:"Gerencie os usuários da sua empresa"})]}),f.jsxs(iu,{open:g,onOpenChange:p,children:[f.jsx(Yf,{asChild:!0,children:f.jsxs(Ne,{onClick:V,size:u?"icon":void 0,disabled:i==null?void 0:i.isUsersLimitReached,children:[f.jsx(Mf,{className:"h-4 w-4"}),!u&&f.jsx("span",{className:"ml-2",children:"Novo Usuário"})]})}),f.jsxs(xl,{children:[f.jsxs(ou,{children:[f.jsx(au,{children:w?"Editar Usuário":"Novo Usuário"}),f.jsx(Kf,{children:w?"Modifique as informações do usuário":"Adicione um novo usuário à empresa. O usuário receberá um convite por email."})]}),(i==null?void 0:i.isUsersLimitReached)&&!w&&f.jsx(ur,{children:f.jsxs(dr,{children:["Você atingiu o limite de usuários do seu plano atual (",i.usersCount,"/",i.usersLimit,").",f.jsx(Ne,{variant:"link",className:"p-0 h-auto font-semibold ml-1",onClick:()=>e("/my-plan"),children:"Faça upgrade do seu plano"})," ","para adicionar mais usuários."]})}),f.jsx(c7,{formData:E,setFormData:_,onSubmit:j,onCancel:z,error:R,isLoading:r.isPending||n.isPending,isEditing:!!w,isEditingSelf:F,disabled:(i==null?void 0:i.isUsersLimitReached)&&!w})]})]})]}),(i==null?void 0:i.isUsersLimitReached)&&f.jsx(ur,{className:"mb-6",children:f.jsxs(dr,{children:["Você atingiu o limite de usuários do seu plano atual (",i.usersCount,"/",i.usersLimit,").",f.jsx(Ne,{variant:"link",className:"p-0 h-auto font-semibold ml-1",onClick:()=>window.location.href="/my-plan",children:"Faça upgrade do seu plano"})," ","para adicionar mais usuários."]})}),f.jsx(n7,{users:P,isLoading:I,onEdit:S,onCreateUser:V,profile:t,onDelete:L})]})})}function f7(){const{profile:e,company:t,user:r,updatePassword:n}=er(),{toast:i}=yr(),a=Es(),[u,m]=C.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||""}),[g,p]=C.useState({newPassword:"",confirmPassword:""}),[w,v]=C.useState({profile:"",password:""}),E=bs({mutationFn:async S=>{if(!(e!=null&&e.id))throw new Error("Profile ID not found");const{error:j}=await Ve.from("profiles").update({name:S.name,email:S.email}).eq("id",e.id);if(j)throw j},onSuccess:()=>{a.invalidateQueries({queryKey:["profile"]}),i({title:"Perfil atualizado!",description:"Suas informações foram salvas com sucesso"}),v(S=>({...S,profile:""}))},onError:S=>{v(j=>({...j,profile:S.message||"Erro ao atualizar perfil"}))}}),_=bs({mutationFn:async S=>{const j=await n(S);if(!j.success)throw new Error(j.error||"Erro ao alterar senha");return j},onSuccess:()=>{i({title:"Senha alterada!",description:"Sua senha foi alterada com sucesso"}),p({newPassword:"",confirmPassword:""}),v(S=>({...S,password:""}))},onError:S=>{v(j=>({...j,password:S.message||"Erro ao alterar senha"}))}}),R=S=>{if(S.preventDefault(),v(j=>({...j,profile:""})),!u.name.trim()){v(j=>({...j,profile:"Nome é obrigatório"}));return}if(!u.email.trim()){v(j=>({...j,profile:"Email é obrigatório"}));return}E.mutate(u)},N=S=>{if(S.preventDefault(),v(j=>({...j,password:""})),!g.newPassword){v(j=>({...j,password:"Nova senha é obrigatória"}));return}if(g.newPassword.length<6){v(j=>({...j,password:"Nova senha deve ter pelo menos 6 caracteres"}));return}if(g.newPassword!==g.confirmPassword){v(j=>({...j,password:"Senhas não coincidem"}));return}_.mutate(g.newPassword)},P=(S,j)=>{m(z=>({...z,[S]:j}))},I=(S,j)=>{p(z=>({...z,[S]:j}))},A=S=>{switch(S){case"admin":return"Administrador";case"editor":return"Editor";case"viewer":return"Visualizador";default:return S}};return e?f.jsxs("div",{className:"space-y-6 max-w-4xl pb-10",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl m d:text-3xl font-bold text-gray-900",children:"Perfil"}),f.jsx("p",{className:"mt-2 text-gray-600",children:"Gerencie suas informações pessoais e configurações da conta"})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[f.jsxs(Ke,{className:"border-0 shadow-md",children:[f.jsx(pt,{children:f.jsxs(mt,{className:"flex items-center",children:[f.jsx(Gd,{className:"h-5 w-5 mr-3 text-blue-600"}),"Informações Pessoais"]})}),f.jsx(et,{children:f.jsxs("form",{onSubmit:R,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"name",children:"Nome"}),f.jsx(rt,{id:"name",value:u.name,onChange:S=>P("name",S.target.value),placeholder:"Seu nome completo"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"email",children:"Email"}),f.jsx(rt,{disabled:!0,id:"email",type:"email",value:u.email,onChange:S=>P("email",S.target.value),placeholder:"seu@email.com"})]})]}),w.profile&&f.jsx(ur,{variant:"destructive",children:f.jsx(dr,{children:w.profile})}),f.jsx(Ne,{type:"submit",disabled:E.isPending,className:"w-full sm:w-auto",children:E.isPending?"Salvando...":"Salvar Alterações"})]})})]}),f.jsxs(Ke,{className:"border-0 shadow-md",children:[f.jsx(pt,{children:f.jsxs(mt,{className:"flex items-center",children:[f.jsx(F8,{className:"h-5 w-5 mr-3 text-blue-600"}),"Alterar Senha"]})}),f.jsx(et,{children:f.jsxs("form",{onSubmit:N,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"newPassword",children:"Nova Senha"}),f.jsx(rt,{id:"newPassword",type:"password",value:g.newPassword,onChange:S=>I("newPassword",S.target.value),placeholder:"Digite a nova senha"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"confirmPassword",children:"Confirmar Senha"}),f.jsx(rt,{id:"confirmPassword",type:"password",value:g.confirmPassword,onChange:S=>I("confirmPassword",S.target.value),placeholder:"Confirme a nova senha"})]})]}),w.password&&f.jsx(ur,{variant:"destructive",children:f.jsx(dr,{children:w.password})}),f.jsx(Ne,{type:"submit",disabled:_.isPending,className:"w-full sm:w-auto",children:_.isPending?"Alterando...":"Alterar Senha"})]})})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs(Ke,{className:"border-0 shadow-md",children:[f.jsx(pt,{children:f.jsxs(mt,{className:"flex items-center",children:[f.jsx(pw,{className:"h-5 w-5 mr-3 text-green-600"}),"Informações da Conta"]})}),f.jsxs(et,{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(yp,{className:"h-5 w-5 text-gray-400"}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),f.jsx("p",{className:"text-sm text-gray-900 truncate",children:e.email})]})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(pw,{className:"h-5 w-5 text-gray-400"}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Função"}),f.jsx("p",{className:"text-sm text-gray-900",children:A(e.role)})]})]}),t&&f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(mp,{className:"h-5 w-5 text-gray-400"}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Empresa"}),f.jsx("p",{className:"text-sm text-gray-900 break-words",children:t.name})]})]})]})]}),f.jsxs(Ke,{className:"border-0 shadow-md",children:[f.jsx(pt,{children:f.jsxs(mt,{className:"flex items-center",children:[f.jsx(qb,{className:"h-5 w-5 mr-3 text-blue-600"}),"Histórico"]})}),f.jsxs(et,{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Conta criada em"}),f.jsx("p",{className:"text-sm text-gray-900",children:ka(new Date(e.created_at),"dd/MM/yyyy HH:mm",{locale:_o})})]}),e.updated_by_user_name&&f.jsxs(f.Fragment,{children:[f.jsx(Gf,{}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Última modificação"}),f.jsx("p",{className:"text-sm text-gray-900",children:e.updated_by_user_name}),f.jsx("p",{className:"text-sm text-gray-900",children:ka(new Date(e.updated_at),"dd/MM/yyyy HH:mm",{locale:_o})})]})]})]})]})]})]})]}):f.jsxs("div",{className:"space-y-6 pb-10",children:[f.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Perfil"}),f.jsx(Ke,{className:"border-0 shadow-md",children:f.jsxs(et,{className:"text-center py-12",children:[f.jsx(Gd,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Perfil não encontrado"}),f.jsx("p",{className:"text-gray-600",children:"Não foi possível carregar as informações do perfil"})]})})]})}var KA="basil",h7=function(t){return t===3?"v3":t},QA="https://js.stripe.com",m7="".concat(QA,"/").concat(KA,"/stripe.js"),p7=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,g7=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var x7=function(t){return p7.test(t)||g7.test(t)},w7=function(){for(var t=document.querySelectorAll('script[src^="'.concat(QA,'"]')),r=0;r<t.length;r++){var n=t[r];if(x7(n.src))return n}return null},yy=function(t){var r="",n=document.createElement("script");n.src="".concat(m7).concat(r);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},y7=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.4.0",startTime:r})},Vl=null,Qu=null,Zu=null,v7=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},b7=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},C7=function(t){return Vl!==null?Vl:(Vl=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var i=w7();if(!(i&&t)){if(!i)i=yy(t);else if(i&&Zu!==null&&Qu!==null){var a;i.removeEventListener("load",Zu),i.removeEventListener("error",Qu),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=yy(t)}}Zu=b7(r,n),Qu=v7(n),i.addEventListener("load",Zu),i.addEventListener("error",Qu)}catch(u){n(u);return}}),Vl.catch(function(r){return Vl=null,Promise.reject(r)}))},E7=function(t,r,n){if(t===null)return null;var i=r[0],a=i.match(/^pk_test/),u=h7(t.version),m=KA;a&&u!==m&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("7.4.0"," expected Stripe.js@").concat(m,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var g=t.apply(void 0,r);return y7(g,n),g},Wl,ZA=!1,JA=function(){return Wl||(Wl=C7(null).catch(function(t){return Wl=null,Promise.reject(t)}),Wl)};Promise.resolve().then(function(){return JA()}).catch(function(e){ZA||console.warn(e)});var S7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];ZA=!0;var i=Date.now();return JA().then(function(a){return E7(a,r,i)})};const A7="pk_test_51RgE7aCpLUoYVzVwrZOCrwcgRH2nlX8parLqUT2mrWOYrd67HlpzY46aLhSS0Ogv6JmoSbJ5LUE1zgZEMcS0qEGh00LUyFtQe7",_7=S7(A7),N7={basic:"price_1RgFlKCpLUoYVzVwvY3ggQGJ",premium:"price_1RgFlKCpLUoYVzVwvY3ggQGJ"},T7="https://nvwscxburlixyqkbhfux.supabase.co/functions/v1/create-stripe-session";async function I7(e){try{const{data:{user:t}}=await Ve.auth.getUser();if(!t)throw new Error("Usuário não autenticado");const{data:r}=await Ve.from("profiles").select("company_id, name, email").eq("id",t.id).single();if(!r)throw new Error("Perfil não encontrado");const n={product_id:N7[e],company_id:r.company_id||"empresa_123",plan:e},i=await fetch(T7,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im52d3NjeGJ1cmxpeHlxa2JoZnV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA1Mjk1MTEsImV4cCI6MjA2NjEwNTUxMX0.ppBJapu82yVC7wBeXqZlkgceMGLpPt9VA58AOSmUlhI"},body:JSON.stringify(n)});if(!i.ok){const u=await i.json();throw new Error(u.error||"Erro ao criar sessão de checkout")}const{sessionId:a}=await i.json();return a}catch(t){throw console.error("Erro ao criar sessão de checkout:",t),t}}async function e3(e){try{const t=await I7(e),r=await _7;if(!r)throw new Error("Stripe não carregado");const{error:n}=await r.redirectToCheckout({sessionId:t});if(n)throw n}catch(t){throw console.error("Erro ao redirecionar para checkout:",t),t}}async function R7(){try{await e3("basic")}catch(e){throw console.error("Erro ao fazer upgrade para Basic:",e),e}}async function O7(){try{await e3("premium")}catch(e){throw console.error("Erro ao fazer upgrade para Premium:",e),e}}function k7(){const{data:e,isLoading:t,error:r}=nu(),{profile:n,company:i}=er(),[a,u]=C.useState(!1),[m,g]=C.useState(!1),{toast:p}=yr();if(t)return f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Meu Plano"})}),f.jsx("div",{className:"grid gap-6",children:f.jsxs(Ke,{children:[f.jsx(pt,{children:f.jsxs("div",{className:"animate-pulse",children:[f.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-2"}),f.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})}),f.jsx(et,{children:f.jsxs("div",{className:"animate-pulse space-y-4",children:[f.jsx("div",{className:"h-4 bg-gray-200 rounded"}),f.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),f.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})]})})]});if(r||!e)return f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Meu Plano"})}),f.jsx(Ke,{children:f.jsx(et,{className:"pt-6",children:f.jsx("p",{className:"text-red-600",children:"Erro ao carregar informações do plano."})})})]});const w=R=>R>=100?"bg-red-100":R>=80?"bg-yellow-100":"bg-green-100",v=R=>R>=100?"bg-red-500":R>=80?"bg-yellow-400":"bg-green-400",E=async()=>{u(!0);try{await R7()}catch(R){console.error("Erro ao fazer upgrade para Basic:",R),p({title:"Erro ao processar pagamento",description:"Não foi possível iniciar o processo de pagamento. Tente novamente.",variant:"destructive"})}finally{u(!1)}},_=async()=>{g(!0);try{await O7()}catch(R){console.error("Erro ao fazer upgrade para Premium:",R),p({title:"Erro ao processar pagamento",description:"Não foi possível iniciar o processo de pagamento. Tente novamente.",variant:"destructive"})}finally{g(!1)}};return f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Meu Plano"})}),f.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[f.jsxs(Ke,{className:e.currentPlan==="free"?"bg-green-50 border-green-300":`${e.isAssetsLimitReached||e.isUsersLimitReached?"border-red-500 bg-red-50":e.isAssetsLimitWarning||e.isUsersLimitWarning?"border-yellow-500 bg-yellow-50":""}
                ${e.currentPlan==="basic"?" bg-blue-50 border-blue-300":""}
                ${e.currentPlan==="premium"?" bg-purple-50 border-purple-300":""}`,children:[f.jsxs(pt,{children:[f.jsxs(mt,{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-2xl",children:e.planInfo.icon}),"Plano ",e.planInfo.name]}),f.jsx(pn,{children:"Seu plano atual e benefícios"})]}),f.jsxs(et,{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(hw,{className:"h-4 w-4 text-gray-500"}),f.jsx("span",{className:"text-sm text-gray-600",children:e.currentPlan==="premium"?"Suporte: WhatsApp (até 24h) ou E-mail (até 24h)":`Suporte: ${e.planInfo.support}`})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Ct,{className:"h-4 w-4 text-gray-500"}),f.jsxs("span",{className:"text-sm text-gray-600",children:["Ativos: Até ",e.planInfo.maxAssets]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(tl,{className:"h-4 w-4 text-gray-500"}),f.jsxs("span",{className:"text-sm text-gray-600",children:["Usuários: Até ",e.planInfo.maxUsers]})]})]})]}),f.jsxs(Ke,{children:[f.jsxs(pt,{children:[f.jsx(mt,{children:"Uso Atual"}),f.jsx(pn,{children:"Como você está usando seu plano"})]}),f.jsxs(et,{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Ct,{className:"h-4 w-4 text-gray-500"}),f.jsx("span",{className:"text-sm font-medium",children:"Ativos"})]}),f.jsxs("span",{className:"text-sm text-gray-600",children:[e.assetsCount," / ",e.assetsLimit]})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(af,{value:e.assetsUsage,className:`h-2 ${w(e.assetsUsage)}`,indicatorClassName:v(e.assetsUsage)}),f.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[f.jsxs("span",{children:[e.assetsUsage,"% usado"]}),e.isAssetsLimitWarning&&f.jsx(Jt,{variant:"destructive",className:"text-xs",children:e.isAssetsLimitReached?"Limite atingido":"Aproximando do limite"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(tl,{className:"h-4 w-4 text-gray-500"}),f.jsx("span",{className:"text-sm font-medium",children:"Usuários"})]}),f.jsxs("span",{className:"text-sm text-gray-600",children:[e.usersCount," / ",e.usersLimit]})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(af,{value:e.usersUsage,className:`h-2 ${w(e.usersUsage)}`,indicatorClassName:v(e.usersUsage)}),f.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[f.jsxs("span",{children:[e.usersUsage,"% usado"]}),e.isUsersLimitWarning&&f.jsx(Jt,{variant:"destructive",className:"text-xs",children:e.isUsersLimitReached?"Limite atingido":"Aproximando do limite"})]})]})]})]})]}),f.jsxs(Ke,{children:[f.jsxs(pt,{children:[f.jsxs(mt,{className:"flex items-center gap-2 justify-center text-center",children:[f.jsx(hw,{className:"h-5 w-5 text-blue-600"}),"Fale com o Suporte"]}),f.jsx(pn,{className:"text-center",children:"Entre em contato conforme o seu plano"})]}),f.jsxs(et,{className:"space-y-4 flex flex-col items-center justify-center",children:[f.jsxs("div",{className:"flex flex-col items-center gap-1 w-full",children:[f.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[f.jsx(yp,{className:"h-4 w-4 text-blue-600"}),f.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"E-mail"})]}),f.jsx("a",{href:"mailto:suporte.microfocuspro@gmail.com?subject=Suporte%20Armazena%20App",className:"text-blue-700 font-medium hover:underline break-all text-center",target:"_blank",rel:"noopener noreferrer",children:"suporte.microfocuspro@gmail.com"})]}),e.currentPlan==="premium"&&f.jsxs("div",{className:"flex flex-col items-center gap-2 w-full mt-2",children:[f.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[f.jsx(U8,{className:"h-4 w-4 text-green-600"}),f.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"WhatsApp"})]}),f.jsx(Ne,{asChild:!0,className:"w-full bg-green-500 hover:bg-green-600 text-white",size:"lg",children:f.jsx("a",{href:`https://wa.me/5543988448558?text=${encodeURIComponent(`Preciso de suporte no Armazena App. Meu nome é ${(n==null?void 0:n.name)||""} da empresa ${(i==null?void 0:i.name)||""}`)}`,target:"_blank",rel:"noopener noreferrer",children:"Falar no WhatsApp"})})]})]})]})]}),e.currentPlan!=="premium"&&f.jsxs(Ke,{children:[f.jsxs(pt,{children:[f.jsx(mt,{children:"Próximos Planos"}),f.jsx(pn,{children:"Conheça os benefícios dos outros planos"})]}),f.jsx(et,{children:f.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:Object.entries(Fp).map(([R,N])=>R===e.currentPlan||R==="enterprise"||e.currentPlan==="basic"&&R==="free"?null:f.jsxs("div",{className:`border rounded-lg p-4 space-y-3
                      ${R==="basic"?"bg-blue-50 border-blue-300":""}
                      ${R==="premium"?"bg-purple-50 border-purple-300":""}
                    `,children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xl",children:N.icon}),f.jsx("h3",{className:"font-semibold",children:N.name})]}),f.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[f.jsxs("div",{children:["Até ",N.maxAssets," ativos"]}),f.jsxs("div",{children:["Até ",N.maxUsers," usuários"]}),f.jsx("div",{children:N.support})]}),R==="basic"?f.jsx(Ne,{variant:"outline",size:"sm",className:"w-full",onClick:E,disabled:a,children:a?f.jsxs(f.Fragment,{children:[f.jsx(mw,{className:"h-4 w-4 mr-2 animate-spin"}),"Processando..."]}):"Fazer Upgrade"}):R==="premium"?f.jsx(Ne,{variant:"outline",size:"sm",className:"w-full",onClick:_,disabled:m,children:m?f.jsxs(f.Fragment,{children:[f.jsx(mw,{className:"h-4 w-4 mr-2 animate-spin"}),"Processando..."]}):"Fazer Upgrade"}):f.jsx(Ne,{variant:"outline",size:"sm",className:"w-full",disabled:!0,children:"Fazer Upgrade"})]},R))})})]})]})}function P7(){const{signOut:e}=er();return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center p-4",children:f.jsxs(Ke,{className:"max-w-md w-full",children:[f.jsxs(pt,{className:"text-center",children:[f.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:f.jsx(kc,{className:"h-8 w-8 text-red-600"})}),f.jsx(mt,{className:"text-xl text-gray-900",children:"Acesso Negado"})]}),f.jsxs(et,{className:"text-center space-y-4",children:[f.jsx("p",{className:"text-gray-600",children:"Sua conta foi desativada ou não está mais vinculada a uma empresa. Entre em contato com o administrador da sua empresa."}),f.jsxs(Ne,{onClick:e,className:"w-full",children:[f.jsx(wp,{className:"h-4 w-4 mr-2"}),"Fazer Login com Outra Conta"]})]})]})})}function j7(){const{hash:e,pathname:t,search:r}=Jn(),n=Ir();return C.useEffect(()=>{console.log("AuthRedirectHandler - Localização atual:",{pathname:t,search:r,hash:e});const i=new URLSearchParams(r),a=i.get("token"),u=i.get("type");if(a&&u){console.log("Processando confirmação via query params:",{type:u,token:a.substring(0,10)+"..."}),Ve.auth.verifyOtp({token_hash:a,type:u}).then(({data:v,error:E})=>{if(E){console.error("Erro ao verificar token:",E),n("/login?error=confirmation_failed",{replace:!0});return}if(console.log("Token verificado com sucesso:",v),u==="signup"){console.log("Redirecionando para onboarding após confirmação de signup"),n("/onboarding",{replace:!0});return}if(u==="recovery"){console.log("Redirecionando para reset password"),n("/reset-password",{replace:!0});return}n("/dashboard",{replace:!0})});return}if(!(e!=null&&e.startsWith("#access_token")))return;const m=new URLSearchParams(e.substring(1)),g=m.get("access_token"),p=m.get("refresh_token"),w=m.get("type");g&&p&&(console.log("Processando tokens do hash:",{type:w}),Ve.auth.setSession({access_token:g,refresh_token:p}).then(()=>{w==="recovery"?n("/reset-password",{replace:!0}):w==="signup"?n("/onboarding",{replace:!0}):n("/dashboard",{replace:!0})}).catch(v=>{console.error("Erro ao definir sessão:",v),n("/login",{replace:!0})}))},[e,t,r,n]),null}function D7(){const[e,t]=C.useState(""),[r,n]=C.useState(""),[i,a]=C.useState(!1),[u,m]=C.useState(""),{toast:g}=yr(),p=Ir(),w=async()=>{if(m(""),e!==r){m("As senhas não coincidem.");return}if(e.length<6){m("A senha deve ter pelo menos 6 caracteres.");return}a(!0);const{error:v}=await Ve.auth.updateUser({password:e});if(a(!1),v){m(v.message);return}g({title:"Senha redefinida!",description:"Você será redirecionado para o login."}),setTimeout(()=>{p("/login",{replace:!0})},3e3)};return f.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50 px-4",children:f.jsxs("div",{className:"max-w-md w-full space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:f.jsx(Ct,{className:"h-8 w-8 text-white"})})}),f.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Armazena App"}),f.jsx("p",{className:"mt-2 text-xl font-semibold text-gray-900",children:"Definir nova senha"})]}),f.jsxs(Ke,{className:"shadow-lg border-0",children:[f.jsxs(pt,{children:[f.jsx(mt,{className:"text-2xl text-center",children:"Nova senha"}),f.jsx(pn,{className:"text-center",children:"Digite e confirme sua nova senha"})]}),f.jsxs(et,{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{children:"Nova senha"}),f.jsx(rt,{type:"password",value:e,onChange:v=>t(v.target.value),placeholder:"Mínimo 6 caracteres",required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{children:"Confirmar senha"}),f.jsx(rt,{type:"password",value:r,onChange:v=>n(v.target.value),required:!0})]}),u&&f.jsx(ur,{variant:"destructive",children:f.jsx(dr,{children:u})}),f.jsx(Ne,{className:"w-full h-11",onClick:w,disabled:i,children:i?"Salvando…":"Salvar"})]})]})]})})}function M7(){const[e,t]=C.useState(""),[r,n]=C.useState(""),[i,a]=C.useState(!1),[u,m]=C.useState(""),{toast:g}=yr(),p=Ir(),w=async()=>{if(m(""),e!==r){m("As senhas não coincidem.");return}if(e.length<6){m("A senha deve ter pelo menos 6 caracteres.");return}a(!0);const{error:v}=await Ve.auth.updateUser({password:e});if(a(!1),v){m(v.message);return}g({title:"Senha cadastrada!",description:"Você será redirecionado para o login."}),setTimeout(()=>{p("/login",{replace:!0})},3e3)};return f.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50 px-4",children:f.jsxs("div",{className:"max-w-md w-full space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:f.jsx(Ct,{className:"h-8 w-8 text-white"})})}),f.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Armazena App"}),f.jsx("p",{className:"mt-2 text-xl font-semibold text-gray-900",children:"Definir senha de acesso"})]}),f.jsxs(Ke,{className:"shadow-lg border-0",children:[f.jsxs(pt,{children:[f.jsx(mt,{className:"text-2xl text-center",children:"Criar senha"}),f.jsx(pn,{className:"text-center",children:"Digite e confirme sua senha para ativar seu acesso"})]}),f.jsxs(et,{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{children:"Senha"}),f.jsx(rt,{type:"password",value:e,onChange:v=>t(v.target.value),placeholder:"Mínimo 6 caracteres",required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{children:"Confirmar senha"}),f.jsx(rt,{type:"password",value:r,onChange:v=>n(v.target.value),required:!0})]}),u&&f.jsx(ur,{variant:"destructive",children:f.jsx(dr,{children:u})}),f.jsx(Ne,{className:"w-full h-11",onClick:w,disabled:i,children:i?"Salvando…":"Salvar"})]})]})]})})}function L7(){const[e,t]=C.useState(0),[r,n]=C.useState(""),[i,a]=C.useState(""),[u,m]=C.useState(""),[g,p]=C.useState(""),[w,v]=C.useState(!1),[E,_]=C.useState(!1),[R,N]=C.useState(!1),[P,I]=C.useState(""),{signUp:A}=er(),S=Ir(),{toast:j}=yr(),z=async V=>{V.preventDefault(),I(""),N(!0);try{await A(i,u,r),j({title:"Cadastro realizado!",description:"Enviamos um e-mail de confirmação. Verifique sua caixa de entrada para ativar sua conta."}),S("/login")}catch(F){I(F.message||"Erro ao criar conta")}finally{N(!1)}};return f.jsx("div",{className:"min-h-screen h-screen bg-gradient-to-br from-slate-50 to-blue-50 px-4 overflow-auto",children:f.jsxs("div",{className:"max-w-md w-full space-y-8 mx-auto py-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"flex justify-center items-center gap-3 mt-6",children:[f.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:f.jsx(Ct,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Armazena App"})]}),f.jsx("p",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Sistema de Gestão de Ativos"})]}),f.jsxs(Ke,{className:"shadow-lg border-0",children:[f.jsxs(pt,{className:"space-y-1",children:[f.jsx(mt,{className:"text-2xl text-center",children:"Criar Conta"}),f.jsx(pn,{className:"text-center",children:"Preencha os dados para criar sua conta"})]}),f.jsxs(et,{children:[f.jsxs("form",{onSubmit:z,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"name",children:"Nome Completo"}),f.jsx(rt,{id:"name",type:"text",placeholder:"Seu nome completo",value:r,onChange:V=>n(V.target.value),required:!0,className:"h-11"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"email",children:"Email"}),f.jsx(rt,{id:"email",type:"email",placeholder:"seu@email.com",value:i,onChange:V=>a(V.target.value),required:!0,className:"h-11"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"password",children:"Senha"}),f.jsxs("div",{className:"relative",children:[f.jsx(rt,{id:"password",type:w?"text":"password",placeholder:"Mínimo 6 caracteres",value:u,onChange:V=>m(V.target.value),required:!0,className:"h-11 pr-10"}),f.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>v(!w),children:w?f.jsx($d,{className:"h-4 w-4 text-gray-400"}):f.jsx(Oc,{className:"h-4 w-4 text-gray-400"})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"confirmPassword",children:"Confirmar Senha"}),f.jsxs("div",{className:"relative",children:[f.jsx(rt,{id:"confirmPassword",type:E?"text":"password",placeholder:"Confirme sua senha",value:g,onChange:V=>p(V.target.value),required:!0,className:"h-11 pr-10"}),f.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>_(!E),children:E?f.jsx($d,{className:"h-4 w-4 text-gray-400"}):f.jsx(Oc,{className:"h-4 w-4 text-gray-400"})})]})]}),P&&f.jsx(ur,{variant:"destructive",children:f.jsx(dr,{children:P})}),f.jsx(Ne,{type:"submit",className:"w-full h-11",disabled:R,children:R?"Criando conta...":"Criar Conta"})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("p",{className:"text-sm text-gray-600",children:["Já tem uma conta?"," ",f.jsx(kn,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Fazer login"})]})})]})]})]})})}function F7(){var E;const[e,t]=C.useState(""),[r,n]=C.useState(""),[i,a]=C.useState(!1),[u,m]=C.useState(""),{user:g}=er(),p=Ir(),{toast:w}=yr();C.useEffect(()=>{if(!g){p("/login",{replace:!0});return}(async()=>{try{const{data:R}=await Ve.from("profiles").select("company_id").eq("id",g.id).single();R!=null&&R.company_id&&p("/dashboard",{replace:!0})}catch(R){console.error("Erro ao verificar empresa existente:",R)}})()},[g,p]);const v=async _=>{var R,N,P;_.preventDefault(),m(""),a(!0);try{if(!e||!r){m("Preencha todos os campos");return}if(!g){m("Usuário não autenticado. Faça login novamente."),p("/login",{replace:!0});return}const{data:I,error:A}=await Ve.from("companies").insert({name:e,plan:r}).select("id");if(console.log("insertedCompanies",I),console.log("error",u),A)throw A;const S=(R=I==null?void 0:I[0])==null?void 0:R.id;if(!S)throw new Error("Erro ao criar empresa.");const j=((N=g.user_metadata)==null?void 0:N.name)??((P=g.email)==null?void 0:P.split("@")[0])??"Usuário",{error:z}=await Ve.from("profiles").update({role:"admin",company_id:S,name:j,is_active:!0}).eq("id",g.id);if(z)throw z;w({title:"Cadastro completo!",description:"Sua empresa foi criada com sucesso. Bem‑vindo ao Armazena!"}),p("/dashboard",{replace:!0})}catch(I){console.error("Erro no onboarding:",I),m(I.message||"Erro ao completar cadastro")}finally{a(!1)}};return g?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 px-4 flex items-center justify-center",children:f.jsxs("div",{className:"max-w-md w-full space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"flex justify-center items-center gap-3 mb-6",children:[f.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:f.jsx(Ct,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Armazena App"})]}),f.jsxs("p",{className:"text-lg text-gray-600",children:["Bem-vindo, ",((E=g.user_metadata)==null?void 0:E.name)||"usuário","!"]})]}),f.jsxs(Ke,{className:"shadow-lg border-0",children:[f.jsxs(pt,{className:"space-y-1",children:[f.jsx(mt,{className:"text-2xl text-center",children:"Completar Cadastro"}),f.jsx(pn,{className:"text-center",children:"Para começar a usar o sistema, informe os dados da sua empresa e escolha um plano."})]}),f.jsx(et,{children:f.jsxs("form",{onSubmit:v,className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xe,{htmlFor:"companyName",children:"Nome da Empresa *"}),f.jsx(rt,{id:"companyName",type:"text",placeholder:"Nome da sua empresa",value:e,onChange:_=>t(_.target.value),required:!0,className:"h-11"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Xe,{children:"Escolha um Plano *"}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${r==="free"?"border-green-600 ring-2 ring-green-200 bg-green-50":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>n("free"),children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-lg font-bold text-green-700",children:"Free"}),f.jsx("span",{className:"text-green-700 font-semibold",children:"R$ 0/mês"})]}),f.jsxs("ul",{className:"text-sm text-gray-700 list-disc list-inside space-y-1",children:[f.jsx("li",{children:"Até 50 ativos"}),f.jsx("li",{children:"Até 2 usuários"}),f.jsx("li",{children:"Suporte por e-mail (até 72h)"}),f.jsx("li",{children:"Relatórios básicos"})]})]}),f.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer transition-all relative ${r==="basic"?"border-blue-600 ring-2 ring-blue-200 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>n("basic"),children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg font-bold text-blue-700",children:"Basic"}),f.jsxs("span",{className:"bg-blue-600 text-white text-xs px-2 py-0.5 rounded-full font-semibold flex items-center gap-1",children:["Mais Popular",f.jsx(W8,{className:"w-3 h-3 text-yellow-300",fill:"#fde047"})]})]}),f.jsx("span",{className:"text-blue-700 font-semibold",children:"R$ 39,90/mês"})]}),f.jsxs("ul",{className:"text-sm text-gray-700 list-disc list-inside space-y-1",children:[f.jsx("li",{children:"Até 500 ativos"}),f.jsx("li",{children:"Até 3 usuários"}),f.jsx("li",{children:"Suporte por e-mail (até 48h)"}),f.jsx("li",{children:"Relatórios avançados"})]})]}),f.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${r==="premium"?"border-purple-600 ring-2 ring-purple-200 bg-purple-50":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>n("premium"),children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-lg font-bold text-purple-700",children:"Premium"}),f.jsx("span",{className:"text-purple-700 font-semibold",children:"R$ 79,90/mês"})]}),f.jsxs("ul",{className:"text-sm text-gray-700 list-disc list-inside space-y-1",children:[f.jsx("li",{children:"Até 1000 ativos"}),f.jsx("li",{children:"Até 10 usuários"}),f.jsx("li",{children:"Suporte por WhatsApp (até 24h)"}),f.jsx("li",{children:"Relatórios avançados"}),f.jsx("li",{children:"Integração com APIs"})]})]})]}),f.jsx("div",{className:"mt-4 text-center",children:f.jsxs("div",{className:"inline-block bg-gray-100 border border-gray-200 rounded-lg px-4 py-3",children:[f.jsx("span",{className:"block text-sm text-gray-700 mb-1",children:"Precisa de um plano maior ou personalizado?"}),f.jsx("a",{href:"mailto:microfocuspro@gmail.com",className:"text-blue-700 font-semibold underline hover:text-blue-900",target:"_blank",rel:"noopener noreferrer",children:"Fale conosco: microfocuspro@gmail.com"})]})})]}),u&&f.jsx(ur,{variant:"destructive",children:f.jsx(dr,{children:u})}),f.jsx(Ne,{type:"submit",className:"w-full h-11",disabled:i||!e||!r,children:i?"Finalizando cadastro...":"Finalizar Cadastro"})]})})]})]})}):null}const B7=new w4;function U7({children:e}){const{profile:t,company:r,loading:n}=er(),i=Ir(),a=Jn();return C.useEffect(()=>{!n&&t&&!r&&a.pathname!=="/onboarding"&&i("/onboarding",{replace:!0})},[t,r,n,a.pathname,i]),n||t&&!r&&a.pathname!=="/onboarding"?null:f.jsx(f.Fragment,{children:e})}function z7(){return f.jsx(E4,{client:B7,children:f.jsxs(OT,{children:[f.jsx(j7,{}),f.jsxs(GR,{children:[f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:f.jsxs(ST,{children:[f.jsx(Sr,{path:"/reset-password",element:f.jsx(D7,{})}),f.jsx(Sr,{path:"/login",element:f.jsx(A5,{})}),f.jsx(Sr,{path:"/signup",element:f.jsx(_5,{})}),f.jsx(Sr,{path:"/register",element:f.jsx(L7,{})}),f.jsx(Sr,{path:"/acesso-negado",element:f.jsx(P7,{})}),f.jsx(Sr,{path:"/",element:f.jsx(cs,{children:f.jsx(Ns,{children:f.jsx(T1,{to:"/dashboard",replace:!0})})})}),f.jsx(Sr,{path:"/dashboard",element:f.jsx(cs,{children:f.jsx(U7,{children:f.jsx(Ns,{children:f.jsx(N5,{})})})})}),f.jsx(Sr,{path:"/assets",element:f.jsx(cs,{children:f.jsx(Ns,{children:f.jsx(DM,{})})})}),f.jsx(Sr,{path:"/assets/new",element:f.jsx(cs,{children:f.jsx(Ns,{children:f.jsx(e7,{})})})}),f.jsx(Sr,{path:"/assets/:id",element:f.jsx(cs,{children:f.jsx(Ns,{children:f.jsx(XM,{})})})}),f.jsx(Sr,{path:"/assets/:id/edit",element:f.jsx(cs,{children:f.jsx(Ns,{children:f.jsx(t7,{})})})}),f.jsx(Sr,{path:"/users",element:f.jsx(cs,{requiredRole:"admin",children:f.jsx(Ns,{children:f.jsx(d7,{})})})}),f.jsx(Sr,{path:"/profile",element:f.jsx(cs,{children:f.jsx(Ns,{children:f.jsx(f7,{})})})}),f.jsx(Sr,{path:"/my-plan",element:f.jsx(cs,{requiredRole:"admin",children:f.jsx(Ns,{children:f.jsx(k7,{})})})}),f.jsx(Sr,{path:"/set-password",element:f.jsx(M7,{})}),f.jsx(Sr,{path:"/onboarding",element:f.jsx(cs,{children:f.jsx(F7,{})})})]})}),f.jsx(b5,{}),f.jsx(w5,{}),f.jsx(TI,{})]})]})})}H2(document.getElementById("root")).render(f.jsx(z7,{}));
