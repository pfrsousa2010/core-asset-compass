var J4=e=>{throw TypeError(e)};var Cx=(e,t,r)=>t.has(e)||J4("Cannot "+r);var Le=(e,t,r)=>(Cx(e,t,"read from private field"),r?r.call(e):t.get(e)),ar=(e,t,r)=>t.has(e)?J4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),jt=(e,t,r,n)=>(Cx(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Rr=(e,t,r)=>(Cx(e,t,"access private method"),r);var Tp=(e,t,r,n)=>({set _(i){jt(e,t,i,r)},get _(){return Le(e,t,n)}});function uA(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Zi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function OO(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var fA={exports:{}},s2={},hA={exports:{}},Wr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1=Symbol.for("react.element"),RO=Symbol.for("react.portal"),LO=Symbol.for("react.fragment"),DO=Symbol.for("react.strict_mode"),FO=Symbol.for("react.profiler"),MO=Symbol.for("react.provider"),jO=Symbol.for("react.context"),BO=Symbol.for("react.forward_ref"),UO=Symbol.for("react.suspense"),WO=Symbol.for("react.memo"),zO=Symbol.for("react.lazy"),eb=Symbol.iterator;function HO(e){return e===null||typeof e!="object"?null:(e=eb&&e[eb]||e["@@iterator"],typeof e=="function"?e:null)}var dA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pA=Object.assign,gA={};function Pd(e,t,r){this.props=e,this.context=t,this.refs=gA,this.updater=r||dA}Pd.prototype.isReactComponent={};Pd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mA(){}mA.prototype=Pd.prototype;function Yy(e,t,r){this.props=e,this.context=t,this.refs=gA,this.updater=r||dA}var Ky=Yy.prototype=new mA;Ky.constructor=Yy;pA(Ky,Pd.prototype);Ky.isPureReactComponent=!0;var tb=Array.isArray,xA=Object.prototype.hasOwnProperty,Qy={current:null},vA={key:!0,ref:!0,__self:!0,__source:!0};function wA(e,t,r){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)xA.call(t,n)&&!vA.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var u=Array(l),f=0;f<l;f++)u[f]=arguments[f+2];i.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:j1,type:e,key:s,ref:a,props:i,_owner:Qy.current}}function VO(e,t){return{$$typeof:j1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zy(e){return typeof e=="object"&&e!==null&&e.$$typeof===j1}function qO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var rb=/\/+/g;function Nx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qO(""+e.key):t.toString(36)}function yg(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case j1:case RO:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+Nx(a,0):n,tb(i)?(r="",e!=null&&(r=e.replace(rb,"$&/")+"/"),yg(i,t,r,"",function(f){return f})):i!=null&&(Zy(i)&&(i=VO(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(rb,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",tb(e))for(var l=0;l<e.length;l++){s=e[l];var u=n+Nx(s,l);a+=yg(s,t,r,u,i)}else if(u=HO(e),typeof u=="function")for(e=u.call(e),l=0;!(s=e.next()).done;)s=s.value,u=n+Nx(s,l++),a+=yg(s,t,r,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ip(e,t,r){if(e==null)return e;var n=[],i=0;return yg(e,n,"","",function(s){return t.call(r,s,i++)}),n}function GO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ys={current:null},bg={transition:null},$O={ReactCurrentDispatcher:Ys,ReactCurrentBatchConfig:bg,ReactCurrentOwner:Qy};function yA(){throw Error("act(...) is not supported in production builds of React.")}Wr.Children={map:Ip,forEach:function(e,t,r){Ip(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ip(e,function(){t++}),t},toArray:function(e){return Ip(e,function(t){return t})||[]},only:function(e){if(!Zy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Wr.Component=Pd;Wr.Fragment=LO;Wr.Profiler=FO;Wr.PureComponent=Yy;Wr.StrictMode=DO;Wr.Suspense=UO;Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$O;Wr.act=yA;Wr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=pA({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Qy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)xA.call(t,u)&&!vA.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var f=0;f<u;f++)l[f]=arguments[f+2];n.children=l}return{$$typeof:j1,type:e.type,key:i,ref:s,props:n,_owner:a}};Wr.createContext=function(e){return e={$$typeof:jO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:MO,_context:e},e.Consumer=e};Wr.createElement=wA;Wr.createFactory=function(e){var t=wA.bind(null,e);return t.type=e,t};Wr.createRef=function(){return{current:null}};Wr.forwardRef=function(e){return{$$typeof:BO,render:e}};Wr.isValidElement=Zy;Wr.lazy=function(e){return{$$typeof:zO,_payload:{_status:-1,_result:e},_init:GO}};Wr.memo=function(e,t){return{$$typeof:WO,type:e,compare:t===void 0?null:t}};Wr.startTransition=function(e){var t=bg.transition;bg.transition={};try{e()}finally{bg.transition=t}};Wr.unstable_act=yA;Wr.useCallback=function(e,t){return Ys.current.useCallback(e,t)};Wr.useContext=function(e){return Ys.current.useContext(e)};Wr.useDebugValue=function(){};Wr.useDeferredValue=function(e){return Ys.current.useDeferredValue(e)};Wr.useEffect=function(e,t){return Ys.current.useEffect(e,t)};Wr.useId=function(){return Ys.current.useId()};Wr.useImperativeHandle=function(e,t,r){return Ys.current.useImperativeHandle(e,t,r)};Wr.useInsertionEffect=function(e,t){return Ys.current.useInsertionEffect(e,t)};Wr.useLayoutEffect=function(e,t){return Ys.current.useLayoutEffect(e,t)};Wr.useMemo=function(e,t){return Ys.current.useMemo(e,t)};Wr.useReducer=function(e,t,r){return Ys.current.useReducer(e,t,r)};Wr.useRef=function(e){return Ys.current.useRef(e)};Wr.useState=function(e){return Ys.current.useState(e)};Wr.useSyncExternalStore=function(e,t,r){return Ys.current.useSyncExternalStore(e,t,r)};Wr.useTransition=function(){return Ys.current.useTransition()};Wr.version="18.3.1";hA.exports=Wr;var D=hA.exports;const Pc=i2(D),bA=uA({__proto__:null,default:Pc},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XO=D,YO=Symbol.for("react.element"),KO=Symbol.for("react.fragment"),QO=Object.prototype.hasOwnProperty,ZO=XO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JO={key:!0,ref:!0,__self:!0,__source:!0};function _A(e,t,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)QO.call(t,n)&&!JO.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:YO,type:e,key:s,ref:a,props:i,_owner:ZO.current}}s2.Fragment=KO;s2.jsx=_A;s2.jsxs=_A;fA.exports=s2;var x=fA.exports,SA={exports:{}},Ua={},EA={exports:{}},AA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(de,_e){var Te=de.length;de.push(_e);e:for(;0<Te;){var He=Te-1>>>1,j=de[He];if(0<i(j,_e))de[He]=_e,de[Te]=j,Te=He;else break e}}function r(de){return de.length===0?null:de[0]}function n(de){if(de.length===0)return null;var _e=de[0],Te=de.pop();if(Te!==_e){de[0]=Te;e:for(var He=0,j=de.length,V=j>>>1;He<V;){var G=2*(He+1)-1,Z=de[G],ie=G+1,Se=de[ie];if(0>i(Z,Te))ie<j&&0>i(Se,Z)?(de[He]=Se,de[ie]=Te,He=ie):(de[He]=Z,de[G]=Te,He=G);else if(ie<j&&0>i(Se,Te))de[He]=Se,de[ie]=Te,He=ie;else break e}}return _e}function i(de,_e){var Te=de.sortIndex-_e.sortIndex;return Te!==0?Te:de.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],f=[],d=1,m=null,y=3,v=!1,E=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(de){for(var _e=r(f);_e!==null;){if(_e.callback===null)n(f);else if(_e.startTime<=de)n(f),_e.sortIndex=_e.expirationTime,t(u,_e);else break;_e=r(f)}}function L(de){if(_=!1,I(de),!E)if(r(u)!==null)E=!0,Ne(q);else{var _e=r(f);_e!==null&&Ae(L,_e.startTime-de)}}function q(de,_e){E=!1,_&&(_=!1,A(M),M=-1),v=!0;var Te=y;try{for(I(_e),m=r(u);m!==null&&(!(m.expirationTime>_e)||de&&!W());){var He=m.callback;if(typeof He=="function"){m.callback=null,y=m.priorityLevel;var j=He(m.expirationTime<=_e);_e=e.unstable_now(),typeof j=="function"?m.callback=j:m===r(u)&&n(u),I(_e)}else n(u);m=r(u)}if(m!==null)var V=!0;else{var G=r(f);G!==null&&Ae(L,G.startTime-_e),V=!1}return V}finally{m=null,y=Te,v=!1}}var Q=!1,B=null,M=-1,F=5,X=-1;function W(){return!(e.unstable_now()-X<F)}function U(){if(B!==null){var de=e.unstable_now();X=de;var _e=!0;try{_e=B(!0,de)}finally{_e?re():(Q=!1,B=null)}}else Q=!1}var re;if(typeof C=="function")re=function(){C(U)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,le=oe.port2;oe.port1.onmessage=U,re=function(){le.postMessage(null)}}else re=function(){N(U,0)};function Ne(de){B=de,Q||(Q=!0,re())}function Ae(de,_e){M=N(function(){de(e.unstable_now())},_e)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(de){de.callback=null},e.unstable_continueExecution=function(){E||v||(E=!0,Ne(q))},e.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<de?Math.floor(1e3/de):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(de){switch(y){case 1:case 2:case 3:var _e=3;break;default:_e=y}var Te=y;y=_e;try{return de()}finally{y=Te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(de,_e){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var Te=y;y=de;try{return _e()}finally{y=Te}},e.unstable_scheduleCallback=function(de,_e,Te){var He=e.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?He+Te:He):Te=He,de){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Te+j,de={id:d++,callback:_e,priorityLevel:de,startTime:Te,expirationTime:j,sortIndex:-1},Te>He?(de.sortIndex=Te,t(f,de),r(u)===null&&de===r(f)&&(_?(A(M),M=-1):_=!0,Ae(L,Te-He))):(de.sortIndex=j,t(u,de),E||v||(E=!0,Ne(q))),de},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(de){var _e=y;return function(){var Te=y;y=_e;try{return de.apply(this,arguments)}finally{y=Te}}}})(AA);EA.exports=AA;var eR=EA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tR=D,ja=eR;function Ct(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CA=new Set,Z0={};function Mf(e,t){vd(e,t),vd(e+"Capture",t)}function vd(e,t){for(Z0[e]=t,e=0;e<t.length;e++)CA.add(t[e])}var Xl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vv=Object.prototype.hasOwnProperty,rR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nb={},ib={};function nR(e){return Vv.call(ib,e)?!0:Vv.call(nb,e)?!1:rR.test(e)?ib[e]=!0:(nb[e]=!0,!1)}function iR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sR(e,t,r,n){if(t===null||typeof t>"u"||iR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ks(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var ms={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ms[e]=new Ks(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ms[t]=new Ks(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ms[e]=new Ks(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ms[e]=new Ks(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ms[e]=new Ks(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ms[e]=new Ks(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ms[e]=new Ks(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ms[e]=new Ks(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ms[e]=new Ks(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jy=/[\-:]([a-z])/g;function e5(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jy,e5);ms[t]=new Ks(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jy,e5);ms[t]=new Ks(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jy,e5);ms[t]=new Ks(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ms[e]=new Ks(e,1,!1,e.toLowerCase(),null,!1,!1)});ms.xlinkHref=new Ks("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ms[e]=new Ks(e,1,!1,e.toLowerCase(),null,!0,!0)});function t5(e,t,r,n){var i=ms.hasOwnProperty(t)?ms[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sR(t,r,i,n)&&(r=null),n||i===null?nR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ic=tR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kp=Symbol.for("react.element"),bh=Symbol.for("react.portal"),_h=Symbol.for("react.fragment"),r5=Symbol.for("react.strict_mode"),qv=Symbol.for("react.profiler"),NA=Symbol.for("react.provider"),TA=Symbol.for("react.context"),n5=Symbol.for("react.forward_ref"),Gv=Symbol.for("react.suspense"),$v=Symbol.for("react.suspense_list"),i5=Symbol.for("react.memo"),Dc=Symbol.for("react.lazy"),IA=Symbol.for("react.offscreen"),sb=Symbol.iterator;function a0(e){return e===null||typeof e!="object"?null:(e=sb&&e[sb]||e["@@iterator"],typeof e=="function"?e:null)}var ri=Object.assign,Tx;function _0(e){if(Tx===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Tx=t&&t[1]||""}return`
`+Tx+e}var Ix=!1;function kx(e,t){if(!e||Ix)return"";Ix=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var n=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){n=f}e.call(t.prototype)}else{try{throw Error()}catch(f){n=f}e()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var u=`
`+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=l);break}}}finally{Ix=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_0(e):""}function aR(e){switch(e.tag){case 5:return _0(e.type);case 16:return _0("Lazy");case 13:return _0("Suspense");case 19:return _0("SuspenseList");case 0:case 2:case 15:return e=kx(e.type,!1),e;case 11:return e=kx(e.type.render,!1),e;case 1:return e=kx(e.type,!0),e;default:return""}}function Xv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _h:return"Fragment";case bh:return"Portal";case qv:return"Profiler";case r5:return"StrictMode";case Gv:return"Suspense";case $v:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case TA:return(e.displayName||"Context")+".Consumer";case NA:return(e._context.displayName||"Context")+".Provider";case n5:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case i5:return t=e.displayName||null,t!==null?t:Xv(e.type)||"Memo";case Dc:t=e._payload,e=e._init;try{return Xv(e(t))}catch{}}return null}function oR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xv(t);case 8:return t===r5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lR(e){var t=kA(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pp(e){e._valueTracker||(e._valueTracker=lR(e))}function PA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=kA(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Hg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yv(e,t){var r=t.checked;return ri({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ab(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=hu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function OA(e,t){t=t.checked,t!=null&&t5(e,"checked",t,!1)}function Kv(e,t){OA(e,t);var r=hu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qv(e,t.type,r):t.hasOwnProperty("defaultValue")&&Qv(e,t.type,hu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ob(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Qv(e,t,r){(t!=="number"||Hg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var S0=Array.isArray;function Fh(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+hu(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Zv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ct(91));return ri({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ct(92));if(S0(r)){if(1<r.length)throw Error(Ct(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:hu(r)}}function RA(e,t){var r=hu(t.value),n=hu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function cb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function LA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?LA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Op,DA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Op=Op||document.createElement("div"),Op.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Op.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function J0(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var P0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cR=["Webkit","ms","Moz","O"];Object.keys(P0).forEach(function(e){cR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),P0[t]=P0[e]})});function FA(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||P0.hasOwnProperty(e)&&P0[e]?(""+t).trim():t+"px"}function MA(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=FA(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var uR=ri({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ew(e,t){if(t){if(uR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ct(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ct(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ct(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ct(62))}}function tw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rw=null;function s5(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nw=null,Mh=null,jh=null;function ub(e){if(e=W1(e)){if(typeof nw!="function")throw Error(Ct(280));var t=e.stateNode;t&&(t=u2(t),nw(e.stateNode,e.type,t))}}function jA(e){Mh?jh?jh.push(e):jh=[e]:Mh=e}function BA(){if(Mh){var e=Mh,t=jh;if(jh=Mh=null,ub(e),t)for(e=0;e<t.length;e++)ub(t[e])}}function UA(e,t){return e(t)}function WA(){}var Px=!1;function zA(e,t,r){if(Px)return e(t,r);Px=!0;try{return UA(e,t,r)}finally{Px=!1,(Mh!==null||jh!==null)&&(WA(),BA())}}function e1(e,t){var r=e.stateNode;if(r===null)return null;var n=u2(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ct(231,t,typeof r));return r}var iw=!1;if(Xl)try{var o0={};Object.defineProperty(o0,"passive",{get:function(){iw=!0}}),window.addEventListener("test",o0,o0),window.removeEventListener("test",o0,o0)}catch{iw=!1}function fR(e,t,r,n,i,s,a,l,u){var f=Array.prototype.slice.call(arguments,3);try{t.apply(r,f)}catch(d){this.onError(d)}}var O0=!1,Vg=null,qg=!1,sw=null,hR={onError:function(e){O0=!0,Vg=e}};function dR(e,t,r,n,i,s,a,l,u){O0=!1,Vg=null,fR.apply(hR,arguments)}function pR(e,t,r,n,i,s,a,l,u){if(dR.apply(this,arguments),O0){if(O0){var f=Vg;O0=!1,Vg=null}else throw Error(Ct(198));qg||(qg=!0,sw=f)}}function jf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function HA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fb(e){if(jf(e)!==e)throw Error(Ct(188))}function gR(e){var t=e.alternate;if(!t){if(t=jf(e),t===null)throw Error(Ct(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return fb(i),e;if(s===n)return fb(i),t;s=s.sibling}throw Error(Ct(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a)throw Error(Ct(189))}}if(r.alternate!==n)throw Error(Ct(190))}if(r.tag!==3)throw Error(Ct(188));return r.stateNode.current===r?e:t}function VA(e){return e=gR(e),e!==null?qA(e):null}function qA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qA(e);if(t!==null)return t;e=e.sibling}return null}var GA=ja.unstable_scheduleCallback,hb=ja.unstable_cancelCallback,mR=ja.unstable_shouldYield,xR=ja.unstable_requestPaint,xi=ja.unstable_now,vR=ja.unstable_getCurrentPriorityLevel,a5=ja.unstable_ImmediatePriority,$A=ja.unstable_UserBlockingPriority,Gg=ja.unstable_NormalPriority,wR=ja.unstable_LowPriority,XA=ja.unstable_IdlePriority,a2=null,fl=null;function yR(e){if(fl&&typeof fl.onCommitFiberRoot=="function")try{fl.onCommitFiberRoot(a2,e,void 0,(e.current.flags&128)===128)}catch{}}var Oo=Math.clz32?Math.clz32:SR,bR=Math.log,_R=Math.LN2;function SR(e){return e>>>=0,e===0?32:31-(bR(e)/_R|0)|0}var Rp=64,Lp=4194304;function E0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $g(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=E0(l):(s&=a,s!==0&&(n=E0(s)))}else a=r&~i,a!==0?n=E0(a):s!==0&&(n=E0(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Oo(t),i=1<<r,n|=e[r],t&=~i;return n}function ER(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Oo(s),l=1<<a,u=i[a];u===-1?(!(l&r)||l&n)&&(i[a]=ER(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}}function aw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function YA(){var e=Rp;return Rp<<=1,!(Rp&4194240)&&(Rp=64),e}function Ox(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function B1(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Oo(t),e[t]=r}function CR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Oo(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function o5(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Oo(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var yn=0;function KA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var QA,l5,ZA,JA,eC,ow=!1,Dp=[],ru=null,nu=null,iu=null,t1=new Map,r1=new Map,jc=[],NR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function db(e,t){switch(e){case"focusin":case"focusout":ru=null;break;case"dragenter":case"dragleave":nu=null;break;case"mouseover":case"mouseout":iu=null;break;case"pointerover":case"pointerout":t1.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":r1.delete(t.pointerId)}}function l0(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=W1(t),t!==null&&l5(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function TR(e,t,r,n,i){switch(t){case"focusin":return ru=l0(ru,e,t,r,n,i),!0;case"dragenter":return nu=l0(nu,e,t,r,n,i),!0;case"mouseover":return iu=l0(iu,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return t1.set(s,l0(t1.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,r1.set(s,l0(r1.get(s)||null,e,t,r,n,i)),!0}return!1}function tC(e){var t=sf(e.target);if(t!==null){var r=jf(t);if(r!==null){if(t=r.tag,t===13){if(t=HA(r),t!==null){e.blockedOn=t,eC(e.priority,function(){ZA(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _g(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=lw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);rw=n,r.target.dispatchEvent(n),rw=null}else return t=W1(r),t!==null&&l5(t),e.blockedOn=r,!1;t.shift()}return!0}function pb(e,t,r){_g(e)&&r.delete(t)}function IR(){ow=!1,ru!==null&&_g(ru)&&(ru=null),nu!==null&&_g(nu)&&(nu=null),iu!==null&&_g(iu)&&(iu=null),t1.forEach(pb),r1.forEach(pb)}function c0(e,t){e.blockedOn===t&&(e.blockedOn=null,ow||(ow=!0,ja.unstable_scheduleCallback(ja.unstable_NormalPriority,IR)))}function n1(e){function t(i){return c0(i,e)}if(0<Dp.length){c0(Dp[0],e);for(var r=1;r<Dp.length;r++){var n=Dp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ru!==null&&c0(ru,e),nu!==null&&c0(nu,e),iu!==null&&c0(iu,e),t1.forEach(t),r1.forEach(t),r=0;r<jc.length;r++)n=jc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<jc.length&&(r=jc[0],r.blockedOn===null);)tC(r),r.blockedOn===null&&jc.shift()}var Bh=ic.ReactCurrentBatchConfig,Xg=!0;function kR(e,t,r,n){var i=yn,s=Bh.transition;Bh.transition=null;try{yn=1,c5(e,t,r,n)}finally{yn=i,Bh.transition=s}}function PR(e,t,r,n){var i=yn,s=Bh.transition;Bh.transition=null;try{yn=4,c5(e,t,r,n)}finally{yn=i,Bh.transition=s}}function c5(e,t,r,n){if(Xg){var i=lw(e,t,r,n);if(i===null)zx(e,t,n,Yg,r),db(e,n);else if(TR(i,e,t,r,n))n.stopPropagation();else if(db(e,n),t&4&&-1<NR.indexOf(e)){for(;i!==null;){var s=W1(i);if(s!==null&&QA(s),s=lw(e,t,r,n),s===null&&zx(e,t,n,Yg,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else zx(e,t,n,null,r)}}var Yg=null;function lw(e,t,r,n){if(Yg=null,e=s5(n),e=sf(e),e!==null)if(t=jf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=HA(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yg=e,null}function rC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vR()){case a5:return 1;case $A:return 4;case Gg:case wR:return 16;case XA:return 536870912;default:return 16}default:return 16}}var Kc=null,u5=null,Sg=null;function nC(){if(Sg)return Sg;var e,t=u5,r=t.length,n,i="value"in Kc?Kc.value:Kc.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[s-n];n++);return Sg=i.slice(e,1<n?1-n:void 0)}function Eg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fp(){return!0}function gb(){return!1}function Wa(e){function t(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fp:gb,this.isPropagationStopped=gb,this}return ri(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fp)},persist:function(){},isPersistent:Fp}),t}var Od={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},f5=Wa(Od),U1=ri({},Od,{view:0,detail:0}),OR=Wa(U1),Rx,Lx,u0,o2=ri({},U1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:h5,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==u0&&(u0&&e.type==="mousemove"?(Rx=e.screenX-u0.screenX,Lx=e.screenY-u0.screenY):Lx=Rx=0,u0=e),Rx)},movementY:function(e){return"movementY"in e?e.movementY:Lx}}),mb=Wa(o2),RR=ri({},o2,{dataTransfer:0}),LR=Wa(RR),DR=ri({},U1,{relatedTarget:0}),Dx=Wa(DR),FR=ri({},Od,{animationName:0,elapsedTime:0,pseudoElement:0}),MR=Wa(FR),jR=ri({},Od,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),BR=Wa(jR),UR=ri({},Od,{data:0}),xb=Wa(UR),WR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=HR[e])?!!t[e]:!1}function h5(){return VR}var qR=ri({},U1,{key:function(e){if(e.key){var t=WR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Eg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:h5,charCode:function(e){return e.type==="keypress"?Eg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Eg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),GR=Wa(qR),$R=ri({},o2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vb=Wa($R),XR=ri({},U1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:h5}),YR=Wa(XR),KR=ri({},Od,{propertyName:0,elapsedTime:0,pseudoElement:0}),QR=Wa(KR),ZR=ri({},o2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),JR=Wa(ZR),eL=[9,13,27,32],d5=Xl&&"CompositionEvent"in window,R0=null;Xl&&"documentMode"in document&&(R0=document.documentMode);var tL=Xl&&"TextEvent"in window&&!R0,iC=Xl&&(!d5||R0&&8<R0&&11>=R0),wb=" ",yb=!1;function sC(e,t){switch(e){case"keyup":return eL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sh=!1;function rL(e,t){switch(e){case"compositionend":return aC(t);case"keypress":return t.which!==32?null:(yb=!0,wb);case"textInput":return e=t.data,e===wb&&yb?null:e;default:return null}}function nL(e,t){if(Sh)return e==="compositionend"||!d5&&sC(e,t)?(e=nC(),Sg=u5=Kc=null,Sh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iC&&t.locale!=="ko"?null:t.data;default:return null}}var iL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iL[e.type]:t==="textarea"}function oC(e,t,r,n){jA(n),t=Kg(t,"onChange"),0<t.length&&(r=new f5("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var L0=null,i1=null;function sL(e){vC(e,0)}function l2(e){var t=Ch(e);if(PA(t))return e}function aL(e,t){if(e==="change")return t}var lC=!1;if(Xl){var Fx;if(Xl){var Mx="oninput"in document;if(!Mx){var _b=document.createElement("div");_b.setAttribute("oninput","return;"),Mx=typeof _b.oninput=="function"}Fx=Mx}else Fx=!1;lC=Fx&&(!document.documentMode||9<document.documentMode)}function Sb(){L0&&(L0.detachEvent("onpropertychange",cC),i1=L0=null)}function cC(e){if(e.propertyName==="value"&&l2(i1)){var t=[];oC(t,i1,e,s5(e)),zA(sL,t)}}function oL(e,t,r){e==="focusin"?(Sb(),L0=t,i1=r,L0.attachEvent("onpropertychange",cC)):e==="focusout"&&Sb()}function lL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return l2(i1)}function cL(e,t){if(e==="click")return l2(t)}function uL(e,t){if(e==="input"||e==="change")return l2(t)}function fL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Do=typeof Object.is=="function"?Object.is:fL;function s1(e,t){if(Do(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Vv.call(t,i)||!Do(e[i],t[i]))return!1}return!0}function Eb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ab(e,t){var r=Eb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Eb(r)}}function uC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fC(){for(var e=window,t=Hg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hg(e.document)}return t}function p5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hL(e){var t=fC(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&uC(r.ownerDocument.documentElement,r)){if(n!==null&&p5(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=Ab(r,s);var a=Ab(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dL=Xl&&"documentMode"in document&&11>=document.documentMode,Eh=null,cw=null,D0=null,uw=!1;function Cb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;uw||Eh==null||Eh!==Hg(n)||(n=Eh,"selectionStart"in n&&p5(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),D0&&s1(D0,n)||(D0=n,n=Kg(cw,"onSelect"),0<n.length&&(t=new f5("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Eh)))}function Mp(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ah={animationend:Mp("Animation","AnimationEnd"),animationiteration:Mp("Animation","AnimationIteration"),animationstart:Mp("Animation","AnimationStart"),transitionend:Mp("Transition","TransitionEnd")},jx={},hC={};Xl&&(hC=document.createElement("div").style,"AnimationEvent"in window||(delete Ah.animationend.animation,delete Ah.animationiteration.animation,delete Ah.animationstart.animation),"TransitionEvent"in window||delete Ah.transitionend.transition);function c2(e){if(jx[e])return jx[e];if(!Ah[e])return e;var t=Ah[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in hC)return jx[e]=t[r];return e}var dC=c2("animationend"),pC=c2("animationiteration"),gC=c2("animationstart"),mC=c2("transitionend"),xC=new Map,Nb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Au(e,t){xC.set(e,t),Mf(t,[e])}for(var Bx=0;Bx<Nb.length;Bx++){var Ux=Nb[Bx],pL=Ux.toLowerCase(),gL=Ux[0].toUpperCase()+Ux.slice(1);Au(pL,"on"+gL)}Au(dC,"onAnimationEnd");Au(pC,"onAnimationIteration");Au(gC,"onAnimationStart");Au("dblclick","onDoubleClick");Au("focusin","onFocus");Au("focusout","onBlur");Au(mC,"onTransitionEnd");vd("onMouseEnter",["mouseout","mouseover"]);vd("onMouseLeave",["mouseout","mouseover"]);vd("onPointerEnter",["pointerout","pointerover"]);vd("onPointerLeave",["pointerout","pointerover"]);Mf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var A0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mL=new Set("cancel close invalid load scroll toggle".split(" ").concat(A0));function Tb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,pR(n,t,void 0,e),e.currentTarget=null}function vC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],u=l.instance,f=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Tb(i,l,f),s=u}else for(a=0;a<n.length;a++){if(l=n[a],u=l.instance,f=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Tb(i,l,f),s=u}}}if(qg)throw e=sw,qg=!1,sw=null,e}function jn(e,t){var r=t[gw];r===void 0&&(r=t[gw]=new Set);var n=e+"__bubble";r.has(n)||(wC(t,e,2,!1),r.add(n))}function Wx(e,t,r){var n=0;t&&(n|=4),wC(r,e,n,t)}var jp="_reactListening"+Math.random().toString(36).slice(2);function a1(e){if(!e[jp]){e[jp]=!0,CA.forEach(function(r){r!=="selectionchange"&&(mL.has(r)||Wx(r,!1,e),Wx(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jp]||(t[jp]=!0,Wx("selectionchange",!1,t))}}function wC(e,t,r,n){switch(rC(t)){case 1:var i=kR;break;case 4:i=PR;break;default:i=c5}r=i.bind(null,t,r,e),i=void 0,!iw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function zx(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;l!==null;){if(a=sf(l),a===null)return;if(u=a.tag,u===5||u===6){n=s=a;continue e}l=l.parentNode}}n=n.return}zA(function(){var f=s,d=s5(r),m=[];e:{var y=xC.get(e);if(y!==void 0){var v=f5,E=e;switch(e){case"keypress":if(Eg(r)===0)break e;case"keydown":case"keyup":v=GR;break;case"focusin":E="focus",v=Dx;break;case"focusout":E="blur",v=Dx;break;case"beforeblur":case"afterblur":v=Dx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=mb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=LR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=YR;break;case dC:case pC:case gC:v=MR;break;case mC:v=QR;break;case"scroll":v=OR;break;case"wheel":v=JR;break;case"copy":case"cut":case"paste":v=BR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=vb}var _=(t&4)!==0,N=!_&&e==="scroll",A=_?y!==null?y+"Capture":null:y;_=[];for(var C=f,I;C!==null;){I=C;var L=I.stateNode;if(I.tag===5&&L!==null&&(I=L,A!==null&&(L=e1(C,A),L!=null&&_.push(o1(C,L,I)))),N)break;C=C.return}0<_.length&&(y=new v(y,E,null,r,d),m.push({event:y,listeners:_}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",y&&r!==rw&&(E=r.relatedTarget||r.fromElement)&&(sf(E)||E[Yl]))break e;if((v||y)&&(y=d.window===d?d:(y=d.ownerDocument)?y.defaultView||y.parentWindow:window,v?(E=r.relatedTarget||r.toElement,v=f,E=E?sf(E):null,E!==null&&(N=jf(E),E!==N||E.tag!==5&&E.tag!==6)&&(E=null)):(v=null,E=f),v!==E)){if(_=mb,L="onMouseLeave",A="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(_=vb,L="onPointerLeave",A="onPointerEnter",C="pointer"),N=v==null?y:Ch(v),I=E==null?y:Ch(E),y=new _(L,C+"leave",v,r,d),y.target=N,y.relatedTarget=I,L=null,sf(d)===f&&(_=new _(A,C+"enter",E,r,d),_.target=I,_.relatedTarget=N,L=_),N=L,v&&E)t:{for(_=v,A=E,C=0,I=_;I;I=nh(I))C++;for(I=0,L=A;L;L=nh(L))I++;for(;0<C-I;)_=nh(_),C--;for(;0<I-C;)A=nh(A),I--;for(;C--;){if(_===A||A!==null&&_===A.alternate)break t;_=nh(_),A=nh(A)}_=null}else _=null;v!==null&&Ib(m,y,v,_,!1),E!==null&&N!==null&&Ib(m,N,E,_,!0)}}e:{if(y=f?Ch(f):window,v=y.nodeName&&y.nodeName.toLowerCase(),v==="select"||v==="input"&&y.type==="file")var q=aL;else if(bb(y))if(lC)q=uL;else{q=lL;var Q=oL}else(v=y.nodeName)&&v.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(q=cL);if(q&&(q=q(e,f))){oC(m,q,r,d);break e}Q&&Q(e,y,f),e==="focusout"&&(Q=y._wrapperState)&&Q.controlled&&y.type==="number"&&Qv(y,"number",y.value)}switch(Q=f?Ch(f):window,e){case"focusin":(bb(Q)||Q.contentEditable==="true")&&(Eh=Q,cw=f,D0=null);break;case"focusout":D0=cw=Eh=null;break;case"mousedown":uw=!0;break;case"contextmenu":case"mouseup":case"dragend":uw=!1,Cb(m,r,d);break;case"selectionchange":if(dL)break;case"keydown":case"keyup":Cb(m,r,d)}var B;if(d5)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Sh?sC(e,r)&&(M="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(iC&&r.locale!=="ko"&&(Sh||M!=="onCompositionStart"?M==="onCompositionEnd"&&Sh&&(B=nC()):(Kc=d,u5="value"in Kc?Kc.value:Kc.textContent,Sh=!0)),Q=Kg(f,M),0<Q.length&&(M=new xb(M,e,null,r,d),m.push({event:M,listeners:Q}),B?M.data=B:(B=aC(r),B!==null&&(M.data=B)))),(B=tL?rL(e,r):nL(e,r))&&(f=Kg(f,"onBeforeInput"),0<f.length&&(d=new xb("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:f}),d.data=B))}vC(m,t)})}function o1(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Kg(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=e1(e,r),s!=null&&n.unshift(o1(e,s,i)),s=e1(e,t),s!=null&&n.push(o1(e,s,i))),e=e.return}return n}function nh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ib(e,t,r,n,i){for(var s=t._reactName,a=[];r!==null&&r!==n;){var l=r,u=l.alternate,f=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&f!==null&&(l=f,i?(u=e1(r,s),u!=null&&a.unshift(o1(r,u,l))):i||(u=e1(r,s),u!=null&&a.push(o1(r,u,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var xL=/\r\n?/g,vL=/\u0000|\uFFFD/g;function kb(e){return(typeof e=="string"?e:""+e).replace(xL,`
`).replace(vL,"")}function Bp(e,t,r){if(t=kb(t),kb(e)!==t&&r)throw Error(Ct(425))}function Qg(){}var fw=null,hw=null;function dw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pw=typeof setTimeout=="function"?setTimeout:void 0,wL=typeof clearTimeout=="function"?clearTimeout:void 0,Pb=typeof Promise=="function"?Promise:void 0,yL=typeof queueMicrotask=="function"?queueMicrotask:typeof Pb<"u"?function(e){return Pb.resolve(null).then(e).catch(bL)}:pw;function bL(e){setTimeout(function(){throw e})}function Hx(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),n1(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);n1(t)}function su(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ob(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Rd=Math.random().toString(36).slice(2),al="__reactFiber$"+Rd,l1="__reactProps$"+Rd,Yl="__reactContainer$"+Rd,gw="__reactEvents$"+Rd,_L="__reactListeners$"+Rd,SL="__reactHandles$"+Rd;function sf(e){var t=e[al];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Yl]||r[al]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ob(e);e!==null;){if(r=e[al])return r;e=Ob(e)}return t}e=r,r=e.parentNode}return null}function W1(e){return e=e[al]||e[Yl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ch(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ct(33))}function u2(e){return e[l1]||null}var mw=[],Nh=-1;function Cu(e){return{current:e}}function Wn(e){0>Nh||(e.current=mw[Nh],mw[Nh]=null,Nh--)}function Rn(e,t){Nh++,mw[Nh]=e.current,e.current=t}var du={},Fs=Cu(du),ua=Cu(!1),_f=du;function wd(e,t){var r=e.type.contextTypes;if(!r)return du;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function fa(e){return e=e.childContextTypes,e!=null}function Zg(){Wn(ua),Wn(Fs)}function Rb(e,t,r){if(Fs.current!==du)throw Error(Ct(168));Rn(Fs,t),Rn(ua,r)}function yC(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Ct(108,oR(e)||"Unknown",i));return ri({},r,n)}function Jg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||du,_f=Fs.current,Rn(Fs,e),Rn(ua,ua.current),!0}function Lb(e,t,r){var n=e.stateNode;if(!n)throw Error(Ct(169));r?(e=yC(e,t,_f),n.__reactInternalMemoizedMergedChildContext=e,Wn(ua),Wn(Fs),Rn(Fs,e)):Wn(ua),Rn(ua,r)}var jl=null,f2=!1,Vx=!1;function bC(e){jl===null?jl=[e]:jl.push(e)}function EL(e){f2=!0,bC(e)}function Nu(){if(!Vx&&jl!==null){Vx=!0;var e=0,t=yn;try{var r=jl;for(yn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}jl=null,f2=!1}catch(i){throw jl!==null&&(jl=jl.slice(e+1)),GA(a5,Nu),i}finally{yn=t,Vx=!1}}return null}var Th=[],Ih=0,em=null,tm=0,eo=[],to=0,Sf=null,Ul=1,Wl="";function Ku(e,t){Th[Ih++]=tm,Th[Ih++]=em,em=e,tm=t}function _C(e,t,r){eo[to++]=Ul,eo[to++]=Wl,eo[to++]=Sf,Sf=e;var n=Ul;e=Wl;var i=32-Oo(n)-1;n&=~(1<<i),r+=1;var s=32-Oo(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Ul=1<<32-Oo(t)+i|r<<i|n,Wl=s+e}else Ul=1<<s|r<<i|n,Wl=e}function g5(e){e.return!==null&&(Ku(e,1),_C(e,1,0))}function m5(e){for(;e===em;)em=Th[--Ih],Th[Ih]=null,tm=Th[--Ih],Th[Ih]=null;for(;e===Sf;)Sf=eo[--to],eo[to]=null,Wl=eo[--to],eo[to]=null,Ul=eo[--to],eo[to]=null}var Fa=null,Ra=null,Xn=!1,To=null;function SC(e,t){var r=ro(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Db(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fa=e,Ra=su(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fa=e,Ra=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Sf!==null?{id:Ul,overflow:Wl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ro(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Fa=e,Ra=null,!0):!1;default:return!1}}function xw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vw(e){if(Xn){var t=Ra;if(t){var r=t;if(!Db(e,t)){if(xw(e))throw Error(Ct(418));t=su(r.nextSibling);var n=Fa;t&&Db(e,t)?SC(n,r):(e.flags=e.flags&-4097|2,Xn=!1,Fa=e)}}else{if(xw(e))throw Error(Ct(418));e.flags=e.flags&-4097|2,Xn=!1,Fa=e}}}function Fb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fa=e}function Up(e){if(e!==Fa)return!1;if(!Xn)return Fb(e),Xn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!dw(e.type,e.memoizedProps)),t&&(t=Ra)){if(xw(e))throw EC(),Error(Ct(418));for(;t;)SC(e,t),t=su(t.nextSibling)}if(Fb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ct(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ra=su(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ra=null}}else Ra=Fa?su(e.stateNode.nextSibling):null;return!0}function EC(){for(var e=Ra;e;)e=su(e.nextSibling)}function yd(){Ra=Fa=null,Xn=!1}function x5(e){To===null?To=[e]:To.push(e)}var AL=ic.ReactCurrentBatchConfig;function f0(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ct(309));var n=r.stateNode}if(!n)throw Error(Ct(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ct(284));if(!r._owner)throw Error(Ct(290,e))}return e}function Wp(e,t){throw e=Object.prototype.toString.call(t),Error(Ct(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mb(e){var t=e._init;return t(e._payload)}function AC(e){function t(A,C){if(e){var I=A.deletions;I===null?(A.deletions=[C],A.flags|=16):I.push(C)}}function r(A,C){if(!e)return null;for(;C!==null;)t(A,C),C=C.sibling;return null}function n(A,C){for(A=new Map;C!==null;)C.key!==null?A.set(C.key,C):A.set(C.index,C),C=C.sibling;return A}function i(A,C){return A=cu(A,C),A.index=0,A.sibling=null,A}function s(A,C,I){return A.index=I,e?(I=A.alternate,I!==null?(I=I.index,I<C?(A.flags|=2,C):I):(A.flags|=2,C)):(A.flags|=1048576,C)}function a(A){return e&&A.alternate===null&&(A.flags|=2),A}function l(A,C,I,L){return C===null||C.tag!==6?(C=Qx(I,A.mode,L),C.return=A,C):(C=i(C,I),C.return=A,C)}function u(A,C,I,L){var q=I.type;return q===_h?d(A,C,I.props.children,L,I.key):C!==null&&(C.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Dc&&Mb(q)===C.type)?(L=i(C,I.props),L.ref=f0(A,C,I),L.return=A,L):(L=Pg(I.type,I.key,I.props,null,A.mode,L),L.ref=f0(A,C,I),L.return=A,L)}function f(A,C,I,L){return C===null||C.tag!==4||C.stateNode.containerInfo!==I.containerInfo||C.stateNode.implementation!==I.implementation?(C=Zx(I,A.mode,L),C.return=A,C):(C=i(C,I.children||[]),C.return=A,C)}function d(A,C,I,L,q){return C===null||C.tag!==7?(C=mf(I,A.mode,L,q),C.return=A,C):(C=i(C,I),C.return=A,C)}function m(A,C,I){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Qx(""+C,A.mode,I),C.return=A,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case kp:return I=Pg(C.type,C.key,C.props,null,A.mode,I),I.ref=f0(A,null,C),I.return=A,I;case bh:return C=Zx(C,A.mode,I),C.return=A,C;case Dc:var L=C._init;return m(A,L(C._payload),I)}if(S0(C)||a0(C))return C=mf(C,A.mode,I,null),C.return=A,C;Wp(A,C)}return null}function y(A,C,I,L){var q=C!==null?C.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return q!==null?null:l(A,C,""+I,L);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case kp:return I.key===q?u(A,C,I,L):null;case bh:return I.key===q?f(A,C,I,L):null;case Dc:return q=I._init,y(A,C,q(I._payload),L)}if(S0(I)||a0(I))return q!==null?null:d(A,C,I,L,null);Wp(A,I)}return null}function v(A,C,I,L,q){if(typeof L=="string"&&L!==""||typeof L=="number")return A=A.get(I)||null,l(C,A,""+L,q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case kp:return A=A.get(L.key===null?I:L.key)||null,u(C,A,L,q);case bh:return A=A.get(L.key===null?I:L.key)||null,f(C,A,L,q);case Dc:var Q=L._init;return v(A,C,I,Q(L._payload),q)}if(S0(L)||a0(L))return A=A.get(I)||null,d(C,A,L,q,null);Wp(C,L)}return null}function E(A,C,I,L){for(var q=null,Q=null,B=C,M=C=0,F=null;B!==null&&M<I.length;M++){B.index>M?(F=B,B=null):F=B.sibling;var X=y(A,B,I[M],L);if(X===null){B===null&&(B=F);break}e&&B&&X.alternate===null&&t(A,B),C=s(X,C,M),Q===null?q=X:Q.sibling=X,Q=X,B=F}if(M===I.length)return r(A,B),Xn&&Ku(A,M),q;if(B===null){for(;M<I.length;M++)B=m(A,I[M],L),B!==null&&(C=s(B,C,M),Q===null?q=B:Q.sibling=B,Q=B);return Xn&&Ku(A,M),q}for(B=n(A,B);M<I.length;M++)F=v(B,A,M,I[M],L),F!==null&&(e&&F.alternate!==null&&B.delete(F.key===null?M:F.key),C=s(F,C,M),Q===null?q=F:Q.sibling=F,Q=F);return e&&B.forEach(function(W){return t(A,W)}),Xn&&Ku(A,M),q}function _(A,C,I,L){var q=a0(I);if(typeof q!="function")throw Error(Ct(150));if(I=q.call(I),I==null)throw Error(Ct(151));for(var Q=q=null,B=C,M=C=0,F=null,X=I.next();B!==null&&!X.done;M++,X=I.next()){B.index>M?(F=B,B=null):F=B.sibling;var W=y(A,B,X.value,L);if(W===null){B===null&&(B=F);break}e&&B&&W.alternate===null&&t(A,B),C=s(W,C,M),Q===null?q=W:Q.sibling=W,Q=W,B=F}if(X.done)return r(A,B),Xn&&Ku(A,M),q;if(B===null){for(;!X.done;M++,X=I.next())X=m(A,X.value,L),X!==null&&(C=s(X,C,M),Q===null?q=X:Q.sibling=X,Q=X);return Xn&&Ku(A,M),q}for(B=n(A,B);!X.done;M++,X=I.next())X=v(B,A,M,X.value,L),X!==null&&(e&&X.alternate!==null&&B.delete(X.key===null?M:X.key),C=s(X,C,M),Q===null?q=X:Q.sibling=X,Q=X);return e&&B.forEach(function(U){return t(A,U)}),Xn&&Ku(A,M),q}function N(A,C,I,L){if(typeof I=="object"&&I!==null&&I.type===_h&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case kp:e:{for(var q=I.key,Q=C;Q!==null;){if(Q.key===q){if(q=I.type,q===_h){if(Q.tag===7){r(A,Q.sibling),C=i(Q,I.props.children),C.return=A,A=C;break e}}else if(Q.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Dc&&Mb(q)===Q.type){r(A,Q.sibling),C=i(Q,I.props),C.ref=f0(A,Q,I),C.return=A,A=C;break e}r(A,Q);break}else t(A,Q);Q=Q.sibling}I.type===_h?(C=mf(I.props.children,A.mode,L,I.key),C.return=A,A=C):(L=Pg(I.type,I.key,I.props,null,A.mode,L),L.ref=f0(A,C,I),L.return=A,A=L)}return a(A);case bh:e:{for(Q=I.key;C!==null;){if(C.key===Q)if(C.tag===4&&C.stateNode.containerInfo===I.containerInfo&&C.stateNode.implementation===I.implementation){r(A,C.sibling),C=i(C,I.children||[]),C.return=A,A=C;break e}else{r(A,C);break}else t(A,C);C=C.sibling}C=Zx(I,A.mode,L),C.return=A,A=C}return a(A);case Dc:return Q=I._init,N(A,C,Q(I._payload),L)}if(S0(I))return E(A,C,I,L);if(a0(I))return _(A,C,I,L);Wp(A,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,C!==null&&C.tag===6?(r(A,C.sibling),C=i(C,I),C.return=A,A=C):(r(A,C),C=Qx(I,A.mode,L),C.return=A,A=C),a(A)):r(A,C)}return N}var bd=AC(!0),CC=AC(!1),rm=Cu(null),nm=null,kh=null,v5=null;function w5(){v5=kh=nm=null}function y5(e){var t=rm.current;Wn(rm),e._currentValue=t}function ww(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Uh(e,t){nm=e,v5=kh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ca=!0),e.firstContext=null)}function so(e){var t=e._currentValue;if(v5!==e)if(e={context:e,memoizedValue:t,next:null},kh===null){if(nm===null)throw Error(Ct(308));kh=e,nm.dependencies={lanes:0,firstContext:e}}else kh=kh.next=e;return t}var af=null;function b5(e){af===null?af=[e]:af.push(e)}function NC(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,b5(t)):(r.next=i.next,i.next=r),t.interleaved=r,Kl(e,n)}function Kl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Fc=!1;function _5(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function au(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Zr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Kl(e,r)}return i=n.interleaved,i===null?(t.next=t,b5(n)):(t.next=i.next,i.next=t),n.interleaved=t,Kl(e,r)}function Ag(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,o5(e,r)}}function jb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function im(e,t,r,n){var i=e.updateQueue;Fc=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,f=u.next;u.next=null,a===null?s=f:a.next=f,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=f:l.next=f,d.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;a=0,d=f=u=null,l=s;do{var y=l.lane,v=l.eventTime;if((n&y)===y){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var E=e,_=l;switch(y=t,v=r,_.tag){case 1:if(E=_.payload,typeof E=="function"){m=E.call(v,m,y);break e}m=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=_.payload,y=typeof E=="function"?E.call(v,m,y):E,y==null)break e;m=ri({},m,y);break e;case 2:Fc=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,y=i.effects,y===null?i.effects=[l]:y.push(l))}else v={eventTime:v,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(f=d=v,u=m):d=d.next=v,a|=y;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(d===null&&(u=m),i.baseState=u,i.firstBaseUpdate=f,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Af|=a,e.lanes=a,e.memoizedState=m}}function Bb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ct(191,i));i.call(n)}}}var z1={},hl=Cu(z1),c1=Cu(z1),u1=Cu(z1);function of(e){if(e===z1)throw Error(Ct(174));return e}function S5(e,t){switch(Rn(u1,t),Rn(c1,e),Rn(hl,z1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jv(t,e)}Wn(hl),Rn(hl,t)}function _d(){Wn(hl),Wn(c1),Wn(u1)}function IC(e){of(u1.current);var t=of(hl.current),r=Jv(t,e.type);t!==r&&(Rn(c1,e),Rn(hl,r))}function E5(e){c1.current===e&&(Wn(hl),Wn(c1))}var ei=Cu(0);function sm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qx=[];function A5(){for(var e=0;e<qx.length;e++)qx[e]._workInProgressVersionPrimary=null;qx.length=0}var Cg=ic.ReactCurrentDispatcher,Gx=ic.ReactCurrentBatchConfig,Ef=0,ti=null,Ui=null,Ki=null,am=!1,F0=!1,f1=0,CL=0;function As(){throw Error(Ct(321))}function C5(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Do(e[r],t[r]))return!1;return!0}function N5(e,t,r,n,i,s){if(Ef=s,ti=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cg.current=e===null||e.memoizedState===null?kL:PL,e=r(n,i),F0){s=0;do{if(F0=!1,f1=0,25<=s)throw Error(Ct(301));s+=1,Ki=Ui=null,t.updateQueue=null,Cg.current=OL,e=r(n,i)}while(F0)}if(Cg.current=om,t=Ui!==null&&Ui.next!==null,Ef=0,Ki=Ui=ti=null,am=!1,t)throw Error(Ct(300));return e}function T5(){var e=f1!==0;return f1=0,e}function tl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ki===null?ti.memoizedState=Ki=e:Ki=Ki.next=e,Ki}function ao(){if(Ui===null){var e=ti.alternate;e=e!==null?e.memoizedState:null}else e=Ui.next;var t=Ki===null?ti.memoizedState:Ki.next;if(t!==null)Ki=t,Ui=e;else{if(e===null)throw Error(Ct(310));Ui=e,e={memoizedState:Ui.memoizedState,baseState:Ui.baseState,baseQueue:Ui.baseQueue,queue:Ui.queue,next:null},Ki===null?ti.memoizedState=Ki=e:Ki=Ki.next=e}return Ki}function h1(e,t){return typeof t=="function"?t(e):t}function $x(e){var t=ao(),r=t.queue;if(r===null)throw Error(Ct(311));r.lastRenderedReducer=e;var n=Ui,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=a=null,u=null,f=s;do{var d=f.lane;if((Ef&d)===d)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),n=f.hasEagerState?f.eagerState:e(n,f.action);else{var m={lane:d,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(l=u=m,a=n):u=u.next=m,ti.lanes|=d,Af|=d}f=f.next}while(f!==null&&f!==s);u===null?a=n:u.next=l,Do(n,t.memoizedState)||(ca=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,ti.lanes|=s,Af|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Xx(e){var t=ao(),r=t.queue;if(r===null)throw Error(Ct(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Do(s,t.memoizedState)||(ca=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function kC(){}function PC(e,t){var r=ti,n=ao(),i=t(),s=!Do(n.memoizedState,i);if(s&&(n.memoizedState=i,ca=!0),n=n.queue,I5(LC.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Ki!==null&&Ki.memoizedState.tag&1){if(r.flags|=2048,d1(9,RC.bind(null,r,n,i,t),void 0,null),rs===null)throw Error(Ct(349));Ef&30||OC(r,t,i)}return i}function OC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ti.updateQueue,t===null?(t={lastEffect:null,stores:null},ti.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function RC(e,t,r,n){t.value=r,t.getSnapshot=n,DC(t)&&FC(e)}function LC(e,t,r){return r(function(){DC(t)&&FC(e)})}function DC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Do(e,r)}catch{return!0}}function FC(e){var t=Kl(e,1);t!==null&&Ro(t,e,1,-1)}function Ub(e){var t=tl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h1,lastRenderedState:e},t.queue=e,e=e.dispatch=IL.bind(null,ti,e),[t.memoizedState,e]}function d1(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ti.updateQueue,t===null?(t={lastEffect:null,stores:null},ti.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function MC(){return ao().memoizedState}function Ng(e,t,r,n){var i=tl();ti.flags|=e,i.memoizedState=d1(1|t,r,void 0,n===void 0?null:n)}function h2(e,t,r,n){var i=ao();n=n===void 0?null:n;var s=void 0;if(Ui!==null){var a=Ui.memoizedState;if(s=a.destroy,n!==null&&C5(n,a.deps)){i.memoizedState=d1(t,r,s,n);return}}ti.flags|=e,i.memoizedState=d1(1|t,r,s,n)}function Wb(e,t){return Ng(8390656,8,e,t)}function I5(e,t){return h2(2048,8,e,t)}function jC(e,t){return h2(4,2,e,t)}function BC(e,t){return h2(4,4,e,t)}function UC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function WC(e,t,r){return r=r!=null?r.concat([e]):null,h2(4,4,UC.bind(null,t,e),r)}function k5(){}function zC(e,t){var r=ao();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&C5(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function HC(e,t){var r=ao();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&C5(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function VC(e,t,r){return Ef&21?(Do(r,t)||(r=YA(),ti.lanes|=r,Af|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ca=!0),e.memoizedState=r)}function NL(e,t){var r=yn;yn=r!==0&&4>r?r:4,e(!0);var n=Gx.transition;Gx.transition={};try{e(!1),t()}finally{yn=r,Gx.transition=n}}function qC(){return ao().memoizedState}function TL(e,t,r){var n=lu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},GC(e))$C(t,r);else if(r=NC(e,t,r,n),r!==null){var i=$s();Ro(r,e,n,i),XC(r,t,n)}}function IL(e,t,r){var n=lu(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(GC(e))$C(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,r);if(i.hasEagerState=!0,i.eagerState=l,Do(l,a)){var u=t.interleaved;u===null?(i.next=i,b5(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}r=NC(e,t,i,n),r!==null&&(i=$s(),Ro(r,e,n,i),XC(r,t,n))}}function GC(e){var t=e.alternate;return e===ti||t!==null&&t===ti}function $C(e,t){F0=am=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function XC(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,o5(e,r)}}var om={readContext:so,useCallback:As,useContext:As,useEffect:As,useImperativeHandle:As,useInsertionEffect:As,useLayoutEffect:As,useMemo:As,useReducer:As,useRef:As,useState:As,useDebugValue:As,useDeferredValue:As,useTransition:As,useMutableSource:As,useSyncExternalStore:As,useId:As,unstable_isNewReconciler:!1},kL={readContext:so,useCallback:function(e,t){return tl().memoizedState=[e,t===void 0?null:t],e},useContext:so,useEffect:Wb,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ng(4194308,4,UC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ng(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ng(4,2,e,t)},useMemo:function(e,t){var r=tl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=tl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=TL.bind(null,ti,e),[n.memoizedState,e]},useRef:function(e){var t=tl();return e={current:e},t.memoizedState=e},useState:Ub,useDebugValue:k5,useDeferredValue:function(e){return tl().memoizedState=e},useTransition:function(){var e=Ub(!1),t=e[0];return e=NL.bind(null,e[1]),tl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ti,i=tl();if(Xn){if(r===void 0)throw Error(Ct(407));r=r()}else{if(r=t(),rs===null)throw Error(Ct(349));Ef&30||OC(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Wb(LC.bind(null,n,s,e),[e]),n.flags|=2048,d1(9,RC.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=tl(),t=rs.identifierPrefix;if(Xn){var r=Wl,n=Ul;r=(n&~(1<<32-Oo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=f1++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=CL++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},PL={readContext:so,useCallback:zC,useContext:so,useEffect:I5,useImperativeHandle:WC,useInsertionEffect:jC,useLayoutEffect:BC,useMemo:HC,useReducer:$x,useRef:MC,useState:function(){return $x(h1)},useDebugValue:k5,useDeferredValue:function(e){var t=ao();return VC(t,Ui.memoizedState,e)},useTransition:function(){var e=$x(h1)[0],t=ao().memoizedState;return[e,t]},useMutableSource:kC,useSyncExternalStore:PC,useId:qC,unstable_isNewReconciler:!1},OL={readContext:so,useCallback:zC,useContext:so,useEffect:I5,useImperativeHandle:WC,useInsertionEffect:jC,useLayoutEffect:BC,useMemo:HC,useReducer:Xx,useRef:MC,useState:function(){return Xx(h1)},useDebugValue:k5,useDeferredValue:function(e){var t=ao();return Ui===null?t.memoizedState=e:VC(t,Ui.memoizedState,e)},useTransition:function(){var e=Xx(h1)[0],t=ao().memoizedState;return[e,t]},useMutableSource:kC,useSyncExternalStore:PC,useId:qC,unstable_isNewReconciler:!1};function So(e,t){if(e&&e.defaultProps){t=ri({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function yw(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ri({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var d2={isMounted:function(e){return(e=e._reactInternals)?jf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=$s(),i=lu(e),s=Hl(n,i);s.payload=t,r!=null&&(s.callback=r),t=au(e,s,i),t!==null&&(Ro(t,e,i,n),Ag(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=$s(),i=lu(e),s=Hl(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=au(e,s,i),t!==null&&(Ro(t,e,i,n),Ag(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=$s(),n=lu(e),i=Hl(r,n);i.tag=2,t!=null&&(i.callback=t),t=au(e,i,n),t!==null&&(Ro(t,e,n,r),Ag(t,e,n))}};function zb(e,t,r,n,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!s1(r,n)||!s1(i,s):!0}function YC(e,t,r){var n=!1,i=du,s=t.contextType;return typeof s=="object"&&s!==null?s=so(s):(i=fa(t)?_f:Fs.current,n=t.contextTypes,s=(n=n!=null)?wd(e,i):du),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=d2,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Hb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&d2.enqueueReplaceState(t,t.state,null)}function bw(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},_5(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=so(s):(s=fa(t)?_f:Fs.current,i.context=wd(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(yw(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&d2.enqueueReplaceState(i,i.state,null),im(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Sd(e,t){try{var r="",n=t;do r+=aR(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Yx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function _w(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var RL=typeof WeakMap=="function"?WeakMap:Map;function KC(e,t,r){r=Hl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){cm||(cm=!0,Ow=n),_w(e,t)},r}function QC(e,t,r){r=Hl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){_w(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){_w(e,t),typeof n!="function"&&(ou===null?ou=new Set([this]):ou.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Vb(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new RL;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=$L.bind(null,e,t,r),t.then(e,e))}function qb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gb(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Hl(-1,1),t.tag=2,au(r,t,1))),r.lanes|=1),e)}var LL=ic.ReactCurrentOwner,ca=!1;function Vs(e,t,r,n){t.child=e===null?CC(t,null,r,n):bd(t,e.child,r,n)}function $b(e,t,r,n,i){r=r.render;var s=t.ref;return Uh(t,i),n=N5(e,t,r,n,s,i),r=T5(),e!==null&&!ca?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ql(e,t,i)):(Xn&&r&&g5(t),t.flags|=1,Vs(e,t,n,i),t.child)}function Xb(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!j5(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,ZC(e,t,s,n,i)):(e=Pg(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:s1,r(a,n)&&e.ref===t.ref)return Ql(e,t,i)}return t.flags|=1,e=cu(s,n),e.ref=t.ref,e.return=t,t.child=e}function ZC(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(s1(s,n)&&e.ref===t.ref)if(ca=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(ca=!0);else return t.lanes=e.lanes,Ql(e,t,i)}return Sw(e,t,r,n,i)}function JC(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rn(Oh,Na),Na|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rn(Oh,Na),Na|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Rn(Oh,Na),Na|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Rn(Oh,Na),Na|=n;return Vs(e,t,i,r),t.child}function e6(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Sw(e,t,r,n,i){var s=fa(r)?_f:Fs.current;return s=wd(t,s),Uh(t,i),r=N5(e,t,r,n,s,i),n=T5(),e!==null&&!ca?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ql(e,t,i)):(Xn&&n&&g5(t),t.flags|=1,Vs(e,t,r,i),t.child)}function Yb(e,t,r,n,i){if(fa(r)){var s=!0;Jg(t)}else s=!1;if(Uh(t,i),t.stateNode===null)Tg(e,t),YC(t,r,n),bw(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var u=a.context,f=r.contextType;typeof f=="object"&&f!==null?f=so(f):(f=fa(r)?_f:Fs.current,f=wd(t,f));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||u!==f)&&Hb(t,a,n,f),Fc=!1;var y=t.memoizedState;a.state=y,im(t,n,a,i),u=t.memoizedState,l!==n||y!==u||ua.current||Fc?(typeof d=="function"&&(yw(t,r,d,n),u=t.memoizedState),(l=Fc||zb(t,r,l,n,y,u,f))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=f,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,TC(e,t),l=t.memoizedProps,f=t.type===t.elementType?l:So(t.type,l),a.props=f,m=t.pendingProps,y=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=so(u):(u=fa(r)?_f:Fs.current,u=wd(t,u));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==m||y!==u)&&Hb(t,a,n,u),Fc=!1,y=t.memoizedState,a.state=y,im(t,n,a,i);var E=t.memoizedState;l!==m||y!==E||ua.current||Fc?(typeof v=="function"&&(yw(t,r,v,n),E=t.memoizedState),(f=Fc||zb(t,r,f,n,y,E,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,E,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,E,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=E),a.props=n,a.state=E,a.context=u,n=f):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return Ew(e,t,r,n,s,i)}function Ew(e,t,r,n,i,s){e6(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&Lb(t,r,!1),Ql(e,t,s);n=t.stateNode,LL.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=bd(t,e.child,null,s),t.child=bd(t,null,l,s)):Vs(e,t,l,s),t.memoizedState=n.state,i&&Lb(t,r,!0),t.child}function t6(e){var t=e.stateNode;t.pendingContext?Rb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Rb(e,t.context,!1),S5(e,t.containerInfo)}function Kb(e,t,r,n,i){return yd(),x5(i),t.flags|=256,Vs(e,t,r,n),t.child}var Aw={dehydrated:null,treeContext:null,retryLane:0};function Cw(e){return{baseLanes:e,cachePool:null,transitions:null}}function r6(e,t,r){var n=t.pendingProps,i=ei.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Rn(ei,i&1),e===null)return vw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=m2(a,n,0,null),e=mf(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Cw(r),t.memoizedState=Aw,e):P5(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return DL(e,t,a,n,l,i,r);if(s){s=n.fallback,a=t.mode,i=e.child,l=i.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=cu(i,u),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=cu(l,s):(s=mf(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?Cw(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=Aw,n}return s=e.child,e=s.sibling,n=cu(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function P5(e,t){return t=m2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zp(e,t,r,n){return n!==null&&x5(n),bd(t,e.child,null,r),e=P5(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function DL(e,t,r,n,i,s,a){if(r)return t.flags&256?(t.flags&=-257,n=Yx(Error(Ct(422))),zp(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=m2({mode:"visible",children:n.children},i,0,null),s=mf(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&bd(t,e.child,null,a),t.child.memoizedState=Cw(a),t.memoizedState=Aw,s);if(!(t.mode&1))return zp(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(Ct(419)),n=Yx(s,n,void 0),zp(e,t,a,n)}if(l=(a&e.childLanes)!==0,ca||l){if(n=rs,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Kl(e,i),Ro(n,e,i,-1))}return M5(),n=Yx(Error(Ct(421))),zp(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=XL.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ra=su(i.nextSibling),Fa=t,Xn=!0,To=null,e!==null&&(eo[to++]=Ul,eo[to++]=Wl,eo[to++]=Sf,Ul=e.id,Wl=e.overflow,Sf=t),t=P5(t,n.children),t.flags|=4096,t)}function Qb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ww(e.return,t,r)}function Kx(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function n6(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Vs(e,t,n.children,r),n=ei.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qb(e,r,t);else if(e.tag===19)Qb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Rn(ei,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&sm(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Kx(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&sm(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Kx(t,!0,r,null,s);break;case"together":Kx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ql(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Af|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ct(153));if(t.child!==null){for(e=t.child,r=cu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=cu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function FL(e,t,r){switch(t.tag){case 3:t6(t),yd();break;case 5:IC(t);break;case 1:fa(t.type)&&Jg(t);break;case 4:S5(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Rn(rm,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Rn(ei,ei.current&1),t.flags|=128,null):r&t.child.childLanes?r6(e,t,r):(Rn(ei,ei.current&1),e=Ql(e,t,r),e!==null?e.sibling:null);Rn(ei,ei.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return n6(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rn(ei,ei.current),n)break;return null;case 22:case 23:return t.lanes=0,JC(e,t,r)}return Ql(e,t,r)}var i6,Nw,s6,a6;i6=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Nw=function(){};s6=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,of(hl.current);var s=null;switch(r){case"input":i=Yv(e,i),n=Yv(e,n),s=[];break;case"select":i=ri({},i,{value:void 0}),n=ri({},n,{value:void 0}),s=[];break;case"textarea":i=Zv(e,i),n=Zv(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Qg)}ew(r,n);var a;r=null;for(f in i)if(!n.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var l=i[f];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Z0.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in n){var u=n[f];if(l=i!=null?i[f]:void 0,n.hasOwnProperty(f)&&u!==l&&(u!=null||l!=null))if(f==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(s||(s=[]),s.push(f,r)),r=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Z0.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&jn("scroll",e),s||l===u||(s=[])):(s=s||[]).push(f,u))}r&&(s=s||[]).push("style",r);var f=s;(t.updateQueue=f)&&(t.flags|=4)}};a6=function(e,t,r,n){r!==n&&(t.flags|=4)};function h0(e,t){if(!Xn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Cs(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ML(e,t,r){var n=t.pendingProps;switch(m5(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cs(t),null;case 1:return fa(t.type)&&Zg(),Cs(t),null;case 3:return n=t.stateNode,_d(),Wn(ua),Wn(Fs),A5(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Up(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,To!==null&&(Dw(To),To=null))),Nw(e,t),Cs(t),null;case 5:E5(t);var i=of(u1.current);if(r=t.type,e!==null&&t.stateNode!=null)s6(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ct(166));return Cs(t),null}if(e=of(hl.current),Up(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[al]=t,n[l1]=s,e=(t.mode&1)!==0,r){case"dialog":jn("cancel",n),jn("close",n);break;case"iframe":case"object":case"embed":jn("load",n);break;case"video":case"audio":for(i=0;i<A0.length;i++)jn(A0[i],n);break;case"source":jn("error",n);break;case"img":case"image":case"link":jn("error",n),jn("load",n);break;case"details":jn("toggle",n);break;case"input":ab(n,s),jn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},jn("invalid",n);break;case"textarea":lb(n,s),jn("invalid",n)}ew(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Bp(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Bp(n.textContent,l,e),i=["children",""+l]):Z0.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&jn("scroll",n)}switch(r){case"input":Pp(n),ob(n,s,!0);break;case"textarea":Pp(n),cb(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Qg)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=LA(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[al]=t,e[l1]=n,i6(e,t,!1,!1),t.stateNode=e;e:{switch(a=tw(r,n),r){case"dialog":jn("cancel",e),jn("close",e),i=n;break;case"iframe":case"object":case"embed":jn("load",e),i=n;break;case"video":case"audio":for(i=0;i<A0.length;i++)jn(A0[i],e);i=n;break;case"source":jn("error",e),i=n;break;case"img":case"image":case"link":jn("error",e),jn("load",e),i=n;break;case"details":jn("toggle",e),i=n;break;case"input":ab(e,n),i=Yv(e,n),jn("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ri({},n,{value:void 0}),jn("invalid",e);break;case"textarea":lb(e,n),i=Zv(e,n),jn("invalid",e);break;default:i=n}ew(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?MA(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&DA(e,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&J0(e,u):typeof u=="number"&&J0(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Z0.hasOwnProperty(s)?u!=null&&s==="onScroll"&&jn("scroll",e):u!=null&&t5(e,s,u,a))}switch(r){case"input":Pp(e),ob(e,n,!1);break;case"textarea":Pp(e),cb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+hu(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Fh(e,!!n.multiple,s,!1):n.defaultValue!=null&&Fh(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Qg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Cs(t),null;case 6:if(e&&t.stateNode!=null)a6(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ct(166));if(r=of(u1.current),of(hl.current),Up(t)){if(n=t.stateNode,r=t.memoizedProps,n[al]=t,(s=n.nodeValue!==r)&&(e=Fa,e!==null))switch(e.tag){case 3:Bp(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bp(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[al]=t,t.stateNode=n}return Cs(t),null;case 13:if(Wn(ei),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xn&&Ra!==null&&t.mode&1&&!(t.flags&128))EC(),yd(),t.flags|=98560,s=!1;else if(s=Up(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Ct(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ct(317));s[al]=t}else yd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Cs(t),s=!1}else To!==null&&(Dw(To),To=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ei.current&1?zi===0&&(zi=3):M5())),t.updateQueue!==null&&(t.flags|=4),Cs(t),null);case 4:return _d(),Nw(e,t),e===null&&a1(t.stateNode.containerInfo),Cs(t),null;case 10:return y5(t.type._context),Cs(t),null;case 17:return fa(t.type)&&Zg(),Cs(t),null;case 19:if(Wn(ei),s=t.memoizedState,s===null)return Cs(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)h0(s,!1);else{if(zi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=sm(e),a!==null){for(t.flags|=128,h0(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Rn(ei,ei.current&1|2),t.child}e=e.sibling}s.tail!==null&&xi()>Ed&&(t.flags|=128,n=!0,h0(s,!1),t.lanes=4194304)}else{if(!n)if(e=sm(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),h0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Xn)return Cs(t),null}else 2*xi()-s.renderingStartTime>Ed&&r!==1073741824&&(t.flags|=128,n=!0,h0(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=xi(),t.sibling=null,r=ei.current,Rn(ei,n?r&1|2:r&1),t):(Cs(t),null);case 22:case 23:return F5(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Na&1073741824&&(Cs(t),t.subtreeFlags&6&&(t.flags|=8192)):Cs(t),null;case 24:return null;case 25:return null}throw Error(Ct(156,t.tag))}function jL(e,t){switch(m5(t),t.tag){case 1:return fa(t.type)&&Zg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _d(),Wn(ua),Wn(Fs),A5(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return E5(t),null;case 13:if(Wn(ei),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ct(340));yd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Wn(ei),null;case 4:return _d(),null;case 10:return y5(t.type._context),null;case 22:case 23:return F5(),null;case 24:return null;default:return null}}var Hp=!1,Os=!1,BL=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function Ph(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ci(e,t,n)}else r.current=null}function Tw(e,t,r){try{r()}catch(n){ci(e,t,n)}}var Zb=!1;function UL(e,t){if(fw=Xg,e=fC(),p5(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,l=-1,u=-1,f=0,d=0,m=e,y=null;t:for(;;){for(var v;m!==r||i!==0&&m.nodeType!==3||(l=a+i),m!==s||n!==0&&m.nodeType!==3||(u=a+n),m.nodeType===3&&(a+=m.nodeValue.length),(v=m.firstChild)!==null;)y=m,m=v;for(;;){if(m===e)break t;if(y===r&&++f===i&&(l=a),y===s&&++d===n&&(u=a),(v=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=v}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(hw={focusedElem:e,selectionRange:r},Xg=!1,Wt=t;Wt!==null;)if(t=Wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Wt=e;else for(;Wt!==null;){t=Wt;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var _=E.memoizedProps,N=E.memoizedState,A=t.stateNode,C=A.getSnapshotBeforeUpdate(t.elementType===t.type?_:So(t.type,_),N);A.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ct(163))}}catch(L){ci(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,Wt=e;break}Wt=t.return}return E=Zb,Zb=!1,E}function M0(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Tw(t,r,s)}i=i.next}while(i!==n)}}function p2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Iw(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function o6(e){var t=e.alternate;t!==null&&(e.alternate=null,o6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[al],delete t[l1],delete t[gw],delete t[_L],delete t[SL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function l6(e){return e.tag===5||e.tag===3||e.tag===4}function Jb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||l6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Qg));else if(n!==4&&(e=e.child,e!==null))for(kw(e,t,r),e=e.sibling;e!==null;)kw(e,t,r),e=e.sibling}function Pw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Pw(e,t,r),e=e.sibling;e!==null;)Pw(e,t,r),e=e.sibling}var us=null,Co=!1;function Ec(e,t,r){for(r=r.child;r!==null;)c6(e,t,r),r=r.sibling}function c6(e,t,r){if(fl&&typeof fl.onCommitFiberUnmount=="function")try{fl.onCommitFiberUnmount(a2,r)}catch{}switch(r.tag){case 5:Os||Ph(r,t);case 6:var n=us,i=Co;us=null,Ec(e,t,r),us=n,Co=i,us!==null&&(Co?(e=us,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):us.removeChild(r.stateNode));break;case 18:us!==null&&(Co?(e=us,r=r.stateNode,e.nodeType===8?Hx(e.parentNode,r):e.nodeType===1&&Hx(e,r),n1(e)):Hx(us,r.stateNode));break;case 4:n=us,i=Co,us=r.stateNode.containerInfo,Co=!0,Ec(e,t,r),us=n,Co=i;break;case 0:case 11:case 14:case 15:if(!Os&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Tw(r,t,a),i=i.next}while(i!==n)}Ec(e,t,r);break;case 1:if(!Os&&(Ph(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ci(r,t,l)}Ec(e,t,r);break;case 21:Ec(e,t,r);break;case 22:r.mode&1?(Os=(n=Os)||r.memoizedState!==null,Ec(e,t,r),Os=n):Ec(e,t,r);break;default:Ec(e,t,r)}}function e_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new BL),t.forEach(function(n){var i=YL.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function mo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:us=l.stateNode,Co=!1;break e;case 3:us=l.stateNode.containerInfo,Co=!0;break e;case 4:us=l.stateNode.containerInfo,Co=!0;break e}l=l.return}if(us===null)throw Error(Ct(160));c6(s,a,i),us=null,Co=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(f){ci(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)u6(t,e),t=t.sibling}function u6(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mo(t,e),Ko(e),n&4){try{M0(3,e,e.return),p2(3,e)}catch(_){ci(e,e.return,_)}try{M0(5,e,e.return)}catch(_){ci(e,e.return,_)}}break;case 1:mo(t,e),Ko(e),n&512&&r!==null&&Ph(r,r.return);break;case 5:if(mo(t,e),Ko(e),n&512&&r!==null&&Ph(r,r.return),e.flags&32){var i=e.stateNode;try{J0(i,"")}catch(_){ci(e,e.return,_)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&OA(i,s),tw(l,a);var f=tw(l,s);for(a=0;a<u.length;a+=2){var d=u[a],m=u[a+1];d==="style"?MA(i,m):d==="dangerouslySetInnerHTML"?DA(i,m):d==="children"?J0(i,m):t5(i,d,m,f)}switch(l){case"input":Kv(i,s);break;case"textarea":RA(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Fh(i,!!s.multiple,v,!1):y!==!!s.multiple&&(s.defaultValue!=null?Fh(i,!!s.multiple,s.defaultValue,!0):Fh(i,!!s.multiple,s.multiple?[]:"",!1))}i[l1]=s}catch(_){ci(e,e.return,_)}}break;case 6:if(mo(t,e),Ko(e),n&4){if(e.stateNode===null)throw Error(Ct(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(_){ci(e,e.return,_)}}break;case 3:if(mo(t,e),Ko(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{n1(t.containerInfo)}catch(_){ci(e,e.return,_)}break;case 4:mo(t,e),Ko(e);break;case 13:mo(t,e),Ko(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(L5=xi())),n&4&&e_(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Os=(f=Os)||d,mo(t,e),Os=f):mo(t,e),Ko(e),n&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!d&&e.mode&1)for(Wt=e,d=e.child;d!==null;){for(m=Wt=d;Wt!==null;){switch(y=Wt,v=y.child,y.tag){case 0:case 11:case 14:case 15:M0(4,y,y.return);break;case 1:Ph(y,y.return);var E=y.stateNode;if(typeof E.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(_){ci(n,r,_)}}break;case 5:Ph(y,y.return);break;case 22:if(y.memoizedState!==null){r_(m);continue}}v!==null?(v.return=y,Wt=v):r_(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,u=m.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=FA("display",a))}catch(_){ci(e,e.return,_)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(_){ci(e,e.return,_)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:mo(t,e),Ko(e),n&4&&e_(e);break;case 21:break;default:mo(t,e),Ko(e)}}function Ko(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(l6(r)){var n=r;break e}r=r.return}throw Error(Ct(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(J0(i,""),n.flags&=-33);var s=Jb(e);Pw(e,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Jb(e);kw(e,l,a);break;default:throw Error(Ct(161))}}catch(u){ci(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function WL(e,t,r){Wt=e,f6(e)}function f6(e,t,r){for(var n=(e.mode&1)!==0;Wt!==null;){var i=Wt,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Hp;if(!a){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Os;l=Hp;var f=Os;if(Hp=a,(Os=u)&&!f)for(Wt=i;Wt!==null;)a=Wt,u=a.child,a.tag===22&&a.memoizedState!==null?n_(i):u!==null?(u.return=a,Wt=u):n_(i);for(;s!==null;)Wt=s,f6(s),s=s.sibling;Wt=i,Hp=l,Os=f}t_(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Wt=s):t_(e)}}function t_(e){for(;Wt!==null;){var t=Wt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Os||p2(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Os)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:So(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Bb(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Bb(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var d=f.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&n1(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ct(163))}Os||t.flags&512&&Iw(t)}catch(y){ci(t,t.return,y)}}if(t===e){Wt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Wt=r;break}Wt=t.return}}function r_(e){for(;Wt!==null;){var t=Wt;if(t===e){Wt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Wt=r;break}Wt=t.return}}function n_(e){for(;Wt!==null;){var t=Wt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{p2(4,t)}catch(u){ci(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(u){ci(t,i,u)}}var s=t.return;try{Iw(t)}catch(u){ci(t,s,u)}break;case 5:var a=t.return;try{Iw(t)}catch(u){ci(t,a,u)}}}catch(u){ci(t,t.return,u)}if(t===e){Wt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Wt=l;break}Wt=t.return}}var zL=Math.ceil,lm=ic.ReactCurrentDispatcher,O5=ic.ReactCurrentOwner,no=ic.ReactCurrentBatchConfig,Zr=0,rs=null,Ii=null,ps=0,Na=0,Oh=Cu(0),zi=0,p1=null,Af=0,g2=0,R5=0,j0=null,oa=null,L5=0,Ed=1/0,Fl=null,cm=!1,Ow=null,ou=null,Vp=!1,Qc=null,um=0,B0=0,Rw=null,Ig=-1,kg=0;function $s(){return Zr&6?xi():Ig!==-1?Ig:Ig=xi()}function lu(e){return e.mode&1?Zr&2&&ps!==0?ps&-ps:AL.transition!==null?(kg===0&&(kg=YA()),kg):(e=yn,e!==0||(e=window.event,e=e===void 0?16:rC(e.type)),e):1}function Ro(e,t,r,n){if(50<B0)throw B0=0,Rw=null,Error(Ct(185));B1(e,r,n),(!(Zr&2)||e!==rs)&&(e===rs&&(!(Zr&2)&&(g2|=r),zi===4&&Bc(e,ps)),ha(e,n),r===1&&Zr===0&&!(t.mode&1)&&(Ed=xi()+500,f2&&Nu()))}function ha(e,t){var r=e.callbackNode;AR(e,t);var n=$g(e,e===rs?ps:0);if(n===0)r!==null&&hb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&hb(r),t===1)e.tag===0?EL(i_.bind(null,e)):bC(i_.bind(null,e)),yL(function(){!(Zr&6)&&Nu()}),r=null;else{switch(KA(n)){case 1:r=a5;break;case 4:r=$A;break;case 16:r=Gg;break;case 536870912:r=XA;break;default:r=Gg}r=w6(r,h6.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function h6(e,t){if(Ig=-1,kg=0,Zr&6)throw Error(Ct(327));var r=e.callbackNode;if(Wh()&&e.callbackNode!==r)return null;var n=$g(e,e===rs?ps:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=fm(e,n);else{t=n;var i=Zr;Zr|=2;var s=p6();(rs!==e||ps!==t)&&(Fl=null,Ed=xi()+500,gf(e,t));do try{qL();break}catch(l){d6(e,l)}while(!0);w5(),lm.current=s,Zr=i,Ii!==null?t=0:(rs=null,ps=0,t=zi)}if(t!==0){if(t===2&&(i=aw(e),i!==0&&(n=i,t=Lw(e,i))),t===1)throw r=p1,gf(e,0),Bc(e,n),ha(e,xi()),r;if(t===6)Bc(e,n);else{if(i=e.current.alternate,!(n&30)&&!HL(i)&&(t=fm(e,n),t===2&&(s=aw(e),s!==0&&(n=s,t=Lw(e,s))),t===1))throw r=p1,gf(e,0),Bc(e,n),ha(e,xi()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Ct(345));case 2:Qu(e,oa,Fl);break;case 3:if(Bc(e,n),(n&130023424)===n&&(t=L5+500-xi(),10<t)){if($g(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){$s(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=pw(Qu.bind(null,e,oa,Fl),t);break}Qu(e,oa,Fl);break;case 4:if(Bc(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-Oo(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=xi()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*zL(n/1960))-n,10<n){e.timeoutHandle=pw(Qu.bind(null,e,oa,Fl),n);break}Qu(e,oa,Fl);break;case 5:Qu(e,oa,Fl);break;default:throw Error(Ct(329))}}}return ha(e,xi()),e.callbackNode===r?h6.bind(null,e):null}function Lw(e,t){var r=j0;return e.current.memoizedState.isDehydrated&&(gf(e,t).flags|=256),e=fm(e,t),e!==2&&(t=oa,oa=r,t!==null&&Dw(t)),e}function Dw(e){oa===null?oa=e:oa.push.apply(oa,e)}function HL(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Do(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t){for(t&=~R5,t&=~g2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Oo(t),n=1<<r;e[r]=-1,t&=~n}}function i_(e){if(Zr&6)throw Error(Ct(327));Wh();var t=$g(e,0);if(!(t&1))return ha(e,xi()),null;var r=fm(e,t);if(e.tag!==0&&r===2){var n=aw(e);n!==0&&(t=n,r=Lw(e,n))}if(r===1)throw r=p1,gf(e,0),Bc(e,t),ha(e,xi()),r;if(r===6)throw Error(Ct(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qu(e,oa,Fl),ha(e,xi()),null}function D5(e,t){var r=Zr;Zr|=1;try{return e(t)}finally{Zr=r,Zr===0&&(Ed=xi()+500,f2&&Nu())}}function Cf(e){Qc!==null&&Qc.tag===0&&!(Zr&6)&&Wh();var t=Zr;Zr|=1;var r=no.transition,n=yn;try{if(no.transition=null,yn=1,e)return e()}finally{yn=n,no.transition=r,Zr=t,!(Zr&6)&&Nu()}}function F5(){Na=Oh.current,Wn(Oh)}function gf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,wL(r)),Ii!==null)for(r=Ii.return;r!==null;){var n=r;switch(m5(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Zg();break;case 3:_d(),Wn(ua),Wn(Fs),A5();break;case 5:E5(n);break;case 4:_d();break;case 13:Wn(ei);break;case 19:Wn(ei);break;case 10:y5(n.type._context);break;case 22:case 23:F5()}r=r.return}if(rs=e,Ii=e=cu(e.current,null),ps=Na=t,zi=0,p1=null,R5=g2=Af=0,oa=j0=null,af!==null){for(t=0;t<af.length;t++)if(r=af[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}af=null}return e}function d6(e,t){do{var r=Ii;try{if(w5(),Cg.current=om,am){for(var n=ti.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}am=!1}if(Ef=0,Ki=Ui=ti=null,F0=!1,f1=0,O5.current=null,r===null||r.return===null){zi=1,p1=t,Ii=null;break}e:{var s=e,a=r.return,l=r,u=t;if(t=ps,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var y=d.alternate;y?(d.updateQueue=y.updateQueue,d.memoizedState=y.memoizedState,d.lanes=y.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=qb(a);if(v!==null){v.flags&=-257,Gb(v,a,l,s,t),v.mode&1&&Vb(s,f,t),t=v,u=f;var E=t.updateQueue;if(E===null){var _=new Set;_.add(u),t.updateQueue=_}else E.add(u);break e}else{if(!(t&1)){Vb(s,f,t),M5();break e}u=Error(Ct(426))}}else if(Xn&&l.mode&1){var N=qb(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Gb(N,a,l,s,t),x5(Sd(u,l));break e}}s=u=Sd(u,l),zi!==4&&(zi=2),j0===null?j0=[s]:j0.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var A=KC(s,u,t);jb(s,A);break e;case 1:l=u;var C=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof C.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(ou===null||!ou.has(I)))){s.flags|=65536,t&=-t,s.lanes|=t;var L=QC(s,l,t);jb(s,L);break e}}s=s.return}while(s!==null)}m6(r)}catch(q){t=q,Ii===r&&r!==null&&(Ii=r=r.return);continue}break}while(!0)}function p6(){var e=lm.current;return lm.current=om,e===null?om:e}function M5(){(zi===0||zi===3||zi===2)&&(zi=4),rs===null||!(Af&268435455)&&!(g2&268435455)||Bc(rs,ps)}function fm(e,t){var r=Zr;Zr|=2;var n=p6();(rs!==e||ps!==t)&&(Fl=null,gf(e,t));do try{VL();break}catch(i){d6(e,i)}while(!0);if(w5(),Zr=r,lm.current=n,Ii!==null)throw Error(Ct(261));return rs=null,ps=0,zi}function VL(){for(;Ii!==null;)g6(Ii)}function qL(){for(;Ii!==null&&!mR();)g6(Ii)}function g6(e){var t=v6(e.alternate,e,Na);e.memoizedProps=e.pendingProps,t===null?m6(e):Ii=t,O5.current=null}function m6(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=jL(r,t),r!==null){r.flags&=32767,Ii=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{zi=6,Ii=null;return}}else if(r=ML(r,t,Na),r!==null){Ii=r;return}if(t=t.sibling,t!==null){Ii=t;return}Ii=t=e}while(t!==null);zi===0&&(zi=5)}function Qu(e,t,r){var n=yn,i=no.transition;try{no.transition=null,yn=1,GL(e,t,r,n)}finally{no.transition=i,yn=n}return null}function GL(e,t,r,n){do Wh();while(Qc!==null);if(Zr&6)throw Error(Ct(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ct(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(CR(e,s),e===rs&&(Ii=rs=null,ps=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Vp||(Vp=!0,w6(Gg,function(){return Wh(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=no.transition,no.transition=null;var a=yn;yn=1;var l=Zr;Zr|=4,O5.current=null,UL(e,r),u6(r,e),hL(hw),Xg=!!fw,hw=fw=null,e.current=r,WL(r),xR(),Zr=l,yn=a,no.transition=s}else e.current=r;if(Vp&&(Vp=!1,Qc=e,um=i),s=e.pendingLanes,s===0&&(ou=null),yR(r.stateNode),ha(e,xi()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(cm)throw cm=!1,e=Ow,Ow=null,e;return um&1&&e.tag!==0&&Wh(),s=e.pendingLanes,s&1?e===Rw?B0++:(B0=0,Rw=e):B0=0,Nu(),null}function Wh(){if(Qc!==null){var e=KA(um),t=no.transition,r=yn;try{if(no.transition=null,yn=16>e?16:e,Qc===null)var n=!1;else{if(e=Qc,Qc=null,um=0,Zr&6)throw Error(Ct(331));var i=Zr;for(Zr|=4,Wt=e.current;Wt!==null;){var s=Wt,a=s.child;if(Wt.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var f=l[u];for(Wt=f;Wt!==null;){var d=Wt;switch(d.tag){case 0:case 11:case 15:M0(8,d,s)}var m=d.child;if(m!==null)m.return=d,Wt=m;else for(;Wt!==null;){d=Wt;var y=d.sibling,v=d.return;if(o6(d),d===f){Wt=null;break}if(y!==null){y.return=v,Wt=y;break}Wt=v}}}var E=s.alternate;if(E!==null){var _=E.child;if(_!==null){E.child=null;do{var N=_.sibling;_.sibling=null,_=N}while(_!==null)}}Wt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Wt=a;else e:for(;Wt!==null;){if(s=Wt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:M0(9,s,s.return)}var A=s.sibling;if(A!==null){A.return=s.return,Wt=A;break e}Wt=s.return}}var C=e.current;for(Wt=C;Wt!==null;){a=Wt;var I=a.child;if(a.subtreeFlags&2064&&I!==null)I.return=a,Wt=I;else e:for(a=C;Wt!==null;){if(l=Wt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:p2(9,l)}}catch(q){ci(l,l.return,q)}if(l===a){Wt=null;break e}var L=l.sibling;if(L!==null){L.return=l.return,Wt=L;break e}Wt=l.return}}if(Zr=i,Nu(),fl&&typeof fl.onPostCommitFiberRoot=="function")try{fl.onPostCommitFiberRoot(a2,e)}catch{}n=!0}return n}finally{yn=r,no.transition=t}}return!1}function s_(e,t,r){t=Sd(r,t),t=KC(e,t,1),e=au(e,t,1),t=$s(),e!==null&&(B1(e,1,t),ha(e,t))}function ci(e,t,r){if(e.tag===3)s_(e,e,r);else for(;t!==null;){if(t.tag===3){s_(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ou===null||!ou.has(n))){e=Sd(r,e),e=QC(t,e,1),t=au(t,e,1),e=$s(),t!==null&&(B1(t,1,e),ha(t,e));break}}t=t.return}}function $L(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=$s(),e.pingedLanes|=e.suspendedLanes&r,rs===e&&(ps&r)===r&&(zi===4||zi===3&&(ps&130023424)===ps&&500>xi()-L5?gf(e,0):R5|=r),ha(e,t)}function x6(e,t){t===0&&(e.mode&1?(t=Lp,Lp<<=1,!(Lp&130023424)&&(Lp=4194304)):t=1);var r=$s();e=Kl(e,t),e!==null&&(B1(e,t,r),ha(e,r))}function XL(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),x6(e,r)}function YL(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ct(314))}n!==null&&n.delete(t),x6(e,r)}var v6;v6=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ua.current)ca=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ca=!1,FL(e,t,r);ca=!!(e.flags&131072)}else ca=!1,Xn&&t.flags&1048576&&_C(t,tm,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Tg(e,t),e=t.pendingProps;var i=wd(t,Fs.current);Uh(t,r),i=N5(null,t,n,e,i,r);var s=T5();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fa(n)?(s=!0,Jg(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_5(t),i.updater=d2,t.stateNode=i,i._reactInternals=t,bw(t,n,e,r),t=Ew(null,t,n,!0,s,r)):(t.tag=0,Xn&&s&&g5(t),Vs(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Tg(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=QL(n),e=So(n,e),i){case 0:t=Sw(null,t,n,e,r);break e;case 1:t=Yb(null,t,n,e,r);break e;case 11:t=$b(null,t,n,e,r);break e;case 14:t=Xb(null,t,n,So(n.type,e),r);break e}throw Error(Ct(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:So(n,i),Sw(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:So(n,i),Yb(e,t,n,i,r);case 3:e:{if(t6(t),e===null)throw Error(Ct(387));n=t.pendingProps,s=t.memoizedState,i=s.element,TC(e,t),im(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Sd(Error(Ct(423)),t),t=Kb(e,t,n,r,i);break e}else if(n!==i){i=Sd(Error(Ct(424)),t),t=Kb(e,t,n,r,i);break e}else for(Ra=su(t.stateNode.containerInfo.firstChild),Fa=t,Xn=!0,To=null,r=CC(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(yd(),n===i){t=Ql(e,t,r);break e}Vs(e,t,n,r)}t=t.child}return t;case 5:return IC(t),e===null&&vw(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,dw(n,i)?a=null:s!==null&&dw(n,s)&&(t.flags|=32),e6(e,t),Vs(e,t,a,r),t.child;case 6:return e===null&&vw(t),null;case 13:return r6(e,t,r);case 4:return S5(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=bd(t,null,n,r):Vs(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:So(n,i),$b(e,t,n,i,r);case 7:return Vs(e,t,t.pendingProps,r),t.child;case 8:return Vs(e,t,t.pendingProps.children,r),t.child;case 12:return Vs(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Rn(rm,n._currentValue),n._currentValue=a,s!==null)if(Do(s.value,a)){if(s.children===i.children&&!ua.current){t=Ql(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=Hl(-1,r&-r),u.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var d=f.pending;d===null?u.next=u:(u.next=d.next,d.next=u),f.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),ww(s.return,r,t),l.lanes|=r;break}u=u.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ct(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),ww(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Vs(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Uh(t,r),i=so(i),n=n(i),t.flags|=1,Vs(e,t,n,r),t.child;case 14:return n=t.type,i=So(n,t.pendingProps),i=So(n.type,i),Xb(e,t,n,i,r);case 15:return ZC(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:So(n,i),Tg(e,t),t.tag=1,fa(n)?(e=!0,Jg(t)):e=!1,Uh(t,r),YC(t,n,i),bw(t,n,i,r),Ew(null,t,n,!0,e,r);case 19:return n6(e,t,r);case 22:return JC(e,t,r)}throw Error(Ct(156,t.tag))};function w6(e,t){return GA(e,t)}function KL(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ro(e,t,r,n){return new KL(e,t,r,n)}function j5(e){return e=e.prototype,!(!e||!e.isReactComponent)}function QL(e){if(typeof e=="function")return j5(e)?1:0;if(e!=null){if(e=e.$$typeof,e===n5)return 11;if(e===i5)return 14}return 2}function cu(e,t){var r=e.alternate;return r===null?(r=ro(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Pg(e,t,r,n,i,s){var a=2;if(n=e,typeof e=="function")j5(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case _h:return mf(r.children,i,s,t);case r5:a=8,i|=8;break;case qv:return e=ro(12,r,t,i|2),e.elementType=qv,e.lanes=s,e;case Gv:return e=ro(13,r,t,i),e.elementType=Gv,e.lanes=s,e;case $v:return e=ro(19,r,t,i),e.elementType=$v,e.lanes=s,e;case IA:return m2(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case NA:a=10;break e;case TA:a=9;break e;case n5:a=11;break e;case i5:a=14;break e;case Dc:a=16,n=null;break e}throw Error(Ct(130,e==null?e:typeof e,""))}return t=ro(a,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function mf(e,t,r,n){return e=ro(7,e,n,t),e.lanes=r,e}function m2(e,t,r,n){return e=ro(22,e,n,t),e.elementType=IA,e.lanes=r,e.stateNode={isHidden:!1},e}function Qx(e,t,r){return e=ro(6,e,null,t),e.lanes=r,e}function Zx(e,t,r){return t=ro(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ZL(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ox(0),this.expirationTimes=Ox(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ox(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function B5(e,t,r,n,i,s,a,l,u){return e=new ZL(e,t,r,l,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ro(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},_5(s),e}function JL(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bh,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function y6(e){if(!e)return du;e=e._reactInternals;e:{if(jf(e)!==e||e.tag!==1)throw Error(Ct(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ct(171))}if(e.tag===1){var r=e.type;if(fa(r))return yC(e,r,t)}return t}function b6(e,t,r,n,i,s,a,l,u){return e=B5(r,n,!0,e,i,s,a,l,u),e.context=y6(null),r=e.current,n=$s(),i=lu(r),s=Hl(n,i),s.callback=t??null,au(r,s,i),e.current.lanes=i,B1(e,i,n),ha(e,n),e}function x2(e,t,r,n){var i=t.current,s=$s(),a=lu(i);return r=y6(r),t.context===null?t.context=r:t.pendingContext=r,t=Hl(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=au(i,t,a),e!==null&&(Ro(e,i,a,s),Ag(e,i,a)),a}function hm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function a_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function U5(e,t){a_(e,t),(e=e.alternate)&&a_(e,t)}function eD(){return null}var _6=typeof reportError=="function"?reportError:function(e){console.error(e)};function W5(e){this._internalRoot=e}v2.prototype.render=W5.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ct(409));x2(e,t,null,null)};v2.prototype.unmount=W5.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cf(function(){x2(null,e,null,null)}),t[Yl]=null}};function v2(e){this._internalRoot=e}v2.prototype.unstable_scheduleHydration=function(e){if(e){var t=JA();e={blockedOn:null,target:e,priority:t};for(var r=0;r<jc.length&&t!==0&&t<jc[r].priority;r++);jc.splice(r,0,e),r===0&&tC(e)}};function z5(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function w2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function o_(){}function tD(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var f=hm(a);s.call(f)}}var a=b6(t,n,e,0,null,!1,!1,"",o_);return e._reactRootContainer=a,e[Yl]=a.current,a1(e.nodeType===8?e.parentNode:e),Cf(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var f=hm(u);l.call(f)}}var u=B5(e,0,!1,null,null,!1,!1,"",o_);return e._reactRootContainer=u,e[Yl]=u.current,a1(e.nodeType===8?e.parentNode:e),Cf(function(){x2(t,u,r,n)}),u}function y2(e,t,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var u=hm(a);l.call(u)}}x2(t,a,e,i)}else a=tD(r,t,e,i,n);return hm(a)}QA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=E0(t.pendingLanes);r!==0&&(o5(t,r|1),ha(t,xi()),!(Zr&6)&&(Ed=xi()+500,Nu()))}break;case 13:Cf(function(){var n=Kl(e,1);if(n!==null){var i=$s();Ro(n,e,1,i)}}),U5(e,1)}};l5=function(e){if(e.tag===13){var t=Kl(e,134217728);if(t!==null){var r=$s();Ro(t,e,134217728,r)}U5(e,134217728)}};ZA=function(e){if(e.tag===13){var t=lu(e),r=Kl(e,t);if(r!==null){var n=$s();Ro(r,e,t,n)}U5(e,t)}};JA=function(){return yn};eC=function(e,t){var r=yn;try{return yn=e,t()}finally{yn=r}};nw=function(e,t,r){switch(t){case"input":if(Kv(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=u2(n);if(!i)throw Error(Ct(90));PA(n),Kv(n,i)}}}break;case"textarea":RA(e,r);break;case"select":t=r.value,t!=null&&Fh(e,!!r.multiple,t,!1)}};UA=D5;WA=Cf;var rD={usingClientEntryPoint:!1,Events:[W1,Ch,u2,jA,BA,D5]},d0={findFiberByHostInstance:sf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nD={bundleType:d0.bundleType,version:d0.version,rendererPackageName:d0.rendererPackageName,rendererConfig:d0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ic.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=VA(e),e===null?null:e.stateNode},findFiberByHostInstance:d0.findFiberByHostInstance||eD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qp.isDisabled&&qp.supportsFiber)try{a2=qp.inject(nD),fl=qp}catch{}}Ua.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rD;Ua.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!z5(t))throw Error(Ct(200));return JL(e,t,null,r)};Ua.createRoot=function(e,t){if(!z5(e))throw Error(Ct(299));var r=!1,n="",i=_6;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=B5(e,1,!1,null,null,r,!1,n,i),e[Yl]=t.current,a1(e.nodeType===8?e.parentNode:e),new W5(t)};Ua.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ct(188)):(e=Object.keys(e).join(","),Error(Ct(268,e)));return e=VA(t),e=e===null?null:e.stateNode,e};Ua.flushSync=function(e){return Cf(e)};Ua.hydrate=function(e,t,r){if(!w2(t))throw Error(Ct(200));return y2(null,e,t,!0,r)};Ua.hydrateRoot=function(e,t,r){if(!z5(e))throw Error(Ct(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=_6;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=b6(t,null,e,1,r??null,i,!1,s,a),e[Yl]=t.current,a1(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new v2(t)};Ua.render=function(e,t,r){if(!w2(t))throw Error(Ct(200));return y2(null,e,t,!1,r)};Ua.unmountComponentAtNode=function(e){if(!w2(e))throw Error(Ct(40));return e._reactRootContainer?(Cf(function(){y2(null,null,e,!1,function(){e._reactRootContainer=null,e[Yl]=null})}),!0):!1};Ua.unstable_batchedUpdates=D5;Ua.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!w2(r))throw Error(Ct(200));if(e==null||e._reactInternals===void 0)throw Error(Ct(38));return y2(e,t,r,!1,n)};Ua.version="18.3.1-next-f1338f8080-20240426";function S6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S6)}catch(e){console.error(e)}}S6(),SA.exports=Ua;var Bf=SA.exports;const iD=i2(Bf);var E6,l_=Bf;E6=l_.createRoot,l_.hydrateRoot;var Ld=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Nf=typeof window>"u"||"Deno"in globalThis;function Za(){}function sD(e,t){return typeof e=="function"?e(t):e}function Fw(e){return typeof e=="number"&&e>=0&&e!==1/0}function A6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function zh(e,t){return typeof e=="function"?e(t):e}function Io(e,t){return typeof e=="function"?e(t):e}function c_(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:l}=e;if(a){if(n){if(t.queryHash!==H5(a,t.options))return!1}else if(!g1(t.queryKey,a))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||s&&!s(t))}function u_(e,t){const{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Tf(t.options.mutationKey)!==Tf(s))return!1}else if(!g1(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function H5(e,t){return((t==null?void 0:t.queryKeyHashFn)||Tf)(e)}function Tf(e){return JSON.stringify(e,(t,r)=>Mw(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function g1(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!g1(e[r],t[r])):!1}function C6(e,t){if(e===t)return e;const r=f_(e)&&f_(t);if(r||Mw(e)&&Mw(t)){const n=r?e:Object.keys(e),i=n.length,s=r?t:Object.keys(t),a=s.length,l=r?[]:{};let u=0;for(let f=0;f<a;f++){const d=r?f:s[f];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,u++):(l[d]=C6(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&u++)}return i===a&&u===i?e:l}return t}function dm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function f_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Mw(e){if(!h_(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!h_(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function h_(e){return Object.prototype.toString.call(e)==="[object Object]"}function aD(e){return new Promise(t=>{setTimeout(t,e)})}function jw(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?C6(e,t):t}function oD(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function lD(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var V5=Symbol();function N6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===V5?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var lf,Wc,sd,eA,cD=(eA=class extends Ld{constructor(){super();ar(this,lf);ar(this,Wc);ar(this,sd);jt(this,sd,t=>{if(!Nf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Le(this,Wc)||this.setEventListener(Le(this,sd))}onUnsubscribe(){var t;this.hasListeners()||((t=Le(this,Wc))==null||t.call(this),jt(this,Wc,void 0))}setEventListener(t){var r;jt(this,sd,t),(r=Le(this,Wc))==null||r.call(this),jt(this,Wc,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Le(this,lf)!==t&&(jt(this,lf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Le(this,lf)=="boolean"?Le(this,lf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},lf=new WeakMap,Wc=new WeakMap,sd=new WeakMap,eA),q5=new cD,ad,zc,od,tA,uD=(tA=class extends Ld{constructor(){super();ar(this,ad,!0);ar(this,zc);ar(this,od);jt(this,od,t=>{if(!Nf&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Le(this,zc)||this.setEventListener(Le(this,od))}onUnsubscribe(){var t;this.hasListeners()||((t=Le(this,zc))==null||t.call(this),jt(this,zc,void 0))}setEventListener(t){var r;jt(this,od,t),(r=Le(this,zc))==null||r.call(this),jt(this,zc,t(this.setOnline.bind(this)))}setOnline(t){Le(this,ad)!==t&&(jt(this,ad,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Le(this,ad)}},ad=new WeakMap,zc=new WeakMap,od=new WeakMap,tA),pm=new uD;function Bw(){let e,t;const r=new Promise((i,s)=>{e=i,t=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function fD(e){return Math.min(1e3*2**e,3e4)}function T6(e){return(e??"online")==="online"?pm.isOnline():!0}var I6=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Jx(e){return e instanceof I6}function k6(e){let t=!1,r=0,n=!1,i;const s=Bw(),a=_=>{var N;n||(y(new I6(_)),(N=e.abort)==null||N.call(e))},l=()=>{t=!0},u=()=>{t=!1},f=()=>q5.isFocused()&&(e.networkMode==="always"||pm.isOnline())&&e.canRun(),d=()=>T6(e.networkMode)&&e.canRun(),m=_=>{var N;n||(n=!0,(N=e.onSuccess)==null||N.call(e,_),i==null||i(),s.resolve(_))},y=_=>{var N;n||(n=!0,(N=e.onError)==null||N.call(e,_),i==null||i(),s.reject(_))},v=()=>new Promise(_=>{var N;i=A=>{(n||f())&&_(A)},(N=e.onPause)==null||N.call(e)}).then(()=>{var _;i=void 0,n||(_=e.onContinue)==null||_.call(e)}),E=()=>{if(n)return;let _;const N=r===0?e.initialPromise:void 0;try{_=N??e.fn()}catch(A){_=Promise.reject(A)}Promise.resolve(_).then(m).catch(A=>{var Q;if(n)return;const C=e.retry??(Nf?0:3),I=e.retryDelay??fD,L=typeof I=="function"?I(r,A):I,q=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,A);if(t||!q){y(A);return}r++,(Q=e.onFail)==null||Q.call(e,r,A),aD(L).then(()=>f()?void 0:v()).then(()=>{t?y(A):E()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:u,canStart:d,start:()=>(d()?E():v().then(E),s)}}function hD(){let e=[],t=0,r=l=>{l()},n=l=>{l()},i=l=>setTimeout(l,0);const s=l=>{t?e.push(l):i(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(u=>{r(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||a()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var Wi=hD(),cf,rA,P6=(rA=class{constructor(){ar(this,cf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Fw(this.gcTime)&&jt(this,cf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Nf?1/0:5*60*1e3))}clearGcTimeout(){Le(this,cf)&&(clearTimeout(Le(this,cf)),jt(this,cf,void 0))}},cf=new WeakMap,rA),ld,cd,Qa,Ps,L1,uf,Ao,Rl,nA,dD=(nA=class extends P6{constructor(t){super();ar(this,Ao);ar(this,ld);ar(this,cd);ar(this,Qa);ar(this,Ps);ar(this,L1);ar(this,uf);jt(this,uf,!1),jt(this,L1,t.defaultOptions),this.setOptions(t.options),this.observers=[],jt(this,Qa,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,jt(this,ld,pD(this.options)),this.state=t.state??Le(this,ld),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Le(this,Ps))==null?void 0:t.promise}setOptions(t){this.options={...Le(this,L1),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Le(this,Qa).remove(this)}setData(t,r){const n=jw(this.state.data,t,this.options);return Rr(this,Ao,Rl).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Rr(this,Ao,Rl).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=Le(this,Ps))==null?void 0:n.promise;return(i=Le(this,Ps))==null||i.cancel(t),r?r.then(Za).catch(Za):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Le(this,ld))}isActive(){return this.observers.some(t=>Io(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===V5||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!A6(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Le(this,Ps))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Le(this,Ps))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Le(this,Qa).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Le(this,Ps)&&(Le(this,uf)?Le(this,Ps).cancel({revert:!0}):Le(this,Ps).cancelRetry()),this.scheduleGc()),Le(this,Qa).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Rr(this,Ao,Rl).call(this,{type:"invalidate"})}fetch(t,r){var u,f,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Le(this,Ps))return Le(this,Ps).continueRetry(),Le(this,Ps).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(jt(this,uf,!0),n.signal)})},s=()=>{const m=N6(this.options,r),y={queryKey:this.queryKey,meta:this.meta};return i(y),jt(this,uf,!1),this.options.persister?this.options.persister(m,y,this):m(y)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),jt(this,cd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Rr(this,Ao,Rl).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=m=>{var y,v,E,_;Jx(m)&&m.silent||Rr(this,Ao,Rl).call(this,{type:"error",error:m}),Jx(m)||((v=(y=Le(this,Qa).config).onError)==null||v.call(y,m,this),(_=(E=Le(this,Qa).config).onSettled)==null||_.call(E,this.state.data,m,this)),this.scheduleGc()};return jt(this,Ps,k6({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var y,v,E,_;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(N){l(N);return}(v=(y=Le(this,Qa).config).onSuccess)==null||v.call(y,m,this),(_=(E=Le(this,Qa).config).onSettled)==null||_.call(E,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,y)=>{Rr(this,Ao,Rl).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{Rr(this,Ao,Rl).call(this,{type:"pause"})},onContinue:()=>{Rr(this,Ao,Rl).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),Le(this,Ps).start()}},ld=new WeakMap,cd=new WeakMap,Qa=new WeakMap,Ps=new WeakMap,L1=new WeakMap,uf=new WeakMap,Ao=new WeakSet,Rl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...O6(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Jx(i)&&i.revert&&Le(this,cd)?{...Le(this,cd),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Wi.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Le(this,Qa).notify({query:this,type:"updated",action:t})})},nA);function O6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:T6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function pD(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var rl,iA,gD=(iA=class extends Ld{constructor(t={}){super();ar(this,rl);this.config=t,jt(this,rl,new Map)}build(t,r,n){const i=r.queryKey,s=r.queryHash??H5(i,r);let a=this.get(s);return a||(a=new dD({cache:this,queryKey:i,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){Le(this,rl).has(t.queryHash)||(Le(this,rl).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Le(this,rl).get(t.queryHash);r&&(t.destroy(),r===t&&Le(this,rl).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Wi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Le(this,rl).get(t)}getAll(){return[...Le(this,rl).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>c_(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>c_(t,n)):r}notify(t){Wi.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Wi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Wi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},rl=new WeakMap,iA),nl,zs,ff,il,Oc,sA,mD=(sA=class extends P6{constructor(t){super();ar(this,il);ar(this,nl);ar(this,zs);ar(this,ff);this.mutationId=t.mutationId,jt(this,zs,t.mutationCache),jt(this,nl,[]),this.state=t.state||R6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Le(this,nl).includes(t)||(Le(this,nl).push(t),this.clearGcTimeout(),Le(this,zs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){jt(this,nl,Le(this,nl).filter(r=>r!==t)),this.scheduleGc(),Le(this,zs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Le(this,nl).length||(this.state.status==="pending"?this.scheduleGc():Le(this,zs).remove(this))}continue(){var t;return((t=Le(this,ff))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,s,a,l,u,f,d,m,y,v,E,_,N,A,C,I,L,q,Q,B;jt(this,ff,k6({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(M,F)=>{Rr(this,il,Oc).call(this,{type:"failed",failureCount:M,error:F})},onPause:()=>{Rr(this,il,Oc).call(this,{type:"pause"})},onContinue:()=>{Rr(this,il,Oc).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Le(this,zs).canRun(this)}));const r=this.state.status==="pending",n=!Le(this,ff).canStart();try{if(!r){Rr(this,il,Oc).call(this,{type:"pending",variables:t,isPaused:n}),await((s=(i=Le(this,zs).config).onMutate)==null?void 0:s.call(i,t,this));const F=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));F!==this.state.context&&Rr(this,il,Oc).call(this,{type:"pending",context:F,variables:t,isPaused:n})}const M=await Le(this,ff).start();return await((f=(u=Le(this,zs).config).onSuccess)==null?void 0:f.call(u,M,t,this.state.context,this)),await((m=(d=this.options).onSuccess)==null?void 0:m.call(d,M,t,this.state.context)),await((v=(y=Le(this,zs).config).onSettled)==null?void 0:v.call(y,M,null,this.state.variables,this.state.context,this)),await((_=(E=this.options).onSettled)==null?void 0:_.call(E,M,null,t,this.state.context)),Rr(this,il,Oc).call(this,{type:"success",data:M}),M}catch(M){try{throw await((A=(N=Le(this,zs).config).onError)==null?void 0:A.call(N,M,t,this.state.context,this)),await((I=(C=this.options).onError)==null?void 0:I.call(C,M,t,this.state.context)),await((q=(L=Le(this,zs).config).onSettled)==null?void 0:q.call(L,void 0,M,this.state.variables,this.state.context,this)),await((B=(Q=this.options).onSettled)==null?void 0:B.call(Q,void 0,M,t,this.state.context)),M}finally{Rr(this,il,Oc).call(this,{type:"error",error:M})}}finally{Le(this,zs).runNext(this)}}},nl=new WeakMap,zs=new WeakMap,ff=new WeakMap,il=new WeakSet,Oc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Wi.batch(()=>{Le(this,nl).forEach(n=>{n.onMutationUpdate(t)}),Le(this,zs).notify({mutation:this,type:"updated",action:t})})},sA);function R6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Aa,D1,aA,xD=(aA=class extends Ld{constructor(t={}){super();ar(this,Aa);ar(this,D1);this.config=t,jt(this,Aa,new Map),jt(this,D1,Date.now())}build(t,r,n){const i=new mD({mutationCache:this,mutationId:++Tp(this,D1)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){const r=Gp(t),n=Le(this,Aa).get(r)??[];n.push(t),Le(this,Aa).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Gp(t);if(Le(this,Aa).has(r)){const i=(n=Le(this,Aa).get(r))==null?void 0:n.filter(s=>s!==t);i&&(i.length===0?Le(this,Aa).delete(r):Le(this,Aa).set(r,i))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=Le(this,Aa).get(Gp(t)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=Le(this,Aa).get(Gp(t)))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Wi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Le(this,Aa).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>u_(r,n))}findAll(t={}){return this.getAll().filter(r=>u_(t,r))}notify(t){Wi.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Wi.batch(()=>Promise.all(t.map(r=>r.continue().catch(Za))))}},Aa=new WeakMap,D1=new WeakMap,aA);function Gp(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function d_(e){return{onFetch:(t,r)=>{var d,m,y,v,E;const n=t.options,i=(y=(m=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:m.fetchMore)==null?void 0:y.direction,s=((v=t.state.data)==null?void 0:v.pages)||[],a=((E=t.state.data)==null?void 0:E.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const f=async()=>{let _=!1;const N=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(t.signal.aborted?_=!0:t.signal.addEventListener("abort",()=>{_=!0}),t.signal)})},A=N6(t.options,t.fetchOptions),C=async(I,L,q)=>{if(_)return Promise.reject();if(L==null&&I.pages.length)return Promise.resolve(I);const Q={queryKey:t.queryKey,pageParam:L,direction:q?"backward":"forward",meta:t.options.meta};N(Q);const B=await A(Q),{maxPages:M}=t.options,F=q?lD:oD;return{pages:F(I.pages,B,M),pageParams:F(I.pageParams,L,M)}};if(i&&s.length){const I=i==="backward",L=I?vD:p_,q={pages:s,pageParams:a},Q=L(n,q);l=await C(q,Q,I)}else{const I=e??s.length;do{const L=u===0?a[0]??n.initialPageParam:p_(n,l);if(u>0&&L==null)break;l=await C(l,L),u++}while(u<I)}return l};t.options.persister?t.fetchFn=()=>{var _,N;return(N=(_=t.options).persister)==null?void 0:N.call(_,f,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=f}}}function p_(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function vD(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var oi,Hc,Vc,ud,fd,qc,hd,dd,oA,wD=(oA=class{constructor(e={}){ar(this,oi);ar(this,Hc);ar(this,Vc);ar(this,ud);ar(this,fd);ar(this,qc);ar(this,hd);ar(this,dd);jt(this,oi,e.queryCache||new gD),jt(this,Hc,e.mutationCache||new xD),jt(this,Vc,e.defaultOptions||{}),jt(this,ud,new Map),jt(this,fd,new Map),jt(this,qc,0)}mount(){Tp(this,qc)._++,Le(this,qc)===1&&(jt(this,hd,q5.subscribe(async e=>{e&&(await this.resumePausedMutations(),Le(this,oi).onFocus())})),jt(this,dd,pm.subscribe(async e=>{e&&(await this.resumePausedMutations(),Le(this,oi).onOnline())})))}unmount(){var e,t;Tp(this,qc)._--,Le(this,qc)===0&&((e=Le(this,hd))==null||e.call(this),jt(this,hd,void 0),(t=Le(this,dd))==null||t.call(this),jt(this,dd,void 0))}isFetching(e){return Le(this,oi).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Le(this,Hc).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Le(this,oi).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=Le(this,oi).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(zh(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return Le(this,oi).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=Le(this,oi).get(n.queryHash),s=i==null?void 0:i.state.data,a=sD(t,s);if(a!==void 0)return Le(this,oi).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return Wi.batch(()=>Le(this,oi).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Le(this,oi).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Le(this,oi);Wi.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Le(this,oi),n={type:"active",...e};return Wi.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Wi.batch(()=>Le(this,oi).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Za).catch(Za)}invalidateQueries(e={},t={}){return Wi.batch(()=>{if(Le(this,oi).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Wi.batch(()=>Le(this,oi).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Za)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Za)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Le(this,oi).build(this,t);return r.isStaleByTime(zh(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Za).catch(Za)}fetchInfiniteQuery(e){return e.behavior=d_(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Za).catch(Za)}ensureInfiniteQueryData(e){return e.behavior=d_(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return pm.isOnline()?Le(this,Hc).resumePausedMutations():Promise.resolve()}getQueryCache(){return Le(this,oi)}getMutationCache(){return Le(this,Hc)}getDefaultOptions(){return Le(this,Vc)}setDefaultOptions(e){jt(this,Vc,e)}setQueryDefaults(e,t){Le(this,ud).set(Tf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Le(this,ud).values()];let r={};return t.forEach(n=>{g1(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){Le(this,fd).set(Tf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Le(this,fd).values()];let r={};return t.forEach(n=>{g1(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Le(this,Vc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=H5(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===V5&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Le(this,Vc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Le(this,oi).clear(),Le(this,Hc).clear()}},oi=new WeakMap,Hc=new WeakMap,Vc=new WeakMap,ud=new WeakMap,fd=new WeakMap,qc=new WeakMap,hd=new WeakMap,dd=new WeakMap,oA),sa,$r,F1,Hs,hf,pd,Gc,sl,M1,gd,md,df,pf,$c,xd,fn,C0,Uw,Ww,zw,Hw,Vw,qw,Gw,L6,lA,yD=(lA=class extends Ld{constructor(t,r){super();ar(this,fn);ar(this,sa);ar(this,$r);ar(this,F1);ar(this,Hs);ar(this,hf);ar(this,pd);ar(this,Gc);ar(this,sl);ar(this,M1);ar(this,gd);ar(this,md);ar(this,df);ar(this,pf);ar(this,$c);ar(this,xd,new Set);this.options=r,jt(this,sa,t),jt(this,sl,null),jt(this,Gc,Bw()),this.options.experimental_prefetchInRender||Le(this,Gc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Le(this,$r).addObserver(this),g_(Le(this,$r),this.options)?Rr(this,fn,C0).call(this):this.updateResult(),Rr(this,fn,Hw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $w(Le(this,$r),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $w(Le(this,$r),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Rr(this,fn,Vw).call(this),Rr(this,fn,qw).call(this),Le(this,$r).removeObserver(this)}setOptions(t,r){const n=this.options,i=Le(this,$r);if(this.options=Le(this,sa).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Io(this.options.enabled,Le(this,$r))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Rr(this,fn,Gw).call(this),Le(this,$r).setOptions(this.options),n._defaulted&&!dm(this.options,n)&&Le(this,sa).getQueryCache().notify({type:"observerOptionsUpdated",query:Le(this,$r),observer:this});const s=this.hasListeners();s&&m_(Le(this,$r),i,this.options,n)&&Rr(this,fn,C0).call(this),this.updateResult(r),s&&(Le(this,$r)!==i||Io(this.options.enabled,Le(this,$r))!==Io(n.enabled,Le(this,$r))||zh(this.options.staleTime,Le(this,$r))!==zh(n.staleTime,Le(this,$r)))&&Rr(this,fn,Uw).call(this);const a=Rr(this,fn,Ww).call(this);s&&(Le(this,$r)!==i||Io(this.options.enabled,Le(this,$r))!==Io(n.enabled,Le(this,$r))||a!==Le(this,$c))&&Rr(this,fn,zw).call(this,a)}getOptimisticResult(t){const r=Le(this,sa).getQueryCache().build(Le(this,sa),t),n=this.createResult(r,t);return _D(this,n)&&(jt(this,Hs,n),jt(this,pd,this.options),jt(this,hf,Le(this,$r).state)),n}getCurrentResult(){return Le(this,Hs)}trackResult(t,r){const n={};return Object.keys(t).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),t[i])})}),n}trackProp(t){Le(this,xd).add(t)}getCurrentQuery(){return Le(this,$r)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Le(this,sa).defaultQueryOptions(t),n=Le(this,sa).getQueryCache().build(Le(this,sa),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Rr(this,fn,C0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Le(this,Hs)))}createResult(t,r){var M;const n=Le(this,$r),i=this.options,s=Le(this,Hs),a=Le(this,hf),l=Le(this,pd),f=t!==n?t.state:Le(this,F1),{state:d}=t;let m={...d},y=!1,v;if(r._optimisticResults){const F=this.hasListeners(),X=!F&&g_(t,r),W=F&&m_(t,n,r,i);(X||W)&&(m={...m,...O6(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:E,errorUpdatedAt:_,status:N}=m;if(r.select&&m.data!==void 0)if(s&&m.data===(a==null?void 0:a.data)&&r.select===Le(this,M1))v=Le(this,gd);else try{jt(this,M1,r.select),v=r.select(m.data),v=jw(s==null?void 0:s.data,v,r),jt(this,gd,v),jt(this,sl,null)}catch(F){jt(this,sl,F)}else v=m.data;if(r.placeholderData!==void 0&&v===void 0&&N==="pending"){let F;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))F=s.data;else if(F=typeof r.placeholderData=="function"?r.placeholderData((M=Le(this,md))==null?void 0:M.state.data,Le(this,md)):r.placeholderData,r.select&&F!==void 0)try{F=r.select(F),jt(this,sl,null)}catch(X){jt(this,sl,X)}F!==void 0&&(N="success",v=jw(s==null?void 0:s.data,F,r),y=!0)}Le(this,sl)&&(E=Le(this,sl),v=Le(this,gd),_=Date.now(),N="error");const A=m.fetchStatus==="fetching",C=N==="pending",I=N==="error",L=C&&A,q=v!==void 0,B={status:N,fetchStatus:m.fetchStatus,isPending:C,isSuccess:N==="success",isError:I,isInitialLoading:L,isLoading:L,data:v,dataUpdatedAt:m.dataUpdatedAt,error:E,errorUpdatedAt:_,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:A,isRefetching:A&&!C,isLoadingError:I&&!q,isPaused:m.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:I&&q,isStale:G5(t,r),refetch:this.refetch,promise:Le(this,Gc)};if(this.options.experimental_prefetchInRender){const F=U=>{B.status==="error"?U.reject(B.error):B.data!==void 0&&U.resolve(B.data)},X=()=>{const U=jt(this,Gc,B.promise=Bw());F(U)},W=Le(this,Gc);switch(W.status){case"pending":t.queryHash===n.queryHash&&F(W);break;case"fulfilled":(B.status==="error"||B.data!==W.value)&&X();break;case"rejected":(B.status!=="error"||B.error!==W.reason)&&X();break}}return B}updateResult(t){const r=Le(this,Hs),n=this.createResult(Le(this,$r),this.options);if(jt(this,hf,Le(this,$r).state),jt(this,pd,this.options),Le(this,hf).data!==void 0&&jt(this,md,Le(this,$r)),dm(n,r))return;jt(this,Hs,n);const i={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!Le(this,xd).size)return!0;const u=new Set(l??Le(this,xd));return this.options.throwOnError&&u.add("error"),Object.keys(Le(this,Hs)).some(f=>{const d=f;return Le(this,Hs)[d]!==r[d]&&u.has(d)})};(t==null?void 0:t.listeners)!==!1&&s()&&(i.listeners=!0),Rr(this,fn,L6).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Rr(this,fn,Hw).call(this)}},sa=new WeakMap,$r=new WeakMap,F1=new WeakMap,Hs=new WeakMap,hf=new WeakMap,pd=new WeakMap,Gc=new WeakMap,sl=new WeakMap,M1=new WeakMap,gd=new WeakMap,md=new WeakMap,df=new WeakMap,pf=new WeakMap,$c=new WeakMap,xd=new WeakMap,fn=new WeakSet,C0=function(t){Rr(this,fn,Gw).call(this);let r=Le(this,$r).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Za)),r},Uw=function(){Rr(this,fn,Vw).call(this);const t=zh(this.options.staleTime,Le(this,$r));if(Nf||Le(this,Hs).isStale||!Fw(t))return;const n=A6(Le(this,Hs).dataUpdatedAt,t)+1;jt(this,df,setTimeout(()=>{Le(this,Hs).isStale||this.updateResult()},n))},Ww=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Le(this,$r)):this.options.refetchInterval)??!1},zw=function(t){Rr(this,fn,qw).call(this),jt(this,$c,t),!(Nf||Io(this.options.enabled,Le(this,$r))===!1||!Fw(Le(this,$c))||Le(this,$c)===0)&&jt(this,pf,setInterval(()=>{(this.options.refetchIntervalInBackground||q5.isFocused())&&Rr(this,fn,C0).call(this)},Le(this,$c)))},Hw=function(){Rr(this,fn,Uw).call(this),Rr(this,fn,zw).call(this,Rr(this,fn,Ww).call(this))},Vw=function(){Le(this,df)&&(clearTimeout(Le(this,df)),jt(this,df,void 0))},qw=function(){Le(this,pf)&&(clearInterval(Le(this,pf)),jt(this,pf,void 0))},Gw=function(){const t=Le(this,sa).getQueryCache().build(Le(this,sa),this.options);if(t===Le(this,$r))return;const r=Le(this,$r);jt(this,$r,t),jt(this,F1,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},L6=function(t){Wi.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Le(this,Hs))}),Le(this,sa).getQueryCache().notify({query:Le(this,$r),type:"observerResultsUpdated"})})},lA);function bD(e,t){return Io(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function g_(e,t){return bD(e,t)||e.state.data!==void 0&&$w(e,t,t.refetchOnMount)}function $w(e,t,r){if(Io(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&G5(e,t)}return!1}function m_(e,t,r,n){return(e!==t||Io(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&G5(e,r)}function G5(e,t){return Io(t.enabled,e)!==!1&&e.isStaleByTime(zh(t.staleTime,e))}function _D(e,t){return!dm(e.getCurrentResult(),t)}var Xc,Yc,aa,Bl,$l,Og,Xw,cA,SD=(cA=class extends Ld{constructor(r,n){super();ar(this,$l);ar(this,Xc);ar(this,Yc);ar(this,aa);ar(this,Bl);jt(this,Xc,r),this.setOptions(n),this.bindMethods(),Rr(this,$l,Og).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=Le(this,Xc).defaultMutationOptions(r),dm(this.options,n)||Le(this,Xc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Le(this,aa),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Tf(n.mutationKey)!==Tf(this.options.mutationKey)?this.reset():((i=Le(this,aa))==null?void 0:i.state.status)==="pending"&&Le(this,aa).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Le(this,aa))==null||r.removeObserver(this)}onMutationUpdate(r){Rr(this,$l,Og).call(this),Rr(this,$l,Xw).call(this,r)}getCurrentResult(){return Le(this,Yc)}reset(){var r;(r=Le(this,aa))==null||r.removeObserver(this),jt(this,aa,void 0),Rr(this,$l,Og).call(this),Rr(this,$l,Xw).call(this)}mutate(r,n){var i;return jt(this,Bl,n),(i=Le(this,aa))==null||i.removeObserver(this),jt(this,aa,Le(this,Xc).getMutationCache().build(Le(this,Xc),this.options)),Le(this,aa).addObserver(this),Le(this,aa).execute(r)}},Xc=new WeakMap,Yc=new WeakMap,aa=new WeakMap,Bl=new WeakMap,$l=new WeakSet,Og=function(){var n;const r=((n=Le(this,aa))==null?void 0:n.state)??R6();jt(this,Yc,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Xw=function(r){Wi.batch(()=>{var n,i,s,a,l,u,f,d;if(Le(this,Bl)&&this.hasListeners()){const m=Le(this,Yc).variables,y=Le(this,Yc).context;(r==null?void 0:r.type)==="success"?((i=(n=Le(this,Bl)).onSuccess)==null||i.call(n,r.data,m,y),(a=(s=Le(this,Bl)).onSettled)==null||a.call(s,r.data,null,m,y)):(r==null?void 0:r.type)==="error"&&((u=(l=Le(this,Bl)).onError)==null||u.call(l,r.error,m,y),(d=(f=Le(this,Bl)).onSettled)==null||d.call(f,void 0,r.error,m,y))}this.listeners.forEach(m=>{m(Le(this,Yc))})})},cA),D6=D.createContext(void 0),xl=e=>{const t=D.useContext(D6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ED=({client:e,children:t})=>(D.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),x.jsx(D6.Provider,{value:e,children:t})),F6=D.createContext(!1),AD=()=>D.useContext(F6);F6.Provider;function CD(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ND=D.createContext(CD()),TD=()=>D.useContext(ND);function M6(e,t){return typeof e=="function"?e(...t):!!e}function j6(){}var ID=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},kD=e=>{D.useEffect(()=>{e.clearReset()},[e])},PD=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&M6(r,[e.error,n]),OD=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},RD=(e,t)=>e.isLoading&&e.isFetching&&!t,LD=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,x_=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function DD(e,t,r){var d,m,y,v,E;const n=xl(),i=AD(),s=TD(),a=n.defaultQueryOptions(e);(m=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||m.call(d,a),a._optimisticResults=i?"isRestoring":"optimistic",OD(a),ID(a,s),kD(s);const l=!n.getQueryCache().get(a.queryHash),[u]=D.useState(()=>new t(n,a)),f=u.getOptimisticResult(a);if(D.useSyncExternalStore(D.useCallback(_=>{const N=i?()=>{}:u.subscribe(Wi.batchCalls(_));return u.updateResult(),N},[u,i]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),D.useEffect(()=>{u.setOptions(a,{listeners:!1})},[a,u]),LD(a,f))throw x_(a,u,s);if(PD({result:f,errorResetBoundary:s,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash)}))throw f.error;if((v=(y=n.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||v.call(y,a,f),a.experimental_prefetchInRender&&!Nf&&RD(f,i)){const _=l?x_(a,u,s):(E=n.getQueryCache().get(a.queryHash))==null?void 0:E.promise;_==null||_.catch(j6).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?f:u.trackResult(f)}function Zl(e,t){return DD(e,yD)}function pl(e,t){const r=xl(),[n]=D.useState(()=>new SD(r,e));D.useEffect(()=>{n.setOptions(e)},[n,e]);const i=D.useSyncExternalStore(D.useCallback(a=>n.subscribe(Wi.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=D.useCallback((a,l)=>{n.mutate(a,l).catch(j6)},[n]);if(i.error&&M6(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function m1(){return m1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m1.apply(this,arguments)}var Zc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Zc||(Zc={}));const v_="popstate";function FD(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:a,hash:l}=n.location;return Yw("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:gm(i)}return jD(t,r,null,e)}function bi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function B6(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function MD(){return Math.random().toString(36).substr(2,8)}function w_(e,t){return{usr:e.state,key:e.key,idx:t}}function Yw(e,t,r,n){return r===void 0&&(r=null),m1({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Dd(t):t,{state:r,key:t&&t.key||n||MD()})}function gm(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Dd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function jD(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,l=Zc.Pop,u=null,f=d();f==null&&(f=0,a.replaceState(m1({},a.state,{idx:f}),""));function d(){return(a.state||{idx:null}).idx}function m(){l=Zc.Pop;let N=d(),A=N==null?null:N-f;f=N,u&&u({action:l,location:_.location,delta:A})}function y(N,A){l=Zc.Push;let C=Yw(_.location,N,A);f=d()+1;let I=w_(C,f),L=_.createHref(C);try{a.pushState(I,"",L)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(L)}s&&u&&u({action:l,location:_.location,delta:1})}function v(N,A){l=Zc.Replace;let C=Yw(_.location,N,A);f=d();let I=w_(C,f),L=_.createHref(C);a.replaceState(I,"",L),s&&u&&u({action:l,location:_.location,delta:0})}function E(N){let A=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof N=="string"?N:gm(N);return C=C.replace(/ $/,"%20"),bi(A,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,A)}let _={get action(){return l},get location(){return e(i,a)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(v_,m),u=N,()=>{i.removeEventListener(v_,m),u=null}},createHref(N){return t(i,N)},createURL:E,encodeLocation(N){let A=E(N);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:v,go(N){return a.go(N)}};return _}var y_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(y_||(y_={}));function BD(e,t,r){return r===void 0&&(r="/"),UD(e,t,r)}function UD(e,t,r,n){let i=typeof t=="string"?Dd(t):t,s=$5(i.pathname||"/",r);if(s==null)return null;let a=U6(e);WD(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let f=JD(s);l=KD(a[u],f)}return l}function U6(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(bi(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let f=uu([n,u.relativePath]),d=r.concat(u);s.children&&s.children.length>0&&(bi(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),U6(s.children,t,d,f)),!(s.path==null&&!s.index)&&t.push({path:f,score:XD(f,s.index),routesMeta:d})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let u of W6(s.path))i(s,a,u)}),t}function W6(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=W6(n.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...a),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function WD(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:YD(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const zD=/^:[\w-]+$/,HD=3,VD=2,qD=1,GD=10,$D=-2,b_=e=>e==="*";function XD(e,t){let r=e.split("/"),n=r.length;return r.some(b_)&&(n+=$D),t&&(n+=VD),r.filter(i=>!b_(i)).reduce((i,s)=>i+(zD.test(s)?HD:s===""?qD:GD),n)}function YD(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function KD(e,t,r){let{routesMeta:n}=e,i={},s="/",a=[];for(let l=0;l<n.length;++l){let u=n[l],f=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",m=QD({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},d),y=u.route;if(!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:uu([s,m.pathname]),pathnameBase:n9(uu([s,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(s=uu([s,m.pathnameBase]))}return a}function QD(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=ZD(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((f,d,m)=>{let{paramName:y,isOptional:v}=d;if(y==="*"){let _=l[m]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const E=l[m];return v&&!E?f[y]=void 0:f[y]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:a,pattern:e}}function ZD(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),B6(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function JD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return B6(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $5(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function e9(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Dd(e):e;return{pathname:r?r.startsWith("/")?r:t9(r,t):t,search:i9(n),hash:s9(i)}}function t9(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ev(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function r9(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function X5(e,t){let r=r9(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Y5(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Dd(e):(i=m1({},e),bi(!i.pathname||!i.pathname.includes("?"),ev("?","pathname","search",i)),bi(!i.pathname||!i.pathname.includes("#"),ev("#","pathname","hash",i)),bi(!i.search||!i.search.includes("#"),ev("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=r;else{let m=t.length-1;if(!n&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}l=m>=0?t[m]:"/"}let u=e9(i,l),f=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||d)&&(u.pathname+="/"),u}const uu=e=>e.join("/").replace(/\/\/+/g,"/"),n9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),i9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,s9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function a9(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const z6=["post","put","patch","delete"];new Set(z6);const o9=["get",...z6];new Set(o9);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x1(){return x1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x1.apply(this,arguments)}const K5=D.createContext(null),l9=D.createContext(null),Tu=D.createContext(null),b2=D.createContext(null),sc=D.createContext({outlet:null,matches:[],isDataRoute:!1}),H6=D.createContext(null);function c9(e,t){let{relative:r}=t===void 0?{}:t;Fd()||bi(!1);let{basename:n,navigator:i}=D.useContext(Tu),{hash:s,pathname:a,search:l}=G6(e,{relative:r}),u=a;return n!=="/"&&(u=a==="/"?n:uu([n,a])),i.createHref({pathname:u,search:l,hash:s})}function Fd(){return D.useContext(b2)!=null}function jo(){return Fd()||bi(!1),D.useContext(b2).location}function V6(e){D.useContext(Tu).static||D.useLayoutEffect(e)}function ws(){let{isDataRoute:e}=D.useContext(sc);return e?_9():u9()}function u9(){Fd()||bi(!1);let e=D.useContext(K5),{basename:t,future:r,navigator:n}=D.useContext(Tu),{matches:i}=D.useContext(sc),{pathname:s}=jo(),a=JSON.stringify(X5(i,r.v7_relativeSplatPath)),l=D.useRef(!1);return V6(()=>{l.current=!0}),D.useCallback(function(f,d){if(d===void 0&&(d={}),!l.current)return;if(typeof f=="number"){n.go(f);return}let m=Y5(f,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:uu([t,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[t,n,a,s,e])}function q6(){let{matches:e}=D.useContext(sc),t=e[e.length-1];return t?t.params:{}}function G6(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=D.useContext(Tu),{matches:i}=D.useContext(sc),{pathname:s}=jo(),a=JSON.stringify(X5(i,n.v7_relativeSplatPath));return D.useMemo(()=>Y5(e,JSON.parse(a),s,r==="path"),[e,a,s,r])}function f9(e,t){return h9(e,t)}function h9(e,t,r,n){Fd()||bi(!1);let{navigator:i}=D.useContext(Tu),{matches:s}=D.useContext(sc),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let f=jo(),d;if(t){var m;let N=typeof t=="string"?Dd(t):t;u==="/"||(m=N.pathname)!=null&&m.startsWith(u)||bi(!1),d=N}else d=f;let y=d.pathname||"/",v=y;if(u!=="/"){let N=u.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=BD(e,{pathname:v}),_=x9(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:uu([u,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:uu([u,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,r,n);return t&&_?D.createElement(b2.Provider,{value:{location:x1({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Zc.Pop}},_):_}function d9(){let e=b9(),t=a9(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),r?D.createElement("pre",{style:i},r):null,null)}const p9=D.createElement(d9,null);class g9 extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?D.createElement(sc.Provider,{value:this.props.routeContext},D.createElement(H6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m9(e){let{routeContext:t,match:r,children:n}=e,i=D.useContext(K5);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),D.createElement(sc.Provider,{value:t},n)}function x9(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);d>=0||bi(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let m=a[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=d),m.route.id){let{loaderData:y,errors:v}=r,E=m.route.loader&&y[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||E){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((d,m,y)=>{let v,E=!1,_=null,N=null;r&&(v=l&&m.route.id?l[m.route.id]:void 0,_=m.route.errorElement||p9,u&&(f<0&&y===0?(S9("route-fallback"),E=!0,N=null):f===y&&(E=!0,N=m.route.hydrateFallbackElement||null)));let A=t.concat(a.slice(0,y+1)),C=()=>{let I;return v?I=_:E?I=N:m.route.Component?I=D.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=d,D.createElement(m9,{match:m,routeContext:{outlet:d,matches:A,isDataRoute:r!=null},children:I})};return r&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?D.createElement(g9,{location:r.location,revalidation:r.revalidation,component:_,error:v,children:C(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):C()},null)}var $6=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($6||{}),X6=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(X6||{});function v9(e){let t=D.useContext(K5);return t||bi(!1),t}function w9(e){let t=D.useContext(l9);return t||bi(!1),t}function y9(e){let t=D.useContext(sc);return t||bi(!1),t}function Y6(e){let t=y9(),r=t.matches[t.matches.length-1];return r.route.id||bi(!1),r.route.id}function b9(){var e;let t=D.useContext(H6),r=w9(),n=Y6();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function _9(){let{router:e}=v9($6.UseNavigateStable),t=Y6(X6.UseNavigateStable),r=D.useRef(!1);return V6(()=>{r.current=!0}),D.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,x1({fromRouteId:t},s)))},[e,t])}const __={};function S9(e,t,r){__[e]||(__[e]=!0)}function Kw(e){let{to:t,replace:r,state:n,relative:i}=e;Fd()||bi(!1);let{future:s,static:a}=D.useContext(Tu),{matches:l}=D.useContext(sc),{pathname:u}=jo(),f=ws(),d=Y5(t,X5(l,s.v7_relativeSplatPath),u,i==="path"),m=JSON.stringify(d);return D.useEffect(()=>f(JSON.parse(m),{replace:r,state:n,relative:i}),[f,m,i,r,n]),null}function ls(e){bi(!1)}function E9(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Zc.Pop,navigator:s,static:a=!1,future:l}=e;Fd()&&bi(!1);let u=t.replace(/^\/*/,"/"),f=D.useMemo(()=>({basename:u,navigator:s,static:a,future:x1({v7_relativeSplatPath:!1},l)}),[u,l,s,a]);typeof n=="string"&&(n=Dd(n));let{pathname:d="/",search:m="",hash:y="",state:v=null,key:E="default"}=n,_=D.useMemo(()=>{let N=$5(d,u);return N==null?null:{location:{pathname:N,search:m,hash:y,state:v,key:E},navigationType:i}},[u,d,m,y,v,E,i]);return _==null?null:D.createElement(Tu.Provider,{value:f},D.createElement(b2.Provider,{children:r,value:_}))}function A9(e){let{children:t,location:r}=e;return f9(Qw(t),r)}new Promise(()=>{});function Qw(e,t){t===void 0&&(t=[]);let r=[];return D.Children.forEach(e,(n,i)=>{if(!D.isValidElement(n))return;let s=[...t,i];if(n.type===D.Fragment){r.push.apply(r,Qw(n.props.children,s));return}n.type!==ls&&bi(!1),!n.props.index||!n.props.children||bi(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Qw(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zw.apply(this,arguments)}function C9(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function N9(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function T9(e,t){return e.button===0&&(!t||t==="_self")&&!N9(e)}const I9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],k9="6";try{window.__reactRouterVersion=k9}catch{}const P9="startTransition",S_=bA[P9];function O9(e){let{basename:t,children:r,future:n,window:i}=e,s=D.useRef();s.current==null&&(s.current=FD({window:i,v5Compat:!0}));let a=s.current,[l,u]=D.useState({action:a.action,location:a.location}),{v7_startTransition:f}=n||{},d=D.useCallback(m=>{f&&S_?S_(()=>u(m)):u(m)},[u,f]);return D.useLayoutEffect(()=>a.listen(d),[a,d]),D.createElement(E9,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const R9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,io=D.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:l,target:u,to:f,preventScrollReset:d,viewTransition:m}=t,y=C9(t,I9),{basename:v}=D.useContext(Tu),E,_=!1;if(typeof f=="string"&&L9.test(f)&&(E=f,R9))try{let I=new URL(window.location.href),L=f.startsWith("//")?new URL(I.protocol+f):new URL(f),q=$5(L.pathname,v);L.origin===I.origin&&q!=null?f=q+L.search+L.hash:_=!0}catch{}let N=c9(f,{relative:i}),A=D9(f,{replace:a,state:l,target:u,preventScrollReset:d,relative:i,viewTransition:m});function C(I){n&&n(I),I.defaultPrevented||A(I)}return D.createElement("a",Zw({},y,{href:E||N,onClick:_||s?n:C,ref:r,target:u}))});var E_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(E_||(E_={}));var A_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(A_||(A_={}));function D9(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}=t===void 0?{}:t,u=ws(),f=jo(),d=G6(e,{relative:a});return D.useCallback(m=>{if(T9(m,r)){m.preventDefault();let y=n!==void 0?n:gm(f)===gm(d);u(e,{replace:y,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[f,u,d,n,i,r,e,s,a,l])}const F9=1,M9=1e6;let tv=0;function j9(){return tv=(tv+1)%Number.MAX_SAFE_INTEGER,tv.toString()}const rv=new Map,C_=e=>{if(rv.has(e))return;const t=setTimeout(()=>{rv.delete(e),U0({type:"REMOVE_TOAST",toastId:e})},M9);rv.set(e,t)},B9=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,F9)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?C_(r):e.toasts.forEach(n=>{C_(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Rg=[];let Lg={toasts:[]};function U0(e){Lg=B9(Lg,e),Rg.forEach(t=>{t(Lg)})}function U9({...e}){const t=j9(),r=i=>U0({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>U0({type:"DISMISS_TOAST",toastId:t});return U0({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function ns(){const[e,t]=D.useState(Lg);return D.useEffect(()=>(Rg.push(t),()=>{const r=Rg.indexOf(t);r>-1&&Rg.splice(r,1)}),[e]),{...e,toast:U9,dismiss:r=>U0({type:"DISMISS_TOAST",toastId:r})}}function nr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function W9(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function K6(...e){return t=>e.forEach(r=>W9(r,t))}function Xr(...e){return D.useCallback(K6(...e),e)}function z9(e,t=[]){let r=[];function n(s,a){const l=D.createContext(a),u=r.length;r=[...r,a];function f(m){const{scope:y,children:v,...E}=m,_=(y==null?void 0:y[e][u])||l,N=D.useMemo(()=>E,Object.values(E));return x.jsx(_.Provider,{value:N,children:v})}function d(m,y){const v=(y==null?void 0:y[e][u])||l,E=D.useContext(v);if(E)return E;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${s}\``)}return f.displayName=s+"Provider",[f,d]}const i=()=>{const s=r.map(a=>D.createContext(a));return function(l){const u=(l==null?void 0:l[e])||s;return D.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return i.scopeName=e,[n,H9(i,...t)]}function H9(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((l,{useScope:u,scopeName:f})=>{const m=u(s)[`__scope${f}`];return{...l,...m}},{});return D.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var If=D.forwardRef((e,t)=>{const{children:r,...n}=e,i=D.Children.toArray(r),s=i.find(V9);if(s){const a=s.props.children,l=i.map(u=>u===s?D.Children.count(a)>1?D.Children.only(null):D.isValidElement(a)?a.props.children:null:u);return x.jsx(Jw,{...n,ref:t,children:D.isValidElement(a)?D.cloneElement(a,void 0,l):null})}return x.jsx(Jw,{...n,ref:t,children:r})});If.displayName="Slot";var Jw=D.forwardRef((e,t)=>{const{children:r,...n}=e;if(D.isValidElement(r)){const i=G9(r);return D.cloneElement(r,{...q9(n,r.props),ref:t?K6(t,i):i})}return D.Children.count(r)>1?D.Children.only(null):null});Jw.displayName="SlotClone";var Q5=({children:e})=>x.jsx(x.Fragment,{children:e});function V9(e){return D.isValidElement(e)&&e.type===Q5}function q9(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{s(...l),i(...l)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function G9(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Q6(e){const t=e+"CollectionProvider",[r,n]=z9(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:E,children:_}=v,N=Pc.useRef(null),A=Pc.useRef(new Map).current;return x.jsx(i,{scope:E,itemMap:A,collectionRef:N,children:_})};a.displayName=t;const l=e+"CollectionSlot",u=Pc.forwardRef((v,E)=>{const{scope:_,children:N}=v,A=s(l,_),C=Xr(E,A.collectionRef);return x.jsx(If,{ref:C,children:N})});u.displayName=l;const f=e+"CollectionItemSlot",d="data-radix-collection-item",m=Pc.forwardRef((v,E)=>{const{scope:_,children:N,...A}=v,C=Pc.useRef(null),I=Xr(E,C),L=s(f,_);return Pc.useEffect(()=>(L.itemMap.set(C,{ref:C,...A}),()=>void L.itemMap.delete(C))),x.jsx(If,{[d]:"",ref:I,children:N})});m.displayName=f;function y(v){const E=s(e+"CollectionConsumer",v);return Pc.useCallback(()=>{const N=E.collectionRef.current;if(!N)return[];const A=Array.from(N.querySelectorAll(`[${d}]`));return Array.from(E.itemMap.values()).sort((L,q)=>A.indexOf(L.ref.current)-A.indexOf(q.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:a,Slot:u,ItemSlot:m},y,n]}function $9(e,t){const r=D.createContext(t),n=s=>{const{children:a,...l}=s,u=D.useMemo(()=>l,Object.values(l));return x.jsx(r.Provider,{value:u,children:a})};n.displayName=e+"Provider";function i(s){const a=D.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,i]}function Iu(e,t=[]){let r=[];function n(s,a){const l=D.createContext(a),u=r.length;r=[...r,a];const f=m=>{var A;const{scope:y,children:v,...E}=m,_=((A=y==null?void 0:y[e])==null?void 0:A[u])||l,N=D.useMemo(()=>E,Object.values(E));return x.jsx(_.Provider,{value:N,children:v})};f.displayName=s+"Provider";function d(m,y){var _;const v=((_=y==null?void 0:y[e])==null?void 0:_[u])||l,E=D.useContext(v);if(E)return E;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[f,d]}const i=()=>{const s=r.map(a=>D.createContext(a));return function(l){const u=(l==null?void 0:l[e])||s;return D.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return i.scopeName=e,[n,X9(i,...t)]}function X9(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((l,{useScope:u,scopeName:f})=>{const m=u(s)[`__scope${f}`];return{...l,...m}},{});return D.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var Y9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],wr=Y9.reduce((e,t)=>{const r=D.forwardRef((n,i)=>{const{asChild:s,...a}=n,l=s?If:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Z6(e,t){e&&Bf.flushSync(()=>e.dispatchEvent(t))}function ki(e){const t=D.useRef(e);return D.useEffect(()=>{t.current=e}),D.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function K9(e,t=globalThis==null?void 0:globalThis.document){const r=ki(e);D.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Q9="DismissableLayer",ey="dismissableLayer.update",Z9="dismissableLayer.pointerDownOutside",J9="dismissableLayer.focusOutside",N_,J6=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),H1=D.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...u}=e,f=D.useContext(J6),[d,m]=D.useState(null),y=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=D.useState({}),E=Xr(t,B=>m(B)),_=Array.from(f.layers),[N]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),A=_.indexOf(N),C=d?_.indexOf(d):-1,I=f.layersWithOutsidePointerEventsDisabled.size>0,L=C>=A,q=tF(B=>{const M=B.target,F=[...f.branches].some(X=>X.contains(M));!L||F||(i==null||i(B),a==null||a(B),B.defaultPrevented||l==null||l())},y),Q=rF(B=>{const M=B.target;[...f.branches].some(X=>X.contains(M))||(s==null||s(B),a==null||a(B),B.defaultPrevented||l==null||l())},y);return K9(B=>{C===f.layers.size-1&&(n==null||n(B),!B.defaultPrevented&&l&&(B.preventDefault(),l()))},y),D.useEffect(()=>{if(d)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(N_=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(d)),f.layers.add(d),T_(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=N_)}},[d,y,r,f]),D.useEffect(()=>()=>{d&&(f.layers.delete(d),f.layersWithOutsidePointerEventsDisabled.delete(d),T_())},[d,f]),D.useEffect(()=>{const B=()=>v({});return document.addEventListener(ey,B),()=>document.removeEventListener(ey,B)},[]),x.jsx(wr.div,{...u,ref:E,style:{pointerEvents:I?L?"auto":"none":void 0,...e.style},onFocusCapture:nr(e.onFocusCapture,Q.onFocusCapture),onBlurCapture:nr(e.onBlurCapture,Q.onBlurCapture),onPointerDownCapture:nr(e.onPointerDownCapture,q.onPointerDownCapture)})});H1.displayName=Q9;var eF="DismissableLayerBranch",e8=D.forwardRef((e,t)=>{const r=D.useContext(J6),n=D.useRef(null),i=Xr(t,n);return D.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),x.jsx(wr.div,{...e,ref:i})});e8.displayName=eF;function tF(e,t=globalThis==null?void 0:globalThis.document){const r=ki(e),n=D.useRef(!1),i=D.useRef(()=>{});return D.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let u=function(){t8(Z9,r,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function rF(e,t=globalThis==null?void 0:globalThis.document){const r=ki(e),n=D.useRef(!1);return D.useEffect(()=>{const i=s=>{s.target&&!n.current&&t8(J9,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function T_(){const e=new CustomEvent(ey);document.dispatchEvent(e)}function t8(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?Z6(i,s):i.dispatchEvent(s)}var nF=H1,iF=e8,xs=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{},sF="Portal",_2=D.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[i,s]=D.useState(!1);xs(()=>s(!0),[]);const a=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?iD.createPortal(x.jsx(wr.div,{...n,ref:t}),a):null});_2.displayName=sF;function aF(e,t){return D.useReducer((r,n)=>t[r][n]??r,e)}var Bo=e=>{const{present:t,children:r}=e,n=oF(t),i=typeof r=="function"?r({present:n.isPresent}):D.Children.only(r),s=Xr(n.ref,lF(i));return typeof r=="function"||n.isPresent?D.cloneElement(i,{ref:s}):null};Bo.displayName="Presence";function oF(e){const[t,r]=D.useState(),n=D.useRef({}),i=D.useRef(e),s=D.useRef("none"),a=e?"mounted":"unmounted",[l,u]=aF(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const f=$p(n.current);s.current=l==="mounted"?f:"none"},[l]),xs(()=>{const f=n.current,d=i.current;if(d!==e){const y=s.current,v=$p(f);e?u("MOUNT"):v==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(d&&y!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),xs(()=>{if(t){let f;const d=t.ownerDocument.defaultView??window,m=v=>{const _=$p(n.current).includes(v.animationName);if(v.target===t&&_&&(u("ANIMATION_END"),!i.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",f=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},y=v=>{v.target===t&&(s.current=$p(n.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{d.clearTimeout(f),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:D.useCallback(f=>{f&&(n.current=getComputedStyle(f)),r(f)},[])}}function $p(e){return(e==null?void 0:e.animationName)||"none"}function lF(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function kf({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=cF({defaultProp:t,onChange:r}),s=e!==void 0,a=s?e:n,l=ki(r),u=D.useCallback(f=>{if(s){const m=typeof f=="function"?f(e):f;m!==e&&l(m)}else i(f)},[s,e,i,l]);return[a,u]}function cF({defaultProp:e,onChange:t}){const r=D.useState(e),[n]=r,i=D.useRef(n),s=ki(t);return D.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}var uF="VisuallyHidden",V1=D.forwardRef((e,t)=>x.jsx(wr.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));V1.displayName=uF;var fF=V1,Z5="ToastProvider",[J5,hF,dF]=Q6("Toast"),[r8,wne]=Iu("Toast",[dF]),[pF,S2]=r8(Z5),n8=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=e,[l,u]=D.useState(null),[f,d]=D.useState(0),m=D.useRef(!1),y=D.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Z5}\`. Expected non-empty \`string\`.`),x.jsx(J5.Provider,{scope:t,children:x.jsx(pF,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:f,viewport:l,onViewportChange:u,onToastAdd:D.useCallback(()=>d(v=>v+1),[]),onToastRemove:D.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:y,children:a})})};n8.displayName=Z5;var i8="ToastViewport",gF=["F8"],ty="toast.viewportPause",ry="toast.viewportResume",s8=D.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=gF,label:i="Notifications ({hotkey})",...s}=e,a=S2(i8,r),l=hF(r),u=D.useRef(null),f=D.useRef(null),d=D.useRef(null),m=D.useRef(null),y=Xr(t,m,a.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=a.toastCount>0;D.useEffect(()=>{const N=A=>{var I;n.length!==0&&n.every(L=>A[L]||A.code===L)&&((I=m.current)==null||I.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[n]),D.useEffect(()=>{const N=u.current,A=m.current;if(E&&N&&A){const C=()=>{if(!a.isClosePausedRef.current){const Q=new CustomEvent(ty);A.dispatchEvent(Q),a.isClosePausedRef.current=!0}},I=()=>{if(a.isClosePausedRef.current){const Q=new CustomEvent(ry);A.dispatchEvent(Q),a.isClosePausedRef.current=!1}},L=Q=>{!N.contains(Q.relatedTarget)&&I()},q=()=>{N.contains(document.activeElement)||I()};return N.addEventListener("focusin",C),N.addEventListener("focusout",L),N.addEventListener("pointermove",C),N.addEventListener("pointerleave",q),window.addEventListener("blur",C),window.addEventListener("focus",I),()=>{N.removeEventListener("focusin",C),N.removeEventListener("focusout",L),N.removeEventListener("pointermove",C),N.removeEventListener("pointerleave",q),window.removeEventListener("blur",C),window.removeEventListener("focus",I)}}},[E,a.isClosePausedRef]);const _=D.useCallback(({tabbingDirection:N})=>{const C=l().map(I=>{const L=I.ref.current,q=[L,...TF(L)];return N==="forwards"?q:q.reverse()});return(N==="forwards"?C.reverse():C).flat()},[l]);return D.useEffect(()=>{const N=m.current;if(N){const A=C=>{var q,Q,B;const I=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!I){const M=document.activeElement,F=C.shiftKey;if(C.target===N&&F){(q=f.current)==null||q.focus();return}const U=_({tabbingDirection:F?"backwards":"forwards"}),re=U.findIndex(oe=>oe===M);nv(U.slice(re+1))?C.preventDefault():F?(Q=f.current)==null||Q.focus():(B=d.current)==null||B.focus()}};return N.addEventListener("keydown",A),()=>N.removeEventListener("keydown",A)}},[l,_]),x.jsxs(iF,{ref:u,role:"region","aria-label":i.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&x.jsx(ny,{ref:f,onFocusFromOutsideViewport:()=>{const N=_({tabbingDirection:"forwards"});nv(N)}}),x.jsx(J5.Slot,{scope:r,children:x.jsx(wr.ol,{tabIndex:-1,...s,ref:y})}),E&&x.jsx(ny,{ref:d,onFocusFromOutsideViewport:()=>{const N=_({tabbingDirection:"backwards"});nv(N)}})]})});s8.displayName=i8;var a8="ToastFocusProxy",ny=D.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,s=S2(a8,r);return x.jsx(V1,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:a=>{var f;const l=a.relatedTarget;!((f=s.viewport)!=null&&f.contains(l))&&n()}})});ny.displayName=a8;var E2="Toast",mF="toast.swipeStart",xF="toast.swipeMove",vF="toast.swipeCancel",wF="toast.swipeEnd",o8=D.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...a}=e,[l=!0,u]=kf({prop:n,defaultProp:i,onChange:s});return x.jsx(Bo,{present:r||l,children:x.jsx(_F,{open:l,...a,ref:t,onClose:()=>u(!1),onPause:ki(e.onPause),onResume:ki(e.onResume),onSwipeStart:nr(e.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:nr(e.onSwipeMove,f=>{const{x:d,y:m}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:nr(e.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:nr(e.onSwipeEnd,f=>{const{x:d,y:m}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),u(!1)})})})});o8.displayName=E2;var[yF,bF]=r8(E2,{onClose(){}}),_F=D.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:l,onPause:u,onResume:f,onSwipeStart:d,onSwipeMove:m,onSwipeCancel:y,onSwipeEnd:v,...E}=e,_=S2(E2,r),[N,A]=D.useState(null),C=Xr(t,oe=>A(oe)),I=D.useRef(null),L=D.useRef(null),q=i||_.duration,Q=D.useRef(0),B=D.useRef(q),M=D.useRef(0),{onToastAdd:F,onToastRemove:X}=_,W=ki(()=>{var le;(N==null?void 0:N.contains(document.activeElement))&&((le=_.viewport)==null||le.focus()),a()}),U=D.useCallback(oe=>{!oe||oe===1/0||(window.clearTimeout(M.current),Q.current=new Date().getTime(),M.current=window.setTimeout(W,oe))},[W]);D.useEffect(()=>{const oe=_.viewport;if(oe){const le=()=>{U(B.current),f==null||f()},Ne=()=>{const Ae=new Date().getTime()-Q.current;B.current=B.current-Ae,window.clearTimeout(M.current),u==null||u()};return oe.addEventListener(ty,Ne),oe.addEventListener(ry,le),()=>{oe.removeEventListener(ty,Ne),oe.removeEventListener(ry,le)}}},[_.viewport,q,u,f,U]),D.useEffect(()=>{s&&!_.isClosePausedRef.current&&U(q)},[s,q,_.isClosePausedRef,U]),D.useEffect(()=>(F(),()=>X()),[F,X]);const re=D.useMemo(()=>N?p8(N):null,[N]);return _.viewport?x.jsxs(x.Fragment,{children:[re&&x.jsx(SF,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:re}),x.jsx(yF,{scope:r,onClose:W,children:Bf.createPortal(x.jsx(J5.ItemSlot,{scope:r,children:x.jsx(nF,{asChild:!0,onEscapeKeyDown:nr(l,()=>{_.isFocusedToastEscapeKeyDownRef.current||W(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:x.jsx(wr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":_.swipeDirection,...E,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:nr(e.onKeyDown,oe=>{oe.key==="Escape"&&(l==null||l(oe.nativeEvent),oe.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:nr(e.onPointerDown,oe=>{oe.button===0&&(I.current={x:oe.clientX,y:oe.clientY})}),onPointerMove:nr(e.onPointerMove,oe=>{if(!I.current)return;const le=oe.clientX-I.current.x,Ne=oe.clientY-I.current.y,Ae=!!L.current,de=["left","right"].includes(_.swipeDirection),_e=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,Te=de?_e(0,le):0,He=de?0:_e(0,Ne),j=oe.pointerType==="touch"?10:2,V={x:Te,y:He},G={originalEvent:oe,delta:V};Ae?(L.current=V,Xp(xF,m,G,{discrete:!1})):I_(V,_.swipeDirection,j)?(L.current=V,Xp(mF,d,G,{discrete:!1}),oe.target.setPointerCapture(oe.pointerId)):(Math.abs(le)>j||Math.abs(Ne)>j)&&(I.current=null)}),onPointerUp:nr(e.onPointerUp,oe=>{const le=L.current,Ne=oe.target;if(Ne.hasPointerCapture(oe.pointerId)&&Ne.releasePointerCapture(oe.pointerId),L.current=null,I.current=null,le){const Ae=oe.currentTarget,de={originalEvent:oe,delta:le};I_(le,_.swipeDirection,_.swipeThreshold)?Xp(wF,v,de,{discrete:!0}):Xp(vF,y,de,{discrete:!0}),Ae.addEventListener("click",_e=>_e.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),SF=e=>{const{__scopeToast:t,children:r,...n}=e,i=S2(E2,t),[s,a]=D.useState(!1),[l,u]=D.useState(!1);return CF(()=>a(!0)),D.useEffect(()=>{const f=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(f)},[]),l?null:x.jsx(_2,{asChild:!0,children:x.jsx(V1,{...n,children:s&&x.jsxs(x.Fragment,{children:[i.label," ",r]})})})},EF="ToastTitle",l8=D.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return x.jsx(wr.div,{...n,ref:t})});l8.displayName=EF;var AF="ToastDescription",c8=D.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return x.jsx(wr.div,{...n,ref:t})});c8.displayName=AF;var u8="ToastAction",f8=D.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?x.jsx(d8,{altText:r,asChild:!0,children:x.jsx(e3,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${u8}\`. Expected non-empty \`string\`.`),null)});f8.displayName=u8;var h8="ToastClose",e3=D.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=bF(h8,r);return x.jsx(d8,{asChild:!0,children:x.jsx(wr.button,{type:"button",...n,ref:t,onClick:nr(e.onClick,i.onClose)})})});e3.displayName=h8;var d8=D.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return x.jsx(wr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function p8(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),NF(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=n.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...p8(n))}}),t}function Xp(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?Z6(i,s):i.dispatchEvent(s)}var I_=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),s=n>i;return t==="left"||t==="right"?s&&n>r:!s&&i>r};function CF(e=()=>{}){const t=ki(e);xs(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function NF(e){return e.nodeType===e.ELEMENT_NODE}function TF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function nv(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var IF=n8,g8=s8,m8=o8,x8=l8,v8=c8,w8=f8,y8=e3;function b8(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=b8(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function _8(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=b8(e))&&(n&&(n+=" "),n+=t);return n}const k_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,P_=_8,Md=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return P_(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(f=>{const d=r==null?void 0:r[f],m=s==null?void 0:s[f];if(d===null)return null;const y=k_(d)||k_(m);return i[f][y]}),l=r&&Object.entries(r).reduce((f,d)=>{let[m,y]=d;return y===void 0||(f[m]=y),f},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,d)=>{let{class:m,className:y,...v}=d;return Object.entries(v).every(E=>{let[_,N]=E;return Array.isArray(N)?N.includes({...s,...l}[_]):{...s,...l}[_]===N})?[...f,m,y]:f},[]);return P_(e,a,u,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),S8=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=D.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...l},u)=>D.createElement("svg",{ref:u,...PF,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:S8("lucide",i),...l},[...a.map(([f,d])=>D.createElement(f,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=(e,t)=>{const r=D.forwardRef(({className:n,...i},s)=>D.createElement(OF,{ref:s,iconNode:t,className:S8(`lucide-${kF(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=ir("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=ir("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=ir("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=ir("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=ir("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=ir("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=ir("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=ir("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=ir("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=ir("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=ir("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=ir("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=ir("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=ir("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=ir("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=ir("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=ir("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=ir("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=ir("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=ir("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=ir("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=ir("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=ir("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=ir("FileType",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=ir("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=ir("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=ir("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=ir("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=ir("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=ir("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=ir("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=ir("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=ir("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=ir("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=ir("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=ir("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=ir("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=ir("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=ir("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=ir("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=ir("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=ir("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=ir("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=ir("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=ir("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=ir("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=ir("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=ir("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=ir("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=ir("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=ir("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=ir("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),c3="-",KF=e=>{const t=ZF(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(c3);return l[0]===""&&l.length!==1&&l.shift(),O8(l,t)||QF(a)},getConflictingClassGroupIds:(a,l)=>{const u=r[a]||[];return l&&n[a]?[...u,...n[a]]:u}}},O8=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?O8(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(c3);return(a=t.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},j_=/^\[(.+)\]$/,QF=e=>{if(j_.test(e)){const t=j_.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ZF=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return eM(Object.entries(e.classGroups),r).forEach(([s,a])=>{sy(a,n,s,t)}),n},sy=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:B_(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(JF(i)){sy(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{sy(a,B_(t,s),r,n)})})},B_=(e,t)=>{let r=e;return t.split(c3).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},JF=e=>e.isThemeGetter,eM=(e,t)=>t?e.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[t+a,l])):s);return[r,i]}):e,tM=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},R8="!",rM=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],s=t.length,a=l=>{const u=[];let f=0,d=0,m;for(let N=0;N<l.length;N++){let A=l[N];if(f===0){if(A===i&&(n||l.slice(N,N+s)===t)){u.push(l.slice(d,N)),d=N+s;continue}if(A==="/"){m=N;continue}}A==="["?f++:A==="]"&&f--}const y=u.length===0?l:l.substring(d),v=y.startsWith(R8),E=v?y.substring(1):y,_=m&&m>d?m-d:void 0;return{modifiers:u,hasImportantModifier:v,baseClassName:E,maybePostfixModifierPosition:_}};return r?l=>r({className:l,parseClassName:a}):a},nM=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},iM=e=>({cache:tM(e.cacheSize),parseClassName:rM(e),...KF(e)}),sM=/\s+/,aM=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(sM);let l="";for(let u=a.length-1;u>=0;u-=1){const f=a[u],{modifiers:d,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:v}=r(f);let E=!!v,_=n(E?y.substring(0,v):y);if(!_){if(!E){l=f+(l.length>0?" "+l:l);continue}if(_=n(y),!_){l=f+(l.length>0?" "+l:l);continue}E=!1}const N=nM(d).join(":"),A=m?N+R8:N,C=A+_;if(s.includes(C))continue;s.push(C);const I=i(_,E);for(let L=0;L<I.length;++L){const q=I[L];s.push(A+q)}l=f+(l.length>0?" "+l:l)}return l};function oM(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=L8(t))&&(n&&(n+=" "),n+=r);return n}const L8=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=L8(e[n]))&&(r&&(r+=" "),r+=t);return r};function lM(e,...t){let r,n,i,s=a;function a(u){const f=t.reduce((d,m)=>m(d),e());return r=iM(f),n=r.cache.get,i=r.cache.set,s=l,l(u)}function l(u){const f=n(u);if(f)return f;const d=aM(u,r);return i(u,d),d}return function(){return s(oM.apply(null,arguments))}}const Mn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},D8=/^\[(?:([a-z-]+):)?(.+)\]$/i,cM=/^\d+\/\d+$/,uM=new Set(["px","full","screen"]),fM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kl=e=>Hh(e)||uM.has(e)||cM.test(e),Ac=e=>jd(e,"length",SM),Hh=e=>!!e&&!Number.isNaN(Number(e)),iv=e=>jd(e,"number",Hh),p0=e=>!!e&&Number.isInteger(Number(e)),mM=e=>e.endsWith("%")&&Hh(e.slice(0,-1)),Pr=e=>D8.test(e),Cc=e=>fM.test(e),xM=new Set(["length","size","percentage"]),vM=e=>jd(e,xM,F8),wM=e=>jd(e,"position",F8),yM=new Set(["image","url"]),bM=e=>jd(e,yM,AM),_M=e=>jd(e,"",EM),g0=()=>!0,jd=(e,t,r)=>{const n=D8.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},SM=e=>hM.test(e)&&!dM.test(e),F8=()=>!1,EM=e=>pM.test(e),AM=e=>gM.test(e),CM=()=>{const e=Mn("colors"),t=Mn("spacing"),r=Mn("blur"),n=Mn("brightness"),i=Mn("borderColor"),s=Mn("borderRadius"),a=Mn("borderSpacing"),l=Mn("borderWidth"),u=Mn("contrast"),f=Mn("grayscale"),d=Mn("hueRotate"),m=Mn("invert"),y=Mn("gap"),v=Mn("gradientColorStops"),E=Mn("gradientColorStopPositions"),_=Mn("inset"),N=Mn("margin"),A=Mn("opacity"),C=Mn("padding"),I=Mn("saturate"),L=Mn("scale"),q=Mn("sepia"),Q=Mn("skew"),B=Mn("space"),M=Mn("translate"),F=()=>["auto","contain","none"],X=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",Pr,t],U=()=>[Pr,t],re=()=>["",kl,Ac],oe=()=>["auto",Hh,Pr],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ne=()=>["solid","dashed","dotted","double","none"],Ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>["start","end","center","between","around","evenly","stretch"],_e=()=>["","0",Pr],Te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],He=()=>[Hh,Pr];return{cacheSize:500,separator:":",theme:{colors:[g0],spacing:[kl,Ac],blur:["none","",Cc,Pr],brightness:He(),borderColor:[e],borderRadius:["none","","full",Cc,Pr],borderSpacing:U(),borderWidth:re(),contrast:He(),grayscale:_e(),hueRotate:He(),invert:_e(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[mM,Ac],inset:W(),margin:W(),opacity:He(),padding:U(),saturate:He(),scale:He(),sepia:_e(),skew:He(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Pr]}],container:["container"],columns:[{columns:[Cc]}],"break-after":[{"break-after":Te()}],"break-before":[{"break-before":Te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),Pr]}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",p0,Pr]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pr]}],grow:[{grow:_e()}],shrink:[{shrink:_e()}],order:[{order:["first","last","none",p0,Pr]}],"grid-cols":[{"grid-cols":[g0]}],"col-start-end":[{col:["auto",{span:["full",p0,Pr]},Pr]}],"col-start":[{"col-start":oe()}],"col-end":[{"col-end":oe()}],"grid-rows":[{"grid-rows":[g0]}],"row-start-end":[{row:["auto",{span:[p0,Pr]},Pr]}],"row-start":[{"row-start":oe()}],"row-end":[{"row-end":oe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pr]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...de()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...de(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...de(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pr,t]}],"min-w":[{"min-w":[Pr,t,"min","max","fit"]}],"max-w":[{"max-w":[Pr,t,"none","full","min","max","fit","prose",{screen:[Cc]},Cc]}],h:[{h:[Pr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Cc,Ac]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",iv]}],"font-family":[{font:[g0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pr]}],"line-clamp":[{"line-clamp":["none",Hh,iv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",kl,Pr]}],"list-image":[{"list-image":["none",Pr]}],"list-style-type":[{list:["none","disc","decimal",Pr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",kl,Ac]}],"underline-offset":[{"underline-offset":["auto",kl,Pr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),wM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[...Ne(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:Ne()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Ne()]}],"outline-offset":[{"outline-offset":[kl,Pr]}],"outline-w":[{outline:[kl,Ac]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[kl,Ac]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Cc,_M]}],"shadow-color":[{shadow:[g0]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":[...Ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ae()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Cc,Pr]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[m]}],saturate:[{saturate:[I]}],sepia:[{sepia:[q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pr]}],duration:[{duration:He()}],ease:[{ease:["linear","in","out","in-out",Pr]}],delay:[{delay:He()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[p0,Pr]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[Q]}],"skew-y":[{"skew-y":[Q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[kl,Ac,iv]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},NM=lM(CM);function Zt(...e){return NM(_8(e))}function wm(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function ay(e){return new Intl.DateTimeFormat("pt-BR").format(new Date(e))}const TM=IF,M8=D.forwardRef(({className:e,...t},r)=>x.jsx(g8,{ref:r,className:Zt("fixed bottom-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));M8.displayName=g8.displayName;const IM=Md("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),j8=D.forwardRef(({className:e,variant:t,...r},n)=>x.jsx(m8,{ref:n,className:Zt(IM({variant:t}),e),...r}));j8.displayName=m8.displayName;const kM=D.forwardRef(({className:e,...t},r)=>x.jsx(w8,{ref:r,className:Zt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));kM.displayName=w8.displayName;const B8=D.forwardRef(({className:e,...t},r)=>x.jsx(y8,{ref:r,className:Zt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:x.jsx(Uf,{className:"h-4 w-4"})}));B8.displayName=y8.displayName;const U8=D.forwardRef(({className:e,...t},r)=>x.jsx(x8,{ref:r,className:Zt("text-sm font-semibold",e),...t}));U8.displayName=x8.displayName;const W8=D.forwardRef(({className:e,...t},r)=>x.jsx(v8,{ref:r,className:Zt("text-sm opacity-90",e),...t}));W8.displayName=v8.displayName;function PM(){const{toasts:e}=ns();return x.jsxs(TM,{children:[e.map(function({id:t,title:r,description:n,action:i,...s}){return x.jsxs(j8,{...s,children:[x.jsxs("div",{className:"grid gap-1",children:[r&&x.jsx(U8,{children:r}),n&&x.jsx(W8,{children:n})]}),i,x.jsx(B8,{})]},t)}),x.jsx(M8,{})]})}const OM="modulepreload",RM=function(e){return"/"+e},U_={},pu=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(u=>{if(u=RM(u),u in U_)return;U_[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":OM,f||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),f)return new Promise((y,v)=>{m.addEventListener("load",y),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},LM=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>pu(async()=>{const{default:n}=await Promise.resolve().then(()=>Bd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class u3 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class DM extends u3{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class FM extends u3{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class MM extends u3{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var oy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(oy||(oy={}));var jM=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{f(n.next(d))}catch(m){a(m)}}function u(d){try{f(n.throw(d))}catch(m){a(m)}}function f(d){d.done?s(d.value):i(d.value).then(l,u)}f((n=n.apply(e,t||[])).next())})};class BM{constructor(t,{headers:r={},customFetch:n,region:i=oy.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=LM(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return jM(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let l={},{region:u}=r;u||(u=this.region),u&&u!=="any"&&(l["x-region"]=u);let f;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(l["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(l["Content-Type"]="application/json",f=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f}).catch(E=>{throw new DM(E)}),m=d.headers.get("x-relay-error");if(m&&m==="true")throw new FM(d);if(!d.ok)throw new MM(d);let y=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return y==="application/json"?v=yield d.json():y==="application/octet-stream"?v=yield d.blob():y==="text/event-stream"?v=d:y==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(i){return{data:null,error:i}}})}}var la={},f3={},C2={},G1={},N2={},T2={},UM=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Cd=UM();const WM=Cd.fetch,z8=Cd.fetch.bind(Cd),H8=Cd.Headers,zM=Cd.Request,HM=Cd.Response,Bd=Object.freeze(Object.defineProperty({__proto__:null,Headers:H8,Request:zM,Response:HM,default:z8,fetch:WM},Symbol.toStringTag,{value:"Module"})),VM=OO(Bd);var I2={};Object.defineProperty(I2,"__esModule",{value:!0});let qM=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};I2.default=qM;var V8=Zi&&Zi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(T2,"__esModule",{value:!0});const GM=V8(VM),$M=V8(I2);let XM=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=GM.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,l,u;let f=null,d=null,m=null,y=s.status,v=s.statusText;if(s.ok){if(this.method!=="HEAD"){const A=await s.text();A===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=A:d=JSON.parse(A))}const _=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),N=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&N&&N.length>1&&(m=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(f={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,m=null,y=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const _=await s.text();try{f=JSON.parse(_),Array.isArray(f)&&s.status===404&&(d=[],f=null,y=200,v="OK")}catch{s.status===404&&_===""?(y=204,v="No Content"):f={message:_}}if(f&&this.isMaybeSingle&&(!((u=f==null?void 0:f.details)===null||u===void 0)&&u.includes("0 rows"))&&(f=null,y=200,v="OK"),f&&this.shouldThrowOnError)throw new $M.default(f)}return{error:f,data:d,count:m,status:y,statusText:v}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,l,u;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=s==null?void 0:s.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};T2.default=XM;var YM=Zi&&Zi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(N2,"__esModule",{value:!0});const KM=YM(T2);let QM=class extends KM.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var l;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),f=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${f}"; options=${u};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};N2.default=QM;var ZM=Zi&&Zi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(G1,"__esModule",{value:!0});const JM=ZM(N2);let ej=class extends JM.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};G1.default=ej;var tj=Zi&&Zi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(C2,"__esModule",{value:!0});const m0=tj(G1);let rj=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new m0.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new m0.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const u=t.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(u.length>0){const f=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",f.join(","))}}return new m0.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new m0.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new m0.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};C2.default=rj;var k2={},P2={};Object.defineProperty(P2,"__esModule",{value:!0});P2.version=void 0;P2.version="0.0.0-automated";Object.defineProperty(k2,"__esModule",{value:!0});k2.DEFAULT_HEADERS=void 0;const nj=P2;k2.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${nj.version}`};var q8=Zi&&Zi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(f3,"__esModule",{value:!0});const ij=q8(C2),sj=q8(G1),aj=k2;let oj=class G8{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},aj.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new ij.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new G8(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let u;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,m])=>m!==void 0).map(([d,m])=>[d,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([d,m])=>{l.searchParams.append(d,m)})):(a="POST",u=r);const f=Object.assign({},this.headers);return s&&(f.Prefer=`count=${s}`),new sj.default({method:a,url:l,headers:f,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};f3.default=oj;var Ud=Zi&&Zi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(la,"__esModule",{value:!0});la.PostgrestError=la.PostgrestBuilder=la.PostgrestTransformBuilder=la.PostgrestFilterBuilder=la.PostgrestQueryBuilder=la.PostgrestClient=void 0;const $8=Ud(f3);la.PostgrestClient=$8.default;const X8=Ud(C2);la.PostgrestQueryBuilder=X8.default;const Y8=Ud(G1);la.PostgrestFilterBuilder=Y8.default;const K8=Ud(N2);la.PostgrestTransformBuilder=K8.default;const Q8=Ud(T2);la.PostgrestBuilder=Q8.default;const Z8=Ud(I2);la.PostgrestError=Z8.default;var lj=la.default={PostgrestClient:$8.default,PostgrestQueryBuilder:X8.default,PostgrestFilterBuilder:Y8.default,PostgrestTransformBuilder:K8.default,PostgrestBuilder:Q8.default,PostgrestError:Z8.default};const{PostgrestClient:cj,PostgrestQueryBuilder:Ane,PostgrestFilterBuilder:Cne,PostgrestTransformBuilder:Nne,PostgrestBuilder:Tne,PostgrestError:Ine}=lj;let ly;typeof window>"u"?ly=require("ws"):ly=window.WebSocket;const uj="2.11.10",fj={"X-Client-Info":`realtime-js/${uj}`},hj="1.0.0",J8=1e4,dj=1e3;var Vh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Vh||(Vh={}));var Ws;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ws||(Ws={}));var No;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(No||(No={}));var cy;(function(e){e.websocket="websocket"})(cy||(cy={}));var tf;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(tf||(tf={}));class pj{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+i));a=a+i;const u=n.decode(t.slice(a,a+s));a=a+s;const f=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:u,payload:f}}}class eN{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var On;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(On||(On={}));const W_=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,a)=>(s[a]=gj(a,e,t,i),s),{})},gj=(e,t,r,n)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?tN(s,a):uy(a)},tN=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return wj(t,r)}switch(e){case On.bool:return mj(t);case On.float4:case On.float8:case On.int2:case On.int4:case On.int8:case On.numeric:case On.oid:return xj(t);case On.json:case On.jsonb:return vj(t);case On.timestamp:return yj(t);case On.abstime:case On.date:case On.daterange:case On.int4range:case On.int8range:case On.money:case On.reltime:case On.text:case On.time:case On.timestamptz:case On.timetz:case On.tsrange:case On.tstzrange:return uy(t);default:return uy(t)}},uy=e=>e,mj=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},xj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},vj=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},wj=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>tN(t,l))}return e},yj=e=>typeof e=="string"?e.replace(" ","T"):e,rN=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class sv{constructor(t,r,n={},i=J8){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var z_;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(z_||(z_={}));class W0{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=W0.syncState(this.state,i,s,a),this.pendingDiffs.forEach(u=>{this.state=W0.syncDiff(this.state,u,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=W0.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),l={},u={};return this.map(s,(f,d)=>{a[f]||(u[f]=d)}),this.map(a,(f,d)=>{const m=s[f];if(m){const y=d.map(N=>N.presence_ref),v=m.map(N=>N.presence_ref),E=d.filter(N=>v.indexOf(N.presence_ref)<0),_=m.filter(N=>y.indexOf(N.presence_ref)<0);E.length>0&&(l[f]=E),_.length>0&&(u[f]=_)}else l[f]=d}),this.syncDiff(s,{joins:l,leaves:u},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,u)=>{var f;const d=(f=t[l])!==null&&f!==void 0?f:[];if(t[l]=this.cloneDeep(u),d.length>0){const m=t[l].map(v=>v.presence_ref),y=d.filter(v=>m.indexOf(v.presence_ref)<0);t[l].unshift(...y)}n(l,d,u)}),this.map(a,(l,u)=>{let f=t[l];if(!f)return;const d=u.map(m=>m.presence_ref);f=f.filter(m=>d.indexOf(m.presence_ref)<0),t[l]=f,i(l,f,u),f.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var H_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(H_||(H_={}));var V_;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(V_||(V_={}));var Ml;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ml||(Ml={}));class h3{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ws.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new sv(this,No.join,this.params,this.timeout),this.rejoinTimer=new eN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ws.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ws.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ws.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ws.errored,this.rejoinTimer.scheduleTimeout())}),this._on(No.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new W0(this),this.broadcastEndpointURL=rN(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Ml.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Ml.CLOSED));const u={},f={broadcast:s,presence:a,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var m;if(this.socket.setAuth(),d===void 0){t==null||t(Ml.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,v=(m=y==null?void 0:y.length)!==null&&m!==void 0?m:0,E=[];for(let _=0;_<v;_++){const N=y[_],{filter:{event:A,schema:C,table:I,filter:L}}=N,q=d&&d[_];if(q&&q.event===A&&q.schema===C&&q.table===I&&q.filter===L)E.push(Object.assign(Object.assign({},N),{id:q.id}));else{this.unsubscribe(),this.state=Ws.errored,t==null||t(Ml.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(Ml.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ws.errored,t==null||t(Ml.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ml.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,u;const f=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ws.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(No.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const i=new sv(this,No.leave,{},t);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new sv(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:l,error:u,leave:f,join:d}=No;if(n&&[l,u,f,d].indexOf(a)>=0&&n!==this._joinRef())return;let y=this._onMessage(a,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var E,_,N;return((E=v.filter)===null||E===void 0?void 0:E.event)==="*"||((N=(_=v.filter)===null||_===void 0?void 0:_.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===a}).map(v=>v.callback(y,n)):(s=this.bindings[a])===null||s===void 0||s.filter(v=>{var E,_,N,A,C,I;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const L=v.id,q=(E=v.filter)===null||E===void 0?void 0:E.event;return L&&((_=r.ids)===null||_===void 0?void 0:_.includes(L))&&(q==="*"||(q==null?void 0:q.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const L=(C=(A=v==null?void 0:v.filter)===null||A===void 0?void 0:A.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return L==="*"||L===((I=r==null?void 0:r.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof y=="object"&&"ids"in y){const E=y.data,{schema:_,table:N,commit_timestamp:A,type:C,errors:I}=E;y=Object.assign(Object.assign({},{schema:_,table:N,commit_timestamp:A,eventType:C,new:{},old:{},errors:I}),this._getPayloadRecords(E))}v.callback(y,n)})}_isClosed(){return this.state===Ws.closed}_isJoined(){return this.state===Ws.joined}_isJoining(){return this.state===Ws.joining}_isLeaving(){return this.state===Ws.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&h3.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(No.close,{},t)}_onError(t){this._on(No.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ws.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=W_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=W_(t.columns,t.old_record)),r}}const q_=()=>{},bj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _j{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=fj,this.params={},this.timeout=J8,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=q_,this.ref=0,this.logger=q_,this.conn=null,this.sendBuffer=[],this.serializer=new pj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...l)=>pu(async()=>{const{default:u}=await Promise.resolve().then(()=>Bd);return{default:u}},void 0).then(({default:u})=>u(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${cy.websocket}`,this.httpEndpoint=rN(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,a)=>a(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new eN(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=ly),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Sj(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:hj}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Vh.connecting:return tf.Connecting;case Vh.open:return tf.Open;case Vh.closing:return tf.Closing;default:return tf.Closed}}isConnected(){return this.connectionState()===tf.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new h3(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(No.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(dj,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:s,ref:a}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(No.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([bj],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Sj{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Vh.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class d3 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Yi(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ej extends d3{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class fy extends d3{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Aj=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{f(n.next(d))}catch(m){a(m)}}function u(d){try{f(n.throw(d))}catch(m){a(m)}}function f(d){d.done?s(d.value):i(d.value).then(l,u)}f((n=n.apply(e,t||[])).next())})};const nN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>pu(async()=>{const{default:n}=await Promise.resolve().then(()=>Bd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Cj=()=>Aj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pu(()=>Promise.resolve().then(()=>Bd),void 0)).Response:Response}),hy=e=>{if(Array.isArray(e))return e.map(r=>hy(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=hy(n)}),t};var Wf=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{f(n.next(d))}catch(m){a(m)}}function u(d){try{f(n.throw(d))}catch(m){a(m)}}function f(d){d.done?s(d.value):i(d.value).then(l,u)}f((n=n.apply(e,t||[])).next())})};const av=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Nj=(e,t,r)=>Wf(void 0,void 0,void 0,function*(){const n=yield Cj();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{t(new Ej(av(i),e.status||500))}).catch(i=>{t(new fy(av(i),i))}):t(new fy(av(e),e))}),Tj=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function $1(e,t,r,n,i,s){return Wf(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,Tj(t,n,i,s)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>Nj(u,l,n))})})}function ym(e,t,r,n){return Wf(this,void 0,void 0,function*(){return $1(e,"GET",t,r,n)})}function Mc(e,t,r,n,i){return Wf(this,void 0,void 0,function*(){return $1(e,"POST",t,n,i,r)})}function Ij(e,t,r,n,i){return Wf(this,void 0,void 0,function*(){return $1(e,"PUT",t,n,i,r)})}function kj(e,t,r,n){return Wf(this,void 0,void 0,function*(){return $1(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function iN(e,t,r,n,i){return Wf(this,void 0,void 0,function*(){return $1(e,"DELETE",t,n,i,r)})}var ia=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{f(n.next(d))}catch(m){a(m)}}function u(d){try{f(n.throw(d))}catch(m){a(m)}}function f(d){d.done?s(d.value):i(d.value).then(l,u)}f((n=n.apply(e,t||[])).next())})};const Pj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},G_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Oj{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=nN(i)}uploadOrUpdate(t,r,n,i){return ia(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},G_),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const f=this._removeEmptyFolders(r),d=this._getFinalPath(f),m=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:s,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),y=yield m.json();return m.ok?{data:{path:f,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(s){if(Yi(s))return{data:null,error:s};throw s}})}upload(t,r,n){return ia(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return ia(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let u;const f=Object.assign({upsert:G_.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",f.cacheControl)):(u=n,d["cache-control"]=`max-age=${f.cacheControl}`,d["content-type"]=f.contentType);const m=yield this.fetch(l.toString(),{method:"PUT",body:u,headers:d}),y=yield m.json();return m.ok?{data:{path:s,fullPath:y.Key},error:null}:{data:null,error:y}}catch(u){if(Yi(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return ia(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Mc(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new d3("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(Yi(n))return{data:null,error:n};throw n}})}update(t,r,n){return ia(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ia(this,void 0,void 0,function*(){try{return{data:yield Mc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Yi(i))return{data:null,error:i};throw i}})}copy(t,r,n){return ia(this,void 0,void 0,function*(){try{return{data:{path:(yield Mc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Yi(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return ia(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Mc(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(Yi(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return ia(this,void 0,void 0,function*(){try{const i=yield Mc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(Yi(i))return{data:null,error:i};throw i}})}download(t,r){return ia(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ym(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Yi(l))return{data:null,error:l};throw l}})}info(t){return ia(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ym(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:hy(n),error:null}}catch(n){if(Yi(n))return{data:null,error:n};throw n}})}exists(t){return ia(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield kj(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Yi(n)&&n instanceof fy){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&i.push(u);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${f}`)}}}remove(t){return ia(this,void 0,void 0,function*(){try{return{data:yield iN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Yi(r))return{data:null,error:r};throw r}})}list(t,r,n){return ia(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Pj),r),{prefix:t||""});return{data:yield Mc(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Yi(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Rj="2.7.1",Lj={"X-Client-Info":`storage-js/${Rj}`};var ih=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{f(n.next(d))}catch(m){a(m)}}function u(d){try{f(n.throw(d))}catch(m){a(m)}}function f(d){d.done?s(d.value):i(d.value).then(l,u)}f((n=n.apply(e,t||[])).next())})};class Dj{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Lj),r),this.fetch=nN(n)}listBuckets(){return ih(this,void 0,void 0,function*(){try{return{data:yield ym(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Yi(t))return{data:null,error:t};throw t}})}getBucket(t){return ih(this,void 0,void 0,function*(){try{return{data:yield ym(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Yi(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ih(this,void 0,void 0,function*(){try{return{data:yield Mc(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Yi(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ih(this,void 0,void 0,function*(){try{return{data:yield Ij(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Yi(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ih(this,void 0,void 0,function*(){try{return{data:yield Mc(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Yi(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ih(this,void 0,void 0,function*(){try{return{data:yield iN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Yi(r))return{data:null,error:r};throw r}})}}class Fj extends Dj{constructor(t,r={},n){super(t,r,n)}from(t){return new Oj(this.url,this.headers,t,this.fetch)}}const Mj="2.50.0";let T0="";typeof Deno<"u"?T0="deno":typeof document<"u"?T0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?T0="react-native":T0="node";const jj={"X-Client-Info":`supabase-js-${T0}/${Mj}`},Bj={headers:jj},Uj={schema:"public"},Wj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zj={};var Hj=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{f(n.next(d))}catch(m){a(m)}}function u(d){try{f(n.throw(d))}catch(m){a(m)}}function f(d){d.done?s(d.value):i(d.value).then(l,u)}f((n=n.apply(e,t||[])).next())})};const Vj=e=>{let t;return e?t=e:typeof fetch>"u"?t=z8:t=fetch,(...r)=>t(...r)},qj=()=>typeof Headers>"u"?H8:Headers,Gj=(e,t,r)=>{const n=Vj(r),i=qj();return(s,a)=>Hj(void 0,void 0,void 0,function*(){var l;const u=(l=yield t())!==null&&l!==void 0?l:e;let f=new i(a==null?void 0:a.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${u}`),n(s,Object.assign(Object.assign({},a),{headers:f}))})};var $j=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{f(n.next(d))}catch(m){a(m)}}function u(d){try{f(n.throw(d))}catch(m){a(m)}}function f(d){d.done?s(d.value):i(d.value).then(l,u)}f((n=n.apply(e,t||[])).next())})};function Xj(e){return e.endsWith("/")?e:e+"/"}function Yj(e,t){var r,n;const{db:i,auth:s,realtime:a,global:l}=e,{db:u,auth:f,realtime:d,global:m}=t,y={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},f),s),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>$j(this,void 0,void 0,function*(){return""})};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}const sN="2.70.0",xh=30*1e3,dy=3,ov=dy*xh,Kj="http://localhost:9999",Qj="supabase.auth.token",Zj={"X-Client-Info":`gotrue-js/${sN}`},py="X-Supabase-Api-Version",aN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,eB=6e5;class p3 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Cr(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class tB extends p3{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function rB(e){return Cr(e)&&e.name==="AuthApiError"}class oN extends p3{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ku extends p3{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Rc extends ku{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nB(e){return Cr(e)&&e.name==="AuthSessionMissingError"}class Yp extends ku{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kp extends ku{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qp extends ku{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iB(e){return Cr(e)&&e.name==="AuthImplicitGrantRedirectError"}class $_ extends ku{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gy extends ku{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function lv(e){return Cr(e)&&e.name==="AuthRetryableFetchError"}class X_ extends ku{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class z0 extends ku{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Y_=` 	
\r=`.split(""),sB=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Y_.length;t+=1)e[Y_[t].charCodeAt(0)]=-2;for(let t=0;t<bm.length;t+=1)e[bm[t].charCodeAt(0)]=t;return e})();function K_(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bm[n]),t.queuedBits-=6}}function lN(e,t,r){const n=sB[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Q_(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{lB(a,n,r)};for(let a=0;a<e.length;a+=1)lN(e.charCodeAt(a),i,s);return t.join("")}function aB(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function oB(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}aB(n,t)}}function lB(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function cB(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)lN(e.charCodeAt(i),r,n);return new Uint8Array(t)}function uB(e){const t=[];return oB(e,r=>t.push(r)),new Uint8Array(t)}function fB(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>K_(i,r,n)),K_(null,r,n),t.join("")}function hB(e){return Math.round(Date.now()/1e3)+e}function dB(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const bo=()=>typeof window<"u"&&typeof document<"u",Yu={tested:!1,writable:!1},H0=()=>{if(!bo())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yu.tested)return Yu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yu.tested=!0,Yu.writable=!0}catch{Yu.tested=!0,Yu.writable=!1}return Yu.writable};function pB(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const cN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>pu(async()=>{const{default:n}=await Promise.resolve().then(()=>Bd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},gB=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",uN=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Zp=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Jp=async(e,t)=>{await e.removeItem(t)};class O2{constructor(){this.promise=new O2.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}O2.promiseConstructor=Promise;function cv(e){const t=e.split(".");if(t.length!==3)throw new z0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Jj.test(t[n]))throw new z0("JWT not in base64url format");return{header:JSON.parse(Q_(t[0])),payload:JSON.parse(Q_(t[1])),signature:cB(t[2]),raw:{header:t[0],payload:t[1]}}}async function mB(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function xB(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function vB(e){return("0"+e.toString(16)).substr(-2)}function wB(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,vB).join("")}async function yB(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function bB(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await yB(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sh(e,t,r=!1){const n=wB();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await uN(e,`${t}-code-verifier`,i);const s=await bB(n);return[s,n===s?"plain":"s256"]}const _B=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SB(e){const t=e.headers.get(py);if(!t||!t.match(_B))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function EB(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function AB(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const CB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ah(e){if(!CB.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var NB=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Zu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),TB=[502,503,504];async function Z_(e){var t;if(!gB(e))throw new gy(Zu(e),0);if(TB.includes(e.status))throw new gy(Zu(e),e.status);let r;try{r=await e.json()}catch(s){throw new oN(Zu(s),s)}let n;const i=SB(e);if(i&&i.getTime()>=aN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new X_(Zu(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Rc}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new X_(Zu(r),e.status,r.weak_password.reasons);throw new tB(Zu(r),e.status||500,n)}const IB=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ur(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[py]||(s[py]=aN["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await kB(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function kB(e,t,r,n,i,s){const a=IB(t,n,i,s);let l;try{l=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new gy(Zu(u),0)}if(l.ok||await Z_(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await Z_(u)}}function Ll(e){var t;let r=null;LB(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=hB(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function J_(e){const t=Ll(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Uc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function PB(e){return{data:e,error:null}}function OB(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=NB(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function RB(e){return e}function LB(e){return e.access_token&&e.refresh_token&&e.expires_in}const uv=["global","local","others"];var DB=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class FB{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=cN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=uv[0]){if(uv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uv.join(", ")}`);try{return await Ur(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Cr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ur(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Uc})}catch(n){if(Cr(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=DB(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Ur(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:OB,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Cr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ur(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Uc})}catch(r){if(Cr(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,l,u;try{const f={nextPage:null,lastPage:0,total:0},d=await Ur(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:RB});if(d.error)throw d.error;const m=await d.json(),y=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(E=>{const _=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(E.split(";")[1].split("=")[1]);f[`${N}Page`]=_}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Cr(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){ah(t);try{return await Ur(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Uc})}catch(r){if(Cr(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ah(t);try{return await Ur(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Uc})}catch(n){if(Cr(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ah(t);try{return await Ur(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Uc})}catch(n){if(Cr(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ah(t.userId);try{const{data:r,error:n}=await Ur(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Cr(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ah(t.userId),ah(t.id);try{return{data:await Ur(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Cr(r))return{data:null,error:r};throw r}}}const MB={getItem:e=>H0()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{H0()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{H0()&&globalThis.localStorage.removeItem(e)}};function eS(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function jB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const oh={debug:!!(globalThis&&H0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class BB extends fN{}async function UB(e,t,r){oh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),oh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){oh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{oh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw oh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new BB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(oh.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}jB();const WB={url:Kj,storageKey:Qj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function tS(e,t,r){return await r()}class y1{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=y1.nextInstanceID,y1.nextInstanceID+=1,this.instanceID>0&&bo()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},WB),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new FB({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=cN(i.fetch),this.lock=i.lock||tS,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:bo()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=UB:this.lock=tS,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:H0()?this.storage=MB:(this.memoryStorage={},this.storage=eS(this.memoryStorage)):(this.memoryStorage={},this.storage=eS(this.memoryStorage)),bo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=pB(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),bo()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),iB(s)){const u=(t=s.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Cr(r)?{error:r}:{error:new oN("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Ur(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ll}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:f,session:u},error:null}}catch(s){if(Cr(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:d,password:m,options:y}=t;let v=null,E=null;this.flowType==="pkce"&&([v,E]=await sh(this.storage,this.storageKey)),s=await Ur(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:d,password:m,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:v,code_challenge_method:E},xform:Ll})}else if("phone"in t){const{phone:d,password:m,options:y}=t;s=await Ur(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Ll})}else throw new Kp("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:f,session:u},error:null}}catch(s){if(Cr(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:l}=t;r=await Ur(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:J_})}else if("phone"in t){const{phone:s,password:a,options:l}=t;r=await Ur(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:J_})}else throw new Kp("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Yp}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Cr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,s,a,l,u,f,d,m,y,v;let E,_;if("message"in t)E=t.message,_=t.signature;else{const{chain:N,wallet:A,statement:C,options:I}=t;let L;if(bo())if(typeof A=="object")L=A;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))L=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=A}const q=new URL((r=I==null?void 0:I.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in L&&L.signIn){const Q=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),C?{statement:C}:null));let B;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")B=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)B=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)E=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),_=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${q.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(i=(n=I==null?void 0:I.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=I==null?void 0:I.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((a=I==null?void 0:I.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((l=I==null?void 0:I.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((u=I==null?void 0:I.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((f=I==null?void 0:I.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((m=(d=I==null?void 0:I.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||m===void 0)&&m.length?["Resources",...I.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const Q=await L.signMessage(new TextEncoder().encode(E),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=Q}}try{const{data:N,error:A}=await Ur(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:fB(_)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ll});if(A)throw A;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Yp}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:A})}catch(N){if(Cr(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(t){const r=await Zp(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await Ur(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ll});if(await Jp(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Yp}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Cr(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,l=await Ur(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ll}),{data:u,error:f}=l;return f?{data:{user:null,session:null},error:f}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Yp}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:f})}catch(r){if(Cr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:l,options:u}=t;let f=null,d=null;this.flowType==="pkce"&&([f,d]=await sh(this.storage,this.storageKey));const{error:m}=await Ur(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:f,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:l,options:u}=t,{data:f,error:d}=await Ur(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(s=u==null?void 0:u.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:d}}throw new Kp("You must provide either an email or phone number.")}catch(l){if(Cr(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await Ur(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ll});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,f=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:f,session:u},error:null}}catch(i){if(Cr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await sh(this.storage,this.storageKey)),await Ur(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:PB})}catch(s){if(Cr(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Rc;const{error:i}=await Ur(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Cr(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await Ur(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:l}=await Ur(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Kp("You must provide either an email or phone number and a type")}catch(r){if(Cr(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Zp(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ov:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,f,d)=>(!a&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,f,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ur(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Uc}):await this._useSession(async r=>{var n,i,s;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rc}:await Ur(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Uc})})}catch(r){if(Cr(r))return nB(r)&&(await this._removeSession(),await Jp(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Rc;const a=i.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await sh(this.storage,this.storageKey));const{data:f,error:d}=await Ur(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:Uc});if(d)throw d;return a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(Cr(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Rc;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=cv(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Cr(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Rc;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Cr(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!bo())throw new Qp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $_("No code detected.");const{data:C,error:I}=await this._exchangeCodeForSession(t.code);if(I)throw I;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:u,token_type:f}=t;if(!s||!l||!a||!f)throw new Qp("No session defined in URL");const d=Math.round(Date.now()/1e3),m=parseInt(l);let y=d+m;u&&(y=parseInt(u));const v=y-d;v*1e3<=xh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const E=y-m;d-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,y,d):d-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,y,d);const{data:_,error:N}=await this._getUser(s);if(N)throw N;const A={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:m,expires_at:y,refresh_token:a,token_type:f,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:t.type},error:null}}catch(n){if(Cr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Zp(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(rB(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Jp(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=dB(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await sh(this.storage,this.storageKey,!0));try{return await Ur(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Cr(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Cr(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,l,u,f,d;const{data:m,error:y}=s;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Ur(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return bo()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Cr(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await Ur(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Cr(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await xB(async i=>(i>0&&await mB(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ur(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ll})),(i,s)=>{const a=200*Math.pow(2,i);return s&&lv(s)&&Date.now()+a-n<xh})}catch(n){if(this._debug(r,"error",n),Cr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),bo()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Zp(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ov;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${ov}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),lv(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Rc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new O2;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Rc;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Cr(s)){const a={session:null,error:s};return lv(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await uN(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Jp(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&bo()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/xh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${xh}ms, refresh threshold is ${dy} ticks`),i<=dy&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof fN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bo()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await sh(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Ur(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Cr(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:f}=await Ur(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(Cr(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:l}=await Ur(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(Cr(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Ur(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Cr(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=cv(i.access_token);let l=null;a.aal&&(l=a.aal);let u=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n||(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+eB>Date.now()))return n;const{data:i,error:s}=await Ur(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new z0("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(a=>a.kid===t),!n)throw new z0("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:v,error:E}=await this.getSession();if(E||!v.session)return{data:null,error:E};n=v.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:u}}=cv(n);if(EB(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:i,signature:a},error:null}}const f=AB(i.alg),d=await this.fetchJwk(i.kid,r),m=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,a,uB(`${l}.${u}`)))throw new z0("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(Cr(n))return{data:null,error:n};throw n}}}y1.nextInstanceID=0;const zB=y1;class HB extends zB{constructor(t){super(t)}}var VB=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{f(n.next(d))}catch(m){a(m)}}function u(d){try{f(n.throw(d))}catch(m){a(m)}}function f(d){d.done?s(d.value):i(d.value).then(l,u)}f((n=n.apply(e,t||[])).next())})};class qB{constructor(t,r,n){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Xj(t),u=new URL(l);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:Uj,realtime:zj,auth:Object.assign(Object.assign({},Wj),{storageKey:f}),global:Bj},m=Yj(n??{},d);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=m.global.headers)!==null&&s!==void 0?s:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=m.auth)!==null&&a!==void 0?a:{},this.headers,m.global.fetch),this.fetch=Gj(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new cj(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new BM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Fj(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return VB(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:l,debug:u},f,d){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new HB({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new _j(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const GB=(e,t,r)=>new qB(e,t,r),$B="https://nvwscxburlixyqkbhfux.supabase.co",XB="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im52d3NjeGJ1cmxpeHlxa2JoZnV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA1Mjk1MTEsImV4cCI6MjA2NjEwNTUxMX0.ppBJapu82yVC7wBeXqZlkgceMGLpPt9VA58AOSmUlhI",pr=GB($B,XB),hN=D.createContext(void 0);function YB({children:e}){const[t,r]=D.useState(null),[n,i]=D.useState(null),[s,a]=D.useState(null),[l,u]=D.useState(!0),f=ws(),d=()=>{r(null),i(null),a(null),localStorage.removeItem("supabase.auth.token")},m=async C=>{try{console.log("Carregando dados do usurio:",C.id);const{data:I,error:L}=await pr.from("profiles").select("*").eq("id",C.id).single();if(L){if(console.error("Erro ao carregar perfil:",L),L.code==="PGRST116"&&C.email_confirmed_at){console.log("Usurio confirmado mas sem perfil, precisa fazer onboarding"),f("/onboarding",{replace:!0});return}await _();return}if((I==null?void 0:I.is_active)===!1){f("/acesso-negado",{replace:!0});return}if(i(I),I!=null&&I.company_id){const{data:q,error:Q}=await pr.from("companies").select("*").eq("id",I.company_id).single();Q?console.error("Erro ao carregar empresa:",Q):a(q)}else{console.log("Usurio sem empresa, redirecionando para onboarding"),f("/onboarding",{replace:!0});return}}catch(I){console.error("Erro ao carregar dados do usurio:",I),await _()}},y=async()=>{var C;try{const{data:{session:I},error:L}=await pr.auth.getSession();if(L){console.error("Erro ao verificar sesso:",L),d(),u(!1);return}if(I!=null&&I.user){const{error:q}=await pr.from("profiles").select("id").limit(1);if(q&&(q.code==="invalid_token"||(C=q.message)!=null&&C.includes("JWT"))){await _();return}r(I.user),await m(I.user)}else d()}catch(I){console.error("Erro ao verificar sesso:",I),d()}finally{u(!1)}},v=async(C,I)=>{const{data:L,error:q}=await pr.auth.signInWithPassword({email:C,password:I});if(q)throw q.code==="email_not_confirmed"?new Error("Voc precisa confirmar seu e-mail antes de acessar. Verifique sua caixa de entrada ou spam."):new Error("Email ou senha invlidos.");if(L.user){console.log("Login realizado, verificando perfil do usurio:",L.user.id);const{data:Q,error:B}=await pr.from("profiles").select("is_active, company_id").eq("id",L.user.id).single();if(B){if(console.error("Erro ao verificar perfil:",B),B.code==="PGRST116"&&L.user.email_confirmed_at)return console.log("Usurio confirmado mas sem perfil, redirecionando para onboarding"),r(L.user),f("/onboarding",{replace:!0}),"success";throw await pr.auth.signOut(),new Error("Conta no encontrada ou no confirmada.")}return Q!=null&&Q.is_active?Q!=null&&Q.company_id?(r(L.user),await m(L.user),"success"):(r(L.user),f("/onboarding",{replace:!0}),"success"):(await pr.auth.signOut(),"inactive")}throw new Error("Erro inesperado.")},E=async(C,I,L)=>{const q=`${window.location.origin}/onboarding`,{data:Q,error:B}=await pr.auth.signUp({email:C,password:I,options:{emailRedirectTo:q,data:{name:L}}});if(B)throw B},_=async()=>{try{u(!0),await pr.auth.signOut(),d(),f("/login",{replace:!0})}catch(C){console.error("Erro ao fazer logout:",C),d(),f("/login",{replace:!0})}finally{u(!1)}},N=async C=>{try{const{error:I}=await pr.auth.updateUser({password:C});return I?{success:!1,error:I.message}:{success:!0}}catch(I){return{success:!1,error:I instanceof Error?I.message:"Erro desconhecido"}}};D.useEffect(()=>{y();const{data:{subscription:C}}=pr.auth.onAuthStateChange(async(I,L)=>{I==="SIGNED_IN"&&(L!=null&&L.user)?(r(L.user),setTimeout(()=>{m(L.user)},0)):I==="SIGNED_OUT"?d():I==="TOKEN_REFRESHED"&&(L!=null&&L.user)&&(r(L.user),setTimeout(()=>{m(L.user)},0))});return()=>C.unsubscribe()},[]);const A={user:t,profile:n,company:s,loading:l,signIn:v,signUp:E,signOut:_,updatePassword:N};return x.jsx(hN.Provider,{value:A,children:e})}function Si(){const e=D.useContext(hN);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Qo({children:e,requiredRole:t}){const{user:r,profile:n,loading:i}=Si(),s=jo();return i?x.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50",children:x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r?n?n.is_active===!1?x.jsx(Kw,{to:"/acesso-negado",replace:!0}):t&&n.role!==t&&n.role!=="admin"?x.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50",children:x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Acesso Negado"}),x.jsx("p",{className:"text-gray-600 mt-2",children:"Voc no tem permisso para acessar esta pgina"})]})}):x.jsx(x.Fragment,{children:e}):x.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50",children:x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Carregando perfil..."}),x.jsx("p",{className:"text-gray-600 mt-2",children:"Configurando sua conta"})]})}):x.jsx(Kw,{to:"/login",state:{from:s},replace:!0})}function KB(){const{profile:e}=Si(),t=jo(),r=[{name:"Dashboard",href:"/dashboard",icon:I8},{name:"Ativos",href:"/assets",icon:Cn},...(e==null?void 0:e.role)==="admin"?[{name:"Usurios",href:"/users",icon:Ad}]:[],...(e==null?void 0:e.role)==="admin"?[{name:"Meu Plano",href:"/my-plan",icon:T8}]:[],{name:"Meu Perfil",href:"/profile",icon:vm}];return x.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:x.jsxs("div",{className:"flex flex-col flex-grow pt-5 bg-white border-r border-gray-200 overflow-y-auto",children:[x.jsx("div",{className:"flex items-center flex-shrink-0 px-6 pb-4",children:x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-600 rounded-lg",children:x.jsx(Cn,{className:"h-6 w-6 text-white"})}),x.jsx("div",{children:x.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Armazena App"})})]})}),x.jsx("div",{className:"mt-5 flex-grow flex flex-col",children:x.jsx("nav",{className:"flex-1 px-4 space-y-2",children:r.map(n=>{const i=t.pathname===n.href;return x.jsxs(io,{to:n.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[x.jsx(n.icon,{className:`mr-3 flex-shrink-0 h-5 w-5 ${i?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}`}),n.name]},n.name)})})})]})})}function dN(){const{user:e,profile:t}=Si(),{toast:r}=ns(),n=xl(),[i,s]=D.useState(!1),{data:a=[],isLoading:l}=Zl({queryKey:["notifications"],queryFn:async()=>{const{data:C,error:I}=await pr.from("notifications").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1}).limit(20);if(I)throw I;return C},enabled:!!e}),{data:u}=Zl({queryKey:["push-subscription"],queryFn:async()=>{const{data:C,error:I}=await pr.from("push_subscriptions").select("*").eq("user_id",e==null?void 0:e.id).maybeSingle();if(I)throw I;return C},enabled:!!e});D.useEffect(()=>{s(!!u)},[u]);const f=a.filter(C=>!C.read_at).length,d=D.useCallback(async()=>"Notification"in window?Notification.permission==="granted"?!0:Notification.permission==="denied"?(r({title:"Permisso negada",description:"As notificaes foram bloqueadas. Habilite-as nas configuraes do navegador.",variant:"destructive"}),!1):await Notification.requestPermission()==="granted":(r({title:"Notificaes no suportadas",description:"Seu navegador no suporta notificaes push.",variant:"destructive"}),!1),[r]),m=D.useCallback(async()=>{if(!("serviceWorker"in navigator))return null;try{const C=await navigator.serviceWorker.register("/sw.js");return await navigator.serviceWorker.ready,C}catch(C){return console.error("Erro ao registrar service worker:",C),null}},[]),y=D.useCallback(async()=>{if(e)try{if(!await d())return;const I=await m();if(!I){r({title:"Erro",description:"No foi possvel registrar o service worker.",variant:"destructive"});return}const L=await I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:QB("BFmJvljvhokFZxcjmM3st1HvQMjPwcfyS4kWh0gWYFNaiW8w5e1XCX4tCB4a_fFpekRrzEk0CVkc4SZmHlD2M0o")}),{error:q}=await pr.from("push_subscriptions").upsert({user_id:e.id,endpoint:L.endpoint,p256dh:btoa(String.fromCharCode.apply(null,new Uint8Array(L.getKey("p256dh")||new ArrayBuffer(0)))),auth:btoa(String.fromCharCode.apply(null,new Uint8Array(L.getKey("auth")||new ArrayBuffer(0))))});if(q)throw q;n.invalidateQueries({queryKey:["push-subscription"]}),r({title:"Notificaes ativadas",description:"Voc receber notificaes sobre mudanas nos ativos."})}catch(C){console.error("Erro ao inscrever para notificaes:",C),r({title:"Erro",description:"No foi possvel ativar as notificaes.",variant:"destructive"})}},[e,d,m,n,r]),v=D.useCallback(async()=>{if(e)try{const I=await(await navigator.serviceWorker.ready).pushManager.getSubscription();I&&await I.unsubscribe();const{error:L}=await pr.from("push_subscriptions").delete().eq("user_id",e.id);if(L)throw L;n.invalidateQueries({queryKey:["push-subscription"]}),r({title:"Notificaes desativadas",description:"Voc no receber mais notificaes push."})}catch(C){console.error("Erro ao cancelar inscrio:",C),r({title:"Erro",description:"No foi possvel desativar as notificaes.",variant:"destructive"})}},[e,n,r]),E=pl({mutationFn:async C=>{const{error:I}=await pr.from("notifications").update({read_at:new Date().toISOString()}).eq("id",C);if(I)throw I},onSuccess:()=>{n.invalidateQueries({queryKey:["notifications"]})}}),_=pl({mutationFn:async()=>{const{error:C}=await pr.from("notifications").update({read_at:new Date().toISOString()}).eq("user_id",e==null?void 0:e.id).is("read_at",null);if(C)throw C},onSuccess:()=>{n.invalidateQueries({queryKey:["notifications"]}),r({title:"Notificaes marcadas como lidas"})}}),N=D.useCallback(C=>E.mutateAsync(C),[E]),A=D.useCallback(()=>_.mutateAsync(),[_]);return{notifications:a,unreadCount:f,loading:l,subscribeToPush:y,unsubscribeFromPush:v,markAsRead:N,markAllAsRead:A,isSubscribed:i}}function QB(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(r),i=new Uint8Array(n.length);for(let s=0;s<n.length;++s)i[s]=n.charCodeAt(s);return i}const g3=Md("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),zt=D.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},s)=>{const a=n?If:"button";return x.jsx(a,{className:Zt(g3({variant:t,size:r,className:e})),ref:s,...i})});zt.displayName="Button";var ZB=bA.useId||(()=>{}),JB=0;function vf(e){const[t,r]=D.useState(ZB());return xs(()=>{r(n=>n??String(JB++))},[e]),t?`radix-${t}`:""}var fv="focusScope.autoFocusOnMount",hv="focusScope.autoFocusOnUnmount",rS={bubbles:!1,cancelable:!0},eU="FocusScope",m3=D.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[l,u]=D.useState(null),f=ki(i),d=ki(s),m=D.useRef(null),y=Xr(t,_=>u(_)),v=D.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;D.useEffect(()=>{if(n){let _=function(I){if(v.paused||!l)return;const L=I.target;l.contains(L)?m.current=L:Lc(m.current,{select:!0})},N=function(I){if(v.paused||!l)return;const L=I.relatedTarget;L!==null&&(l.contains(L)||Lc(m.current,{select:!0}))},A=function(I){if(document.activeElement===document.body)for(const q of I)q.removedNodes.length>0&&Lc(l)};document.addEventListener("focusin",_),document.addEventListener("focusout",N);const C=new MutationObserver(A);return l&&C.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",N),C.disconnect()}}},[n,l,v.paused]),D.useEffect(()=>{if(l){iS.add(v);const _=document.activeElement;if(!l.contains(_)){const A=new CustomEvent(fv,rS);l.addEventListener(fv,f),l.dispatchEvent(A),A.defaultPrevented||(tU(aU(pN(l)),{select:!0}),document.activeElement===_&&Lc(l))}return()=>{l.removeEventListener(fv,f),setTimeout(()=>{const A=new CustomEvent(hv,rS);l.addEventListener(hv,d),l.dispatchEvent(A),A.defaultPrevented||Lc(_??document.body,{select:!0}),l.removeEventListener(hv,d),iS.remove(v)},0)}}},[l,f,d,v]);const E=D.useCallback(_=>{if(!r&&!n||v.paused)return;const N=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,A=document.activeElement;if(N&&A){const C=_.currentTarget,[I,L]=rU(C);I&&L?!_.shiftKey&&A===L?(_.preventDefault(),r&&Lc(I,{select:!0})):_.shiftKey&&A===I&&(_.preventDefault(),r&&Lc(L,{select:!0})):A===C&&_.preventDefault()}},[r,n,v.paused]);return x.jsx(wr.div,{tabIndex:-1,...a,ref:y,onKeyDown:E})});m3.displayName=eU;function tU(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Lc(n,{select:t}),document.activeElement!==r)return}function rU(e){const t=pN(e),r=nS(t,e),n=nS(t.reverse(),e);return[r,n]}function pN(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function nS(e,t){for(const r of e)if(!nU(r,{upTo:t}))return r}function nU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function iU(e){return e instanceof HTMLInputElement&&"select"in e}function Lc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&iU(e)&&t&&e.select()}}var iS=sU();function sU(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=sS(e,t),e.unshift(t)},remove(t){var r;e=sS(e,t),(r=e[0])==null||r.resume()}}}function sS(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function aU(e){return e.filter(t=>t.tagName!=="A")}var dv=0;function gN(){D.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??aS()),document.body.insertAdjacentElement("beforeend",e[1]??aS()),dv++,()=>{dv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),dv--}},[])}function aS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ol=function(){return ol=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ol.apply(this,arguments)};function mN(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function oU(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Dg="right-scroll-bar-position",Fg="width-before-scroll-bar",lU="with-scroll-bars-hidden",cU="--removed-body-scroll-bar-size";function pv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uU(e,t){var r=D.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var fU=typeof window<"u"?D.useLayoutEffect:D.useEffect,oS=new WeakMap;function hU(e,t){var r=uU(null,function(n){return e.forEach(function(i){return pv(i,n)})});return fU(function(){var n=oS.get(r);if(n){var i=new Set(n),s=new Set(e),a=r.current;i.forEach(function(l){s.has(l)||pv(l,null)}),s.forEach(function(l){i.has(l)||pv(l,a)})}oS.set(r,e)},[e]),r}function dU(e){return e}function pU(e,t){t===void 0&&(t=dU);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var a=t(s,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(n=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(s),a=r}var u=function(){var d=a;a=[],d.forEach(s)},f=function(){return Promise.resolve().then(u)};f(),r={push:function(d){a.push(d),f()},filter:function(d){return a=a.filter(d),r}}}};return i}function gU(e){e===void 0&&(e={});var t=pU(null);return t.options=ol({async:!0,ssr:!1},e),t}var xN=function(e){var t=e.sideCar,r=mN(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return D.createElement(n,ol({},r))};xN.isSideCarExport=!0;function mU(e,t){return e.useMedium(t),xN}var vN=gU(),gv=function(){},R2=D.forwardRef(function(e,t){var r=D.useRef(null),n=D.useState({onScrollCapture:gv,onWheelCapture:gv,onTouchMoveCapture:gv}),i=n[0],s=n[1],a=e.forwardProps,l=e.children,u=e.className,f=e.removeScrollBar,d=e.enabled,m=e.shards,y=e.sideCar,v=e.noIsolation,E=e.inert,_=e.allowPinchZoom,N=e.as,A=N===void 0?"div":N,C=e.gapMode,I=mN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=y,q=hU([r,t]),Q=ol(ol({},I),i);return D.createElement(D.Fragment,null,d&&D.createElement(L,{sideCar:vN,removeScrollBar:f,shards:m,noIsolation:v,inert:E,setCallbacks:s,allowPinchZoom:!!_,lockRef:r,gapMode:C}),a?D.cloneElement(D.Children.only(l),ol(ol({},Q),{ref:q})):D.createElement(A,ol({},Q,{className:u,ref:q}),l))});R2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};R2.classNames={fullWidth:Fg,zeroRight:Dg};var xU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=xU();return t&&e.setAttribute("nonce",t),e}function wU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function yU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var bU=function(){var e=0,t=null;return{add:function(r){e==0&&(t=vU())&&(wU(t,r),yU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},_U=function(){var e=bU();return function(t,r){D.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},wN=function(){var e=_U(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},SU={left:0,top:0,right:0,gap:0},mv=function(e){return parseInt(e||"",10)||0},EU=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[mv(r),mv(n),mv(i)]},AU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return SU;var t=EU(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},CU=wN(),qh="data-scroll-locked",NU=function(e,t,r,n){var i=e.left,s=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(lU,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(qh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dg,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Fg,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Dg," .").concat(Dg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Fg," .").concat(Fg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(qh,`] {
    `).concat(cU,": ").concat(l,`px;
  }
`)},lS=function(){var e=parseInt(document.body.getAttribute(qh)||"0",10);return isFinite(e)?e:0},TU=function(){D.useEffect(function(){return document.body.setAttribute(qh,(lS()+1).toString()),function(){var e=lS()-1;e<=0?document.body.removeAttribute(qh):document.body.setAttribute(qh,e.toString())}},[])},IU=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;TU();var s=D.useMemo(function(){return AU(i)},[i]);return D.createElement(CU,{styles:NU(s,!t,i,r?"":"!important")})},my=!1;if(typeof window<"u")try{var eg=Object.defineProperty({},"passive",{get:function(){return my=!0,!0}});window.addEventListener("test",eg,eg),window.removeEventListener("test",eg,eg)}catch{my=!1}var lh=my?{passive:!1}:!1,kU=function(e){return e.tagName==="TEXTAREA"},yN=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!kU(e)&&r[t]==="visible")},PU=function(e){return yN(e,"overflowY")},OU=function(e){return yN(e,"overflowX")},cS=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=bN(e,n);if(i){var s=_N(e,n),a=s[1],l=s[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},RU=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},LU=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},bN=function(e,t){return e==="v"?PU(t):OU(t)},_N=function(e,t){return e==="v"?RU(t):LU(t)},DU=function(e,t){return e==="h"&&t==="rtl"?-1:1},FU=function(e,t,r,n,i){var s=DU(e,window.getComputedStyle(t).direction),a=s*n,l=r.target,u=t.contains(l),f=!1,d=a>0,m=0,y=0;do{var v=_N(e,l),E=v[0],_=v[1],N=v[2],A=_-N-s*E;(E||A)&&bN(e,l)&&(m+=A,y+=E),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(d&&Math.abs(m)<1||!d&&Math.abs(y)<1)&&(f=!0),f},tg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},uS=function(e){return[e.deltaX,e.deltaY]},fS=function(e){return e&&"current"in e?e.current:e},MU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},jU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},BU=0,ch=[];function UU(e){var t=D.useRef([]),r=D.useRef([0,0]),n=D.useRef(),i=D.useState(BU++)[0],s=D.useState(wN)[0],a=D.useRef(e);D.useEffect(function(){a.current=e},[e]),D.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var _=oU([e.lockRef.current],(e.shards||[]).map(fS),!0).filter(Boolean);return _.forEach(function(N){return N.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=D.useCallback(function(_,N){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!a.current.allowPinchZoom;var A=tg(_),C=r.current,I="deltaX"in _?_.deltaX:C[0]-A[0],L="deltaY"in _?_.deltaY:C[1]-A[1],q,Q=_.target,B=Math.abs(I)>Math.abs(L)?"h":"v";if("touches"in _&&B==="h"&&Q.type==="range")return!1;var M=cS(B,Q);if(!M)return!0;if(M?q=B:(q=B==="v"?"h":"v",M=cS(B,Q)),!M)return!1;if(!n.current&&"changedTouches"in _&&(I||L)&&(n.current=q),!q)return!0;var F=n.current||q;return FU(F,N,_,F==="h"?I:L)},[]),u=D.useCallback(function(_){var N=_;if(!(!ch.length||ch[ch.length-1]!==s)){var A="deltaY"in N?uS(N):tg(N),C=t.current.filter(function(q){return q.name===N.type&&(q.target===N.target||N.target===q.shadowParent)&&MU(q.delta,A)})[0];if(C&&C.should){N.cancelable&&N.preventDefault();return}if(!C){var I=(a.current.shards||[]).map(fS).filter(Boolean).filter(function(q){return q.contains(N.target)}),L=I.length>0?l(N,I[0]):!a.current.noIsolation;L&&N.cancelable&&N.preventDefault()}}},[]),f=D.useCallback(function(_,N,A,C){var I={name:_,delta:N,target:A,should:C,shadowParent:WU(A)};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(L){return L!==I})},1)},[]),d=D.useCallback(function(_){r.current=tg(_),n.current=void 0},[]),m=D.useCallback(function(_){f(_.type,uS(_),_.target,l(_,e.lockRef.current))},[]),y=D.useCallback(function(_){f(_.type,tg(_),_.target,l(_,e.lockRef.current))},[]);D.useEffect(function(){return ch.push(s),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:y}),document.addEventListener("wheel",u,lh),document.addEventListener("touchmove",u,lh),document.addEventListener("touchstart",d,lh),function(){ch=ch.filter(function(_){return _!==s}),document.removeEventListener("wheel",u,lh),document.removeEventListener("touchmove",u,lh),document.removeEventListener("touchstart",d,lh)}},[]);var v=e.removeScrollBar,E=e.inert;return D.createElement(D.Fragment,null,E?D.createElement(s,{styles:jU(i)}):null,v?D.createElement(IU,{gapMode:e.gapMode}):null)}function WU(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const zU=mU(vN,UU);var x3=D.forwardRef(function(e,t){return D.createElement(R2,ol({},e,{ref:t,sideCar:zU}))});x3.classNames=R2.classNames;var HU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},uh=new WeakMap,rg=new WeakMap,ng={},xv=0,SN=function(e){return e&&(e.host||SN(e.parentNode))},VU=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=SN(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},qU=function(e,t,r,n){var i=VU(t,Array.isArray(e)?e:[e]);ng[r]||(ng[r]=new WeakMap);var s=ng[r],a=[],l=new Set,u=new Set(i),f=function(m){!m||l.has(m)||(l.add(m),f(m.parentNode))};i.forEach(f);var d=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(y){if(l.has(y))d(y);else try{var v=y.getAttribute(n),E=v!==null&&v!=="false",_=(uh.get(y)||0)+1,N=(s.get(y)||0)+1;uh.set(y,_),s.set(y,N),a.push(y),_===1&&E&&rg.set(y,!0),N===1&&y.setAttribute(r,"true"),E||y.setAttribute(n,"true")}catch(A){console.error("aria-hidden: cannot operate on ",y,A)}})};return d(t),l.clear(),xv++,function(){a.forEach(function(m){var y=uh.get(m)-1,v=s.get(m)-1;uh.set(m,y),s.set(m,v),y||(rg.has(m)||m.removeAttribute(n),rg.delete(m)),v||m.removeAttribute(r)}),xv--,xv||(uh=new WeakMap,uh=new WeakMap,rg=new WeakMap,ng={})}},EN=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=HU(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),qU(n,i,r,"aria-hidden")):function(){return null}},v3="Dialog",[AN,CN]=Iu(v3),[GU,Uo]=AN(v3),NN=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,l=D.useRef(null),u=D.useRef(null),[f=!1,d]=kf({prop:n,defaultProp:i,onChange:s});return x.jsx(GU,{scope:t,triggerRef:l,contentRef:u,contentId:vf(),titleId:vf(),descriptionId:vf(),open:f,onOpenChange:d,onOpenToggle:D.useCallback(()=>d(m=>!m),[d]),modal:a,children:r})};NN.displayName=v3;var TN="DialogTrigger",IN=D.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Uo(TN,r),s=Xr(t,i.triggerRef);return x.jsx(wr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":b3(i.open),...n,ref:s,onClick:nr(e.onClick,i.onOpenToggle)})});IN.displayName=TN;var w3="DialogPortal",[$U,kN]=AN(w3,{forceMount:void 0}),PN=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,s=Uo(w3,t);return x.jsx($U,{scope:t,forceMount:r,children:D.Children.map(n,a=>x.jsx(Bo,{present:r||s.open,children:x.jsx(_2,{asChild:!0,container:i,children:a})}))})};PN.displayName=w3;var _m="DialogOverlay",ON=D.forwardRef((e,t)=>{const r=kN(_m,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=Uo(_m,e.__scopeDialog);return s.modal?x.jsx(Bo,{present:n||s.open,children:x.jsx(XU,{...i,ref:t})}):null});ON.displayName=_m;var XU=D.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Uo(_m,r);return x.jsx(x3,{as:If,allowPinchZoom:!0,shards:[i.contentRef],children:x.jsx(wr.div,{"data-state":b3(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Pf="DialogContent",RN=D.forwardRef((e,t)=>{const r=kN(Pf,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=Uo(Pf,e.__scopeDialog);return x.jsx(Bo,{present:n||s.open,children:s.modal?x.jsx(YU,{...i,ref:t}):x.jsx(KU,{...i,ref:t})})});RN.displayName=Pf;var YU=D.forwardRef((e,t)=>{const r=Uo(Pf,e.__scopeDialog),n=D.useRef(null),i=Xr(t,r.contentRef,n);return D.useEffect(()=>{const s=n.current;if(s)return EN(s)},[]),x.jsx(LN,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nr(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:nr(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:nr(e.onFocusOutside,s=>s.preventDefault())})}),KU=D.forwardRef((e,t)=>{const r=Uo(Pf,e.__scopeDialog),n=D.useRef(!1),i=D.useRef(!1);return x.jsx(LN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var u,f;(u=e.onInteractOutside)==null||u.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((f=r.triggerRef.current)==null?void 0:f.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),LN=D.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,l=Uo(Pf,r),u=D.useRef(null),f=Xr(t,u);return gN(),x.jsxs(x.Fragment,{children:[x.jsx(m3,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:x.jsx(H1,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":b3(l.open),...a,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),x.jsxs(x.Fragment,{children:[x.jsx(ZU,{titleId:l.titleId}),x.jsx(eW,{contentRef:u,descriptionId:l.descriptionId})]})]})}),y3="DialogTitle",DN=D.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Uo(y3,r);return x.jsx(wr.h2,{id:i.titleId,...n,ref:t})});DN.displayName=y3;var FN="DialogDescription",MN=D.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Uo(FN,r);return x.jsx(wr.p,{id:i.descriptionId,...n,ref:t})});MN.displayName=FN;var jN="DialogClose",BN=D.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Uo(jN,r);return x.jsx(wr.button,{type:"button",...n,ref:t,onClick:nr(e.onClick,()=>i.onOpenChange(!1))})});BN.displayName=jN;function b3(e){return e?"open":"closed"}var UN="DialogTitleWarning",[QU,WN]=$9(UN,{contentName:Pf,titleName:y3,docsSlug:"dialog"}),ZU=({titleId:e})=>{const t=WN(UN),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return D.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},JU="DialogDescriptionWarning",eW=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${WN(JU).contentName}}.`;return D.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},_3=NN,S3=IN,E3=PN,X1=ON,Y1=RN,K1=DN,Q1=MN,L2=BN;const tW=_3,rW=S3,nW=E3,zN=D.forwardRef(({className:e,...t},r)=>x.jsx(X1,{className:Zt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));zN.displayName=X1.displayName;const iW=Md("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),HN=D.forwardRef(({side:e="right",className:t,children:r,...n},i)=>x.jsxs(nW,{children:[x.jsx(zN,{}),x.jsxs(Y1,{ref:i,className:Zt(iW({side:e}),t),...n,children:[r,x.jsxs(L2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[x.jsx(Uf,{className:"h-4 w-4"}),x.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));HN.displayName=Y1.displayName;const sW=D.forwardRef(({className:e,...t},r)=>x.jsx(K1,{ref:r,className:Zt("text-lg font-semibold text-foreground",e),...t}));sW.displayName=K1.displayName;const aW=D.forwardRef(({className:e,...t},r)=>x.jsx(Q1,{ref:r,className:Zt("text-sm text-muted-foreground",e),...t}));aW.displayName=Q1.displayName;var oW="Separator",hS="horizontal",lW=["horizontal","vertical"],VN=D.forwardRef((e,t)=>{const{decorative:r,orientation:n=hS,...i}=e,s=cW(n)?n:hS,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return x.jsx(wr.div,{"data-orientation":s,...l,...i,ref:t})});VN.displayName=oW;function cW(e){return lW.includes(e)}var qN=VN;const D2=D.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>x.jsx(qN,{ref:i,decorative:r,orientation:t,className:Zt("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));D2.displayName=qN.displayName;const uW=Md("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _i({className:e,variant:t,...r}){return x.jsx("div",{className:Zt(uW({variant:t}),e),...r})}const A3={free:{maxAssets:50,maxUsers:2,support:"E-mail (at 72h)",icon:"",color:"green",name:"Free"},basic:{maxAssets:500,maxUsers:3,support:"E-mail (at 48h)",icon:"",color:"blue",name:"Basic"},premium:{maxAssets:1e3,maxUsers:10,support:"WhatsApp (at 24h)",icon:"",color:"purple",name:"Premium"}};function Z1(){const{profile:e,company:t}=Si();return Zl({queryKey:["plan-limits",e==null?void 0:e.company_id],queryFn:async()=>{if(!(e!=null&&e.company_id))throw new Error("Company ID not found");const r=(t==null?void 0:t.plan)||"free",n=A3[r],{count:i}=await pr.from("assets").select("*",{count:"exact",head:!0}).eq("company_id",e.company_id),{count:s}=await pr.from("profiles").select("*",{count:"exact",head:!0}).eq("company_id",e.company_id).eq("is_active",!0),a=n.maxAssets,l=n.maxUsers,u=Math.round((i||0)/a*100),f=Math.round((s||0)/l*100);return{currentPlan:r,planInfo:n,assetsCount:i||0,usersCount:s||0,assetsLimit:a,usersLimit:l,assetsUsage:u,usersUsage:f,isAssetsLimitReached:(i||0)>=a,isUsersLimitReached:(s||0)>=l,isAssetsLimitWarning:u>=80,isUsersLimitWarning:f>=80}},enabled:!!(e!=null&&e.company_id)&&!!t})}function GN({plan:e,className:t=""}){const r=A3[e],n=s=>{switch(s){case"green":return"default";case"blue":return"secondary";case"purple":return"outline";default:return"default"}},i=s=>{switch(s){case"green":return"bg-green-100 text-green-800 border-green-200";case"blue":return"bg-blue-100 text-blue-800 border-blue-200";case"purple":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return x.jsxs(_i,{variant:n(r.color),className:`${i(r.color)} ${t}`,children:[x.jsx("span",{className:"mr-1",children:r.icon}),r.name]})}function fW(){const{profile:e,company:t,signOut:r}=Si(),n=jo(),[i,s]=D.useState(!1),a=[{name:"Dashboard",href:"/dashboard",icon:I8},{name:"Ativos",href:"/assets",icon:Cn},...(e==null?void 0:e.role)==="admin"?[{name:"Usurios",href:"/users",icon:Ad}]:[]],l=()=>{s(!1)},u=async()=>{s(!1),await r()};return x.jsxs(tW,{open:i,onOpenChange:s,children:[x.jsx(rW,{asChild:!0,children:x.jsx(zt,{variant:"ghost",size:"icon",className:"lg:hidden !w-14 !h-14 [&_svg]:!w-8 [&_svg]:!h-8",children:x.jsx(zF,{})})}),x.jsx(HN,{side:"left",className:"w-72 p-0",children:x.jsxs("div",{className:"flex flex-col h-full",children:[x.jsx("div",{className:"p-6 border-b",children:x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-600 rounded-lg",children:x.jsx(Cn,{className:"h-6 w-6 text-white"})}),x.jsxs("div",{className:"min-w-0 flex-1",children:[x.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Armazena App"}),t&&x.jsxs("div",{className:"flex items-start text-sm text-gray-600 mt-1",children:[x.jsx(t3,{className:"h-3 w-3 mr-1 mt-0.5 flex-shrink-0"}),x.jsx("span",{className:"break-words leading-tight",children:t.name})]}),(e==null?void 0:e.role)==="admin"&&t&&t.plan!=="enterprise"&&x.jsx("div",{className:"mt-2",children:x.jsx(GN,{plan:t.plan})})]})]})}),x.jsx("nav",{className:"flex-1 p-4 space-y-2",children:a.map(f=>{const d=n.pathname===f.href;return x.jsxs(io,{to:f.href,onClick:l,className:`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${d?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[x.jsx(f.icon,{className:"mr-3 h-5 w-5"}),f.name]},f.name)})}),x.jsx(D2,{}),x.jsxs("div",{className:"p-4 space-y-2",children:[(e==null?void 0:e.role)==="admin"&&x.jsxs(io,{to:"/my-plan",onClick:l,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-50 hover:text-gray-900 transition-colors",children:[x.jsx(T8,{className:"mr-3 h-5 w-5"}),"Meu Plano"]}),x.jsxs(io,{to:"/profile",onClick:l,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-50 hover:text-gray-900 transition-colors",children:[x.jsx(vm,{className:"mr-3 h-5 w-5"}),"Perfil"]}),x.jsxs(zt,{variant:"ghost",onClick:u,className:"w-full justify-start px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:[x.jsx(s3,{className:"mr-3 h-5 w-5"}),"Sair"]})]}),e&&x.jsx("div",{className:"p-4 border-t bg-gray-50",children:x.jsxs("div",{className:"text-xs text-gray-500",children:[x.jsx("p",{className:"font-medium break-words",children:e.name}),x.jsx("p",{className:"break-words",children:e.email}),x.jsx("p",{className:"capitalize mt-1",children:e.role==="admin"?"Administrador":e.role==="editor"?"Editor":"Visualizador"})]})})]})})]})}const Tr=D.forwardRef(({className:e,...t},r)=>x.jsx("div",{ref:r,className:Zt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Tr.displayName="Card";const an=D.forwardRef(({className:e,...t},r)=>x.jsx("div",{ref:r,className:Zt("flex flex-col space-y-1.5 p-6",e),...t}));an.displayName="CardHeader";const sn=D.forwardRef(({className:e,...t},r)=>x.jsx("h3",{ref:r,className:Zt("text-2xl font-semibold leading-none tracking-tight",e),...t}));sn.displayName="CardTitle";const La=D.forwardRef(({className:e,...t},r)=>x.jsx("p",{ref:r,className:Zt("text-sm text-muted-foreground",e),...t}));La.displayName="CardDescription";const Or=D.forwardRef(({className:e,...t},r)=>x.jsx("div",{ref:r,className:Zt("p-6 pt-0",e),...t}));Or.displayName="CardContent";const hW=D.forwardRef(({className:e,...t},r)=>x.jsx("div",{ref:r,className:Zt("flex items-center p-6 pt-0",e),...t}));hW.displayName="CardFooter";var dW=D.createContext(void 0);function $N(e){const t=D.useContext(dW);return e||t||"ltr"}function xy(e,[t,r]){return Math.min(r,Math.max(t,e))}function pW(e,t){return D.useReducer((r,n)=>t[r][n]??r,e)}var C3="ScrollArea",[XN,kne]=Iu(C3),[gW,oo]=XN(C3),YN=D.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:s=600,...a}=e,[l,u]=D.useState(null),[f,d]=D.useState(null),[m,y]=D.useState(null),[v,E]=D.useState(null),[_,N]=D.useState(null),[A,C]=D.useState(0),[I,L]=D.useState(0),[q,Q]=D.useState(!1),[B,M]=D.useState(!1),F=Xr(t,W=>u(W)),X=$N(i);return x.jsx(gW,{scope:r,type:n,dir:X,scrollHideDelay:s,scrollArea:l,viewport:f,onViewportChange:d,content:m,onContentChange:y,scrollbarX:v,onScrollbarXChange:E,scrollbarXEnabled:q,onScrollbarXEnabledChange:Q,scrollbarY:_,onScrollbarYChange:N,scrollbarYEnabled:B,onScrollbarYEnabledChange:M,onCornerWidthChange:C,onCornerHeightChange:L,children:x.jsx(wr.div,{dir:X,...a,ref:F,style:{position:"relative","--radix-scroll-area-corner-width":A+"px","--radix-scroll-area-corner-height":I+"px",...e.style}})})});YN.displayName=C3;var KN="ScrollAreaViewport",QN=D.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:i,nonce:s,...a}=e,l=oo(KN,r),u=D.useRef(null),f=Xr(t,u,l.onViewportChange);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),x.jsx(wr.div,{"data-radix-scroll-area-viewport":"",...a,asChild:i,ref:f,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:AW({asChild:i,children:n},d=>x.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});QN.displayName=KN;var vl="ScrollAreaScrollbar",N3=D.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=oo(vl,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,l=e.orientation==="horizontal";return D.useEffect(()=>(l?s(!0):a(!0),()=>{l?s(!1):a(!1)}),[l,s,a]),i.type==="hover"?x.jsx(mW,{...n,ref:t,forceMount:r}):i.type==="scroll"?x.jsx(xW,{...n,ref:t,forceMount:r}):i.type==="auto"?x.jsx(ZN,{...n,ref:t,forceMount:r}):i.type==="always"?x.jsx(T3,{...n,ref:t}):null});N3.displayName=vl;var mW=D.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=oo(vl,e.__scopeScrollArea),[s,a]=D.useState(!1);return D.useEffect(()=>{const l=i.scrollArea;let u=0;if(l){const f=()=>{window.clearTimeout(u),a(!0)},d=()=>{u=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",f),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",f),l.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),x.jsx(Bo,{present:r||s,children:x.jsx(ZN,{"data-state":s?"visible":"hidden",...n,ref:t})})}),xW=D.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=oo(vl,e.__scopeScrollArea),s=e.orientation==="horizontal",a=M2(()=>u("SCROLL_END"),100),[l,u]=pW("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return D.useEffect(()=>{if(l==="idle"){const f=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(f)}},[l,i.scrollHideDelay,u]),D.useEffect(()=>{const f=i.viewport,d=s?"scrollLeft":"scrollTop";if(f){let m=f[d];const y=()=>{const v=f[d];m!==v&&(u("SCROLL"),a()),m=v};return f.addEventListener("scroll",y),()=>f.removeEventListener("scroll",y)}},[i.viewport,s,u,a]),x.jsx(Bo,{present:r||l!=="hidden",children:x.jsx(T3,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:nr(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:nr(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),ZN=D.forwardRef((e,t)=>{const r=oo(vl,e.__scopeScrollArea),{forceMount:n,...i}=e,[s,a]=D.useState(!1),l=e.orientation==="horizontal",u=M2(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;a(l?f:d)}},10);return Nd(r.viewport,u),Nd(r.content,u),x.jsx(Bo,{present:n||s,children:x.jsx(T3,{"data-state":s?"visible":"hidden",...i,ref:t})})}),T3=D.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=oo(vl,e.__scopeScrollArea),s=D.useRef(null),a=D.useRef(0),[l,u]=D.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=nT(l.viewport,l.content),d={...n,sizes:l,onSizesChange:u,hasThumb:f>0&&f<1,onThumbChange:y=>s.current=y,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:y=>a.current=y};function m(y,v){return SW(y,a.current,l,v)}return r==="horizontal"?x.jsx(vW,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const y=i.viewport.scrollLeft,v=dS(y,l,i.dir);s.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollLeft=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollLeft=m(y,i.dir))}}):r==="vertical"?x.jsx(wW,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const y=i.viewport.scrollTop,v=dS(y,l);s.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollTop=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollTop=m(y))}}):null}),vW=D.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,s=oo(vl,e.__scopeScrollArea),[a,l]=D.useState(),u=D.useRef(null),f=Xr(t,u,s.onScrollbarXChange);return D.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),x.jsx(eT,{"data-orientation":"horizontal",...i,ref:f,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":F2(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,m)=>{if(s.viewport){const y=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(y),sT(y,m)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Em(a.paddingLeft),paddingEnd:Em(a.paddingRight)}})}})}),wW=D.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,s=oo(vl,e.__scopeScrollArea),[a,l]=D.useState(),u=D.useRef(null),f=Xr(t,u,s.onScrollbarYChange);return D.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),x.jsx(eT,{"data-orientation":"vertical",...i,ref:f,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":F2(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,m)=>{if(s.viewport){const y=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(y),sT(y,m)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Em(a.paddingTop),paddingEnd:Em(a.paddingBottom)}})}})}),[yW,JN]=XN(vl),eT=D.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:f,onWheelScroll:d,onResize:m,...y}=e,v=oo(vl,r),[E,_]=D.useState(null),N=Xr(t,F=>_(F)),A=D.useRef(null),C=D.useRef(""),I=v.viewport,L=n.content-n.viewport,q=ki(d),Q=ki(u),B=M2(m,10);function M(F){if(A.current){const X=F.clientX-A.current.left,W=F.clientY-A.current.top;f({x:X,y:W})}}return D.useEffect(()=>{const F=X=>{const W=X.target;(E==null?void 0:E.contains(W))&&q(X,L)};return document.addEventListener("wheel",F,{passive:!1}),()=>document.removeEventListener("wheel",F,{passive:!1})},[I,E,L,q]),D.useEffect(Q,[n,Q]),Nd(E,B),Nd(v.content,B),x.jsx(yW,{scope:r,scrollbar:E,hasThumb:i,onThumbChange:ki(s),onThumbPointerUp:ki(a),onThumbPositionChange:Q,onThumbPointerDown:ki(l),children:x.jsx(wr.div,{...y,ref:N,style:{position:"absolute",...y.style},onPointerDown:nr(e.onPointerDown,F=>{F.button===0&&(F.target.setPointerCapture(F.pointerId),A.current=E.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),M(F))}),onPointerMove:nr(e.onPointerMove,M),onPointerUp:nr(e.onPointerUp,F=>{const X=F.target;X.hasPointerCapture(F.pointerId)&&X.releasePointerCapture(F.pointerId),document.body.style.webkitUserSelect=C.current,v.viewport&&(v.viewport.style.scrollBehavior=""),A.current=null})})})}),Sm="ScrollAreaThumb",tT=D.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=JN(Sm,e.__scopeScrollArea);return x.jsx(Bo,{present:r||i.hasThumb,children:x.jsx(bW,{ref:t,...n})})}),bW=D.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,s=oo(Sm,r),a=JN(Sm,r),{onThumbPositionChange:l}=a,u=Xr(t,m=>a.onThumbChange(m)),f=D.useRef(),d=M2(()=>{f.current&&(f.current(),f.current=void 0)},100);return D.useEffect(()=>{const m=s.viewport;if(m){const y=()=>{if(d(),!f.current){const v=EW(m,l);f.current=v,l()}};return l(),m.addEventListener("scroll",y),()=>m.removeEventListener("scroll",y)}},[s.viewport,d,l]),x.jsx(wr.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:nr(e.onPointerDownCapture,m=>{const v=m.target.getBoundingClientRect(),E=m.clientX-v.left,_=m.clientY-v.top;a.onThumbPointerDown({x:E,y:_})}),onPointerUp:nr(e.onPointerUp,a.onThumbPointerUp)})});tT.displayName=Sm;var I3="ScrollAreaCorner",rT=D.forwardRef((e,t)=>{const r=oo(I3,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?x.jsx(_W,{...e,ref:t}):null});rT.displayName=I3;var _W=D.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=oo(I3,r),[s,a]=D.useState(0),[l,u]=D.useState(0),f=!!(s&&l);return Nd(i.scrollbarX,()=>{var m;const d=((m=i.scrollbarX)==null?void 0:m.offsetHeight)||0;i.onCornerHeightChange(d),u(d)}),Nd(i.scrollbarY,()=>{var m;const d=((m=i.scrollbarY)==null?void 0:m.offsetWidth)||0;i.onCornerWidthChange(d),a(d)}),f?x.jsx(wr.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Em(e){return e?parseInt(e,10):0}function nT(e,t){const r=e/t;return isNaN(r)?0:r}function F2(e){const t=nT(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function SW(e,t,r,n="ltr"){const i=F2(r),s=i/2,a=t||s,l=i-a,u=r.scrollbar.paddingStart+a,f=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,m=n==="ltr"?[0,d]:[d*-1,0];return iT([u,f],m)(e)}function dS(e,t,r="ltr"){const n=F2(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,a=t.content-t.viewport,l=s-n,u=r==="ltr"?[0,a]:[a*-1,0],f=xy(e,u);return iT([0,a],[0,l])(f)}function iT(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function sT(e,t){return e>0&&e<t}var EW=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},a=r.left!==s.left,l=r.top!==s.top;(a||l)&&t(),r=s,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function M2(e,t){const r=ki(e),n=D.useRef(0);return D.useEffect(()=>()=>window.clearTimeout(n.current),[]),D.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Nd(e,t){const r=ki(t);xs(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}function AW(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const i=D.Children.only(n);return D.cloneElement(i,{children:typeof t=="function"?t(i.props.children):t})}var aT=YN,CW=QN,NW=rT;const oT=D.forwardRef(({className:e,children:t,...r},n)=>x.jsxs(aT,{ref:n,className:Zt("relative overflow-hidden",e),...r,children:[x.jsx(CW,{className:"h-full w-full rounded-[inherit]",children:t}),x.jsx(lT,{}),x.jsx(NW,{})]}));oT.displayName=aT.displayName;const lT=D.forwardRef(({className:e,orientation:t="vertical",...r},n)=>x.jsx(N3,{ref:n,orientation:t,className:Zt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:x.jsx(tT,{className:"relative flex-1 rounded-full bg-border"})}));lT.displayName=N3.displayName;function In(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function gu(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const cT=6048e5,TW=864e5,ig=43200,pS=1440;let IW={};function J1(){return IW}function b1(e,t){var l,u,f,d;const r=J1(),n=(t==null?void 0:t.weekStartsOn)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((d=(f=r.locale)==null?void 0:f.options)==null?void 0:d.weekStartsOn)??0,i=In(e),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Am(e){return b1(e,{weekStartsOn:1})}function uT(e){const t=In(e),r=t.getFullYear(),n=gu(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Am(n),s=gu(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=Am(s);return t.getTime()>=i.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function gS(e){const t=In(e);return t.setHours(0,0,0,0),t}function Cm(e){const t=In(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function kW(e,t){const r=gS(e),n=gS(t),i=+r-Cm(r),s=+n-Cm(n);return Math.round((i-s)/TW)}function PW(e){const t=uT(e),r=gu(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Am(r)}function Mg(e,t){const r=In(e),n=In(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function OW(e){return gu(e,Date.now())}function RW(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function LW(e){if(!RW(e)&&typeof e!="number")return!1;const t=In(e);return!isNaN(Number(t))}function DW(e,t){const r=In(e),n=In(t),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function FW(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function MW(e,t){return+In(e)-+In(t)}function jW(e){const t=In(e);return t.setHours(23,59,59,999),t}function BW(e){const t=In(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function UW(e){const t=In(e);return+jW(t)==+BW(t)}function WW(e,t){const r=In(e),n=In(t),i=Mg(r,n),s=Math.abs(DW(r,n));let a;if(s<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let l=Mg(r,n)===-i;UW(In(e))&&s===1&&Mg(e,n)===1&&(l=!1),a=i*(s-Number(l))}return a===0?0:a}function zW(e,t,r){const n=MW(e,t)/1e3;return FW(r==null?void 0:r.roundingMethod)(n)}function HW(e){const t=In(e),r=gu(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const VW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qW=(e,t,r)=>{let n;const i=VW[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Gh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const GW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$W={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},XW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},YW={date:Gh({formats:GW,defaultWidth:"full"}),time:Gh({formats:$W,defaultWidth:"full"}),dateTime:Gh({formats:XW,defaultWidth:"full"})},KW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},QW=(e,t,r,n)=>KW[e];function ll(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):a;i=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[a]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const ZW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},JW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ez={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iz=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},sz={ordinalNumber:iz,era:ll({values:ZW,defaultWidth:"wide"}),quarter:ll({values:JW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ll({values:ez,defaultWidth:"wide"}),day:ll({values:tz,defaultWidth:"wide"}),dayPeriod:ll({values:rz,defaultWidth:"wide",formattingValues:nz,defaultFormattingWidth:"wide"})};function cl(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?oz(l,m=>m.test(a)):az(l,m=>m.test(a));let f;f=e.valueCallback?e.valueCallback(u):u,f=r.valueCallback?r.valueCallback(f):f;const d=t.slice(a.length);return{value:f,rest:d}}}function az(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function oz(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function fT(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const l=t.slice(i.length);return{value:a,rest:l}}}const lz=/^(\d+)(th|st|nd|rd)?/i,cz=/\d+/i,uz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fz={any:[/^b/i,/^(a|c)/i]},hz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dz={any:[/1/i,/2/i,/3/i,/4/i]},pz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yz={ordinalNumber:fT({matchPattern:lz,parsePattern:cz,valueCallback:e=>parseInt(e,10)}),era:cl({matchPatterns:uz,defaultMatchWidth:"wide",parsePatterns:fz,defaultParseWidth:"any"}),quarter:cl({matchPatterns:hz,defaultMatchWidth:"wide",parsePatterns:dz,defaultParseWidth:"any",valueCallback:e=>e+1}),month:cl({matchPatterns:pz,defaultMatchWidth:"wide",parsePatterns:gz,defaultParseWidth:"any"}),day:cl({matchPatterns:mz,defaultMatchWidth:"wide",parsePatterns:xz,defaultParseWidth:"any"}),dayPeriod:cl({matchPatterns:vz,defaultMatchWidth:"any",parsePatterns:wz,defaultParseWidth:"any"})},hT={code:"en-US",formatDistance:qW,formatLong:YW,formatRelative:QW,localize:sz,match:yz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bz(e){const t=In(e);return kW(t,HW(t))+1}function _z(e){const t=In(e),r=+Am(t)-+PW(t);return Math.round(r/cT)+1}function dT(e,t){var d,m,y,v;const r=In(e),n=r.getFullYear(),i=J1(),s=(t==null?void 0:t.firstWeekContainsDate)??((m=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(y=i.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??1,a=gu(e,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const l=b1(a,t),u=gu(e,0);u.setFullYear(n,0,s),u.setHours(0,0,0,0);const f=b1(u,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=f.getTime()?n:n-1}function Sz(e,t){var l,u,f,d;const r=J1(),n=(t==null?void 0:t.firstWeekContainsDate)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(f=r.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??1,i=dT(e,t),s=gu(e,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),b1(s,t)}function Ez(e,t){const r=In(e),n=+b1(r,t)-+Sz(r,t);return Math.round(n/cT)+1}function mn(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Nc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return mn(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):mn(r+1,2)},d(e,t){return mn(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return mn(e.getHours()%12||12,t.length)},H(e,t){return mn(e.getHours(),t.length)},m(e,t){return mn(e.getMinutes(),t.length)},s(e,t){return mn(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return mn(i,t.length)}},fh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mS={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Nc.y(e,t)},Y:function(e,t,r,n){const i=dT(e,n),s=i>0?i:1-i;if(t==="YY"){const a=s%100;return mn(a,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):mn(s,t.length)},R:function(e,t){const r=uT(e);return mn(r,t.length)},u:function(e,t){const r=e.getFullYear();return mn(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return mn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return mn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Nc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return mn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=Ez(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):mn(i,t.length)},I:function(e,t,r){const n=_z(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):mn(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Nc.d(e,t)},D:function(e,t,r){const n=bz(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):mn(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return mn(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return mn(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return mn(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=fh.noon:n===0?i=fh.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=fh.evening:n>=12?i=fh.afternoon:n>=4?i=fh.morning:i=fh.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Nc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Nc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):mn(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):mn(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Nc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Nc.s(e,t)},S:function(e,t){return Nc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return vS(n);case"XXXX":case"XX":return Ju(n);case"XXXXX":case"XXX":default:return Ju(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return vS(n);case"xxxx":case"xx":return Ju(n);case"xxxxx":case"xxx":default:return Ju(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+xS(n,":");case"OOOO":default:return"GMT"+Ju(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+xS(n,":");case"zzzz":default:return"GMT"+Ju(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return mn(n,t.length)},T:function(e,t,r){const n=e.getTime();return mn(n,t.length)}};function xS(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+t+mn(s,2)}function vS(e,t){return e%60===0?(e>0?"-":"+")+mn(Math.abs(e)/60,2):Ju(e,t)}function Ju(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=mn(Math.trunc(n/60),2),s=mn(n%60,2);return r+i+t+s}const wS=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},pT=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Az=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return wS(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",wS(n,t)).replace("{{time}}",pT(i,t))},Cz={p:pT,P:Az},Nz=/^D+$/,Tz=/^Y+$/,Iz=["D","DD","YY","YYYY"];function kz(e){return Nz.test(e)}function Pz(e){return Tz.test(e)}function Oz(e,t,r){const n=Rz(e,t,r);if(console.warn(n),Iz.includes(e))throw new RangeError(n)}function Rz(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Lz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fz=/^'([^]*?)'?$/,Mz=/''/g,jz=/[a-zA-Z]/;function $h(e,t,r){var d,m,y,v,E,_,N,A;const n=J1(),i=(r==null?void 0:r.locale)??n.locale??hT,s=(r==null?void 0:r.firstWeekContainsDate)??((m=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(y=n.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((_=(E=r==null?void 0:r.locale)==null?void 0:E.options)==null?void 0:_.weekStartsOn)??n.weekStartsOn??((A=(N=n.locale)==null?void 0:N.options)==null?void 0:A.weekStartsOn)??0,l=In(e);if(!LW(l))throw new RangeError("Invalid time value");let u=t.match(Dz).map(C=>{const I=C[0];if(I==="p"||I==="P"){const L=Cz[I];return L(C,i.formatLong)}return C}).join("").match(Lz).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const I=C[0];if(I==="'")return{isToken:!1,value:Bz(C)};if(mS[I])return{isToken:!0,value:C};if(I.match(jz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:C}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const f={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return u.map(C=>{if(!C.isToken)return C.value;const I=C.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Pz(I)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&kz(I))&&Oz(I,t,String(e));const L=mS[I[0]];return L(l,I,i.localize,f)}).join("")}function Bz(e){const t=e.match(Fz);return t?t[1].replace(Mz,"'"):e}function Uz(e,t,r){const n=J1(),i=(r==null?void 0:r.locale)??n.locale??hT,s=2520,a=Mg(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let u,f;a>0?(u=In(t),f=In(e)):(u=In(e),f=In(t));const d=zW(f,u),m=(Cm(f)-Cm(u))/1e3,y=Math.round((d-m)/60);let v;if(y<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,l):d<10?i.formatDistance("lessThanXSeconds",10,l):d<20?i.formatDistance("lessThanXSeconds",20,l):d<40?i.formatDistance("halfAMinute",0,l):d<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):y===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",y,l);if(y<45)return i.formatDistance("xMinutes",y,l);if(y<90)return i.formatDistance("aboutXHours",1,l);if(y<pS){const E=Math.round(y/60);return i.formatDistance("aboutXHours",E,l)}else{if(y<s)return i.formatDistance("xDays",1,l);if(y<ig){const E=Math.round(y/pS);return i.formatDistance("xDays",E,l)}else if(y<ig*2)return v=Math.round(y/ig),i.formatDistance("aboutXMonths",v,l)}if(v=WW(f,u),v<12){const E=Math.round(y/ig);return i.formatDistance("xMonths",E,l)}else{const E=v%12,_=Math.trunc(v/12);return E<3?i.formatDistance("aboutXYears",_,l):E<9?i.formatDistance("overXYears",_,l):i.formatDistance("almostXYears",_+1,l)}}function Wz(e,t){return Uz(e,OW(e),t)}const zz={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Hz=(e,t,r)=>{let n;const i=zz[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},Vz={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},qz={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Gz={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$z={date:Gh({formats:Vz,defaultWidth:"full"}),time:Gh({formats:qz,defaultWidth:"full"}),dateTime:Gh({formats:Gz,defaultWidth:"full"})},Xz={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},Yz=(e,t,r,n)=>{const i=Xz[e];return typeof i=="function"?i(t):i},Kz={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Qz={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Zz={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Jz={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},eH={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},tH={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},rH=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"":r+""},nH={ordinalNumber:rH,era:ll({values:Kz,defaultWidth:"wide"}),quarter:ll({values:Qz,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ll({values:Zz,defaultWidth:"wide"}),day:ll({values:Jz,defaultWidth:"wide"}),dayPeriod:ll({values:eH,defaultWidth:"wide",formattingValues:tH,defaultFormattingWidth:"wide"})},iH=/^(\d+)[o]?/i,sH=/\d+/i,aH={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},oH={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},lH={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},cH={any:[/1/i,/2/i,/3/i,/4/i]},uH={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},fH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},hH={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},dH={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},pH={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},gH={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},mH={ordinalNumber:fT({matchPattern:iH,parsePattern:sH,valueCallback:e=>parseInt(e,10)}),era:cl({matchPatterns:aH,defaultMatchWidth:"wide",parsePatterns:oH,defaultParseWidth:"any"}),quarter:cl({matchPatterns:lH,defaultMatchWidth:"wide",parsePatterns:cH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:cl({matchPatterns:uH,defaultMatchWidth:"wide",parsePatterns:fH,defaultParseWidth:"any"}),day:cl({matchPatterns:hH,defaultMatchWidth:"wide",parsePatterns:dH,defaultParseWidth:"any"}),dayPeriod:cl({matchPatterns:pH,defaultMatchWidth:"any",parsePatterns:gH,defaultParseWidth:"any"})},wf={code:"pt-BR",formatDistance:Hz,formatLong:$z,formatRelative:Yz,localize:nH,match:mH,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xH({isOpen:e,onClose:t}){const{notifications:r,unreadCount:n,loading:i,subscribeToPush:s,unsubscribeFromPush:a,markAsRead:l,markAllAsRead:u,isSubscribed:f}=dN(),[d,m]=D.useState(!1),y=ws(),v=async()=>{m(!0);try{await s()}finally{m(!1)}},E=async()=>{m(!0);try{await a()}finally{m(!1)}},_=A=>{switch(A){case"asset_created":case"asset_updated":case"asset_deleted":return x.jsx(Cn,{className:"h-4 w-4"});case"app_update":return x.jsx(xm,{className:"h-4 w-4"});default:return x.jsx(N0,{className:"h-4 w-4"})}},N=A=>{switch(A){case"asset_created":return"text-green-600 bg-green-50";case"asset_updated":return"text-blue-600 bg-blue-50";case"asset_deleted":return"text-red-600 bg-red-50";case"app_update":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}};return e?x.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-start justify-end p-4",onClick:()=>t(),children:x.jsxs(Tr,{className:"w-full max-w-md h-[80vh] flex flex-col",onClick:A=>A.stopPropagation(),children:[x.jsxs(an,{className:"flex-shrink-0",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs(sn,{className:"flex items-center gap-2",children:[x.jsx(N0,{className:"h-5 w-5"}),"Notificaes",n>0&&x.jsx(_i,{variant:"destructive",className:"ml-2",children:n})]}),x.jsx(zt,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0",children:x.jsx(Uf,{className:"h-4 w-4"})})]}),x.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[f?x.jsxs(zt,{size:"sm",variant:"outline",onClick:E,disabled:d,className:"flex-1",children:[x.jsx(LF,{className:"h-4 w-4 mr-2"}),d?"Desativando...":"Desativar Notificaes"]}):x.jsxs(zt,{size:"sm",onClick:v,disabled:d,className:"flex-1",children:[x.jsx(N0,{className:"h-4 w-4 mr-2"}),d?"Ativando...":"Ativar Notificaes"]}),n>0&&x.jsx(zt,{size:"sm",variant:"ghost",onClick:u,className:"px-2",children:x.jsx(DF,{className:"h-4 w-4"})})]})]}),x.jsx(D2,{}),x.jsx(oT,{className:"flex-1 p-4",children:i?x.jsx("div",{className:"flex items-center justify-center h-32",children:x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.filter(A=>A.type!=="app_update").length===0?x.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-gray-500",children:[x.jsx(N0,{className:"h-12 w-12 mb-2 opacity-50"}),x.jsx("p",{className:"text-sm",children:"Nenhuma notificao"})]}):x.jsx("div",{className:"space-y-3",children:r.filter(A=>A.type!=="app_update").map(A=>{const C=A.type==="asset_created"||A.type==="asset_updated";let I;C&&A.data&&typeof A.data=="object"&&"asset_id"in A.data&&(I=A.data.asset_id);const L=()=>{l(A.id),C&&I&&(t(),y(`/assets/${I}`))};return x.jsx("div",{className:`p-3 rounded-lg border transition-colors ${A.read_at?"bg-gray-50 border-gray-200":"bg-white border-blue-200 shadow-sm"} ${C&&I?"cursor-pointer hover:bg-blue-50":""}`,onClick:C&&I?L:()=>l(A.id),children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:`p-2 rounded-full ${N(A.type)}`,children:_(A.type)}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("div",{className:"flex items-start justify-between gap-2",children:[x.jsx("h4",{className:"font-medium text-sm text-gray-900",children:A.title}),!A.read_at&&x.jsx(zt,{size:"sm",variant:"ghost",onClick:q=>{q.stopPropagation(),l(A.id)},className:"h-6 w-6 p-0",children:x.jsx(n3,{className:"h-3 w-3"})})]}),x.jsx("p",{className:"text-sm text-gray-600 mt-1",children:A.body}),x.jsx("p",{className:"text-xs text-gray-400 mt-2",children:Wz(new Date(A.created_at),{addSuffix:!0,locale:wf})})]})]})},A.id)})})})]})}):null}function vH(){const{profile:e,company:t,signOut:r}=Si(),{unreadCount:n}=dN(),[i,s]=D.useState(!1),a=l=>{const u={admin:"bg-red-100 text-red-800",editor:"bg-yellow-100 text-yellow-800",viewer:"bg-green-100 text-green-800"},f={admin:"Administrador",editor:"Editor",viewer:"Visualizador"};return x.jsx(_i,{className:u[l],children:f[l]})};return x.jsxs(x.Fragment,{children:[x.jsx("header",{className:"bg-white border-b border-gray-200 px-0 py-0 sm:px-2 sm:py-2 md:px-6 md:py-4",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center space-x-4 min-w-0 flex-1",children:[x.jsx(fW,{}),t&&x.jsxs("div",{className:"hidden lg:flex items-center text-gray-600 min-w-0 space-x-3",children:[x.jsx(t3,{className:"h-4 w-4 mr-2 flex-shrink-0"}),x.jsx("span",{className:"text-sm font-medium break-words",children:t.name}),(e==null?void 0:e.role)==="admin"&&t.plan!=="enterprise"&&x.jsx(GN,{plan:t.plan})]})]}),x.jsxs("div",{className:"flex items-center space-x-4 flex-shrink-0",children:[x.jsxs(zt,{variant:"ghost",size:"sm",onClick:()=>s(!0),className:"relative",children:[x.jsx(N0,{className:"h-4 w-4"}),n>0&&x.jsx(_i,{variant:"destructive",className:"absolute -top-1 -left-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:n>9?"9+":n})]}),x.jsx(zt,{variant:"ghost",size:"sm",onClick:()=>window.location.reload(),title:"Recarregar pgina",className:"md:hidden",children:x.jsx(xm,{className:"h-4 w-4"})}),e&&x.jsxs("div",{className:"hidden md:block text-right",children:[x.jsx("p",{className:"text-sm font-medium text-gray-900 break-words",children:e.name}),a(e.role)]}),x.jsxs(zt,{variant:"ghost",size:"sm",onClick:r,className:"hidden md:flex",children:[x.jsx(s3,{className:"h-4 w-4 mr-2"}),"Sair"]})]})]})}),x.jsx(xH,{isOpen:i,onClose:()=>s(!1)})]})}function wH(){const{data:e}=Z1(),{toast:t}=ns(),{profile:r}=Si(),n=(r==null?void 0:r.role)==="admin";return D.useEffect(()=>{!e||!n||(e.isAssetsLimitReached?t({title:"Limite de ativos atingido",description:`Voc atingiu o limite de ${e.assetsLimit} ativos do seu plano. Faa upgrade para adicionar mais ativos.`,variant:"destructive",duration:8e3}):e.isAssetsLimitWarning&&t({title:"Aproximando do limite de ativos",description:`Voc est usando ${e.assetsUsage}% do seu limite de ativos. Considere fazer upgrade do seu plano.`,variant:"destructive",duration:6e3}),e.isUsersLimitReached?t({title:"Limite de usurios atingido",description:`Voc atingiu o limite de ${e.usersLimit} usurios do seu plano. Faa upgrade para adicionar mais usurios.`,variant:"destructive",duration:8e3}):e.isUsersLimitWarning&&t({title:"Aproximando do limite de usurios",description:`Voc est usando ${e.usersUsage}% do seu limite de usurios. Considere fazer upgrade do seu plano.`,variant:"destructive",duration:6e3}))},[e,t,n]),{planLimits:e,showLimitWarning:i=>{!e||!n||(i==="assets"&&e.isAssetsLimitWarning&&t({title:"Aproximando do limite de ativos",description:`Voc est usando ${e.assetsUsage}% do seu limite de ativos. Considere fazer upgrade do seu plano.`,variant:"destructive"}),i==="users"&&e.isUsersLimitWarning&&t({title:"Aproximando do limite de usurios",description:`Voc est usando ${e.usersUsage}% do seu limite de usurios. Considere fazer upgrade do seu plano.`,variant:"destructive"}))}}}const gT=D.createContext(null);function Pl({children:e}){const t=D.useRef(null);return wH(),x.jsx(gT.Provider,{value:t,children:x.jsxs("div",{className:"flex h-screen bg-gray-50",children:[x.jsx(KB,{}),x.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[x.jsx(vH,{}),x.jsx("main",{ref:t,className:"flex-1 overflow-y-auto bg-gray-50 px-4 md:px-6 pt-6 pb-20",children:x.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]})})}function yH(){const[e,t]=D.useState(!1),[r,n]=D.useState(!1),[i,s]=D.useState(!1),[a,l]=D.useState(null);return D.useEffect(()=>{const f=()=>{window.matchMedia("(display-mode: standalone)").matches&&(n(!0),t(!1))},d=v=>{v.preventDefault(),l(v),t(!0),s(!0)},m=()=>{n(!0),t(!1),s(!1),l(null)},y=async()=>{if("serviceWorker"in navigator)try{const v=await navigator.serviceWorker.register("/sw.js");console.log("Service Worker registrado com sucesso:",v)}catch(v){console.error("Erro ao registrar Service Worker:",v)}};return f(),y(),window.addEventListener("beforeinstallprompt",d),window.addEventListener("appinstalled",m),()=>{window.removeEventListener("beforeinstallprompt",d),window.removeEventListener("appinstalled",m)}},[]),{isInstallable:e,isInstalled:r,installApp:async()=>{if(!a){console.log("Prompt de instalao no disponvel");return}try{await a.prompt();const{outcome:f}=await a.userChoice;f==="accepted"?(console.log("Usurio aceitou a instalao"),n(!0),t(!1),s(!1)):console.log("Usurio recusou a instalao"),l(null)}catch(f){console.error("Erro durante a instalao:",f)}},showInstallPrompt:i,setShowInstallPrompt:s}}function bH(){const{isInstallable:e,showInstallPrompt:t,setShowInstallPrompt:r,installApp:n}=yH();return!e||!t?null:x.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-4 md:right-auto md:w-80",children:x.jsx(Tr,{className:"shadow-lg border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:x.jsx(Or,{className:"p-4",children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"bg-blue-600 p-2 rounded-full flex-shrink-0",children:x.jsx(Cn,{className:"h-5 w-5 text-white"})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Instalar Armazena"}),x.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Instale o app na tela inicial para acesso rpido e funcionalidade offline"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs(zt,{onClick:n,size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[x.jsx(jF,{className:"h-4 w-4 mr-2"}),"Instalar"]}),x.jsx(zt,{onClick:()=>r(!1),variant:"outline",size:"sm",className:"px-3",children:x.jsx(Uf,{className:"h-4 w-4"})})]})]})]})})})})}function _H(){const[e,t]=D.useState(!1);D.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",()=>{t(!0)})},[]);const r=()=>{window.location.reload()};return e?x.jsx("div",{className:"fixed top-4 left-4 right-4 z-50 md:left-4 md:right-auto md:w-80",children:x.jsx(Tr,{className:"shadow-lg border-green-200 bg-gradient-to-r from-green-50 to-emerald-50",children:x.jsx(Or,{className:"p-4",children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"bg-green-600 p-2 rounded-full flex-shrink-0",children:x.jsx(xm,{className:"h-5 w-5 text-white"})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Nova verso disponvel"}),x.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Uma nova verso do Armazena est disponvel. Atualize para obter as ltimas funcionalidades."}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs(zt,{onClick:r,size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",children:[x.jsx(xm,{className:"h-4 w-4 mr-2"}),"Atualizar"]}),x.jsx(zt,{onClick:()=>t(!1),variant:"outline",size:"sm",className:"px-3",children:x.jsx(Uf,{className:"h-4 w-4"})})]})]})]})})})}):null}const SH=Md("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Hi=D.forwardRef(({className:e,variant:t,...r},n)=>x.jsx("div",{ref:n,role:"alert",className:Zt(SH({variant:t}),e),...r}));Hi.displayName="Alert";const EH=D.forwardRef(({className:e,...t},r)=>x.jsx("h5",{ref:r,className:Zt("mb-1 font-medium leading-none tracking-tight",e),...t}));EH.displayName="AlertTitle";const Vi=D.forwardRef(({className:e,...t},r)=>x.jsx("div",{ref:r,className:Zt("text-sm [&_p]:leading-relaxed",e),...t}));Vi.displayName="AlertDescription";function AH(){const[e,t]=D.useState(navigator.onLine);return D.useEffect(()=>{const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r),window.addEventListener("offline",n),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}},[]),e?null:x.jsx("div",{className:"fixed top-4 left-4 right-4 z-50 md:left-4 md:right-auto md:w-80",children:x.jsxs(Hi,{className:"border-orange-200 bg-orange-50",children:[x.jsx(XF,{className:"h-4 w-4 text-orange-600"}),x.jsx(Vi,{className:"text-orange-800",children:"Voc est offline. Algumas funcionalidades podem no estar disponveis."})]})})}const Mr=D.forwardRef(({className:e,type:t,...r},n)=>x.jsx("input",{type:t,className:Zt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Mr.displayName="Input";var CH="Label",mT=D.forwardRef((e,t)=>x.jsx(wr.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));mT.displayName=CH;var xT=mT;const NH=Md("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Nr=D.forwardRef(({className:e,...t},r)=>x.jsx(xT,{ref:r,className:Zt(NH(),e),...t}));Nr.displayName=xT.displayName;const Wd=_3,j2=S3,TH=E3,vT=D.forwardRef(({className:e,...t},r)=>x.jsx(X1,{ref:r,className:Zt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));vT.displayName=X1.displayName;const zf=D.forwardRef(({className:e,children:t,...r},n)=>x.jsxs(TH,{children:[x.jsx(vT,{}),x.jsxs(Y1,{ref:n,className:Zt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,x.jsxs(L2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[x.jsx(Uf,{className:"h-4 w-4"}),x.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zf.displayName=Y1.displayName;const zd=({className:e,...t})=>x.jsx("div",{className:Zt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});zd.displayName="DialogHeader";const wT=({className:e,...t})=>x.jsx("div",{className:Zt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});wT.displayName="DialogFooter";const Hd=D.forwardRef(({className:e,...t},r)=>x.jsx(K1,{ref:r,className:Zt("text-lg font-semibold leading-none tracking-tight",e),...t}));Hd.displayName=K1.displayName;const B2=D.forwardRef(({className:e,...t},r)=>x.jsx(Q1,{ref:r,className:Zt("text-sm text-muted-foreground",e),...t}));B2.displayName=Q1.displayName;function IH(){var F,X;const[e,t]=D.useState(""),[r,n]=D.useState(""),[i,s]=D.useState(!1),[a,l]=D.useState(!1),[u,f]=D.useState(""),[d,m]=D.useState(""),[y,v]=D.useState(!1),[E,_]=D.useState(!1),{signIn:N}=Si(),A=ws(),C=jo(),{toast:I}=ns(),Q=new URLSearchParams(C.search).get("redirect_to")||((X=(F=C.state)==null?void 0:F.from)==null?void 0:X.pathname)||"/dashboard",B=async W=>{W.preventDefault(),f(""),l(!0);try{if(await N(e,r)==="inactive"){A("/acesso-negado",{replace:!0});return}I({title:"Login realizado com sucesso!",description:"Bem-vindo ao Armazena"}),A(Q,{replace:!0})}catch(U){f(U.message||"Erro ao fazer login")}finally{l(!1)}},M=async W=>{W.preventDefault(),v(!0);try{const{error:U}=await pr.auth.resetPasswordForEmail(d,{redirectTo:`${window.location.origin}/login`});if(U)throw U;I({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir sua senha."}),_(!1),m("")}catch(U){I({title:"Erro ao enviar email",description:U.message||"Erro ao enviar email de redefinio",variant:"destructive"})}finally{v(!1)}};return x.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50 px-4",children:x.jsxs("div",{className:"max-w-md w-full space-y-8",children:[x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex justify-center items-center gap-3 mt-6",children:[x.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:x.jsx(Cn,{className:"h-8 w-8 text-white"})}),x.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Armazena App"})]}),x.jsx("p",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Sistema de Gesto de Ativos"})]}),x.jsxs(Tr,{className:"shadow-lg border-0",children:[x.jsxs(an,{className:"space-y-1",children:[x.jsx(sn,{className:"text-2xl text-center",children:"Entrar"}),x.jsx(La,{className:"text-center",children:"Digite suas credenciais para acessar o sistema"})]}),x.jsxs(Or,{children:[x.jsxs("form",{onSubmit:B,className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"email",children:"Email"}),x.jsx(Mr,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:W=>t(W.target.value),required:!0,className:"h-11"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"password",children:"Senha"}),x.jsxs("div",{className:"relative",children:[x.jsx(Mr,{id:"password",type:i?"text":"password",placeholder:"Sua senha",value:r,onChange:W=>n(W.target.value),required:!0,className:"h-11 pr-10"}),x.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!i),children:i?x.jsx(mm,{className:"h-4 w-4 text-gray-400"}):x.jsx(v1,{className:"h-4 w-4 text-gray-400"})})]})]}),u&&x.jsx(Hi,{variant:"destructive",children:x.jsx(Vi,{children:u})}),x.jsx(zt,{type:"submit",className:"w-full h-11",disabled:a,children:a?"Entrando...":"Entrar"})]}),x.jsxs("div",{className:"text-center mt-4",children:[x.jsxs(Wd,{open:E,onOpenChange:_,children:[x.jsx(j2,{asChild:!0,children:x.jsx(zt,{variant:"link",className:"text-sm text-blue-600 hover:text-blue-800",children:"Esqueci minha senha"})}),x.jsxs(zf,{className:"sm:max-w-[425px]",children:[x.jsxs(zd,{children:[x.jsx(Hd,{children:"Redefinir senha"}),x.jsx(B2,{children:"Digite seu email para receber um link de redefinio de senha."})]}),x.jsxs("form",{onSubmit:M,children:[x.jsx("div",{className:"grid gap-4 py-4",children:x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"resetEmail",children:"Email"}),x.jsx(Mr,{id:"resetEmail",type:"email",placeholder:"seu@email.com",value:d,onChange:W=>m(W.target.value),required:!0})]})}),x.jsxs(wT,{children:[x.jsx(zt,{type:"button",variant:"outline",onClick:()=>_(!1),children:"Cancelar"}),x.jsx(zt,{type:"submit",disabled:y,children:y?"Enviando...":"Enviar email"})]})]})]})]}),x.jsx("div",{className:"mt-2",children:x.jsx(io,{to:"/signup",children:x.jsx(zt,{variant:"link",className:"text-sm text-blue-600 hover:text-blue-800",children:"No tem uma conta? Criar conta"})})})]})]})]})]})})}function kH(){const[e,t]=D.useState(""),[r,n]=D.useState(""),[i,s]=D.useState(""),[a,l]=D.useState(!1),[u,f]=D.useState(!1),[d,m]=D.useState(""),[y,v]=D.useState(!1);ws();const E=async _=>{_.preventDefault(),m(""),f(!0);try{if(!e||!r||!i){m("Preencha todos os campos");return}if(i.length<6){m("A senha deve ter pelo menos 6 caracteres");return}const A=`${window.location.origin}/onboarding`;console.log("Enviando signup com redirect para:",A);const{error:C}=await pr.auth.signUp({email:r,password:i,options:{emailRedirectTo:A,data:{name:e}}});if(C)throw C;v(!0)}catch(N){console.error("Erro no signup:",N),m(N.message||"Erro ao criar conta")}finally{f(!1)}};return y?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 px-4 flex items-center justify-center",children:x.jsxs("div",{className:"max-w-md w-full space-y-8",children:[x.jsx("div",{className:"text-center",children:x.jsxs("div",{className:"flex justify-center items-center gap-3 mb-6",children:[x.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:x.jsx(Cn,{className:"h-8 w-8 text-white"})}),x.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Armazena App"})]})}),x.jsxs(Tr,{className:"shadow-lg border-0",children:[x.jsxs(an,{className:"text-center",children:[x.jsx("div",{className:"flex justify-center mb-4",children:x.jsx(C8,{className:"h-16 w-16 text-green-500"})}),x.jsx(sn,{className:"text-2xl text-green-700",children:"Conta criada com sucesso!"}),x.jsx(La,{className:"text-gray-600",children:"Enviamos um link de confirmao para seu e-mail. Clique no link para ativar sua conta e continuar o cadastro."})]}),x.jsxs(Or,{className:"text-center",children:[x.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:x.jsxs("p",{className:"text-sm text-blue-800",children:[x.jsx("strong",{children:"Prximo passo:"})," Verifique sua caixa de entrada e clique no link de confirmao para ativar sua conta."]})}),x.jsx(io,{to:"/login",children:x.jsx(zt,{variant:"outline",className:"w-full",children:"Voltar para o login"})})]})]})]})}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 px-4 flex items-center justify-center",children:x.jsxs("div",{className:"max-w-md w-full space-y-8",children:[x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex justify-center items-center gap-3 mb-6",children:[x.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:x.jsx(Cn,{className:"h-8 w-8 text-white"})}),x.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Armazena App"})]}),x.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"Sistema de Gesto de Ativos"})]}),x.jsxs(Tr,{className:"shadow-lg border-0",children:[x.jsxs(an,{className:"space-y-1",children:[x.jsx(sn,{className:"text-2xl text-center",children:"Criar Conta"}),x.jsx(La,{className:"text-center",children:"Preencha os dados para criar sua conta"})]}),x.jsxs(Or,{children:[x.jsxs("form",{onSubmit:E,className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"name",children:"Nome Completo *"}),x.jsx(Mr,{id:"name",type:"text",placeholder:"Seu nome completo",value:e,onChange:_=>t(_.target.value),required:!0,className:"h-11"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"email",children:"E-mail *"}),x.jsx(Mr,{id:"email",type:"email",placeholder:"seu@email.com",value:r,onChange:_=>n(_.target.value),required:!0,className:"h-11"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"password",children:"Senha *"}),x.jsxs("div",{className:"relative",children:[x.jsx(Mr,{id:"password",type:a?"text":"password",placeholder:"Mnimo 6 caracteres",value:i,onChange:_=>s(_.target.value),required:!0,className:"h-11 pr-10"}),x.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!a),children:a?x.jsx(mm,{className:"h-4 w-4 text-gray-400"}):x.jsx(v1,{className:"h-4 w-4 text-gray-400"})})]})]}),d&&x.jsx(Hi,{variant:"destructive",children:x.jsx(Vi,{children:d})}),x.jsx(zt,{type:"submit",className:"w-full h-11",disabled:u,children:u?"Criando conta...":"Criar Conta"})]}),x.jsx("div",{className:"mt-6 text-center",children:x.jsxs("p",{className:"text-sm text-gray-600",children:["J tem uma conta?"," ",x.jsx(io,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Fazer login"})]})})]})]})]})})}function PH(){ws();const{data:e}=Z1(),{data:t}=Zl({queryKey:["dashboard-stats"],queryFn:async()=>{const{data:s}=await pr.from("assets").select("*");if(!s)return null;const a=s.length,l=s.filter(y=>y.status==="ativo").length,u=s.filter(y=>y.status==="manuteno").length,f=s.filter(y=>y.status==="baixado").length,d=s.reduce((y,v)=>y+(v.value||0),0),m=s.filter(y=>y.status==="ativo").reduce((y,v)=>y+(v.value||0),0);return{totalAssets:a,activeAssets:l,maintenanceAssets:u,deactivatedAssets:f,totalValue:d,activeValue:m}}}),{data:r}=Zl({queryKey:["recent-assets"],queryFn:async()=>{const{data:s}=await pr.from("assets").select("*").order("created_at",{ascending:!1}).limit(5);return s||[]}}),n=s=>{const a={ativo:"bg-green-100 text-green-800",manuteno:"bg-yellow-100 text-yellow-800",baixado:"bg-red-100 text-red-800"};return x.jsx(_i,{className:a[s],children:s.toUpperCase()})},i=s=>{switch(s){case"ativo":return x.jsx(M_,{className:"h-4 w-4 text-green-600"});case"manuteno":return x.jsx(w1,{className:"h-4 w-4 text-yellow-600"});case"baixado":return x.jsx(O_,{className:"h-4 w-4 text-red-600"});default:return x.jsx(Cn,{className:"h-4 w-4 text-gray-600"})}};return x.jsxs("div",{className:"space-y-8 pb-10",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),x.jsx("p",{className:"mt-2 text-gray-600",children:"Viso geral dos seus ativos patrimoniais"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.jsxs(Tr,{className:"border-0 shadow-md",children:[x.jsxs(an,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(sn,{className:"text-sm font-medium text-gray-600",children:"Total"}),x.jsx(Cn,{className:"h-4 w-4 text-blue-600"})]}),x.jsxs(Or,{children:[x.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(t==null?void 0:t.totalAssets)||0}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Todos os ativos cadastrados"})]})]}),x.jsxs(Tr,{className:"border-0 shadow-md",children:[x.jsxs(an,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(sn,{className:"text-sm font-medium text-gray-600",children:"Ativos"}),x.jsx(M_,{className:"h-4 w-4 text-green-600"})]}),x.jsxs(Or,{children:[x.jsx("div",{className:"text-2xl font-bold text-green-700",children:(t==null?void 0:t.activeAssets)||0}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Em operao normal"})]})]}),x.jsxs(Tr,{className:"border-0 shadow-md",children:[x.jsxs(an,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(sn,{className:"text-sm font-medium text-gray-600",children:"Manuteno"}),x.jsx(w1,{className:"h-4 w-4 text-yellow-600"})]}),x.jsxs(Or,{children:[x.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:(t==null?void 0:t.maintenanceAssets)||0}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Em manuteno"})]})]}),x.jsxs(Tr,{className:"border-0 shadow-md",children:[x.jsxs(an,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(sn,{className:"text-sm font-medium text-gray-600",children:"Baixados"}),x.jsx(O_,{className:"h-4 w-4 text-red-600"})]}),x.jsxs(Or,{children:[x.jsx("div",{className:"text-2xl font-bold text-red-700",children:(t==null?void 0:t.deactivatedAssets)||0}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Fora de operao"})]})]})]}),x.jsx("div",{className:"w-full",children:x.jsx(Tr,{className:"border-0 shadow-md",children:x.jsxs(Or,{className:"flex items-center justify-between p-6",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(sn,{className:"text-sm font-medium text-gray-600",children:"Valor Total"}),x.jsx(i3,{className:"h-4 w-4 text-blue-600"})]}),x.jsx("div",{className:"text-2xl font-bold text-blue-700 break-words",children:wm((t==null?void 0:t.totalValue)||0)})]})})}),x.jsxs(Tr,{className:"border-0 shadow-md",children:[x.jsxs(an,{children:[x.jsxs(sn,{className:"flex items-center",children:[x.jsx(N8,{className:"h-5 w-5 mr-2 text-blue-600"}),"Ativos Recentes"]}),x.jsx(La,{children:"ltimos ativos adicionados ao sistema"})]}),x.jsx(Or,{children:r&&r.length>0?x.jsx("div",{className:"space-y-4",children:r.map(s=>x.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[x.jsxs("div",{className:"flex items-center space-x-4",children:[i(s.status),x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-gray-900",children:s.name}),x.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[x.jsxs("span",{children:["#",s.code]}),s.location&&x.jsxs(x.Fragment,{children:[x.jsx("span",{children:""}),x.jsx(o3,{className:"h-3 w-3"}),x.jsx("span",{children:s.location})]})]})]})]}),x.jsxs("div",{className:"flex flex-col md:flex-row items-center md:space-x-3 space-y-2 md:space-y-0 mt-2 md:mt-0",children:[s.value&&x.jsx("span",{className:"text-sm font-medium text-gray-900",children:wm(s.value)}),n(s.status),x.jsx("span",{className:"text-xs text-gray-500",children:s.acquisition_date?$h(new Date(s.acquisition_date),"dd/MM/yyyy",{locale:wf}):"-"})]})]},s.id))}):x.jsxs("div",{className:"text-center py-8",children:[x.jsx(Cn,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),x.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum ativo cadastrado"}),x.jsx("p",{className:"text-gray-600",children:"Comece adicionando seus primeiros ativos ao sistema"})]})})]})]})}function yT(){const[e,t]=D.useState(!1),[r,n]=D.useState(!1),[i,s]=D.useState(!1);return D.useEffect(()=>{const a=()=>{const l=window.innerWidth,u=navigator.userAgent,f=l<768,d=l>=768&&l<=1024,m=l>1024,y=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(u);t(f||y&&!d),n(d),s(m&&!y)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),{isMobile:e,isTablet:r,isDesktop:i,isMobileOrTablet:e||r}}const vv=20;function OH(e){const[t,r]=D.useState([]),[n,i]=D.useState(1),[s,a]=D.useState(!0),[l,u]=D.useState(!1),[f,d]=D.useState(!1),m=D.useCallback(async N=>{let A=pr.from("assets").select("*").order("created_at",{ascending:!1});e.search&&(A=A.or(`name.ilike.%${e.search}%,code.ilike.%${e.search}%`)),e.statusFilter!=="all"&&(A=A.eq("status",e.statusFilter)),e.locationFilter!=="all"&&(A=A.eq("location",e.locationFilter));const C=(N-1)*vv,I=C+vv-1,{data:L,error:q}=await A.range(C,I);if(q)throw q;return L||[]},[e.search,e.statusFilter,e.locationFilter]),y=D.useCallback(async N=>{const A=N===1;A?u(!0):d(!0);try{const C=await m(N);r(I=>A?C:[...I,...C]),a(C.length===vv)}finally{A&&u(!1),d(!1)}},[m]),v=D.useCallback(()=>{r([]),i(1),a(!0),d(!1)},[]),E=D.useCallback(()=>{if(!s||f)return;const N=n+1;i(N),y(N)},[s,f,n,y]);D.useEffect(()=>{v()},[e.search,e.statusFilter,e.locationFilter,v]),D.useEffect(()=>{y(n)},[n,y]);const{data:_}=Zl({queryKey:["asset-locations"],queryFn:async()=>{const{data:N}=await pr.from("assets").select("location").not("location","is",null);return[...new Set(N==null?void 0:N.map(C=>C.location).filter(Boolean))]}});return{assets:t,loading:l,loadingMore:f,hasMore:s,currentPage:n,resetFilters:v,loadMore:E,locations:_}}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Nm={};Nm.version="0.18.5";var bT=1252,RH=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],_T=function(e){RH.indexOf(e)!=-1&&(bT=e)};function LH(){_T(1252)}var _1=function(e){_T(e)};function DH(){_1(1200),LH()}var sg=function(t){return String.fromCharCode(t)},yS=function(t){return String.fromCharCode(t)},Tm,Jc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function S1(e){for(var t="",r=0,n=0,i=0,s=0,a=0,l=0,u=0,f=0;f<e.length;)r=e.charCodeAt(f++),s=r>>2,n=e.charCodeAt(f++),a=(r&3)<<4|n>>4,i=e.charCodeAt(f++),l=(n&15)<<2|i>>6,u=i&63,isNaN(n)?l=u=64:isNaN(i)&&(u=64),t+=Jc.charAt(s)+Jc.charAt(a)+Jc.charAt(l)+Jc.charAt(u);return t}function Jl(e){var t="",r=0,n=0,i=0,s=0,a=0,l=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)s=Jc.indexOf(e.charAt(f++)),a=Jc.indexOf(e.charAt(f++)),r=s<<2|a>>4,t+=String.fromCharCode(r),l=Jc.indexOf(e.charAt(f++)),n=(a&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),u=Jc.indexOf(e.charAt(f++)),i=(l&3)<<6|u,u!==64&&(t+=String.fromCharCode(i));return t}var nn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ac=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Of(e){return nn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function bS(e){return nn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ko=function(t){return nn?ac(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function U2(e){if(typeof ArrayBuffer>"u")return ko(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function ep(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function FH(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var hs=nn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ac(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function MH(e){for(var t=[],r=0,n=e.length+250,i=Of(e.length+255),s=0;s<e.length;++s){var a=e.charCodeAt(s);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var l=e.charCodeAt(++s)&1023;i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|l>>6&15|(a&3)<<4,i[r++]=128|l&63}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|a&63;r>n&&(t.push(i.slice(0,r)),r=0,i=Of(65535),n=65530)}return t.push(i.slice(0,r)),hs(t)}var V0=/\u0000/g,ag=/[\u0001-\u0006]/g;function Xh(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Po(e,t){var r=""+e;return r.length>=t?r:ui("0",t-r.length)+r}function k3(e,t){var r=""+e;return r.length>=t?r:ui(" ",t-r.length)+r}function Im(e,t){var r=""+e;return r.length>=t?r:r+ui(" ",t-r.length)}function jH(e,t){var r=""+Math.round(e);return r.length>=t?r:ui("0",t-r.length)+r}function BH(e,t){var r=""+e;return r.length>=t?r:ui("0",t-r.length)+r}var _S=Math.pow(2,32);function hh(e,t){if(e>_S||e<-_S)return jH(e,t);var r=Math.round(e);return BH(r,t)}function km(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var SS=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],wv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function UH(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var fi={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},ES={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},WH={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Pm(e,t,r){for(var n=e<0?-1:1,i=e*n,s=0,a=1,l=0,u=1,f=0,d=0,m=Math.floor(i);f<t&&(m=Math.floor(i),l=m*a+s,d=m*f+u,!(i-m<5e-8));)i=1/(i-m),s=a,a=l,u=f,f=d;if(d>t&&(f>t?(d=u,l=s):(d=f,l=a)),!r)return[0,n*l,d];var y=Math.floor(n*l/d);return[y,n*l-y*d,d]}function og(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),s=0,a=[],l={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++i==86400&&(l.T=i=0,++n,++l.D)),n===60)a=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var u=new Date(1900,0,1);u.setDate(u.getDate()+n-1),a=[u.getFullYear(),u.getMonth()+1,u.getDate()],s=u.getDay(),n<60&&(s=(s+6)%7),r&&(s=XH(u,a))}return l.y=a[0],l.m=a[1],l.d=a[2],l.S=i%60,i=Math.floor(i/60),l.M=i%60,i=Math.floor(i/60),l.H=i,l.q=s,l}var ST=new Date(1899,11,31,0,0,0),zH=ST.getTime(),HH=new Date(1900,2,1,0,0,0);function ET(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=HH&&(r+=24*60*60*1e3),(r-(zH+(e.getTimezoneOffset()-ST.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function P3(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function VH(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function qH(e){var t=e<0?12:11,r=P3(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function GH(e){var t=P3(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function $H(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=qH(e):t===10?r=e.toFixed(10).substr(0,12):r=GH(e),P3(VH(r.toUpperCase()))}function vy(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):$H(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return mu(14,ET(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function XH(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function YH(e,t,r,n){var i="",s=0,a=0,l=r.y,u,f=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:u=l%100,f=2;break;default:u=l%1e4,f=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,f=t.length;break;case 3:return wv[r.m-1][1];case 5:return wv[r.m-1][0];default:return wv[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,f=t.length;break;case 3:return SS[r.q][0];default:return SS[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Po(r.S,t.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(r.S+r.u)),s>=60*a&&(s=0),t==="s"?s===0?"0":""+s/a:(i=Po(s,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}f=t.length===3?1:2;break;case 101:u=l,f=1;break}var d=f>0?Po(u,f):"";return d}function eu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var AT=/%/g;function KH(e,t,r){var n=t.replace(AT,""),i=t.length-n.length;return Vl(e,n,r*Math.pow(10,2*i))+ui("%",i)}function QH(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Vl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function CT(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+CT(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(t/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var a=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,f,d){return u+f+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var NT=/# (\?+)( ?)\/( ?)(\d+)/;function ZH(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),s=Math.floor(i/n),a=i-s*n,l=n;return r+(s===0?"":""+s)+" "+(a===0?ui(" ",e[1].length+1+e[4].length):k3(a,e[1].length)+e[2]+"/"+e[3]+Po(l,e[4].length))}function JH(e,t,r){return r+(t===0?"":""+t)+ui(" ",e[1].length+2+e[4].length)}var TT=/^#*0*\.([0#]+)/,IT=/\).*[0#]/,kT=/\(###\) ###\\?-####/;function qs(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function AS(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function CS(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function eV(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function tV(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ka(e,t,r){if(e.charCodeAt(0)===40&&!t.match(IT)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ka("n",n,r):"("+Ka("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return QH(e,t,r);if(t.indexOf("%")!==-1)return KH(e,t,r);if(t.indexOf("E")!==-1)return CT(t,r);if(t.charCodeAt(0)===36)return"$"+Ka(e,t.substr(t.charAt(1)==" "?2:1),r);var i,s,a,l,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+hh(u,t.length);if(t.match(/^[#?]+$/))return i=hh(r,0),i==="0"&&(i=""),i.length>t.length?i:qs(t.substr(0,t.length-i.length))+i;if(s=t.match(NT))return ZH(s,u,f);if(t.match(/^#+0+$/))return f+hh(u,t.length-t.indexOf("0"));if(s=t.match(TT))return i=AS(r,s[1].length).replace(/^([^\.]+)$/,"$1."+qs(s[1])).replace(/\.$/,"."+qs(s[1])).replace(/\.(\d*)$/,function(E,_){return"."+_+ui("0",qs(s[1]).length-_.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return f+AS(u,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return f+eu(hh(u,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ka(e,t,-r):eu(""+(Math.floor(r)+eV(r,s[1].length)))+"."+Po(CS(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Ka(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Xh(Ka(e,t.replace(/[\\-]/g,""),r)),a=0,Xh(Xh(t.replace(/\\/g,"")).replace(/[0#]/g,function(E){return a<i.length?i.charAt(a++):E==="0"?"0":""}));if(t.match(kT))return i=Ka(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),l=Pm(u,Math.pow(10,a)-1,!1),i=""+f,d=Vl("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=Im(l[2],a),d.length<s[4].length&&(d=qs(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),l=Pm(u,Math.pow(10,a)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?k3(l[1],a)+s[2]+"/"+s[3]+Im(l[2],a):ui(" ",2*a+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=hh(r,0),t.length<=i.length?i:qs(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var m=t.indexOf(".")-a,y=t.length-i.length-m;return qs(t.substr(0,m)+i+t.substr(t.length-y))}if(s=t.match(/^00,000\.([#0]*0)$/))return a=CS(r,s[1].length),r<0?"-"+Ka(e,t,-r):eu(tV(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?Po(0,3-E.length):"")+E})+"."+Po(a,s[1].length);switch(t){case"###,##0.00":return Ka(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var v=eu(hh(u,0));return v!=="0"?f+v:"";case"###,###.00":return Ka(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ka(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function rV(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Vl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function nV(e,t,r){var n=t.replace(AT,""),i=t.length-n.length;return Vl(e,n,r*Math.pow(10,2*i))+ui("%",i)}function PT(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+PT(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(t/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,f,d){return u+f+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Zo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(IT)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Zo("n",n,r):"("+Zo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return rV(e,t,r);if(t.indexOf("%")!==-1)return nV(e,t,r);if(t.indexOf("E")!==-1)return PT(t,r);if(t.charCodeAt(0)===36)return"$"+Zo(e,t.substr(t.charAt(1)==" "?2:1),r);var i,s,a,l,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+Po(u,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:qs(t.substr(0,t.length-i.length))+i;if(s=t.match(NT))return JH(s,u,f);if(t.match(/^#+0+$/))return f+Po(u,t.length-t.indexOf("0"));if(s=t.match(TT))return i=(""+r).replace(/^([^\.]+)$/,"$1."+qs(s[1])).replace(/\.$/,"."+qs(s[1])),i=i.replace(/\.(\d*)$/,function(E,_){return"."+_+ui("0",qs(s[1]).length-_.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return f+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return f+eu(""+u);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Zo(e,t,-r):eu(""+r)+"."+ui("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Zo(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Xh(Zo(e,t.replace(/[\\-]/g,""),r)),a=0,Xh(Xh(t.replace(/\\/g,"")).replace(/[0#]/g,function(E){return a<i.length?i.charAt(a++):E==="0"?"0":""}));if(t.match(kT))return i=Zo(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),l=Pm(u,Math.pow(10,a)-1,!1),i=""+f,d=Vl("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=Im(l[2],a),d.length<s[4].length&&(d=qs(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),l=Pm(u,Math.pow(10,a)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?k3(l[1],a)+s[2]+"/"+s[3]+Im(l[2],a):ui(" ",2*a+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:qs(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var m=t.indexOf(".")-a,y=t.length-i.length-m;return qs(t.substr(0,m)+i+t.substr(t.length-y))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Zo(e,t,-r):eu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?Po(0,3-E.length):"")+E})+"."+Po(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var v=eu(""+u);return v!=="0"?f+v:"";default:if(t.match(/\.[0#?]*$/))return Zo(e,t.slice(0,t.lastIndexOf(".")),r)+qs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Vl(e,t,r){return(r|0)===r?Zo(e,t,r):Ka(e,t,r)}function iV(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var OT=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function RT(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":km(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(OT))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function sV(e,t,r,n){for(var i=[],s="",a=0,l="",u="t",f,d,m,y="H";a<e.length;)switch(l=e.charAt(a)){case"G":if(!km(e,a))throw new Error("unrecognized character "+l+" in "+e);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(m=e.charCodeAt(++a))!==34&&a<e.length;)s+=String.fromCharCode(m);i[i.length]={t:"t",v:s},++a;break;case"\\":var v=e.charAt(++a),E=v==="("||v===")"?v:"t";i[i.length]={t:E,v},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:t},++a;break;case"B":case"b":if(e.charAt(a+1)==="1"||e.charAt(a+1)==="2"){if(f==null&&(f=og(t,r,e.charAt(a+1)==="2"),f==null))return"";i[i.length]={t:"X",v:e.substr(a,2)},u=l,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||f==null&&(f=og(t,r),f==null))return"";for(s=l;++a<e.length&&e.charAt(a).toLowerCase()===l;)s+=l;l==="m"&&u.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=y),i[i.length]={t:l,v:s},u=l;break;case"A":case"a":case"":var _={t:l,v:l};if(f==null&&(f=og(t,r)),e.substr(a,3).toUpperCase()==="A/P"?(f!=null&&(_.v=f.H>=12?"P":"A"),_.t="T",y="h",a+=3):e.substr(a,5).toUpperCase()==="AM/PM"?(f!=null&&(_.v=f.H>=12?"PM":"AM"),_.t="T",a+=5,y="h"):e.substr(a,5).toUpperCase()==="/"?(f!=null&&(_.v=f.H>=12?"":""),_.t="T",a+=5,y="h"):(_.t="t",++a),f==null&&_.t==="T")return"";i[i.length]=_,u=l;break;case"[":for(s=l;e.charAt(a++)!=="]"&&a<e.length;)s+=e.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(OT)){if(f==null&&(f=og(t,r),f==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},u=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",RT(e)||(i[i.length]={t:"t",v:s}));break;case".":if(f!=null){for(s=l;++a<e.length&&(l=e.charAt(a))==="0";)s+=l;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++a<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(a))>-1;)s+=l;i[i.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++a)===l;)s+=l;i[i.length]={t:l,v:s},u=l;break;case"*":++a,(e.charAt(a)==" "||e.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":l,v:l},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;a<e.length&&"0123456789".indexOf(e.charAt(++a))>-1;)s+=e.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:l,v:l},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);i[i.length]={t:"t",v:l},++a;break}var N=0,A=0,C;for(a=i.length-1,u="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=y,u="h",N<1&&(N=1);break;case"s":(C=i[a].v.match(/\.0+$/))&&(A=Math.max(A,C[0].length-1)),N<3&&(N=3);case"d":case"y":case"M":case"e":u=i[a].t;break;case"m":u==="s"&&(i[a].t="M",N<2&&(N=2));break;case"X":break;case"Z":N<1&&i[a].v.match(/[Hh]/)&&(N=1),N<2&&i[a].v.match(/[Mm]/)&&(N=2),N<3&&i[a].v.match(/[Ss]/)&&(N=3)}switch(N){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var I="",L;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=YH(i[a].t.charCodeAt(0),i[a].v,f,A),i[a].t="t";break;case"n":case"?":for(L=a+1;i[L]!=null&&((l=i[L].t)==="?"||l==="D"||(l===" "||l==="t")&&i[L+1]!=null&&(i[L+1].t==="?"||i[L+1].t==="t"&&i[L+1].v==="/")||i[a].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(i[L].v==="/"||i[L].v===" "&&i[L+1]!=null&&i[L+1].t=="?"));)i[a].v+=i[L].v,i[L]={v:"",t:";"},++L;I+=i[a].v,a=L-1;break;case"G":i[a].t="t",i[a].v=vy(t,r);break}var q="",Q,B;if(I.length>0){I.charCodeAt(0)==40?(Q=t<0&&I.charCodeAt(0)===45?-t:t,B=Vl("n",I,Q)):(Q=t<0&&n>1?-t:t,B=Vl("n",I,Q),Q<0&&i[0]&&i[0].t=="t"&&(B=B.substr(1),i[0].v="-"+i[0].v)),L=B.length-1;var M=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){M=a;break}var F=i.length;if(M===i.length&&B.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(L>=i[a].v.length-1?(L-=i[a].v.length,i[a].v=B.substr(L+1,i[a].v.length)):L<0?i[a].v="":(i[a].v=B.substr(0,L+1),L=-1),i[a].t="t",F=a);L>=0&&F<i.length&&(i[F].v=B.substr(0,L+1)+i[F].v)}else if(M!==i.length&&B.indexOf("E")===-1){for(L=B.indexOf(".")-1,a=M;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(d=i[a].v.indexOf(".")>-1&&a===M?i[a].v.indexOf(".")-1:i[a].v.length-1,q=i[a].v.substr(d+1);d>=0;--d)L>=0&&(i[a].v.charAt(d)==="0"||i[a].v.charAt(d)==="#")&&(q=B.charAt(L--)+q);i[a].v=q,i[a].t="t",F=a}for(L>=0&&F<i.length&&(i[F].v=B.substr(0,L+1)+i[F].v),L=B.indexOf(".")+1,a=M;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==M)){for(d=i[a].v.indexOf(".")>-1&&a===M?i[a].v.indexOf(".")+1:0,q=i[a].v.substr(0,d);d<i[a].v.length;++d)L<B.length&&(q+=B.charAt(L++));i[a].v=q,i[a].t="t",F=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(Q=n>1&&t<0&&a>0&&i[a-1].v==="-"?-t:t,i[a].v=Vl(i[a].t,i[a].v,Q),i[a].t="t");var X="";for(a=0;a!==i.length;++a)i[a]!=null&&(X+=i[a].v);return X}var NS=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function TS(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function aV(e,t){var r=iV(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(NS),l=r[1].match(NS);return TS(t,a)?[n,r[0]]:TS(t,l)?[n,r[1]]:[n,r[a!=null&&l!=null?2:1]]}return[n,s]}function mu(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:fi)[e],n==null&&(n=r.table&&r.table[ES[e]]||fi[ES[e]]),n==null&&(n=WH[e]||"General");break}if(km(n,0))return vy(t,r);t instanceof Date&&(t=ET(t,r.date1904));var i=aV(n,t);if(km(i[1]))return vy(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return sV(i[1],t,r,i[0])}function LT(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(fi[r]==null){t<0&&(t=r);continue}if(fi[r]==e){t=r;break}}t<0&&(t=391)}return fi[t]=e,t}function W2(e){for(var t=0;t!=392;++t)e[t]!==void 0&&LT(e[t],t)}function z2(){fi=UH()}var DT=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function oV(e){var t=typeof e=="number"?fi[e]:e;return t=t.replace(DT,"(\\d+)"),new RegExp("^"+t+"$")}function lV(e,t,r){var n=-1,i=-1,s=-1,a=-1,l=-1,u=-1;(t.match(DT)||[]).forEach(function(m,y){var v=parseInt(r[y+1],10);switch(m.toLowerCase().charAt(0)){case"y":n=v;break;case"d":s=v;break;case"h":a=v;break;case"s":u=v;break;case"m":a>=0?l=v:i=v;break}}),u>=0&&l==-1&&i>=0&&(l=i,i=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var d=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return a==-1&&l==-1&&u==-1?f:n==-1&&i==-1&&s==-1?d:f+"T"+d}var cV=function(){var e={};e.version="1.2.0";function t(){for(var B=0,M=new Array(256),F=0;F!=256;++F)B=F,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,M[F]=B;return typeof Int32Array<"u"?new Int32Array(M):M}var r=t();function n(B){var M=0,F=0,X=0,W=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(X=0;X!=256;++X)W[X]=B[X];for(X=0;X!=256;++X)for(F=B[X],M=256+X;M<4096;M+=256)F=W[M]=F>>>8^B[F&255];var U=[];for(X=1;X!=16;++X)U[X-1]=typeof Int32Array<"u"?W.subarray(X*256,X*256+256):W.slice(X*256,X*256+256);return U}var i=n(r),s=i[0],a=i[1],l=i[2],u=i[3],f=i[4],d=i[5],m=i[6],y=i[7],v=i[8],E=i[9],_=i[10],N=i[11],A=i[12],C=i[13],I=i[14];function L(B,M){for(var F=M^-1,X=0,W=B.length;X<W;)F=F>>>8^r[(F^B.charCodeAt(X++))&255];return~F}function q(B,M){for(var F=M^-1,X=B.length-15,W=0;W<X;)F=I[B[W++]^F&255]^C[B[W++]^F>>8&255]^A[B[W++]^F>>16&255]^N[B[W++]^F>>>24]^_[B[W++]]^E[B[W++]]^v[B[W++]]^y[B[W++]]^m[B[W++]]^d[B[W++]]^f[B[W++]]^u[B[W++]]^l[B[W++]]^a[B[W++]]^s[B[W++]]^r[B[W++]];for(X+=15;W<X;)F=F>>>8^r[(F^B[W++])&255];return~F}function Q(B,M){for(var F=M^-1,X=0,W=B.length,U=0,re=0;X<W;)U=B.charCodeAt(X++),U<128?F=F>>>8^r[(F^U)&255]:U<2048?(F=F>>>8^r[(F^(192|U>>6&31))&255],F=F>>>8^r[(F^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,re=B.charCodeAt(X++)&1023,F=F>>>8^r[(F^(240|U>>8&7))&255],F=F>>>8^r[(F^(128|U>>2&63))&255],F=F>>>8^r[(F^(128|re>>6&15|(U&3)<<4))&255],F=F>>>8^r[(F^(128|re&63))&255]):(F=F>>>8^r[(F^(224|U>>12&15))&255],F=F>>>8^r[(F^(128|U>>6&63))&255],F=F>>>8^r[(F^(128|U&63))&255]);return~F}return e.table=r,e.bstr=L,e.buf=q,e.str=Q,e}(),An=function(){var t={};t.version="1.2.1";function r(te,ue){for(var he=te.split("/"),ge=ue.split("/"),xe=0,Ee=0,Ve=Math.min(he.length,ge.length);xe<Ve;++xe){if(Ee=he[xe].length-ge[xe].length)return Ee;if(he[xe]!=ge[xe])return he[xe]<ge[xe]?-1:1}return he.length-ge.length}function n(te){if(te.charAt(te.length-1)=="/")return te.slice(0,-1).indexOf("/")===-1?te:n(te.slice(0,-1));var ue=te.lastIndexOf("/");return ue===-1?te:te.slice(0,ue+1)}function i(te){if(te.charAt(te.length-1)=="/")return i(te.slice(0,-1));var ue=te.lastIndexOf("/");return ue===-1?te:te.slice(ue+1)}function s(te,ue){typeof ue=="string"&&(ue=new Date(ue));var he=ue.getHours();he=he<<6|ue.getMinutes(),he=he<<5|ue.getSeconds()>>>1,te.write_shift(2,he);var ge=ue.getFullYear()-1980;ge=ge<<4|ue.getMonth()+1,ge=ge<<5|ue.getDate(),te.write_shift(2,ge)}function a(te){var ue=te.read_shift(2)&65535,he=te.read_shift(2)&65535,ge=new Date,xe=he&31;he>>>=5;var Ee=he&15;he>>>=4,ge.setMilliseconds(0),ge.setFullYear(he+1980),ge.setMonth(Ee-1),ge.setDate(xe);var Ve=ue&31;ue>>>=5;var it=ue&63;return ue>>>=6,ge.setHours(ue),ge.setMinutes(it),ge.setSeconds(Ve<<1),ge}function l(te){Ta(te,0);for(var ue={},he=0;te.l<=te.length-4;){var ge=te.read_shift(2),xe=te.read_shift(2),Ee=te.l+xe,Ve={};switch(ge){case 21589:he=te.read_shift(1),he&1&&(Ve.mtime=te.read_shift(4)),xe>5&&(he&2&&(Ve.atime=te.read_shift(4)),he&4&&(Ve.ctime=te.read_shift(4))),Ve.mtime&&(Ve.mt=new Date(Ve.mtime*1e3));break}te.l=Ee,ue[ge]=Ve}return ue}var u;function f(){return u||(u={})}function d(te,ue){if(te[0]==80&&te[1]==75)return _n(te,ue);if((te[0]|32)==109&&(te[1]|32)==105)return is(te,ue);if(te.length<512)throw new Error("CFB file size "+te.length+" < 512");var he=3,ge=512,xe=0,Ee=0,Ve=0,it=0,ze=0,Ke=[],Ze=te.slice(0,512);Ta(Ze,0);var pt=m(Ze);switch(he=pt[0],he){case 3:ge=512;break;case 4:ge=4096;break;case 0:if(pt[1]==0)return _n(te,ue);default:throw new Error("Major Version: Expected 3 or 4 saw "+he)}ge!==512&&(Ze=te.slice(0,ge),Ta(Ze,28));var bt=te.slice(0,ge);y(Ze,he);var _t=Ze.read_shift(4,"i");if(he===3&&_t!==0)throw new Error("# Directory Sectors: Expected 0 saw "+_t);Ze.l+=4,Ve=Ze.read_shift(4,"i"),Ze.l+=4,Ze.chk("00100000","Mini Stream Cutoff Size: "),it=Ze.read_shift(4,"i"),xe=Ze.read_shift(4,"i"),ze=Ze.read_shift(4,"i"),Ee=Ze.read_shift(4,"i");for(var Et=-1,It=0;It<109&&(Et=Ze.read_shift(4,"i"),!(Et<0));++It)Ke[It]=Et;var sr=v(te,ge);N(ze,Ee,sr,ge,Ke);var st=C(sr,Ve,Ke,ge);st[Ve].name="!Directory",xe>0&&it!==re&&(st[it].name="!MiniFAT"),st[Ke[0]].name="!FAT",st.fat_addrs=Ke,st.ssz=ge;var cn={},_r=[],qi=[],co=[];I(Ve,st,sr,_r,xe,cn,qi,it),E(qi,co,_r),_r.shift();var Ir={FileIndex:qi,FullPaths:co};return ue&&ue.raw&&(Ir.raw={header:bt,sectors:sr}),Ir}function m(te){if(te[te.l]==80&&te[te.l+1]==75)return[0,0];te.chk(oe,"Header Signature: "),te.l+=16;var ue=te.read_shift(2,"u");return[te.read_shift(2,"u"),ue]}function y(te,ue){var he=9;switch(te.l+=2,he=te.read_shift(2)){case 9:if(ue!=3)throw new Error("Sector Shift: Expected 9 saw "+he);break;case 12:if(ue!=4)throw new Error("Sector Shift: Expected 12 saw "+he);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+he)}te.chk("0600","Mini Sector Shift: "),te.chk("000000000000","Reserved: ")}function v(te,ue){for(var he=Math.ceil(te.length/ue)-1,ge=[],xe=1;xe<he;++xe)ge[xe-1]=te.slice(xe*ue,(xe+1)*ue);return ge[he-1]=te.slice(he*ue),ge}function E(te,ue,he){for(var ge=0,xe=0,Ee=0,Ve=0,it=0,ze=he.length,Ke=[],Ze=[];ge<ze;++ge)Ke[ge]=Ze[ge]=ge,ue[ge]=he[ge];for(;it<Ze.length;++it)ge=Ze[it],xe=te[ge].L,Ee=te[ge].R,Ve=te[ge].C,Ke[ge]===ge&&(xe!==-1&&Ke[xe]!==xe&&(Ke[ge]=Ke[xe]),Ee!==-1&&Ke[Ee]!==Ee&&(Ke[ge]=Ke[Ee])),Ve!==-1&&(Ke[Ve]=ge),xe!==-1&&ge!=Ke[ge]&&(Ke[xe]=Ke[ge],Ze.lastIndexOf(xe)<it&&Ze.push(xe)),Ee!==-1&&ge!=Ke[ge]&&(Ke[Ee]=Ke[ge],Ze.lastIndexOf(Ee)<it&&Ze.push(Ee));for(ge=1;ge<ze;++ge)Ke[ge]===ge&&(Ee!==-1&&Ke[Ee]!==Ee?Ke[ge]=Ke[Ee]:xe!==-1&&Ke[xe]!==xe&&(Ke[ge]=Ke[xe]));for(ge=1;ge<ze;++ge)if(te[ge].type!==0){if(it=ge,it!=Ke[it])do it=Ke[it],ue[ge]=ue[it]+"/"+ue[ge];while(it!==0&&Ke[it]!==-1&&it!=Ke[it]);Ke[ge]=-1}for(ue[0]+="/",ge=1;ge<ze;++ge)te[ge].type!==2&&(ue[ge]+="/")}function _(te,ue,he){for(var ge=te.start,xe=te.size,Ee=[],Ve=ge;he&&xe>0&&Ve>=0;)Ee.push(ue.slice(Ve*U,Ve*U+U)),xe-=U,Ve=rf(he,Ve*4);return Ee.length===0?lt(0):hs(Ee).slice(0,te.size)}function N(te,ue,he,ge,xe){var Ee=re;if(te===re){if(ue!==0)throw new Error("DIFAT chain shorter than expected")}else if(te!==-1){var Ve=he[te],it=(ge>>>2)-1;if(!Ve)return;for(var ze=0;ze<it&&(Ee=rf(Ve,ze*4))!==re;++ze)xe.push(Ee);N(rf(Ve,ge-4),ue-1,he,ge,xe)}}function A(te,ue,he,ge,xe){var Ee=[],Ve=[];xe||(xe=[]);var it=ge-1,ze=0,Ke=0;for(ze=ue;ze>=0;){xe[ze]=!0,Ee[Ee.length]=ze,Ve.push(te[ze]);var Ze=he[Math.floor(ze*4/ge)];if(Ke=ze*4&it,ge<4+Ke)throw new Error("FAT boundary crossed: "+ze+" 4 "+ge);if(!te[Ze])break;ze=rf(te[Ze],Ke)}return{nodes:Ee,data:FS([Ve])}}function C(te,ue,he,ge){var xe=te.length,Ee=[],Ve=[],it=[],ze=[],Ke=ge-1,Ze=0,pt=0,bt=0,_t=0;for(Ze=0;Ze<xe;++Ze)if(it=[],bt=Ze+ue,bt>=xe&&(bt-=xe),!Ve[bt]){ze=[];var Et=[];for(pt=bt;pt>=0;){Et[pt]=!0,Ve[pt]=!0,it[it.length]=pt,ze.push(te[pt]);var It=he[Math.floor(pt*4/ge)];if(_t=pt*4&Ke,ge<4+_t)throw new Error("FAT boundary crossed: "+pt+" 4 "+ge);if(!te[It]||(pt=rf(te[It],_t),Et[pt]))break}Ee[bt]={nodes:it,data:FS([ze])}}return Ee}function I(te,ue,he,ge,xe,Ee,Ve,it){for(var ze=0,Ke=ge.length?2:0,Ze=ue[te].data,pt=0,bt=0,_t;pt<Ze.length;pt+=128){var Et=Ze.slice(pt,pt+128);Ta(Et,64),bt=Et.read_shift(2),_t=F3(Et,0,bt-Ke),ge.push(_t);var It={name:_t,type:Et.read_shift(1),color:Et.read_shift(1),L:Et.read_shift(4,"i"),R:Et.read_shift(4,"i"),C:Et.read_shift(4,"i"),clsid:Et.read_shift(16),state:Et.read_shift(4,"i"),start:0,size:0},sr=Et.read_shift(2)+Et.read_shift(2)+Et.read_shift(2)+Et.read_shift(2);sr!==0&&(It.ct=L(Et,Et.l-8));var st=Et.read_shift(2)+Et.read_shift(2)+Et.read_shift(2)+Et.read_shift(2);st!==0&&(It.mt=L(Et,Et.l-8)),It.start=Et.read_shift(4,"i"),It.size=Et.read_shift(4,"i"),It.size<0&&It.start<0&&(It.size=It.type=0,It.start=re,It.name=""),It.type===5?(ze=It.start,xe>0&&ze!==re&&(ue[ze].name="!StreamData")):It.size>=4096?(It.storage="fat",ue[It.start]===void 0&&(ue[It.start]=A(he,It.start,ue.fat_addrs,ue.ssz)),ue[It.start].name=It.name,It.content=ue[It.start].data.slice(0,It.size)):(It.storage="minifat",It.size<0?It.size=0:ze!==re&&It.start!==re&&ue[ze]&&(It.content=_(It,ue[ze].data,(ue[it]||{}).data))),It.content&&Ta(It.content,0),Ee[_t]=It,Ve.push(It)}}function L(te,ue){return new Date((ka(te,ue+4)/1e7*Math.pow(2,32)+ka(te,ue)/1e7-11644473600)*1e3)}function q(te,ue){return f(),d(u.readFileSync(te),ue)}function Q(te,ue){var he=ue&&ue.type;switch(he||nn&&Buffer.isBuffer(te)&&(he="buffer"),he||"base64"){case"file":return q(te,ue);case"base64":return d(ko(Jl(te)),ue);case"binary":return d(ko(te),ue)}return d(te,ue)}function B(te,ue){var he=ue||{},ge=he.root||"Root Entry";if(te.FullPaths||(te.FullPaths=[]),te.FileIndex||(te.FileIndex=[]),te.FullPaths.length!==te.FileIndex.length)throw new Error("inconsistent CFB structure");te.FullPaths.length===0&&(te.FullPaths[0]=ge+"/",te.FileIndex[0]={name:ge,type:5}),he.CLSID&&(te.FileIndex[0].clsid=he.CLSID),M(te)}function M(te){var ue="Sh33tJ5";if(!An.find(te,"/"+ue)){var he=lt(4);he[0]=55,he[1]=he[3]=50,he[2]=54,te.FileIndex.push({name:ue,type:2,content:he,size:4,L:69,R:69,C:69}),te.FullPaths.push(te.FullPaths[0]+ue),F(te)}}function F(te,ue){B(te);for(var he=!1,ge=!1,xe=te.FullPaths.length-1;xe>=0;--xe){var Ee=te.FileIndex[xe];switch(Ee.type){case 0:ge?he=!0:(te.FileIndex.pop(),te.FullPaths.pop());break;case 1:case 2:case 5:ge=!0,isNaN(Ee.R*Ee.L*Ee.C)&&(he=!0),Ee.R>-1&&Ee.L>-1&&Ee.R==Ee.L&&(he=!0);break;default:he=!0;break}}if(!(!he&&!ue)){var Ve=new Date(1987,1,19),it=0,ze=Object.create?Object.create(null):{},Ke=[];for(xe=0;xe<te.FullPaths.length;++xe)ze[te.FullPaths[xe]]=!0,te.FileIndex[xe].type!==0&&Ke.push([te.FullPaths[xe],te.FileIndex[xe]]);for(xe=0;xe<Ke.length;++xe){var Ze=n(Ke[xe][0]);ge=ze[Ze],ge||(Ke.push([Ze,{name:i(Ze).replace("/",""),type:1,clsid:Ne,ct:Ve,mt:Ve,content:null}]),ze[Ze]=!0)}for(Ke.sort(function(_t,Et){return r(_t[0],Et[0])}),te.FullPaths=[],te.FileIndex=[],xe=0;xe<Ke.length;++xe)te.FullPaths[xe]=Ke[xe][0],te.FileIndex[xe]=Ke[xe][1];for(xe=0;xe<Ke.length;++xe){var pt=te.FileIndex[xe],bt=te.FullPaths[xe];if(pt.name=i(bt).replace("/",""),pt.L=pt.R=pt.C=-(pt.color=1),pt.size=pt.content?pt.content.length:0,pt.start=0,pt.clsid=pt.clsid||Ne,xe===0)pt.C=Ke.length>1?1:-1,pt.size=0,pt.type=5;else if(bt.slice(-1)=="/"){for(it=xe+1;it<Ke.length&&n(te.FullPaths[it])!=bt;++it);for(pt.C=it>=Ke.length?-1:it,it=xe+1;it<Ke.length&&n(te.FullPaths[it])!=n(bt);++it);pt.R=it>=Ke.length?-1:it,pt.type=1}else n(te.FullPaths[xe+1]||"")==n(bt)&&(pt.R=xe+1),pt.type=2}}}function X(te,ue){var he=ue||{};if(he.fileType=="mad")return qt(te,he);switch(F(te),he.fileType){case"zip":return Ri(te,he)}var ge=function(_t){for(var Et=0,It=0,sr=0;sr<_t.FileIndex.length;++sr){var st=_t.FileIndex[sr];if(st.content){var cn=st.content.length;cn>0&&(cn<4096?Et+=cn+63>>6:It+=cn+511>>9)}}for(var _r=_t.FullPaths.length+3>>2,qi=Et+7>>3,co=Et+127>>7,Ir=qi+It+_r+co,Sr=Ir+127>>7,mr=Sr<=109?0:Math.ceil((Sr-109)/127);Ir+Sr+mr+127>>7>Sr;)mr=++Sr<=109?0:Math.ceil((Sr-109)/127);var ss=[1,mr,Sr,co,_r,It,Et,0];return _t.FileIndex[0].size=Et<<6,ss[7]=(_t.FileIndex[0].start=ss[0]+ss[1]+ss[2]+ss[3]+ss[4]+ss[5])+(ss[6]+7>>3),ss}(te),xe=lt(ge[7]<<9),Ee=0,Ve=0;{for(Ee=0;Ee<8;++Ee)xe.write_shift(1,le[Ee]);for(Ee=0;Ee<8;++Ee)xe.write_shift(2,0);for(xe.write_shift(2,62),xe.write_shift(2,3),xe.write_shift(2,65534),xe.write_shift(2,9),xe.write_shift(2,6),Ee=0;Ee<3;++Ee)xe.write_shift(2,0);for(xe.write_shift(4,0),xe.write_shift(4,ge[2]),xe.write_shift(4,ge[0]+ge[1]+ge[2]+ge[3]-1),xe.write_shift(4,0),xe.write_shift(4,4096),xe.write_shift(4,ge[3]?ge[0]+ge[1]+ge[2]-1:re),xe.write_shift(4,ge[3]),xe.write_shift(-4,ge[1]?ge[0]-1:re),xe.write_shift(4,ge[1]),Ee=0;Ee<109;++Ee)xe.write_shift(-4,Ee<ge[2]?ge[1]+Ee:-1)}if(ge[1])for(Ve=0;Ve<ge[1];++Ve){for(;Ee<236+Ve*127;++Ee)xe.write_shift(-4,Ee<ge[2]?ge[1]+Ee:-1);xe.write_shift(-4,Ve===ge[1]-1?re:Ve+1)}var it=function(_t){for(Ve+=_t;Ee<Ve-1;++Ee)xe.write_shift(-4,Ee+1);_t&&(++Ee,xe.write_shift(-4,re))};for(Ve=Ee=0,Ve+=ge[1];Ee<Ve;++Ee)xe.write_shift(-4,Ae.DIFSECT);for(Ve+=ge[2];Ee<Ve;++Ee)xe.write_shift(-4,Ae.FATSECT);it(ge[3]),it(ge[4]);for(var ze=0,Ke=0,Ze=te.FileIndex[0];ze<te.FileIndex.length;++ze)Ze=te.FileIndex[ze],Ze.content&&(Ke=Ze.content.length,!(Ke<4096)&&(Ze.start=Ve,it(Ke+511>>9)));for(it(ge[6]+7>>3);xe.l&511;)xe.write_shift(-4,Ae.ENDOFCHAIN);for(Ve=Ee=0,ze=0;ze<te.FileIndex.length;++ze)Ze=te.FileIndex[ze],Ze.content&&(Ke=Ze.content.length,!(!Ke||Ke>=4096)&&(Ze.start=Ve,it(Ke+63>>6)));for(;xe.l&511;)xe.write_shift(-4,Ae.ENDOFCHAIN);for(Ee=0;Ee<ge[4]<<2;++Ee){var pt=te.FullPaths[Ee];if(!pt||pt.length===0){for(ze=0;ze<17;++ze)xe.write_shift(4,0);for(ze=0;ze<3;++ze)xe.write_shift(4,-1);for(ze=0;ze<12;++ze)xe.write_shift(4,0);continue}Ze=te.FileIndex[Ee],Ee===0&&(Ze.start=Ze.size?Ze.start-1:re);var bt=Ee===0&&he.root||Ze.name;if(Ke=2*(bt.length+1),xe.write_shift(64,bt,"utf16le"),xe.write_shift(2,Ke),xe.write_shift(1,Ze.type),xe.write_shift(1,Ze.color),xe.write_shift(-4,Ze.L),xe.write_shift(-4,Ze.R),xe.write_shift(-4,Ze.C),Ze.clsid)xe.write_shift(16,Ze.clsid,"hex");else for(ze=0;ze<4;++ze)xe.write_shift(4,0);xe.write_shift(4,Ze.state||0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,Ze.start),xe.write_shift(4,Ze.size),xe.write_shift(4,0)}for(Ee=1;Ee<te.FileIndex.length;++Ee)if(Ze=te.FileIndex[Ee],Ze.size>=4096)if(xe.l=Ze.start+1<<9,nn&&Buffer.isBuffer(Ze.content))Ze.content.copy(xe,xe.l,0,Ze.size),xe.l+=Ze.size+511&-512;else{for(ze=0;ze<Ze.size;++ze)xe.write_shift(1,Ze.content[ze]);for(;ze&511;++ze)xe.write_shift(1,0)}for(Ee=1;Ee<te.FileIndex.length;++Ee)if(Ze=te.FileIndex[Ee],Ze.size>0&&Ze.size<4096)if(nn&&Buffer.isBuffer(Ze.content))Ze.content.copy(xe,xe.l,0,Ze.size),xe.l+=Ze.size+63&-64;else{for(ze=0;ze<Ze.size;++ze)xe.write_shift(1,Ze.content[ze]);for(;ze&63;++ze)xe.write_shift(1,0)}if(nn)xe.l=xe.length;else for(;xe.l<xe.length;)xe.write_shift(1,0);return xe}function W(te,ue){var he=te.FullPaths.map(function(ze){return ze.toUpperCase()}),ge=he.map(function(ze){var Ke=ze.split("/");return Ke[Ke.length-(ze.slice(-1)=="/"?2:1)]}),xe=!1;ue.charCodeAt(0)===47?(xe=!0,ue=he[0].slice(0,-1)+ue):xe=ue.indexOf("/")!==-1;var Ee=ue.toUpperCase(),Ve=xe===!0?he.indexOf(Ee):ge.indexOf(Ee);if(Ve!==-1)return te.FileIndex[Ve];var it=!Ee.match(ag);for(Ee=Ee.replace(V0,""),it&&(Ee=Ee.replace(ag,"!")),Ve=0;Ve<he.length;++Ve)if((it?he[Ve].replace(ag,"!"):he[Ve]).replace(V0,"")==Ee||(it?ge[Ve].replace(ag,"!"):ge[Ve]).replace(V0,"")==Ee)return te.FileIndex[Ve];return null}var U=64,re=-2,oe="d0cf11e0a1b11ae1",le=[208,207,17,224,161,177,26,225],Ne="00000000000000000000000000000000",Ae={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:re,FREESECT:-1,HEADER_SIGNATURE:oe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Ne,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function de(te,ue,he){f();var ge=X(te,he);u.writeFileSync(ue,ge)}function _e(te){for(var ue=new Array(te.length),he=0;he<te.length;++he)ue[he]=String.fromCharCode(te[he]);return ue.join("")}function Te(te,ue){var he=X(te,ue);switch(ue&&ue.type||"buffer"){case"file":return f(),u.writeFileSync(ue.filename,he),he;case"binary":return typeof he=="string"?he:_e(he);case"base64":return S1(typeof he=="string"?he:_e(he));case"buffer":if(nn)return Buffer.isBuffer(he)?he:ac(he);case"array":return typeof he=="string"?ko(he):he}return he}var He;function j(te){try{var ue=te.InflateRaw,he=new ue;if(he._processChunk(new Uint8Array([3,0]),he._finishFlushFlag),he.bytesRead)He=te;else throw new Error("zlib does not expose bytesRead")}catch(ge){console.error("cannot use native zlib: "+(ge.message||ge))}}function V(te,ue){if(!He)return Dr(te,ue);var he=He.InflateRaw,ge=new he,xe=ge._processChunk(te.slice(te.l),ge._finishFlushFlag);return te.l+=ge.bytesRead,xe}function G(te){return He?He.deflateRawSync(te):gr(te)}var Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function be(te){var ue=(te<<1|te<<11)&139536|(te<<5|te<<15)&558144;return(ue>>16|ue>>8|ue)&255}for(var Ce=typeof Uint8Array<"u",Pe=Ce?new Uint8Array(256):[],Re=0;Re<256;++Re)Pe[Re]=be(Re);function Ge(te,ue){var he=Pe[te&255];return ue<=8?he>>>8-ue:(he=he<<8|Pe[te>>8&255],ue<=16?he>>>16-ue:(he=he<<8|Pe[te>>16&255],he>>>24-ue))}function Qe(te,ue){var he=ue&7,ge=ue>>>3;return(te[ge]|(he<=6?0:te[ge+1]<<8))>>>he&3}function ct(te,ue){var he=ue&7,ge=ue>>>3;return(te[ge]|(he<=5?0:te[ge+1]<<8))>>>he&7}function Ue(te,ue){var he=ue&7,ge=ue>>>3;return(te[ge]|(he<=4?0:te[ge+1]<<8))>>>he&15}function pe(te,ue){var he=ue&7,ge=ue>>>3;return(te[ge]|(he<=3?0:te[ge+1]<<8))>>>he&31}function rt(te,ue){var he=ue&7,ge=ue>>>3;return(te[ge]|(he<=1?0:te[ge+1]<<8))>>>he&127}function nt(te,ue,he){var ge=ue&7,xe=ue>>>3,Ee=(1<<he)-1,Ve=te[xe]>>>ge;return he<8-ge||(Ve|=te[xe+1]<<8-ge,he<16-ge)||(Ve|=te[xe+2]<<16-ge,he<24-ge)||(Ve|=te[xe+3]<<24-ge),Ve&Ee}function qe(te,ue,he){var ge=ue&7,xe=ue>>>3;return ge<=5?te[xe]|=(he&7)<<ge:(te[xe]|=he<<ge&255,te[xe+1]=(he&7)>>8-ge),ue+3}function yt(te,ue,he){var ge=ue&7,xe=ue>>>3;return he=(he&1)<<ge,te[xe]|=he,ue+1}function et(te,ue,he){var ge=ue&7,xe=ue>>>3;return he<<=ge,te[xe]|=he&255,he>>>=8,te[xe+1]=he,ue+8}function At(te,ue,he){var ge=ue&7,xe=ue>>>3;return he<<=ge,te[xe]|=he&255,he>>>=8,te[xe+1]=he&255,te[xe+2]=he>>>8,ue+16}function Bt(te,ue){var he=te.length,ge=2*he>ue?2*he:ue+5,xe=0;if(he>=ue)return te;if(nn){var Ee=bS(ge);if(te.copy)te.copy(Ee);else for(;xe<te.length;++xe)Ee[xe]=te[xe];return Ee}else if(Ce){var Ve=new Uint8Array(ge);if(Ve.set)Ve.set(te);else for(;xe<he;++xe)Ve[xe]=te[xe];return Ve}return te.length=ge,te}function Pt(te){for(var ue=new Array(te),he=0;he<te;++he)ue[he]=0;return ue}function $t(te,ue,he){var ge=1,xe=0,Ee=0,Ve=0,it=0,ze=te.length,Ke=Ce?new Uint16Array(32):Pt(32);for(Ee=0;Ee<32;++Ee)Ke[Ee]=0;for(Ee=ze;Ee<he;++Ee)te[Ee]=0;ze=te.length;var Ze=Ce?new Uint16Array(ze):Pt(ze);for(Ee=0;Ee<ze;++Ee)Ke[xe=te[Ee]]++,ge<xe&&(ge=xe),Ze[Ee]=0;for(Ke[0]=0,Ee=1;Ee<=ge;++Ee)Ke[Ee+16]=it=it+Ke[Ee-1]<<1;for(Ee=0;Ee<ze;++Ee)it=te[Ee],it!=0&&(Ze[Ee]=Ke[it+16]++);var pt=0;for(Ee=0;Ee<ze;++Ee)if(pt=te[Ee],pt!=0)for(it=Ge(Ze[Ee],ge)>>ge-pt,Ve=(1<<ge+4-pt)-1;Ve>=0;--Ve)ue[it|Ve<<pt]=pt&15|Ee<<4;return ge}var Dt=Ce?new Uint16Array(512):Pt(512),Jt=Ce?new Uint16Array(32):Pt(32);if(!Ce){for(var er=0;er<512;++er)Dt[er]=0;for(er=0;er<32;++er)Jt[er]=0}(function(){for(var te=[],ue=0;ue<32;ue++)te.push(5);$t(te,Jt,32);var he=[];for(ue=0;ue<=143;ue++)he.push(8);for(;ue<=255;ue++)he.push(9);for(;ue<=279;ue++)he.push(7);for(;ue<=287;ue++)he.push(8);$t(he,Dt,288)})();var Mt=function(){for(var ue=Ce?new Uint8Array(32768):[],he=0,ge=0;he<Se.length-1;++he)for(;ge<Se[he+1];++ge)ue[ge]=he;for(;ge<32768;++ge)ue[ge]=29;var xe=Ce?new Uint8Array(259):[];for(he=0,ge=0;he<ie.length-1;++he)for(;ge<ie[he+1];++ge)xe[ge]=he;function Ee(it,ze){for(var Ke=0;Ke<it.length;){var Ze=Math.min(65535,it.length-Ke),pt=Ke+Ze==it.length;for(ze.write_shift(1,+pt),ze.write_shift(2,Ze),ze.write_shift(2,~Ze&65535);Ze-- >0;)ze[ze.l++]=it[Ke++]}return ze.l}function Ve(it,ze){for(var Ke=0,Ze=0,pt=Ce?new Uint16Array(32768):[];Ze<it.length;){var bt=Math.min(65535,it.length-Ze);if(bt<10){for(Ke=qe(ze,Ke,+(Ze+bt==it.length)),Ke&7&&(Ke+=8-(Ke&7)),ze.l=Ke/8|0,ze.write_shift(2,bt),ze.write_shift(2,~bt&65535);bt-- >0;)ze[ze.l++]=it[Ze++];Ke=ze.l*8;continue}Ke=qe(ze,Ke,+(Ze+bt==it.length)+2);for(var _t=0;bt-- >0;){var Et=it[Ze];_t=(_t<<5^Et)&32767;var It=-1,sr=0;if((It=pt[_t])&&(It|=Ze&-32768,It>Ze&&(It-=32768),It<Ze))for(;it[It+sr]==it[Ze+sr]&&sr<250;)++sr;if(sr>2){Et=xe[sr],Et<=22?Ke=et(ze,Ke,Pe[Et+1]>>1)-1:(et(ze,Ke,3),Ke+=5,et(ze,Ke,Pe[Et-23]>>5),Ke+=3);var st=Et<8?0:Et-4>>2;st>0&&(At(ze,Ke,sr-ie[Et]),Ke+=st),Et=ue[Ze-It],Ke=et(ze,Ke,Pe[Et]>>3),Ke-=3;var cn=Et<4?0:Et-2>>1;cn>0&&(At(ze,Ke,Ze-It-Se[Et]),Ke+=cn);for(var _r=0;_r<sr;++_r)pt[_t]=Ze&32767,_t=(_t<<5^it[Ze])&32767,++Ze;bt-=sr-1}else Et<=143?Et=Et+48:Ke=yt(ze,Ke,1),Ke=et(ze,Ke,Pe[Et]),pt[_t]=Ze&32767,++Ze}Ke=et(ze,Ke,0)-1}return ze.l=(Ke+7)/8|0,ze.l}return function(ze,Ke){return ze.length<8?Ee(ze,Ke):Ve(ze,Ke)}}();function gr(te){var ue=lt(50+Math.floor(te.length*1.1)),he=Mt(te,ue);return ue.slice(0,he)}var Nt=Ce?new Uint16Array(32768):Pt(32768),Jr=Ce?new Uint16Array(32768):Pt(32768),Gt=Ce?new Uint16Array(128):Pt(128),St=1,or=1;function tr(te,ue){var he=pe(te,ue)+257;ue+=5;var ge=pe(te,ue)+1;ue+=5;var xe=Ue(te,ue)+4;ue+=4;for(var Ee=0,Ve=Ce?new Uint8Array(19):Pt(19),it=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ze=1,Ke=Ce?new Uint8Array(8):Pt(8),Ze=Ce?new Uint8Array(8):Pt(8),pt=Ve.length,bt=0;bt<xe;++bt)Ve[Z[bt]]=Ee=ct(te,ue),ze<Ee&&(ze=Ee),Ke[Ee]++,ue+=3;var _t=0;for(Ke[0]=0,bt=1;bt<=ze;++bt)Ze[bt]=_t=_t+Ke[bt-1]<<1;for(bt=0;bt<pt;++bt)(_t=Ve[bt])!=0&&(it[bt]=Ze[_t]++);var Et=0;for(bt=0;bt<pt;++bt)if(Et=Ve[bt],Et!=0){_t=Pe[it[bt]]>>8-Et;for(var It=(1<<7-Et)-1;It>=0;--It)Gt[_t|It<<Et]=Et&7|bt<<3}var sr=[];for(ze=1;sr.length<he+ge;)switch(_t=Gt[rt(te,ue)],ue+=_t&7,_t>>>=3){case 16:for(Ee=3+Qe(te,ue),ue+=2,_t=sr[sr.length-1];Ee-- >0;)sr.push(_t);break;case 17:for(Ee=3+ct(te,ue),ue+=3;Ee-- >0;)sr.push(0);break;case 18:for(Ee=11+rt(te,ue),ue+=7;Ee-- >0;)sr.push(0);break;default:sr.push(_t),ze<_t&&(ze=_t);break}var st=sr.slice(0,he),cn=sr.slice(he);for(bt=he;bt<286;++bt)st[bt]=0;for(bt=ge;bt<30;++bt)cn[bt]=0;return St=$t(st,Nt,286),or=$t(cn,Jr,30),ue}function qr(te,ue){if(te[0]==3&&!(te[1]&3))return[Of(ue),2];for(var he=0,ge=0,xe=bS(ue||1<<18),Ee=0,Ve=xe.length>>>0,it=0,ze=0;!(ge&1);){if(ge=ct(te,he),he+=3,ge>>>1)ge>>1==1?(it=9,ze=5):(he=tr(te,he),it=St,ze=or);else{he&7&&(he+=8-(he&7));var Ke=te[he>>>3]|te[(he>>>3)+1]<<8;if(he+=32,Ke>0)for(!ue&&Ve<Ee+Ke&&(xe=Bt(xe,Ee+Ke),Ve=xe.length);Ke-- >0;)xe[Ee++]=te[he>>>3],he+=8;continue}for(;;){!ue&&Ve<Ee+32767&&(xe=Bt(xe,Ee+32767),Ve=xe.length);var Ze=nt(te,he,it),pt=ge>>>1==1?Dt[Ze]:Nt[Ze];if(he+=pt&15,pt>>>=4,!(pt>>>8&255))xe[Ee++]=pt;else{if(pt==256)break;pt-=257;var bt=pt<8?0:pt-4>>2;bt>5&&(bt=0);var _t=Ee+ie[pt];bt>0&&(_t+=nt(te,he,bt),he+=bt),Ze=nt(te,he,ze),pt=ge>>>1==1?Jt[Ze]:Jr[Ze],he+=pt&15,pt>>>=4;var Et=pt<4?0:pt-2>>1,It=Se[pt];for(Et>0&&(It+=nt(te,he,Et),he+=Et),!ue&&Ve<_t&&(xe=Bt(xe,_t+100),Ve=xe.length);Ee<_t;)xe[Ee]=xe[Ee-It],++Ee}}}return ue?[xe,he+7>>>3]:[xe.slice(0,Ee),he+7>>>3]}function Dr(te,ue){var he=te.slice(te.l||0),ge=qr(he,ue);return te.l+=ge[1],ge[0]}function Qs(te,ue){if(te)typeof console<"u"&&console.error(ue);else throw new Error(ue)}function _n(te,ue){var he=te;Ta(he,0);var ge=[],xe=[],Ee={FileIndex:ge,FullPaths:xe};B(Ee,{root:ue.root});for(var Ve=he.length-4;(he[Ve]!=80||he[Ve+1]!=75||he[Ve+2]!=5||he[Ve+3]!=6)&&Ve>=0;)--Ve;he.l=Ve+4,he.l+=4;var it=he.read_shift(2);he.l+=6;var ze=he.read_shift(4);for(he.l=ze,Ve=0;Ve<it;++Ve){he.l+=20;var Ke=he.read_shift(4),Ze=he.read_shift(4),pt=he.read_shift(2),bt=he.read_shift(2),_t=he.read_shift(2);he.l+=8;var Et=he.read_shift(4),It=l(he.slice(he.l+pt,he.l+pt+bt));he.l+=pt+bt+_t;var sr=he.l;he.l=Et+4,xr(he,Ke,Ze,Ee,It),he.l=sr}return Ee}function xr(te,ue,he,ge,xe){te.l+=2;var Ee=te.read_shift(2),Ve=te.read_shift(2),it=a(te);if(Ee&8257)throw new Error("Unsupported ZIP encryption");for(var ze=te.read_shift(4),Ke=te.read_shift(4),Ze=te.read_shift(4),pt=te.read_shift(2),bt=te.read_shift(2),_t="",Et=0;Et<pt;++Et)_t+=String.fromCharCode(te[te.l++]);if(bt){var It=l(te.slice(te.l,te.l+bt));(It[21589]||{}).mt&&(it=It[21589].mt),((xe||{})[21589]||{}).mt&&(it=xe[21589].mt)}te.l+=bt;var sr=te.slice(te.l,te.l+Ke);switch(Ve){case 8:sr=V(te,Ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ve)}var st=!1;Ee&8&&(ze=te.read_shift(4),ze==134695760&&(ze=te.read_shift(4),st=!0),Ke=te.read_shift(4),Ze=te.read_shift(4)),Ke!=ue&&Qs(st,"Bad compressed size: "+ue+" != "+Ke),Ze!=he&&Qs(st,"Bad uncompressed size: "+he+" != "+Ze),ni(ge,_t,sr,{unsafe:!0,mt:it})}function Ri(te,ue){var he=ue||{},ge=[],xe=[],Ee=lt(1),Ve=he.compression?8:0,it=0,ze=0,Ke=0,Ze=0,pt=0,bt=te.FullPaths[0],_t=bt,Et=te.FileIndex[0],It=[],sr=0;for(ze=1;ze<te.FullPaths.length;++ze)if(_t=te.FullPaths[ze].slice(bt.length),Et=te.FileIndex[ze],!(!Et.size||!Et.content||_t=="Sh33tJ5")){var st=Ze,cn=lt(_t.length);for(Ke=0;Ke<_t.length;++Ke)cn.write_shift(1,_t.charCodeAt(Ke)&127);cn=cn.slice(0,cn.l),It[pt]=cV.buf(Et.content,0);var _r=Et.content;Ve==8&&(_r=G(_r)),Ee=lt(30),Ee.write_shift(4,67324752),Ee.write_shift(2,20),Ee.write_shift(2,it),Ee.write_shift(2,Ve),Et.mt?s(Ee,Et.mt):Ee.write_shift(4,0),Ee.write_shift(-4,It[pt]),Ee.write_shift(4,_r.length),Ee.write_shift(4,Et.content.length),Ee.write_shift(2,cn.length),Ee.write_shift(2,0),Ze+=Ee.length,ge.push(Ee),Ze+=cn.length,ge.push(cn),Ze+=_r.length,ge.push(_r),Ee=lt(46),Ee.write_shift(4,33639248),Ee.write_shift(2,0),Ee.write_shift(2,20),Ee.write_shift(2,it),Ee.write_shift(2,Ve),Ee.write_shift(4,0),Ee.write_shift(-4,It[pt]),Ee.write_shift(4,_r.length),Ee.write_shift(4,Et.content.length),Ee.write_shift(2,cn.length),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(4,0),Ee.write_shift(4,st),sr+=Ee.l,xe.push(Ee),sr+=cn.length,xe.push(cn),++pt}return Ee=lt(22),Ee.write_shift(4,101010256),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,pt),Ee.write_shift(2,pt),Ee.write_shift(4,sr),Ee.write_shift(4,Ze),Ee.write_shift(2,0),hs([hs(ge),hs(xe),Ee])}var on={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function cr(te,ue){if(te.ctype)return te.ctype;var he=te.name||"",ge=he.match(/\.([^\.]+)$/);return ge&&on[ge[1]]||ue&&(ge=(he=ue).match(/[\.\\]([^\.\\])+$/),ge&&on[ge[1]])?on[ge[1]]:"application/octet-stream"}function yr(te){for(var ue=S1(te),he=[],ge=0;ge<ue.length;ge+=76)he.push(ue.slice(ge,ge+76));return he.join(`\r
`)+`\r
`}function xa(te){var ue=te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ke){var Ze=Ke.charCodeAt(0).toString(16).toUpperCase();return"="+(Ze.length==1?"0"+Ze:Ze)});ue=ue.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ue.charAt(0)==`
`&&(ue="=0D"+ue.slice(1)),ue=ue.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var he=[],ge=ue.split(`\r
`),xe=0;xe<ge.length;++xe){var Ee=ge[xe];if(Ee.length==0){he.push("");continue}for(var Ve=0;Ve<Ee.length;){var it=76,ze=Ee.slice(Ve,Ve+it);ze.charAt(it-1)=="="?it--:ze.charAt(it-2)=="="?it-=2:ze.charAt(it-3)=="="&&(it-=3),ze=Ee.slice(Ve,Ve+it),Ve+=it,Ve<Ee.length&&(ze+="="),he.push(ze)}}return he.join(`\r
`)}function zr(te){for(var ue=[],he=0;he<te.length;++he){for(var ge=te[he];he<=te.length&&ge.charAt(ge.length-1)=="=";)ge=ge.slice(0,ge.length-1)+te[++he];ue.push(ge)}for(var xe=0;xe<ue.length;++xe)ue[xe]=ue[xe].replace(/[=][0-9A-Fa-f]{2}/g,function(Ee){return String.fromCharCode(parseInt(Ee.slice(1),16))});return ko(ue.join(`\r
`))}function Li(te,ue,he){for(var ge="",xe="",Ee="",Ve,it=0;it<10;++it){var ze=ue[it];if(!ze||ze.match(/^\s*$/))break;var Ke=ze.match(/^(.*?):\s*([^\s].*)$/);if(Ke)switch(Ke[1].toLowerCase()){case"content-location":ge=Ke[2].trim();break;case"content-type":Ee=Ke[2].trim();break;case"content-transfer-encoding":xe=Ke[2].trim();break}}switch(++it,xe.toLowerCase()){case"base64":Ve=ko(Jl(ue.slice(it).join("")));break;case"quoted-printable":Ve=zr(ue.slice(it));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+xe)}var Ze=ni(te,ge.slice(he.length),Ve,{unsafe:!0});Ee&&(Ze.ctype=Ee)}function is(te,ue){if(_e(te.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var he=ue&&ue.root||"",ge=(nn&&Buffer.isBuffer(te)?te.toString("binary"):_e(te)).split(`\r
`),xe=0,Ee="";for(xe=0;xe<ge.length;++xe)if(Ee=ge[xe],!!/^Content-Location:/i.test(Ee)&&(Ee=Ee.slice(Ee.indexOf("file")),he||(he=Ee.slice(0,Ee.lastIndexOf("/")+1)),Ee.slice(0,he.length)!=he))for(;he.length>0&&(he=he.slice(0,he.length-1),he=he.slice(0,he.lastIndexOf("/")+1),Ee.slice(0,he.length)!=he););var Ve=(ge[1]||"").match(/boundary="(.*?)"/);if(!Ve)throw new Error("MAD cannot find boundary");var it="--"+(Ve[1]||""),ze=[],Ke=[],Ze={FileIndex:ze,FullPaths:Ke};B(Ze);var pt,bt=0;for(xe=0;xe<ge.length;++xe){var _t=ge[xe];_t!==it&&_t!==it+"--"||(bt++&&Li(Ze,ge.slice(pt,xe),he),pt=xe)}return Ze}function qt(te,ue){var he=ue||{},ge=he.boundary||"SheetJS";ge="------="+ge;for(var xe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ge.slice(2)+'"',"","",""],Ee=te.FullPaths[0],Ve=Ee,it=te.FileIndex[0],ze=1;ze<te.FullPaths.length;++ze)if(Ve=te.FullPaths[ze].slice(Ee.length),it=te.FileIndex[ze],!(!it.size||!it.content||Ve=="Sh33tJ5")){Ve=Ve.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(sr){return"_x"+sr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(sr){return"_u"+sr.charCodeAt(0).toString(16)+"_"});for(var Ke=it.content,Ze=nn&&Buffer.isBuffer(Ke)?Ke.toString("binary"):_e(Ke),pt=0,bt=Math.min(1024,Ze.length),_t=0,Et=0;Et<=bt;++Et)(_t=Ze.charCodeAt(Et))>=32&&_t<128&&++pt;var It=pt>=bt*4/5;xe.push(ge),xe.push("Content-Location: "+(he.root||"file:///C:/SheetJS/")+Ve),xe.push("Content-Transfer-Encoding: "+(It?"quoted-printable":"base64")),xe.push("Content-Type: "+cr(it,Ve)),xe.push(""),xe.push(It?xa(Ze):yr(Ze))}return xe.push(ge+`--\r
`),xe.join(`\r
`)}function Ms(te){var ue={};return B(ue,te),ue}function ni(te,ue,he,ge){var xe=ge&&ge.unsafe;xe||B(te);var Ee=!xe&&An.find(te,ue);if(!Ee){var Ve=te.FullPaths[0];ue.slice(0,Ve.length)==Ve?Ve=ue:(Ve.slice(-1)!="/"&&(Ve+="/"),Ve=(Ve+ue).replace("//","/")),Ee={name:i(ue),type:2},te.FileIndex.push(Ee),te.FullPaths.push(Ve),xe||An.utils.cfb_gc(te)}return Ee.content=he,Ee.size=he?he.length:0,ge&&(ge.CLSID&&(Ee.clsid=ge.CLSID),ge.mt&&(Ee.mt=ge.mt),ge.ct&&(Ee.ct=ge.ct)),Ee}function Ei(te,ue){B(te);var he=An.find(te,ue);if(he){for(var ge=0;ge<te.FileIndex.length;++ge)if(te.FileIndex[ge]==he)return te.FileIndex.splice(ge,1),te.FullPaths.splice(ge,1),!0}return!1}function Hr(te,ue,he){B(te);var ge=An.find(te,ue);if(ge){for(var xe=0;xe<te.FileIndex.length;++xe)if(te.FileIndex[xe]==ge)return te.FileIndex[xe].name=i(he),te.FullPaths[xe]=he,!0}return!1}function ln(te){F(te,!0)}return t.find=W,t.read=Q,t.parse=d,t.write=Te,t.writeFile=de,t.utils={cfb_new:Ms,cfb_add:ni,cfb_del:Ei,cfb_mov:Hr,cfb_gc:ln,ReadShift:G0,CheckField:JT,prep_blob:Ta,bconcat:hs,use_zlib:j,_deflateRaw:gr,_inflateRaw:Dr,consts:Ae},t}();function uV(e){return typeof e=="string"?U2(e):Array.isArray(e)?FH(e):e}function tp(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=U2(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?A1(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var i=new Blob([uV(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=e,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=ep(t)),l.write(t),l.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function vs(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function IS(e,t){for(var r=[],n=vs(e),i=0;i!==n.length;++i)r[e[n[i]][t]]==null&&(r[e[n[i]][t]]=n[i]);return r}function O3(e){for(var t=[],r=vs(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function H2(e){for(var t=[],r=vs(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function fV(e){for(var t=[],r=vs(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Om=new Date(1899,11,30,0,0,0);function pa(e,t){var r=e.getTime(),n=Om.getTime()+(e.getTimezoneOffset()-Om.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var FT=new Date,hV=Om.getTime()+(FT.getTimezoneOffset()-Om.getTimezoneOffset())*6e4,kS=FT.getTimezoneOffset();function MT(e){var t=new Date;return t.setTime(e*24*60*60*1e3+hV),t.getTimezoneOffset()!==kS&&t.setTime(t.getTime()+(t.getTimezoneOffset()-kS)*6e4),t}var PS=new Date("2017-02-19T19:06:09.000Z"),jT=isNaN(PS.getFullYear())?new Date("2/19/17"):PS,dV=jT.getFullYear()==2017;function Xs(e,t){var r=new Date(e);if(dV)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(jT.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function V2(e,t){if(nn&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function ga(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ga(e[r]));return t}function ui(e,t){for(var r="";r.length<t;)r+=e;return r}function ql(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var pV=["january","february","march","april","may","june","july","august","september","october","november","december"];function E1(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var a=e.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&pV.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Lr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return nn?n=ac(r):n=MH(r),An.utils.cfb_add(e,t,n)}An.utils.cfb_add(e,t,r)}else e.file(t,r)}function R3(){return An.utils.cfb_new()}var Oi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,gV={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},L3=O3(gV),D3=/[&<>'"]/g,mV=/[\u0000-\u0008\u000b-\u001f]/g;function vn(e){var t=e+"";return t.replace(D3,function(r){return L3[r]}).replace(mV,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function OS(e){return vn(e).replace(/ /g,"_x0020_")}var BT=/[\u0000-\u001f]/g;function xV(e){var t=e+"";return t.replace(D3,function(r){return L3[r]}).replace(/\n/g,"<br/>").replace(BT,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function vV(e){var t=e+"";return t.replace(D3,function(r){return L3[r]}).replace(BT,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function wV(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function yV(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function yv(e){for(var t="",r=0,n=0,i=0,s=0,a=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=i&63,t+=String.fromCharCode(a);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=e.charCodeAt(r++),l=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function RS(e){var t=Of(2*e.length),r,n,i=1,s=0,a=0,l;for(n=0;n<e.length;n+=i)i=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),i=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(t[s++]=a&255,t[s++]=a>>>8,a=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function LS(e){return ac(e,"binary").toString("utf8")}var lg="foo bar baz",q0=nn&&(LS(lg)==yv(lg)&&LS||RS(lg)==yv(lg)&&RS)||yv,A1=nn?function(e){return ac(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},bV=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}}(),UT=/(^\s|\s$|\n)/;function ds(e,t){return"<"+e+(t.match(UT)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function C1(e){return vs(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Tt(e,t,r){return"<"+e+(r!=null?C1(r):"")+(t!=null?(t.match(UT)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function wy(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function _V(e,t){switch(typeof e){case"string":var r=Tt("vt:lpwstr",vn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Tt((e|0)==e?"vt:i4":"vt:r8",vn(String(e)));case"boolean":return Tt("vt:bool",e?"true":"false")}if(e instanceof Date)return Tt("vt:filetime",wy(e));throw new Error("Unable to serialize "+e)}var Ji={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Vd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ia={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function SV(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,s=5;s>=0;--s)i=i*256+e[t+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function EV(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,a=n?-t:t;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(i&15)<<4|s&15,e[r+7]=i>>4|n}var DS=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,s=e[0][n].length;i<s;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},FS=nn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ac(t)})):DS(e)}:DS,MS=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(I0(e,i)));return n.join("").replace(V0,"")},F3=nn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(V0,""):MS(e,t,r)}:MS,jS=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},WT=nn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):jS(e,t,r)}:jS,BS=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(vh(e,i)));return n.join("")},rp=nn?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):BS(t,r,n)}:BS,zT=function(e,t){var r=ka(e,t);return r>0?rp(e,t+4,t+4+r-1):""},HT=zT,VT=function(e,t){var r=ka(e,t);return r>0?rp(e,t+4,t+4+r-1):""},qT=VT,GT=function(e,t){var r=2*ka(e,t);return r>0?rp(e,t+4,t+4+r-1):""},$T=GT,XT=function(t,r){var n=ka(t,r);return n>0?F3(t,r+4,r+4+n):""},YT=XT,KT=function(e,t){var r=ka(e,t);return r>0?rp(e,t+4,t+4+r):""},QT=KT,ZT=function(e,t){return SV(e,t)},Rm=ZT,M3=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};nn&&(HT=function(t,r){if(!Buffer.isBuffer(t))return zT(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},qT=function(t,r){if(!Buffer.isBuffer(t))return VT(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},$T=function(t,r){if(!Buffer.isBuffer(t))return GT(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},YT=function(t,r){if(!Buffer.isBuffer(t))return XT(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},QT=function(t,r){if(!Buffer.isBuffer(t))return KT(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Rm=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):ZT(t,r)},M3=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var vh=function(e,t){return e[t]},I0=function(e,t){return e[t+1]*256+e[t]},AV=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ka=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},rf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},CV=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function G0(e,t){var r="",n,i,s=[],a,l,u,f;switch(t){case"dbcs":if(f=this.l,nn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(I0(this,f)),f+=2;e*=2;break;case"utf8":r=rp(this,this.l,this.l+e);break;case"utf16le":e*=2,r=F3(this,this.l,this.l+e);break;case"wstr":return G0.call(this,e,"dbcs");case"lpstr-ansi":r=HT(this,this.l),e=4+ka(this,this.l);break;case"lpstr-cp":r=qT(this,this.l),e=4+ka(this,this.l);break;case"lpwstr":r=$T(this,this.l),e=4+2*ka(this,this.l);break;case"lpp4":e=4+ka(this,this.l),r=YT(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ka(this,this.l),r=QT(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(a=vh(this,this.l+e++))!==0;)s.push(sg(a));r=s.join("");break;case"_wstr":for(e=0,r="";(a=I0(this,this.l+e))!==0;)s.push(sg(a)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",f=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return a=vh(this,f),this.l=f+1,l=G0.call(this,e-u,a?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(sg(I0(this,f))),f+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return a=vh(this,f),this.l=f+1,l=G0.call(this,e-u,a?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(sg(vh(this,f))),f+=1}r=s.join("");break;default:switch(e){case 1:return n=vh(this,this.l),this.l++,n;case 2:return n=(t==="i"?AV:I0)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?rf:CV)(this,this.l),this.l+=4,n):(i=ka(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=Rm(this,this.l):i=Rm([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=WT(this,this.l,e);break}}return this.l+=e,r}var NV=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},TV=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},IV=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function kV(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)IV(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var a=t.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,NV(this,t,this.l);break;case 8:if(n=8,r==="f"){EV(this,t,this.l);break}case 16:break;case-4:n=4,TV(this,t,this.l);break}return this.l+=n,this}function JT(e,t){var r=WT(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ta(e,t){e.l=t,e.read_shift=G0,e.chk=JT,e.write_shift=kV}function gl(e,t){e.l+=t}function lt(e){var t=Of(e);return Ta(t,0),t}function da(){var e=[],t=nn?256:2048,r=function(f){var d=lt(f);return Ta(d,0),d},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(f){return n&&f<n.length-n.l?n:(i(),n=r(Math.max(f+1,t)))},a=function(){return i(),hs(e)},l=function(f){i(),n=f,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:a,_bufs:e}}function mt(e,t,r,n){var i=+t,s;if(!isNaN(i)){n||(n=SK[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=e.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var l=0;l!=4;++l)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&M3(r)&&e.push(r)}}function $0(e,t,r){var n=ga(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function US(e,t,r){var n=ga(e);return n.s=$0(n.s,t.s,r),n.e=$0(n.e,t.s,r),n}function X0(e,t){if(e.cRel&&e.c<0)for(e=ga(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ga(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=bn(e);return!e.cRel&&e.cRel!=null&&(r=RV(r)),!e.rRel&&e.rRel!=null&&(r=PV(r)),r}function bv(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ls(e.s.c)+":"+(e.e.cRel?"":"$")+Ls(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+gs(e.s.r)+":"+(e.e.rRel?"":"$")+gs(e.e.r):X0(e.s,t.biff)+":"+X0(e.e,t.biff)}function j3(e){return parseInt(OV(e),10)-1}function gs(e){return""+(e+1)}function PV(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function OV(e){return e.replace(/\$(\d+)$/,"$1")}function B3(e){for(var t=LV(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Ls(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function RV(e){return e.replace(/^([A-Z])/,"$$$1")}function LV(e){return e.replace(/^\$([A-Z])/,"$1")}function DV(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function es(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function bn(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ba(e){var t=e.indexOf(":");return t==-1?{s:es(e),e:es(e)}:{s:es(e.slice(0,t)),e:es(e.slice(t+1))}}function Pi(e,t){return typeof t>"u"||typeof t=="number"?Pi(e.s,e.e):(typeof e!="string"&&(e=bn(e)),typeof t!="string"&&(t=bn(t)),e==t?e:e+":"+t)}function zn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=e.length;for(r=0;n<s&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<s&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===s||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=s&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function WS(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=mu(e.z,r?pa(t):t)}catch{}try{return e.w=mu((e.XF||{}).numFmtId||(r?14:0),r?pa(t):t)}catch{return""+t}}function ec(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?np[e.v]||e.v:t==null?WS(e,e.v):WS(e,t))}function Hf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function eI(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,s=e||(i?[]:{}),a=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var u=typeof n.origin=="string"?es(n.origin):n.origin;a=u.r,l=u.c}s["!ref"]||(s["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=zn(s["!ref"]);f.s.c=d.s.c,f.s.r=d.s.r,f.e.c=Math.max(f.e.c,d.e.c),f.e.r=Math.max(f.e.r,d.e.r),a==-1&&(f.e.r=a=d.e.r+1)}for(var m=0;m!=t.length;++m)if(t[m]){if(!Array.isArray(t[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=t[m].length;++y)if(!(typeof t[m][y]>"u")){var v={v:t[m][y]},E=a+m,_=l+y;if(f.s.r>E&&(f.s.r=E),f.s.c>_&&(f.s.c=_),f.e.r<E&&(f.e.r=E),f.e.c<_&&(f.e.c=_),t[m][y]&&typeof t[m][y]=="object"&&!Array.isArray(t[m][y])&&!(t[m][y]instanceof Date))v=t[m][y];else if(Array.isArray(v.v)&&(v.f=t[m][y][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(n.nullError)v.t="e",v.v=0;else if(n.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=n.dateNF||fi[14],n.cellDates?(v.t="d",v.w=mu(v.z,pa(v.v))):(v.t="n",v.v=pa(v.v),v.w=mu(v.z,v.v))):v.t="s";if(i)s[E]||(s[E]=[]),s[E][_]&&s[E][_].z&&(v.z=s[E][_].z),s[E][_]=v;else{var N=bn({c:_,r:E});s[N]&&s[N].z&&(v.z=s[N].z),s[N]=v}}}return f.s.c<1e7&&(s["!ref"]=Pi(f)),s}function qd(e,t){return eI(null,e,t)}function FV(e){return e.read_shift(4,"i")}function Lo(e,t){return t||(t=lt(4)),t.write_shift(4,e),t}function Ds(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ts(e,t){var r=!1;return t==null&&(r=!0,t=lt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function MV(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function jV(e,t){return t||(t=lt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function U3(e,t){var r=e.l,n=e.read_shift(1),i=Ds(e),s=[],a={t:i,h:i};if(n&1){for(var l=e.read_shift(4),u=0;u!=l;++u)s.push(MV(e));a.r=s}else a.r=[{ich:0,ifnt:0}];return e.l=r+t,a}function BV(e,t){var r=!1;return t==null&&(r=!0,t=lt(15+4*e.t.length)),t.write_shift(1,0),ts(e.t,t),r?t.slice(0,t.l):t}var UV=U3;function WV(e,t){var r=!1;return t==null&&(r=!0,t=lt(23+4*e.t.length)),t.write_shift(1,1),ts(e.t,t),t.write_shift(4,1),jV({},t),r?t.slice(0,t.l):t}function lo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Vf(e,t){return t==null&&(t=lt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function qf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Gf(e,t){return t==null&&(t=lt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var zV=Ds,tI=ts;function W3(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Lm(e,t){var r=!1;return t==null&&(r=!0,t=lt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var HV=Ds,yy=W3,z3=Lm;function rI(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?Rm([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):rf(t,0)>>2;return r?i/100:i}function nI(e,t){t==null&&(t=lt(4));var r=0,n=0,i=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?i:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function iI(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function VV(e,t){return t||(t=lt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var $f=iI,Gd=VV;function $d(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Rf(e,t){return(t||lt(8)).write_shift(8,e,"f")}function qV(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),s=e.read_shift(2,"i"),a=e.read_shift(1),l=e.read_shift(1),u=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var f=eq[i];f&&(t.rgb=ZS(f));break;case 2:t.rgb=ZS([a,l,u]);break;case 3:t.theme=i;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function Dm(e,t){if(t||(t=lt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function GV(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function $V(e,t){t||(t=lt(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var sI=2,Ca=3,cg=11,Fm=19,ug=64,XV=65,YV=71,KV=4108,QV=4126,fs=80,zS={1:{n:"CodePage",t:sI},2:{n:"Category",t:fs},3:{n:"PresentationFormat",t:fs},4:{n:"ByteCount",t:Ca},5:{n:"LineCount",t:Ca},6:{n:"ParagraphCount",t:Ca},7:{n:"SlideCount",t:Ca},8:{n:"NoteCount",t:Ca},9:{n:"HiddenCount",t:Ca},10:{n:"MultimediaClipCount",t:Ca},11:{n:"ScaleCrop",t:cg},12:{n:"HeadingPairs",t:KV},13:{n:"TitlesOfParts",t:QV},14:{n:"Manager",t:fs},15:{n:"Company",t:fs},16:{n:"LinksUpToDate",t:cg},17:{n:"CharacterCount",t:Ca},19:{n:"SharedDoc",t:cg},22:{n:"HyperlinksChanged",t:cg},23:{n:"AppVersion",t:Ca,p:"version"},24:{n:"DigSig",t:XV},26:{n:"ContentType",t:fs},27:{n:"ContentStatus",t:fs},28:{n:"Language",t:fs},29:{n:"Version",t:fs},255:{},2147483648:{n:"Locale",t:Fm},2147483651:{n:"Behavior",t:Fm},1919054434:{}},HS={1:{n:"CodePage",t:sI},2:{n:"Title",t:fs},3:{n:"Subject",t:fs},4:{n:"Author",t:fs},5:{n:"Keywords",t:fs},6:{n:"Comments",t:fs},7:{n:"Template",t:fs},8:{n:"LastAuthor",t:fs},9:{n:"RevNumber",t:fs},10:{n:"EditTime",t:ug},11:{n:"LastPrinted",t:ug},12:{n:"CreatedDate",t:ug},13:{n:"ModifiedDate",t:ug},14:{n:"PageCount",t:Ca},15:{n:"WordCount",t:Ca},16:{n:"CharCount",t:Ca},17:{n:"Thumbnail",t:YV},18:{n:"Application",t:fs},19:{n:"DocSecurity",t:Ca},255:{},2147483648:{n:"Locale",t:Fm},2147483651:{n:"Behavior",t:Fm},1919054434:{}};function ZV(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var JV=ZV([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),eq=ga(JV),np={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},tq={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},fg={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function aI(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function oI(e,t){var r=fV(tq),n=[],i;n[n.length]=Oi,n[n.length]=Tt("Types",null,{xmlns:Ji.CT,"xmlns:xsd":Ji.xsd,"xmlns:xsi":Ji.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return Tt("Default",null,{Extension:u[0],ContentType:u[1]})}));var s=function(u){e[u]&&e[u].length>0&&(i=e[u][0],n[n.length]=Tt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:fg[u][t.bookType]||fg[u].xlsx}))},a=function(u){(e[u]||[]).forEach(function(f){n[n.length]=Tt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:fg[u][t.bookType]||fg[u].xlsx})})},l=function(u){(e[u]||[]).forEach(function(f){n[n.length]=Tt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:r[u][0]})})};return s("workbooks"),a("sheets"),a("charts"),l("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),a("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var tn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function lI(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Yh(e){var t=[Oi,Tt("Relationships",null,{xmlns:Ji.RELS})];return vs(e["!id"]).forEach(function(r){t[t.length]=Tt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function xn(e,t,r,n,i,s){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=n,i.Target=r,[tn.HLINK,tn.XPATH,tn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function rq(e){var t=[Oi];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function VS(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function nq(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function iq(e){var t=[Oi];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(VS(e[r][0],e[r][1])),t.push(nq("",e[r][0]));return t.push(VS("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function cI(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Nm.version+"</meta:generator></office:meta></office:document-meta>"}var yf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function _v(e,t,r,n,i){i[e]!=null||t==null||t===""||(i[e]=t,t=vn(t),n[n.length]=r?Tt(e,t,r):ds(e,t))}function uI(e,t){var r=t||{},n=[Oi,Tt("cp:coreProperties",null,{"xmlns:cp":Ji.CORE_PROPS,"xmlns:dc":Ji.dc,"xmlns:dcterms":Ji.dcterms,"xmlns:dcmitype":Ji.dcmitype,"xmlns:xsi":Ji.xsi})],i={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&_v("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:wy(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),e.ModifiedDate!=null&&_v("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:wy(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=yf.length;++s){var a=yf[s],l=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:e?e[a[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&_v(a[0],l,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Kh=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],fI=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function hI(e){var t=[],r=Tt;return e||(e={}),e.Application="SheetJS",t[t.length]=Oi,t[t.length]=Tt("Properties",null,{xmlns:Ji.EXT_PROPS,"xmlns:vt":Ji.vt}),Kh.forEach(function(n){if(e[n[1]]!==void 0){var i;switch(n[2]){case"string":i=vn(String(e[n[1]]));break;case"bool":i=e[n[1]]?"true":"false";break}i!==void 0&&(t[t.length]=r(n[0],i))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+vn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function dI(e){var t=[Oi,Tt("Properties",null,{xmlns:Ji.CUST_PROPS,"xmlns:vt":Ji.vt})];if(!e)return t.join("");var r=1;return vs(e).forEach(function(i){++r,t[t.length]=Tt("property",_V(e[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:vn(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var qS={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function sq(e,t){var r=[];return vs(qS).map(function(n){for(var i=0;i<yf.length;++i)if(yf[i][1]==n)return yf[i];for(i=0;i<Kh.length;++i)if(Kh[i][1]==n)return Kh[i];throw n}).forEach(function(n){if(e[n[1]]!=null){var i=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(ds(qS[n[1]]||n[1],i))}}),Tt("DocumentProperties",r.join(""),{xmlns:Ia.o})}function aq(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return e&&vs(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var a=0;a<yf.length;++a)if(s==yf[a][1])return;for(a=0;a<Kh.length;++a)if(s==Kh[a][1])return;for(a=0;a<r.length;++a)if(s==r[a])return;var l=e[s],u="string";typeof l=="number"?(u="float",l=String(l)):l===!0||l===!1?(u="boolean",l=l?"1":"0"):l=String(l),i.push(Tt(OS(s),l,{"dt:dt":u}))}}),t&&vs(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var a=t[s],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a instanceof Date?(l="dateTime.tz",a=a.toISOString()):a=String(a),i.push(Tt(OS(s),a,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Ia.o+'">'+i.join("")+"</"+n+">"}function oq(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=lt(8);return a.write_shift(4,n),a.write_shift(4,i),a}function GS(e,t){var r=lt(4),n=lt(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=lt(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=oq(t);break;case 31:case 80:for(n=lt(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return hs([r,n])}var pI=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function lq(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function $S(e,t,r){var n=lt(8),i=[],s=[],a=8,l=0,u=lt(8),f=lt(8);if(u.write_shift(4,2),u.write_shift(4,1200),f.write_shift(4,1),s.push(u),i.push(f),a+=8+u.length,!t){f=lt(8),f.write_shift(4,0),i.unshift(f);var d=[lt(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var m=e[l][0];for(u=lt(8+2*(m.length+1)+(m.length%2?0:2)),u.write_shift(4,l+2),u.write_shift(4,m.length+1),u.write_shift(0,m,"dbcs");u.l!=u.length;)u.write_shift(1,0);d.push(u)}u=hs(d),s.unshift(u),a+=8+u.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(pI.indexOf(e[l][0])>-1||fI.indexOf(e[l][0])>-1)&&e[l][1]!=null){var y=e[l][1],v=0;if(t){v=+t[e[l][0]];var E=r[v];if(E.p=="version"&&typeof y=="string"){var _=y.split(".");y=(+_[0]<<16)+(+_[1]||0)}u=GS(E.t,y)}else{var N=lq(y);N==-1&&(N=31,y=String(y)),u=GS(N,y)}s.push(u),f=lt(8),f.write_shift(4,t?v:2+l),i.push(f),a+=8+u.length}var A=8*(s.length+1);for(l=0;l<s.length;++l)i[l].write_shift(4,A),A+=s[l].length;return n.write_shift(4,a),n.write_shift(4,s.length),hs([n].concat(i).concat(s))}function XS(e,t,r,n,i,s){var a=lt(i?68:48),l=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,An.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,t,"hex"),a.write_shift(4,i?68:48);var u=$S(e,r,n);if(l.push(u),i){var f=$S(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+u.length),l.push(f)}return hs(l)}function cq(e,t){t||(t=lt(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function uq(e,t){return e.read_shift(t)===1}function Gs(e,t){return t||(t=lt(2)),t.write_shift(2,+!!e),t}function gI(e){return e.read_shift(2,"u")}function Ja(e,t){return t||(t=lt(2)),t.write_shift(2,e),t}function mI(e,t,r){return r||(r=lt(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function xI(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?e.read_shift(n,i):"";return a}function fq(e){var t=e.t||"",r=lt(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=lt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var i=[r,n];return hs(i)}function hq(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function dq(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):hq(e,n,r)}function pq(e,t,r){if(r.biff>5)return dq(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function vI(e,t,r){return r||(r=lt(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function YS(e,t){t||(t=lt(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function gq(e){var t=lt(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)t.write_shift(4,a[r]);if(s==28)n=n.slice(1),YS(n,t);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)t.write_shift(1,parseInt(a[r],16));var l=i>-1?n.slice(0,i):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),s&8&&YS(i>-1?n.slice(i+1):"",t)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)t.write_shift(1,parseInt(a[r],16));for(var u=0;n.slice(u*3,u*3+3)=="../"||n.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,n.length-3*u+1),r=0;r<n.length-3*u;++r)t.write_shift(1,n.charCodeAt(r+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Lf(e,t,r,n){return n||(n=lt(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function mq(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),s=e.read_shift(n,"i"),a=e.read_shift(n,"i");return[i,s,a]}function xq(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function wI(e,t){return t||(t=lt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function H3(e,t,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=lt(i);return s.write_shift(2,n),s.write_shift(2,t),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function vq(e,t){var r=!t||t.biff==8,n=lt(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function wq(e,t){var r=!t||t.biff>=8?2:1,n=lt(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function yq(e,t){var r=lt(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],i=0;i<e.length;++i)n[i]=fq(e[i]);var s=hs([r].concat(n));return s.parts=[r.length].concat(n.map(function(a){return a.length})),s}function bq(){var e=lt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function _q(e){var t=lt(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Sq(e,t){var r=e.name||"Arial",n=t&&t.biff==5,i=n?15+r.length:16+2*r.length,s=lt(i);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function Eq(e,t,r,n){var i=lt(10);return Lf(e,t,n,i),i.write_shift(4,r),i}function Aq(e,t,r,n,i){var s=!i||i.biff==8,a=lt(8+ +s+(1+s)*r.length);return Lf(e,t,n,a),a.write_shift(2,r.length),s&&a.write_shift(1,1),a.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),a}function Cq(e,t,r,n){var i=r&&r.biff==5;n||(n=lt(i?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(i?1:2,t.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function Nq(e,t){var r=t.biff==8||!t.biff?4:2,n=lt(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function KS(e,t,r,n){var i=r&&r.biff==5;n||(n=lt(i?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function Tq(e){var t=lt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function Iq(e,t,r,n,i,s){var a=lt(8);return Lf(e,t,n,a),mI(r,s,a),a}function kq(e,t,r,n){var i=lt(14);return Lf(e,t,n,i),Rf(r,i),i}function Pq(e,t,r){if(r.biff<8)return Oq(e,t,r);for(var n=[],i=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(mq(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function Oq(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=xI(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Rq(e){var t=lt(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)wI(e[r],t);return t}function Lq(e){var t=lt(24),r=es(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(n[i],16));return hs([t,gq(e[1])])}function Dq(e){var t=e[1].Tooltip,r=lt(10+2*(t.length+1));r.write_shift(2,2048);var n=es(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<t.length;++i)r.write_shift(2,t.charCodeAt(i));return r.write_shift(2,0),r}function Fq(e){return e||(e=lt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Mq(e,t,r){if(!r.cellStyles)return gl(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),s=e.read_shift(n),a=e.read_shift(n),l=e.read_shift(n),u=e.read_shift(2);n==2&&(e.l+=2);var f={s:i,e:s,w:a,ixfe:l,flags:u};return(r.biff>=5||!r.biff)&&(f.level=u>>8&7),f}function jq(e,t){var r=lt(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Bq(e){for(var t=lt(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function Uq(e,t,r){var n=lt(15);return sp(n,e,t),n.write_shift(8,r,"f"),n}function Wq(e,t,r){var n=lt(9);return sp(n,e,t),n.write_shift(2,r),n}var zq=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=O3({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,u){var f=[],d=Of(1);switch(u.type){case"base64":d=ko(Jl(l));break;case"binary":d=ko(l);break;case"buffer":case"array":d=l;break}Ta(d,0);var m=d.read_shift(1),y=!!(m&136),v=!1,E=!1;switch(m){case 2:break;case 3:break;case 48:v=!0,y=!0;break;case 49:v=!0,y=!0;break;case 131:break;case 139:break;case 140:E=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var _=0,N=521;m==2&&(_=d.read_shift(2)),d.l+=3,m!=2&&(_=d.read_shift(4)),_>1048576&&(_=1e6),m!=2&&(N=d.read_shift(2));var A=d.read_shift(2),C=u.codepage||1252;m!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(C=e[d[d.l]]),d.l+=1,d.l+=2),E&&(d.l+=36);for(var I=[],L={},q=Math.min(d.length,m==2?521:N-10-(v?264:0)),Q=E?32:11;d.l<q&&d[d.l]!=13;)switch(L={},L.name=Tm.utils.decode(C,d.slice(d.l,d.l+Q)).replace(/[\u0000\r\n].*$/g,""),d.l+=Q,L.type=String.fromCharCode(d.read_shift(1)),m!=2&&!E&&(L.offset=d.read_shift(4)),L.len=d.read_shift(1),m==2&&(L.offset=d.read_shift(2)),L.dec=d.read_shift(1),L.name.length&&I.push(L),m!=2&&(d.l+=E?13:14),L.type){case"B":(!v||L.len!=8)&&u.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+L.type)}if(d[d.l]!==13&&(d.l=N-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=N;var B=0,M=0;for(f[0]=[],M=0;M!=I.length;++M)f[0][M]=I[M].name;for(;_-- >0;){if(d[d.l]===42){d.l+=A;continue}for(++d.l,f[++B]=[],M=0,M=0;M!=I.length;++M){var F=d.slice(d.l,d.l+I[M].len);d.l+=I[M].len,Ta(F,0);var X=Tm.utils.decode(C,F);switch(I[M].type){case"C":X.trim().length&&(f[B][M]=X.replace(/\s+$/,""));break;case"D":X.length===8?f[B][M]=new Date(+X.slice(0,4),+X.slice(4,6)-1,+X.slice(6,8)):f[B][M]=X;break;case"F":f[B][M]=parseFloat(X.trim());break;case"+":case"I":f[B][M]=E?F.read_shift(-4,"i")^2147483648:F.read_shift(4,"i");break;case"L":switch(X.trim().toUpperCase()){case"Y":case"T":f[B][M]=!0;break;case"N":case"F":f[B][M]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+X+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));f[B][M]="##MEMO##"+(E?parseInt(X.trim(),10):F.read_shift(4));break;case"N":X=X.replace(/\u0000/g,"").trim(),X&&X!="."&&(f[B][M]=+X||0);break;case"@":f[B][M]=new Date(F.read_shift(-8,"f")-621356832e5);break;case"T":f[B][M]=new Date((F.read_shift(4)-2440588)*864e5+F.read_shift(4));break;case"Y":f[B][M]=F.read_shift(4,"i")/1e4+F.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[B][M]=-F.read_shift(-8,"f");break;case"B":if(v&&I[M].len==8){f[B][M]=F.read_shift(8,"f");break}case"G":case"P":F.l+=I[M].len;break;case"0":if(I[M].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+I[M].type)}}}if(m!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return u&&u.sheetRows&&(f=f.slice(0,u.sheetRows)),u.DBF=I,f}function n(l,u){var f=u||{};f.dateNF||(f.dateNF="yyyymmdd");var d=qd(r(l,f),f);return d["!cols"]=f.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete f.DBF,d}function i(l,u){try{return Hf(n(l,u),u)}catch(f){if(u&&u.WTF)throw f}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(l,u){var f=u||{};if(+f.codepage>=0&&_1(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var d=da(),m=Wm(l,{header:1,raw:!0,cellDates:!0}),y=m[0],v=m.slice(1),E=l["!cols"]||[],_=0,N=0,A=0,C=1;for(_=0;_<y.length;++_){if(((E[_]||{}).DBF||{}).name){y[_]=E[_].DBF.name,++A;continue}if(y[_]!=null){if(++A,typeof y[_]=="number"&&(y[_]=y[_].toString(10)),typeof y[_]!="string")throw new Error("DBF Invalid column name "+y[_]+" |"+typeof y[_]+"|");if(y.indexOf(y[_])!==_){for(N=0;N<1024;++N)if(y.indexOf(y[_]+"_"+N)==-1){y[_]+="_"+N;break}}}}var I=zn(l["!ref"]),L=[],q=[],Q=[];for(_=0;_<=I.e.c-I.s.c;++_){var B="",M="",F=0,X=[];for(N=0;N<v.length;++N)v[N][_]!=null&&X.push(v[N][_]);if(X.length==0||y[_]==null){L[_]="?";continue}for(N=0;N<X.length;++N){switch(typeof X[N]){case"number":M="B";break;case"string":M="C";break;case"boolean":M="L";break;case"object":M=X[N]instanceof Date?"D":"C";break;default:M="C"}F=Math.max(F,String(X[N]).length),B=B&&B!=M?"C":M}F>250&&(F=250),M=((E[_]||{}).DBF||{}).type,M=="C"&&E[_].DBF.len>F&&(F=E[_].DBF.len),B=="B"&&M=="N"&&(B="N",Q[_]=E[_].DBF.dec,F=E[_].DBF.len),q[_]=B=="C"||M=="N"?F:s[B]||0,C+=q[_],L[_]=B}var W=d.next(32);for(W.write_shift(4,318902576),W.write_shift(4,v.length),W.write_shift(2,296+32*A),W.write_shift(2,C),_=0;_<4;++_)W.write_shift(4,0);for(W.write_shift(4,0|(+t[bT]||3)<<8),_=0,N=0;_<y.length;++_)if(y[_]!=null){var U=d.next(32),re=(y[_].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,re,"sbcs"),U.write_shift(1,L[_]=="?"?"C":L[_],"sbcs"),U.write_shift(4,N),U.write_shift(1,q[_]||s[L[_]]||0),U.write_shift(1,Q[_]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),N+=q[_]||s[L[_]]||0}var oe=d.next(264);for(oe.write_shift(4,13),_=0;_<65;++_)oe.write_shift(4,0);for(_=0;_<v.length;++_){var le=d.next(C);for(le.write_shift(1,0),N=0;N<y.length;++N)if(y[N]!=null)switch(L[N]){case"L":le.write_shift(1,v[_][N]==null?63:v[_][N]?84:70);break;case"B":le.write_shift(8,v[_][N]||0,"f");break;case"N":var Ne="0";for(typeof v[_][N]=="number"&&(Ne=v[_][N].toFixed(Q[N]||0)),A=0;A<q[N]-Ne.length;++A)le.write_shift(1,32);le.write_shift(1,Ne,"sbcs");break;case"D":v[_][N]?(le.write_shift(4,("0000"+v[_][N].getFullYear()).slice(-4),"sbcs"),le.write_shift(2,("00"+(v[_][N].getMonth()+1)).slice(-2),"sbcs"),le.write_shift(2,("00"+v[_][N].getDate()).slice(-2),"sbcs")):le.write_shift(8,"00000000","sbcs");break;case"C":var Ae=String(v[_][N]!=null?v[_][N]:"").slice(0,q[N]);for(le.write_shift(1,Ae,"sbcs"),A=0;A<q[N]-Ae.length;++A)le.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}}(),Hq=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+vs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(y,v){var E=e[v];return typeof E=="number"?yS(E):E},n=function(y,v,E){var _=v.charCodeAt(0)-32<<4|E.charCodeAt(0)-48;return _==59?y:yS(_)};e["|"]=254;function i(y,v){switch(v.type){case"base64":return s(Jl(y),v);case"binary":return s(y,v);case"buffer":return s(nn&&Buffer.isBuffer(y)?y.toString("binary"):ep(y),v);case"array":return s(V2(y),v)}throw new Error("Unrecognized type "+v.type)}function s(y,v){var E=y.split(/[\n\r]+/),_=-1,N=-1,A=0,C=0,I=[],L=[],q=null,Q={},B=[],M=[],F=[],X=0,W;for(+v.codepage>=0&&_1(+v.codepage);A!==E.length;++A){X=0;var U=E[A].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),re=U.replace(/;;/g,"\0").split(";").map(function(Z){return Z.replace(/\u0000/g,";")}),oe=re[0],le;if(U.length>0)switch(oe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":re[1].charAt(0)=="P"&&L.push(U.slice(3).replace(/;;/g,";"));break;case"C":var Ne=!1,Ae=!1,de=!1,_e=!1,Te=-1,He=-1;for(C=1;C<re.length;++C)switch(re[C].charAt(0)){case"A":break;case"X":N=parseInt(re[C].slice(1))-1,Ae=!0;break;case"Y":for(_=parseInt(re[C].slice(1))-1,Ae||(N=0),W=I.length;W<=_;++W)I[W]=[];break;case"K":le=re[C].slice(1),le.charAt(0)==='"'?le=le.slice(1,le.length-1):le==="TRUE"?le=!0:le==="FALSE"?le=!1:isNaN(ql(le))?isNaN(E1(le).getDate())||(le=Xs(le)):(le=ql(le),q!==null&&RT(q)&&(le=MT(le))),Ne=!0;break;case"E":_e=!0;var j=WG(re[C].slice(1),{r:_,c:N});I[_][N]=[I[_][N],j];break;case"S":de=!0,I[_][N]=[I[_][N],"S5S"];break;case"G":break;case"R":Te=parseInt(re[C].slice(1))-1;break;case"C":He=parseInt(re[C].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+U)}if(Ne&&(I[_][N]&&I[_][N].length==2?I[_][N][0]=le:I[_][N]=le,q=null),de){if(_e)throw new Error("SYLK shared formula cannot have own formula");var V=Te>-1&&I[Te][He];if(!V||!V[1])throw new Error("SYLK shared formula cannot find base");I[_][N][1]=zG(V[1],{r:_-Te,c:N-He})}break;case"F":var G=0;for(C=1;C<re.length;++C)switch(re[C].charAt(0)){case"X":N=parseInt(re[C].slice(1))-1,++G;break;case"Y":for(_=parseInt(re[C].slice(1))-1,W=I.length;W<=_;++W)I[W]=[];break;case"M":X=parseInt(re[C].slice(1))/20;break;case"F":break;case"G":break;case"P":q=L[parseInt(re[C].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(F=re[C].slice(1).split(" "),W=parseInt(F[0],10);W<=parseInt(F[1],10);++W)X=parseInt(F[2],10),M[W-1]=X===0?{hidden:!0}:{wch:X},V3(M[W-1]);break;case"C":N=parseInt(re[C].slice(1))-1,M[N]||(M[N]={});break;case"R":_=parseInt(re[C].slice(1))-1,B[_]||(B[_]={}),X>0?(B[_].hpt=X,B[_].hpx=EI(X)):X===0&&(B[_].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+U)}G<1&&(q=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+U)}}return B.length>0&&(Q["!rows"]=B),M.length>0&&(Q["!cols"]=M),v&&v.sheetRows&&(I=I.slice(0,v.sheetRows)),[I,Q]}function a(y,v){var E=i(y,v),_=E[0],N=E[1],A=qd(_,v);return vs(N).forEach(function(C){A[C]=N[C]}),A}function l(y,v){return Hf(a(y,v),v)}function u(y,v,E,_){var N="C;Y"+(E+1)+";X"+(_+1)+";K";switch(y.t){case"n":N+=y.v||0,y.f&&!y.F&&(N+=";E"+G3(y.f,{r:E,c:_}));break;case"b":N+=y.v?"TRUE":"FALSE";break;case"e":N+=y.w||y.v;break;case"d":N+='"'+(y.w||y.v)+'"';break;case"s":N+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return N}function f(y,v){v.forEach(function(E,_){var N="F;W"+(_+1)+" "+(_+1)+" ";E.hidden?N+="0":(typeof E.width=="number"&&!E.wpx&&(E.wpx=Mm(E.width)),typeof E.wpx=="number"&&!E.wch&&(E.wch=jm(E.wpx)),typeof E.wch=="number"&&(N+=Math.round(E.wch))),N.charAt(N.length-1)!=" "&&y.push(N)})}function d(y,v){v.forEach(function(E,_){var N="F;";E.hidden?N+="M0;":E.hpt?N+="M"+20*E.hpt+";":E.hpx&&(N+="M"+20*Bm(E.hpx)+";"),N.length>2&&y.push(N+"R"+(_+1))})}function m(y,v){var E=["ID;PWXL;N;E"],_=[],N=zn(y["!ref"]),A,C=Array.isArray(y),I=`\r
`;E.push("P;PGeneral"),E.push("F;P0;DG0G8;M255"),y["!cols"]&&f(E,y["!cols"]),y["!rows"]&&d(E,y["!rows"]),E.push("B;Y"+(N.e.r-N.s.r+1)+";X"+(N.e.c-N.s.c+1)+";D"+[N.s.c,N.s.r,N.e.c,N.e.r].join(" "));for(var L=N.s.r;L<=N.e.r;++L)for(var q=N.s.c;q<=N.e.c;++q){var Q=bn({r:L,c:q});A=C?(y[L]||[])[q]:y[Q],!(!A||A.v==null&&(!A.f||A.F))&&_.push(u(A,y,L,q))}return E.join(I)+I+_.join(I)+I+"E"+I}return{to_workbook:l,to_sheet:a,from_sheet:m}}(),Vq=function(){function e(s,a){switch(a.type){case"base64":return t(Jl(s),a);case"binary":return t(s,a);case"buffer":return t(nn&&Buffer.isBuffer(s)?s.toString("binary"):ep(s),a);case"array":return t(V2(s),a)}throw new Error("Unrecognized type "+a.type)}function t(s,a){for(var l=s.split(`
`),u=-1,f=-1,d=0,m=[];d!==l.length;++d){if(l[d].trim()==="BOT"){m[++u]=[],f=0;continue}if(!(u<0)){var y=l[d].trim().split(","),v=y[0],E=y[1];++d;for(var _=l[d]||"";(_.match(/["]/g)||[]).length&1&&d<l.length-1;)_+=`
`+l[++d];switch(_=_.trim(),+v){case-1:if(_==="BOT"){m[++u]=[],f=0;continue}else if(_!=="EOD")throw new Error("Unrecognized DIF special command "+_);break;case 0:_==="TRUE"?m[u][f]=!0:_==="FALSE"?m[u][f]=!1:isNaN(ql(E))?isNaN(E1(E).getDate())?m[u][f]=E:m[u][f]=Xs(E):m[u][f]=ql(E),++f;break;case 1:_=_.slice(1,_.length-1),_=_.replace(/""/g,'"'),_&&_.match(/^=".*"$/)&&(_=_.slice(2,-1)),m[u][f++]=_!==""?_:null;break}if(_==="EOD")break}}return a&&a.sheetRows&&(m=m.slice(0,a.sheetRows)),m}function r(s,a){return qd(e(s,a),a)}function n(s,a){return Hf(r(s,a),a)}var i=function(){var s=function(u,f,d,m,y){u.push(f),u.push(d+","+m),u.push('"'+y.replace(/"/g,'""')+'"')},a=function(u,f,d,m){u.push(f+","+d),u.push(f==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(u){var f=[],d=zn(u["!ref"]),m,y=Array.isArray(u);s(f,"TABLE",0,1,"sheetjs"),s(f,"VECTORS",0,d.e.r-d.s.r+1,""),s(f,"TUPLES",0,d.e.c-d.s.c+1,""),s(f,"DATA",0,0,"");for(var v=d.s.r;v<=d.e.r;++v){a(f,-1,0,"BOT");for(var E=d.s.c;E<=d.e.c;++E){var _=bn({r:v,c:E});if(m=y?(u[v]||[])[E]:u[_],!m){a(f,1,0,"");continue}switch(m.t){case"n":var N=m.w;!N&&m.v!=null&&(N=m.v),N==null?m.f&&!m.F?a(f,1,0,"="+m.f):a(f,1,0,""):a(f,0,N,"V");break;case"b":a(f,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":a(f,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=mu(m.z||fi[14],pa(Xs(m.v)))),a(f,0,m.w,"V");break;default:a(f,1,0,"")}}}a(f,-1,0,"EOD");var A=`\r
`,C=f.join(A);return C}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),yI=function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(m,y){for(var v=m.split(`
`),E=-1,_=-1,N=0,A=[];N!==v.length;++N){var C=v[N].trim().split(":");if(C[0]==="cell"){var I=es(C[1]);if(A.length<=I.r)for(E=A.length;E<=I.r;++E)A[E]||(A[E]=[]);switch(E=I.r,_=I.c,C[2]){case"t":A[E][_]=e(C[3]);break;case"v":A[E][_]=+C[3];break;case"vtf":var L=C[C.length-1];case"vtc":switch(C[3]){case"nl":A[E][_]=!!+C[4];break;default:A[E][_]=+C[4];break}C[2]=="vtf"&&(A[E][_]=[A[E][_],L])}}}return y&&y.sheetRows&&(A=A.slice(0,y.sheetRows)),A}function n(m,y){return qd(r(m,y),y)}function i(m,y){return Hf(n(m,y),y)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function f(m){if(!m||!m["!ref"])return"";for(var y=[],v=[],E,_="",N=Ba(m["!ref"]),A=Array.isArray(m),C=N.s.r;C<=N.e.r;++C)for(var I=N.s.c;I<=N.e.c;++I)if(_=bn({r:C,c:I}),E=A?(m[C]||[])[I]:m[_],!(!E||E.v==null||E.t==="z")){switch(v=["cell",_,"t"],E.t){case"s":case"str":v.push(t(E.v));break;case"n":E.f?(v[2]="vtf",v[3]="n",v[4]=E.v,v[5]=t(E.f)):(v[2]="v",v[3]=E.v);break;case"b":v[2]="vt"+(E.f?"f":"c"),v[3]="nl",v[4]=E.v?"1":"0",v[5]=t(E.f||(E.v?"TRUE":"FALSE"));break;case"d":var L=pa(Xs(E.v));v[2]="vtc",v[3]="nd",v[4]=""+L,v[5]=E.w||mu(E.z||fi[14],L);break;case"e":continue}y.push(v.join(":"))}return y.push("sheet:c:"+(N.e.c-N.s.c+1)+":r:"+(N.e.r-N.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function d(m){return[s,a,l,a,f(m),u].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:d}}(),qq=function(){function e(d,m,y,v,E){E.raw?m[y][v]=d:d===""||(d==="TRUE"?m[y][v]=!0:d==="FALSE"?m[y][v]=!1:isNaN(ql(d))?isNaN(E1(d).getDate())?m[y][v]=d:m[y][v]=Xs(d):m[y][v]=ql(d))}function t(d,m){var y=m||{},v=[];if(!d||d.length===0)return v;for(var E=d.split(/[\r\n]/),_=E.length-1;_>=0&&E[_].length===0;)--_;for(var N=10,A=0,C=0;C<=_;++C)A=E[C].indexOf(" "),A==-1?A=E[C].length:A++,N=Math.max(N,A);for(C=0;C<=_;++C){v[C]=[];var I=0;for(e(E[C].slice(0,N).trim(),v,C,I,y),I=1;I<=(E[C].length-N)/10+1;++I)e(E[C].slice(N+(I-1)*10,N+I*10).trim(),v,C,I,y)}return y.sheetRows&&(v=v.slice(0,y.sheetRows)),v}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(d){for(var m={},y=!1,v=0,E=0;v<d.length;++v)(E=d.charCodeAt(v))==34?y=!y:!y&&E in r&&(m[E]=(m[E]||0)+1);E=[];for(v in m)Object.prototype.hasOwnProperty.call(m,v)&&E.push([m[v],v]);if(!E.length){m=n;for(v in m)Object.prototype.hasOwnProperty.call(m,v)&&E.push([m[v],v])}return E.sort(function(_,N){return _[0]-N[0]||n[_[1]]-n[N[1]]}),r[E.pop()[1]]||44}function s(d,m){var y=m||{},v="",E=y.dense?[]:{},_={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(v=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(v=d.charAt(4),d=d.slice(6)):v=i(d.slice(0,1024)):y&&y.FS?v=y.FS:v=i(d.slice(0,1024));var N=0,A=0,C=0,I=0,L=0,q=v.charCodeAt(0),Q=!1,B=0,M=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var F=y.dateNF!=null?oV(y.dateNF):null;function X(){var W=d.slice(I,L),U={};if(W.charAt(0)=='"'&&W.charAt(W.length-1)=='"'&&(W=W.slice(1,-1).replace(/""/g,'"')),W.length===0)U.t="z";else if(y.raw)U.t="s",U.v=W;else if(W.trim().length===0)U.t="s",U.v=W;else if(W.charCodeAt(0)==61)W.charCodeAt(1)==34&&W.charCodeAt(W.length-1)==34?(U.t="s",U.v=W.slice(2,-1).replace(/""/g,'"')):HG(W)?(U.t="n",U.f=W.slice(1)):(U.t="s",U.v=W);else if(W=="TRUE")U.t="b",U.v=!0;else if(W=="FALSE")U.t="b",U.v=!1;else if(!isNaN(C=ql(W)))U.t="n",y.cellText!==!1&&(U.w=W),U.v=C;else if(!isNaN(E1(W).getDate())||F&&W.match(F)){U.z=y.dateNF||fi[14];var re=0;F&&W.match(F)&&(W=lV(W,y.dateNF,W.match(F)||[]),re=1),y.cellDates?(U.t="d",U.v=Xs(W,re)):(U.t="n",U.v=pa(Xs(W,re))),y.cellText!==!1&&(U.w=mu(U.z,U.v instanceof Date?pa(U.v):U.v)),y.cellNF||delete U.z}else U.t="s",U.v=W;if(U.t=="z"||(y.dense?(E[N]||(E[N]=[]),E[N][A]=U):E[bn({c:A,r:N})]=U),I=L+1,M=d.charCodeAt(I),_.e.c<A&&(_.e.c=A),_.e.r<N&&(_.e.r=N),B==q)++A;else if(A=0,++N,y.sheetRows&&y.sheetRows<=N)return!0}e:for(;L<d.length;++L)switch(B=d.charCodeAt(L)){case 34:M===34&&(Q=!Q);break;case q:case 10:case 13:if(!Q&&X())break e;break}return L-I>0&&X(),E["!ref"]=Pi(_),E}function a(d,m){return!(m&&m.PRN)||m.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,m):qd(t(d,m),m)}function l(d,m){var y="",v=m.type=="string"?[0,0,0,0]:nQ(d,m);switch(m.type){case"base64":y=Jl(d);break;case"binary":y=d;break;case"buffer":m.codepage==65001?y=d.toString("utf8"):m.codepage&&typeof Tm<"u"||(y=nn&&Buffer.isBuffer(d)?d.toString("binary"):ep(d));break;case"array":y=V2(d);break;case"string":y=d;break;default:throw new Error("Unrecognized type "+m.type)}return v[0]==239&&v[1]==187&&v[2]==191?y=q0(y.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?y=q0(y):m.type=="binary"&&typeof Tm<"u",y.slice(0,19)=="socialcalc:version:"?yI.to_sheet(m.type=="string"?y:q0(y),m):a(y,m)}function u(d,m){return Hf(l(d,m),m)}function f(d){for(var m=[],y=zn(d["!ref"]),v,E=Array.isArray(d),_=y.s.r;_<=y.e.r;++_){for(var N=[],A=y.s.c;A<=y.e.c;++A){var C=bn({r:_,c:A});if(v=E?(d[_]||[])[A]:d[C],!v||v.v==null){N.push("          ");continue}for(var I=(v.w||(ec(v),v.w)||"").slice(0,10);I.length<10;)I+=" ";N.push(I+(A===0?" ":""))}m.push(N.join(""))}return m.join(`
`)}return{to_workbook:u,to_sheet:l,from_sheet:f}}(),QS=function(){function e(j,V,G){if(j){Ta(j,j.l||0);for(var Z=G.Enum||Te;j.l<j.length;){var ie=j.read_shift(2),Se=Z[ie]||Z[65535],be=j.read_shift(2),Ce=j.l+be,Pe=Se.f&&Se.f(j,be,G);if(j.l=Ce,V(Pe,Se,ie))return}}}function t(j,V){switch(V.type){case"base64":return r(ko(Jl(j)),V);case"binary":return r(ko(j),V);case"buffer":case"array":return r(j,V)}throw"Unsupported type "+V.type}function r(j,V){if(!j)return j;var G=V||{},Z=G.dense?[]:{},ie="Sheet1",Se="",be=0,Ce={},Pe=[],Re=[],Ge={s:{r:0,c:0},e:{r:0,c:0}},Qe=G.sheetRows||0;if(j[2]==0&&(j[3]==8||j[3]==9)&&j.length>=16&&j[14]==5&&j[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(j[2]==2)G.Enum=Te,e(j,function(rt,nt,qe){switch(qe){case 0:G.vers=rt,rt>=4096&&(G.qpro=!0);break;case 6:Ge=rt;break;case 204:rt&&(Se=rt);break;case 222:Se=rt;break;case 15:case 51:G.qpro||(rt[1].v=rt[1].v.slice(1));case 13:case 14:case 16:qe==14&&(rt[2]&112)==112&&(rt[2]&15)>1&&(rt[2]&15)<15&&(rt[1].z=G.dateNF||fi[14],G.cellDates&&(rt[1].t="d",rt[1].v=MT(rt[1].v))),G.qpro&&rt[3]>be&&(Z["!ref"]=Pi(Ge),Ce[ie]=Z,Pe.push(ie),Z=G.dense?[]:{},Ge={s:{r:0,c:0},e:{r:0,c:0}},be=rt[3],ie=Se||"Sheet"+(be+1),Se="");var yt=G.dense?(Z[rt[0].r]||[])[rt[0].c]:Z[bn(rt[0])];if(yt){yt.t=rt[1].t,yt.v=rt[1].v,rt[1].z!=null&&(yt.z=rt[1].z),rt[1].f!=null&&(yt.f=rt[1].f);break}G.dense?(Z[rt[0].r]||(Z[rt[0].r]=[]),Z[rt[0].r][rt[0].c]=rt[1]):Z[bn(rt[0])]=rt[1];break}},G);else if(j[2]==26||j[2]==14)G.Enum=He,j[2]==14&&(G.qpro=!0,j.l=0),e(j,function(rt,nt,qe){switch(qe){case 204:ie=rt;break;case 22:rt[1].v=rt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(rt[3]>be&&(Z["!ref"]=Pi(Ge),Ce[ie]=Z,Pe.push(ie),Z=G.dense?[]:{},Ge={s:{r:0,c:0},e:{r:0,c:0}},be=rt[3],ie="Sheet"+(be+1)),Qe>0&&rt[0].r>=Qe)break;G.dense?(Z[rt[0].r]||(Z[rt[0].r]=[]),Z[rt[0].r][rt[0].c]=rt[1]):Z[bn(rt[0])]=rt[1],Ge.e.c<rt[0].c&&(Ge.e.c=rt[0].c),Ge.e.r<rt[0].r&&(Ge.e.r=rt[0].r);break;case 27:rt[14e3]&&(Re[rt[14e3][0]]=rt[14e3][1]);break;case 1537:Re[rt[0]]=rt[1],rt[0]==be&&(ie=rt[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+j[2]);if(Z["!ref"]=Pi(Ge),Ce[Se||ie]=Z,Pe.push(Se||ie),!Re.length)return{SheetNames:Pe,Sheets:Ce};for(var ct={},Ue=[],pe=0;pe<Re.length;++pe)Ce[Pe[pe]]?(Ue.push(Re[pe]||Pe[pe]),ct[Re[pe]]=Ce[Re[pe]]||Ce[Pe[pe]]):(Ue.push(Re[pe]),ct[Re[pe]]={"!ref":"A1"});return{SheetNames:Ue,Sheets:ct}}function n(j,V){var G=V||{};if(+G.codepage>=0&&_1(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var Z=da(),ie=zn(j["!ref"]),Se=Array.isArray(j),be=[];kt(Z,0,s(1030)),kt(Z,6,u(ie));for(var Ce=Math.min(ie.e.r,8191),Pe=ie.s.r;Pe<=Ce;++Pe)for(var Re=gs(Pe),Ge=ie.s.c;Ge<=ie.e.c;++Ge){Pe===ie.s.r&&(be[Ge]=Ls(Ge));var Qe=be[Ge]+Re,ct=Se?(j[Pe]||[])[Ge]:j[Qe];if(!(!ct||ct.t=="z"))if(ct.t=="n")(ct.v|0)==ct.v&&ct.v>=-32768&&ct.v<=32767?kt(Z,13,v(Pe,Ge,ct.v)):kt(Z,14,_(Pe,Ge,ct.v));else{var Ue=ec(ct);kt(Z,15,m(Pe,Ge,Ue.slice(0,239)))}}return kt(Z,1),Z.end()}function i(j,V){var G=V||{};if(+G.codepage>=0&&_1(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var Z=da();kt(Z,0,a(j));for(var ie=0,Se=0;ie<j.SheetNames.length;++ie)(j.Sheets[j.SheetNames[ie]]||{})["!ref"]&&kt(Z,27,_e(j.SheetNames[ie],Se++));var be=0;for(ie=0;ie<j.SheetNames.length;++ie){var Ce=j.Sheets[j.SheetNames[ie]];if(!(!Ce||!Ce["!ref"])){for(var Pe=zn(Ce["!ref"]),Re=Array.isArray(Ce),Ge=[],Qe=Math.min(Pe.e.r,8191),ct=Pe.s.r;ct<=Qe;++ct)for(var Ue=gs(ct),pe=Pe.s.c;pe<=Pe.e.c;++pe){ct===Pe.s.r&&(Ge[pe]=Ls(pe));var rt=Ge[pe]+Ue,nt=Re?(Ce[ct]||[])[pe]:Ce[rt];if(!(!nt||nt.t=="z"))if(nt.t=="n")kt(Z,23,X(ct,pe,be,nt.v));else{var qe=ec(nt);kt(Z,22,B(ct,pe,be,qe.slice(0,239)))}}++be}}return kt(Z,1),Z.end()}function s(j){var V=lt(2);return V.write_shift(2,j),V}function a(j){var V=lt(26);V.write_shift(2,4096),V.write_shift(2,4),V.write_shift(4,0);for(var G=0,Z=0,ie=0,Se=0;Se<j.SheetNames.length;++Se){var be=j.SheetNames[Se],Ce=j.Sheets[be];if(!(!Ce||!Ce["!ref"])){++ie;var Pe=Ba(Ce["!ref"]);G<Pe.e.r&&(G=Pe.e.r),Z<Pe.e.c&&(Z=Pe.e.c)}}return G>8191&&(G=8191),V.write_shift(2,G),V.write_shift(1,ie),V.write_shift(1,Z),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(1,1),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(4,0),V}function l(j,V,G){var Z={s:{c:0,r:0},e:{c:0,r:0}};return V==8&&G.qpro?(Z.s.c=j.read_shift(1),j.l++,Z.s.r=j.read_shift(2),Z.e.c=j.read_shift(1),j.l++,Z.e.r=j.read_shift(2),Z):(Z.s.c=j.read_shift(2),Z.s.r=j.read_shift(2),V==12&&G.qpro&&(j.l+=2),Z.e.c=j.read_shift(2),Z.e.r=j.read_shift(2),V==12&&G.qpro&&(j.l+=2),Z.s.c==65535&&(Z.s.c=Z.e.c=Z.s.r=Z.e.r=0),Z)}function u(j){var V=lt(8);return V.write_shift(2,j.s.c),V.write_shift(2,j.s.r),V.write_shift(2,j.e.c),V.write_shift(2,j.e.r),V}function f(j,V,G){var Z=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(Z[0].c=j.read_shift(1),Z[3]=j.read_shift(1),Z[0].r=j.read_shift(2),j.l+=2):(Z[2]=j.read_shift(1),Z[0].c=j.read_shift(2),Z[0].r=j.read_shift(2)),Z}function d(j,V,G){var Z=j.l+V,ie=f(j,V,G);if(ie[1].t="s",G.vers==20768){j.l++;var Se=j.read_shift(1);return ie[1].v=j.read_shift(Se,"utf8"),ie}return G.qpro&&j.l++,ie[1].v=j.read_shift(Z-j.l,"cstr"),ie}function m(j,V,G){var Z=lt(7+G.length);Z.write_shift(1,255),Z.write_shift(2,V),Z.write_shift(2,j),Z.write_shift(1,39);for(var ie=0;ie<Z.length;++ie){var Se=G.charCodeAt(ie);Z.write_shift(1,Se>=128?95:Se)}return Z.write_shift(1,0),Z}function y(j,V,G){var Z=f(j,V,G);return Z[1].v=j.read_shift(2,"i"),Z}function v(j,V,G){var Z=lt(7);return Z.write_shift(1,255),Z.write_shift(2,V),Z.write_shift(2,j),Z.write_shift(2,G,"i"),Z}function E(j,V,G){var Z=f(j,V,G);return Z[1].v=j.read_shift(8,"f"),Z}function _(j,V,G){var Z=lt(13);return Z.write_shift(1,255),Z.write_shift(2,V),Z.write_shift(2,j),Z.write_shift(8,G,"f"),Z}function N(j,V,G){var Z=j.l+V,ie=f(j,V,G);if(ie[1].v=j.read_shift(8,"f"),G.qpro)j.l=Z;else{var Se=j.read_shift(2);L(j.slice(j.l,j.l+Se),ie),j.l+=Se}return ie}function A(j,V,G){var Z=V&32768;return V&=-32769,V=(Z?j:0)+(V>=8192?V-16384:V),(Z?"":"$")+(G?Ls(V):gs(V))}var C={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},I=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function L(j,V){Ta(j,0);for(var G=[],Z=0,ie="",Se="",be="",Ce="";j.l<j.length;){var Pe=j[j.l++];switch(Pe){case 0:G.push(j.read_shift(8,"f"));break;case 1:Se=A(V[0].c,j.read_shift(2),!0),ie=A(V[0].r,j.read_shift(2),!1),G.push(Se+ie);break;case 2:{var Re=A(V[0].c,j.read_shift(2),!0),Ge=A(V[0].r,j.read_shift(2),!1);Se=A(V[0].c,j.read_shift(2),!0),ie=A(V[0].r,j.read_shift(2),!1),G.push(Re+Ge+":"+Se+ie)}break;case 3:if(j.l<j.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(j.read_shift(2));break;case 6:{for(var Qe="";Pe=j[j.l++];)Qe+=String.fromCharCode(Pe);G.push('"'+Qe.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:Ce=G.pop(),be=G.pop(),G.push(["AND","OR"][Pe-20]+"("+be+","+Ce+")");break;default:if(Pe<32&&I[Pe])Ce=G.pop(),be=G.pop(),G.push(be+I[Pe]+Ce);else if(C[Pe]){if(Z=C[Pe][1],Z==69&&(Z=j[j.l++]),Z>G.length){console.error("WK1 bad formula parse 0x"+Pe.toString(16)+":|"+G.join("|")+"|");return}var ct=G.slice(-Z);G.length-=Z,G.push(C[Pe][0]+"("+ct.join(",")+")")}else return Pe<=7?console.error("WK1 invalid opcode "+Pe.toString(16)):Pe<=24?console.error("WK1 unsupported op "+Pe.toString(16)):Pe<=30?console.error("WK1 invalid opcode "+Pe.toString(16)):Pe<=115?console.error("WK1 unsupported function opcode "+Pe.toString(16)):console.error("WK1 unrecognized opcode "+Pe.toString(16))}}G.length==1?V[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function q(j){var V=[{c:0,r:0},{t:"n",v:0},0];return V[0].r=j.read_shift(2),V[3]=j[j.l++],V[0].c=j[j.l++],V}function Q(j,V){var G=q(j);return G[1].t="s",G[1].v=j.read_shift(V-4,"cstr"),G}function B(j,V,G,Z){var ie=lt(6+Z.length);ie.write_shift(2,j),ie.write_shift(1,G),ie.write_shift(1,V),ie.write_shift(1,39);for(var Se=0;Se<Z.length;++Se){var be=Z.charCodeAt(Se);ie.write_shift(1,be>=128?95:be)}return ie.write_shift(1,0),ie}function M(j,V){var G=q(j);G[1].v=j.read_shift(2);var Z=G[1].v>>1;if(G[1].v&1)switch(Z&7){case 0:Z=(Z>>3)*5e3;break;case 1:Z=(Z>>3)*500;break;case 2:Z=(Z>>3)/20;break;case 3:Z=(Z>>3)/200;break;case 4:Z=(Z>>3)/2e3;break;case 5:Z=(Z>>3)/2e4;break;case 6:Z=(Z>>3)/16;break;case 7:Z=(Z>>3)/64;break}return G[1].v=Z,G}function F(j,V){var G=q(j),Z=j.read_shift(4),ie=j.read_shift(4),Se=j.read_shift(2);if(Se==65535)return Z===0&&ie===3221225472?(G[1].t="e",G[1].v=15):Z===0&&ie===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var be=Se&32768;return Se=(Se&32767)-16446,G[1].v=(1-be*2)*(ie*Math.pow(2,Se+32)+Z*Math.pow(2,Se)),G}function X(j,V,G,Z){var ie=lt(14);if(ie.write_shift(2,j),ie.write_shift(1,G),ie.write_shift(1,V),Z==0)return ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(2,65535),ie;var Se=0,be=0,Ce=0,Pe=0;return Z<0&&(Se=1,Z=-Z),be=Math.log2(Z)|0,Z/=Math.pow(2,be-31),Pe=Z>>>0,Pe&2147483648||(Z/=2,++be,Pe=Z>>>0),Z-=Pe,Pe|=2147483648,Pe>>>=0,Z*=Math.pow(2,32),Ce=Z>>>0,ie.write_shift(4,Ce),ie.write_shift(4,Pe),be+=16383+(Se?32768:0),ie.write_shift(2,be),ie}function W(j,V){var G=F(j);return j.l+=V-14,G}function U(j,V){var G=q(j),Z=j.read_shift(4);return G[1].v=Z>>6,G}function re(j,V){var G=q(j),Z=j.read_shift(8,"f");return G[1].v=Z,G}function oe(j,V){var G=re(j);return j.l+=V-10,G}function le(j,V){return j[j.l+V-1]==0?j.read_shift(V,"cstr"):""}function Ne(j,V){var G=j[j.l++];G>V-1&&(G=V-1);for(var Z="";Z.length<G;)Z+=String.fromCharCode(j[j.l++]);return Z}function Ae(j,V,G){if(!(!G.qpro||V<21)){var Z=j.read_shift(1);j.l+=17,j.l+=1,j.l+=2;var ie=j.read_shift(V-21,"cstr");return[Z,ie]}}function de(j,V){for(var G={},Z=j.l+V;j.l<Z;){var ie=j.read_shift(2);if(ie==14e3){for(G[ie]=[0,""],G[ie][0]=j.read_shift(2);j[j.l];)G[ie][1]+=String.fromCharCode(j[j.l]),j.l++;j.l++}}return G}function _e(j,V){var G=lt(5+j.length);G.write_shift(2,14e3),G.write_shift(2,V);for(var Z=0;Z<j.length;++Z){var ie=j.charCodeAt(Z);G[G.l++]=ie>127?95:ie}return G[G.l++]=0,G}var Te={0:{n:"BOF",f:gI},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:E},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:N},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:le},222:{n:"SHEETNAMELP",f:Ne},65535:{n:""}},He={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:Q},23:{n:"NUMBER17",f:F},24:{n:"NUMBER18",f:M},25:{n:"FORMULA19",f:W},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:de},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:re},40:{n:"FORMULA28",f:oe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:le},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ae},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}}(),Gq=/^\s|\s$|[\t\n\r]/;function bI(e,t){if(!t.bookSST)return"";var r=[Oi];r[r.length]=Tt("sst",null,{xmlns:Vd[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var i=e[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(Gq)&&(s+=' xml:space="preserve"'),s+=">"+vn(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function $q(e){return[e.read_shift(4),e.read_shift(4)]}function Xq(e,t){return t||(t=lt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Yq=BV;function Kq(e){var t=da();mt(t,159,Xq(e));for(var r=0;r<e.length;++r)mt(t,19,Yq(e[r]));return mt(t,160),t.end()}function Qq(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function _I(e){var t=0,r,n=Qq(e),i=n.length+1,s,a,l,u,f;for(r=Of(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)a=r[s],l=t&16384?1:0,u=t<<1&32767,f=l|u,t=f^a;return t^52811}var Zq=function(){function e(i,s){switch(s.type){case"base64":return t(Jl(i),s);case"binary":return t(i,s);case"buffer":return t(nn&&Buffer.isBuffer(i)?i.toString("binary"):ep(i),s);case"array":return t(V2(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){var a=s||{},l=a.dense?[]:{},u=i.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(d,m){Array.isArray(l)&&(l[m]=[]);for(var y=/\\\w+\b/g,v=0,E,_=-1;E=y.exec(d);){switch(E[0]){case"\\cell":var N=d.slice(v,y.lastIndex-E[0].length);if(N[0]==" "&&(N=N.slice(1)),++_,N.length){var A={v:N,t:"s"};Array.isArray(l)?l[m][_]=A:l[bn({r:m,c:_})]=A}break}v=y.lastIndex}_>f.e.c&&(f.e.c=_)}),l["!ref"]=Pi(f),l}function r(i,s){return Hf(e(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=zn(i["!ref"]),l,u=Array.isArray(i),f=a.s.r;f<=a.e.r;++f){s.push("\\trowd\\trautofit1");for(var d=a.s.c;d<=a.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=a.s.c;d<=a.e.c;++d){var m=bn({r:f,c:d});l=u?(i[f]||[])[d]:i[m],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(ec(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function ZS(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var Jq=6,Gl=Jq;function Mm(e){return Math.floor((e+Math.round(128/Gl)/256)*Gl)}function jm(e){return Math.floor((e-5)/Gl*100+.5)/100}function by(e){return Math.round((e*Gl+5)/Gl*256)/256}function V3(e){e.width?(e.wpx=Mm(e.width),e.wch=jm(e.wpx),e.MDW=Gl):e.wpx?(e.wch=jm(e.wpx),e.width=by(e.wch),e.MDW=Gl):typeof e.wch=="number"&&(e.width=by(e.wch),e.wpx=Mm(e.width),e.MDW=Gl),e.customWidth&&delete e.customWidth}var eG=96,SI=eG;function Bm(e){return e*96/SI}function EI(e){return e*SI/96}function tG(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Tt("numFmt",null,{numFmtId:n,formatCode:vn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Tt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function rG(e){var t=[];return t[t.length]=Tt("cellXfs",null),e.forEach(function(r){t[t.length]=Tt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Tt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function AI(e,t){var r=[Oi,Tt("styleSheet",null,{xmlns:Vd[0],"xmlns:vt":Ji.vt})],n;return e.SSF&&(n=tG(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=rG(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function nG(e,t){var r=e.read_shift(2),n=Ds(e);return[r,n]}function iG(e,t,r){r||(r=lt(6+4*t.length)),r.write_shift(2,e),ts(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function sG(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=GV(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=e.read_shift(1);a!=0&&(n.underline=a);var l=e.read_shift(1);l>0&&(n.family=l);var u=e.read_shift(1);switch(u>0&&(n.charset=u),e.l++,n.color=qV(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ds(e),n}function aG(e,t){t||(t=lt(25+4*32)),t.write_shift(2,e.sz*20),$V(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Dm(e.color,t);var n=0;return n=2,t.write_shift(1,n),ts(e.name,t),t.length>t.l?t.slice(0,t.l):t}var oG=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Sv,lG=gl;function JS(e,t){t||(t=lt(4*3+8*7+16*1)),Sv||(Sv=O3(oG));var r=Sv[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Dm({auto:1},t),Dm({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function cG(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}function CI(e,t,r){r||(r=lt(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function x0(e,t){return t||(t=lt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var uG=gl;function fG(e,t){return t||(t=lt(51)),t.write_shift(1,0),x0(null,t),x0(null,t),x0(null,t),x0(null,t),x0(null,t),t.length>t.l?t.slice(0,t.l):t}function hG(e,t){return t||(t=lt(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Lm(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function dG(e,t,r){var n=lt(2052);return n.write_shift(4,e),Lm(t,n),Lm(r,n),n.length>n.l?n.slice(0,n.l):n}function pG(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&++r}),r!=0&&(mt(e,615,Lo(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&mt(e,44,iG(i,t[i]))}),mt(e,616))}}function gG(e){var t=1;mt(e,611,Lo(t)),mt(e,43,aG({sz:12,color:{theme:1},name:"Calibri",family:2})),mt(e,612)}function mG(e){var t=2;mt(e,603,Lo(t)),mt(e,45,JS({patternType:"none"})),mt(e,45,JS({patternType:"gray125"})),mt(e,604)}function xG(e){var t=1;mt(e,613,Lo(t)),mt(e,46,fG()),mt(e,614)}function vG(e){var t=1;mt(e,626,Lo(t)),mt(e,47,CI({numFmtId:0},65535)),mt(e,627)}function wG(e,t){mt(e,617,Lo(t.length)),t.forEach(function(r){mt(e,47,CI(r,0))}),mt(e,618)}function yG(e){var t=1;mt(e,619,Lo(t)),mt(e,48,hG({xfId:0,name:"Normal"})),mt(e,620)}function bG(e){var t=0;mt(e,505,Lo(t)),mt(e,506)}function _G(e){var t=0;mt(e,508,dG(t,"TableStyleMedium9","PivotStyleMedium4")),mt(e,509)}function SG(e,t){var r=da();return mt(r,278),pG(r,e.SSF),gG(r),mG(r),xG(r),vG(r),wG(r,t.cellXfs),yG(r),bG(r),_G(r),mt(r,279),r.end()}function NI(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Oi];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function EG(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ds(e)}}function AG(e){var t=lt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),ts(e.name,t),t.slice(0,t.l)}function CG(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function NG(e){var t=lt(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function TG(e,t){var r=lt(8+2*t.length);return r.write_shift(4,e),ts(t,r),r.slice(0,r.l)}function IG(e){return e.l+=4,e.read_shift(4)!=0}function kG(e,t){var r=lt(8);return r.write_shift(4,e),r.write_shift(4,1),r}function PG(){var e=da();return mt(e,332),mt(e,334,Lo(1)),mt(e,335,AG({name:"XLDAPR",version:12e4,flags:3496657072})),mt(e,336),mt(e,339,TG(1,"XLDAPR")),mt(e,52),mt(e,35,Lo(514)),mt(e,4096,Lo(0)),mt(e,4097,Ja(1)),mt(e,36),mt(e,53),mt(e,340),mt(e,337,kG(1)),mt(e,51,NG([[1,0]])),mt(e,338),mt(e,333),e.end()}function TI(){var e=[Oi];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function OG(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=bn(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var Rh=1024;function II(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[Tt("xml",null,{"xmlns:v":Ia.v,"xmlns:o":Ia.o,"xmlns:x":Ia.x,"xmlns:mv":Ia.mv}).replace(/\/>/,">"),Tt("o:shapelayout",Tt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Tt("v:shapetype",[Tt("v:stroke",null,{joinstyle:"miter"}),Tt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Rh<e*1e3;)Rh+=1e3;return t.forEach(function(s){var a=es(s[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var u=l.type=="gradient"?Tt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Tt("v:fill",u,l),d={on:"t",obscured:"t"};++Rh,i=i.concat(["<v:shape"+C1({id:"_x0000_s"+Rh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Tt("v:shadow",null,d),Tt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ds("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),ds("x:AutoFill","False"),ds("x:Row",String(a.r)),ds("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function kI(e){var t=[Oi,Tt("comments",null,{xmlns:Vd[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(i){var s=vn(i.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(u){u.a&&(i=r.indexOf(vn(u.a))),s.push(u.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)t.push(ds("t",vn(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,l=1;l<s.length;++l)a+=`Reply:
    `+s[l]+`
`;t.push(ds("t",vn(a)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function RG(e,t,r){var n=[Oi,Tt("ThreadedComments",null,{xmlns:Ji.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,l){if(!a.T){delete a.ID;return}a.a&&t.indexOf(a.a)==-1&&t.push(a.a);var u={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?s=u.id:u.parentId=s,a.ID=u.id,a.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(a.a)).slice(-12)+"}"),n.push(Tt("threadedComment",ds("text",a.t||""),u))})}),n.push("</ThreadedComments>"),n.join("")}function LG(e){var t=[Oi,Tt("personList",null,{xmlns:Ji.TCMNT,"xmlns:x":Vd[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Tt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function DG(e){var t={};t.iauthor=e.read_shift(4);var r=$f(e);return t.rfx=r.s,t.ref=bn(r.s),e.l+=16,t}function FG(e,t){return t==null&&(t=lt(36)),t.write_shift(4,e[1].iauthor),Gd(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var MG=Ds;function jG(e){return ts(e.slice(0,54))}function BG(e){var t=da(),r=[];return mt(t,628),mt(t,630),e.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),mt(t,632,jG(i.a)))})}),mt(t,631),mt(t,633),e.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:es(n[0]),e:es(n[0])};mt(t,635,FG([s,i])),i.t&&i.t.length>0&&mt(t,637,WV(i)),mt(t,636),delete i.iauthor})}),mt(t,634),mt(t,629),t.end()}function UG(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&An.utils.cfb_add(e,i,t.FileIndex[n].content)}})}var PI=["xlsb","xlsm","xlam","biff8","xla"],WG=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,s,a){var l=!1,u=!1;s.length==0?u=!0:s.charAt(0)=="["&&(u=!0,s=s.slice(1,-1)),a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1));var f=s.length>0?parseInt(s,10)|0:0,d=a.length>0?parseInt(a,10)|0:0;return l?d+=t.c:--d,u?f+=t.r:--f,i+(l?"":"$")+Ls(d)+(u?"":"$")+gs(f)}return function(i,s){return t=s,i.replace(e,r)}}(),q3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,G3=function(){return function(t,r){return t.replace(q3,function(n,i,s,a,l,u){var f=B3(a)-(s?0:r.c),d=j3(u)-(l?0:r.r),m=d==0?"":l?d+1:"["+d+"]",y=f==0?"":s?f+1:"["+f+"]";return i+"R"+m+"C"+y})}}();function zG(e,t){return e.replace(q3,function(r,n,i,s,a,l){return n+(i=="$"?i+s:Ls(B3(s)+t.c))+(a=="$"?a+l:gs(j3(l)+t.r))})}function HG(e){return e.length!=1}function Ti(e){e.l+=1}function xu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function OI(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return RI(e);r.biff==12&&(n=4)}var i=e.read_shift(n),s=e.read_shift(n),a=xu(e),l=xu(e);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function RI(e){var t=xu(e),r=xu(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function VG(e,t,r){if(r.biff<8)return RI(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),s=xu(e),a=xu(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function LI(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return qG(e);var n=e.read_shift(r&&r.biff==12?4:2),i=xu(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function qG(e){var t=xu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function GG(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function $G(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return XG(e);var i=e.read_shift(n>=12?4:2),s=e.read_shift(2),a=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:l}}function XG(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function YG(e,t,r){var n=(e[e.l++]&96)>>5,i=OI(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function KG(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var a=OI(e,s,r);return[n,i,a]}function QG(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function ZG(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,i]}function JG(e,t,r){var n=(e[e.l++]&96)>>5,i=VG(e,t-1,r);return[n,i]}function e$(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function eE(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function t$(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function r$(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function n$(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function i$(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function s$(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function DI(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function a$(e){return e.read_shift(2),DI(e)}function o$(e){return e.read_shift(2),DI(e)}function l$(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=LI(e,0,r);return[n,i]}function c$(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=$G(e,0,r);return[n,i]}function u$(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=LI(e,0,r);return[n,i,s]}function f$(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[fX[i],jI[i],n]}function h$(e,t,r){var n=e[e.l++],i=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:d$(e);return[i,(s[0]===0?jI:uX)[s[1]]]}function d$(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function p$(e,t,r){e.l+=r&&r.biff==2?3:4}function g$(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function m$(e){return e.l++,np[e.read_shift(1)]}function x$(e){return e.l++,e.read_shift(2)}function v$(e){return e.l++,e.read_shift(1)!==0}function w$(e){return e.l++,$d(e)}function y$(e,t,r){return e.l++,xI(e,t-1,r)}function b$(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=uq(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=np[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=$d(e);break;case 2:r[1]=pq(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function _$(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?$f:xq)(e));return i}function S$(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var l=0;l!=i;++l)a[s][l]=b$(e,r.biff);return a}function E$(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function A$(e,t,r){if(r.biff==5)return C$(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),s=e.read_shift(4);return[n,i,s]}function C$(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function N$(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function T$(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function I$(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function k$(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,i]}var P$=gl,O$=gl,R$=gl;function ip(e,t,r){return e.l+=2,[GG(e)]}function $3(e){return e.l+=6,[]}var L$=ip,D$=$3,F$=$3,M$=ip;function FI(e){return e.l+=2,[gI(e),e.read_shift(2)&1]}var j$=ip,B$=FI,U$=$3,W$=ip,z$=ip,H$=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function V$(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),s=e.read_shift(2),a=H$[r>>2&31];return{ixti:t,coltype:r&3,rt:a,idx:n,c:i,C:s}}function q$(e){return e.l+=2,[e.read_shift(4)]}function G$(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function $$(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function X$(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Y$(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function K$(e){return e.l+=4,[0,0]}var tE={1:{n:"PtgExp",f:g$},2:{n:"PtgTbl",f:R$},3:{n:"PtgAdd",f:Ti},4:{n:"PtgSub",f:Ti},5:{n:"PtgMul",f:Ti},6:{n:"PtgDiv",f:Ti},7:{n:"PtgPower",f:Ti},8:{n:"PtgConcat",f:Ti},9:{n:"PtgLt",f:Ti},10:{n:"PtgLe",f:Ti},11:{n:"PtgEq",f:Ti},12:{n:"PtgGe",f:Ti},13:{n:"PtgGt",f:Ti},14:{n:"PtgNe",f:Ti},15:{n:"PtgIsect",f:Ti},16:{n:"PtgUnion",f:Ti},17:{n:"PtgRange",f:Ti},18:{n:"PtgUplus",f:Ti},19:{n:"PtgUminus",f:Ti},20:{n:"PtgPercent",f:Ti},21:{n:"PtgParen",f:Ti},22:{n:"PtgMissArg",f:Ti},23:{n:"PtgStr",f:y$},26:{n:"PtgSheet",f:G$},27:{n:"PtgEndSheet",f:$$},28:{n:"PtgErr",f:m$},29:{n:"PtgBool",f:v$},30:{n:"PtgInt",f:x$},31:{n:"PtgNum",f:w$},32:{n:"PtgArray",f:e$},33:{n:"PtgFunc",f:f$},34:{n:"PtgFuncVar",f:h$},35:{n:"PtgName",f:E$},36:{n:"PtgRef",f:l$},37:{n:"PtgArea",f:YG},38:{n:"PtgMemArea",f:N$},39:{n:"PtgMemErr",f:P$},40:{n:"PtgMemNoMem",f:O$},41:{n:"PtgMemFunc",f:T$},42:{n:"PtgRefErr",f:I$},43:{n:"PtgAreaErr",f:QG},44:{n:"PtgRefN",f:c$},45:{n:"PtgAreaN",f:JG},46:{n:"PtgMemAreaN",f:X$},47:{n:"PtgMemNoMemN",f:Y$},57:{n:"PtgNameX",f:A$},58:{n:"PtgRef3d",f:u$},59:{n:"PtgArea3d",f:KG},60:{n:"PtgRefErr3d",f:k$},61:{n:"PtgAreaErr3d",f:ZG},255:{}},Q$={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Z$={1:{n:"PtgElfLel",f:FI},2:{n:"PtgElfRw",f:W$},3:{n:"PtgElfCol",f:L$},6:{n:"PtgElfRwV",f:z$},7:{n:"PtgElfColV",f:M$},10:{n:"PtgElfRadical",f:j$},11:{n:"PtgElfRadicalS",f:U$},13:{n:"PtgElfColS",f:D$},15:{n:"PtgElfColSV",f:F$},16:{n:"PtgElfRadicalLel",f:B$},25:{n:"PtgList",f:V$},29:{n:"PtgSxName",f:q$},255:{}},J$={0:{n:"PtgAttrNoop",f:K$},1:{n:"PtgAttrSemi",f:s$},2:{n:"PtgAttrIf",f:n$},4:{n:"PtgAttrChoose",f:t$},8:{n:"PtgAttrGoto",f:r$},16:{n:"PtgAttrSum",f:p$},32:{n:"PtgAttrBaxcel",f:eE},33:{n:"PtgAttrBaxcel",f:eE},64:{n:"PtgAttrSpace",f:a$},65:{n:"PtgAttrSpaceSemi",f:o$},128:{n:"PtgAttrIfError",f:i$},255:{}};function eX(e,t,r,n){if(n.biff<8)return gl(e,t);for(var i=e.l+t,s=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=S$(e,0,n),s.push(r[a][1]);break;case"PtgMemArea":r[a][2]=_$(e,r[a][1],n),s.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=e.read_shift(4),s.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return t=i-e.l,t!==0&&s.push(gl(e,t)),s}function tX(e,t,r){for(var n=e.l+t,i,s,a=[];n!=e.l;)t=n-e.l,s=e[e.l],i=tE[s]||tE[Q$[s]],(s===24||s===25)&&(i=(s===24?Z$:J$)[e[e.l+1]]),!i||!i.f?gl(e,t):a.push([i.n,i.f(e,t,r)]);return a}function rX(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var nX={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function iX(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function MI(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function rE(e,t,r){var n=MI(e,t,r);return n=="#REF"?n:iX(n,r)}function Td(e,t,r,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},l=[],u,f,d,m=0,y=0,v,E="";if(!e[0]||!e[0][0])return"";for(var _=-1,N="",A=0,C=e[0].length;A<C;++A){var I=e[0][A];switch(I[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=l.pop(),f=l.pop(),_>=0){switch(e[0][_][1][0]){case 0:N=ui(" ",e[0][_][1][1]);break;case 1:N=ui("\r",e[0][_][1][1]);break;default:if(N="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][_][1][0])}f=f+N,_=-1}l.push(f+nX[I[0]]+u);break;case"PtgIsect":u=l.pop(),f=l.pop(),l.push(f+" "+u);break;case"PtgUnion":u=l.pop(),f=l.pop(),l.push(f+","+u);break;case"PtgRange":u=l.pop(),f=l.pop(),l.push(f+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=$0(I[1][1],a,i),l.push(X0(d,s));break;case"PtgRefN":d=r?$0(I[1][1],r,i):I[1][1],l.push(X0(d,s));break;case"PtgRef3d":m=I[1][1],d=$0(I[1][2],a,i),E=rE(n,m,i),l.push(E+"!"+X0(d,s));break;case"PtgFunc":case"PtgFuncVar":var L=I[1][0],q=I[1][1];L||(L=0),L&=127;var Q=L==0?[]:l.slice(-L);l.length-=L,q==="User"&&(q=Q.shift()),l.push(q+"("+Q.join(",")+")");break;case"PtgBool":l.push(I[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(I[1]);break;case"PtgNum":l.push(String(I[1]));break;case"PtgStr":l.push('"'+I[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(I[1]);break;case"PtgAreaN":v=US(I[1][1],r?{s:r}:a,i),l.push(bv(v,i));break;case"PtgArea":v=US(I[1][1],a,i),l.push(bv(v,i));break;case"PtgArea3d":m=I[1][1],v=I[1][2],E=rE(n,m,i),l.push(E+"!"+bv(v,i));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=I[1][2];var B=(n.names||[])[y-1]||(n[0]||[])[y],M=B?B.Name:"SH33TJSNAME"+String(y);M&&M.slice(0,6)=="_xlfn."&&!i.xlfn&&(M=M.slice(6)),l.push(M);break;case"PtgNameX":var F=I[1][1];y=I[1][2];var X;if(i.biff<=5)F<0&&(F=-F),n[F]&&(X=n[F][y]);else{var W="";if(((n[F]||[])[0]||[])[0]==14849||(((n[F]||[])[0]||[])[0]==1025?n[F][y]&&n[F][y].itab>0&&(W=n.SheetNames[n[F][y].itab-1]+"!"):W=n.SheetNames[y-1]+"!"),n[F]&&n[F][y])W+=n[F][y].Name;else if(n[0]&&n[0][y])W+=n[0][y].Name;else{var U=(MI(n,F,i)||"").split(";;");U[y-1]?W=U[y-1]:W+="SH33TJSERRX"}l.push(W);break}X||(X={Name:"SH33TJSERRY"}),l.push(X.Name);break;case"PtgParen":var re="(",oe=")";if(_>=0){switch(N="",e[0][_][1][0]){case 2:re=ui(" ",e[0][_][1][1])+re;break;case 3:re=ui("\r",e[0][_][1][1])+re;break;case 4:oe=ui(" ",e[0][_][1][1])+oe;break;case 5:oe=ui("\r",e[0][_][1][1])+oe;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][_][1][0])}_=-1}l.push(re+l.pop()+oe);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:I[1][1],r:I[1][0]};var le={c:r.c,r:r.r};if(n.sharedf[bn(d)]){var Ne=n.sharedf[bn(d)];l.push(Td(Ne,a,le,n,i))}else{var Ae=!1;for(u=0;u!=n.arrayf.length;++u)if(f=n.arrayf[u],!(d.c<f[0].s.c||d.c>f[0].e.c)&&!(d.r<f[0].s.r||d.r>f[0].e.r)){l.push(Td(f[1],a,le,n,i)),Ae=!0;break}Ae||l.push(I[1])}break;case"PtgArray":l.push("{"+rX(I[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":_=A;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+I[1].idx+"[#"+I[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(I));default:throw new Error("Unrecognized Formula Token: "+String(I))}var de=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&_>=0&&de.indexOf(e[0][A][0])==-1){I=e[0][_];var _e=!0;switch(I[1][0]){case 4:_e=!1;case 0:N=ui(" ",I[1][1]);break;case 5:_e=!1;case 1:N=ui("\r",I[1][1]);break;default:if(N="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+I[1][0])}l.push((_e?N:"")+l.pop()+(_e?"":N)),_=-1}}if(l.length>1&&i.WTF)throw new Error("bad formula stack");return l[0]}function sX(e){if(e==null){var t=lt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Rf(e);return Rf(0)}function aX(e,t,r,n,i){var s=Lf(t,r,i),a=sX(e.v),l=lt(6),u=33;l.write_shift(2,u),l.write_shift(4,0);for(var f=lt(e.bf.length),d=0;d<e.bf.length;++d)f[d]=e.bf[d];var m=hs([s,a,l,f]);return m}function q2(e,t,r){var n=e.read_shift(4),i=tX(e,n,r),s=e.read_shift(4),a=s>0?eX(e,s,i,r):null;return[i,a]}var oX=q2,G2=q2,lX=q2,cX=q2,uX={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},jI={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},fX={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function hX(e){var t="of:="+e.replace(q3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function dX(e){return e.replace(/\./,"!")}var Y0=typeof Map<"u";function X3(e,t,r){var n=0,i=e.length;if(r){if(Y0?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=Y0?r.get(t):r[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}}else for(;n<i;++n)if(e[n].t===t)return e.Count++,n;return e[i]={t},e.Count++,e.Unique++,r&&(Y0?(r.has(t)||r.set(t,[]),r.get(t).push(i)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(i))),i}function $2(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Gl=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=jm(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=by(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function BI(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Pu(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],i=60,s=e.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){LT(t.z,i),r.ssf[i]=t.z,r.revssf[t.z]=n=i;break}}for(i=0;i!=s;++i)if(e[i].numFmtId===n)return i;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function pX(e,t,r){if(e&&e["!ref"]){var n=zn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function gX(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Pi(e[r])+'"/>';return t+"</mergeCells>"}function mX(e,t,r,n,i){var s=!1,a={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[r];try{t.Workbook&&(u=t.Workbook.Sheets[r].CodeName||u)}catch{}s=!0,a.codeName=A1(vn(u))}if(e&&e["!outline"]){var f={summaryBelow:1,summaryRight:1};e["!outline"].above&&(f.summaryBelow=0),e["!outline"].left&&(f.summaryRight=0),l=(l||"")+Tt("outlinePr",null,f)}!s&&!l||(i[i.length]=Tt("sheetPr",l,a))}var xX=["objects","scenarios","selectLockedCells","selectUnlockedCells"],vX=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function wX(e){var t={sheet:1};return xX.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),vX.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=_I(e.password).toString(16).toUpperCase()),Tt("sheetProtection",null,t)}function yX(e){return BI(e),Tt("pageMargins",null,e)}function bX(e,t){for(var r=["<cols>"],n,i=0;i!=t.length;++i)(n=t[i])&&(r[r.length]=Tt("col",null,$2(i,n)));return r[r.length]="</cols>",r.join("")}function _X(e,t,r,n){var i=typeof e.ref=="string"?e.ref:Pi(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,a=Ba(i);a.s.r==a.e.r&&(a.e.r=Ba(t["!ref"]).e.r,i=Pi(a));for(var l=0;l<s.length;++l){var u=s[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Tt("autoFilter",null,{ref:i})}function SX(e,t,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Tt("sheetViews",Tt("sheetView",null,i),{})}function EX(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",s=e.t,a=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=np[e.v];break;case"d":n&&n.cellDates?i=Xs(e.v,-1).toISOString():(e=ga(e),e.t="n",i=""+(e.v=pa(Xs(e.v)))),typeof e.z>"u"&&(e.z=fi[14]);break;default:i=e.v;break}var l=ds("v",vn(i)),u={r:t},f=Pu(n.cellXfs,e,n);switch(f!==0&&(u.s=f),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=ds("v",""+X3(n.Strings,e.v,n.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=s&&(e.t=s,e.v=a),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=Tt("f",vn(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(u.cm=1),Tt("c",l,u)}function AX(e,t,r,n){var i=[],s=[],a=zn(e["!ref"]),l="",u,f="",d=[],m=0,y=0,v=e["!rows"],E=Array.isArray(e),_={r:f},N,A=-1;for(y=a.s.c;y<=a.e.c;++y)d[y]=Ls(y);for(m=a.s.r;m<=a.e.r;++m){for(s=[],f=gs(m),y=a.s.c;y<=a.e.c;++y){u=d[y]+f;var C=E?(e[m]||[])[y]:e[u];C!==void 0&&(l=EX(C,u,e,t))!=null&&s.push(l)}(s.length>0||v&&v[m])&&(_={r:f},v&&v[m]&&(N=v[m],N.hidden&&(_.hidden=1),A=-1,N.hpx?A=Bm(N.hpx):N.hpt&&(A=N.hpt),A>-1&&(_.ht=A,_.customHeight=1),N.level&&(_.outlineLevel=N.level)),i[i.length]=Tt("row",s.join(""),_))}if(v)for(;m<v.length;++m)v&&v[m]&&(_={r:m+1},N=v[m],N.hidden&&(_.hidden=1),A=-1,N.hpx?A=Bm(N.hpx):N.hpt&&(A=N.hpt),A>-1&&(_.ht=A,_.customHeight=1),N.level&&(_.outlineLevel=N.level),i[i.length]=Tt("row","",_));return i.join("")}function UI(e,t,r,n){var i=[Oi,Tt("worksheet",null,{xmlns:Vd[0],"xmlns:r":Ji.r})],s=r.SheetNames[e],a=0,l="",u=r.Sheets[s];u==null&&(u={});var f=u["!ref"]||"A1",d=zn(f);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),f=Pi(d)}n||(n={}),u["!comments"]=[];var m=[];mX(u,r,e,t,i),i[i.length]=Tt("dimension",null,{ref:f}),i[i.length]=SX(u,t,e,r),t.sheetFormat&&(i[i.length]=Tt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(i[i.length]=bX(u,u["!cols"])),i[a=i.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(l=AX(u,t),l.length>0&&(i[i.length]=l)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),u["!protect"]&&(i[i.length]=wX(u["!protect"])),u["!autofilter"]!=null&&(i[i.length]=_X(u["!autofilter"],u,r,e)),u["!merges"]!=null&&u["!merges"].length>0&&(i[i.length]=gX(u["!merges"]));var y=-1,v,E=-1;return u["!links"].length>0&&(i[i.length]="<hyperlinks>",u["!links"].forEach(function(_){_[1].Target&&(v={ref:_[0]},_[1].Target.charAt(0)!="#"&&(E=xn(n,-1,vn(_[1].Target).replace(/#.*$/,""),tn.HLINK),v["r:id"]="rId"+E),(y=_[1].Target.indexOf("#"))>-1&&(v.location=vn(_[1].Target.slice(y+1))),_[1].Tooltip&&(v.tooltip=vn(_[1].Tooltip)),i[i.length]=Tt("hyperlink",null,v))}),i[i.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(i[i.length]=yX(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=ds("ignoredErrors",Tt("ignoredError",null,{numberStoredAsText:1,sqref:f}))),m.length>0&&(E=xn(n,-1,"../drawings/drawing"+(e+1)+".xml",tn.DRAW),i[i.length]=Tt("drawing",null,{"r:id":"rId"+E}),u["!drawing"]=m),u["!comments"].length>0&&(E=xn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",tn.VML),i[i.length]=Tt("legacyDrawing",null,{"r:id":"rId"+E}),u["!legacy"]=E),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function CX(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function NX(e,t,r){var n=lt(145),i=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;i.hpx?s=Bm(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var l=0,u=n.l;n.l+=4;for(var f={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var m=-1,y=-1,v=d<<10;v<d+1<<10;++v){f.c=v;var E=Array.isArray(r)?(r[f.r]||[])[f.c]:r[bn(f)];E&&(m<0&&(m=v),y=v)}m<0||(++l,n.write_shift(4,m),n.write_shift(4,y))}var _=n.l;return n.l=u,n.write_shift(4,l),n.l=_,n.length>n.l?n.slice(0,n.l):n}function TX(e,t,r,n){var i=NX(n,r,t);(i.length>17||(t["!rows"]||[])[n])&&mt(e,0,i)}var IX=$f,kX=Gd;function PX(){}function OX(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=zV(e),r}function RX(e,t,r){r==null&&(r=lt(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return Dm({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),tI(e,r),r.slice(0,r.l)}function LX(e){var t=lo(e);return[t]}function DX(e,t,r){return r==null&&(r=lt(8)),Vf(t,r)}function FX(e){var t=qf(e);return[t]}function MX(e,t,r){return r==null&&(r=lt(4)),Gf(t,r)}function jX(e){var t=lo(e),r=e.read_shift(1);return[t,r,"b"]}function BX(e,t,r){return r==null&&(r=lt(9)),Vf(t,r),r.write_shift(1,e.v?1:0),r}function UX(e){var t=qf(e),r=e.read_shift(1);return[t,r,"b"]}function WX(e,t,r){return r==null&&(r=lt(5)),Gf(t,r),r.write_shift(1,e.v?1:0),r}function zX(e){var t=lo(e),r=e.read_shift(1);return[t,r,"e"]}function HX(e,t,r){return r==null&&(r=lt(9)),Vf(t,r),r.write_shift(1,e.v),r}function VX(e){var t=qf(e),r=e.read_shift(1);return[t,r,"e"]}function qX(e,t,r){return r==null&&(r=lt(8)),Gf(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function GX(e){var t=lo(e),r=e.read_shift(4);return[t,r,"s"]}function $X(e,t,r){return r==null&&(r=lt(12)),Vf(t,r),r.write_shift(4,t.v),r}function XX(e){var t=qf(e),r=e.read_shift(4);return[t,r,"s"]}function YX(e,t,r){return r==null&&(r=lt(8)),Gf(t,r),r.write_shift(4,t.v),r}function KX(e){var t=lo(e),r=$d(e);return[t,r,"n"]}function QX(e,t,r){return r==null&&(r=lt(16)),Vf(t,r),Rf(e.v,r),r}function ZX(e){var t=qf(e),r=$d(e);return[t,r,"n"]}function JX(e,t,r){return r==null&&(r=lt(12)),Gf(t,r),Rf(e.v,r),r}function eY(e){var t=lo(e),r=rI(e);return[t,r,"n"]}function tY(e,t,r){return r==null&&(r=lt(12)),Vf(t,r),nI(e.v,r),r}function rY(e){var t=qf(e),r=rI(e);return[t,r,"n"]}function nY(e,t,r){return r==null&&(r=lt(8)),Gf(t,r),nI(e.v,r),r}function iY(e){var t=lo(e),r=U3(e);return[t,r,"is"]}function sY(e){var t=lo(e),r=Ds(e);return[t,r,"str"]}function aY(e,t,r){return r==null&&(r=lt(12+4*e.v.length)),Vf(t,r),ts(e.v,r),r.length>r.l?r.slice(0,r.l):r}function oY(e){var t=qf(e),r=Ds(e);return[t,r,"str"]}function lY(e,t,r){return r==null&&(r=lt(8+4*e.v.length)),Gf(t,r),ts(e.v,r),r.length>r.l?r.slice(0,r.l):r}function cY(e,t,r){var n=e.l+t,i=lo(e);i.r=r["!row"];var s=e.read_shift(1),a=[i,s,"b"];if(r.cellFormula){e.l+=2;var l=G2(e,n-e.l,r);a[3]=Td(l,null,i,r.supbooks,r)}else e.l=n;return a}function uY(e,t,r){var n=e.l+t,i=lo(e);i.r=r["!row"];var s=e.read_shift(1),a=[i,s,"e"];if(r.cellFormula){e.l+=2;var l=G2(e,n-e.l,r);a[3]=Td(l,null,i,r.supbooks,r)}else e.l=n;return a}function fY(e,t,r){var n=e.l+t,i=lo(e);i.r=r["!row"];var s=$d(e),a=[i,s,"n"];if(r.cellFormula){e.l+=2;var l=G2(e,n-e.l,r);a[3]=Td(l,null,i,r.supbooks,r)}else e.l=n;return a}function hY(e,t,r){var n=e.l+t,i=lo(e);i.r=r["!row"];var s=Ds(e),a=[i,s,"str"];if(r.cellFormula){e.l+=2;var l=G2(e,n-e.l,r);a[3]=Td(l,null,i,r.supbooks,r)}else e.l=n;return a}var dY=$f,pY=Gd;function gY(e,t){return t==null&&(t=lt(4)),t.write_shift(4,e),t}function mY(e,t){var r=e.l+t,n=$f(e),i=W3(e),s=Ds(e),a=Ds(e),l=Ds(e);e.l=r;var u={rfx:n,relId:i,loc:s,display:l};return a&&(u.Tooltip=a),u}function xY(e,t){var r=lt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Gd({s:es(e[0]),e:es(e[0])},r),z3("rId"+t,r);var n=e[1].Target.indexOf("#"),i=n==-1?"":e[1].Target.slice(n+1);return ts(i||"",r),ts(e[1].Tooltip||"",r),ts("",r),r.slice(0,r.l)}function vY(){}function wY(e,t,r){var n=e.l+t,i=iI(e),s=e.read_shift(1),a=[i];if(a[2]=s,r.cellFormula){var l=oX(e,n-e.l,r);a[1]=l}else e.l=n;return a}function yY(e,t,r){var n=e.l+t,i=$f(e),s=[i];if(r.cellFormula){var a=cX(e,n-e.l,r);s[1]=a,e.l=n}else e.l=n;return s}function bY(e,t,r){r==null&&(r=lt(18));var n=$2(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),r.write_shift(2,i),r}var WI=["left","right","top","bottom","header","footer"];function _Y(e){var t={};return WI.forEach(function(r){t[r]=$d(e)}),t}function SY(e,t){return t==null&&(t=lt(6*8)),BI(e),WI.forEach(function(r){Rf(e[r],t)}),t}function EY(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function AY(e,t,r){r==null&&(r=lt(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function CY(e){var t=lt(24);return t.write_shift(4,4),t.write_shift(4,1),Gd(e,t),t}function NY(e,t){return t==null&&(t=lt(16*4+2)),t.write_shift(2,e.password?_I(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function TY(){}function IY(){}function kY(e,t,r,n,i,s,a){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=ga(t),t.z=t.z||fi[14],t.v=pa(Xs(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var u={r,c:n};switch(u.s=Pu(i.cellXfs,t,i),t.l&&s["!links"].push([bn(u),t.l]),t.c&&s["!comments"].push([bn(u),t.c]),t.t){case"s":case"str":return i.bookSST?(l=X3(i.Strings,t.v,i.revStrings),u.t="s",u.v=l,a?mt(e,18,YX(t,u)):mt(e,7,$X(t,u))):(u.t="str",a?mt(e,17,lY(t,u)):mt(e,6,aY(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?a?mt(e,13,nY(t,u)):mt(e,2,tY(t,u)):a?mt(e,16,JX(t,u)):mt(e,5,QX(t,u)),!0;case"b":return u.t="b",a?mt(e,15,WX(t,u)):mt(e,4,BX(t,u)),!0;case"e":return u.t="e",a?mt(e,14,qX(t,u)):mt(e,3,HX(t,u)),!0}return a?mt(e,12,MX(t,u)):mt(e,1,DX(t,u)),!0}function PY(e,t,r,n){var i=zn(t["!ref"]||"A1"),s,a="",l=[];mt(e,145);var u=Array.isArray(t),f=i.e.r;t["!rows"]&&(f=Math.max(i.e.r,t["!rows"].length-1));for(var d=i.s.r;d<=f;++d){a=gs(d),TX(e,t,i,d);var m=!1;if(d<=i.e.r)for(var y=i.s.c;y<=i.e.c;++y){d===i.s.r&&(l[y]=Ls(y)),s=l[y]+a;var v=u?(t[d]||[])[y]:t[s];if(!v){m=!1;continue}m=kY(e,v,d,y,n,t,m)}}mt(e,146)}function OY(e,t){!t||!t["!merges"]||(mt(e,177,gY(t["!merges"].length)),t["!merges"].forEach(function(r){mt(e,176,pY(r))}),mt(e,178))}function RY(e,t){!t||!t["!cols"]||(mt(e,390),t["!cols"].forEach(function(r,n){r&&mt(e,60,bY(n,r))}),mt(e,391))}function LY(e,t){!t||!t["!ref"]||(mt(e,648),mt(e,649,CY(zn(t["!ref"]))),mt(e,650))}function DY(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var i=xn(r,-1,n[1].Target.replace(/#.*$/,""),tn.HLINK);mt(e,494,xY(n,i))}}),delete t["!links"]}function FY(e,t,r,n){if(t["!comments"].length>0){var i=xn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",tn.VML);mt(e,551,z3("rId"+i)),t["!legacy"]=i}}function MY(e,t,r,n){if(t["!autofilter"]){var i=t["!autofilter"],s=typeof i.ref=="string"?i.ref:Pi(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,l=Ba(s);l.s.r==l.e.r&&(l.e.r=Ba(t["!ref"]).e.r,s=Pi(l));for(var u=0;u<a.length;++u){var f=a[u];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+r.SheetNames[n]+"'!"+s;break}}u==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),mt(e,161,Gd(zn(s))),mt(e,162)}}function jY(e,t,r){mt(e,133),mt(e,137,AY(t,r)),mt(e,138),mt(e,134)}function BY(e,t){t["!protect"]&&mt(e,535,NY(t["!protect"]))}function UY(e,t,r,n){var i=da(),s=r.SheetNames[e],a=r.Sheets[s]||{},l=s;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var u=zn(a["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],mt(i,129),(r.vbaraw||a["!outline"])&&mt(i,147,RX(l,a["!outline"])),mt(i,148,kX(u)),jY(i,a,r.Workbook),RY(i,a),PY(i,a,e,t),BY(i,a),MY(i,a,r,e),OY(i,a),DY(i,a,n),a["!margins"]&&mt(i,476,SY(a["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&LY(i,a),FY(i,a,e,n),mt(i,130),i.end()}function WY(e,t){e.l+=10;var r=Ds(e);return{name:r}}var zY=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function HY(e){return!e.Workbook||!e.Workbook.WBProps?"false":yV(e.Workbook.WBProps.date1904)?"true":"false"}var VY="][*?/\\".split("");function zI(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return VY.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function qY(e,t,r){e.forEach(function(n,i){zI(n);for(var s=0;s<i;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=t&&t[i]&&t[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function GY(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];qY(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)pX(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function HI(e){var t=[Oi];t[t.length]=Tt("workbook",null,{xmlns:Vd[0],"xmlns:r":Ji.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(zY.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Tt("workbookPr",null,n);var i=e.Workbook&&e.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var a={name:vn(e.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}t[t.length]=Tt("sheet",null,a)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var u={name:l.Name};l.Comment&&(u.comment=l.Comment),l.Sheet!=null&&(u.localSheetId=""+l.Sheet),l.Hidden&&(u.hidden="1"),l.Ref&&(t[t.length]=Tt("definedName",vn(l.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function $Y(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=yy(e),r.name=Ds(e),r}function XY(e,t){return t||(t=lt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),z3(e.strRelID,t),ts(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function YY(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?Ds(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function KY(e,t){t||(t=lt(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),tI(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function QY(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),s=HV(e),a=lX(e,0,r),l=W3(e);e.l=n;var u={Name:s,Ptg:a};return i<268435455&&(u.Sheet=i),l&&(u.Comment=l),u}function ZY(e,t){mt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};mt(e,156,XY(i))}mt(e,144)}function JY(e,t){t||(t=lt(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return ts("SheetJS",t),ts(Nm.version,t),ts(Nm.version,t),ts("7262",t),t.length>t.l?t.slice(0,t.l):t}function eK(e,t){t||(t=lt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function tK(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(mt(e,135),mt(e,158,eK(i)),mt(e,136))}}function rK(e,t){var r=da();return mt(r,131),mt(r,128,JY()),mt(r,153,KY(e.Workbook&&e.Workbook.WBProps||null)),tK(r,e),ZY(r,e),mt(r,132),r.end()}function nK(e,t,r){return(t.slice(-4)===".bin"?rK:HI)(e)}function iK(e,t,r,n,i){return(t.slice(-4)===".bin"?UY:UI)(e,r,n,i)}function sK(e,t,r){return(t.slice(-4)===".bin"?SG:AI)(e,r)}function aK(e,t,r){return(t.slice(-4)===".bin"?Kq:bI)(e,r)}function oK(e,t,r){return(t.slice(-4)===".bin"?BG:kI)(e)}function lK(e){return(e.slice(-4)===".bin"?PG:TI)()}function cK(e,t){var r=[];return e.Props&&r.push(sq(e.Props,t)),e.Custprops&&r.push(aq(e.Props,e.Custprops)),r.join("")}function uK(){return""}function fK(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,i){var s=[];s.push(Tt("NumberFormat",null,{"ss:Format":vn(fi[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};r.push(Tt("Style",s.join(""),a))}),Tt("Styles",r.join(""))}function VI(e){return Tt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+G3(e.Ref,{r:0,c:0})})}function hK(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var i=t[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(VI(i)))}return Tt("Names",r.join(""))}function dK(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var l=i[a];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||s.push(VI(l)))}return s.join("")}function pK(e,t,r,n){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(Tt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(Tt("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(Tt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(Tt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(ds("ProtectContents","True")),e["!protect"].objects&&i.push(ds("ProtectObjects","True")),e["!protect"].scenarios&&i.push(ds("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(ds("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(ds("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){e["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":Tt("WorksheetOptions",i.join(""),{xmlns:Ia.x})}function gK(e){return e.map(function(t){var r=wV(t.t||""),n=Tt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Tt("Comment",n,{"ss:Author":t.a})}).join("")}function mK(e,t,r,n,i,s,a){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+vn(G3(e.f,a))),e.F&&e.F.slice(0,t.length)==t){var u=es(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(u.r==a.r?"":"["+(u.r-a.r)+"]")+"C"+(u.c==a.c?"":"["+(u.c-a.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=vn(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=vn(e.l.Tooltip))),r["!merges"])for(var f=r["!merges"],d=0;d!=f.length;++d)f[d].s.c!=a.c||f[d].s.r!=a.r||(f[d].e.c>f[d].s.c&&(l["ss:MergeAcross"]=f[d].e.c-f[d].s.c),f[d].e.r>f[d].s.r&&(l["ss:MergeDown"]=f[d].e.r-f[d].s.r));var m="",y="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":m="Number",y=String(e.v);break;case"b":m="Boolean",y=e.v?"1":"0";break;case"e":m="Error",y=np[e.v];break;case"d":m="DateTime",y=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||fi[14]);break;case"s":m="String",y=vV(e.v||"");break}var v=Pu(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+v),l["ss:Index"]=a.c+1;var E=e.v!=null?y:"",_=e.t=="z"?"":'<Data ss:Type="'+m+'">'+E+"</Data>";return(e.c||[]).length>0&&(_+=gK(e.c)),Tt("Cell",_,l)}function xK(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=EI(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function vK(e,t,r,n){if(!e["!ref"])return"";var i=zn(e["!ref"]),s=e["!merges"]||[],a=0,l=[];e["!cols"]&&e["!cols"].forEach(function(N,A){V3(N);var C=!!N.width,I=$2(A,N),L={"ss:Index":A+1};C&&(L["ss:Width"]=Mm(I.width)),N.hidden&&(L["ss:Hidden"]="1"),l.push(Tt("Column",null,L))});for(var u=Array.isArray(e),f=i.s.r;f<=i.e.r;++f){for(var d=[xK(f,(e["!rows"]||[])[f])],m=i.s.c;m<=i.e.c;++m){var y=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>m)&&!(s[a].s.r>f)&&!(s[a].e.c<m)&&!(s[a].e.r<f)){(s[a].s.c!=m||s[a].s.r!=f)&&(y=!0);break}if(!y){var v={r:f,c:m},E=bn(v),_=u?(e[f]||[])[m]:e[E];d.push(mK(_,E,e,t,r,n,v))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function wK(e,t,r){var n=[],i=r.SheetNames[e],s=r.Sheets[i],a=s?dK(s,t,e,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?vK(s,t,e,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(pK(s,t,e,r)),n.join("")}function yK(e,t){t||(t={}),e.SSF||(e.SSF=ga(fi)),e.SSF&&(z2(),W2(e.SSF),t.revssf=H2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Pu(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(cK(e,t)),r.push(uK()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Tt("Worksheet",wK(n,t,e),{"ss:Name":vn(e.SheetNames[n])}));return r[2]=fK(e,t),r[3]=hK(e),Oi+Tt("Workbook",r.join(""),{xmlns:Ia.ss,"xmlns:o":Ia.o,"xmlns:x":Ia.x,"xmlns:ss":Ia.ss,"xmlns:dt":Ia.dt,"xmlns:html":Ia.html})}var Ev={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function bK(e,t){var r=[],n=[],i=[],s=0,a,l=IS(zS,"n"),u=IS(HS,"n");if(e.Props)for(a=vs(e.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(l,a[s])?r:Object.prototype.hasOwnProperty.call(u,a[s])?n:i).push([a[s],e.Props[a[s]]]);if(e.Custprops)for(a=vs(e.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(l,a[s])?r:Object.prototype.hasOwnProperty.call(u,a[s])?n:i).push([a[s],e.Custprops[a[s]]]);var f=[];for(s=0;s<i.length;++s)pI.indexOf(i[s][0])>-1||fI.indexOf(i[s][0])>-1||i[s][1]!=null&&f.push(i[s]);n.length&&An.utils.cfb_add(t,"/SummaryInformation",XS(n,Ev.SI,u,HS)),(r.length||f.length)&&An.utils.cfb_add(t,"/DocumentSummaryInformation",XS(r,Ev.DSI,l,zS,f.length?f:null,Ev.UDI))}function _K(e,t){var r=t||{},n=An.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return An.utils.cfb_add(n,i,qI(e,r)),r.biff==8&&(e.Props||e.Custprops)&&bK(e,n),r.biff==8&&e.vbaraw&&UG(n,An.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var SK={0:{f:CX},1:{f:LX},2:{f:eY},3:{f:zX},4:{f:jX},5:{f:KX},6:{f:sY},7:{f:GX},8:{f:hY},9:{f:fY},10:{f:cY},11:{f:uY},12:{f:FX},13:{f:rY},14:{f:VX},15:{f:UX},16:{f:ZX},17:{f:oY},18:{f:XX},19:{f:U3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:QY},40:{},42:{},43:{f:sG},44:{f:nG},45:{f:lG},46:{f:uG},47:{f:cG},48:{},49:{f:FV},50:{},51:{f:CG},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Mq},62:{f:iY},63:{f:OG},64:{f:TY},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:gl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:EY},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:OX},148:{f:IX,p:16},151:{f:vY},152:{},153:{f:YY},154:{},155:{},156:{f:$Y},157:{},158:{},159:{T:1,f:$q},160:{T:-1},161:{T:1,f:$f},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:dY},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:EG},336:{T:-1},337:{f:IG,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:yy},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Pq},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:wY},427:{f:yY},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:_Y},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:PX},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:mY},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:yy},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:MG},633:{T:1},634:{T:-1},635:{T:1,f:DG},636:{T:-1},637:{f:UV},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:WY},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:IY},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function kt(e,t,r,n){var i=t;if(!isNaN(i)){var s=n||(r||[]).length||0,a=e.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&M3(r)&&e.push(r)}}function EK(e,t,r,n){var i=(r||[]).length||0;if(i<=8224)return kt(e,t,r,i);var s=t;if(!isNaN(s)){for(var a=r.parts||[],l=0,u=0,f=0;f+(a[l]||8224)<=8224;)f+=a[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,s),d.write_shift(2,f),e.push(r.slice(u,u+f)),u+=f;u<i;){for(d=e.next(4),d.write_shift(2,60),f=0;f+(a[l]||8224)<=8224;)f+=a[l]||8224,l++;d.write_shift(2,f),e.push(r.slice(u,u+f)),u+=f}}}function sp(e,t,r){return e||(e=lt(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function AK(e,t,r,n){var i=lt(9);return sp(i,e,t),mI(r,n||"b",i),i}function CK(e,t,r){var n=lt(8+2*r.length);return sp(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function NK(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?pa(Xs(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?kt(e,2,Wq(r,n,i)):kt(e,3,Uq(r,n,i));return;case"b":case"e":kt(e,5,AK(r,n,t.v,t.t));return;case"s":case"str":kt(e,4,CK(r,n,(t.v||"").slice(0,255)));return}kt(e,1,sp(null,r,n))}function TK(e,t,r,n){var i=Array.isArray(t),s=zn(t["!ref"]||"A1"),a,l="",u=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=Pi(s)}for(var f=s.s.r;f<=s.e.r;++f){l=gs(f);for(var d=s.s.c;d<=s.e.c;++d){f===s.s.r&&(u[d]=Ls(d)),a=u[d]+l;var m=i?(t[f]||[])[d]:t[a];m&&NK(e,m,f,d)}}}function IK(e,t){for(var r=t||{},n=da(),i=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return kt(n,r.biff==4?1033:r.biff==3?521:9,H3(e,16,r)),TK(n,e.Sheets[e.SheetNames[i]],i,r),kt(n,10),n.end()}function kK(e,t,r){kt(e,49,Sq({sz:12,name:"Arial"},r))}function PK(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&kt(e,1054,Cq(i,t[i],r))})}function OK(e,t){var r=lt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),kt(e,2151,r),r=lt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),wI(zn(t["!ref"]||"A1"),r),r.write_shift(4,4),kt(e,2152,r)}function RK(e,t){for(var r=0;r<16;++r)kt(e,224,KS({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){kt(e,224,KS(n,0,t))})}function LK(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];kt(e,440,Lq(n)),n[1].Tooltip&&kt(e,2048,Dq(n))}delete t["!links"]}function DK(e,t){if(t){var r=0;t.forEach(function(n,i){++r<=256&&n&&kt(e,125,jq($2(i,n),i))})}}function FK(e,t,r,n,i){var s=16+Pu(i.cellXfs,t,i);if(t.v==null&&!t.bf){kt(e,513,Lf(r,n,s));return}if(t.bf)kt(e,6,aX(t,r,n,i,s));else switch(t.t){case"d":case"n":var a=t.t=="d"?pa(Xs(t.v)):t.v;kt(e,515,kq(r,n,a,s));break;case"b":case"e":kt(e,517,Iq(r,n,t.v,s,i,t.t));break;case"s":case"str":if(i.bookSST){var l=X3(i.Strings,t.v,i.revStrings);kt(e,253,Eq(r,n,l,s))}else kt(e,516,Aq(r,n,(t.v||"").slice(0,255),s,i));break;default:kt(e,513,Lf(r,n,s))}}function MK(e,t,r){var n=da(),i=r.SheetNames[e],s=r.Sheets[i]||{},a=(r||{}).Workbook||{},l=(a.Sheets||[])[e]||{},u=Array.isArray(s),f=t.biff==8,d,m="",y=[],v=zn(s["!ref"]||"A1"),E=f?65536:16384;if(v.e.c>255||v.e.r>=E){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,E-1)}kt(n,2057,H3(r,16,t)),kt(n,13,Ja(1)),kt(n,12,Ja(100)),kt(n,15,Gs(!0)),kt(n,17,Gs(!1)),kt(n,16,Rf(.001)),kt(n,95,Gs(!0)),kt(n,42,Gs(!1)),kt(n,43,Gs(!1)),kt(n,130,Ja(1)),kt(n,128,Tq()),kt(n,131,Gs(!1)),kt(n,132,Gs(!1)),f&&DK(n,s["!cols"]),kt(n,512,Nq(v,t)),f&&(s["!links"]=[]);for(var _=v.s.r;_<=v.e.r;++_){m=gs(_);for(var N=v.s.c;N<=v.e.c;++N){_===v.s.r&&(y[N]=Ls(N)),d=y[N]+m;var A=u?(s[_]||[])[N]:s[d];A&&(FK(n,A,_,N,t),f&&A.l&&s["!links"].push([d,A.l]))}}var C=l.CodeName||l.name||i;return f&&kt(n,574,_q((a.Views||[])[0])),f&&(s["!merges"]||[]).length&&kt(n,229,Rq(s["!merges"])),f&&LK(n,s),kt(n,442,vI(C)),f&&OK(n,s),kt(n,10),n.end()}function jK(e,t,r){var n=da(),i=(e||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},l=r.biff==8,u=r.biff==5;if(kt(n,2057,H3(e,5,r)),r.bookType=="xla"&&kt(n,135),kt(n,225,l?Ja(1200):null),kt(n,193,cq(2)),u&&kt(n,191),u&&kt(n,192),kt(n,226),kt(n,92,vq("SheetJS",r)),kt(n,66,Ja(l?1200:1252)),l&&kt(n,353,Ja(0)),l&&kt(n,448),kt(n,317,Bq(e.SheetNames.length)),l&&e.vbaraw&&kt(n,211),l&&e.vbaraw){var f=a.CodeName||"ThisWorkbook";kt(n,442,vI(f))}kt(n,156,Ja(17)),kt(n,25,Gs(!1)),kt(n,18,Gs(!1)),kt(n,19,Ja(0)),l&&kt(n,431,Gs(!1)),l&&kt(n,444,Ja(0)),kt(n,61,bq()),kt(n,64,Gs(!1)),kt(n,141,Ja(0)),kt(n,34,Gs(HY(e)=="true")),kt(n,14,Gs(!0)),l&&kt(n,439,Gs(!1)),kt(n,218,Ja(0)),kK(n,e,r),PK(n,e.SSF,r),RK(n,r),l&&kt(n,352,Gs(!1));var d=n.end(),m=da();l&&kt(m,140,Fq()),l&&r.Strings&&EK(m,252,yq(r.Strings)),kt(m,10);var y=m.end(),v=da(),E=0,_=0;for(_=0;_<e.SheetNames.length;++_)E+=(l?12:11)+(l?2:1)*e.SheetNames[_].length;var N=d.length+E+y.length;for(_=0;_<e.SheetNames.length;++_){var A=s[_]||{};kt(v,133,wq({pos:N,hs:A.Hidden||0,dt:0,name:e.SheetNames[_]},r)),N+=t[_].length}var C=v.end();if(E!=C.length)throw new Error("BS8 "+E+" != "+C.length);var I=[];return d.length&&I.push(d),C.length&&I.push(C),y.length&&I.push(y),hs(I)}function BK(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=ga(fi)),e&&e.SSF&&(z2(),W2(e.SSF),r.revssf=H2(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Y3(r),r.cellXfs=[],Pu(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)n[n.length]=MK(i,r,e);return n.unshift(jK(e,n,r)),hs(n)}function qI(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Ba(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return BK(e,t);case 4:case 3:case 2:return IK(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function UK(e,t,r,n){for(var i=e["!merges"]||[],s=[],a=t.s.c;a<=t.e.c;++a){for(var l=0,u=0,f=0;f<i.length;++f)if(!(i[f].s.r>r||i[f].s.c>a)&&!(i[f].e.r<r||i[f].e.c<a)){if(i[f].s.r<r||i[f].s.c<a){l=-1;break}l=i[f].e.r-i[f].s.r+1,u=i[f].e.c-i[f].s.c+1;break}if(!(l<0)){var d=bn({r,c:a}),m=n.dense?(e[r]||[])[a]:e[d],y=m&&m.v!=null&&(m.h||xV(m.w||(ec(m),m.w)||""))||"",v={};l>1&&(v.rowspan=l),u>1&&(v.colspan=u),n.editable?y='<span contenteditable="true">'+y+"</span>":m&&(v["data-t"]=m&&m.t||"z",m.v!=null&&(v["data-v"]=m.v),m.z!=null&&(v["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+m.l.Target+'">'+y+"</a>")),v.id=(n.id||"sjs")+"-"+d,s.push(Tt("td",y,v))}}var E="<tr>";return E+s.join("")+"</tr>"}var WK='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',zK="</body></html>";function HK(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function GI(e,t){var r=t||{},n=r.header!=null?r.header:WK,i=r.footer!=null?r.footer:zK,s=[n],a=Ba(e["!ref"]);r.dense=Array.isArray(e),s.push(HK(e,a,r));for(var l=a.s.r;l<=a.e.r;++l)s.push(UK(e,a,l,r));return s.push("</table>"+i),s.join("")}function $I(e,t,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?es(n.origin):n.origin;i=a.r,s=a.c}var l=t.getElementsByTagName("tr"),u=Math.min(n.sheetRows||1e7,l.length),f={s:{r:0,c:0},e:{r:i,c:s}};if(e["!ref"]){var d=Ba(e["!ref"]);f.s.r=Math.min(f.s.r,d.s.r),f.s.c=Math.min(f.s.c,d.s.c),f.e.r=Math.max(f.e.r,d.e.r),f.e.c=Math.max(f.e.c,d.e.c),i==-1&&(f.e.r=i=d.e.r+1)}var m=[],y=0,v=e["!rows"]||(e["!rows"]=[]),E=0,_=0,N=0,A=0,C=0,I=0;for(e["!cols"]||(e["!cols"]=[]);E<l.length&&_<u;++E){var L=l[E];if(nE(L)){if(n.display)continue;v[_]={hidden:!0}}var q=L.children;for(N=A=0;N<q.length;++N){var Q=q[N];if(!(n.display&&nE(Q))){var B=Q.hasAttribute("data-v")?Q.getAttribute("data-v"):Q.hasAttribute("v")?Q.getAttribute("v"):bV(Q.innerHTML),M=Q.getAttribute("data-z")||Q.getAttribute("z");for(y=0;y<m.length;++y){var F=m[y];F.s.c==A+s&&F.s.r<_+i&&_+i<=F.e.r&&(A=F.e.c+1-s,y=-1)}I=+Q.getAttribute("colspan")||1,((C=+Q.getAttribute("rowspan")||1)>1||I>1)&&m.push({s:{r:_+i,c:A+s},e:{r:_+i+(C||1)-1,c:A+s+(I||1)-1}});var X={t:"s",v:B},W=Q.getAttribute("data-t")||Q.getAttribute("t")||"";B!=null&&(B.length==0?X.t=W||"z":n.raw||B.trim().length==0||W=="s"||(B==="TRUE"?X={t:"b",v:!0}:B==="FALSE"?X={t:"b",v:!1}:isNaN(ql(B))?isNaN(E1(B).getDate())||(X={t:"d",v:Xs(B)},n.cellDates||(X={t:"n",v:pa(X.v)}),X.z=n.dateNF||fi[14]):X={t:"n",v:ql(B)})),X.z===void 0&&M!=null&&(X.z=M);var U="",re=Q.getElementsByTagName("A");if(re&&re.length)for(var oe=0;oe<re.length&&!(re[oe].hasAttribute("href")&&(U=re[oe].getAttribute("href"),U.charAt(0)!="#"));++oe);U&&U.charAt(0)!="#"&&(X.l={Target:U}),n.dense?(e[_+i]||(e[_+i]=[]),e[_+i][A+s]=X):e[bn({c:A+s,r:_+i})]=X,f.e.c<A+s&&(f.e.c=A+s),A+=I}}++_}return m.length&&(e["!merges"]=(e["!merges"]||[]).concat(m)),f.e.r=Math.max(f.e.r,_-1+i),e["!ref"]=Pi(f),_>=u&&(e["!fullref"]=Pi((f.e.r=l.length-E+_-1+i,f))),e}function XI(e,t){var r=t||{},n=r.dense?[]:{};return $I(n,e,t)}function VK(e,t){return Hf(XI(e,t),t)}function nE(e){var t="",r=qK(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function qK(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var GK=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+C1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Oi+t}}(),iE=function(){var e=function(s){return vn(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,a,l){var u=[];u.push('      <table:table table:name="'+vn(a.SheetNames[l])+`" table:style-name="ta1">
`);var f=0,d=0,m=Ba(s["!ref"]||"A1"),y=s["!merges"]||[],v=0,E=Array.isArray(s);if(s["!cols"])for(d=0;d<=m.e.c;++d)u.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var _="",N=s["!rows"]||[];for(f=0;f<m.s.r;++f)_=N[f]?' table:style-name="ro'+N[f].ods+'"':"",u.push("        <table:table-row"+_+`></table:table-row>
`);for(;f<=m.e.r;++f){for(_=N[f]?' table:style-name="ro'+N[f].ods+'"':"",u.push("        <table:table-row"+_+`>
`),d=0;d<m.s.c;++d)u.push(t);for(;d<=m.e.c;++d){var A=!1,C={},I="";for(v=0;v!=y.length;++v)if(!(y[v].s.c>d)&&!(y[v].s.r>f)&&!(y[v].e.c<d)&&!(y[v].e.r<f)){(y[v].s.c!=d||y[v].s.r!=f)&&(A=!0),C["table:number-columns-spanned"]=y[v].e.c-y[v].s.c+1,C["table:number-rows-spanned"]=y[v].e.r-y[v].s.r+1;break}if(A){u.push(r);continue}var L=bn({r:f,c:d}),q=E?(s[f]||[])[d]:s[L];if(q&&q.f&&(C["table:formula"]=vn(hX(q.f)),q.F&&q.F.slice(0,L.length)==L)){var Q=Ba(q.F);C["table:number-matrix-columns-spanned"]=Q.e.c-Q.s.c+1,C["table:number-matrix-rows-spanned"]=Q.e.r-Q.s.r+1}if(!q){u.push(t);continue}switch(q.t){case"b":I=q.v?"TRUE":"FALSE",C["office:value-type"]="boolean",C["office:boolean-value"]=q.v?"true":"false";break;case"n":I=q.w||String(q.v||0),C["office:value-type"]="float",C["office:value"]=q.v||0;break;case"s":case"str":I=q.v==null?"":q.v,C["office:value-type"]="string";break;case"d":I=q.w||Xs(q.v).toISOString(),C["office:value-type"]="date",C["office:date-value"]=Xs(q.v).toISOString(),C["table:style-name"]="ce1";break;default:u.push(t);continue}var B=e(I);if(q.l&&q.l.Target){var M=q.l.Target;M=M.charAt(0)=="#"?"#"+dX(M.slice(1)):M,M.charAt(0)!="#"&&!M.match(/^\w+:/)&&(M="../"+M),B=Tt("text:a",B,{"xlink:href":M.replace(/&/g,"&amp;")})}u.push("          "+Tt("table:table-cell",Tt("text:p",B,{}),C)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var l=0;a.SheetNames.map(function(f){return a.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var d=0;d<f["!cols"].length;++d)if(f["!cols"][d]){var m=f["!cols"][d];if(m.width==null&&m.wpx==null&&m.wch==null)continue;V3(m),m.ods=l;var y=f["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),s.push(`  </style:style>
`),++l}}});var u=0;a.SheetNames.map(function(f){return a.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var d=0;d<f["!rows"].length;++d)if(f["!rows"][d]){f["!rows"][d].ods=u;var m=f["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),s.push(`  </style:style>
`),++u}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,l){var u=[Oi],f=C1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=C1({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(u.push("<office:document"+f+d+`>
`),u.push(cI().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+f+`>
`),i(u,a),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var m=0;m!=a.SheetNames.length;++m)u.push(n(a.Sheets[a.SheetNames[m]],a,m));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),l.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}}();function YI(e,t){if(t.bookType=="fods")return iE(e,t);var r=R3(),n="",i=[],s=[];return n="mimetype",Lr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Lr(r,n,iE(e,t)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",Lr(r,n,GK(e,t)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",Lr(r,n,Oi+cI()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",Lr(r,n,iq(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Lr(r,n,rq(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Um(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function $K(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):ko(A1(e))}function XK(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function vu(e){var t=e.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function YK(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)e[t+s]=i&255;e[t+15]|=r>=0?0:128}function N1(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function gn(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Qh(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Bi(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=N1(e,r),s=i&7;i=Math.floor(i/8);var a=0,l;if(i==0)break;switch(s){case 0:{for(var u=r[0];e[r[0]++]>=128;);l=e.slice(u,r[0])}break;case 5:a=4,l=e.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,l=e.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=N1(e,r),l=e.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var f={data:l,type:s};t[i]==null?t[i]=[f]:t[i].push(f)}return t}function cs(e){var t=[];return e.forEach(function(r,n){r.forEach(function(i){i.data&&(t.push(gn(n*8+i.type)),i.type==2&&t.push(gn(i.data.length)),t.push(i.data))})}),vu(t)}function xo(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=N1(e,n),s=Bi(e.slice(n[0],n[0]+i));n[0]+=i;var a={id:Qh(s[1][0].data),messages:[]};s[2].forEach(function(l){var u=Bi(l.data),f=Qh(u[3][0].data);a.messages.push({meta:u,data:e.slice(n[0],n[0]+f)}),n[0]+=f}),(t=s[3])!=null&&t[0]&&(a.merge=Qh(s[3][0].data)>>>0>0),r.push(a)}return r}function dh(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:gn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:gn(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:gn(a.data.length)}],n[2].push({data:cs(a.meta),type:2})});var s=cs(n);t.push(gn(s.length)),t.push(s),i.forEach(function(a){return t.push(a)})}),vu(t)}function KK(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=N1(t,r),i=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var a=t[r[0]++]>>2;if(a<60)++a;else{var l=a-59;a=t[r[0]],l>1&&(a|=t[r[0]+1]<<8),l>2&&(a|=t[r[0]+2]<<16),l>3&&(a|=t[r[0]+3]<<24),a>>>=0,a++,r[0]+=l}i.push(t.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var u=0,f=0;if(s==1?(f=(t[r[0]]>>2&7)+4,u=(t[r[0]++]&224)<<3,u|=t[r[0]++]):(f=(t[r[0]++]>>2)+1,s==2?(u=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(u=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[vu(i)],u==0)throw new Error("Invalid offset 0");if(u>i[0].length)throw new Error("Invalid offset beyond length");if(f>=u)for(i.push(i[0].slice(-u)),f-=u;f>=i[i.length-1].length;)i.push(i[i.length-1]),f-=i[i.length-1].length;i.push(i[0].slice(-u,-u+f))}}var d=vu(i);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function vo(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(KK(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return vu(t)}function ph(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),i=new Uint8Array(4);t.push(i);var s=gn(n),a=s.length;t.push(s),n<=60?(a++,t.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,r+=n}return vu(t)}function Av(e,t){var r=new Uint8Array(32),n=Um(r),i=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,YK(r,i,e.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,e.v?1:0,!0),s|=2,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(i,t.indexOf(e.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),r.slice(0,i)}function Cv(e,t){var r=new Uint8Array(32),n=Um(r),i=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(i,e.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,e.v?1:0,!0),s|=32,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(i,t.indexOf(e.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),r.slice(0,i)}function Tc(e){var t=Bi(e);return N1(t[1][0].data)}function QK(e,t,r){var n,i,s,a;if(!((n=e[6])!=null&&n[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var l=((a=(s=e[8])==null?void 0:s[0])==null?void 0:a.data)&&Qh(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var u=0,f=Um(e[7][0].data),d=0,m=[],y=Um(e[4][0].data),v=0,E=[],_=0;_<t.length;++_){if(t[_]==null){f.setUint16(_*2,65535,!0),y.setUint16(_*2,65535);continue}f.setUint16(_*2,d,!0),y.setUint16(_*2,v,!0);var N,A;switch(typeof t[_]){case"string":N=Av({t:"s",v:t[_]},r),A=Cv({t:"s",v:t[_]},r);break;case"number":N=Av({t:"n",v:t[_]},r),A=Cv({t:"n",v:t[_]},r);break;case"boolean":N=Av({t:"b",v:t[_]},r),A=Cv({t:"b",v:t[_]},r);break;default:throw new Error("Unsupported value "+t[_])}m.push(N),d+=N.length,E.push(A),v+=A.length,++u}for(e[2][0].data=gn(u);_<e[7][0].data.length/2;++_)f.setUint16(_*2,65535,!0),y.setUint16(_*2,65535,!0);return e[6][0].data=vu(m),e[3][0].data=vu(E),u}function ZK(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Ba(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Pi(n)));var s=Wm(r,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(V){return V.forEach(function(G){typeof G=="string"&&a.push(G)})});var l={},u=[],f=An.read(t.numbers,{type:"base64"});f.FileIndex.map(function(V,G){return[V,f.FullPaths[G]]}).forEach(function(V){var G=V[0],Z=V[1];if(G.type==2&&G.name.match(/\.iwa/)){var ie=G.content,Se=vo(ie),be=xo(Se);be.forEach(function(Ce){u.push(Ce.id),l[Ce.id]={deps:[],location:Z,type:Qh(Ce.messages[0].meta[1][0].data)}})}}),u.sort(function(V,G){return V-G});var d=u.filter(function(V){return V>1}).map(function(V){return[V,gn(V)]});f.FileIndex.map(function(V,G){return[V,f.FullPaths[G]]}).forEach(function(V){var G=V[0];if(V[1],!!G.name.match(/\.iwa/)){var Z=xo(vo(G.content));Z.forEach(function(ie){ie.messages.forEach(function(Se){d.forEach(function(be){ie.messages.some(function(Ce){return Qh(Ce.meta[1][0].data)!=11006&&XK(Ce.data,be[1])})&&l[be[0]].deps.push(ie.id)})})})}});for(var m=An.find(f,l[1].location),y=xo(vo(m.content)),v,E=0;E<y.length;++E){var _=y[E];_.id==1&&(v=_)}var N=Tc(Bi(v.messages[0].data)[1][0].data);for(m=An.find(f,l[N].location),y=xo(vo(m.content)),E=0;E<y.length;++E)_=y[E],_.id==N&&(v=_);for(N=Tc(Bi(v.messages[0].data)[2][0].data),m=An.find(f,l[N].location),y=xo(vo(m.content)),E=0;E<y.length;++E)_=y[E],_.id==N&&(v=_);for(N=Tc(Bi(v.messages[0].data)[2][0].data),m=An.find(f,l[N].location),y=xo(vo(m.content)),E=0;E<y.length;++E)_=y[E],_.id==N&&(v=_);var A=Bi(v.messages[0].data);{A[6][0].data=gn(n.e.r+1),A[7][0].data=gn(n.e.c+1);var C=Tc(A[46][0].data),I=An.find(f,l[C].location),L=xo(vo(I.content));{for(var q=0;q<L.length&&L[q].id!=C;++q);if(L[q].id!=C)throw"Bad ColumnRowUIDMapArchive";var Q=Bi(L[q].messages[0].data);Q[1]=[],Q[2]=[],Q[3]=[];for(var B=0;B<=n.e.c;++B){var M=[];M[1]=M[2]=[{type:0,data:gn(B+420690)}],Q[1].push({type:2,data:cs(M)}),Q[2].push({type:0,data:gn(B)}),Q[3].push({type:0,data:gn(B)})}Q[4]=[],Q[5]=[],Q[6]=[];for(var F=0;F<=n.e.r;++F)M=[],M[1]=M[2]=[{type:0,data:gn(F+726270)}],Q[4].push({type:2,data:cs(M)}),Q[5].push({type:0,data:gn(F)}),Q[6].push({type:0,data:gn(F)});L[q].messages[0].data=cs(Q)}I.content=ph(dh(L)),I.size=I.content.length,delete A[46];var X=Bi(A[4][0].data);{X[7][0].data=gn(n.e.r+1);var W=Bi(X[1][0].data),U=Tc(W[2][0].data);I=An.find(f,l[U].location),L=xo(vo(I.content));{if(L[0].id!=U)throw"Bad HeaderStorageBucket";var re=Bi(L[0].messages[0].data);for(F=0;F<s.length;++F){var oe=Bi(re[2][0].data);oe[1][0].data=gn(F),oe[4][0].data=gn(s[F].length),re[2][F]={type:re[2][0].type,data:cs(oe)}}L[0].messages[0].data=cs(re)}I.content=ph(dh(L)),I.size=I.content.length;var le=Tc(X[2][0].data);I=An.find(f,l[le].location),L=xo(vo(I.content));{if(L[0].id!=le)throw"Bad HeaderStorageBucket";for(re=Bi(L[0].messages[0].data),B=0;B<=n.e.c;++B)oe=Bi(re[2][0].data),oe[1][0].data=gn(B),oe[4][0].data=gn(n.e.r+1),re[2][B]={type:re[2][0].type,data:cs(oe)};L[0].messages[0].data=cs(re)}I.content=ph(dh(L)),I.size=I.content.length;var Ne=Tc(X[4][0].data);(function(){for(var V=An.find(f,l[Ne].location),G=xo(vo(V.content)),Z,ie=0;ie<G.length;++ie){var Se=G[ie];Se.id==Ne&&(Z=Se)}var be=Bi(Z.messages[0].data);{be[3]=[];var Ce=[];a.forEach(function(Ge,Qe){Ce[1]=[{type:0,data:gn(Qe)}],Ce[2]=[{type:0,data:gn(1)}],Ce[3]=[{type:2,data:$K(Ge)}],be[3].push({type:2,data:cs(Ce)})})}Z.messages[0].data=cs(be);var Pe=dh(G),Re=ph(Pe);V.content=Re,V.size=V.content.length})();var Ae=Bi(X[3][0].data);{var de=Ae[1][0];delete Ae[2];var _e=Bi(de.data);{var Te=Tc(_e[2][0].data);(function(){for(var V=An.find(f,l[Te].location),G=xo(vo(V.content)),Z,ie=0;ie<G.length;++ie){var Se=G[ie];Se.id==Te&&(Z=Se)}var be=Bi(Z.messages[0].data);{delete be[6],delete Ae[7];var Ce=new Uint8Array(be[5][0].data);be[5]=[];for(var Pe=0,Re=0;Re<=n.e.r;++Re){var Ge=Bi(Ce);Pe+=QK(Ge,s[Re],a),Ge[1][0].data=gn(Re),be[5].push({data:cs(Ge),type:2})}be[1]=[{type:0,data:gn(n.e.c+1)}],be[2]=[{type:0,data:gn(n.e.r+1)}],be[3]=[{type:0,data:gn(Pe)}],be[4]=[{type:0,data:gn(n.e.r+1)}]}Z.messages[0].data=cs(be);var Qe=dh(G),ct=ph(Qe);V.content=ct,V.size=V.content.length})()}de.data=cs(_e)}X[3][0].data=cs(Ae)}A[4][0].data=cs(X)}v.messages[0].data=cs(A);var He=dh(y),j=ph(He);return m.content=j,m.size=m.content.length,f}function JK(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Y3(e){JK([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function eQ(e,t){return t.bookType=="ods"?YI(e,t):t.bookType=="numbers"?ZK(e,t):t.bookType=="xlsb"?tQ(e,t):rQ(e,t)}function tQ(e,t){Rh=1024,e&&!e.SSF&&(e.SSF=ga(fi)),e&&e.SSF&&(z2(),W2(e.SSF),t.revssf=H2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Y0?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=PI.indexOf(t.bookType)>-1,i=aI();Y3(t=t||{});var s=R3(),a="",l=0;if(t.cellXfs=[],Pu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),a="docProps/core.xml",Lr(s,a,uI(e.Props,t)),i.coreprops.push(a),xn(t.rels,2,a,tn.CORE_PROPS),a="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,Lr(s,a,hI(e.Props)),i.extprops.push(a),xn(t.rels,3,a,tn.EXT_PROPS),e.Custprops!==e.Props&&vs(e.Custprops||{}).length>0&&(a="docProps/custom.xml",Lr(s,a,dI(e.Custprops)),i.custprops.push(a),xn(t.rels,4,a,tn.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],y=(m||{})["!type"]||"sheet";switch(y){case"chart":default:a="xl/worksheets/sheet"+l+"."+r,Lr(s,a,iK(l-1,a,t,e,d)),i.sheets.push(a),xn(t.wbrels,-1,"worksheets/sheet"+l+"."+r,tn.WS[0])}if(m){var v=m["!comments"],E=!1,_="";v&&v.length>0&&(_="xl/comments"+l+"."+r,Lr(s,_,oK(v,_)),i.comments.push(_),xn(d,-1,"../comments"+l+"."+r,tn.CMNT),E=!0),m["!legacy"]&&E&&Lr(s,"xl/drawings/vmlDrawing"+l+".vml",II(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}d["!id"].rId1&&Lr(s,lI(a),Yh(d))}return t.Strings!=null&&t.Strings.length>0&&(a="xl/sharedStrings."+r,Lr(s,a,aK(t.Strings,a,t)),i.strs.push(a),xn(t.wbrels,-1,"sharedStrings."+r,tn.SST)),a="xl/workbook."+r,Lr(s,a,nK(e,a)),i.workbooks.push(a),xn(t.rels,1,a,tn.WB),a="xl/theme/theme1.xml",Lr(s,a,NI(e.Themes,t)),i.themes.push(a),xn(t.wbrels,-1,"theme/theme1.xml",tn.THEME),a="xl/styles."+r,Lr(s,a,sK(e,a,t)),i.styles.push(a),xn(t.wbrels,-1,"styles."+r,tn.STY),e.vbaraw&&n&&(a="xl/vbaProject.bin",Lr(s,a,e.vbaraw),i.vba.push(a),xn(t.wbrels,-1,"vbaProject.bin",tn.VBA)),a="xl/metadata."+r,Lr(s,a,lK(a)),i.metadata.push(a),xn(t.wbrels,-1,"metadata."+r,tn.XLMETA),Lr(s,"[Content_Types].xml",oI(i,t)),Lr(s,"_rels/.rels",Yh(t.rels)),Lr(s,"xl/_rels/workbook."+r+".rels",Yh(t.wbrels)),delete t.revssf,delete t.ssf,s}function rQ(e,t){Rh=1024,e&&!e.SSF&&(e.SSF=ga(fi)),e&&e.SSF&&(z2(),W2(e.SSF),t.revssf=H2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Y0?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=PI.indexOf(t.bookType)>-1,i=aI();Y3(t=t||{});var s=R3(),a="",l=0;if(t.cellXfs=[],Pu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),a="docProps/core.xml",Lr(s,a,uI(e.Props,t)),i.coreprops.push(a),xn(t.rels,2,a,tn.CORE_PROPS),a="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,Lr(s,a,hI(e.Props)),i.extprops.push(a),xn(t.rels,3,a,tn.EXT_PROPS),e.Custprops!==e.Props&&vs(e.Custprops||{}).length>0&&(a="docProps/custom.xml",Lr(s,a,dI(e.Custprops)),i.custprops.push(a),xn(t.rels,4,a,tn.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var m={"!id":{}},y=e.Sheets[e.SheetNames[l-1]],v=(y||{})["!type"]||"sheet";switch(v){case"chart":default:a="xl/worksheets/sheet"+l+"."+r,Lr(s,a,UI(l-1,t,e,m)),i.sheets.push(a),xn(t.wbrels,-1,"worksheets/sheet"+l+"."+r,tn.WS[0])}if(y){var E=y["!comments"],_=!1,N="";if(E&&E.length>0){var A=!1;E.forEach(function(C){C[1].forEach(function(I){I.T==!0&&(A=!0)})}),A&&(N="xl/threadedComments/threadedComment"+l+"."+r,Lr(s,N,RG(E,d,t)),i.threadedcomments.push(N),xn(m,-1,"../threadedComments/threadedComment"+l+"."+r,tn.TCMNT)),N="xl/comments"+l+"."+r,Lr(s,N,kI(E)),i.comments.push(N),xn(m,-1,"../comments"+l+"."+r,tn.CMNT),_=!0}y["!legacy"]&&_&&Lr(s,"xl/drawings/vmlDrawing"+l+".vml",II(l,y["!comments"])),delete y["!comments"],delete y["!legacy"]}m["!id"].rId1&&Lr(s,lI(a),Yh(m))}return t.Strings!=null&&t.Strings.length>0&&(a="xl/sharedStrings."+r,Lr(s,a,bI(t.Strings,t)),i.strs.push(a),xn(t.wbrels,-1,"sharedStrings."+r,tn.SST)),a="xl/workbook."+r,Lr(s,a,HI(e)),i.workbooks.push(a),xn(t.rels,1,a,tn.WB),a="xl/theme/theme1.xml",Lr(s,a,NI(e.Themes,t)),i.themes.push(a),xn(t.wbrels,-1,"theme/theme1.xml",tn.THEME),a="xl/styles."+r,Lr(s,a,AI(e,t)),i.styles.push(a),xn(t.wbrels,-1,"styles."+r,tn.STY),e.vbaraw&&n&&(a="xl/vbaProject.bin",Lr(s,a,e.vbaraw),i.vba.push(a),xn(t.wbrels,-1,"vbaProject.bin",tn.VBA)),a="xl/metadata."+r,Lr(s,a,TI()),i.metadata.push(a),xn(t.wbrels,-1,"metadata."+r,tn.XLMETA),d.length>1&&(a="xl/persons/person.xml",Lr(s,a,LG(d)),i.people.push(a),xn(t.wbrels,-1,"persons/person.xml",tn.PEOPLE)),Lr(s,"[Content_Types].xml",oI(i,t)),Lr(s,"_rels/.rels",Yh(t.rels)),Lr(s,"xl/_rels/workbook."+r+".rels",Yh(t.wbrels)),delete t.revssf,delete t.ssf,s}function nQ(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Jl(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function KI(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return tp(t.file,An.write(e,{type:nn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return An.write(e,t)}function iQ(e,t){var r=ga(t||{}),n=eQ(e,r);return sQ(n,r)}function sQ(e,t){var r={},n=nn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?An.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(U2(i))}return t.password&&typeof encrypt_agile<"u"?KI(encrypt_agile(i,t.password),t):t.type==="file"?tp(t.file,i):t.type=="string"?q0(i):i}function aQ(e,t){var r=t||{},n=_K(e,r);return KI(n,r)}function Jo(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return S1(A1(n));case"binary":return A1(n);case"string":return e;case"file":return tp(t.file,n,"utf8");case"buffer":return nn?ac(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Jo(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function oQ(e,t){switch(t.type){case"base64":return S1(e);case"binary":return e;case"string":return e;case"file":return tp(t.file,e,"binary");case"buffer":return nn?ac(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function hg(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?S1(r):t.type=="string"?q0(r):r;case"file":return tp(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function QI(e,t){DH(),GY(e);var r=ga(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=QI(e,r);return r.type="array",U2(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=e.SheetNames.indexOf(r.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Jo(yK(e,r),r);case"slk":case"sylk":return Jo(Hq.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"htm":case"html":return Jo(GI(e.Sheets[e.SheetNames[i]],r),r);case"txt":return oQ(ZI(e.Sheets[e.SheetNames[i]],r),r);case"csv":return Jo(K3(e.Sheets[e.SheetNames[i]],r),r,"\uFEFF");case"dif":return Jo(Vq.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"dbf":return hg(zq.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"prn":return Jo(qq.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"rtf":return Jo(Zq.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"eth":return Jo(yI.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"fods":return Jo(YI(e,r),r);case"wk1":return hg(QS.sheet_to_wk1(e.Sheets[e.SheetNames[i]],r),r);case"wk3":return hg(QS.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),hg(qI(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),aQ(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return iQ(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function lQ(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function cQ(e,t,r){var n={};return n.type="file",n.file=t,lQ(n),QI(e,n)}function uQ(e,t,r,n,i,s,a,l){var u=gs(r),f=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),m=!0,y=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:r,enumerable:!1})}catch{y.__rowNum__=r}else y.__rowNum__=r;if(!a||e[r])for(var v=t.s.c;v<=t.e.c;++v){var E=a?e[r][v]:e[n[v]+u];if(E===void 0||E.t===void 0){if(f===void 0)continue;s[v]!=null&&(y[s[v]]=f);continue}var _=E.v;switch(E.t){case"z":if(_==null)break;continue;case"e":_=_==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+E.t)}if(s[v]!=null){if(_==null)if(E.t=="e"&&_===null)y[s[v]]=null;else if(f!==void 0)y[s[v]]=f;else if(d&&_===null)y[s[v]]=null;else continue;else y[s[v]]=d&&(E.t!=="n"||E.t==="n"&&l.rawNumbers!==!1)?_:ec(E,_,l);_!=null&&(m=!1)}}return{row:y,isempty:m}}function Wm(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],a=0,l="",u={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},d=f.range!=null?f.range:e["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof d){case"string":u=zn(d);break;case"number":u=zn(e["!ref"]),u.s.r=d;break;default:u=d}n>0&&(i=0);var m=gs(u.s.r),y=[],v=[],E=0,_=0,N=Array.isArray(e),A=u.s.r,C=0,I={};N&&!e[A]&&(e[A]=[]);var L=f.skipHidden&&e["!cols"]||[],q=f.skipHidden&&e["!rows"]||[];for(C=u.s.c;C<=u.e.c;++C)if(!(L[C]||{}).hidden)switch(y[C]=Ls(C),r=N?e[A][C]:e[y[C]+m],n){case 1:s[C]=C-u.s.c;break;case 2:s[C]=y[C];break;case 3:s[C]=f.header[C-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=a=ec(r,null,f),_=I[a]||0,!_)I[a]=1;else{do l=a+"_"+_++;while(I[l]);I[a]=_,I[l]=1}s[C]=l}for(A=u.s.r+i;A<=u.e.r;++A)if(!(q[A]||{}).hidden){var Q=uQ(e,u,A,y,n,s,N,f);(Q.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(v[E++]=Q.row)}return v.length=E,v}var sE=/"/g;function fQ(e,t,r,n,i,s,a,l){for(var u=!0,f=[],d="",m=gs(r),y=t.s.c;y<=t.e.c;++y)if(n[y]){var v=l.dense?(e[r]||[])[y]:e[n[y]+m];if(v==null)d="";else if(v.v!=null){u=!1,d=""+(l.rawNumbers&&v.t=="n"?v.v:ec(v,null,l));for(var E=0,_=0;E!==d.length;++E)if((_=d.charCodeAt(E))===i||_===s||_===34||l.forceQuotes){d='"'+d.replace(sE,'""')+'"';break}d=="ID"&&(d='"ID"')}else v.f!=null&&!v.F?(u=!1,d="="+v.f,d.indexOf(",")>=0&&(d='"'+d.replace(sE,'""')+'"')):d="";f.push(d)}return l.blankrows===!1&&u?null:f.join(a)}function K3(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=zn(e["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,u=l.charCodeAt(0),f=new RegExp((s=="|"?"\\|":s)+"+$"),d="",m=[];n.dense=Array.isArray(e);for(var y=n.skipHidden&&e["!cols"]||[],v=n.skipHidden&&e["!rows"]||[],E=i.s.c;E<=i.e.c;++E)(y[E]||{}).hidden||(m[E]=Ls(E));for(var _=0,N=i.s.r;N<=i.e.r;++N)(v[N]||{}).hidden||(d=fQ(e,i,N,m,a,u,s,n),d!=null&&(n.strip&&(d=d.replace(f,"")),(d||n.blankrows!==!1)&&r.push((_++?l:"")+d)));return delete n.dense,r.join("")}function ZI(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=K3(e,t);return r}function hQ(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=zn(e["!ref"]),s="",a=[],l,u=[],f=Array.isArray(e);for(l=i.s.c;l<=i.e.c;++l)a[l]=Ls(l);for(var d=i.s.r;d<=i.e.r;++d)for(s=gs(d),l=i.s.c;l<=i.e.c;++l)if(t=a[l]+s,r=f?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}u[u.length]=t+"="+n}return u}function JI(e,t,r){var n=r||{},i=+!n.skipHeader,s=e||{},a=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var u=typeof n.origin=="string"?es(n.origin):n.origin;a=u.r,l=u.c}var f,d={s:{c:0,r:0},e:{c:l,r:a+t.length-1+i}};if(s["!ref"]){var m=zn(s["!ref"]);d.e.c=Math.max(d.e.c,m.e.c),d.e.r=Math.max(d.e.r,m.e.r),a==-1&&(a=m.e.r+1,d.e.r=a+t.length-1+i)}else a==-1&&(a=0,d.e.r=t.length-1+i);var y=n.header||[],v=0;t.forEach(function(_,N){vs(_).forEach(function(A){(v=y.indexOf(A))==-1&&(y[v=y.length]=A);var C=_[A],I="z",L="",q=bn({c:l+v,r:a+N+i});f=T1(s,q),C&&typeof C=="object"&&!(C instanceof Date)?s[q]=C:(typeof C=="number"?I="n":typeof C=="boolean"?I="b":typeof C=="string"?I="s":C instanceof Date?(I="d",n.cellDates||(I="n",C=pa(C)),L=n.dateNF||fi[14]):C===null&&n.nullError&&(I="e",C=0),f?(f.t=I,f.v=C,delete f.w,delete f.R,L&&(f.z=L)):s[q]=f={t:I,v:C},L&&(f.z=L))})}),d.e.c=Math.max(d.e.c,l+y.length-1);var E=gs(a);if(i)for(v=0;v<y.length;++v)s[Ls(v+l)+E]={t:"s",v:y[v]};return s["!ref"]=Pi(d),s}function dQ(e,t){return JI(null,e,t)}function T1(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=es(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?T1(e,bn(t)):T1(e,bn({r:t,c:r||0}))}function pQ(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function gQ(){return{SheetNames:[],Sheets:{}}}function mQ(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=a+i)!=-1;++i);}if(zI(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function xQ(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=pQ(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function vQ(e,t){return e.z=t,e}function e7(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function wQ(e,t,r){return e7(e,"#"+t,r)}function yQ(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function bQ(e,t,r,n){for(var i=typeof t!="string"?t:zn(t),s=typeof t=="string"?t:Pi(t),a=i.s.r;a<=i.e.r;++a)for(var l=i.s.c;l<=i.e.c;++l){var u=T1(e,a,l);u.t="n",u.F=s,delete u.v,a==i.s.r&&l==i.s.c&&(u.f=r,n&&(u.D=!0))}return e}var Nv={encode_col:Ls,encode_row:gs,encode_cell:bn,encode_range:Pi,decode_col:B3,decode_row:j3,split_cell:DV,decode_cell:es,decode_range:Ba,format_cell:ec,sheet_add_aoa:eI,sheet_add_json:JI,sheet_add_dom:$I,aoa_to_sheet:qd,json_to_sheet:dQ,table_to_sheet:XI,table_to_book:VK,sheet_to_csv:K3,sheet_to_txt:ZI,sheet_to_json:Wm,sheet_to_html:GI,sheet_to_formulae:hQ,sheet_to_row_object_array:Wm,sheet_get_cell:T1,book_new:gQ,book_append_sheet:mQ,book_set_sheet_visibility:xQ,cell_set_number_format:vQ,cell_set_hyperlink:e7,cell_set_internal_link:wQ,cell_add_comment:yQ,sheet_set_array_formula:bQ,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function wn(e){"@babel/helpers - typeof";return wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wn(e)}var Rs=Uint8Array,Da=Uint16Array,Q3=Int32Array,X2=new Rs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Y2=new Rs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_y=new Rs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),t7=function(e,t){for(var r=new Da(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new Q3(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},r7=t7(X2,2),n7=r7.b,Sy=r7.r;n7[28]=258,Sy[258]=28;var i7=t7(Y2,0),_Q=i7.b,aE=i7.r,Ey=new Da(32768);for(var Un=0;Un<32768;++Un){var Ic=(Un&43690)>>1|(Un&21845)<<1;Ic=(Ic&52428)>>2|(Ic&13107)<<2,Ic=(Ic&61680)>>4|(Ic&3855)<<4,Ey[Un]=((Ic&65280)>>8|(Ic&255)<<8)>>1}var dl=function(e,t,r){for(var n=e.length,i=0,s=new Da(t);i<n;++i)e[i]&&++s[e[i]-1];var a=new Da(t);for(i=1;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;var l;if(r){l=new Da(1<<t);var u=15-t;for(i=0;i<n;++i)if(e[i])for(var f=i<<4|e[i],d=t-e[i],m=a[e[i]-1]++<<d,y=m|(1<<d)-1;m<=y;++m)l[Ey[m]>>u]=f}else for(l=new Da(n),i=0;i<n;++i)e[i]&&(l[i]=Ey[a[e[i]-1]++]>>15-e[i]);return l},wu=new Rs(288);for(var Un=0;Un<144;++Un)wu[Un]=8;for(var Un=144;Un<256;++Un)wu[Un]=9;for(var Un=256;Un<280;++Un)wu[Un]=7;for(var Un=280;Un<288;++Un)wu[Un]=8;var I1=new Rs(32);for(var Un=0;Un<32;++Un)I1[Un]=5;var SQ=dl(wu,9,0),EQ=dl(wu,9,1),AQ=dl(I1,5,0),CQ=dl(I1,5,1),Tv=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},wo=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},Iv=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},Z3=function(e){return(e+7)/8|0},s7=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Rs(e.subarray(t,r))},NQ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Eo=function(e,t,r){var n=new Error(t||NQ[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Eo),!r)throw n;return n},TQ=function(e,t,r,n){var i=e.length,s=0;if(!i||t.f&&!t.l)return r||new Rs(0);var a=!r,l=a||t.i!=2,u=t.i;a&&(r=new Rs(i*3));var f=function(Re){var Ge=r.length;if(Re>Ge){var Qe=new Rs(Math.max(Ge*2,Re));Qe.set(r),r=Qe}},d=t.f||0,m=t.p||0,y=t.b||0,v=t.l,E=t.d,_=t.m,N=t.n,A=i*8;do{if(!v){d=wo(e,m,1);var C=wo(e,m+1,3);if(m+=3,C)if(C==1)v=EQ,E=CQ,_=9,N=5;else if(C==2){var Q=wo(e,m,31)+257,B=wo(e,m+10,15)+4,M=Q+wo(e,m+5,31)+1;m+=14;for(var F=new Rs(M),X=new Rs(19),W=0;W<B;++W)X[_y[W]]=wo(e,m+W*3,7);m+=B*3;for(var U=Tv(X),re=(1<<U)-1,oe=dl(X,U,1),W=0;W<M;){var le=oe[wo(e,m,re)];m+=le&15;var I=le>>4;if(I<16)F[W++]=I;else{var Ne=0,Ae=0;for(I==16?(Ae=3+wo(e,m,3),m+=2,Ne=F[W-1]):I==17?(Ae=3+wo(e,m,7),m+=3):I==18&&(Ae=11+wo(e,m,127),m+=7);Ae--;)F[W++]=Ne}}var de=F.subarray(0,Q),_e=F.subarray(Q);_=Tv(de),N=Tv(_e),v=dl(de,_,1),E=dl(_e,N,1)}else Eo(1);else{var I=Z3(m)+4,L=e[I-4]|e[I-3]<<8,q=I+L;if(q>i){u&&Eo(0);break}l&&f(y+L),r.set(e.subarray(I,q),y),t.b=y+=L,t.p=m=q*8,t.f=d;continue}if(m>A){u&&Eo(0);break}}l&&f(y+131072);for(var Te=(1<<_)-1,He=(1<<N)-1,j=m;;j=m){var Ne=v[Iv(e,m)&Te],V=Ne>>4;if(m+=Ne&15,m>A){u&&Eo(0);break}if(Ne||Eo(2),V<256)r[y++]=V;else if(V==256){j=m,v=null;break}else{var G=V-254;if(V>264){var W=V-257,Z=X2[W];G=wo(e,m,(1<<Z)-1)+n7[W],m+=Z}var ie=E[Iv(e,m)&He],Se=ie>>4;ie||Eo(3),m+=ie&15;var _e=_Q[Se];if(Se>3){var Z=Y2[Se];_e+=Iv(e,m)&(1<<Z)-1,m+=Z}if(m>A){u&&Eo(0);break}l&&f(y+131072);var be=y+G;if(y<_e){var Ce=s-_e,Pe=Math.min(_e,be);for(Ce+y<0&&Eo(3);y<Pe;++y)r[y]=n[Ce+y]}for(;y<be;++y)r[y]=r[y-_e]}}t.l=v,t.p=j,t.b=y,t.f=d,v&&(d=1,t.m=_,t.d=E,t.n=N)}while(!d);return y!=r.length&&a?s7(r,0,y):r.subarray(0,y)},Ol=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},v0=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},kv=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,s=r.slice();if(!i)return{t:o7,l:0};if(i==1){var a=new Rs(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(q,Q){return q.f-Q.f}),r.push({s:-1,f:25001});var l=r[0],u=r[1],f=0,d=1,m=2;for(r[0]={s:-1,f:l.f+u.f,l,r:u};d!=i-1;)l=r[r[f].f<r[m].f?f++:m++],u=r[f!=d&&r[f].f<r[m].f?f++:m++],r[d++]={s:-1,f:l.f+u.f,l,r:u};for(var y=s[0].s,n=1;n<i;++n)s[n].s>y&&(y=s[n].s);var v=new Da(y+1),E=Ay(r[d-1],v,0);if(E>t){var n=0,_=0,N=E-t,A=1<<N;for(s.sort(function(Q,B){return v[B.s]-v[Q.s]||Q.f-B.f});n<i;++n){var C=s[n].s;if(v[C]>t)_+=A-(1<<E-v[C]),v[C]=t;else break}for(_>>=N;_>0;){var I=s[n].s;v[I]<t?_-=1<<t-v[I]++-1:++n}for(;n>=0&&_;--n){var L=s[n].s;v[L]==t&&(--v[L],++_)}E=t}return{t:new Rs(v),l:E}},Ay=function(e,t,r){return e.s==-1?Math.max(Ay(e.l,t,r+1),Ay(e.r,t,r+1)):t[e.s]=r},oE=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Da(++t),n=0,i=e[0],s=1,a=function(u){r[n++]=u},l=1;l<=t;++l)if(e[l]==i&&l!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[l]}return{c:r.subarray(0,n),n:t}},w0=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},a7=function(e,t,r){var n=r.length,i=Z3(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<n;++s)e[i+s+4]=r[s];return(i+4+n)*8},lE=function(e,t,r,n,i,s,a,l,u,f,d){Ol(t,d++,r),++i[256];for(var m=kv(i,15),y=m.t,v=m.l,E=kv(s,15),_=E.t,N=E.l,A=oE(y),C=A.c,I=A.n,L=oE(_),q=L.c,Q=L.n,B=new Da(19),M=0;M<C.length;++M)++B[C[M]&31];for(var M=0;M<q.length;++M)++B[q[M]&31];for(var F=kv(B,7),X=F.t,W=F.l,U=19;U>4&&!X[_y[U-1]];--U);var re=f+5<<3,oe=w0(i,wu)+w0(s,I1)+a,le=w0(i,y)+w0(s,_)+a+14+3*U+w0(B,X)+2*B[16]+3*B[17]+7*B[18];if(u>=0&&re<=oe&&re<=le)return a7(t,d,e.subarray(u,u+f));var Ne,Ae,de,_e;if(Ol(t,d,1+(le<oe)),d+=2,le<oe){Ne=dl(y,v,0),Ae=y,de=dl(_,N,0),_e=_;var Te=dl(X,W,0);Ol(t,d,I-257),Ol(t,d+5,Q-1),Ol(t,d+10,U-4),d+=14;for(var M=0;M<U;++M)Ol(t,d+3*M,X[_y[M]]);d+=3*U;for(var He=[C,q],j=0;j<2;++j)for(var V=He[j],M=0;M<V.length;++M){var G=V[M]&31;Ol(t,d,Te[G]),d+=X[G],G>15&&(Ol(t,d,V[M]>>5&127),d+=V[M]>>12)}}else Ne=SQ,Ae=wu,de=AQ,_e=I1;for(var M=0;M<l;++M){var Z=n[M];if(Z>255){var G=Z>>18&31;v0(t,d,Ne[G+257]),d+=Ae[G+257],G>7&&(Ol(t,d,Z>>23&31),d+=X2[G]);var ie=Z&31;v0(t,d,de[ie]),d+=_e[ie],ie>3&&(v0(t,d,Z>>5&8191),d+=Y2[ie])}else v0(t,d,Ne[Z]),d+=Ae[Z]}return v0(t,d,Ne[256]),d+Ae[256]},IQ=new Q3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),o7=new Rs(0),kQ=function(e,t,r,n,i,s){var a=s.z||e.length,l=new Rs(n+a+5*(1+Math.ceil(a/7e3))+i),u=l.subarray(n,l.length-i),f=s.l,d=(s.r||0)&7;if(t){d&&(u[0]=s.r>>3);for(var m=IQ[t-1],y=m>>13,v=m&8191,E=(1<<r)-1,_=s.p||new Da(32768),N=s.h||new Da(E+1),A=Math.ceil(r/3),C=2*A,I=function(ct){return(e[ct]^e[ct+1]<<A^e[ct+2]<<C)&E},L=new Q3(25e3),q=new Da(288),Q=new Da(32),B=0,M=0,F=s.i||0,X=0,W=s.w||0,U=0;F+2<a;++F){var re=I(F),oe=F&32767,le=N[re];if(_[oe]=le,N[re]=oe,W<=F){var Ne=a-F;if((B>7e3||X>24576)&&(Ne>423||!f)){d=lE(e,u,0,L,q,Q,M,X,U,F-U,d),X=B=M=0,U=F;for(var Ae=0;Ae<286;++Ae)q[Ae]=0;for(var Ae=0;Ae<30;++Ae)Q[Ae]=0}var de=2,_e=0,Te=v,He=oe-le&32767;if(Ne>2&&re==I(F-He))for(var j=Math.min(y,Ne)-1,V=Math.min(32767,F),G=Math.min(258,Ne);He<=V&&--Te&&oe!=le;){if(e[F+de]==e[F+de-He]){for(var Z=0;Z<G&&e[F+Z]==e[F+Z-He];++Z);if(Z>de){if(de=Z,_e=He,Z>j)break;for(var ie=Math.min(He,Z-2),Se=0,Ae=0;Ae<ie;++Ae){var be=F-He+Ae&32767,Ce=_[be],Pe=be-Ce&32767;Pe>Se&&(Se=Pe,le=be)}}}oe=le,le=_[oe],He+=oe-le&32767}if(_e){L[X++]=268435456|Sy[de]<<18|aE[_e];var Re=Sy[de]&31,Ge=aE[_e]&31;M+=X2[Re]+Y2[Ge],++q[257+Re],++Q[Ge],W=F+de,++B}else L[X++]=e[F],++q[e[F]]}}for(F=Math.max(F,W);F<a;++F)L[X++]=e[F],++q[e[F]];d=lE(e,u,f,L,q,Q,M,X,U,F-U,d),f||(s.r=d&7|u[d/8|0]<<3,d-=7,s.h=N,s.p=_,s.i=F,s.w=W)}else{for(var F=s.w||0;F<a+f;F+=65535){var Qe=F+65535;Qe>=a&&(u[d/8|0]=f,Qe=a),d=a7(u,d+1,e.subarray(F,Qe))}s.i=a}return s7(l,0,n+Z3(d)+i)},l7=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,s=r.length|0,a=0;a!=s;){for(var l=Math.min(a+2655,s);a<l;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},PQ=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new Rs(s.length+e.length);a.set(s),a.set(e,s.length),e=a,i.w=s.length}return kQ(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},c7=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},OQ=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=l7();i.p(t.dictionary),c7(e,2,i.d())}},RQ=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Eo(6,"invalid zlib data"),(e[1]>>5&1)==1&&Eo(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Cy(e,t){t||(t={});var r=l7();r.p(e);var n=PQ(e,t,t.dictionary?6:2,4);return OQ(n,t),c7(n,n.length-4,r.d()),n}function LQ(e,t){return TQ(e.subarray(RQ(e),-4),{i:2},t,t)}var DQ=typeof TextDecoder<"u"&&new TextDecoder,FQ=0;try{DQ.decode(o7,{stream:!0}),FQ=1}catch{}var ur=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Pv(){ur.console&&typeof ur.console.log=="function"&&ur.console.log.apply(ur.console,arguments)}var Tn={log:Pv,warn:function(e){ur.console&&(typeof ur.console.warn=="function"?ur.console.warn.apply(ur.console,arguments):Pv.call(null,arguments))},error:function(e){ur.console&&(typeof ur.console.error=="function"?ur.console.error.apply(ur.console,arguments):Pv(e))}};function Ov(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){ef(n.response,t,r)},n.onerror=function(){Tn.error("could not download file")},n.send()}function cE(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function dg(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var K0,Ny,ef=ur.saveAs||((typeof window>"u"?"undefined":wn(window))!=="object"||window!==ur?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=ur.URL||ur.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?cE(i.href)?Ov(e,t,r):dg(i,i.target="_blank"):dg(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){dg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(cE(e))Ov(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){dg(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:wn(s)!=="object"&&(Tn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Ov(e,t,r);var i=e.type==="application/octet-stream",s=/constructor/i.test(ur.HTMLElement)||ur.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":wn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var u=ur.URL||ur.webkitURL,f=u.createObjectURL(e);n?n.location=f:location.href=f,n=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function u7(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(e);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+l+u+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Rv(e,t){var r=e[0],n=e[1],i=e[2],s=e[3];r=Ns(r,n,i,s,t[0],7,-680876936),s=Ns(s,r,n,i,t[1],12,-389564586),i=Ns(i,s,r,n,t[2],17,606105819),n=Ns(n,i,s,r,t[3],22,-1044525330),r=Ns(r,n,i,s,t[4],7,-176418897),s=Ns(s,r,n,i,t[5],12,1200080426),i=Ns(i,s,r,n,t[6],17,-1473231341),n=Ns(n,i,s,r,t[7],22,-45705983),r=Ns(r,n,i,s,t[8],7,1770035416),s=Ns(s,r,n,i,t[9],12,-1958414417),i=Ns(i,s,r,n,t[10],17,-42063),n=Ns(n,i,s,r,t[11],22,-1990404162),r=Ns(r,n,i,s,t[12],7,1804603682),s=Ns(s,r,n,i,t[13],12,-40341101),i=Ns(i,s,r,n,t[14],17,-1502002290),r=Ts(r,n=Ns(n,i,s,r,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Ts(s,r,n,i,t[6],9,-1069501632),i=Ts(i,s,r,n,t[11],14,643717713),n=Ts(n,i,s,r,t[0],20,-373897302),r=Ts(r,n,i,s,t[5],5,-701558691),s=Ts(s,r,n,i,t[10],9,38016083),i=Ts(i,s,r,n,t[15],14,-660478335),n=Ts(n,i,s,r,t[4],20,-405537848),r=Ts(r,n,i,s,t[9],5,568446438),s=Ts(s,r,n,i,t[14],9,-1019803690),i=Ts(i,s,r,n,t[3],14,-187363961),n=Ts(n,i,s,r,t[8],20,1163531501),r=Ts(r,n,i,s,t[13],5,-1444681467),s=Ts(s,r,n,i,t[2],9,-51403784),i=Ts(i,s,r,n,t[7],14,1735328473),r=Is(r,n=Ts(n,i,s,r,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Is(s,r,n,i,t[8],11,-2022574463),i=Is(i,s,r,n,t[11],16,1839030562),n=Is(n,i,s,r,t[14],23,-35309556),r=Is(r,n,i,s,t[1],4,-1530992060),s=Is(s,r,n,i,t[4],11,1272893353),i=Is(i,s,r,n,t[7],16,-155497632),n=Is(n,i,s,r,t[10],23,-1094730640),r=Is(r,n,i,s,t[13],4,681279174),s=Is(s,r,n,i,t[0],11,-358537222),i=Is(i,s,r,n,t[3],16,-722521979),n=Is(n,i,s,r,t[6],23,76029189),r=Is(r,n,i,s,t[9],4,-640364487),s=Is(s,r,n,i,t[12],11,-421815835),i=Is(i,s,r,n,t[15],16,530742520),r=ks(r,n=Is(n,i,s,r,t[2],23,-995338651),i,s,t[0],6,-198630844),s=ks(s,r,n,i,t[7],10,1126891415),i=ks(i,s,r,n,t[14],15,-1416354905),n=ks(n,i,s,r,t[5],21,-57434055),r=ks(r,n,i,s,t[12],6,1700485571),s=ks(s,r,n,i,t[3],10,-1894986606),i=ks(i,s,r,n,t[10],15,-1051523),n=ks(n,i,s,r,t[1],21,-2054922799),r=ks(r,n,i,s,t[8],6,1873313359),s=ks(s,r,n,i,t[15],10,-30611744),i=ks(i,s,r,n,t[6],15,-1560198380),n=ks(n,i,s,r,t[13],21,1309151649),r=ks(r,n,i,s,t[4],6,-145523070),s=ks(s,r,n,i,t[11],10,-1120210379),i=ks(i,s,r,n,t[2],15,718787259),n=ks(n,i,s,r,t[9],21,-343485551),e[0]=tu(r,e[0]),e[1]=tu(n,e[1]),e[2]=tu(i,e[2]),e[3]=tu(s,e[3])}function K2(e,t,r,n,i,s){return t=tu(tu(t,e),tu(n,s)),tu(t<<i|t>>>32-i,r)}function Ns(e,t,r,n,i,s,a){return K2(t&r|~t&n,e,t,i,s,a)}function Ts(e,t,r,n,i,s,a){return K2(t&n|r&~n,e,t,i,s,a)}function Is(e,t,r,n,i,s,a){return K2(t^r^n,e,t,i,s,a)}function ks(e,t,r,n,i,s,a){return K2(r^(t|~n),e,t,i,s,a)}function f7(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Rv(n,MQ(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Rv(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,Rv(n,i),n}function MQ(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}K0=ur.atob.bind(ur),Ny=ur.btoa.bind(ur);var uE="0123456789abcdef".split("");function jQ(e){for(var t="",r=0;r<4;r++)t+=uE[e>>8*r+4&15]+uE[e>>8*r&15];return t}function BQ(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Ty(e){return f7(e).map(BQ).join("")}var UQ=function(e){for(var t=0;t<e.length;t++)e[t]=jQ(e[t]);return e.join("")}(f7("hello"))!="5d41402abc4b2a76b9719d911017c592";function tu(e,t){if(UQ){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Iy(e,t){var r,n,i,s;if(e!==r){for(var a=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),l=[],u=0;u<256;u++)l[u]=u;var f=0;for(u=0;u<256;u++){var d=l[u];f=(f+d+a.charCodeAt(u))%256,l[u]=l[f],l[f]=d}r=e,n=l}else l=n;var m=t.length,y=0,v=0,E="";for(u=0;u<m;u++)v=(v+(d=l[y=(y+1)%256]))%256,l[y]=l[v],l[v]=d,a=l[(l[y]+l[v])%256],E+=String.fromCharCode(t.charCodeAt(u)^a);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var fE={print:4,modify:8,copy:16,"annot-forms":32};function wh(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(fE.perm!==void 0)throw new Error("Invalid permission: "+l);i+=fE[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=Ty(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Iy(this.encryptionKey,this.padding)}function yh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[n]}return t}function hE(e){if(wn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[r]){var a=t[r][s];try{a[0].apply(e,n)}catch(l){ur.console&&Tn.error("jsPDF PubSub Error",l.message,l)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function zm(e){if(!(this instanceof zm))return new zm(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function h7(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function nf(e,t,r,n,i){if(!(this instanceof nf))return new nf(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,h7.call(this,n,i)}function Lh(e,t,r,n,i){if(!(this instanceof Lh))return new Lh(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,h7.call(this,n,i)}function lr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],l=1,u=16,f="S",d=null;wn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),f=e.defaultPathOperation||"S"),a=e.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,y={},v={internal:{},__private__:{}};v.__private__.PubSub=hE;var E="1.3",_=v.__private__.getPdfVersion=function(){return E};v.__private__.setPdfVersion=function(P){E=P};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return N};var A=v.__private__.getPageFormat=function(P){return N[P]};i=i||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},I=C.COMPAT;function L(){this.saveGraphicsState(),pe(new qt(Nt,0,0,-Nt,0,Ss()*Nt).toString()+" cm"),this.setFontSize(this.getFontSize()/Nt),f="n",I=C.ADVANCED}function q(){this.restoreGraphicsState(),f="S",I=C.COMPAT}var Q=v.__private__.combineFontStyleAndFontWeight=function(P,ee){if(P=="bold"&&ee=="normal"||P=="bold"&&ee==400||P=="normal"&&ee=="italic"||P=="bold"&&ee=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ee&&(P=ee==400||ee==="normal"?P==="italic"?"italic":"normal":ee!=700&&ee!=="bold"||P!=="normal"?(ee==700?"bold":ee)+""+P:"bold"),P};v.advancedAPI=function(P){var ee=I===C.COMPAT;return ee&&L.call(this),typeof P!="function"||(P(this),ee&&q.call(this)),this},v.compatAPI=function(P){var ee=I===C.ADVANCED;return ee&&q.call(this),typeof P!="function"||(P(this),ee&&L.call(this)),this},v.isAdvancedAPI=function(){return I===C.ADVANCED};var B,M=function(P){if(I!==C.ADVANCED)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=v.roundToPrecision=v.__private__.roundToPrecision=function(P,ee){var ve=t||ee;if(isNaN(P)||isNaN(ve))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(ve).replace(/0+$/,"")};B=v.hpf=v.__private__.hpf=typeof u=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return F(P,u)}:u==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return F(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return F(P,16)};var X=v.f2=v.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return F(P,2)},W=v.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return F(P,3)},U=v.scale=v.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return I===C.COMPAT?P*Nt:I===C.ADVANCED?P:void 0},re=function(P){return I===C.COMPAT?Ss()-P:I===C.ADVANCED?P:void 0},oe=function(P){return U(re(P))};v.__private__.setPrecision=v.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(t=parseInt(P,10))};var le,Ne="00000000000000000000000000000000",Ae=v.__private__.getFileId=function(){return Ne},de=v.__private__.setFileId=function(P){return Ne=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():Ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(pi=new wh(d.userPermissions,d.userPassword,d.ownerPassword,Ne)),Ne};v.setFileId=function(P){return de(P),this},v.getFileId=function(){return Ae()};var _e=v.__private__.convertDateToPDFDate=function(P){var ee=P.getTimezoneOffset(),ve=ee<0?"+":"-",ke=Math.floor(Math.abs(ee/60)),We=Math.abs(ee%60),ot=[ve,G(ke),"'",G(We),"'"].join("");return["D:",P.getFullYear(),G(P.getMonth()+1),G(P.getDate()),G(P.getHours()),G(P.getMinutes()),G(P.getSeconds()),ot].join("")},Te=v.__private__.convertPDFDateToDate=function(P){var ee=parseInt(P.substr(2,4),10),ve=parseInt(P.substr(6,2),10)-1,ke=parseInt(P.substr(8,2),10),We=parseInt(P.substr(10,2),10),ot=parseInt(P.substr(12,2),10),dt=parseInt(P.substr(14,2),10);return new Date(ee,ve,ke,We,ot,dt,0)},He=v.__private__.setCreationDate=function(P){var ee;if(P===void 0&&(P=new Date),P instanceof Date)ee=_e(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ee=P}return le=ee},j=v.__private__.getCreationDate=function(P){var ee=le;return P==="jsDate"&&(ee=Te(le)),ee};v.setCreationDate=function(P){return He(P),this},v.getCreationDate=function(P){return j(P)};var V,G=v.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},Z=v.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},ie=0,Se=[],be=[],Ce=0,Pe=[],Re=[],Ge=!1,Qe=be,ct=function(){ie=0,Ce=0,be=[],Se=[],Pe=[],he=ln(),ge=ln()};v.__private__.setCustomOutputDestination=function(P){Ge=!0,Qe=P};var Ue=function(P){Ge||(Qe=P)};v.__private__.resetCustomOutputDestination=function(){Ge=!1,Qe=be};var pe=v.__private__.out=function(P){return P=P.toString(),Ce+=P.length+1,Qe.push(P),Qe},rt=v.__private__.write=function(P){return pe(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},nt=v.__private__.getArrayBuffer=function(P){for(var ee=P.length,ve=new ArrayBuffer(ee),ke=new Uint8Array(ve);ee--;)ke[ee]=P.charCodeAt(ee);return ve},qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return qe};var yt=e.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(P){return yt=I===C.ADVANCED?P/Nt:P,this};var et,At=v.__private__.getFontSize=v.getFontSize=function(){return I===C.COMPAT?yt:yt*Nt},Bt=e.R2L||!1;v.__private__.setR2L=v.setR2L=function(P){return Bt=P,this},v.__private__.getR2L=v.getR2L=function(){return Bt};var Pt,$t=v.__private__.setZoomMode=function(P){var ee=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))et=P;else if(isNaN(P)){if(ee.indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');et=P}else et=parseInt(P,10)};v.__private__.getZoomMode=function(){return et};var Dt,Jt=v.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');Pt=P};v.__private__.getPageMode=function(){return Pt};var er=v.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');Dt=P};v.__private__.getLayoutMode=function(){return Dt},v.__private__.setDisplayMode=v.setDisplayMode=function(P,ee,ve){return $t(P),er(ee),Jt(ve),this};var Mt={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(P){if(Object.keys(Mt).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Mt[P]},v.__private__.getDocumentProperties=function(){return Mt},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(P){for(var ee in Mt)Mt.hasOwnProperty(ee)&&P[ee]&&(Mt[ee]=P[ee]);return this},v.__private__.setDocumentProperty=function(P,ee){if(Object.keys(Mt).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Mt[P]=ee};var gr,Nt,Jr,Gt,St,or={},tr={},qr=[],Dr={},Qs={},_n={},xr={},Ri=null,on=0,cr=[],yr=new hE(v),xa=e.hotfixes||[],zr={},Li={},is=[],qt=function P(ee,ve,ke,We,ot,dt){if(!(this instanceof P))return new P(ee,ve,ke,We,ot,dt);isNaN(ee)&&(ee=1),isNaN(ve)&&(ve=0),isNaN(ke)&&(ke=0),isNaN(We)&&(We=1),isNaN(ot)&&(ot=0),isNaN(dt)&&(dt=0),this._matrix=[ee,ve,ke,We,ot,dt]};Object.defineProperty(qt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(qt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(qt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(qt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(qt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(qt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(qt.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(qt.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(qt.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(qt.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(qt.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(qt.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(qt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(qt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(qt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(qt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),qt.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(P)},qt.prototype.multiply=function(P){var ee=P.sx*this.sx+P.shy*this.shx,ve=P.sx*this.shy+P.shy*this.sy,ke=P.shx*this.sx+P.sy*this.shx,We=P.shx*this.shy+P.sy*this.sy,ot=P.tx*this.sx+P.ty*this.shx+this.tx,dt=P.tx*this.shy+P.ty*this.sy+this.ty;return new qt(ee,ve,ke,We,ot,dt)},qt.prototype.decompose=function(){var P=this.sx,ee=this.shy,ve=this.shx,ke=this.sy,We=this.tx,ot=this.ty,dt=Math.sqrt(P*P+ee*ee),Lt=(P/=dt)*ve+(ee/=dt)*ke;ve-=P*Lt,ke-=ee*Lt;var Kt=Math.sqrt(ve*ve+ke*ke);return Lt/=Kt,P*(ke/=Kt)<ee*(ve/=Kt)&&(P=-P,ee=-ee,Lt=-Lt,dt=-dt),{scale:new qt(dt,0,0,Kt,0,0),translate:new qt(1,0,0,1,We,ot),rotate:new qt(P,ee,-ee,P,0,0),skew:new qt(1,0,Lt,1,0,0)}},qt.prototype.toString=function(P){return this.join(" ")},qt.prototype.inversed=function(){var P=this.sx,ee=this.shy,ve=this.shx,ke=this.sy,We=this.tx,ot=this.ty,dt=1/(P*ke-ee*ve),Lt=ke*dt,Kt=-ee*dt,hr=-ve*dt,dr=P*dt;return new qt(Lt,Kt,hr,dr,-Lt*We-hr*ot,-Kt*We-dr*ot)},qt.prototype.applyToPoint=function(P){var ee=P.x*this.sx+P.y*this.shx+this.tx,ve=P.x*this.shy+P.y*this.sy+this.ty;return new hc(ee,ve)},qt.prototype.applyToRectangle=function(P){var ee=this.applyToPoint(P),ve=this.applyToPoint(new hc(P.x+P.w,P.y+P.h));return new qu(ee.x,ee.y,ve.x-ee.x,ve.y-ee.y)},qt.prototype.clone=function(){var P=this.sx,ee=this.shy,ve=this.shx,ke=this.sy,We=this.tx,ot=this.ty;return new qt(P,ee,ve,ke,We,ot)},v.Matrix=qt;var Ms=v.matrixMult=function(P,ee){return ee.multiply(P)},ni=new qt(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=ni;var Ei=function(P,ee){if(!Qs[P]){var ve=(ee instanceof nf?"Sh":"P")+(Object.keys(Dr).length+1).toString(10);ee.id=ve,Qs[P]=ve,Dr[ve]=ee,yr.publish("addPattern",ee)}};v.ShadingPattern=nf,v.TilingPattern=Lh,v.addShadingPattern=function(P,ee){return M("addShadingPattern()"),Ei(P,ee),this},v.beginTilingPattern=function(P){M("beginTilingPattern()"),dc(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},v.endTilingPattern=function(P,ee){M("endTilingPattern()"),ee.stream=Re[V].join(`
`),Ei(P,ee),yr.publish("endTilingPattern",ee),is.pop().restore()};var Hr=v.__private__.newObject=function(){var P=ln();return te(P,!0),P},ln=v.__private__.newObjectDeferred=function(){return ie++,Se[ie]=function(){return Ce},ie},te=function(P,ee){return ee=typeof ee=="boolean"&&ee,Se[P]=Ce,ee&&pe(P+" 0 obj"),P},ue=v.__private__.newAdditionalObject=function(){var P={objId:ln(),content:""};return Pe.push(P),P},he=ln(),ge=ln(),xe=v.__private__.decodeColorString=function(P){var ee=P.split(" ");if(ee.length!==2||ee[1]!=="g"&&ee[1]!=="G")ee.length===5&&(ee[4]==="k"||ee[4]==="K")&&(ee=[(1-ee[0])*(1-ee[3]),(1-ee[1])*(1-ee[3]),(1-ee[2])*(1-ee[3]),"r"]);else{var ve=parseFloat(ee[0]);ee=[ve,ve,ve,"r"]}for(var ke="#",We=0;We<3;We++)ke+=("0"+Math.floor(255*parseFloat(ee[We])).toString(16)).slice(-2);return ke},Ee=v.__private__.encodeColorString=function(P){var ee;typeof P=="string"&&(P={ch1:P});var ve=P.ch1,ke=P.ch2,We=P.ch3,ot=P.ch4,dt=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ve=="string"&&ve.charAt(0)!=="#"){var Lt=new u7(ve);if(Lt.ok)ve=Lt.toHex();else if(!/^\d*\.?\d*$/.test(ve))throw new Error('Invalid color "'+ve+'" passed to jsPDF.encodeColorString.')}if(typeof ve=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ve)&&(ve="#"+ve[1]+ve[1]+ve[2]+ve[2]+ve[3]+ve[3]),typeof ve=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ve)){var Kt=parseInt(ve.substr(1),16);ve=Kt>>16&255,ke=Kt>>8&255,We=255&Kt}if(ke===void 0||ot===void 0&&ve===ke&&ke===We)if(typeof ve=="string")ee=ve+" "+dt[0];else switch(P.precision){case 2:ee=X(ve/255)+" "+dt[0];break;case 3:default:ee=W(ve/255)+" "+dt[0]}else if(ot===void 0||wn(ot)==="object"){if(ot&&!isNaN(ot.a)&&ot.a===0)return ee=["1.","1.","1.",dt[1]].join(" ");if(typeof ve=="string")ee=[ve,ke,We,dt[1]].join(" ");else switch(P.precision){case 2:ee=[X(ve/255),X(ke/255),X(We/255),dt[1]].join(" ");break;default:case 3:ee=[W(ve/255),W(ke/255),W(We/255),dt[1]].join(" ")}}else if(typeof ve=="string")ee=[ve,ke,We,ot,dt[2]].join(" ");else switch(P.precision){case 2:ee=[X(ve),X(ke),X(We),X(ot),dt[2]].join(" ");break;case 3:default:ee=[W(ve),W(ke),W(We),W(ot),dt[2]].join(" ")}return ee},Ve=v.__private__.getFilters=function(){return a},it=v.__private__.putStream=function(P){var ee=(P=P||{}).data||"",ve=P.filters||Ve(),ke=P.alreadyAppliedFilters||[],We=P.addLength1||!1,ot=ee.length,dt=P.objectId,Lt=function(Gi){return Gi};if(d!==null&&dt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Lt=pi.encryptor(dt,0));var Kt={};ve===!0&&(ve=["FlateEncode"]);var hr=P.additionalKeyValues||[],dr=(Kt=lr.API.processDataByFilters!==void 0?lr.API.processDataByFilters(ee,ve):{data:ee,reverseChain:[]}).reverseChain+(Array.isArray(ke)?ke.join(" "):ke.toString());if(Kt.data.length!==0&&(hr.push({key:"Length",value:Kt.data.length}),We===!0&&hr.push({key:"Length1",value:ot})),dr.length!=0)if(dr.split("/").length-1==1)hr.push({key:"Filter",value:dr});else{hr.push({key:"Filter",value:"["+dr+"]"});for(var Br=0;Br<hr.length;Br+=1)if(hr[Br].key==="DecodeParms"){for(var Fn=[],hn=0;hn<Kt.reverseChain.split("/").length-1;hn+=1)Fn.push("null");Fn.push(hr[Br].value),hr[Br].value="["+Fn.join(" ")+"]"}}pe("<<");for(var qn=0;qn<hr.length;qn++)pe("/"+hr[qn].key+" "+hr[qn].value);pe(">>"),Kt.data.length!==0&&(pe("stream"),pe(Lt(Kt.data)),pe("endstream"))},ze=v.__private__.putPage=function(P){var ee=P.number,ve=P.data,ke=P.objId,We=P.contentsObjId;te(ke,!0),pe("<</Type /Page"),pe("/Parent "+P.rootDictionaryObjId+" 0 R"),pe("/Resources "+P.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(B(P.mediaBox.bottomLeftX))+" "+parseFloat(B(P.mediaBox.bottomLeftY))+" "+B(P.mediaBox.topRightX)+" "+B(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&pe("/CropBox ["+B(P.cropBox.bottomLeftX)+" "+B(P.cropBox.bottomLeftY)+" "+B(P.cropBox.topRightX)+" "+B(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&pe("/BleedBox ["+B(P.bleedBox.bottomLeftX)+" "+B(P.bleedBox.bottomLeftY)+" "+B(P.bleedBox.topRightX)+" "+B(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&pe("/TrimBox ["+B(P.trimBox.bottomLeftX)+" "+B(P.trimBox.bottomLeftY)+" "+B(P.trimBox.topRightX)+" "+B(P.trimBox.topRightY)+"]"),P.artBox!==null&&pe("/ArtBox ["+B(P.artBox.bottomLeftX)+" "+B(P.artBox.bottomLeftY)+" "+B(P.artBox.topRightX)+" "+B(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&pe("/UserUnit "+P.userUnit),yr.publish("putPage",{objId:ke,pageContext:cr[ee],pageNumber:ee,page:ve}),pe("/Contents "+We+" 0 R"),pe(">>"),pe("endobj");var ot=ve.join(`
`);return I===C.ADVANCED&&(ot+=`
Q`),te(We,!0),it({data:ot,filters:Ve(),objectId:We}),pe("endobj"),ke},Ke=v.__private__.putPages=function(){var P,ee,ve=[];for(P=1;P<=on;P++)cr[P].objId=ln(),cr[P].contentsObjId=ln();for(P=1;P<=on;P++)ve.push(ze({number:P,data:Re[P],objId:cr[P].objId,contentsObjId:cr[P].contentsObjId,mediaBox:cr[P].mediaBox,cropBox:cr[P].cropBox,bleedBox:cr[P].bleedBox,trimBox:cr[P].trimBox,artBox:cr[P].artBox,userUnit:cr[P].userUnit,rootDictionaryObjId:he,resourceDictionaryObjId:ge}));te(he,!0),pe("<</Type /Pages");var ke="/Kids [";for(ee=0;ee<on;ee++)ke+=ve[ee]+" 0 R ";pe(ke+"]"),pe("/Count "+on),pe(">>"),pe("endobj"),yr.publish("postPutPages")},Ze=function(P){yr.publish("putFont",{font:P,out:pe,newObject:Hr,putStream:it}),P.isAlreadyPutted!==!0&&(P.objectNumber=Hr(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+yh(P.postScriptName)),pe("/Subtype /Type1"),typeof P.encoding=="string"&&pe("/Encoding /"+P.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},pt=function(){for(var P in or)or.hasOwnProperty(P)&&(m===!1||m===!0&&y.hasOwnProperty(P))&&Ze(or[P])},bt=function(P){P.objectNumber=Hr();var ee=[];ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Form"}),ee.push({key:"BBox",value:"["+[B(P.x),B(P.y),B(P.x+P.width),B(P.y+P.height)].join(" ")+"]"}),ee.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var ve=P.pages[1].join(`
`);it({data:ve,additionalKeyValues:ee,objectId:P.objectNumber}),pe("endobj")},_t=function(){for(var P in zr)zr.hasOwnProperty(P)&&bt(zr[P])},Et=function(P,ee){var ve,ke=[],We=1/(ee-1);for(ve=0;ve<1;ve+=We)ke.push(ve);if(ke.push(1),P[0].offset!=0){var ot={offset:0,color:P[0].color};P.unshift(ot)}if(P[P.length-1].offset!=1){var dt={offset:1,color:P[P.length-1].color};P.push(dt)}for(var Lt="",Kt=0,hr=0;hr<ke.length;hr++){for(ve=ke[hr];ve>P[Kt+1].offset;)Kt++;var dr=P[Kt].offset,Br=(ve-dr)/(P[Kt+1].offset-dr),Fn=P[Kt].color,hn=P[Kt+1].color;Lt+=Z(Math.round((1-Br)*Fn[0]+Br*hn[0]).toString(16))+Z(Math.round((1-Br)*Fn[1]+Br*hn[1]).toString(16))+Z(Math.round((1-Br)*Fn[2]+Br*hn[2]).toString(16))}return Lt.trim()},It=function(P,ee){ee||(ee=21);var ve=Hr(),ke=Et(P.colors,ee),We=[];We.push({key:"FunctionType",value:"0"}),We.push({key:"Domain",value:"[0.0 1.0]"}),We.push({key:"Size",value:"["+ee+"]"}),We.push({key:"BitsPerSample",value:"8"}),We.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),We.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),it({data:ke,additionalKeyValues:We,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ve}),pe("endobj"),P.objectNumber=Hr(),pe("<< /ShadingType "+P.type),pe("/ColorSpace /DeviceRGB");var ot="/Coords ["+B(parseFloat(P.coords[0]))+" "+B(parseFloat(P.coords[1]))+" ";P.type===2?ot+=B(parseFloat(P.coords[2]))+" "+B(parseFloat(P.coords[3])):ot+=B(parseFloat(P.coords[2]))+" "+B(parseFloat(P.coords[3]))+" "+B(parseFloat(P.coords[4]))+" "+B(parseFloat(P.coords[5])),pe(ot+="]"),P.matrix&&pe("/Matrix ["+P.matrix.toString()+"]"),pe("/Function "+ve+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},sr=function(P,ee){var ve=ln(),ke=Hr();ee.push({resourcesOid:ve,objectOid:ke}),P.objectNumber=ke;var We=[];We.push({key:"Type",value:"/Pattern"}),We.push({key:"PatternType",value:"1"}),We.push({key:"PaintType",value:"1"}),We.push({key:"TilingType",value:"1"}),We.push({key:"BBox",value:"["+P.boundingBox.map(B).join(" ")+"]"}),We.push({key:"XStep",value:B(P.xStep)}),We.push({key:"YStep",value:B(P.yStep)}),We.push({key:"Resources",value:ve+" 0 R"}),P.matrix&&We.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),it({data:P.stream,additionalKeyValues:We,objectId:P.objectNumber}),pe("endobj")},st=function(P){var ee;for(ee in Dr)Dr.hasOwnProperty(ee)&&(Dr[ee]instanceof nf?It(Dr[ee]):Dr[ee]instanceof Lh&&sr(Dr[ee],P))},cn=function(P){for(var ee in P.objectNumber=Hr(),pe("<<"),P)switch(ee){case"opacity":pe("/ca "+X(P[ee]));break;case"stroke-opacity":pe("/CA "+X(P[ee]))}pe(">>"),pe("endobj")},_r=function(){var P;for(P in _n)_n.hasOwnProperty(P)&&cn(_n[P])},qi=function(){for(var P in pe("/XObject <<"),zr)zr.hasOwnProperty(P)&&zr[P].objectNumber>=0&&pe("/"+P+" "+zr[P].objectNumber+" 0 R");yr.publish("putXobjectDict"),pe(">>")},co=function(){pi.oid=Hr(),pe("<<"),pe("/Filter /Standard"),pe("/V "+pi.v),pe("/R "+pi.r),pe("/U <"+pi.toHexString(pi.U)+">"),pe("/O <"+pi.toHexString(pi.O)+">"),pe("/P "+pi.P),pe(">>"),pe("endobj")},Ir=function(){for(var P in pe("/Font <<"),or)or.hasOwnProperty(P)&&(m===!1||m===!0&&y.hasOwnProperty(P))&&pe("/"+P+" "+or[P].objectNumber+" 0 R");pe(">>")},Sr=function(){if(Object.keys(Dr).length>0){for(var P in pe("/Shading <<"),Dr)Dr.hasOwnProperty(P)&&Dr[P]instanceof nf&&Dr[P].objectNumber>=0&&pe("/"+P+" "+Dr[P].objectNumber+" 0 R");yr.publish("putShadingPatternDict"),pe(">>")}},mr=function(P){if(Object.keys(Dr).length>0){for(var ee in pe("/Pattern <<"),Dr)Dr.hasOwnProperty(ee)&&Dr[ee]instanceof v.TilingPattern&&Dr[ee].objectNumber>=0&&Dr[ee].objectNumber<P&&pe("/"+ee+" "+Dr[ee].objectNumber+" 0 R");yr.publish("putTilingPatternDict"),pe(">>")}},ss=function(){if(Object.keys(_n).length>0){var P;for(P in pe("/ExtGState <<"),_n)_n.hasOwnProperty(P)&&_n[P].objectNumber>=0&&pe("/"+P+" "+_n[P].objectNumber+" 0 R");yr.publish("putGStateDict"),pe(">>")}},Ln=function(P){te(P.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ir(),Sr(),mr(P.objectOid),ss(),qi(),pe(">>"),pe("endobj")},lc=function(){var P=[];pt(),_r(),_t(),st(P),yr.publish("putResources"),P.forEach(Ln),Ln({resourcesOid:ge,objectOid:Number.MAX_SAFE_INTEGER}),yr.publish("postPutResources")},Hn=function(){yr.publish("putAdditionalObjects");for(var P=0;P<Pe.length;P++){var ee=Pe[P];te(ee.objId,!0),pe(ee.content),pe("endobj")}yr.publish("postPutAdditionalObjects")},va=function(P){tr[P.fontName]=tr[P.fontName]||{},tr[P.fontName][P.fontStyle]=P.id},Lu=function(P,ee,ve,ke,We){var ot={id:"F"+(Object.keys(or).length+1).toString(10),postScriptName:P,fontName:ee,fontStyle:ve,encoding:ke,isStandardFont:We||!1,metadata:{}};return yr.publish("addFont",{font:ot,instance:this}),or[ot.id]=ot,va(ot),ot.id},Dn=function(P){for(var ee=0,ve=qe.length;ee<ve;ee++){var ke=Lu.call(this,P[ee][0],P[ee][1],P[ee][2],qe[ee][3],!0);m===!1&&(y[ke]=!0);var We=P[ee][0].split("-");va({id:ke,fontName:We[0],fontStyle:We[1]||""})}yr.publish("addFonts",{fonts:or,dictionary:tr})},Ai=function(P){return P.foo=function(){try{return P.apply(this,arguments)}catch(ke){var ee=ke.stack||"";~ee.indexOf(" at ")&&(ee=ee.split(" at ")[1]);var ve="Error in function "+ee.split(`
`)[0].split("<")[0]+": "+ke.message;if(!ur.console)throw new Error(ve);ur.console.error(ve,ke),ur.alert&&alert(ve)}},P.foo.bar=P,P.foo},cc=function(P,ee){var ve,ke,We,ot,dt,Lt,Kt,hr,dr;if(We=(ee=ee||{}).sourceEncoding||"Unicode",dt=ee.outputEncoding,(ee.autoencode||dt)&&or[gr].metadata&&or[gr].metadata[We]&&or[gr].metadata[We].encoding&&(ot=or[gr].metadata[We].encoding,!dt&&or[gr].encoding&&(dt=or[gr].encoding),!dt&&ot.codePages&&(dt=ot.codePages[0]),typeof dt=="string"&&(dt=ot[dt]),dt)){for(Kt=!1,Lt=[],ve=0,ke=P.length;ve<ke;ve++)(hr=dt[P.charCodeAt(ve)])?Lt.push(String.fromCharCode(hr)):Lt.push(P[ve]),Lt[ve].charCodeAt(0)>>8&&(Kt=!0);P=Lt.join("")}for(ve=P.length;Kt===void 0&&ve!==0;)P.charCodeAt(ve-1)>>8&&(Kt=!0),ve--;if(!Kt)return P;for(Lt=ee.noBOM?[]:[254,255],ve=0,ke=P.length;ve<ke;ve++){if((dr=(hr=P.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+P+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Lt.push(dr),Lt.push(hr-(dr<<8))}return String.fromCharCode.apply(void 0,Lt)},hi=v.__private__.pdfEscape=v.pdfEscape=function(P,ee){return cc(P,ee).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},en=v.__private__.beginPage=function(P){Re[++on]=[],cr[on]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},me(on),Ue(Re[V])},di=function(P,ee){var ve,ke,We;switch(r=ee||r,typeof P=="string"&&(ve=A(P.toLowerCase()),Array.isArray(ve)&&(ke=ve[0],We=ve[1])),Array.isArray(P)&&(ke=P[0]*Nt,We=P[1]*Nt),isNaN(ke)&&(ke=i[0],We=i[1]),(ke>14400||We>14400)&&(Tn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ke=Math.min(14400,ke),We=Math.min(14400,We)),i=[ke,We],r.substr(0,1)){case"l":We>ke&&(i=[We,ke]);break;case"p":ke>We&&(i=[We,ke])}en(i),Di(fo),pe(Js),Kn!==0&&pe(Kn+" J"),qo!==0&&pe(qo+" j"),yr.publish("addPage",{pageNumber:on})},$e=function(P){P>0&&P<=on&&(Re.splice(P,1),cr.splice(P,1),on--,V>on&&(V=on),this.setPage(V))},me=function(P){P>0&&P<=on&&(V=P)},Xt=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return Re.length-1},Yn=function(P,ee,ve){var ke,We=void 0;return ve=ve||{},P=P!==void 0?P:or[gr].fontName,ee=ee!==void 0?ee:or[gr].fontStyle,ke=P.toLowerCase(),tr[ke]!==void 0&&tr[ke][ee]!==void 0?We=tr[ke][ee]:tr[P]!==void 0&&tr[P][ee]!==void 0?We=tr[P][ee]:ve.disableWarning===!1&&Tn.warn("Unable to look up font label for font '"+P+"', '"+ee+"'. Refer to getFontList() for available fonts."),We||ve.noFallback||(We=tr.times[ee])==null&&(We=tr.times.normal),We},ys=v.__private__.putInfo=function(){var P=Hr(),ee=function(ke){return ke};for(var ve in d!==null&&(ee=pi.encryptor(P,0)),pe("<<"),pe("/Producer ("+hi(ee("jsPDF "+lr.version))+")"),Mt)Mt.hasOwnProperty(ve)&&Mt[ve]&&pe("/"+ve.substr(0,1).toUpperCase()+ve.substr(1)+" ("+hi(ee(Mt[ve]))+")");pe("/CreationDate ("+hi(ee(le))+")"),pe(">>"),pe("endobj")},Du=v.__private__.putCatalog=function(P){var ee=(P=P||{}).rootDictionaryObjId||he;switch(Hr(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+ee+" 0 R"),et||(et="fullwidth"),et){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ve=""+et;ve.substr(ve.length-1)==="%"&&(et=parseInt(et)/100),typeof et=="number"&&pe("/OpenAction [3 0 R /XYZ null null "+X(et)+"]")}switch(Dt||(Dt="continuous"),Dt){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}Pt&&pe("/PageMode /"+Pt),yr.publish("putCatalog"),pe(">>"),pe("endobj")},Fu=v.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(ie+1)),pe("/Root "+ie+" 0 R"),pe("/Info "+(ie-1)+" 0 R"),d!==null&&pe("/Encrypt "+pi.oid+" 0 R"),pe("/ID [ <"+Ne+"> <"+Ne+"> ]"),pe(">>")},bs=v.__private__.putHeader=function(){pe("%PDF-"+E),pe("%")},Qt=v.__private__.putXRef=function(){var P="0000000000";pe("xref"),pe("0 "+(ie+1)),pe("0000000000 65535 f ");for(var ee=1;ee<=ie;ee++)typeof Se[ee]=="function"?pe((P+Se[ee]()).slice(-10)+" 00000 n "):Se[ee]!==void 0?pe((P+Se[ee]).slice(-10)+" 00000 n "):pe("0000000000 00000 n ")},Yr=v.__private__.buildDocument=function(){ct(),Ue(be),yr.publish("buildDocument"),bs(),Ke(),Hn(),lc(),d!==null&&co(),ys(),Du();var P=Ce;return Qt(),Fu(),pe("startxref"),pe(""+P),pe("%%EOF"),Ue(Re[V]),be.join(`
`)},bl=v.__private__.getBlob=function(P){return new Blob([nt(P)],{type:"application/pdf"})},uc=v.output=v.__private__.output=Ai(function(P,ee){switch(typeof(ee=ee||{})=="string"?ee={filename:ee}:ee.filename=ee.filename||"generated.pdf",P){case void 0:return Yr();case"save":v.save(ee.filename);break;case"arraybuffer":return nt(Yr());case"blob":return bl(Yr());case"bloburi":case"bloburl":if(ur.URL!==void 0&&typeof ur.URL.createObjectURL=="function")return ur.URL&&ur.URL.createObjectURL(bl(Yr()))||void 0;Tn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ve="",ke=Yr();try{ve=Ny(ke)}catch{ve=Ny(unescape(encodeURIComponent(ke)))}return"data:application/pdf;filename="+ee.filename+";base64,"+ve;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ur)==="[object Window]"){var We="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ot=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ee.pdfObjectUrl&&(We=ee.pdfObjectUrl,ot="");var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+We+'"'+ot+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ee)+");<\/script></body></html>",Lt=ur.open();return Lt!==null&&Lt.document.write(dt),Lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ur)==="[object Window]"){var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ee.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ee.filename+'" width="500px" height="400px" /></body></html>',hr=ur.open();if(hr!==null){hr.document.write(Kt);var dr=this;hr.document.documentElement.querySelector("#pdfViewer").onload=function(){hr.document.title=ee.filename,hr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(dr.output("bloburl"))}}return hr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ur)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Br='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ee)+'"></iframe></body></html>',Fn=ur.open();if(Fn!==null&&(Fn.document.write(Br),Fn.document.title=ee.filename),Fn||typeof safari>"u")return Fn;break;case"datauri":case"dataurl":return ur.document.location.href=this.output("datauristring",ee);default:return null}}),fc=function(P){return Array.isArray(xa)===!0&&xa.indexOf(P)>-1};switch(n){case"pt":Nt=1;break;case"mm":Nt=72/25.4;break;case"cm":Nt=72/2.54;break;case"in":Nt=72;break;case"px":Nt=fc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Nt=12;break;case"ex":Nt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Nt=n}var pi=null;He(),de();var Mu=function(P){return d!==null?pi.encryptor(P,0):function(ee){return ee}},Yf=v.__private__.getPageInfo=v.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:cr[P].objId,pageNumber:P,pageContext:cr[P]}},Ht=v.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ee in cr)if(cr[ee].objId===P)break;return Yf(ee)},_l=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:cr[V].objId,pageNumber:V,pageContext:cr[V]}};v.addPage=function(){return di.apply(this,arguments),this},v.setPage=function(){return me.apply(this,arguments),Ue.call(this,Re[V]),this},v.insertPage=function(P){return this.addPage(),this.movePage(V,P),this},v.movePage=function(P,ee){var ve,ke;if(P>ee){ve=Re[P],ke=cr[P];for(var We=P;We>ee;We--)Re[We]=Re[We-1],cr[We]=cr[We-1];Re[ee]=ve,cr[ee]=ke,this.setPage(ee)}else if(P<ee){ve=Re[P],ke=cr[P];for(var ot=P;ot<ee;ot++)Re[ot]=Re[ot+1],cr[ot]=cr[ot+1];Re[ee]=ve,cr[ee]=ke,this.setPage(ee)}return this},v.deletePage=function(){return $e.apply(this,arguments),this},v.__private__.text=v.text=function(P,ee,ve,ke,We){var ot,dt,Lt,Kt,hr,dr,Br,Fn,hn,qn=(ke=ke||{}).scope||this;if(typeof P=="number"&&typeof ee=="number"&&(typeof ve=="string"||Array.isArray(ve))){var Gi=ve;ve=ee,ee=P,P=Gi}if(arguments[3]instanceof qt?(M("The transform parameter of text() with a Matrix value"),hn=We):(Lt=arguments[4],Kt=arguments[5],wn(Br=arguments[3])==="object"&&Br!==null||(typeof Lt=="string"&&(Kt=Lt,Lt=null),typeof Br=="string"&&(Kt=Br,Br=null),typeof Br=="number"&&(Lt=Br,Br=null),ke={flags:Br,angle:Lt,align:Kt})),isNaN(ee)||isNaN(ve)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return qn;var Gn="",ya=!1,ii=typeof ke.lineHeightFactor=="number"?ke.lineHeightFactor:Ho,js=qn.internal.scaleFactor;function as(kn){return kn=kn.split("	").join(Array(ke.TabLen||9).join(" ")),hi(kn,Br)}function pc(kn){for(var Pn,mi=kn.concat(),ji=[],Cl=mi.length;Cl--;)typeof(Pn=mi.shift())=="string"?ji.push(Pn):Array.isArray(kn)&&(Pn.length===1||Pn[1]===void 0&&Pn[2]===void 0)?ji.push(Pn[0]):ji.push([Pn[0],Pn[1],Pn[2]]);return ji}function Es(kn,Pn){var mi;if(typeof kn=="string")mi=Pn(kn)[0];else if(Array.isArray(kn)){for(var ji,Cl,Jd=kn.concat(),Zf=[],lp=Jd.length;lp--;)typeof(ji=Jd.shift())=="string"?Zf.push(Pn(ji)[0]):Array.isArray(ji)&&typeof ji[0]=="string"&&(Cl=Pn(ji[0],ji[1],ji[2]),Zf.push([Cl[0],Cl[1],Cl[2]]));mi=Zf}return mi}var gc=!1,El=!0;if(typeof P=="string")gc=!0;else if(Array.isArray(P)){var $u=P.concat();dt=[];for(var Al,Sn=$u.length;Sn--;)(typeof(Al=$u.shift())!="string"||Array.isArray(Al)&&typeof Al[0]!="string")&&(El=!1);gc=El}if(gc===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var mc=yt/qn.internal.scaleFactor,Xo=mc*(ii-1);switch(ke.baseline){case"bottom":ve-=Xo;break;case"top":ve+=mc-Xo;break;case"hanging":ve+=mc-2*Xo;break;case"middle":ve+=mc/2-Xo}if((dr=ke.maxWidth||0)>0&&(typeof P=="string"?P=qn.splitTextToSize(P,dr):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(kn,Pn){return kn.concat(qn.splitTextToSize(Pn,dr))},[]))),ot={text:P,x:ee,y:ve,options:ke,mutex:{pdfEscape:hi,activeFontKey:gr,fonts:or,activeFontSize:yt}},yr.publish("preProcessText",ot),P=ot.text,Lt=(ke=ot.options).angle,!(hn instanceof qt)&&Lt&&typeof Lt=="number"){Lt*=Math.PI/180,ke.rotationDirection===0&&(Lt=-Lt),I===C.ADVANCED&&(Lt=-Lt);var qa=Math.cos(Lt),Fr=Math.sin(Lt);hn=new qt(qa,Fr,-Fr,qa,0,0)}else Lt&&Lt instanceof qt&&(hn=Lt);I!==C.ADVANCED||hn||(hn=ni),(hr=ke.charSpace||Je)!==void 0&&(Gn+=B(U(hr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Fn=ke.horizontalScale)!==void 0&&(Gn+=B(100*Fn)+` Tz
`),ke.lang;var Fi=-1,K=ke.renderingMode!==void 0?ke.renderingMode:ke.stroke,o=qn.internal.getCurrentPageInfo().pageContext;switch(K){case 0:case!1:case"fill":Fi=0;break;case 1:case!0:case"stroke":Fi=1;break;case 2:case"fillThenStroke":Fi=2;break;case 3:case"invisible":Fi=3;break;case 4:case"fillAndAddForClipping":Fi=4;break;case 5:case"strokeAndAddPathForClipping":Fi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Fi=6;break;case 7:case"addToPathForClipping":Fi=7}var c=o.usedRenderingMode!==void 0?o.usedRenderingMode:-1;Fi!==-1?Gn+=Fi+` Tr
`:c!==-1&&(Gn+=`0 Tr
`),Fi!==-1&&(o.usedRenderingMode=Fi),Kt=ke.align||"left";var h,p=yt*ii,g=qn.internal.pageSize.getWidth(),w=or[gr];hr=ke.charSpace||Je,dr=ke.maxWidth||0,Br=Object.assign({autoencode:!0,noBOM:!0},ke.flags);var S=[],k=function(kn){return qn.getStringUnitWidth(kn,{font:w,charSpace:hr,fontSize:yt,doKerning:!1})*yt/js};if(Object.prototype.toString.call(P)==="[object Array]"){var O;dt=pc(P),Kt!=="left"&&(h=dt.map(k));var H,Y=0;if(Kt==="right"){ee-=h[0],P=[],Sn=dt.length;for(var se=0;se<Sn;se++)se===0?(H=Va(ee),O=ho(ve)):(H=U(Y-h[se]),O=-p),P.push([dt[se],H,O]),Y=h[se]}else if(Kt==="center"){ee-=h[0]/2,P=[],Sn=dt.length;for(var we=0;we<Sn;we++)we===0?(H=Va(ee),O=ho(ve)):(H=U((Y-h[we])/2),O=-p),P.push([dt[we],H,O]),Y=h[we]}else if(Kt==="left"){P=[],Sn=dt.length;for(var Ie=0;Ie<Sn;Ie++)P.push(dt[Ie])}else if(Kt==="justify"&&w.encoding==="Identity-H"){P=[],Sn=dt.length,dr=dr!==0?dr:g;for(var Oe=0,je=0;je<Sn;je++)if(O=je===0?ho(ve):-p,H=je===0?Va(ee):Oe,je<Sn-1){var tt=U((dr-h[je])/(dt[je].split(" ").length-1)),gt=dt[je].split(" ");P.push([gt[0]+" ",H,O]),Oe=0;for(var wt=1;wt<gt.length;wt++){var xt=(k(gt[wt-1]+" "+gt[wt])-k(gt[wt]))*js+tt;wt==gt.length-1?P.push([gt[wt],xt,0]):P.push([gt[wt]+" ",xt,0]),Oe-=xt}}else P.push([dt[je],H,O]);P.push(["",Oe,0])}else{if(Kt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],Sn=dt.length,dr=dr!==0?dr:g,je=0;je<Sn;je++)O=je===0?ho(ve):-p,H=je===0?Va(ee):0,je<Sn-1?S.push(B(U((dr-h[je])/(dt[je].split(" ").length-1)))):S.push(0),P.push([dt[je],H,O])}}var kr=typeof ke.R2L=="boolean"?ke.R2L:Bt;kr===!0&&(P=Es(P,function(kn,Pn,mi){return[kn.split("").reverse().join(""),Pn,mi]})),ot={text:P,x:ee,y:ve,options:ke,mutex:{pdfEscape:hi,activeFontKey:gr,fonts:or,activeFontSize:yt}},yr.publish("postProcessText",ot),P=ot.text,ya=ot.mutex.isHex||!1;var fr=or[gr].encoding;fr!=="WinAnsiEncoding"&&fr!=="StandardEncoding"||(P=Es(P,function(kn,Pn,mi){return[as(kn),Pn,mi]})),dt=pc(P),P=[];for(var si,Mi,Zn,Gr=0,$n=1,gi=Array.isArray(dt[0])?$n:Gr,Bs="",Ga=function(kn,Pn,mi){var ji="";return mi instanceof qt?(mi=typeof ke.angle=="number"?Ms(mi,new qt(1,0,0,1,kn,Pn)):Ms(new qt(1,0,0,1,kn,Pn),mi),I===C.ADVANCED&&(mi=Ms(new qt(1,0,0,-1,0,0),mi)),ji=mi.join(" ")+` Tm
`):ji=B(kn)+" "+B(Pn)+` Td
`,ji},ea=0;ea<dt.length;ea++){switch(Bs="",gi){case $n:Zn=(ya?"<":"(")+dt[ea][0]+(ya?">":")"),si=parseFloat(dt[ea][1]),Mi=parseFloat(dt[ea][2]);break;case Gr:Zn=(ya?"<":"(")+dt[ea]+(ya?">":")"),si=Va(ee),Mi=ho(ve)}S!==void 0&&S[ea]!==void 0&&(Bs=S[ea]+` Tw
`),ea===0?P.push(Bs+Ga(si,Mi,hn)+Zn):gi===Gr?P.push(Bs+Zn):gi===$n&&P.push(Bs+Ga(si,Mi,hn)+Zn)}P=gi===Gr?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var ta=`BT
/`;return ta+=gr+" "+yt+` Tf
`,ta+=B(yt*ii)+` TL
`,ta+=_s+`
`,ta+=Gn,ta+=P,pe(ta+="ET"),y[gr]=!0,qn};var za=v.__private__.clip=v.clip=function(P){return pe(P==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return za("evenodd")},v.__private__.discardPath=v.discardPath=function(){return pe("n"),this};var Yt=v.__private__.isValidStyle=function(P){var ee=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(ee=!0),ee};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(P){return Yt(P)&&(f=P),this};var Kf=v.__private__.getStyle=v.getStyle=function(P){var ee=f;switch(P){case"D":case"S":ee="S";break;case"F":ee="f";break;case"FD":case"DF":ee="B";break;case"f":case"f*":case"B":case"B*":ee=P}return ee},vr=v.close=function(){return pe("h"),this};v.stroke=function(){return pe("S"),this},v.fill=function(P){return Vn("f",P),this},v.fillEvenOdd=function(P){return Vn("f*",P),this},v.fillStroke=function(P){return Vn("B",P),this},v.fillStrokeEvenOdd=function(P){return Vn("B*",P),this};var Vn=function(P,ee){wn(ee)==="object"?Qf(ee,P):pe(P)},ju=function(P){P===null||I===C.ADVANCED&&P===void 0||(P=Kf(P),pe(P))};function Bu(P,ee,ve,ke,We){var ot=new Lh(ee||this.boundingBox,ve||this.xStep,ke||this.yStep,this.gState,We||this.matrix);ot.stream=this.stream;var dt=P+"$$"+this.cloneIndex+++"$$";return Ei(dt,ot),ot}var Qf=function(P,ee){var ve=Qs[P.key],ke=Dr[ve];if(ke instanceof nf)pe("q"),pe(uo(ee)),ke.gState&&v.setGState(ke.gState),pe(P.matrix.toString()+" cm"),pe("/"+ve+" sh"),pe("Q");else if(ke instanceof Lh){var We=new qt(1,0,0,-1,0,Ss());P.matrix&&(We=We.multiply(P.matrix||ni),ve=Bu.call(ke,P.key,P.boundingBox,P.xStep,P.yStep,We).id),pe("q"),pe("/Pattern cs"),pe("/"+ve+" scn"),ke.gState&&v.setGState(ke.gState),pe(ee),pe("Q")}},uo=function(P){switch(P){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Uu=v.moveTo=function(P,ee){return pe(B(U(P))+" "+B(oe(ee))+" m"),this},wa=v.lineTo=function(P,ee){return pe(B(U(P))+" "+B(oe(ee))+" l"),this},Zs=v.curveTo=function(P,ee,ve,ke,We,ot){return pe([B(U(P)),B(oe(ee)),B(U(ve)),B(oe(ke)),B(U(We)),B(oe(ot)),"c"].join(" ")),this};v.__private__.line=v.line=function(P,ee,ve,ke,We){if(isNaN(P)||isNaN(ee)||isNaN(ve)||isNaN(ke)||!Yt(We))throw new Error("Invalid arguments passed to jsPDF.line");return I===C.COMPAT?this.lines([[ve-P,ke-ee]],P,ee,[1,1],We||"S"):this.lines([[ve-P,ke-ee]],P,ee,[1,1]).stroke()},v.__private__.lines=v.lines=function(P,ee,ve,ke,We,ot){var dt,Lt,Kt,hr,dr,Br,Fn,hn,qn,Gi,Gn,ya;if(typeof P=="number"&&(ya=ve,ve=ee,ee=P,P=ya),ke=ke||[1,1],ot=ot||!1,isNaN(ee)||isNaN(ve)||!Array.isArray(P)||!Array.isArray(ke)||!Yt(We)||typeof ot!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Uu(ee,ve),dt=ke[0],Lt=ke[1],hr=P.length,Gi=ee,Gn=ve,Kt=0;Kt<hr;Kt++)(dr=P[Kt]).length===2?(Gi=dr[0]*dt+Gi,Gn=dr[1]*Lt+Gn,wa(Gi,Gn)):(Br=dr[0]*dt+Gi,Fn=dr[1]*Lt+Gn,hn=dr[2]*dt+Gi,qn=dr[3]*Lt+Gn,Gi=dr[4]*dt+Gi,Gn=dr[5]*Lt+Gn,Zs(Br,Fn,hn,qn,Gi,Gn));return ot&&vr(),ju(We),this},v.path=function(P){for(var ee=0;ee<P.length;ee++){var ve=P[ee],ke=ve.c;switch(ve.op){case"m":Uu(ke[0],ke[1]);break;case"l":wa(ke[0],ke[1]);break;case"c":Zs.apply(this,ke);break;case"h":vr()}}return this},v.__private__.rect=v.rect=function(P,ee,ve,ke,We){if(isNaN(P)||isNaN(ee)||isNaN(ve)||isNaN(ke)||!Yt(We))throw new Error("Invalid arguments passed to jsPDF.rect");return I===C.COMPAT&&(ke=-ke),pe([B(U(P)),B(oe(ee)),B(U(ve)),B(U(ke)),"re"].join(" ")),ju(We),this},v.__private__.triangle=v.triangle=function(P,ee,ve,ke,We,ot,dt){if(isNaN(P)||isNaN(ee)||isNaN(ve)||isNaN(ke)||isNaN(We)||isNaN(ot)||!Yt(dt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ve-P,ke-ee],[We-ve,ot-ke],[P-We,ee-ot]],P,ee,[1,1],dt,!0),this},v.__private__.roundedRect=v.roundedRect=function(P,ee,ve,ke,We,ot,dt){if(isNaN(P)||isNaN(ee)||isNaN(ve)||isNaN(ke)||isNaN(We)||isNaN(ot)||!Yt(dt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Lt=4/3*(Math.SQRT2-1);return We=Math.min(We,.5*ve),ot=Math.min(ot,.5*ke),this.lines([[ve-2*We,0],[We*Lt,0,We,ot-ot*Lt,We,ot],[0,ke-2*ot],[0,ot*Lt,-We*Lt,ot,-We,ot],[2*We-ve,0],[-We*Lt,0,-We,-ot*Lt,-We,-ot],[0,2*ot-ke],[0,-ot*Lt,We*Lt,-ot,We,-ot]],P+We,ee,[1,1],dt,!0),this},v.__private__.ellipse=v.ellipse=function(P,ee,ve,ke,We){if(isNaN(P)||isNaN(ee)||isNaN(ve)||isNaN(ke)||!Yt(We))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ot=4/3*(Math.SQRT2-1)*ve,dt=4/3*(Math.SQRT2-1)*ke;return Uu(P+ve,ee),Zs(P+ve,ee-dt,P+ot,ee-ke,P,ee-ke),Zs(P-ot,ee-ke,P-ve,ee-dt,P-ve,ee),Zs(P-ve,ee+dt,P-ot,ee+ke,P,ee+ke),Zs(P+ot,ee+ke,P+ve,ee+dt,P+ve,ee),ju(We),this},v.__private__.circle=v.circle=function(P,ee,ve,ke){if(isNaN(P)||isNaN(ee)||isNaN(ve)||!Yt(ke))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,ee,ve,ve,ke)},v.setFont=function(P,ee,ve){return ve&&(ee=Q(ee,ve)),gr=Yn(P,ee,{disableWarning:!1}),this};var Sl=v.__private__.getFont=v.getFont=function(){return or[Yn.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var P,ee,ve={};for(P in tr)if(tr.hasOwnProperty(P))for(ee in ve[P]=[],tr[P])tr[P].hasOwnProperty(ee)&&ve[P].push(ee);return ve},v.addFont=function(P,ee,ve,ke,We){var ot=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ot.indexOf(arguments[3])!==-1?We=arguments[3]:arguments[3]&&ot.indexOf(arguments[3])==-1&&(ve=Q(ve,ke)),We=We||"Identity-H",Lu.call(this,P,ee,ve,We)};var Ho,fo=e.lineWidth||.200025,Ha=v.__private__.getLineWidth=v.getLineWidth=function(){return fo},Di=v.__private__.setLineWidth=v.setLineWidth=function(P){return fo=P,pe(B(U(P))+" w"),this};v.__private__.setLineDash=lr.API.setLineDash=lr.API.setLineDashPattern=function(P,ee){if(P=P||[],ee=ee||0,isNaN(ee)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(ve){return B(U(ve))}).join(" "),ee=B(U(ee)),pe("["+P+"] "+ee+" d"),this};var Wu=v.__private__.getLineHeight=v.getLineHeight=function(){return yt*Ho};v.__private__.getLineHeight=v.getLineHeight=function(){return yt*Ho};var zu=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(Ho=P),this},Hu=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return Ho};zu(e.lineHeight);var Va=v.__private__.getHorizontalCoordinate=function(P){return U(P)},ho=v.__private__.getVerticalCoordinate=function(P){return I===C.ADVANCED?P:cr[V].mediaBox.topRightY-cr[V].mediaBox.bottomLeftY-U(P)},Qd=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(P){return B(Va(P))},jr=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(P){return B(ho(P))},Js=e.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return xe(Js)},v.__private__.setStrokeColor=v.setDrawColor=function(P,ee,ve,ke){return Js=Ee({ch1:P,ch2:ee,ch3:ve,ch4:ke,pdfColorType:"draw",precision:2}),pe(Js),this};var Vo=e.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return xe(Vo)},v.__private__.setFillColor=v.setFillColor=function(P,ee,ve,ke){return Vo=Ee({ch1:P,ch2:ee,ch3:ve,ch4:ke,pdfColorType:"fill",precision:2}),pe(Vo),this};var _s=e.textColor||"0 g",Zd=v.__private__.getTextColor=v.getTextColor=function(){return xe(_s)};v.__private__.setTextColor=v.setTextColor=function(P,ee,ve,ke){return _s=Ee({ch1:P,ch2:ee,ch3:ve,ch4:ke,pdfColorType:"text",precision:3}),this};var Je=e.charSpace,Er=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(Je||0)};v.__private__.setCharSpace=v.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Je=P,this};var Kn=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(P){var ee=v.CapJoinStyles[P];if(ee===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kn=ee,pe(ee+" J"),this};var qo=0;v.__private__.setLineJoin=v.setLineJoin=function(P){var ee=v.CapJoinStyles[P];if(ee===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qo=ee,pe(ee+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(B(U(P))+" M"),this},v.GState=zm,v.setGState=function(P){(P=typeof P=="string"?_n[xr[P]]:Vu(null,P)).equals(Ri)||(pe("/"+P.id+" gs"),Ri=P)};var Vu=function(P,ee){if(!P||!xr[P]){var ve=!1;for(var ke in _n)if(_n.hasOwnProperty(ke)&&_n[ke].equals(ee)){ve=!0;break}if(ve)ee=_n[ke];else{var We="GS"+(Object.keys(_n).length+1).toString(10);_n[We]=ee,ee.id=We}return P&&(xr[P]=ee.id),yr.publish("addGState",ee),ee}};v.addGState=function(P,ee){return Vu(P,ee),this},v.saveGraphicsState=function(){return pe("q"),qr.push({key:gr,size:yt,color:_s}),this},v.restoreGraphicsState=function(){pe("Q");var P=qr.pop();return gr=P.key,yt=P.size,_s=P.color,Ri=null,this},v.setCurrentTransformationMatrix=function(P){return pe(P.toString()+" cm"),this},v.comment=function(P){return pe("#"+P),this};var hc=function(P,ee){var ve=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ve},set:function(ot){isNaN(ot)||(ve=parseFloat(ot))}});var ke=ee||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ke},set:function(ot){isNaN(ot)||(ke=parseFloat(ot))}});var We="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return We},set:function(ot){We=ot.toString()}}),this},qu=function(P,ee,ve,ke){hc.call(this,P,ee),this.type="rect";var We=ve||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return We},set:function(dt){isNaN(dt)||(We=parseFloat(dt))}});var ot=ke||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ot},set:function(dt){isNaN(dt)||(ot=parseFloat(dt))}}),this},Gu=function(){this.page=on,this.currentPage=V,this.pages=Re.slice(0),this.pagesContext=cr.slice(0),this.x=Jr,this.y=Gt,this.matrix=St,this.width=un(V),this.height=Ss(V),this.outputDestination=Qe,this.id="",this.objectNumber=-1};Gu.prototype.restore=function(){on=this.page,V=this.currentPage,cr=this.pagesContext,Re=this.pages,Jr=this.x,Gt=this.y,St=this.matrix,$o(V,this.width),Kr(V,this.height),Qe=this.outputDestination};var dc=function(P,ee,ve,ke,We){is.push(new Gu),on=V=0,Re=[],Jr=P,Gt=ee,St=We,en([ve,ke])},Qn=function(P){if(Li[P])is.pop().restore();else{var ee=new Gu,ve="Xo"+(Object.keys(zr).length+1).toString(10);ee.id=ve,Li[P]=ve,zr[ve]=ee,yr.publish("addFormObject",ee),is.pop().restore()}};for(var Go in v.beginFormObject=function(P,ee,ve,ke,We){return dc(P,ee,ve,ke,We),this},v.endFormObject=function(P){return Qn(P),this},v.doFormObject=function(P,ee){var ve=zr[Li[P]];return pe("q"),pe(ee.toString()+" cm"),pe("/"+ve.id+" Do"),pe("Q"),this},v.getFormObject=function(P){var ee=zr[Li[P]];return{x:ee.x,y:ee.y,width:ee.width,height:ee.height,matrix:ee.matrix}},v.save=function(P,ee){return P=P||"generated.pdf",(ee=ee||{}).returnPromise=ee.returnPromise||!1,ee.returnPromise===!1?(ef(bl(Yr()),P),typeof ef.unload=="function"&&ur.setTimeout&&setTimeout(ef.unload,911),this):new Promise(function(ve,ke){try{var We=ef(bl(Yr()),P);typeof ef.unload=="function"&&ur.setTimeout&&setTimeout(ef.unload,911),ve(We)}catch(ot){ke(ot.message)}})},lr.API)lr.API.hasOwnProperty(Go)&&(Go==="events"&&lr.API.events.length?function(P,ee){var ve,ke,We;for(We=ee.length-1;We!==-1;We--)ve=ee[We][0],ke=ee[We][1],P.subscribe.apply(P,[ve].concat(typeof ke=="function"?[ke]:ke))}(yr,lr.API.events):v[Go]=lr.API[Go]);var un=v.getPageWidth=function(P){return(cr[P=P||V].mediaBox.topRightX-cr[P].mediaBox.bottomLeftX)/Nt},$o=v.setPageWidth=function(P,ee){cr[P].mediaBox.topRightX=ee*Nt+cr[P].mediaBox.bottomLeftX},Ss=v.getPageHeight=function(P){return(cr[P=P||V].mediaBox.topRightY-cr[P].mediaBox.bottomLeftY)/Nt},Kr=v.setPageHeight=function(P,ee){cr[P].mediaBox.topRightY=ee*Nt+cr[P].mediaBox.bottomLeftY};return v.internal={pdfEscape:hi,getStyle:Kf,getFont:Sl,getFontSize:At,getCharSpace:Er,getTextColor:Zd,getLineHeight:Wu,getLineHeightFactor:Hu,getLineWidth:Ha,write:rt,getHorizontalCoordinate:Va,getVerticalCoordinate:ho,getCoordinateString:Qd,getVerticalCoordinateString:jr,collections:{},newObject:Hr,newAdditionalObject:ue,newObjectDeferred:ln,newObjectDeferredBegin:te,getFilters:Ve,putStream:it,events:yr,scaleFactor:Nt,pageSize:{getWidth:function(){return un(V)},setWidth:function(P){$o(V,P)},getHeight:function(){return Ss(V)},setHeight:function(P){Kr(V,P)}},encryptionOptions:d,encryption:pi,getEncryptor:Mu,output:uc,getNumberOfPages:Xt,pages:Re,out:pe,f2:X,f3:W,getPageInfo:Yf,getPageInfoByObjId:Ht,getCurrentPageInfo:_l,getPDFVersion:_,Point:hc,Rectangle:qu,Matrix:qt,hasHotfix:fc},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return un(V)},set:function(P){$o(V,P)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return Ss(V)},set:function(P){Kr(V,P)},enumerable:!0,configurable:!0}),Dn.call(v,qe),gr="F1",di(i,r),yr.publish("initialized"),v}wh.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},wh.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},wh.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},wh.prototype.processOwnerPassword=function(e,t){return Iy(Ty(t).substr(0,5),e)},wh.prototype.encryptor=function(e,t){var r=Ty(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Iy(r,n)}},zm.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||wn(e)!==wn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},lr.API={events:[]},lr.version="3.0.1";var li=lr.API,J3=1,Xf=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},br=function(e){return e.toFixed(2)},kc=function(e){return e.toFixed(5)};li.__acroform__={};var ma=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},dE=function(e){return e*J3},el=function(e){var t=new p7,r=Vt.internal.getHeight(e)||0,n=Vt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(br(n)),Number(br(r))],t},WQ=li.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},zQ=li.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},HQ=li.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},vi=li.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return HQ(e,t-1)},wi=li.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return WQ(e,t-1)},yi=li.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return zQ(e,t-1)},VQ=li.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],s=e[1],a=e[2],l=e[3],u={};return u.lowerLeft_X=r(i)||0,u.lowerLeft_Y=n(s+l)||0,u.upperRight_X=r(i+a)||0,u.upperRight_Y=n(s)||0,[Number(br(u.lowerLeft_X)),Number(br(u.lowerLeft_Y)),Number(br(u.upperRight_X)),Number(br(u.upperRight_Y))]},qQ=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=ky(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+br(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=el(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},ky=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(W){return W.split(`
`)}):i.map(function(W){return[W]});var s=r,a=Vt.internal.getHeight(e)||0;a=a<0?-a:a;var l=Vt.internal.getWidth(e)||0;l=l<0?-l:l;var u=function(W,U,re){if(W+1<i.length){var oe=U+" "+i[W+1][0];return pg(oe,e,re).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var f,d,m=pg("3",e,s).height,y=e.multiline?a-s:(a-m)/2,v=y+=2,E=0,_=0,N=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+pg(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var A="",C=0,I=0;I<i.length;I++)if(i.hasOwnProperty(I)){var L=!1;if(i[I].length!==1&&N!==i[I].length-1){if((m+2)*(C+2)+2>a)continue e;A+=i[I][N],L=!0,_=I,I--}else{A=(A+=i[I][N]+" ").substr(A.length-1)==" "?A.substr(0,A.length-1):A;var q=parseInt(I),Q=u(q,A,s),B=I>=i.length-1;if(Q&&!B){A+=" ",N=0;continue}if(Q||B){if(B)_=q;else if(e.multiline&&(m+2)*(C+2)+2>a)continue e}else{if(!e.multiline||(m+2)*(C+2)+2>a)continue e;_=q}}for(var M="",F=E;F<=_;F++){var X=i[F];if(e.multiline){if(F===_){M+=X[N]+" ",N=(N+1)%X.length;continue}if(F===E){M+=X[X.length-1]+" ";continue}}M+=X[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,d=pg(M,e,s).width,e.textAlign){case"right":f=l-d-2;break;case"center":f=(l-d)/2;break;case"left":default:f=2}t+=br(f)+" "+br(v)+` Td
`,t+="("+Xf(M)+`) Tj
`,t+=-br(f)+` 0 Td
`,v=-(s+2),d=0,E=L?_:_+1,C++,A=""}break}return n.text=t,n.fontSize=s,n},pg=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},GQ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},$Q=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},XQ=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,i=e[r];t.internal.newObjectDeferredBegin(i.objId,!0),wn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[n]}},YQ=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Wo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(GQ)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");J3=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new g7,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&$Q(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var l=n[a],u=[],f=l.Rect;if(l.Rect&&(l.Rect=VQ(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Vt.createDefaultAppearanceStream(l),wn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=f,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=qQ(l);u.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var m="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var v=l.appearanceStreamContent[y];if(m+="/"+y+" ",m+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var a in v)if(v.hasOwnProperty(a)){var E=v[a];typeof E=="function"&&(E=E.call(i,l)),m+="/"+a+" "+E+" ",i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E)}}else typeof(E=v)=="function"&&(E=E.call(i,l)),m+="/"+a+" "+E,i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:l.objId}),i.internal.out("endobj")}s&&XQ(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},d7=li.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(a){return a};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),wn(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+Xf(n(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Lv=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Xf(n(e))+")"},ul=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ul.prototype.toString=function(){return this.objId+" 0 R"},ul.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ul.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:d7(i,this.objId,this.scope)}):i instanceof ul?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var p7=function(){ul.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ma(p7,ul);var g7=function(){ul.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Xf(r(e))+")"}},set:function(r){e=r}})};ma(g7,ul);var Wo=function e(){ul.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');t=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!vi(t,3)},set:function(A){A?this.F=wi(t,3):this.F=yi(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');r=A}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(A){n=A!==void 0?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(A){n[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(A){n[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(A){n[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(A){n[3]=A}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Hm)return;s="FieldObject"+e.FieldNum++}var A=function(C){return C};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+Xf(A(s))+")"},set:function(A){s=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(A){s=A}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(A){a=A}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(A){l=A}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(A){u=A}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/J3:f},set:function(A){f=A}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(A){d=A}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Hm||this instanceof bf))return Lv(m,this.objId,this.scope)},set:function(A){A=A.toString(),m=A}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Qi?y:Lv(y,this.objId,this.scope)},set:function(A){A=A.toString(),y=this instanceof Qi?A:A.substr(0,1)==="("?gh(A.substr(1,A.length-2)):gh(A)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qi?gh(y.substr(1,y.length-1)):y},set:function(A){A=A.toString(),y=this instanceof Qi?"/"+A:A}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Qi?v:Lv(v,this.objId,this.scope)},set:function(A){A=A.toString(),v=this instanceof Qi?A:A.substr(0,1)==="("?gh(A.substr(1,A.length-2)):gh(A)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qi?gh(v.substr(1,v.length-1)):v},set:function(A){A=A.toString(),v=this instanceof Qi?"/"+A:A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(A){A=!!A,_=A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(A){E=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,1)},set:function(A){A?this.Ff=wi(this.Ff,1):this.Ff=yi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,2)},set:function(A){A?this.Ff=wi(this.Ff,2):this.Ff=yi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,3)},set:function(A){A?this.Ff=wi(this.Ff,3):this.Ff=yi(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(A){if([0,1,2].indexOf(A)===-1)throw new Error('Invalid value "'+A+'" for attribute Q supplied.');N=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(N){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:N=2;break;case"center":case 1:N=1;break;case"left":case 0:default:N=0}}})};ma(Wo,ul);var Zh=function(){Wo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return d7(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,l){l||(l=1);for(var u,f=[];u=a.exec(s);)f.push(u[l]);return f}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,18)},set:function(r){r?this.Ff=wi(this.Ff,18):this.Ff=yi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=wi(this.Ff,19):this.Ff=yi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,20)},set:function(r){r?(this.Ff=wi(this.Ff,20),t.sort()):this.Ff=yi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,22)},set:function(r){r?this.Ff=wi(this.Ff,22):this.Ff=yi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,23)},set:function(r){r?this.Ff=wi(this.Ff,23):this.Ff=yi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,27)},set:function(r){r?this.Ff=wi(this.Ff,27):this.Ff=yi(this.Ff,27)}}),this.hasAppearanceStream=!1};ma(Zh,Wo);var Jh=function(){Zh.call(this),this.fontName="helvetica",this.combo=!1};ma(Jh,Zh);var ed=function(){Jh.call(this),this.combo=!0};ma(ed,Jh);var jg=function(){ed.call(this),this.edit=!0};ma(jg,ed);var Qi=function(){Wo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,15)},set:function(r){r?this.Ff=wi(this.Ff,15):this.Ff=yi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,16)},set:function(r){r?this.Ff=wi(this.Ff,16):this.Ff=yi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,17)},set:function(r){r?this.Ff=wi(this.Ff,17):this.Ff=yi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,26)},set:function(r){r?this.Ff=wi(this.Ff,26):this.Ff=yi(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Xf(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){wn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ma(Qi,Wo);var Bg=function(){Qi.call(this),this.pushButton=!0};ma(Bg,Qi);var td=function(){Qi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ma(td,Qi);var Hm=function(){var e,t;Wo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Xf(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){wn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ma(Hm,Wo),td.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},td.prototype.createOption=function(e){var t=new Hm;return t.Parent=this,t.optionName=e,this.Kids.push(t),KQ.call(this.scope,t),t};var Ug=function(){Qi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Vt.CheckBox.createAppearanceStream()};ma(Ug,Qi);var bf=function(){Wo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,13)},set:function(t){t?this.Ff=wi(this.Ff,13):this.Ff=yi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,21)},set:function(t){t?this.Ff=wi(this.Ff,21):this.Ff=yi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,23)},set:function(t){t?this.Ff=wi(this.Ff,23):this.Ff=yi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,24)},set:function(t){t?this.Ff=wi(this.Ff,24):this.Ff=yi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,25)},set:function(t){t?this.Ff=wi(this.Ff,25):this.Ff=yi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,26)},set:function(t){t?this.Ff=wi(this.Ff,26):this.Ff=yi(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ma(bf,Wo);var Wg=function(){bf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,14)},set:function(e){e?this.Ff=wi(this.Ff,14):this.Ff=yi(this.Ff,14)}}),this.password=!0};ma(Wg,bf);var Vt={CheckBox:{createAppearanceStream:function(){return{N:{On:Vt.CheckBox.YesNormal},D:{On:Vt.CheckBox.YesPushDown,Off:Vt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=el(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=ky(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+br(Vt.internal.getWidth(e))+" "+br(Vt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+br(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=el(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],s=Vt.internal.getHeight(e),a=Vt.internal.getWidth(e),l=ky(e,e.caption);return i.push("1 g"),i.push("0 0 "+br(a)+" "+br(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+br(a-1)+" "+br(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+br(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=el(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+br(Vt.internal.getWidth(e))+" "+br(Vt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Vt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Vt.RadioButton.Circle.YesNormal,t.D[e]=Vt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=el(e);t.scope=e.scope;var r=[],n=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Vt.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+kc(Vt.internal.getWidth(e)/2)+" "+kc(Vt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=el(e);t.scope=e.scope;var r=[],n=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Vt.internal.Bezier_C).toFixed(5)),a=Number((n*Vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+kc(Vt.internal.getWidth(e)/2)+" "+kc(Vt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+kc(Vt.internal.getWidth(e)/2)+" "+kc(Vt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=el(e);t.scope=e.scope;var r=[],n=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+kc(Vt.internal.getWidth(e)/2)+" "+kc(Vt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Vt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Vt.RadioButton.Cross.YesNormal,t.D[e]=Vt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=el(e);t.scope=e.scope;var r=[],n=Vt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+br(Vt.internal.getWidth(e)-2)+" "+br(Vt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(br(n.x1.x)+" "+br(n.x1.y)+" m"),r.push(br(n.x2.x)+" "+br(n.x2.y)+" l"),r.push(br(n.x4.x)+" "+br(n.x4.y)+" m"),r.push(br(n.x3.x)+" "+br(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=el(e);t.scope=e.scope;var r=Vt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+br(Vt.internal.getWidth(e))+" "+br(Vt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+br(Vt.internal.getWidth(e)-2)+" "+br(Vt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(br(r.x1.x)+" "+br(r.x1.y)+" m"),n.push(br(r.x2.x)+" "+br(r.x2.y)+" l"),n.push(br(r.x4.x)+" "+br(r.x4.y)+" m"),n.push(br(r.x3.x)+" "+br(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=el(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+br(Vt.internal.getWidth(e))+" "+br(Vt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Vt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Vt.internal.getWidth(e),r=Vt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Vt.internal.getWidth=function(e){var t=0;return wn(e)==="object"&&(t=dE(e.Rect[2])),t},Vt.internal.getHeight=function(e){var t=0;return wn(e)==="object"&&(t=dE(e.Rect[3])),t};var KQ=li.addField=function(e){if(YQ(this,e),!(e instanceof Wo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};li.AcroFormChoiceField=Zh,li.AcroFormListBox=Jh,li.AcroFormComboBox=ed,li.AcroFormEditBox=jg,li.AcroFormButton=Qi,li.AcroFormPushButton=Bg,li.AcroFormRadioButton=td,li.AcroFormCheckBox=Ug,li.AcroFormTextField=bf,li.AcroFormPasswordField=Wg,li.AcroFormAppearance=Vt,li.AcroForm={ChoiceField:Zh,ListBox:Jh,ComboBox:ed,EditBox:jg,Button:Qi,PushButton:Bg,RadioButton:td,CheckBox:Ug,TextField:bf,PasswordField:Wg,Appearance:Vt},lr.AcroForm={ChoiceField:Zh,ListBox:Jh,ComboBox:ed,EditBox:jg,Button:Qi,PushButton:Bg,RadioButton:td,CheckBox:Ug,TextField:bf,PasswordField:Wg,Appearance:Vt};lr.AcroForm;function m7(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(W,U){var re,oe,le,Ne,Ae,de=t;if((U=U||t)==="RGBA"||W.data!==void 0&&W.data instanceof Uint8ClampedArray&&"height"in W&&"width"in W)return"RGBA";if(Q(W))for(Ae in r)for(le=r[Ae],re=0;re<le.length;re+=1){for(Ne=!0,oe=0;oe<le[re].length;oe+=1)if(le[re][oe]!==void 0&&le[re][oe]!==W[oe]){Ne=!1;break}if(Ne===!0){de=Ae;break}}else for(Ae in r)for(le=r[Ae],re=0;re<le.length;re+=1){for(Ne=!0,oe=0;oe<le[re].length;oe+=1)if(le[re][oe]!==void 0&&le[re][oe]!==W.charCodeAt(oe)){Ne=!1;break}if(Ne===!0){de=Ae;break}}return de===t&&U!==t&&(de=U),de},i=function W(U){for(var re=this.internal.write,oe=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var Ne=[];if(Ne.push({key:"Type",value:"/XObject"}),Ne.push({key:"Subtype",value:"/Image"}),Ne.push({key:"Width",value:U.width}),Ne.push({key:"Height",value:U.height}),U.colorSpace===N.INDEXED?Ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(Ne.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===N.DEVICE_CMYK&&Ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ne.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&Ne.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)){for(var Ae="",de=0,_e=U.transparency.length;de<_e;de++)Ae+=U.transparency[de]+" "+U.transparency[de]+" ";Ne.push({key:"Mask",value:"["+Ae+"]"})}U.sMask!==void 0&&Ne.push({key:"SMask",value:U.objectId+1+" 0 R"});var Te=U.filter!==void 0?["/"+U.filter]:void 0;if(oe({data:U.data,additionalKeyValues:Ne,alreadyAppliedFilters:Te,objectId:U.objectId}),re("endobj"),"sMask"in U&&U.sMask!==void 0){var He="/Predictor "+U.predictor+" /Colors 1 /BitsPerComponent "+U.bitsPerComponent+" /Columns "+U.width,j={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:U.bitsPerComponent,decodeParameters:He,data:U.sMask};"filter"in U&&(j.filter=U.filter),W.call(this,j)}if(U.colorSpace===N.INDEXED){var V=this.internal.newObject();oe({data:M(new Uint8Array(U.palette)),objectId:V}),re("endobj")}},s=function(){var W=this.internal.collections.addImage_images;for(var U in W)i.call(this,W[U])},a=function(){var W,U=this.internal.collections.addImage_images,re=this.internal.write;for(var oe in U)re("/I"+(W=U[oe]).index,W.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var W=this.internal.collections.addImage_images;return l.call(this),W},f=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(W){return typeof e["process"+W.toUpperCase()]=="function"},m=function(W){return wn(W)==="object"&&W.nodeType===1},y=function(W,U){if(W.nodeName==="IMG"&&W.hasAttribute("src")){var re=""+W.getAttribute("src");if(re.indexOf("data:image/")===0)return K0(unescape(re).split("base64,").pop());var oe=e.loadFile(re,!0);if(oe!==void 0)return oe}if(W.nodeName==="CANVAS"){if(W.width===0||W.height===0)throw new Error("Given canvas must have data. Canvas width: "+W.width+", height: "+W.height);var le;switch(U){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;case"JPEG":case"JPG":default:le="image/jpeg"}return K0(W.toDataURL(le,1).split("base64,").pop())}},v=function(W){var U=this.internal.collections.addImage_images;if(U){for(var re in U)if(W===U[re].alias)return U[re]}},E=function(W,U,re){return W||U||(W=-96,U=-96),W<0&&(W=-1*re.width*72/W/this.internal.scaleFactor),U<0&&(U=-1*re.height*72/U/this.internal.scaleFactor),W===0&&(W=U*re.width/re.height),U===0&&(U=W*re.height/re.width),[W,U]},_=function(W,U,re,oe,le,Ne){var Ae=E.call(this,re,oe,le),de=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,Te=u.call(this);if(re=Ae[0],oe=Ae[1],Te[le.index]=le,Ne){Ne*=Math.PI/180;var He=Math.cos(Ne),j=Math.sin(Ne),V=function(Z){return Z.toFixed(4)},G=[V(He),V(j),V(-1*j),V(He),0,0,"cm"]}this.internal.write("q"),Ne?(this.internal.write([1,"0","0",1,de(W),_e(U+oe),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([de(re),"0","0",de(oe),"0","0","cm"].join(" "))):this.internal.write([de(re),"0","0",de(oe),de(W),_e(U+oe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},N=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var A=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(W){var U,re,oe=0;if(typeof W=="string")for(re=W.length,U=0;U<re;U++)oe=(oe<<5)-oe+W.charCodeAt(U),oe|=0;else if(Q(W))for(re=W.byteLength/2,U=0;U<re;U++)oe=(oe<<5)-oe+W[U],oe|=0;return oe},I=e.__addimage__.validateStringAsBase64=function(W){(W=W||"").toString().trim();var U=!0;return W.length===0&&(U=!1),W.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(W.substr(0,W.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(W.substr(-2))===!1&&(U=!1),U},L=e.__addimage__.extractImageFromDataUrl=function(W){if(W==null||!(W=W.trim()).startsWith("data:"))return null;var U=W.indexOf(",");return U<0?null:W.substring(0,U).trim().endsWith("base64")?W.substring(U+1):null},q=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(W){return q()&&W instanceof ArrayBuffer};var Q=e.__addimage__.isArrayBufferView=function(W){return q()&&typeof Uint32Array<"u"&&(W instanceof Int8Array||W instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&W instanceof Uint8ClampedArray||W instanceof Int16Array||W instanceof Uint16Array||W instanceof Int32Array||W instanceof Uint32Array||W instanceof Float32Array||W instanceof Float64Array)},B=e.__addimage__.binaryStringToUint8Array=function(W){for(var U=W.length,re=new Uint8Array(U),oe=0;oe<U;oe++)re[oe]=W.charCodeAt(oe);return re},M=e.__addimage__.arrayBufferToBinaryString=function(W){for(var U="",re=Q(W)?W:new Uint8Array(W),oe=0;oe<re.length;oe+=8192)U+=String.fromCharCode.apply(null,re.subarray(oe,oe+8192));return U};e.addImage=function(){var W,U,re,oe,le,Ne,Ae,de,_e;if(typeof arguments[1]=="number"?(U=t,re=arguments[1],oe=arguments[2],le=arguments[3],Ne=arguments[4],Ae=arguments[5],de=arguments[6],_e=arguments[7]):(U=arguments[1],re=arguments[2],oe=arguments[3],le=arguments[4],Ne=arguments[5],Ae=arguments[6],de=arguments[7],_e=arguments[8]),wn(W=arguments[0])==="object"&&!m(W)&&"imageData"in W){var Te=W;W=Te.imageData,U=Te.format||U||t,re=Te.x||re||0,oe=Te.y||oe||0,le=Te.w||Te.width||le,Ne=Te.h||Te.height||Ne,Ae=Te.alias||Ae,de=Te.compression||de,_e=Te.rotation||Te.angle||_e}var He=this.internal.getFilters();if(de===void 0&&He.indexOf("FlateEncode")!==-1&&(de="SLOW"),isNaN(re)||isNaN(oe))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var j=F.call(this,W,U,Ae,de);return _.call(this,re,oe,le,Ne,j,_e),this};var F=function(W,U,re,oe){var le,Ne,Ae;if(typeof W=="string"&&n(W)===t){W=unescape(W);var de=X(W,!1);(de!==""||(de=e.loadFile(W,!0))!==void 0)&&(W=de)}if(m(W)&&(W=y(W,U)),U=n(W,U),!d(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((Ae=re)==null||Ae.length===0)&&(re=function(_e){return typeof _e=="string"||Q(_e)?C(_e):Q(_e.data)?C(_e.data):null}(W)),(le=v.call(this,re))||(q()&&(W instanceof Uint8Array||U==="RGBA"||(Ne=W,W=B(W))),le=this["process"+U.toUpperCase()](W,f.call(this),re,function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in e.image_compression?_e:A.NONE}(oe),Ne)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},X=e.__addimage__.convertBase64ToBinaryString=function(W,U){U=typeof U!="boolean"||U;var re,oe="";if(typeof W=="string"){var le;re=(le=L(W))!==null&&le!==void 0?le:W;try{oe=K0(re)}catch(Ne){if(U)throw I(re)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};e.getImageProperties=function(W){var U,re,oe="";if(m(W)&&(W=y(W)),typeof W=="string"&&n(W)===t&&((oe=X(W,!1))===""&&(oe=e.loadFile(W)||""),W=oe),re=n(W),!d(re))throw new Error("addImage does not support files of type '"+re+"', please ensure that a plugin for '"+re+"' support is added.");if(!q()||W instanceof Uint8Array||(W=B(W)),!(U=this["process"+re.toUpperCase()](W)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=re,U}})(lr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};lr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),f=r.pageContext.annotations,d=!1,m=0;m<f.length&&!d;m++)switch((n=f[m]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var y=0;y<f.length;y++){n=f[y];var v=this.internal.pdfEscape,E=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(_.objId),C=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+v(A(n.contents))+")",s+=" /Popup "+N.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+v(A(C))+") >>",_.content=s;var I=_.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+I,n.open&&(s+=" /Open true"),s+=" >>",N.content=s,this.internal.write(_.objId,"0 R",N.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var L=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+v(E(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var q=this.annotations._nameMap[n.options.name];n.options.pageNumber=q.page,n.options.top=q.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+v(E(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var Q=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+Q+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,s,a){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(r),y:f(n),w:u(r+i),h:f(n+s)},options:a,type:"link"})},e.textWithLink=function(r,n,i,s){var a,l,u=this.getTextWidth(r),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var d=this.splitTextToSize(r,l).length;a=Math.ceil(f*d)}else l=u,a=f;return this.text(r,n,i,s),i+=.2*f,s.align==="center"&&(n-=u/2),s.align==="right"&&(n-=u),this.link(n,i-f,l,a,s),u},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(lr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(_){return t[_.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},l=e.__arabicParser__.isArabicEndLetter=function(_){return a(_)&&s(_)&&t[_.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(_){return a(_)&&i.indexOf(_.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return a(_)&&s(_)&&t[_.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(_){return a(_)&&s(_)&&t[_.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(_){return a(_)&&s(_)&&t[_.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(_){return a(_)&&s(_)&&t[_.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(_){var N=0,A=r,C="",I=0;for(N=0;N<_.length;N+=1)A[_.charCodeAt(N)]!==void 0?(I++,typeof(A=A[_.charCodeAt(N)])=="number"&&(C+=String.fromCharCode(A),A=r,I=0),N===_.length-1&&(A=r,C+=_.charAt(N-(I-1)),N-=I-1,I=0)):(A=r,C+=_.charAt(N-I),N-=I,I=0);return C};e.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&n[_.charCodeAt(0)]!==void 0};var y=e.__arabicParser__.getCorrectForm=function(_,N,A){return a(_)?s(_)===!1?-1:!f(_)||!a(N)&&!a(A)||!a(A)&&l(N)||l(_)&&!a(N)||l(_)&&u(N)||l(_)&&l(N)?0:d(_)&&a(N)&&!l(N)&&a(A)&&f(A)?3:l(_)||!a(A)?1:2:-1},v=function(_){var N=0,A=0,C=0,I="",L="",q="",Q=(_=_||"").split("\\s+"),B=[];for(N=0;N<Q.length;N+=1){for(B.push(""),A=0;A<Q[N].length;A+=1)I=Q[N][A],L=Q[N][A-1],q=Q[N][A+1],a(I)?(C=y(I,L,q),B[N]+=C!==-1?String.fromCharCode(t[I.charCodeAt(0)][C]):I):B[N]+=I;B[N]=m(B[N])}return B.join(" ")},E=e.__arabicParser__.processArabic=e.processArabic=function(){var _,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,A=[];if(Array.isArray(N)){var C=0;for(A=[],C=0;C<N.length;C+=1)Array.isArray(N[C])?A.push([v(N[C][0]),N[C][1],N[C][2]]):A.push([v(N[C])]);_=A}else _=v(N);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};e.events.push(["preProcessText",E])}(lr.API),lr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(lr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(_){u=_}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(_){y=_}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(_){v=_}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(_){E=_}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,f){n.call(this);var d=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),y=f.scaleFactor||this.internal.scaleFactor,v=0,E=0,_=0,N=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var A=f.maxWidth;A>0?typeof u=="string"?u=this.splitTextToSize(u,A):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(I,L){return I.concat(N.splitTextToSize(L,A))},[])):u=Array.isArray(u)?u:[u];for(var C=0;C<u.length;C++)v<(_=this.getStringUnitWidth(u[C],{font:m})*d)&&(v=_);return v!==0&&(E=u.length),{w:v/=y,h:Math.max((E*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/y,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var f=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,v&&y&&(this.printHeaderRow(u.lineNumber,!0),u.y+=y[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-d,u.y+d,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+d,{align:"center",baseline:"top",maxWidth:u.width-d-d}):this.text(u.text,u.x+d,u.y+d,{align:"left",baseline:"top",maxWidth:u.width-d-d})),this.internal.__cell__.lastCell=u,this};e.table=function(u,f,d,m,y){if(n.call(this),!d)throw new Error("No data for PDF table.");var v,E,_,N,A=[],C=[],I=[],L={},q={},Q=[],B=[],M=(y=y||{}).autoSize||!1,F=y.printHeaders!==!1,X=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,W=y.margins||Object.assign({width:this.getPageWidth()},t),U=typeof y.padding=="number"?y.padding:3,re=y.headerBackgroundColor||"#c8c8c8",oe=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=W,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=re,this.internal.__cell__.headerTextColor=oe,this.setFontSize(X),m==null)C=A=Object.keys(d[0]),I=A.map(function(){return"left"});else if(Array.isArray(m)&&wn(m[0])==="object")for(A=m.map(function(Te){return Te.name}),C=m.map(function(Te){return Te.prompt||Te.name||""}),I=m.map(function(Te){return Te.align||"left"}),v=0;v<m.length;v+=1)q[m[v].name]=m[v].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(C=A=m,I=A.map(function(){return"left"}));if(M||Array.isArray(m)&&typeof m[0]=="string")for(v=0;v<A.length;v+=1){for(L[N=A[v]]=d.map(function(Te){return Te[N]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(C[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=L[N],this.setFont(void 0,"normal"),_=0;_<E.length;_+=1)Q.push(this.getTextDimensions(E[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[N]=Math.max.apply(null,Q)+U+U,Q=[]}if(F){var le={};for(v=0;v<A.length;v+=1)le[A[v]]={},le[A[v]].text=C[v],le[A[v]].align=I[v];var Ne=l.call(this,le,q);B=A.map(function(Te){return new s(u,f,q[Te],Ne,le[Te].text,void 0,le[Te].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var Ae=m.reduce(function(Te,He){return Te[He.name]=He.align,Te},{});for(v=0;v<d.length;v+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:v,data:d[v]},this);var de=l.call(this,d[v],q);for(_=0;_<A.length;_+=1){var _e=d[v][A[_]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:v,col:_,data:_e},this),a.call(this,new s(u,f,q[A[_]],de,_e,v+2,Ae[A[_]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var l=function(u,f){var d=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(u).map(function(v){var E=u[v];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,f[v]-d-d)},this).map(function(v){return this.getLineHeightFactor()*v.length*m/y+d+d},this).reduce(function(v,E){return Math.max(v,E)},0)};e.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){d=this.internal.__cell__.tableHeaderRow[v].clone(),f&&(d.y=this.internal.__cell__.margins.top||0,y.push(d)),d.lineNumber=u;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(E)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}}(lr.API);var x7={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},v7=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Py=m7(v7),w7=[100,200,300,400,500,600,700,800,900],QQ=m7(w7);function Oy(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return x7[s=s||"normal"]?s:"normal"}(e.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof Py[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function pE(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var ZQ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},gE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function mE(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function JQ(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},ZQ,r.genericFontFamilies||{}),s=null,a=null,l=0;l<t.length;++l)if(i[(s=Oy(t[l])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){a=e[s.family];break}if(!(a=a||e[n]))throw new Error("Could not find a font-family for the rule '"+mE(s)+"' and default family '"+n+"'.");if(a=function(u,f){if(f[u])return f[u];var d=Py[u],m=d<=Py.normal?-1:1,y=pE(f,v7,d,m);if(!y)throw new Error("Could not find a matching font-stretch value for "+u);return y}(s.stretch,a),a=function(u,f){if(f[u])return f[u];for(var d=x7[u],m=0;m<d.length;++m)if(f[d[m]])return f[d[m]];throw new Error("Could not find a matching font-style for "+u)}(s.style,a),!(a=function(u,f){if(f[u])return f[u];if(u===400&&f[500])return f[500];if(u===500&&f[400])return f[400];var d=QQ[u],m=pE(f,w7,d,u<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+u);return m}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+mE(s)+"'.");return a}function xE(e){return e.trimLeft()}function eZ(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function tZ(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var gg,vE,wE,Dv=["times"];(function(e){var t,r,n,i,s,a,l,u,f,d=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new u,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new a,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new a,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,f=new d}]);var m=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=j;Object.defineProperty(this,"pdf",{get:function(){return V}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(Ue){G=!!Ue}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(Ue){Z=!!Ue}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(Ue){isNaN(Ue)||(ie=Ue)}});var Se=0;Object.defineProperty(this,"posY",{get:function(){return Se},set:function(Ue){isNaN(Ue)||(Se=Ue)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Ue){var pe;typeof Ue=="number"?pe=[Ue,Ue,Ue,Ue]:((pe=new Array(4))[0]=Ue[0],pe[1]=Ue.length>=2?Ue[1]:pe[0],pe[2]=Ue.length>=3?Ue[2]:pe[0],pe[3]=Ue.length>=4?Ue[3]:pe[1]),f.margin=pe}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(Ue){be=Ue}});var Ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ce},set:function(Ue){Ce=Ue}});var Pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Pe},set:function(Ue){Pe=Ue}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Ue){Ue instanceof d&&(f=Ue)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Ue){f.path=Ue}});var Re=[];Object.defineProperty(this,"ctxStack",{get:function(){return Re},set:function(Ue){Re=Ue}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ue){var pe;pe=y(Ue),this.ctx.fillStyle=pe.style,this.ctx.isFillTransparent=pe.a===0,this.ctx.fillOpacity=pe.a,this.pdf.setFillColor(pe.r,pe.g,pe.b,{a:pe.a}),this.pdf.setTextColor(pe.r,pe.g,pe.b,{a:pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ue){var pe=y(Ue);this.ctx.strokeStyle=pe.style,this.ctx.isStrokeTransparent=pe.a===0,this.ctx.strokeOpacity=pe.a,pe.a===0?this.pdf.setDrawColor(255,255,255):(pe.a,this.pdf.setDrawColor(pe.r,pe.g,pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ue){["butt","round","square"].indexOf(Ue)!==-1&&(this.ctx.lineCap=Ue,this.pdf.setLineCap(Ue))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ue){isNaN(Ue)||(this.ctx.lineWidth=Ue,this.pdf.setLineWidth(Ue))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ue){["bevel","round","miter"].indexOf(Ue)!==-1&&(this.ctx.lineJoin=Ue,this.pdf.setLineJoin(Ue))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ue){isNaN(Ue)||(this.ctx.miterLimit=Ue,this.pdf.setMiterLimit(Ue))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ue){this.ctx.textBaseline=Ue}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ue){["right","end","center","left","start"].indexOf(Ue)!==-1&&(this.ctx.textAlign=Ue)}});var Ge=null;function Qe(Ue,pe){if(Ge===null){var rt=function(nt){var qe=[];return Object.keys(nt).forEach(function(yt){nt[yt].forEach(function(et){var At=null;switch(et){case"bold":At={family:yt,weight:"bold"};break;case"italic":At={family:yt,style:"italic"};break;case"bolditalic":At={family:yt,weight:"bold",style:"italic"};break;case"":case"normal":At={family:yt}}At!==null&&(At.ref={name:yt,style:et},qe.push(At))})}),qe}(Ue.getFontList());Ge=function(nt){for(var qe={},yt=0;yt<nt.length;++yt){var et=Oy(nt[yt]),At=et.family,Bt=et.stretch,Pt=et.style,$t=et.weight;qe[At]=qe[At]||{},qe[At][Bt]=qe[At][Bt]||{},qe[At][Bt][Pt]=qe[At][Bt][Pt]||{},qe[At][Bt][Pt][$t]=et}return qe}(rt.concat(pe))}return Ge}var ct=null;Object.defineProperty(this,"fontFaces",{get:function(){return ct},set:function(Ue){Ge=null,ct=Ue}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ue){var pe;if(this.ctx.font=Ue,(pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ue))!==null){var rt=pe[1];pe[2];var nt=pe[3],qe=pe[4];pe[5];var yt=pe[6],et=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(qe)[2];qe=Math.floor(et==="px"?parseFloat(qe)*this.pdf.internal.scaleFactor:et==="em"?parseFloat(qe)*this.pdf.getFontSize():parseFloat(qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(qe);var At=function(Mt){var gr,Nt,Jr=[],Gt=Mt.trim();if(Gt==="")return Dv;if(Gt in gE)return[gE[Gt]];for(;Gt!=="";){switch(Nt=null,gr=(Gt=xE(Gt)).charAt(0)){case'"':case"'":Nt=eZ(Gt.substring(1),gr);break;default:Nt=tZ(Gt)}if(Nt===null||(Jr.push(Nt[0]),(Gt=xE(Nt[1]))!==""&&Gt.charAt(0)!==","))return Dv;Gt=Gt.replace(/^,/,"")}return Jr}(yt);if(this.fontFaces){var Bt=JQ(Qe(this.pdf,this.fontFaces),At.map(function(Mt){return{family:Mt,stretch:"normal",weight:nt,style:rt}}));this.pdf.setFont(Bt.ref.name,Bt.ref.style)}else{var Pt="";(nt==="bold"||parseInt(nt,10)>=700||rt==="bold")&&(Pt="bold"),rt==="italic"&&(Pt+="italic"),Pt.length===0&&(Pt="normal");for(var $t="",Dt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Jt=0;Jt<At.length;Jt++){if(this.pdf.internal.getFont(At[Jt],Pt,{noFallback:!0,disableWarning:!0})!==void 0){$t=At[Jt];break}if(Pt==="bolditalic"&&this.pdf.internal.getFont(At[Jt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)$t=At[Jt],Pt="bold";else if(this.pdf.internal.getFont(At[Jt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){$t=At[Jt],Pt="normal";break}}if($t===""){for(var er=0;er<At.length;er++)if(Dt[At[er]]){$t=Dt[At[er]];break}}$t=$t===""?"Times":$t,this.pdf.setFont($t,Pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ue){this.ctx.globalCompositeOperation=Ue}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ue){this.ctx.globalAlpha=Ue}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ue){this.ctx.lineDashOffset=Ue,He.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ue){this.ctx.lineDash=Ue,He.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ue){this.ctx.ignoreClearRect=!!Ue}})};m.prototype.setLineDash=function(j){this.lineDash=j},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){L.call(this,"fill",!1)},m.prototype.stroke=function(){L.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(j,V){if(isNaN(j)||isNaN(V))throw Tn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new a(j,V));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(j,V)},m.prototype.closePath=function(){var j=new a(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&wn(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){j=new a(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(j.x,j.y)},m.prototype.lineTo=function(j,V){if(isNaN(j)||isNaN(V))throw Tn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new a(j,V));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(G.x,G.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),L.call(this,null,!0)},m.prototype.quadraticCurveTo=function(j,V,G,Z){if(isNaN(G)||isNaN(Z)||isNaN(j)||isNaN(V))throw Tn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new a(G,Z)),Se=this.ctx.transform.applyToPoint(new a(j,V));this.path.push({type:"qct",x1:Se.x,y1:Se.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new a(ie.x,ie.y)},m.prototype.bezierCurveTo=function(j,V,G,Z,ie,Se){if(isNaN(ie)||isNaN(Se)||isNaN(j)||isNaN(V)||isNaN(G)||isNaN(Z))throw Tn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new a(ie,Se)),Ce=this.ctx.transform.applyToPoint(new a(j,V)),Pe=this.ctx.transform.applyToPoint(new a(G,Z));this.path.push({type:"bct",x1:Ce.x,y1:Ce.y,x2:Pe.x,y2:Pe.y,x:be.x,y:be.y}),this.ctx.lastPoint=new a(be.x,be.y)},m.prototype.arc=function(j,V,G,Z,ie,Se){if(isNaN(j)||isNaN(V)||isNaN(G)||isNaN(Z)||isNaN(ie))throw Tn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Se=!!Se,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new a(j,V));j=be.x,V=be.y;var Ce=this.ctx.transform.applyToPoint(new a(0,G)),Pe=this.ctx.transform.applyToPoint(new a(0,0));G=Math.sqrt(Math.pow(Ce.x-Pe.x,2)+Math.pow(Ce.y-Pe.y,2))}Math.abs(ie-Z)>=2*Math.PI&&(Z=0,ie=2*Math.PI),this.path.push({type:"arc",x:j,y:V,radius:G,startAngle:Z,endAngle:ie,counterclockwise:Se})},m.prototype.arcTo=function(j,V,G,Z,ie){throw new Error("arcTo not implemented.")},m.prototype.rect=function(j,V,G,Z){if(isNaN(j)||isNaN(V)||isNaN(G)||isNaN(Z))throw Tn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,V),this.lineTo(j+G,V),this.lineTo(j+G,V+Z),this.lineTo(j,V+Z),this.lineTo(j,V),this.lineTo(j+G,V),this.lineTo(j,V)},m.prototype.fillRect=function(j,V,G,Z){if(isNaN(j)||isNaN(V)||isNaN(G)||isNaN(Z))throw Tn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,V,G,Z),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},m.prototype.strokeRect=function(j,V,G,Z){if(isNaN(j)||isNaN(V)||isNaN(G)||isNaN(Z))throw Tn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(j,V,G,Z),this.stroke())},m.prototype.clearRect=function(j,V,G,Z){if(isNaN(j)||isNaN(V)||isNaN(G)||isNaN(Z))throw Tn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,V,G,Z))},m.prototype.save=function(j){j=typeof j!="boolean"||j;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},m.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(V),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(j){var V,G,Z,ie;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))V=0,G=0,Z=0,ie=0;else{var Se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(Se!==null)V=parseInt(Se[1]),G=parseInt(Se[2]),Z=parseInt(Se[3]),ie=1;else if((Se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)V=parseInt(Se[1]),G=parseInt(Se[2]),Z=parseInt(Se[3]),ie=parseFloat(Se[4]);else{if(ie=1,typeof j=="string"&&j.charAt(0)!=="#"){var be=new u7(j);j=be.ok?be.toHex():"#000000"}j.length===4?(V=j.substring(1,2),V+=V,G=j.substring(2,3),G+=G,Z=j.substring(3,4),Z+=Z):(V=j.substring(1,3),G=j.substring(3,5),Z=j.substring(5,7)),V=parseInt(V,16),G=parseInt(G,16),Z=parseInt(Z,16)}}return{r:V,g:G,b:Z,a:ie,style:j}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(j,V,G,Z){if(isNaN(V)||isNaN(G)||typeof j!="string")throw Tn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!v.call(this)){var ie=de(this.ctx.transform.rotation),Se=this.ctx.transform.scaleX;U.call(this,{text:j,x:V,y:G,scale:Se,angle:ie,align:this.textAlign,maxWidth:Z})}},m.prototype.strokeText=function(j,V,G,Z){if(isNaN(V)||isNaN(G)||typeof j!="string")throw Tn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){Z=isNaN(Z)?void 0:Z;var ie=de(this.ctx.transform.rotation),Se=this.ctx.transform.scaleX;U.call(this,{text:j,x:V,y:G,scale:Se,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:Z})}},m.prototype.measureText=function(j){if(typeof j!="string")throw Tn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,G=this.pdf.internal.scaleFactor,Z=V.internal.getFontSize(),ie=V.getStringUnitWidth(j)*Z/V.internal.scaleFactor,Se=function(be){var Ce=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this};return new Se({width:ie*=Math.round(96*G/72*1e4)/1e4})},m.prototype.scale=function(j,V){if(isNaN(j)||isNaN(V))throw Tn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new u(j,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},m.prototype.rotate=function(j){if(isNaN(j))throw Tn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new u(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},m.prototype.translate=function(j,V){if(isNaN(j)||isNaN(V))throw Tn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new u(1,0,0,1,j,V);this.ctx.transform=this.ctx.transform.multiply(G)},m.prototype.transform=function(j,V,G,Z,ie,Se){if(isNaN(j)||isNaN(V)||isNaN(G)||isNaN(Z)||isNaN(ie)||isNaN(Se))throw Tn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new u(j,V,G,Z,ie,Se);this.ctx.transform=this.ctx.transform.multiply(be)},m.prototype.setTransform=function(j,V,G,Z,ie,Se){j=isNaN(j)?1:j,V=isNaN(V)?0:V,G=isNaN(G)?0:G,Z=isNaN(Z)?1:Z,ie=isNaN(ie)?0:ie,Se=isNaN(Se)?0:Se,this.ctx.transform=new u(j,V,G,Z,ie,Se)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(j,V,G,Z,ie,Se,be,Ce,Pe){var Re=this.pdf.getImageProperties(j),Ge=1,Qe=1,ct=1,Ue=1;Z!==void 0&&Ce!==void 0&&(ct=Ce/Z,Ue=Pe/ie,Ge=Re.width/Z*Ce/Z,Qe=Re.height/ie*Pe/ie),Se===void 0&&(Se=V,be=G,V=0,G=0),Z!==void 0&&Ce===void 0&&(Ce=Z,Pe=ie),Z===void 0&&Ce===void 0&&(Ce=Re.width,Pe=Re.height);for(var pe,rt=this.ctx.transform.decompose(),nt=de(rt.rotate.shx),qe=new u,yt=(qe=(qe=(qe=qe.multiply(rt.translate)).multiply(rt.skew)).multiply(rt.scale)).applyToRectangle(new l(Se-V*ct,be-G*Ue,Z*Ge,ie*Qe)),et=N.call(this,yt),At=[],Bt=0;Bt<et.length;Bt+=1)At.indexOf(et[Bt])===-1&&At.push(et[Bt]);if(I(At),this.autoPaging)for(var Pt=At[0],$t=At[At.length-1],Dt=Pt;Dt<$t+1;Dt++){this.pdf.setPage(Dt);var Jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],er=Dt===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nt=Dt===1?0:Mt+(Dt-2)*gr;if(this.ctx.clip_path.length!==0){var Jr=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(pe,this.posX+this.margin[3],-Nt+er+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=Jr}var Gt=JSON.parse(JSON.stringify(yt));Gt=C([Gt],this.posX+this.margin[3],-Nt+er+this.ctx.prevPageLastElemOffset)[0];var St=(Dt>Pt||Dt<$t)&&_.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,gr,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",Gt.x,Gt.y,Gt.w,Gt.h,null,null,nt),St&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,nt)};var N=function(j,V,G){var Z=[];V=V||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":Z.push(Math.floor((j.y+ie)/G)+1);break;case"arc":Z.push(Math.floor((j.y+ie-j.radius)/G)+1),Z.push(Math.floor((j.y+ie+j.radius)/G)+1);break;case"qct":var Se=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);Z.push(Math.floor((Se.y+ie)/G)+1),Z.push(Math.floor((Se.y+Se.h+ie)/G)+1);break;case"bct":var be=Te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);Z.push(Math.floor((be.y+ie)/G)+1),Z.push(Math.floor((be.y+be.h+ie)/G)+1);break;case"rect":Z.push(Math.floor((j.y+ie)/G)+1),Z.push(Math.floor((j.y+j.h+ie)/G)+1)}for(var Ce=0;Ce<Z.length;Ce+=1)for(;this.pdf.internal.getNumberOfPages()<Z[Ce];)A.call(this);return Z},A=function(){var j=this.fillStyle,V=this.strokeStyle,G=this.font,Z=this.lineCap,ie=this.lineWidth,Se=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=V,this.font=G,this.lineCap=Z,this.lineWidth=ie,this.lineJoin=Se},C=function(j,V,G){for(var Z=0;Z<j.length;Z++)switch(j[Z].type){case"bct":j[Z].x2+=V,j[Z].y2+=G;case"qct":j[Z].x1+=V,j[Z].y1+=G;case"mt":case"lt":case"arc":default:j[Z].x+=V,j[Z].y+=G}return j},I=function(j){return j.sort(function(V,G){return V-G})},L=function(j,V){for(var G,Z,ie=this.fillStyle,Se=this.strokeStyle,be=this.lineCap,Ce=this.lineWidth,Pe=Math.abs(Ce*this.ctx.transform.scaleX),Re=this.lineJoin,Ge=JSON.parse(JSON.stringify(this.path)),Qe=JSON.parse(JSON.stringify(this.path)),ct=[],Ue=0;Ue<Qe.length;Ue++)if(Qe[Ue].x!==void 0)for(var pe=N.call(this,Qe[Ue]),rt=0;rt<pe.length;rt+=1)ct.indexOf(pe[rt])===-1&&ct.push(pe[rt]);for(var nt=0;nt<ct.length;nt++)for(;this.pdf.internal.getNumberOfPages()<ct[nt];)A.call(this);if(I(ct),this.autoPaging)for(var qe=ct[0],yt=ct[ct.length-1],et=qe;et<yt+1;et++){this.pdf.setPage(et),this.fillStyle=ie,this.strokeStyle=Se,this.lineCap=be,this.lineWidth=Pe,this.lineJoin=Re;var At=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bt=et===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Dt=et===1?0:Pt+(et-2)*$t;if(this.ctx.clip_path.length!==0){var Jt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(G,this.posX+this.margin[3],-Dt+Bt+this.ctx.prevPageLastElemOffset),q.call(this,j,!0),this.path=Jt}if(Z=JSON.parse(JSON.stringify(Ge)),this.path=C(Z,this.posX+this.margin[3],-Dt+Bt+this.ctx.prevPageLastElemOffset),V===!1||et===0){var er=(et>qe||et<yt)&&_.call(this);er&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,$t,null).clip().discardPath()),q.call(this,j,V),er&&this.pdf.restoreGraphicsState()}this.lineWidth=Ce}else this.lineWidth=Pe,q.call(this,j,V),this.lineWidth=Ce;this.path=Ge},q=function(j,V){if((j!=="stroke"||V||!E.call(this))&&(j==="stroke"||V||!v.call(this))){for(var G,Z,ie=[],Se=this.path,be=0;be<Se.length;be++){var Ce=Se[be];switch(Ce.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:Ce,deltas:[],abs:[]});break;case"lt":var Pe=ie.length;if(Se[be-1]&&!isNaN(Se[be-1].x)&&(G=[Ce.x-Se[be-1].x,Ce.y-Se[be-1].y],Pe>0)){for(;Pe>=0;Pe--)if(ie[Pe-1].close!==!0&&ie[Pe-1].begin!==!0){ie[Pe-1].deltas.push(G),ie[Pe-1].abs.push(Ce);break}}break;case"bct":G=[Ce.x1-Se[be-1].x,Ce.y1-Se[be-1].y,Ce.x2-Se[be-1].x,Ce.y2-Se[be-1].y,Ce.x-Se[be-1].x,Ce.y-Se[be-1].y],ie[ie.length-1].deltas.push(G);break;case"qct":var Re=Se[be-1].x+2/3*(Ce.x1-Se[be-1].x),Ge=Se[be-1].y+2/3*(Ce.y1-Se[be-1].y),Qe=Ce.x+2/3*(Ce.x1-Ce.x),ct=Ce.y+2/3*(Ce.y1-Ce.y),Ue=Ce.x,pe=Ce.y;G=[Re-Se[be-1].x,Ge-Se[be-1].y,Qe-Se[be-1].x,ct-Se[be-1].y,Ue-Se[be-1].x,pe-Se[be-1].y],ie[ie.length-1].deltas.push(G);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(Ce)}}Z=V?null:j==="stroke"?"stroke":"fill";for(var rt=!1,nt=0;nt<ie.length;nt++)if(ie[nt].arc)for(var qe=ie[nt].abs,yt=0;yt<qe.length;yt++){var et=qe[yt];et.type==="arc"?M.call(this,et.x,et.y,et.radius,et.startAngle,et.endAngle,et.counterclockwise,void 0,V,!rt):re.call(this,et.x,et.y),rt=!0}else if(ie[nt].close===!0)this.pdf.internal.out("h"),rt=!1;else if(ie[nt].begin!==!0){var At=ie[nt].start.x,Bt=ie[nt].start.y;oe.call(this,ie[nt].deltas,At,Bt),rt=!0}Z&&F.call(this,Z),V&&X.call(this)}},Q=function(j){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-G;case"top":return j+V-G;case"hanging":return j+V-2*G;case"middle":return j+V/2-G;case"ideographic":return j;case"alphabetic":default:return j}},B=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(V,G){this.colorStops.push([V,G])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(j,V,G,Z,ie,Se,be,Ce,Pe){for(var Re=Ne.call(this,G,Z,ie,Se),Ge=0;Ge<Re.length;Ge++){var Qe=Re[Ge];Ge===0&&(Pe?W.call(this,Qe.x1+j,Qe.y1+V):re.call(this,Qe.x1+j,Qe.y1+V)),le.call(this,j,V,Qe.x2,Qe.y2,Qe.x3,Qe.y3,Qe.x4,Qe.y4)}Ce?X.call(this):F.call(this,be)},F=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},W=function(j,V){this.pdf.internal.out(r(j)+" "+n(V)+" m")},U=function(j){var V;switch(j.align){case"right":case"end":V="right";break;case"center":V="center";break;case"left":case"start":default:V="left"}var G=this.pdf.getTextDimensions(j.text),Z=Q.call(this,j.y),ie=B.call(this,Z)-G.h,Se=this.ctx.transform.applyToPoint(new a(j.x,Z)),be=this.ctx.transform.decompose(),Ce=new u;Ce=(Ce=(Ce=Ce.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var Pe,Re,Ge,Qe=this.ctx.transform.applyToRectangle(new l(j.x,Z,G.w,G.h)),ct=Ce.applyToRectangle(new l(j.x,ie,G.w,G.h)),Ue=N.call(this,ct),pe=[],rt=0;rt<Ue.length;rt+=1)pe.indexOf(Ue[rt])===-1&&pe.push(Ue[rt]);if(I(pe),this.autoPaging)for(var nt=pe[0],qe=pe[pe.length-1],yt=nt;yt<qe+1;yt++){this.pdf.setPage(yt);var et=yt===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[2],Pt=Bt-this.margin[0],$t=this.pdf.internal.pageSize.width-this.margin[1],Dt=$t-this.margin[3],Jt=yt===1?0:At+(yt-2)*Pt;if(this.ctx.clip_path.length!==0){var er=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Pe,this.posX+this.margin[3],-1*Jt+et),q.call(this,"fill",!0),this.path=er}var Mt=C([JSON.parse(JSON.stringify(ct))],this.posX+this.margin[3],-Jt+et+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*j.scale),Ge=this.lineWidth,this.lineWidth=Ge*j.scale);var gr=this.autoPaging!=="text";if(gr||Mt.y+Mt.h<=Bt){if(gr||Mt.y>=et&&Mt.x<=$t){var Nt=gr?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||$t-Mt.x)[0],Jr=C([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-Jt+et+this.ctx.prevPageLastElemOffset)[0],Gt=gr&&(yt>nt||yt<qe)&&_.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dt,Pt,null).clip().discardPath()),this.pdf.text(Nt,Jr.x,Jr.y,{angle:j.angle,align:V,renderingMode:j.renderingMode}),Gt&&this.pdf.restoreGraphicsState()}}else Mt.y<Bt&&(this.ctx.prevPageLastElemOffset+=Bt-Mt.y);j.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=Ge)}else j.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*j.scale),Ge=this.lineWidth,this.lineWidth=Ge*j.scale),this.pdf.text(j.text,Se.x+this.posX,Se.y+this.posY,{angle:j.angle,align:V,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=Ge)},re=function(j,V,G,Z){G=G||0,Z=Z||0,this.pdf.internal.out(r(j+G)+" "+n(V+Z)+" l")},oe=function(j,V,G){return this.pdf.lines(j,V,G,null,null)},le=function(j,V,G,Z,ie,Se,be,Ce){this.pdf.internal.out([t(i(G+j)),t(s(Z+V)),t(i(ie+j)),t(s(Se+V)),t(i(be+j)),t(s(Ce+V)),"c"].join(" "))},Ne=function(j,V,G,Z){for(var ie=2*Math.PI,Se=Math.PI/2;V>G;)V-=ie;var be=Math.abs(G-V);be<ie&&Z&&(be=ie-be);for(var Ce=[],Pe=Z?-1:1,Re=V;be>1e-5;){var Ge=Re+Pe*Math.min(be,Se);Ce.push(Ae.call(this,j,Re,Ge)),be-=Math.abs(Ge-Re),Re=Ge}return Ce},Ae=function(j,V,G){var Z=(G-V)/2,ie=j*Math.cos(Z),Se=j*Math.sin(Z),be=ie,Ce=-Se,Pe=be*be+Ce*Ce,Re=Pe+be*ie+Ce*Se,Ge=4/3*(Math.sqrt(2*Pe*Re)-Re)/(be*Se-Ce*ie),Qe=be-Ge*Ce,ct=Ce+Ge*be,Ue=Qe,pe=-ct,rt=Z+V,nt=Math.cos(rt),qe=Math.sin(rt);return{x1:j*Math.cos(V),y1:j*Math.sin(V),x2:Qe*nt-ct*qe,y2:Qe*qe+ct*nt,x3:Ue*nt-pe*qe,y3:Ue*qe+pe*nt,x4:j*Math.cos(G),y4:j*Math.sin(G)}},de=function(j){return 180*j/Math.PI},_e=function(j,V,G,Z,ie,Se){var be=j+.5*(G-j),Ce=V+.5*(Z-V),Pe=ie+.5*(G-ie),Re=Se+.5*(Z-Se),Ge=Math.min(j,ie,be,Pe),Qe=Math.max(j,ie,be,Pe),ct=Math.min(V,Se,Ce,Re),Ue=Math.max(V,Se,Ce,Re);return new l(Ge,ct,Qe-Ge,Ue-ct)},Te=function(j,V,G,Z,ie,Se,be,Ce){var Pe,Re,Ge,Qe,ct,Ue,pe,rt,nt,qe,yt,et,At,Bt,Pt=G-j,$t=Z-V,Dt=ie-G,Jt=Se-Z,er=be-ie,Mt=Ce-Se;for(Re=0;Re<41;Re++)nt=(pe=(Ge=j+(Pe=Re/40)*Pt)+Pe*((ct=G+Pe*Dt)-Ge))+Pe*(ct+Pe*(ie+Pe*er-ct)-pe),qe=(rt=(Qe=V+Pe*$t)+Pe*((Ue=Z+Pe*Jt)-Qe))+Pe*(Ue+Pe*(Se+Pe*Mt-Ue)-rt),Re==0?(yt=nt,et=qe,At=nt,Bt=qe):(yt=Math.min(yt,nt),et=Math.min(et,qe),At=Math.max(At,nt),Bt=Math.max(Bt,qe));return new l(Math.round(yt),Math.round(et),Math.round(At-yt),Math.round(Bt-et))},He=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,V,G=(j=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:V}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(lr.API),function(e){var t=function(s){var a,l,u,f,d,m,y,v,E,_;for(l=[],u=0,f=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;f>u;u+=4)(d=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(m=(d=((d=((d=((d=(d-(_=d%85))/85)-(E=d%85))/85)-(v=d%85))/85)-(y=d%85))/85)%85,l.push(m+33,y+33,v+33,E+33,_+33)):l.push(122);return function(N,A){for(var C=A;C>0;C--)N.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var a,l,u,f,d,m=String,y="length",v=255,E="charCodeAt",_="slice",N="replace";for(s[_](-2),s=s[_](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),u=[],f=0,d=(s+=a="uuuuu"[_](s[y]%5||5))[y];d>f;f+=5)l=52200625*(s[E](f)-33)+614125*(s[E](f+1)-33)+7225*(s[E](f+2)-33)+85*(s[E](f+3)-33)+(s[E](f+4)-33),u.push(v&l>>24,v&l>>16,v&l>>8,v&l);return function(A,C){for(var I=C;I>0;I--)A.pop()}(u,a[y]),m.fromCharCode.apply(m,u)},n=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},i=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return s=(a=Cy(a)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};e.processDataByFilters=function(s,a){var l=0,u=s||"",f=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=n(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(lr.API),function(e){e.loadFile=function(t,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(u,f,d){var m=new XMLHttpRequest,y=0,v=function(E){var _=E.length,N=[],A=String.fromCharCode;for(y=0;y<_;y+=1)N.push(A(255&E.charCodeAt(y)));return N.join("")};if(m.open("GET",u,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?d(v(this.responseText)):d(void 0)}),m.send(null),f&&m.status===200)return v(m.responseText)}(i,s,a)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(lr.API),function(e){function t(){return(ur.html2canvas?Promise.resolve(ur.html2canvas):pu(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(ur.DOMPurify?Promise.resolve(ur.DOMPurify):pu(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var l=wn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var f in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[f]=l.style[f];return u},s=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),f=a.convert(Promise.resolve(),u);return f=(f=f.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function u(f,d){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),y=f.firstChild;y;y=y.nextSibling)d!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||m.appendChild(u(y,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var u=this.opt.jsPDF,f=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var y=0;y<f.length;++y){var v=f[y],E=v.src.find(function(_){return _.format==="truetype"});E&&u.addFont(E.url,v.ref.name,v.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(n(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var u=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},s.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(a=a||lr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,u,f){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,u,f){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(f,d){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,f),m}).then(f,d).then(function(m){return u.updateProgress(1),m})})},s.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then,a&&(a=a.bind(this)),l&&(l=l.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=u.call(f,a,l);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,lr.getPageSize=function(a,l,u){if(wn(a)==="object"){var f=a;a=f.orientation,l=f.unit||l,u=f.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var d,m=(""+u).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var v,E=0,_=0;if(y.hasOwnProperty(m))E=y[m][1]/d,_=y[m][0]/d;else try{E=u[1],_=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",_>E&&(v=_,_=E,E=v);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",E>_&&(v=_,_=E,E=v)}return{width:_,height:E,unit:l,k:d,orientation:a}},e.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Oy):null;var u=new s(l);return l.worker?u:u.from(a).doCallback()}}(lr.API),lr.API.addJS=function(e){return wE=e,this.internal.events.subscribe("postPutResources",function(){gg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(gg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),vE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+wE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){gg!==void 0&&vE!==void 0&&this.internal.out("/Names <</JavaScript "+gg+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],l=n.exec(a);if(l!=null){var u=l[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,d=[];for(s=0;s<f;s++){var m=r.internal.newObject();d.push(m);var y=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var v=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+v+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var u=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(lr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,s,a,l){var u,f=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(u=function(m){for(var y,v=256*m.charCodeAt(4)+m.charCodeAt(5),E=m.length,_={width:0,height:0,numcomponents:1},N=4;N<E;N+=2){if(N+=v,t.indexOf(m.charCodeAt(N+1))!==-1){y=256*m.charCodeAt(N+5)+m.charCodeAt(N+6),_={width:256*m.charCodeAt(N+7)+m.charCodeAt(N+8),height:y,numcomponents:m.charCodeAt(N+9)};break}v=256*m.charCodeAt(N+2)+m.charCodeAt(N+3)}return _}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:f,index:n,alias:i}}return d}}(lr.API);var mh,mg,yE,bE,_E,rZ=function(){var e,t,r;function n(s){var a,l,u,f,d,m,y,v,E,_,N,A,C,I;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(a=this.readUInt32(),E=(function(){var L,q;for(q=[],L=0;L<4;++L)q.push(String.fromCharCode(this.data[this.pos++]));return q}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),f=this.readUInt16()||100,m.delay=1e3*d/f,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(E==="fdAT"&&(this.pos+=4,a-=4),s=(m!=null?m.data:void 0)||this.imgData,A=0;0<=a?A<a:A>a;0<=a?++A:--A)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((_=u-this.transparency.indexed.length)>0)for(C=0;0<=_?C<_:C>_;0<=_?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":y=(N=this.read(a)).indexOf(0),v=String.fromCharCode.apply(String,N.slice(0,y)),this.text[v]=String.fromCharCode.apply(String,N.slice(y+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(I=this.colorType)===4||I===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var a,l;for(l=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*a),u=0,f=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(m,y,v,E){var _,N,A,C,I,L,q,Q,B,M,F,X,W,U,re,oe,le,Ne,Ae,de,_e,Te=Math.ceil((f.width-m)/v),He=Math.ceil((f.height-y)/E),j=f.width==Te&&f.height==He;for(U=a*Te,X=j?l:new Uint8Array(U*He),L=s.length,W=0,N=0;W<He&&u<L;){switch(s[u++]){case 0:for(C=le=0;le<U;C=le+=1)X[N++]=s[u++];break;case 1:for(C=Ne=0;Ne<U;C=Ne+=1)_=s[u++],I=C<a?0:X[N-a],X[N++]=(_+I)%256;break;case 2:for(C=Ae=0;Ae<U;C=Ae+=1)_=s[u++],A=(C-C%a)/a,re=W&&X[(W-1)*U+A*a+C%a],X[N++]=(re+_)%256;break;case 3:for(C=de=0;de<U;C=de+=1)_=s[u++],A=(C-C%a)/a,I=C<a?0:X[N-a],re=W&&X[(W-1)*U+A*a+C%a],X[N++]=(_+Math.floor((I+re)/2))%256;break;case 4:for(C=_e=0;_e<U;C=_e+=1)_=s[u++],A=(C-C%a)/a,I=C<a?0:X[N-a],W===0?re=oe=0:(re=X[(W-1)*U+A*a+C%a],oe=A&&X[(W-1)*U+(A-1)*a+C%a]),q=I+re-oe,Q=Math.abs(q-I),M=Math.abs(q-re),F=Math.abs(q-oe),B=Q<=M&&Q<=F?I:M<=F?re:oe,X[N++]=(_+B)%256;break;default:throw new Error("Invalid filter algorithm: "+s[u-1])}if(!j){var V=((y+W*E)*f.width+m)*a,G=W*U;for(C=0;C<Te;C+=1){for(var Z=0;Z<a;Z+=1)l[V++]=X[G++];V+=(v-1)*a}}W++}}return s=LQ(s),f.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},n.prototype.decodePalette=function(){var s,a,l,u,f,d,m,y,v;for(l=this.palette,d=this.transparency.indexed||[],f=new Uint8Array((d.length||0)+l.length),u=0,s=0,a=m=0,y=l.length;m<y;a=m+=3)f[u++]=l[a],f[u++]=l[a+1],f[u++]=l[a+2],f[u++]=(v=d[s++])!=null?v:255;return f},n.prototype.copyToImageData=function(s,a){var l,u,f,d,m,y,v,E,_,N,A;if(u=this.colors,_=null,l=this.hasAlphaChannel,this.palette.length&&(_=(A=this._decodedPalette)!=null?A:this._decodedPalette=this.decodePalette(),u=4,l=!0),E=(f=s.data||s).length,m=_||a,d=y=0,u===1)for(;d<E;)v=_?4*a[d/4]:y,N=m[v++],f[d++]=N,f[d++]=N,f[d++]=N,f[d++]=l?m[v++]:255,y=v;else for(;d<E;)v=_?4*a[d/4]:y,f[d++]=m[v++],f[d++]=m[v++],f[d++]=m[v++],f[d++]=l?m[v++]:255,y=v},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(ur)==="[object Window]"){try{t=ur.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var a;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var a,l,u,f,d,m,y,v;if(this.animation){for(v=[],l=d=0,m=(y=this.animation.frames).length;d<m;l=++d)a=y[l],u=s.createImageData(a.width,a.height),f=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(u,f),a.imageData=u,v.push(a.image=e(u));return v}},n.prototype.renderFrame=function(s,a){var l,u,f;return l=(u=this.animation.frames)[a],f=u[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?s.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&s.putImageData(f.imageData,f.xOffset,f.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(s){var a,l,u,f,d,m,y=this;return l=0,m=this.animation,f=m.numFrames,u=m.frames,d=m.numPlays,(a=function(){var v,E;if(v=l++%f,E=u[v],y.renderFrame(s,v),f>1&&l/f<d)return y.animation._timeout=setTimeout(a,E.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var a,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(l=a.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),a.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function nZ(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,a=1<<(7&i)+1;e[t++],e[t++];var l=null,u=null;s&&(l=t,u=a,t+=3*a);var f=!0,d=[],m=0,y=null,v=0,E=null;for(this.width=r,this.height=n;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,E=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var _=e[t++];m=e[t++]|e[t++]<<8,y=e[t++],!(1&_)&&(y=null),v=_>>2&7,t++;break;case 254:for(;;){if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var N=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,I=e[t++]|e[t++]<<8,L=e[t++],q=L>>6&1,Q=1<<(7&L)+1,B=l,M=u,F=!1;L>>7&&(F=!0,B=t,M=Q,t+=3*Q);var X=t;for(t++;;){var W;if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}d.push({x:N,y:A,width:C,height:I,has_local_palette:F,palette_offset:B,palette_size:M,data_offset:X,data_length:t-X,transparent_index:y,interlaced:!!q,delay:m,disposal:v});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return E},this.frameInfo=function(U){if(U<0||U>=d.length)throw new Error("Frame index out of range.");return d[U]},this.decodeAndBlitFrameBGRA=function(U,re){var oe=this.frameInfo(U),le=oe.width*oe.height,Ne=new Uint8Array(le);SE(e,oe.data_offset,Ne,le);var Ae=oe.palette_offset,de=oe.transparent_index;de===null&&(de=256);var _e=oe.width,Te=r-_e,He=_e,j=4*(oe.y*r+oe.x),V=4*((oe.y+oe.height)*r+oe.x),G=j,Z=4*Te;oe.interlaced===!0&&(Z+=4*r*7);for(var ie=8,Se=0,be=Ne.length;Se<be;++Se){var Ce=Ne[Se];if(He===0&&(He=_e,(G+=Z)>=V&&(Z=4*Te+4*r*(ie-1),G=j+(_e+Te)*(ie<<1),ie>>=1)),Ce===de)G+=4;else{var Pe=e[Ae+3*Ce],Re=e[Ae+3*Ce+1],Ge=e[Ae+3*Ce+2];re[G++]=Ge,re[G++]=Re,re[G++]=Pe,re[G++]=255}--He}},this.decodeAndBlitFrameRGBA=function(U,re){var oe=this.frameInfo(U),le=oe.width*oe.height,Ne=new Uint8Array(le);SE(e,oe.data_offset,Ne,le);var Ae=oe.palette_offset,de=oe.transparent_index;de===null&&(de=256);var _e=oe.width,Te=r-_e,He=_e,j=4*(oe.y*r+oe.x),V=4*((oe.y+oe.height)*r+oe.x),G=j,Z=4*Te;oe.interlaced===!0&&(Z+=4*r*7);for(var ie=8,Se=0,be=Ne.length;Se<be;++Se){var Ce=Ne[Se];if(He===0&&(He=_e,(G+=Z)>=V&&(Z=4*Te+4*r*(ie-1),G=j+(_e+Te)*(ie<<1),ie>>=1)),Ce===de)G+=4;else{var Pe=e[Ae+3*Ce],Re=e[Ae+3*Ce+1],Ge=e[Ae+3*Ce+2];re[G++]=Pe,re[G++]=Re,re[G++]=Ge,re[G++]=255}--He}}}function SE(e,t,r,n){for(var i=e[t++],s=1<<i,a=s+1,l=a+1,u=i+1,f=(1<<u)-1,d=0,m=0,y=0,v=e[t++],E=new Int32Array(4096),_=null;;){for(;d<16&&v!==0;)m|=e[t++]<<d,d+=8,v===1?v=e[t++]:--v;if(d<u)break;var N=m&f;if(m>>=u,d-=u,N!==s){if(N===a)break;for(var A=N<l?N:_,C=0,I=A;I>s;)I=E[I]>>8,++C;var L=I;if(y+C+(A!==N?1:0)>n)return void Tn.log("Warning, gif stream longer than expected.");r[y++]=L;var q=y+=C;for(A!==N&&(r[y++]=L),I=A;C--;)I=E[I],r[--q]=255&I,I>>=8;_!==null&&l<4096&&(E[l++]=_<<8|L,l>=f+1&&u<12&&(++u,f=f<<1|1)),_=N}else l=a+1,f=(1<<(u=i+1))-1,_=null}return y!==n&&Tn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Fv(e){var t,r,n,i,s,a=Math.floor,l=new Array(64),u=new Array(64),f=new Array(64),d=new Array(64),m=new Array(65535),y=new Array(65535),v=new Array(64),E=new Array(64),_=[],N=0,A=7,C=new Array(64),I=new Array(64),L=new Array(64),q=new Array(256),Q=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],W=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],re=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ne(j,V){for(var G=0,Z=0,ie=new Array,Se=1;Se<=16;Se++){for(var be=1;be<=j[Se];be++)ie[V[Z]]=[],ie[V[Z]][0]=G,ie[V[Z]][1]=Se,Z++,G++;G*=2}return ie}function Ae(j){for(var V=j[0],G=j[1]-1;G>=0;)V&1<<G&&(N|=1<<A),G--,--A<0&&(N==255?(de(255),de(0)):de(N),A=7,N=0)}function de(j){_.push(j)}function _e(j){de(j>>8&255),de(255&j)}function Te(j,V,G,Z,ie){for(var Se,be=ie[0],Ce=ie[240],Pe=function(qe,yt){var et,At,Bt,Pt,$t,Dt,Jt,er,Mt,gr,Nt=0;for(Mt=0;Mt<8;++Mt){et=qe[Nt],At=qe[Nt+1],Bt=qe[Nt+2],Pt=qe[Nt+3],$t=qe[Nt+4],Dt=qe[Nt+5],Jt=qe[Nt+6];var Jr=et+(er=qe[Nt+7]),Gt=et-er,St=At+Jt,or=At-Jt,tr=Bt+Dt,qr=Bt-Dt,Dr=Pt+$t,Qs=Pt-$t,_n=Jr+Dr,xr=Jr-Dr,Ri=St+tr,on=St-tr;qe[Nt]=_n+Ri,qe[Nt+4]=_n-Ri;var cr=.707106781*(on+xr);qe[Nt+2]=xr+cr,qe[Nt+6]=xr-cr;var yr=.382683433*((_n=Qs+qr)-(on=or+Gt)),xa=.5411961*_n+yr,zr=1.306562965*on+yr,Li=.707106781*(Ri=qr+or),is=Gt+Li,qt=Gt-Li;qe[Nt+5]=qt+xa,qe[Nt+3]=qt-xa,qe[Nt+1]=is+zr,qe[Nt+7]=is-zr,Nt+=8}for(Nt=0,Mt=0;Mt<8;++Mt){et=qe[Nt],At=qe[Nt+8],Bt=qe[Nt+16],Pt=qe[Nt+24],$t=qe[Nt+32],Dt=qe[Nt+40],Jt=qe[Nt+48];var Ms=et+(er=qe[Nt+56]),ni=et-er,Ei=At+Jt,Hr=At-Jt,ln=Bt+Dt,te=Bt-Dt,ue=Pt+$t,he=Pt-$t,ge=Ms+ue,xe=Ms-ue,Ee=Ei+ln,Ve=Ei-ln;qe[Nt]=ge+Ee,qe[Nt+32]=ge-Ee;var it=.707106781*(Ve+xe);qe[Nt+16]=xe+it,qe[Nt+48]=xe-it;var ze=.382683433*((ge=he+te)-(Ve=Hr+ni)),Ke=.5411961*ge+ze,Ze=1.306562965*Ve+ze,pt=.707106781*(Ee=te+Hr),bt=ni+pt,_t=ni-pt;qe[Nt+40]=_t+Ke,qe[Nt+24]=_t-Ke,qe[Nt+8]=bt+Ze,qe[Nt+56]=bt-Ze,Nt++}for(Mt=0;Mt<64;++Mt)gr=qe[Mt]*yt[Mt],v[Mt]=gr>0?gr+.5|0:gr-.5|0;return v}(j,V),Re=0;Re<64;++Re)E[B[Re]]=Pe[Re];var Ge=E[0]-G;G=E[0],Ge==0?Ae(Z[0]):(Ae(Z[y[Se=32767+Ge]]),Ae(m[Se]));for(var Qe=63;Qe>0&&E[Qe]==0;)Qe--;if(Qe==0)return Ae(be),G;for(var ct,Ue=1;Ue<=Qe;){for(var pe=Ue;E[Ue]==0&&Ue<=Qe;)++Ue;var rt=Ue-pe;if(rt>=16){ct=rt>>4;for(var nt=1;nt<=ct;++nt)Ae(Ce);rt&=15}Se=32767+E[Ue],Ae(ie[(rt<<4)+y[Se]]),Ae(m[Se]),Ue++}return Qe!=63&&Ae(be),G}function He(j){j=Math.min(Math.max(j,1),100),s!=j&&(function(V){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var ie=a((G[Z]*V+50)/100);ie=Math.min(Math.max(ie,1),255),l[B[Z]]=ie}for(var Se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var Ce=a((Se[be]*V+50)/100);Ce=Math.min(Math.max(Ce,1),255),u[B[be]]=Ce}for(var Pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,Ge=0;Ge<8;Ge++)for(var Qe=0;Qe<8;Qe++)f[Re]=1/(l[B[Re]]*Pe[Ge]*Pe[Qe]*8),d[Re]=1/(u[B[Re]]*Pe[Ge]*Pe[Qe]*8),Re++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),s=j)}this.encode=function(j,V){V&&He(V),_=new Array,N=0,A=7,_e(65496),_e(65504),_e(16),de(74),de(70),de(73),de(70),de(0),de(1),de(1),de(0),_e(1),_e(1),de(0),de(0),function(){_e(65499),_e(132),de(0);for(var At=0;At<64;At++)de(l[At]);de(1);for(var Bt=0;Bt<64;Bt++)de(u[Bt])}(),function(At,Bt){_e(65472),_e(17),de(8),_e(Bt),_e(At),de(3),de(1),de(17),de(0),de(2),de(17),de(1),de(3),de(17),de(1)}(j.width,j.height),function(){_e(65476),_e(418),de(0);for(var At=0;At<16;At++)de(M[At+1]);for(var Bt=0;Bt<=11;Bt++)de(F[Bt]);de(16);for(var Pt=0;Pt<16;Pt++)de(X[Pt+1]);for(var $t=0;$t<=161;$t++)de(W[$t]);de(1);for(var Dt=0;Dt<16;Dt++)de(U[Dt+1]);for(var Jt=0;Jt<=11;Jt++)de(re[Jt]);de(17);for(var er=0;er<16;er++)de(oe[er+1]);for(var Mt=0;Mt<=161;Mt++)de(le[Mt])}(),_e(65498),_e(12),de(3),de(1),de(0),de(2),de(17),de(3),de(17),de(0),de(63),de(0);var G=0,Z=0,ie=0;N=0,A=7,this.encode.displayName="_encode_";for(var Se,be,Ce,Pe,Re,Ge,Qe,ct,Ue,pe=j.data,rt=j.width,nt=j.height,qe=4*rt,yt=0;yt<nt;){for(Se=0;Se<qe;){for(Re=qe*yt+Se,Qe=-1,ct=0,Ue=0;Ue<64;Ue++)Ge=Re+(ct=Ue>>3)*qe+(Qe=4*(7&Ue)),yt+ct>=nt&&(Ge-=qe*(yt+1+ct-nt)),Se+Qe>=qe&&(Ge-=Se+Qe-qe+4),be=pe[Ge++],Ce=pe[Ge++],Pe=pe[Ge++],C[Ue]=(Q[be]+Q[Ce+256>>0]+Q[Pe+512>>0]>>16)-128,I[Ue]=(Q[be+768>>0]+Q[Ce+1024>>0]+Q[Pe+1280>>0]>>16)-128,L[Ue]=(Q[be+1280>>0]+Q[Ce+1536>>0]+Q[Pe+1792>>0]>>16)-128;G=Te(C,f,G,t,n),Z=Te(I,d,Z,r,i),ie=Te(L,d,ie,r,i),Se+=32}yt+=8}if(A>=0){var et=[];et[1]=A+1,et[0]=(1<<A+1)-1,Ae(et)}return _e(65497),new Uint8Array(_)},e=e||50,function(){for(var j=String.fromCharCode,V=0;V<256;V++)q[V]=j(V)}(),t=Ne(M,F),r=Ne(U,re),n=Ne(X,W),i=Ne(oe,le),function(){for(var j=1,V=2,G=1;G<=15;G++){for(var Z=j;Z<V;Z++)y[32767+Z]=G,m[32767+Z]=[],m[32767+Z][1]=G,m[32767+Z][0]=Z;for(var ie=-(V-1);ie<=-j;ie++)y[32767+ie]=G,m[32767+ie]=[],m[32767+ie][1]=G,m[32767+ie][0]=V-1+ie;j<<=1,V<<=1}}(),function(){for(var j=0;j<256;j++)Q[j]=19595*j,Q[j+256>>0]=38470*j,Q[j+512>>0]=7471*j+32768,Q[j+768>>0]=-11059*j,Q[j+1024>>0]=-21709*j,Q[j+1280>>0]=32768*j+8421375,Q[j+1536>>0]=-27439*j,Q[j+1792>>0]=-5329*j}(),He(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function yo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function EE(e){function t(M){if(!M)throw Error("assert :P")}function r(M,F,X){for(var W=0;4>W;W++)if(M[F+W]!=X.charCodeAt(W))return!0;return!1}function n(M,F,X,W,U){for(var re=0;re<U;re++)M[F+re]=X[W+re]}function i(M,F,X,W){for(var U=0;U<W;U++)M[F+U]=X}function s(M){return new Int32Array(M)}function a(M,F){for(var X=[],W=0;W<M;W++)X.push(new F);return X}function l(M,F){var X=[];return function W(U,re,oe){for(var le=oe[re],Ne=0;Ne<le&&(U.push(oe.length>re+1?[]:new F),!(oe.length<re+1));Ne++)W(U[Ne],re+1,oe)}(X,0,M),X}var u=function(){var M=this;function F(b,T){for(var R=1<<T-1>>>0;b&R;)R>>>=1;return R?(b&R-1)+R:b}function X(b,T,R,z,J){t(!(z%R));do b[T+(z-=R)]=J;while(0<z)}function W(b,T,R,z,J){if(t(2328>=J),512>=J)var ne=s(512);else if((ne=s(J))==null)return 0;return function(ae,ce,fe,ye,De,Xe){var Ye,Be,ht=ce,at=1<<fe,Fe=s(16),Me=s(16);for(t(De!=0),t(ye!=null),t(ae!=null),t(0<fe),Be=0;Be<De;++Be){if(15<ye[Be])return 0;++Fe[ye[Be]]}if(Fe[0]==De)return 0;for(Me[1]=0,Ye=1;15>Ye;++Ye){if(Fe[Ye]>1<<Ye)return 0;Me[Ye+1]=Me[Ye]+Fe[Ye]}for(Be=0;Be<De;++Be)Ye=ye[Be],0<ye[Be]&&(Xe[Me[Ye]++]=Be);if(Me[15]==1)return(ye=new U).g=0,ye.value=Xe[0],X(ae,ht,1,at,ye),at;var ut,vt=-1,ft=at-1,Ft=0,Ot=1,rr=1,Rt=1<<fe;for(Be=0,Ye=1,De=2;Ye<=fe;++Ye,De<<=1){if(Ot+=rr<<=1,0>(rr-=Fe[Ye]))return 0;for(;0<Fe[Ye];--Fe[Ye])(ye=new U).g=Ye,ye.value=Xe[Be++],X(ae,ht+Ft,De,Rt,ye),Ft=F(Ft,Ye)}for(Ye=fe+1,De=2;15>=Ye;++Ye,De<<=1){if(Ot+=rr<<=1,0>(rr-=Fe[Ye]))return 0;for(;0<Fe[Ye];--Fe[Ye]){if(ye=new U,(Ft&ft)!=vt){for(ht+=Rt,ut=1<<(vt=Ye)-fe;15>vt&&!(0>=(ut-=Fe[vt]));)++vt,ut<<=1;at+=Rt=1<<(ut=vt-fe),ae[ce+(vt=Ft&ft)].g=ut+fe,ae[ce+vt].value=ht-ce-vt}ye.g=Ye-fe,ye.value=Xe[Be++],X(ae,ht+(Ft>>fe),De,Rt,ye),Ft=F(Ft,Ye)}}return Ot!=2*Me[15]-1?0:at}(b,T,R,z,J,ne)}function U(){this.value=this.g=0}function re(){this.value=this.g=0}function oe(){this.G=a(5,U),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Sn,re)}function le(b,T,R,z){t(b!=null),t(T!=null),t(2147483648>z),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=T,b.pa=R,b.Jd=T,b.Yc=R+z,b.Zc=4<=z?R+z-4+1:R,Se(b)}function Ne(b,T){for(var R=0;0<T--;)R|=Ce(b,128)<<T;return R}function Ae(b,T){var R=Ne(b,T);return be(b)?-R:R}function de(b,T,R,z){var J,ne=0;for(t(b!=null),t(T!=null),t(4294967288>z),b.Sb=z,b.Ra=0,b.u=0,b.h=0,4<z&&(z=4),J=0;J<z;++J)ne+=T[R+J]<<8*J;b.Ra=ne,b.bb=z,b.oa=T,b.pa=R}function _e(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<qa-8>>>0,++b.bb,b.u-=8;G(b)&&(b.h=1,b.u=0)}function Te(b,T){if(t(0<=T),!b.h&&T<=Xo){var R=V(b)&mc[T];return b.u+=T,_e(b),R}return b.h=1,b.u=0}function He(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(b){return b.Ra>>>(b.u&qa-1)>>>0}function G(b){return t(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>qa}function Z(b,T){b.u=T,b.h=G(b)}function ie(b){b.u>=Fr&&(t(b.u>=Fr),_e(b))}function Se(b){t(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(t(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function be(b){return Ne(b,1)}function Ce(b,T){var R=b.Ca;0>b.b&&Se(b);var z=b.b,J=R*T>>>8,ne=(b.I>>>z>J)+0;for(ne?(R-=J,b.I-=J+1<<z>>>0):R=J+1,z=R,J=0;256<=z;)J+=8,z>>=8;return z=7^J+Fi[z],b.b-=z,b.Ca=(R<<z)-1,ne}function Pe(b,T,R){b[T+0]=R>>24&255,b[T+1]=R>>16&255,b[T+2]=R>>8&255,b[T+3]=R>>0&255}function Re(b,T){return b[T+0]<<0|b[T+1]<<8}function Ge(b,T){return Re(b,T)|b[T+2]<<16}function Qe(b,T){return Re(b,T)|Re(b,T+2)<<16}function ct(b,T){var R=1<<T;return t(b!=null),t(0<T),b.X=s(R),b.X==null?0:(b.Mb=32-T,b.Xa=T,1)}function Ue(b,T){t(b!=null),t(T!=null),t(b.Xa==T.Xa),n(T.X,0,b.X,0,1<<T.Xa)}function pe(){this.X=[],this.Xa=this.Mb=0}function rt(b,T,R,z){t(R!=null),t(z!=null);var J=R[0],ne=z[0];return J==0&&(J=(b*ne+T/2)/T),ne==0&&(ne=(T*J+b/2)/b),0>=J||0>=ne?0:(R[0]=J,z[0]=ne,1)}function nt(b,T){return b+(1<<T)-1>>>T}function qe(b,T){return((4278255360&b)+(4278255360&T)>>>0&4278255360)+((16711935&b)+(16711935&T)>>>0&16711935)>>>0}function yt(b,T){M[T]=function(R,z,J,ne,ae,ce,fe){var ye;for(ye=0;ye<ae;++ye){var De=M[b](ce[fe+ye-1],J,ne+ye);ce[fe+ye]=qe(R[z+ye],De)}}}function et(){this.ud=this.hd=this.jd=0}function At(b,T){return((4278124286&(b^T))>>>1)+(b&T)>>>0}function Bt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Pt(b,T){return Bt(b+(b-T+.5>>1))}function $t(b,T,R){return Math.abs(T-R)-Math.abs(b-R)}function Dt(b,T,R,z,J,ne,ae){for(z=ne[ae-1],R=0;R<J;++R)ne[ae+R]=z=qe(b[T+R],z)}function Jt(b,T,R,z,J){var ne;for(ne=0;ne<R;++ne){var ae=b[T+ne],ce=ae>>8&255,fe=16711935&(fe=(fe=16711935&ae)+((ce<<16)+ce));z[J+ne]=(4278255360&ae)+fe>>>0}}function er(b,T){T.jd=b>>0&255,T.hd=b>>8&255,T.ud=b>>16&255}function Mt(b,T,R,z,J,ne){var ae;for(ae=0;ae<z;++ae){var ce=T[R+ae],fe=ce>>>8,ye=ce,De=255&(De=(De=ce>>>16)+((b.jd<<24>>24)*(fe<<24>>24)>>>5));ye=255&(ye=(ye=ye+((b.hd<<24>>24)*(fe<<24>>24)>>>5))+((b.ud<<24>>24)*(De<<24>>24)>>>5)),J[ne+ae]=(4278255360&ce)+(De<<16)+ye}}function gr(b,T,R,z,J){M[T]=function(ne,ae,ce,fe,ye,De,Xe,Ye,Be){for(fe=Xe;fe<Ye;++fe)for(Xe=0;Xe<Be;++Xe)ye[De++]=J(ce[z(ne[ae++])])},M[b]=function(ne,ae,ce,fe,ye,De,Xe){var Ye=8>>ne.b,Be=ne.Ea,ht=ne.K[0],at=ne.w;if(8>Ye)for(ne=(1<<ne.b)-1,at=(1<<Ye)-1;ae<ce;++ae){var Fe,Me=0;for(Fe=0;Fe<Be;++Fe)Fe&ne||(Me=z(fe[ye++])),De[Xe++]=J(ht[Me&at]),Me>>=Ye}else M["VP8LMapColor"+R](fe,ye,ht,at,De,Xe,ae,ce,Be)}}function Nt(b,T,R,z,J){for(R=T+R;T<R;){var ne=b[T++];z[J++]=ne>>16&255,z[J++]=ne>>8&255,z[J++]=ne>>0&255}}function Jr(b,T,R,z,J){for(R=T+R;T<R;){var ne=b[T++];z[J++]=ne>>16&255,z[J++]=ne>>8&255,z[J++]=ne>>0&255,z[J++]=ne>>24&255}}function Gt(b,T,R,z,J){for(R=T+R;T<R;){var ne=(ae=b[T++])>>16&240|ae>>12&15,ae=ae>>0&240|ae>>28&15;z[J++]=ne,z[J++]=ae}}function St(b,T,R,z,J){for(R=T+R;T<R;){var ne=(ae=b[T++])>>16&248|ae>>13&7,ae=ae>>5&224|ae>>3&31;z[J++]=ne,z[J++]=ae}}function or(b,T,R,z,J){for(R=T+R;T<R;){var ne=b[T++];z[J++]=ne>>0&255,z[J++]=ne>>8&255,z[J++]=ne>>16&255}}function tr(b,T,R,z,J,ne){if(ne==0)for(R=T+R;T<R;)Pe(z,((ne=b[T++])[0]>>24|ne[1]>>8&65280|ne[2]<<8&16711680|ne[3]<<24)>>>0),J+=32;else n(z,J,b,T,R)}function qr(b,T){M[T][0]=M[b+"0"],M[T][1]=M[b+"1"],M[T][2]=M[b+"2"],M[T][3]=M[b+"3"],M[T][4]=M[b+"4"],M[T][5]=M[b+"5"],M[T][6]=M[b+"6"],M[T][7]=M[b+"7"],M[T][8]=M[b+"8"],M[T][9]=M[b+"9"],M[T][10]=M[b+"10"],M[T][11]=M[b+"11"],M[T][12]=M[b+"12"],M[T][13]=M[b+"13"],M[T][14]=M[b+"0"],M[T][15]=M[b+"0"]}function Dr(b){return b==fx||b==hx||b==pp||b==dx}function Qs(){this.eb=[],this.size=this.A=this.fb=0}function _n(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function xr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Qs,this.f.kb=new _n,this.sd=null}function Ri(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function on(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function cr(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function yr(b,T){var R=b.T,z=T.ba.f.RGBA,J=z.eb,ne=z.fb+b.ka*z.A,ae=Xa[T.ba.S],ce=b.y,fe=b.O,ye=b.f,De=b.N,Xe=b.ea,Ye=b.W,Be=T.cc,ht=T.dc,at=T.Mc,Fe=T.Nc,Me=b.ka,ut=b.ka+b.T,vt=b.U,ft=vt+1>>1;for(Me==0?ae(ce,fe,null,null,ye,De,Xe,Ye,ye,De,Xe,Ye,J,ne,null,null,vt):(ae(T.ec,T.fc,ce,fe,Be,ht,at,Fe,ye,De,Xe,Ye,J,ne-z.A,J,ne,vt),++R);Me+2<ut;Me+=2)Be=ye,ht=De,at=Xe,Fe=Ye,De+=b.Rc,Ye+=b.Rc,ne+=2*z.A,ae(ce,(fe+=2*b.fa)-b.fa,ce,fe,Be,ht,at,Fe,ye,De,Xe,Ye,J,ne-z.A,J,ne,vt);return fe+=b.fa,b.j+ut<b.o?(n(T.ec,T.fc,ce,fe,vt),n(T.cc,T.dc,ye,De,ft),n(T.Mc,T.Nc,Xe,Ye,ft),R--):1&ut||ae(ce,fe,null,null,ye,De,Xe,Ye,ye,De,Xe,Ye,J,ne+z.A,null,null,vt),R}function xa(b,T,R){var z=b.F,J=[b.J];if(z!=null){var ne=b.U,ae=T.ba.S,ce=ae==dp||ae==pp;T=T.ba.f.RGBA;var fe=[0],ye=b.ka;fe[0]=b.T,b.Kb&&(ye==0?--fe[0]:(--ye,J[0]-=b.width),b.j+b.ka+b.T==b.o&&(fe[0]=b.o-b.j-ye));var De=T.eb;ye=T.fb+ye*T.A,b=Pn(z,J[0],b.width,ne,fe,De,ye+(ce?0:3),T.A),t(R==fe),b&&Dr(ae)&&ta(De,ye,ce,ne,fe,T.A)}return 0}function zr(b){var T=b.ma,R=T.ba.S,z=11>R,J=R==fp||R==hp||R==dp||R==ux||R==12||Dr(R);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!El(T.Oa,b,J?11:12))return 0;if(J&&Dr(R)&&dt(),b.da)alert("todo:use_scaling");else{if(z){if(T.Ib=cr,b.Kb){if(R=b.U+1>>1,T.memory=s(b.U+2*R),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+b.U,T.Mc=T.cc,T.Nc=T.dc+R,T.Ib=yr,dt()}}else alert("todo:EmitYUV");J&&(T.Jb=xa,z&&We())}if(z&&!D4){for(b=0;256>b;++b)dO[b]=89858*(b-128)+mp>>gp,mO[b]=-22014*(b-128)+mp,gO[b]=-45773*(b-128),pO[b]=113618*(b-128)+mp>>gp;for(b=t0;b<mx;++b)T=76283*(b-16)+mp>>gp,xO[b-t0]=ii(T,255),vO[b-t0]=ii(T+8>>4,15);D4=1}return 1}function Li(b){var T=b.ma,R=b.U,z=b.T;return t(!(1&b.ka)),0>=R||0>=z?0:(R=T.Ib(b,T),T.Jb!=null&&T.Jb(b,T,R),T.Dc+=R,1)}function is(b){b.ma.memory=null}function qt(b,T,R,z){return Te(b,8)!=47?0:(T[0]=Te(b,14)+1,R[0]=Te(b,14)+1,z[0]=Te(b,1),Te(b,3)!=0?0:!b.h)}function Ms(b,T){if(4>b)return b+1;var R=b-2>>1;return(2+(1&b)<<R)+Te(T,R)+1}function ni(b,T){return 120<T?T-120:1<=(R=((R=JP[T-1])>>4)*b+(8-(15&R)))?R:1;var R}function Ei(b,T,R){var z=V(R),J=b[T+=255&z].g-8;return 0<J&&(Z(R,R.u+8),z=V(R),T+=b[T].value,T+=z&(1<<J)-1),Z(R,R.u+b[T].g),b[T].value}function Hr(b,T,R){return R.g+=b.g,R.value+=b.value<<T>>>0,t(8>=R.g),b.g}function ln(b,T,R){var z=b.xc;return t((T=z==0?0:b.vc[b.md*(R>>z)+(T>>z)])<b.Wb),b.Ya[T]}function te(b,T,R,z){var J=b.ab,ne=b.c*T,ae=b.C;T=ae+T;var ce=R,fe=z;for(z=b.Ta,R=b.Ua;0<J--;){var ye=b.gc[J],De=ae,Xe=T,Ye=ce,Be=fe,ht=(fe=z,ce=R,ye.Ea);switch(t(De<Xe),t(Xe<=ye.nc),ye.hc){case 2:c(Ye,Be,(Xe-De)*ht,fe,ce);break;case 0:var at=De,Fe=Xe,Me=fe,ut=ce,vt=(Rt=ye).Ea;at==0&&(K(Ye,Be,null,null,1,Me,ut),Dt(Ye,Be+1,0,0,vt-1,Me,ut+1),Be+=vt,ut+=vt,++at);for(var ft=1<<Rt.b,Ft=ft-1,Ot=nt(vt,Rt.b),rr=Rt.K,Rt=Rt.w+(at>>Rt.b)*Ot;at<Fe;){var rn=rr,dn=Rt,Qr=1;for(o(Ye,Be,Me,ut-vt,1,Me,ut);Qr<vt;){var Vr=(Qr&~Ft)+ft;Vr>vt&&(Vr=vt),(0,S[rn[dn++]>>8&15])(Ye,Be+ +Qr,Me,ut+Qr-vt,Vr-Qr,Me,ut+Qr),Qr=Vr}Be+=vt,ut+=vt,++at&Ft||(Rt+=Ot)}Xe!=ye.nc&&n(fe,ce-ht,fe,ce+(Xe-De-1)*ht,ht);break;case 1:for(ht=Ye,Fe=Be,vt=(Ye=ye.Ea)-(ut=Ye&~(Me=(Be=1<<ye.b)-1)),at=nt(Ye,ye.b),ft=ye.K,ye=ye.w+(De>>ye.b)*at;De<Xe;){for(Ft=ft,Ot=ye,rr=new et,Rt=Fe+ut,rn=Fe+Ye;Fe<Rt;)er(Ft[Ot++],rr),k(rr,ht,Fe,Be,fe,ce),Fe+=Be,ce+=Be;Fe<rn&&(er(Ft[Ot++],rr),k(rr,ht,Fe,vt,fe,ce),Fe+=vt,ce+=vt),++De&Me||(ye+=at)}break;case 3:if(Ye==fe&&Be==ce&&0<ye.b){for(Fe=fe,Ye=ht=ce+(Xe-De)*ht-(ut=(Xe-De)*nt(ye.Ea,ye.b)),Be=fe,Me=ce,at=[],ut=(vt=ut)-1;0<=ut;--ut)at[ut]=Be[Me+ut];for(ut=vt-1;0<=ut;--ut)Fe[Ye+ut]=at[ut];h(ye,De,Xe,fe,ht,fe,ce)}else h(ye,De,Xe,Ye,Be,fe,ce)}ce=z,fe=R}fe!=R&&n(z,R,ce,fe,ne)}function ue(b,T){var R=b.V,z=b.Ba+b.c*b.C,J=T-b.C;if(t(T<=b.l.o),t(16>=J),0<J){var ne=b.l,ae=b.Ta,ce=b.Ua,fe=ne.width;if(te(b,J,R,z),J=ce=[ce],t((R=b.C)<(z=T)),t(ne.v<ne.va),z>ne.o&&(z=ne.o),R<ne.j){var ye=ne.j-R;R=ne.j,J[0]+=ye*fe}if(R>=z?R=0:(J[0]+=4*ne.v,ne.ka=R-ne.j,ne.U=ne.va-ne.v,ne.T=z-R,R=1),R){if(ce=ce[0],11>(R=b.ca).S){var De=R.f.RGBA,Xe=(z=R.S,J=ne.U,ne=ne.T,ye=De.eb,De.A),Ye=ne;for(De=De.fb+b.Ma*De.A;0<Ye--;){var Be=ae,ht=ce,at=J,Fe=ye,Me=De;switch(z){case up:O(Be,ht,at,Fe,Me);break;case fp:H(Be,ht,at,Fe,Me);break;case fx:H(Be,ht,at,Fe,Me),ta(Fe,Me,0,at,1,0);break;case C4:we(Be,ht,at,Fe,Me);break;case hp:tr(Be,ht,at,Fe,Me,1);break;case hx:tr(Be,ht,at,Fe,Me,1),ta(Fe,Me,0,at,1,0);break;case dp:tr(Be,ht,at,Fe,Me,0);break;case pp:tr(Be,ht,at,Fe,Me,0),ta(Fe,Me,1,at,1,0);break;case ux:Y(Be,ht,at,Fe,Me);break;case dx:Y(Be,ht,at,Fe,Me),kn(Fe,Me,at,1,0);break;case N4:se(Be,ht,at,Fe,Me);break;default:t(0)}ce+=fe,De+=Xe}b.Ma+=ne}else alert("todo:EmitRescaledRowsYUVA");t(b.Ma<=R.height)}}b.C=T,t(b.C<=b.i)}function he(b){var T;if(0<b.ua)return 0;for(T=0;T<b.Wb;++T){var R=b.Ya[T].G,z=b.Ya[T].H;if(0<R[1][z[1]+0].g||0<R[2][z[2]+0].g||0<R[3][z[3]+0].g)return 0}return 1}function ge(b,T,R,z,J,ne){if(b.Z!=0){var ae=b.qd,ce=b.rd;for(t(vc[b.Z]!=null);T<R;++T)vc[b.Z](ae,ce,z,J,z,J,ne),ae=z,ce=J,J+=ne;b.qd=ae,b.rd=ce}}function xe(b,T){var R=b.l.ma,z=R.Z==0||R.Z==1?b.l.j:b.C;if(z=b.C<z?z:b.C,t(T<=b.l.o),T>z){var J=b.l.width,ne=R.ca,ae=R.tb+J*z,ce=b.V,fe=b.Ba+b.c*z,ye=b.gc;t(b.ab==1),t(ye[0].hc==3),g(ye[0],z,T,ce,fe,ne,ae),ge(R,z,T,ne,ae,J)}b.C=b.Ma=T}function Ee(b,T,R,z,J,ne,ae){var ce=b.$/z,fe=b.$%z,ye=b.m,De=b.s,Xe=R+b.$,Ye=Xe;J=R+z*J;var Be=R+z*ne,ht=280+De.ua,at=b.Pb?ce:16777216,Fe=0<De.ua?De.Wa:null,Me=De.wc,ut=Xe<Be?ln(De,fe,ce):null;t(b.C<ne),t(Be<=J);var vt=!1;e:for(;;){for(;vt||Xe<Be;){var ft=0;if(ce>=at){var Ft=Xe-R;t((at=b).Pb),at.wd=at.m,at.xd=Ft,0<at.s.ua&&Ue(at.s.Wa,at.s.vb),at=ce+tO}if(fe&Me||(ut=ln(De,fe,ce)),t(ut!=null),ut.Qb&&(T[Xe]=ut.qb,vt=!0),!vt)if(ie(ye),ut.jc){ft=ye,Ft=T;var Ot=Xe,rr=ut.pd[V(ft)&Sn-1];t(ut.jc),256>rr.g?(Z(ft,ft.u+rr.g),Ft[Ot]=rr.value,ft=0):(Z(ft,ft.u+rr.g-256),t(256<=rr.value),ft=rr.value),ft==0&&(vt=!0)}else ft=Ei(ut.G[0],ut.H[0],ye);if(ye.h)break;if(vt||256>ft){if(!vt)if(ut.nd)T[Xe]=(ut.qb|ft<<8)>>>0;else{if(ie(ye),vt=Ei(ut.G[1],ut.H[1],ye),ie(ye),Ft=Ei(ut.G[2],ut.H[2],ye),Ot=Ei(ut.G[3],ut.H[3],ye),ye.h)break;T[Xe]=(Ot<<24|vt<<16|ft<<8|Ft)>>>0}if(vt=!1,++Xe,++fe>=z&&(fe=0,++ce,ae!=null&&ce<=ne&&!(ce%16)&&ae(b,ce),Fe!=null))for(;Ye<Xe;)ft=T[Ye++],Fe.X[(506832829*ft&4294967295)>>>Fe.Mb]=ft}else if(280>ft){if(ft=Ms(ft-256,ye),Ft=Ei(ut.G[4],ut.H[4],ye),ie(ye),Ft=ni(z,Ft=Ms(Ft,ye)),ye.h)break;if(Xe-R<Ft||J-Xe<ft)break e;for(Ot=0;Ot<ft;++Ot)T[Xe+Ot]=T[Xe+Ot-Ft];for(Xe+=ft,fe+=ft;fe>=z;)fe-=z,++ce,ae!=null&&ce<=ne&&!(ce%16)&&ae(b,ce);if(t(Xe<=J),fe&Me&&(ut=ln(De,fe,ce)),Fe!=null)for(;Ye<Xe;)ft=T[Ye++],Fe.X[(506832829*ft&4294967295)>>>Fe.Mb]=ft}else{if(!(ft<ht))break e;for(vt=ft-280,t(Fe!=null);Ye<Xe;)ft=T[Ye++],Fe.X[(506832829*ft&4294967295)>>>Fe.Mb]=ft;ft=Xe,t(!(vt>>>(Ft=Fe).Xa)),T[ft]=Ft.X[vt],vt=!0}vt||t(ye.h==G(ye))}if(b.Pb&&ye.h&&Xe<J)t(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Ue(b.s.vb,b.s.Wa);else{if(ye.h)break e;ae!=null&&ae(b,ce>ne?ne:ce),b.a=0,b.$=Xe-R}return 1}return b.a=3,0}function Ve(b){t(b!=null),b.vc=null,b.yc=null,b.Ya=null;var T=b.Wa;T!=null&&(T.X=null),b.vb=null,t(b!=null)}function it(){var b=new Qn;return b==null?null:(b.a=0,b.xb=k4,qr("Predictor","VP8LPredictors"),qr("Predictor","VP8LPredictors_C"),qr("PredictorAdd","VP8LPredictorsAdd"),qr("PredictorAdd","VP8LPredictorsAdd_C"),c=Jt,k=Mt,O=Nt,H=Jr,Y=Gt,se=St,we=or,M.VP8LMapColor32b=p,M.VP8LMapColor8b=w,b)}function ze(b,T,R,z,J){var ne=1,ae=[b],ce=[T],fe=z.m,ye=z.s,De=null,Xe=0;e:for(;;){if(R)for(;ne&&Te(fe,1);){var Ye=ae,Be=ce,ht=z,at=1,Fe=ht.m,Me=ht.gc[ht.ab],ut=Te(Fe,2);if(ht.Oc&1<<ut)ne=0;else{switch(ht.Oc|=1<<ut,Me.hc=ut,Me.Ea=Ye[0],Me.nc=Be[0],Me.K=[null],++ht.ab,t(4>=ht.ab),ut){case 0:case 1:Me.b=Te(Fe,3)+2,at=ze(nt(Me.Ea,Me.b),nt(Me.nc,Me.b),0,ht,Me.K),Me.K=Me.K[0];break;case 3:var vt,ft=Te(Fe,8)+1,Ft=16<ft?0:4<ft?1:2<ft?2:3;if(Ye[0]=nt(Me.Ea,Ft),Me.b=Ft,vt=at=ze(ft,1,0,ht,Me.K)){var Ot,rr=ft,Rt=Me,rn=1<<(8>>Rt.b),dn=s(rn);if(dn==null)vt=0;else{var Qr=Rt.K[0],Vr=Rt.w;for(dn[0]=Rt.K[0][0],Ot=1;Ot<1*rr;++Ot)dn[Ot]=qe(Qr[Vr+Ot],dn[Ot-1]);for(;Ot<4*rn;++Ot)dn[Ot]=0;Rt.K[0]=null,Rt.K[0]=dn,vt=1}}at=vt;break;case 2:break;default:t(0)}ne=at}}if(ae=ae[0],ce=ce[0],ne&&Te(fe,1)&&!(ne=1<=(Xe=Te(fe,4))&&11>=Xe)){z.a=3;break e}var Nn;if(Nn=ne)t:{var En,Ar,Ci,ra=z,Ni=ae,na=ce,pn=Xe,_a=R,Sa=ra.m,$i=ra.s,os=[null],Us=1,Ya=0,Yo=eO[pn];r:for(;;){if(_a&&Te(Sa,1)){var Xi=Te(Sa,3)+2,Tl=nt(Ni,Xi),Xu=nt(na,Xi),Jf=Tl*Xu;if(!ze(Tl,Xu,0,ra,os))break r;for(os=os[0],$i.xc=Xi,En=0;En<Jf;++En){var wc=os[En]>>8&65535;os[En]=wc,wc>=Us&&(Us=wc+1)}}if(Sa.h)break r;for(Ar=0;5>Ar;++Ar){var ai=T4[Ar];!Ar&&0<pn&&(ai+=1<<pn),Ya<ai&&(Ya=ai)}var xx=a(Us*Yo,U),j4=Us,B4=a(j4,oe);if(B4==null)var vp=null;else t(65536>=j4),vp=B4;var r0=s(Ya);if(vp==null||r0==null||xx==null){ra.a=1;break r}var wp=xx;for(En=Ci=0;En<Us;++En){var go=vp[En],eh=go.G,th=go.H,U4=0,yp=1,W4=0;for(Ar=0;5>Ar;++Ar){ai=T4[Ar],eh[Ar]=wp,th[Ar]=Ci,!Ar&&0<pn&&(ai+=1<<pn);i:{var bp,vx=ai,_p=ra,n0=r0,bO=wp,_O=Ci,wx=0,yc=_p.m,SO=Te(yc,1);if(i(n0,0,0,vx),SO){var EO=Te(yc,1)+1,AO=Te(yc,1),z4=Te(yc,AO==0?1:8);n0[z4]=1,EO==2&&(n0[z4=Te(yc,8)]=1);var Sp=1}else{var H4=s(19),V4=Te(yc,4)+4;if(19<V4){_p.a=3;var Ep=0;break i}for(bp=0;bp<V4;++bp)H4[ZP[bp]]=Te(yc,3);var yx=void 0,i0=void 0,q4=_p,CO=H4,Ap=vx,G4=n0,bx=0,bc=q4.m,$4=8,X4=a(128,U);n:for(;W(X4,0,7,CO,19);){if(Te(bc,1)){var NO=2+2*Te(bc,3);if((yx=2+Te(bc,NO))>Ap)break n}else yx=Ap;for(i0=0;i0<Ap&&yx--;){ie(bc);var Y4=X4[0+(127&V(bc))];Z(bc,bc.u+Y4.g);var rh=Y4.value;if(16>rh)G4[i0++]=rh,rh!=0&&($4=rh);else{var TO=rh==16,K4=rh-16,IO=KP[K4],Q4=Te(bc,YP[K4])+IO;if(i0+Q4>Ap)break n;for(var kO=TO?$4:0;0<Q4--;)G4[i0++]=kO}}bx=1;break n}bx||(q4.a=3),Sp=bx}(Sp=Sp&&!yc.h)&&(wx=W(bO,_O,8,n0,vx)),Sp&&wx!=0?Ep=wx:(_p.a=3,Ep=0)}if(Ep==0)break r;if(yp&&QP[Ar]==1&&(yp=wp[Ci].g==0),U4+=wp[Ci].g,Ci+=Ep,3>=Ar){var s0,_x=r0[0];for(s0=1;s0<ai;++s0)r0[s0]>_x&&(_x=r0[s0]);W4+=_x}}if(go.nd=yp,go.Qb=0,yp&&(go.qb=(eh[3][th[3]+0].value<<24|eh[1][th[1]+0].value<<16|eh[2][th[2]+0].value)>>>0,U4==0&&256>eh[0][th[0]+0].value&&(go.Qb=1,go.qb+=eh[0][th[0]+0].value<<8)),go.jc=!go.Qb&&6>W4,go.jc){var Cp,Il=go;for(Cp=0;Cp<Sn;++Cp){var _c=Cp,Sc=Il.pd[_c],Np=Il.G[0][Il.H[0]+_c];256<=Np.value?(Sc.g=Np.g+256,Sc.value=Np.value):(Sc.g=0,Sc.value=0,_c>>=Hr(Np,8,Sc),_c>>=Hr(Il.G[1][Il.H[1]+_c],16,Sc),_c>>=Hr(Il.G[2][Il.H[2]+_c],0,Sc),Hr(Il.G[3][Il.H[3]+_c],24,Sc))}}}$i.vc=os,$i.Wb=Us,$i.Ya=vp,$i.yc=xx,Nn=1;break t}Nn=0}if(!(ne=Nn)){z.a=3;break e}if(0<Xe){if(ye.ua=1<<Xe,!ct(ye.Wa,Xe)){z.a=1,ne=0;break e}}else ye.ua=0;var Sx=z,Z4=ae,PO=ce,Ex=Sx.s,Ax=Ex.xc;if(Sx.c=Z4,Sx.i=PO,Ex.md=nt(Z4,Ax),Ex.wc=Ax==0?-1:(1<<Ax)-1,R){z.xb=lO;break e}if((De=s(ae*ce))==null){z.a=1,ne=0;break e}ne=(ne=Ee(z,De,0,ae,ce,ce,null))&&!fe.h;break e}return ne?(J!=null?J[0]=De:(t(De==null),t(R)),z.$=0,R||Ve(ye)):Ve(ye),ne}function Ke(b,T){var R=b.c*b.i,z=R+T+16*T;return t(b.c<=T),b.V=s(z),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+R+T,1)}function Ze(b,T){var R=b.C,z=T-R,J=b.V,ne=b.Ba+b.c*R;for(t(T<=b.l.o);0<z;){var ae=16<z?16:z,ce=b.l.ma,fe=b.l.width,ye=fe*ae,De=ce.ca,Xe=ce.tb+fe*R,Ye=b.Ta,Be=b.Ua;te(b,ae,J,ne),mi(Ye,Be,De,Xe,ye),ge(ce,R,R+ae,De,Xe,fe),z-=ae,J+=ae*b.c,R+=ae}t(R==T),b.C=b.Ma=T}function pt(){this.ub=this.yd=this.td=this.Rb=0}function bt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _t(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Et(){this.Yb=function(){var b=[];return function T(R,z,J){for(var ne=J[z],ae=0;ae<ne&&(R.push(J.length>z+1?[]:0),!(J.length<z+1));ae++)T(R[ae],z+1,J)}(b,0,[3,11]),b}()}function It(){this.jb=s(3),this.Wc=l([4,8],Et),this.Xc=l([4,17],Et)}function sr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function st(){this.ld=this.La=this.dd=this.tc=0}function cn(){this.Na=this.la=0}function _r(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qi(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function co(){this.uc=this.M=this.Nb=0,this.wa=Array(new st),this.Y=0,this.ya=Array(new qi),this.aa=0,this.l=new mr}function Ir(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Sr(){this.cb=this.a=0,this.sc="",this.m=new He,this.Od=new pt,this.Kc=new bt,this.ed=new sr,this.Qa=new _t,this.Ic=this.$c=this.Aa=0,this.D=new co,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,He),this.ia=0,this.pb=a(4,_r),this.Pa=new It,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ir),this.Hd=0,this.rb=Array(new cn),this.sb=0,this.wa=Array(new st),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qi),this.L=this.aa=0,this.gd=l([4,2],st),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function mr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ss(){var b=new Sr;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,e0||(e0=va)),b}function Ln(b,T,R){return b.a==0&&(b.a=T,b.sc=R,b.cb=0),0}function lc(b,T,R){return 3<=R&&b[T+0]==157&&b[T+1]==1&&b[T+2]==42}function Hn(b,T){if(b==null)return 0;if(b.a=0,b.sc="OK",T==null)return Ln(b,2,"null VP8Io passed to VP8GetHeaders()");var R=T.data,z=T.w,J=T.ha;if(4>J)return Ln(b,7,"Truncated header.");var ne=R[z+0]|R[z+1]<<8|R[z+2]<<16,ae=b.Od;if(ae.Rb=!(1&ne),ae.td=ne>>1&7,ae.yd=ne>>4&1,ae.ub=ne>>5,3<ae.td)return Ln(b,3,"Incorrect keyframe parameters.");if(!ae.yd)return Ln(b,4,"Frame not displayable.");z+=3,J-=3;var ce=b.Kc;if(ae.Rb){if(7>J)return Ln(b,7,"cannot parse picture header");if(!lc(R,z,J))return Ln(b,3,"Bad code word");ce.c=16383&(R[z+4]<<8|R[z+3]),ce.Td=R[z+4]>>6,ce.i=16383&(R[z+6]<<8|R[z+5]),ce.Ud=R[z+6]>>6,z+=7,J-=7,b.za=ce.c+15>>4,b.Ub=ce.i+15>>4,T.width=ce.c,T.height=ce.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((ne=b.Pa).jb,0,255,ne.jb.length),t((ne=b.Qa)!=null),ne.Cb=0,ne.Bb=0,ne.Fb=1,i(ne.Zb,0,0,ne.Zb.length),i(ne.Lb,0,0,ne.Lb)}if(ae.ub>J)return Ln(b,7,"bad partition length");le(ne=b.m,R,z,ae.ub),z+=ae.ub,J-=ae.ub,ae.Rb&&(ce.Ld=be(ne),ce.Kd=be(ne)),ce=b.Qa;var fe,ye=b.Pa;if(t(ne!=null),t(ce!=null),ce.Cb=be(ne),ce.Cb){if(ce.Bb=be(ne),be(ne)){for(ce.Fb=be(ne),fe=0;4>fe;++fe)ce.Zb[fe]=be(ne)?Ae(ne,7):0;for(fe=0;4>fe;++fe)ce.Lb[fe]=be(ne)?Ae(ne,6):0}if(ce.Bb)for(fe=0;3>fe;++fe)ye.jb[fe]=be(ne)?Ne(ne,8):255}else ce.Bb=0;if(ne.Ka)return Ln(b,3,"cannot parse segment header");if((ce=b.ed).zd=be(ne),ce.Tb=Ne(ne,6),ce.wb=Ne(ne,3),ce.Pc=be(ne),ce.Pc&&be(ne)){for(ye=0;4>ye;++ye)be(ne)&&(ce.vd[ye]=Ae(ne,6));for(ye=0;4>ye;++ye)be(ne)&&(ce.od[ye]=Ae(ne,6))}if(b.L=ce.Tb==0?0:ce.zd?1:2,ne.Ka)return Ln(b,3,"cannot parse filter header");var De=J;if(J=fe=z,z=fe+De,ce=De,b.Xb=(1<<Ne(b.m,2))-1,De<3*(ye=b.Xb))R=7;else{for(fe+=3*ye,ce-=3*ye,De=0;De<ye;++De){var Xe=R[J+0]|R[J+1]<<8|R[J+2]<<16;Xe>ce&&(Xe=ce),le(b.Jc[+De],R,fe,Xe),fe+=Xe,ce-=Xe,J+=3}le(b.Jc[+ye],R,fe,ce),R=fe<z?0:5}if(R!=0)return Ln(b,R,"cannot parse partitions");for(R=Ne(fe=b.m,7),J=be(fe)?Ae(fe,4):0,z=be(fe)?Ae(fe,4):0,ce=be(fe)?Ae(fe,4):0,ye=be(fe)?Ae(fe,4):0,fe=be(fe)?Ae(fe,4):0,De=b.Qa,Xe=0;4>Xe;++Xe){if(De.Cb){var Ye=De.Zb[Xe];De.Fb||(Ye+=R)}else{if(0<Xe){b.pb[Xe]=b.pb[0];continue}Ye=R}var Be=b.pb[Xe];Be.Sc[0]=px[ii(Ye+J,127)],Be.Sc[1]=gx[ii(Ye+0,127)],Be.Eb[0]=2*px[ii(Ye+z,127)],Be.Eb[1]=101581*gx[ii(Ye+ce,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=px[ii(Ye+ye,117)],Be.Qc[1]=gx[ii(Ye+fe,127)],Be.lc=Ye+fe}if(!ae.Rb)return Ln(b,4,"Not a key frame.");for(be(ne),ae=b.Pa,R=0;4>R;++R){for(J=0;8>J;++J)for(z=0;3>z;++z)for(ce=0;11>ce;++ce)ye=Ce(ne,aO[R][J][z][ce])?Ne(ne,8):iO[R][J][z][ce],ae.Wc[R][J].Yb[z][ce]=ye;for(J=0;17>J;++J)ae.Xc[R][J]=ae.Wc[R][oO[J]]}return b.kc=be(ne),b.kc&&(b.Bd=Ne(ne,8)),b.cb=1}function va(b,T,R,z,J,ne,ae){var ce=T[J].Yb[R];for(R=0;16>J;++J){if(!Ce(b,ce[R+0]))return J;for(;!Ce(b,ce[R+1]);)if(ce=T[++J].Yb[0],R=0,J==16)return 16;var fe=T[J+1].Yb;if(Ce(b,ce[R+2])){var ye=b,De=0;if(Ce(ye,(Ye=ce)[(Xe=R)+3]))if(Ce(ye,Ye[Xe+6])){for(ce=0,Xe=2*(De=Ce(ye,Ye[Xe+8]))+(Ye=Ce(ye,Ye[Xe+9+De])),De=0,Ye=rO[Xe];Ye[ce];++ce)De+=De+Ce(ye,Ye[ce]);De+=3+(8<<Xe)}else Ce(ye,Ye[Xe+7])?(De=7+2*Ce(ye,165),De+=Ce(ye,145)):De=5+Ce(ye,159);else De=Ce(ye,Ye[Xe+4])?3+Ce(ye,Ye[Xe+5]):2;ce=fe[2]}else De=1,ce=fe[1];fe=ae+nO[J],0>(ye=b).b&&Se(ye);var Xe,Ye=ye.b,Be=(Xe=ye.Ca>>1)-(ye.I>>Ye)>>31;--ye.b,ye.Ca+=Be,ye.Ca|=1,ye.I-=(Xe+1&Be)<<Ye,ne[fe]=((De^Be)-Be)*z[(0<J)+0]}return 16}function Lu(b){var T=b.rb[b.sb-1];T.la=0,T.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function Dn(b,T){if(b==null)return 0;if(T==null)return Ln(b,2,"NULL VP8Io parameter in VP8Decode().");if(!b.cb&&!Hn(b,T))return 0;if(t(b.cb),T.ac==null||T.ac(T)){T.ob&&(b.L=0);var R=xp[b.L];if(b.L==2?(b.yb=0,b.zb=0):(b.yb=T.v-R>>4,b.zb=T.j-R>>4,0>b.yb&&(b.yb=0),0>b.zb&&(b.zb=0)),b.Va=T.o+15+R>>4,b.Hb=T.va+15+R>>4,b.Hb>b.za&&(b.Hb=b.za),b.Va>b.Ub&&(b.Va=b.Ub),0<b.L){var z=b.ed;for(R=0;4>R;++R){var J;if(b.Qa.Cb){var ne=b.Qa.Lb[R];b.Qa.Fb||(ne+=z.Tb)}else ne=z.Tb;for(J=0;1>=J;++J){var ae=b.gd[R][J],ce=ne;if(z.Pc&&(ce+=z.vd[0],J&&(ce+=z.od[0])),0<(ce=0>ce?0:63<ce?63:ce)){var fe=ce;0<z.wb&&(fe=4<z.wb?fe>>2:fe>>1)>9-z.wb&&(fe=9-z.wb),1>fe&&(fe=1),ae.dd=fe,ae.tc=2*ce+fe,ae.ld=40<=ce?2:15<=ce?1:0}else ae.tc=0;ae.La=J}}}R=0}else Ln(b,6,"Frame setup failed"),R=b.a;if(R=R==0){if(R){b.$c=0,0<b.Aa||(b.Ic=yO);e:{R=b.Ic,z=4*(fe=b.za);var ye=32*fe,De=fe+1,Xe=0<b.L?fe*(0<b.Aa?2:1):0,Ye=(b.Aa==2?2:1)*fe;if((ae=z+832+(J=3*(16*R+xp[b.L])/2*ye)+(ne=b.Fa!=null&&0<b.Fa.length?b.Kc.c*b.Kc.i:0))!=ae)R=0;else{if(ae>b.Vb){if(b.Vb=0,b.Ec=s(ae),b.Fc=0,b.Ec==null){R=Ln(b,1,"no memory during frame initialization.");break e}b.Vb=ae}ae=b.Ec,ce=b.Fc,b.Ac=ae,b.Bc=ce,ce+=z,b.Gd=a(ye,Ir),b.Hd=0,b.rb=a(De+1,cn),b.sb=1,b.wa=Xe?a(Xe,st):null,b.Y=0,b.D.Nb=0,b.D.wa=b.wa,b.D.Y=b.Y,0<b.Aa&&(b.D.Y+=fe),t(!0),b.oc=ae,b.pc=ce,ce+=832,b.ya=a(Ye,qi),b.aa=0,b.D.ya=b.ya,b.D.aa=b.aa,b.Aa==2&&(b.D.aa+=fe),b.R=16*fe,b.B=8*fe,fe=(ye=xp[b.L])*b.R,ye=ye/2*b.B,b.sa=ae,b.ta=ce+fe,b.qa=b.sa,b.ra=b.ta+16*R*b.R+ye,b.Ha=b.qa,b.Ia=b.ra+8*R*b.B+ye,b.$c=0,ce+=J,b.mb=ne?ae:null,b.nb=ne?ce:null,t(ce+ne<=b.Fc+b.Vb),Lu(b),i(b.Ac,b.Bc,0,z),R=1}}if(R){if(T.ka=0,T.y=b.sa,T.O=b.ta,T.f=b.qa,T.N=b.ra,T.ea=b.Ha,T.Vd=b.Ia,T.fa=b.R,T.Rc=b.B,T.F=null,T.J=0,!lp){for(R=-255;255>=R;++R)ji[255+R]=0>R?-R:R;for(R=-1020;1020>=R;++R)Cl[1020+R]=-128>R?-128:127<R?127:R;for(R=-112;112>=R;++R)Jd[112+R]=-16>R?-16:15<R?15:R;for(R=-255;510>=R;++R)Zf[255+R]=0>R?0:255<R?255:R;lp=1}Ie=ys,Oe=$e,tt=me,gt=Xt,wt=Yn,je=di,xt=Vo,kr=_s,fr=Er,si=Kn,Mi=Zd,Zn=Je,Gr=qo,$n=Vu,gi=Hu,Bs=Va,Ga=ho,ea=Qd,po[0]=Yt,po[1]=Fu,po[2]=_l,po[3]=za,po[4]=Kf,po[5]=Vn,po[6]=vr,po[7]=ju,po[8]=Qf,po[9]=Bu,xc[0]=fc,xc[1]=Qt,xc[2]=Yr,xc[3]=bl,xc[4]=pi,xc[5]=Mu,xc[6]=Yf,Nl[0]=Zs,Nl[1]=bs,Nl[2]=uo,Nl[3]=Uu,Nl[4]=Ho,Nl[5]=Sl,Nl[6]=fo,R=1}else R=0}R&&(R=function(Be,ht){for(Be.M=0;Be.M<Be.Va;++Be.M){var at,Fe=Be.Jc[Be.M&Be.Xb],Me=Be.m,ut=Be;for(at=0;at<ut.za;++at){var vt=Me,ft=ut,Ft=ft.Ac,Ot=ft.Bc+4*at,rr=ft.zc,Rt=ft.ya[ft.aa+at];if(ft.Qa.Bb?Rt.$b=Ce(vt,ft.Pa.jb[0])?2+Ce(vt,ft.Pa.jb[2]):Ce(vt,ft.Pa.jb[1]):Rt.$b=0,ft.kc&&(Rt.Ad=Ce(vt,ft.Bd)),Rt.Za=!Ce(vt,145)+0,Rt.Za){var rn=Rt.Ob,dn=0;for(ft=0;4>ft;++ft){var Qr,Vr=rr[0+ft];for(Qr=0;4>Qr;++Qr){Vr=sO[Ft[Ot+Qr]][Vr];for(var Nn=I4[Ce(vt,Vr[0])];0<Nn;)Nn=I4[2*Nn+Ce(vt,Vr[Nn])];Vr=-Nn,Ft[Ot+Qr]=Vr}n(rn,dn,Ft,Ot,4),dn+=4,rr[0+ft]=Vr}}else Vr=Ce(vt,156)?Ce(vt,128)?1:3:Ce(vt,163)?2:0,Rt.Ob[0]=Vr,i(Ft,Ot,Vr,4),i(rr,0,Vr,4);Rt.Dd=Ce(vt,142)?Ce(vt,114)?Ce(vt,183)?1:3:2:0}if(ut.m.Ka)return Ln(Be,7,"Premature end-of-partition0 encountered.");for(;Be.ja<Be.za;++Be.ja){if(ut=Fe,vt=(Me=Be).rb[Me.sb-1],Ft=Me.rb[Me.sb+Me.ja],at=Me.ya[Me.aa+Me.ja],Ot=Me.kc?at.Ad:0)vt.la=Ft.la=0,at.Za||(vt.Na=Ft.Na=0),at.Hc=0,at.Gc=0,at.ia=0;else{var En,Ar;if(vt=Ft,Ft=ut,Ot=Me.Pa.Xc,rr=Me.ya[Me.aa+Me.ja],Rt=Me.pb[rr.$b],ft=rr.ad,rn=0,dn=Me.rb[Me.sb-1],Vr=Qr=0,i(ft,rn,0,384),rr.Za)var Ci=0,ra=Ot[3];else{Nn=s(16);var Ni=vt.Na+dn.Na;if(Ni=e0(Ft,Ot[1],Ni,Rt.Eb,0,Nn,0),vt.Na=dn.Na=(0<Ni)+0,1<Ni)Ie(Nn,0,ft,rn);else{var na=Nn[0]+3>>3;for(Nn=0;256>Nn;Nn+=16)ft[rn+Nn]=na}Ci=1,ra=Ot[0]}var pn=15&vt.la,_a=15&dn.la;for(Nn=0;4>Nn;++Nn){var Sa=1&_a;for(na=Ar=0;4>na;++na)pn=pn>>1|(Sa=(Ni=e0(Ft,ra,Ni=Sa+(1&pn),Rt.Sc,Ci,ft,rn))>Ci)<<7,Ar=Ar<<2|(3<Ni?3:1<Ni?2:ft[rn+0]!=0),rn+=16;pn>>=4,_a=_a>>1|Sa<<7,Qr=(Qr<<8|Ar)>>>0}for(ra=pn,Ci=_a>>4,En=0;4>En;En+=2){for(Ar=0,pn=vt.la>>4+En,_a=dn.la>>4+En,Nn=0;2>Nn;++Nn){for(Sa=1&_a,na=0;2>na;++na)Ni=Sa+(1&pn),pn=pn>>1|(Sa=0<(Ni=e0(Ft,Ot[2],Ni,Rt.Qc,0,ft,rn)))<<3,Ar=Ar<<2|(3<Ni?3:1<Ni?2:ft[rn+0]!=0),rn+=16;pn>>=2,_a=_a>>1|Sa<<5}Vr|=Ar<<4*En,ra|=pn<<4<<En,Ci|=(240&_a)<<En}vt.la=ra,dn.la=Ci,rr.Hc=Qr,rr.Gc=Vr,rr.ia=43690&Vr?0:Rt.ia,Ot=!(Qr|Vr)}if(0<Me.L&&(Me.wa[Me.Y+Me.ja]=Me.gd[at.$b][at.Za],Me.wa[Me.Y+Me.ja].La|=!Ot),ut.Ka)return Ln(Be,7,"Premature end-of-file encountered.")}if(Lu(Be),Me=ht,ut=1,at=(Fe=Be).D,vt=0<Fe.L&&Fe.M>=Fe.zb&&Fe.M<=Fe.Va,Fe.Aa==0)e:{if(at.M=Fe.M,at.uc=vt,Es(Fe,at),ut=1,at=(Ar=Fe.D).Nb,vt=(Vr=xp[Fe.L])*Fe.R,Ft=Vr/2*Fe.B,Nn=16*at*Fe.R,na=8*at*Fe.B,Ot=Fe.sa,rr=Fe.ta-vt+Nn,Rt=Fe.qa,ft=Fe.ra-Ft+na,rn=Fe.Ha,dn=Fe.Ia-Ft+na,_a=(pn=Ar.M)==0,Qr=pn>=Fe.Va-1,Fe.Aa==2&&Es(Fe,Ar),Ar.uc)for(Sa=(Ni=Fe).D.M,t(Ni.D.uc),Ar=Ni.yb;Ar<Ni.Hb;++Ar){Ci=Ar,ra=Sa;var $i=(os=(ai=Ni).D).Nb;En=ai.R;var os=os.wa[os.Y+Ci],Us=ai.sa,Ya=ai.ta+16*$i*En+16*Ci,Yo=os.dd,Xi=os.tc;if(Xi!=0)if(t(3<=Xi),ai.L==1)0<Ci&&Bs(Us,Ya,En,Xi+4),os.La&&ea(Us,Ya,En,Xi),0<ra&&gi(Us,Ya,En,Xi+4),os.La&&Ga(Us,Ya,En,Xi);else{var Tl=ai.B,Xu=ai.qa,Jf=ai.ra+8*$i*Tl+8*Ci,wc=ai.Ha,ai=ai.Ia+8*$i*Tl+8*Ci;$i=os.ld,0<Ci&&(kr(Us,Ya,En,Xi+4,Yo,$i),si(Xu,Jf,wc,ai,Tl,Xi+4,Yo,$i)),os.La&&(Zn(Us,Ya,En,Xi,Yo,$i),$n(Xu,Jf,wc,ai,Tl,Xi,Yo,$i)),0<ra&&(xt(Us,Ya,En,Xi+4,Yo,$i),fr(Xu,Jf,wc,ai,Tl,Xi+4,Yo,$i)),os.La&&(Mi(Us,Ya,En,Xi,Yo,$i),Gr(Xu,Jf,wc,ai,Tl,Xi,Yo,$i))}}if(Fe.ia&&alert("todo:DitherRow"),Me.put!=null){if(Ar=16*pn,pn=16*(pn+1),_a?(Me.y=Fe.sa,Me.O=Fe.ta+Nn,Me.f=Fe.qa,Me.N=Fe.ra+na,Me.ea=Fe.Ha,Me.W=Fe.Ia+na):(Ar-=Vr,Me.y=Ot,Me.O=rr,Me.f=Rt,Me.N=ft,Me.ea=rn,Me.W=dn),Qr||(pn-=Vr),pn>Me.o&&(pn=Me.o),Me.F=null,Me.J=null,Fe.Fa!=null&&0<Fe.Fa.length&&Ar<pn&&(Me.J=Kr(Fe,Me,Ar,pn-Ar),Me.F=Fe.mb,Me.F==null&&Me.F.length==0)){ut=Ln(Fe,3,"Could not decode alpha data.");break e}Ar<Me.j&&(Vr=Me.j-Ar,Ar=Me.j,t(!(1&Vr)),Me.O+=Fe.R*Vr,Me.N+=Fe.B*(Vr>>1),Me.W+=Fe.B*(Vr>>1),Me.F!=null&&(Me.J+=Me.width*Vr)),Ar<pn&&(Me.O+=Me.v,Me.N+=Me.v>>1,Me.W+=Me.v>>1,Me.F!=null&&(Me.J+=Me.v),Me.ka=Ar-Me.j,Me.U=Me.va-Me.v,Me.T=pn-Ar,ut=Me.put(Me))}at+1!=Fe.Ic||Qr||(n(Fe.sa,Fe.ta-vt,Ot,rr+16*Fe.R,vt),n(Fe.qa,Fe.ra-Ft,Rt,ft+8*Fe.B,Ft),n(Fe.Ha,Fe.Ia-Ft,rn,dn+8*Fe.B,Ft))}if(!ut)return Ln(Be,6,"Output aborted.")}return 1}(b,T)),T.bc!=null&&T.bc(T),R&=1}return R?(b.cb=0,R):0}function Ai(b,T,R,z,J){J=b[T+R+32*z]+(J>>3),b[T+R+32*z]=-256&J?0>J?0:255:J}function cc(b,T,R,z,J,ne){Ai(b,T,0,R,z+J),Ai(b,T,1,R,z+ne),Ai(b,T,2,R,z-ne),Ai(b,T,3,R,z-J)}function hi(b){return(20091*b>>16)+b}function en(b,T,R,z){var J,ne=0,ae=s(16);for(J=0;4>J;++J){var ce=b[T+0]+b[T+8],fe=b[T+0]-b[T+8],ye=(35468*b[T+4]>>16)-hi(b[T+12]),De=hi(b[T+4])+(35468*b[T+12]>>16);ae[ne+0]=ce+De,ae[ne+1]=fe+ye,ae[ne+2]=fe-ye,ae[ne+3]=ce-De,ne+=4,T++}for(J=ne=0;4>J;++J)ce=(b=ae[ne+0]+4)+ae[ne+8],fe=b-ae[ne+8],ye=(35468*ae[ne+4]>>16)-hi(ae[ne+12]),Ai(R,z,0,0,ce+(De=hi(ae[ne+4])+(35468*ae[ne+12]>>16))),Ai(R,z,1,0,fe+ye),Ai(R,z,2,0,fe-ye),Ai(R,z,3,0,ce-De),ne++,z+=32}function di(b,T,R,z){var J=b[T+0]+4,ne=35468*b[T+4]>>16,ae=hi(b[T+4]),ce=35468*b[T+1]>>16;cc(R,z,0,J+ae,b=hi(b[T+1]),ce),cc(R,z,1,J+ne,b,ce),cc(R,z,2,J-ne,b,ce),cc(R,z,3,J-ae,b,ce)}function $e(b,T,R,z,J){en(b,T,R,z),J&&en(b,T+16,R,z+4)}function me(b,T,R,z){Oe(b,T+0,R,z,1),Oe(b,T+32,R,z+128,1)}function Xt(b,T,R,z){var J;for(b=b[T+0]+4,J=0;4>J;++J)for(T=0;4>T;++T)Ai(R,z,T,J,b)}function Yn(b,T,R,z){b[T+0]&&gt(b,T+0,R,z),b[T+16]&&gt(b,T+16,R,z+4),b[T+32]&&gt(b,T+32,R,z+128),b[T+48]&&gt(b,T+48,R,z+128+4)}function ys(b,T,R,z){var J,ne=s(16);for(J=0;4>J;++J){var ae=b[T+0+J]+b[T+12+J],ce=b[T+4+J]+b[T+8+J],fe=b[T+4+J]-b[T+8+J],ye=b[T+0+J]-b[T+12+J];ne[0+J]=ae+ce,ne[8+J]=ae-ce,ne[4+J]=ye+fe,ne[12+J]=ye-fe}for(J=0;4>J;++J)ae=(b=ne[0+4*J]+3)+ne[3+4*J],ce=ne[1+4*J]+ne[2+4*J],fe=ne[1+4*J]-ne[2+4*J],ye=b-ne[3+4*J],R[z+0]=ae+ce>>3,R[z+16]=ye+fe>>3,R[z+32]=ae-ce>>3,R[z+48]=ye-fe>>3,z+=64}function Du(b,T,R){var z,J=T-32,ne=ba,ae=255-b[J-1];for(z=0;z<R;++z){var ce,fe=ne,ye=ae+b[T-1];for(ce=0;ce<R;++ce)b[T+ce]=fe[ye+b[J+ce]];T+=32}}function Fu(b,T){Du(b,T,4)}function bs(b,T){Du(b,T,8)}function Qt(b,T){Du(b,T,16)}function Yr(b,T){var R;for(R=0;16>R;++R)n(b,T+32*R,b,T-32,16)}function bl(b,T){var R;for(R=16;0<R;--R)i(b,T,b[T-1],16),T+=32}function uc(b,T,R){var z;for(z=0;16>z;++z)i(T,R+32*z,b,16)}function fc(b,T){var R,z=16;for(R=0;16>R;++R)z+=b[T-1+32*R]+b[T+R-32];uc(z>>5,b,T)}function pi(b,T){var R,z=8;for(R=0;16>R;++R)z+=b[T-1+32*R];uc(z>>4,b,T)}function Mu(b,T){var R,z=8;for(R=0;16>R;++R)z+=b[T+R-32];uc(z>>4,b,T)}function Yf(b,T){uc(128,b,T)}function Ht(b,T,R){return b+2*T+R+2>>2}function _l(b,T){var R,z=T-32;for(z=new Uint8Array([Ht(b[z-1],b[z+0],b[z+1]),Ht(b[z+0],b[z+1],b[z+2]),Ht(b[z+1],b[z+2],b[z+3]),Ht(b[z+2],b[z+3],b[z+4])]),R=0;4>R;++R)n(b,T+32*R,z,0,z.length)}function za(b,T){var R=b[T-1],z=b[T-1+32],J=b[T-1+64],ne=b[T-1+96];Pe(b,T+0,16843009*Ht(b[T-1-32],R,z)),Pe(b,T+32,16843009*Ht(R,z,J)),Pe(b,T+64,16843009*Ht(z,J,ne)),Pe(b,T+96,16843009*Ht(J,ne,ne))}function Yt(b,T){var R,z=4;for(R=0;4>R;++R)z+=b[T+R-32]+b[T-1+32*R];for(z>>=3,R=0;4>R;++R)i(b,T+32*R,z,4)}function Kf(b,T){var R=b[T-1+0],z=b[T-1+32],J=b[T-1+64],ne=b[T-1-32],ae=b[T+0-32],ce=b[T+1-32],fe=b[T+2-32],ye=b[T+3-32];b[T+0+96]=Ht(z,J,b[T-1+96]),b[T+1+96]=b[T+0+64]=Ht(R,z,J),b[T+2+96]=b[T+1+64]=b[T+0+32]=Ht(ne,R,z),b[T+3+96]=b[T+2+64]=b[T+1+32]=b[T+0+0]=Ht(ae,ne,R),b[T+3+64]=b[T+2+32]=b[T+1+0]=Ht(ce,ae,ne),b[T+3+32]=b[T+2+0]=Ht(fe,ce,ae),b[T+3+0]=Ht(ye,fe,ce)}function vr(b,T){var R=b[T+1-32],z=b[T+2-32],J=b[T+3-32],ne=b[T+4-32],ae=b[T+5-32],ce=b[T+6-32],fe=b[T+7-32];b[T+0+0]=Ht(b[T+0-32],R,z),b[T+1+0]=b[T+0+32]=Ht(R,z,J),b[T+2+0]=b[T+1+32]=b[T+0+64]=Ht(z,J,ne),b[T+3+0]=b[T+2+32]=b[T+1+64]=b[T+0+96]=Ht(J,ne,ae),b[T+3+32]=b[T+2+64]=b[T+1+96]=Ht(ne,ae,ce),b[T+3+64]=b[T+2+96]=Ht(ae,ce,fe),b[T+3+96]=Ht(ce,fe,fe)}function Vn(b,T){var R=b[T-1+0],z=b[T-1+32],J=b[T-1+64],ne=b[T-1-32],ae=b[T+0-32],ce=b[T+1-32],fe=b[T+2-32],ye=b[T+3-32];b[T+0+0]=b[T+1+64]=ne+ae+1>>1,b[T+1+0]=b[T+2+64]=ae+ce+1>>1,b[T+2+0]=b[T+3+64]=ce+fe+1>>1,b[T+3+0]=fe+ye+1>>1,b[T+0+96]=Ht(J,z,R),b[T+0+64]=Ht(z,R,ne),b[T+0+32]=b[T+1+96]=Ht(R,ne,ae),b[T+1+32]=b[T+2+96]=Ht(ne,ae,ce),b[T+2+32]=b[T+3+96]=Ht(ae,ce,fe),b[T+3+32]=Ht(ce,fe,ye)}function ju(b,T){var R=b[T+0-32],z=b[T+1-32],J=b[T+2-32],ne=b[T+3-32],ae=b[T+4-32],ce=b[T+5-32],fe=b[T+6-32],ye=b[T+7-32];b[T+0+0]=R+z+1>>1,b[T+1+0]=b[T+0+64]=z+J+1>>1,b[T+2+0]=b[T+1+64]=J+ne+1>>1,b[T+3+0]=b[T+2+64]=ne+ae+1>>1,b[T+0+32]=Ht(R,z,J),b[T+1+32]=b[T+0+96]=Ht(z,J,ne),b[T+2+32]=b[T+1+96]=Ht(J,ne,ae),b[T+3+32]=b[T+2+96]=Ht(ne,ae,ce),b[T+3+64]=Ht(ae,ce,fe),b[T+3+96]=Ht(ce,fe,ye)}function Bu(b,T){var R=b[T-1+0],z=b[T-1+32],J=b[T-1+64],ne=b[T-1+96];b[T+0+0]=R+z+1>>1,b[T+2+0]=b[T+0+32]=z+J+1>>1,b[T+2+32]=b[T+0+64]=J+ne+1>>1,b[T+1+0]=Ht(R,z,J),b[T+3+0]=b[T+1+32]=Ht(z,J,ne),b[T+3+32]=b[T+1+64]=Ht(J,ne,ne),b[T+3+64]=b[T+2+64]=b[T+0+96]=b[T+1+96]=b[T+2+96]=b[T+3+96]=ne}function Qf(b,T){var R=b[T-1+0],z=b[T-1+32],J=b[T-1+64],ne=b[T-1+96],ae=b[T-1-32],ce=b[T+0-32],fe=b[T+1-32],ye=b[T+2-32];b[T+0+0]=b[T+2+32]=R+ae+1>>1,b[T+0+32]=b[T+2+64]=z+R+1>>1,b[T+0+64]=b[T+2+96]=J+z+1>>1,b[T+0+96]=ne+J+1>>1,b[T+3+0]=Ht(ce,fe,ye),b[T+2+0]=Ht(ae,ce,fe),b[T+1+0]=b[T+3+32]=Ht(R,ae,ce),b[T+1+32]=b[T+3+64]=Ht(z,R,ae),b[T+1+64]=b[T+3+96]=Ht(J,z,R),b[T+1+96]=Ht(ne,J,z)}function uo(b,T){var R;for(R=0;8>R;++R)n(b,T+32*R,b,T-32,8)}function Uu(b,T){var R;for(R=0;8>R;++R)i(b,T,b[T-1],8),T+=32}function wa(b,T,R){var z;for(z=0;8>z;++z)i(T,R+32*z,b,8)}function Zs(b,T){var R,z=8;for(R=0;8>R;++R)z+=b[T+R-32]+b[T-1+32*R];wa(z>>4,b,T)}function Sl(b,T){var R,z=4;for(R=0;8>R;++R)z+=b[T+R-32];wa(z>>3,b,T)}function Ho(b,T){var R,z=4;for(R=0;8>R;++R)z+=b[T-1+32*R];wa(z>>3,b,T)}function fo(b,T){wa(128,b,T)}function Ha(b,T,R){var z=b[T-R],J=b[T+0],ne=3*(J-z)+cx[1020+b[T-2*R]-b[T+R]],ae=cp[112+(ne+4>>3)];b[T-R]=ba[255+z+cp[112+(ne+3>>3)]],b[T+0]=ba[255+J-ae]}function Di(b,T,R,z){var J=b[T+0],ne=b[T+R];return $a[255+b[T-2*R]-b[T-R]]>z||$a[255+ne-J]>z}function Wu(b,T,R,z){return 4*$a[255+b[T-R]-b[T+0]]+$a[255+b[T-2*R]-b[T+R]]<=z}function zu(b,T,R,z,J){var ne=b[T-3*R],ae=b[T-2*R],ce=b[T-R],fe=b[T+0],ye=b[T+R],De=b[T+2*R],Xe=b[T+3*R];return 4*$a[255+ce-fe]+$a[255+ae-ye]>z?0:$a[255+b[T-4*R]-ne]<=J&&$a[255+ne-ae]<=J&&$a[255+ae-ce]<=J&&$a[255+Xe-De]<=J&&$a[255+De-ye]<=J&&$a[255+ye-fe]<=J}function Hu(b,T,R,z){var J=2*z+1;for(z=0;16>z;++z)Wu(b,T+z,R,J)&&Ha(b,T+z,R)}function Va(b,T,R,z){var J=2*z+1;for(z=0;16>z;++z)Wu(b,T+z*R,1,J)&&Ha(b,T+z*R,1)}function ho(b,T,R,z){var J;for(J=3;0<J;--J)Hu(b,T+=4*R,R,z)}function Qd(b,T,R,z){var J;for(J=3;0<J;--J)Va(b,T+=4,R,z)}function jr(b,T,R,z,J,ne,ae,ce){for(ne=2*ne+1;0<J--;){if(zu(b,T,R,ne,ae))if(Di(b,T,R,ce))Ha(b,T,R);else{var fe=b,ye=T,De=R,Xe=fe[ye-2*De],Ye=fe[ye-De],Be=fe[ye+0],ht=fe[ye+De],at=fe[ye+2*De],Fe=27*(ut=cx[1020+3*(Be-Ye)+cx[1020+Xe-ht]])+63>>7,Me=18*ut+63>>7,ut=9*ut+63>>7;fe[ye-3*De]=ba[255+fe[ye-3*De]+ut],fe[ye-2*De]=ba[255+Xe+Me],fe[ye-De]=ba[255+Ye+Fe],fe[ye+0]=ba[255+Be-Fe],fe[ye+De]=ba[255+ht-Me],fe[ye+2*De]=ba[255+at-ut]}T+=z}}function Js(b,T,R,z,J,ne,ae,ce){for(ne=2*ne+1;0<J--;){if(zu(b,T,R,ne,ae))if(Di(b,T,R,ce))Ha(b,T,R);else{var fe=b,ye=T,De=R,Xe=fe[ye-De],Ye=fe[ye+0],Be=fe[ye+De],ht=cp[112+((at=3*(Ye-Xe))+4>>3)],at=cp[112+(at+3>>3)],Fe=ht+1>>1;fe[ye-2*De]=ba[255+fe[ye-2*De]+Fe],fe[ye-De]=ba[255+Xe+at],fe[ye+0]=ba[255+Ye-ht],fe[ye+De]=ba[255+Be-Fe]}T+=z}}function Vo(b,T,R,z,J,ne){jr(b,T,R,1,16,z,J,ne)}function _s(b,T,R,z,J,ne){jr(b,T,1,R,16,z,J,ne)}function Zd(b,T,R,z,J,ne){var ae;for(ae=3;0<ae;--ae)Js(b,T+=4*R,R,1,16,z,J,ne)}function Je(b,T,R,z,J,ne){var ae;for(ae=3;0<ae;--ae)Js(b,T+=4,1,R,16,z,J,ne)}function Er(b,T,R,z,J,ne,ae,ce){jr(b,T,J,1,8,ne,ae,ce),jr(R,z,J,1,8,ne,ae,ce)}function Kn(b,T,R,z,J,ne,ae,ce){jr(b,T,1,J,8,ne,ae,ce),jr(R,z,1,J,8,ne,ae,ce)}function qo(b,T,R,z,J,ne,ae,ce){Js(b,T+4*J,J,1,8,ne,ae,ce),Js(R,z+4*J,J,1,8,ne,ae,ce)}function Vu(b,T,R,z,J,ne,ae,ce){Js(b,T+4,1,J,8,ne,ae,ce),Js(R,z+4,1,J,8,ne,ae,ce)}function hc(){this.ba=new xr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new on,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function qu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Gu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function dc(){this.ua=0,this.Wa=new pe,this.vb=new pe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new U}function Qn(){this.xb=this.a=0,this.l=new mr,this.ca=new xr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new dc,this.ab=0,this.gc=a(4,Gu),this.Oc=0}function Go(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new mr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function un(b,T,R,z,J,ne,ae){for(b=b==null?0:b[T+0],T=0;T<ae;++T)J[ne+T]=b+R[z+T]&255,b=J[ne+T]}function $o(b,T,R,z,J,ne,ae){var ce;if(b==null)un(null,null,R,z,J,ne,ae);else for(ce=0;ce<ae;++ce)J[ne+ce]=b[T+ce]+R[z+ce]&255}function Ss(b,T,R,z,J,ne,ae){if(b==null)un(null,null,R,z,J,ne,ae);else{var ce,fe=b[T+0],ye=fe,De=fe;for(ce=0;ce<ae;++ce)ye=De+(fe=b[T+ce])-ye,De=R[z+ce]+(-256&ye?0>ye?0:255:ye)&255,ye=fe,J[ne+ce]=De}}function Kr(b,T,R,z){var J=T.width,ne=T.o;if(t(b!=null&&T!=null),0>R||0>=z||R+z>ne)return null;if(!b.Cc){if(b.ga==null){var ae;if(b.ga=new Go,(ae=b.ga==null)||(ae=T.width*T.o,t(b.Gb.length==0),b.Gb=s(ae),b.Uc=0,b.Gb==null?ae=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,ae=1),ae=!ae),!ae){ae=b.ga;var ce=b.Fa,fe=b.P,ye=b.qc,De=b.mb,Xe=b.nb,Ye=fe+1,Be=ye-1,ht=ae.l;if(t(ce!=null&&De!=null&&T!=null),vc[0]=null,vc[1]=un,vc[2]=$o,vc[3]=Ss,ae.ca=De,ae.tb=Xe,ae.c=T.width,ae.i=T.height,t(0<ae.c&&0<ae.i),1>=ye)T=0;else if(ae.$a=ce[fe+0]>>0&3,ae.Z=ce[fe+0]>>2&3,ae.Lc=ce[fe+0]>>4&3,fe=ce[fe+0]>>6&3,0>ae.$a||1<ae.$a||4<=ae.Z||1<ae.Lc||fe)T=0;else if(ht.put=Li,ht.ac=zr,ht.bc=is,ht.ma=ae,ht.width=T.width,ht.height=T.height,ht.Da=T.Da,ht.v=T.v,ht.va=T.va,ht.j=T.j,ht.o=T.o,ae.$a)e:{t(ae.$a==1),T=it();t:for(;;){if(T==null){T=0;break e}if(t(ae!=null),ae.mc=T,T.c=ae.c,T.i=ae.i,T.l=ae.l,T.l.ma=ae,T.l.width=ae.c,T.l.height=ae.i,T.a=0,de(T.m,ce,Ye,Be),!ze(ae.c,ae.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&he(T.s)?(ae.ic=1,ce=T.c*T.i,T.Ta=null,T.Ua=0,T.V=s(ce),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(ae.ic=0,T=Ke(T,ae.c)),!T))break t;T=1;break e}ae.mc=null,T=0}else T=Be>=ae.c*ae.i;ae=!T}if(ae)return null;b.ga.Lc!=1?b.Ga=0:z=ne-R}t(b.ga!=null),t(R+z<=ne);e:{if(T=(ce=b.ga).c,ne=ce.l.o,ce.$a==0){if(Ye=b.rc,Be=b.Vc,ht=b.Fa,fe=b.P+1+R*T,ye=b.mb,De=b.nb+R*T,t(fe<=b.P+b.qc),ce.Z!=0)for(t(vc[ce.Z]!=null),ae=0;ae<z;++ae)vc[ce.Z](Ye,Be,ht,fe,ye,De,T),Ye=ye,Be=De,De+=T,fe+=T;else for(ae=0;ae<z;++ae)n(ye,De,ht,fe,T),Ye=ye,Be=De,De+=T,fe+=T;b.rc=Ye,b.Vc=Be}else{if(t(ce.mc!=null),T=R+z,t((ae=ce.mc)!=null),t(T<=ae.i),ae.C>=T)T=1;else if(ce.ic||We(),ce.ic){ce=ae.V,Ye=ae.Ba,Be=ae.c;var at=ae.i,Fe=(ht=1,fe=ae.$/Be,ye=ae.$%Be,De=ae.m,Xe=ae.s,ae.$),Me=Be*at,ut=Be*T,vt=Xe.wc,ft=Fe<ut?ln(Xe,ye,fe):null;t(Fe<=Me),t(T<=at),t(he(Xe));t:for(;;){for(;!De.h&&Fe<ut;){if(ye&vt||(ft=ln(Xe,ye,fe)),t(ft!=null),ie(De),256>(at=Ei(ft.G[0],ft.H[0],De)))ce[Ye+Fe]=at,++Fe,++ye>=Be&&(ye=0,++fe<=T&&!(fe%16)&&xe(ae,fe));else{if(!(280>at)){ht=0;break t}at=Ms(at-256,De);var Ft,Ot=Ei(ft.G[4],ft.H[4],De);if(ie(De),!(Fe>=(Ot=ni(Be,Ot=Ms(Ot,De)))&&Me-Fe>=at)){ht=0;break t}for(Ft=0;Ft<at;++Ft)ce[Ye+Fe+Ft]=ce[Ye+Fe+Ft-Ot];for(Fe+=at,ye+=at;ye>=Be;)ye-=Be,++fe<=T&&!(fe%16)&&xe(ae,fe);Fe<ut&&ye&vt&&(ft=ln(Xe,ye,fe))}t(De.h==G(De))}xe(ae,fe>T?T:fe);break t}!ht||De.h&&Fe<Me?(ht=0,ae.a=De.h?5:3):ae.$=Fe,T=ht}else T=Ee(ae,ae.V,ae.Ba,ae.c,ae.i,T,Ze);if(!T){z=0;break e}}R+z>=ne&&(b.Cc=1),z=1}if(!z)return null;if(b.Cc&&((z=b.ga)!=null&&(z.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+R*J}function P(b,T,R,z,J,ne){for(;0<J--;){var ae,ce=b,fe=T+(R?1:0),ye=b,De=T+(R?0:3);for(ae=0;ae<z;++ae){var Xe=ye[De+4*ae];Xe!=255&&(Xe*=32897,ce[fe+4*ae+0]=ce[fe+4*ae+0]*Xe>>23,ce[fe+4*ae+1]=ce[fe+4*ae+1]*Xe>>23,ce[fe+4*ae+2]=ce[fe+4*ae+2]*Xe>>23)}T+=ne}}function ee(b,T,R,z,J){for(;0<z--;){var ne;for(ne=0;ne<R;++ne){var ae=b[T+2*ne+0],ce=15&(ye=b[T+2*ne+1]),fe=4369*ce,ye=(240&ye|ye>>4)*fe>>16;b[T+2*ne+0]=(240&ae|ae>>4)*fe>>16&240|(15&ae|ae<<4)*fe>>16>>4&15,b[T+2*ne+1]=240&ye|ce}T+=J}}function ve(b,T,R,z,J,ne,ae,ce){var fe,ye,De=255;for(ye=0;ye<J;++ye){for(fe=0;fe<z;++fe){var Xe=b[T+fe];ne[ae+4*fe]=Xe,De&=Xe}T+=R,ae+=ce}return De!=255}function ke(b,T,R,z,J){var ne;for(ne=0;ne<J;++ne)R[z+ne]=b[T+ne]>>8}function We(){ta=P,kn=ee,Pn=ve,mi=ke}function ot(b,T,R){M[b]=function(z,J,ne,ae,ce,fe,ye,De,Xe,Ye,Be,ht,at,Fe,Me,ut,vt){var ft,Ft=vt-1>>1,Ot=ce[fe+0]|ye[De+0]<<16,rr=Xe[Ye+0]|Be[ht+0]<<16;t(z!=null);var Rt=3*Ot+rr+131074>>2;for(T(z[J+0],255&Rt,Rt>>16,at,Fe),ne!=null&&(Rt=3*rr+Ot+131074>>2,T(ne[ae+0],255&Rt,Rt>>16,Me,ut)),ft=1;ft<=Ft;++ft){var rn=ce[fe+ft]|ye[De+ft]<<16,dn=Xe[Ye+ft]|Be[ht+ft]<<16,Qr=Ot+rn+rr+dn+524296,Vr=Qr+2*(rn+rr)>>3;Rt=Vr+Ot>>1,Ot=(Qr=Qr+2*(Ot+dn)>>3)+rn>>1,T(z[J+2*ft-1],255&Rt,Rt>>16,at,Fe+(2*ft-1)*R),T(z[J+2*ft-0],255&Ot,Ot>>16,at,Fe+(2*ft-0)*R),ne!=null&&(Rt=Qr+rr>>1,Ot=Vr+dn>>1,T(ne[ae+2*ft-1],255&Rt,Rt>>16,Me,ut+(2*ft-1)*R),T(ne[ae+2*ft+0],255&Ot,Ot>>16,Me,ut+(2*ft+0)*R)),Ot=rn,rr=dn}1&vt||(Rt=3*Ot+rr+131074>>2,T(z[J+vt-1],255&Rt,Rt>>16,at,Fe+(vt-1)*R),ne!=null&&(Rt=3*rr+Ot+131074>>2,T(ne[ae+vt-1],255&Rt,Rt>>16,Me,ut+(vt-1)*R)))}}function dt(){Xa[up]=cO,Xa[fp]=P4,Xa[C4]=uO,Xa[hp]=O4,Xa[dp]=R4,Xa[ux]=L4,Xa[N4]=fO,Xa[fx]=P4,Xa[hx]=O4,Xa[pp]=R4,Xa[dx]=L4}function Lt(b){return b&-16384?0>b?0:255:b>>hO}function Kt(b,T){return Lt((19077*b>>8)+(26149*T>>8)-14234)}function hr(b,T,R){return Lt((19077*b>>8)-(6419*T>>8)-(13320*R>>8)+8708)}function dr(b,T){return Lt((19077*b>>8)+(33050*T>>8)-17685)}function Br(b,T,R,z,J){z[J+0]=Kt(b,R),z[J+1]=hr(b,T,R),z[J+2]=dr(b,T)}function Fn(b,T,R,z,J){z[J+0]=dr(b,T),z[J+1]=hr(b,T,R),z[J+2]=Kt(b,R)}function hn(b,T,R,z,J){var ne=hr(b,T,R);T=ne<<3&224|dr(b,T)>>3,z[J+0]=248&Kt(b,R)|ne>>5,z[J+1]=T}function qn(b,T,R,z,J){var ne=240&dr(b,T)|15;z[J+0]=240&Kt(b,R)|hr(b,T,R)>>4,z[J+1]=ne}function Gi(b,T,R,z,J){z[J+0]=255,Br(b,T,R,z,J+1)}function Gn(b,T,R,z,J){Fn(b,T,R,z,J),z[J+3]=255}function ya(b,T,R,z,J){Br(b,T,R,z,J),z[J+3]=255}function ii(b,T){return 0>b?0:b>T?T:b}function js(b,T,R){M[b]=function(z,J,ne,ae,ce,fe,ye,De,Xe){for(var Ye=De+(-2&Xe)*R;De!=Ye;)T(z[J+0],ne[ae+0],ce[fe+0],ye,De),T(z[J+1],ne[ae+0],ce[fe+0],ye,De+R),J+=2,++ae,++fe,De+=2*R;1&Xe&&T(z[J+0],ne[ae+0],ce[fe+0],ye,De)}}function as(b,T,R){return R==0?b==0?T==0?6:5:T==0?4:0:R}function pc(b,T,R,z,J){switch(b>>>30){case 3:Oe(T,R,z,J,0);break;case 2:je(T,R,z,J);break;case 1:gt(T,R,z,J)}}function Es(b,T){var R,z,J=T.M,ne=T.Nb,ae=b.oc,ce=b.pc+40,fe=b.oc,ye=b.pc+584,De=b.oc,Xe=b.pc+600;for(R=0;16>R;++R)ae[ce+32*R-1]=129;for(R=0;8>R;++R)fe[ye+32*R-1]=129,De[Xe+32*R-1]=129;for(0<J?ae[ce-1-32]=fe[ye-1-32]=De[Xe-1-32]=129:(i(ae,ce-32-1,127,21),i(fe,ye-32-1,127,9),i(De,Xe-32-1,127,9)),z=0;z<b.za;++z){var Ye=T.ya[T.aa+z];if(0<z){for(R=-1;16>R;++R)n(ae,ce+32*R-4,ae,ce+32*R+12,4);for(R=-1;8>R;++R)n(fe,ye+32*R-4,fe,ye+32*R+4,4),n(De,Xe+32*R-4,De,Xe+32*R+4,4)}var Be=b.Gd,ht=b.Hd+z,at=Ye.ad,Fe=Ye.Hc;if(0<J&&(n(ae,ce-32,Be[ht].y,0,16),n(fe,ye-32,Be[ht].f,0,8),n(De,Xe-32,Be[ht].ea,0,8)),Ye.Za){var Me=ae,ut=ce-32+16;for(0<J&&(z>=b.za-1?i(Me,ut,Be[ht].y[15],4):n(Me,ut,Be[ht+1].y,0,4)),R=0;4>R;R++)Me[ut+128+R]=Me[ut+256+R]=Me[ut+384+R]=Me[ut+0+R];for(R=0;16>R;++R,Fe<<=2)Me=ae,ut=ce+F4[R],po[Ye.Ob[R]](Me,ut),pc(Fe,at,16*+R,Me,ut)}else if(Me=as(z,J,Ye.Ob[0]),xc[Me](ae,ce),Fe!=0)for(R=0;16>R;++R,Fe<<=2)pc(Fe,at,16*+R,ae,ce+F4[R]);for(R=Ye.Gc,Me=as(z,J,Ye.Dd),Nl[Me](fe,ye),Nl[Me](De,Xe),Fe=at,Me=fe,ut=ye,255&(Ye=R>>0)&&(170&Ye?tt(Fe,256,Me,ut):wt(Fe,256,Me,ut)),Ye=De,Fe=Xe,255&(R>>=8)&&(170&R?tt(at,320,Ye,Fe):wt(at,320,Ye,Fe)),J<b.Ub-1&&(n(Be[ht].y,0,ae,ce+480,16),n(Be[ht].f,0,fe,ye+224,8),n(Be[ht].ea,0,De,Xe+224,8)),R=8*ne*b.B,Be=b.sa,ht=b.ta+16*z+16*ne*b.R,at=b.qa,Ye=b.ra+8*z+R,Fe=b.Ha,Me=b.Ia+8*z+R,R=0;16>R;++R)n(Be,ht+R*b.R,ae,ce+32*R,16);for(R=0;8>R;++R)n(at,Ye+R*b.B,fe,ye+32*R,8),n(Fe,Me+R*b.B,De,Xe+32*R,8)}}function gc(b,T,R,z,J,ne,ae,ce,fe){var ye=[0],De=[0],Xe=0,Ye=fe!=null?fe.kd:0,Be=fe??new qu;if(b==null||12>R)return 7;Be.data=b,Be.w=T,Be.ha=R,T=[T],R=[R],Be.gb=[Be.gb];e:{var ht=T,at=R,Fe=Be.gb;if(t(b!=null),t(at!=null),t(Fe!=null),Fe[0]=0,12<=at[0]&&!r(b,ht[0],"RIFF")){if(r(b,ht[0]+8,"WEBP")){Fe=3;break e}var Me=Qe(b,ht[0]+4);if(12>Me||4294967286<Me){Fe=3;break e}if(Ye&&Me>at[0]-8){Fe=7;break e}Fe[0]=Me,ht[0]+=12,at[0]-=12}Fe=0}if(Fe!=0)return Fe;for(Me=0<Be.gb[0],R=R[0];;){e:{var ut=b;at=T,Fe=R;var vt=ye,ft=De,Ft=ht=[0];if((Rt=Xe=[Xe])[0]=0,8>Fe[0])Fe=7;else{if(!r(ut,at[0],"VP8X")){if(Qe(ut,at[0]+4)!=10){Fe=3;break e}if(18>Fe[0]){Fe=7;break e}var Ot=Qe(ut,at[0]+8),rr=1+Ge(ut,at[0]+12);if(2147483648<=rr*(ut=1+Ge(ut,at[0]+15))){Fe=3;break e}Ft!=null&&(Ft[0]=Ot),vt!=null&&(vt[0]=rr),ft!=null&&(ft[0]=ut),at[0]+=18,Fe[0]-=18,Rt[0]=1}Fe=0}}if(Xe=Xe[0],ht=ht[0],Fe!=0)return Fe;if(at=!!(2&ht),!Me&&Xe)return 3;if(ne!=null&&(ne[0]=!!(16&ht)),ae!=null&&(ae[0]=at),ce!=null&&(ce[0]=0),ae=ye[0],ht=De[0],Xe&&at&&fe==null){Fe=0;break}if(4>R){Fe=7;break}if(Me&&Xe||!Me&&!Xe&&!r(b,T[0],"ALPH")){R=[R],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{Ot=b,Fe=T,Me=R;var Rt=Be.gb;vt=Be.na,ft=Be.P,Ft=Be.Sa,rr=22,t(Ot!=null),t(Me!=null),ut=Fe[0];var rn=Me[0];for(t(vt!=null),t(Ft!=null),vt[0]=null,ft[0]=null,Ft[0]=0;;){if(Fe[0]=ut,Me[0]=rn,8>rn){Fe=7;break e}var dn=Qe(Ot,ut+4);if(4294967286<dn){Fe=3;break e}var Qr=8+dn+1&-2;if(rr+=Qr,0<Rt&&rr>Rt){Fe=3;break e}if(!r(Ot,ut,"VP8 ")||!r(Ot,ut,"VP8L")){Fe=0;break e}if(rn[0]<Qr){Fe=7;break e}r(Ot,ut,"ALPH")||(vt[0]=Ot,ft[0]=ut+8,Ft[0]=dn),ut+=Qr,rn-=Qr}}if(R=R[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],Fe!=0)break}R=[R],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(Rt=b,Fe=T,Me=R,vt=Be.gb[0],ft=Be.Ja,Ft=Be.xa,Ot=Fe[0],ut=!r(Rt,Ot,"VP8 "),rr=!r(Rt,Ot,"VP8L"),t(Rt!=null),t(Me!=null),t(ft!=null),t(Ft!=null),8>Me[0])Fe=7;else{if(ut||rr){if(Rt=Qe(Rt,Ot+4),12<=vt&&Rt>vt-12){Fe=3;break e}if(Ye&&Rt>Me[0]-8){Fe=7;break e}ft[0]=Rt,Fe[0]+=8,Me[0]-=8,Ft[0]=rr}else Ft[0]=5<=Me[0]&&Rt[Ot+0]==47&&!(Rt[Ot+4]>>5),ft[0]=Me[0];Fe=0}if(R=R[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],T=T[0],Fe!=0)break;if(4294967286<Be.Ja)return 3;if(ce==null||at||(ce[0]=Be.xa?2:1),ae=[ae],ht=[ht],Be.xa){if(5>R){Fe=7;break}ce=ae,Ye=ht,at=ne,b==null||5>R?b=0:5<=R&&b[T+0]==47&&!(b[T+4]>>5)?(Me=[0],Rt=[0],vt=[0],de(ft=new j,b,T,R),qt(ft,Me,Rt,vt)?(ce!=null&&(ce[0]=Me[0]),Ye!=null&&(Ye[0]=Rt[0]),at!=null&&(at[0]=vt[0]),b=1):b=0):b=0}else{if(10>R){Fe=7;break}ce=ht,b==null||10>R||!lc(b,T+3,R-3)?b=0:(Ye=b[T+0]|b[T+1]<<8|b[T+2]<<16,at=16383&(b[T+7]<<8|b[T+6]),b=16383&(b[T+9]<<8|b[T+8]),1&Ye||3<(Ye>>1&7)||!(Ye>>4&1)||Ye>>5>=Be.Ja||!at||!b?b=0:(ae&&(ae[0]=at),ce&&(ce[0]=b),b=1))}if(!b||(ae=ae[0],ht=ht[0],Xe&&(ye[0]!=ae||De[0]!=ht)))return 3;fe!=null&&(fe[0]=Be,fe.offset=T-fe.w,t(4294967286>T-fe.w),t(fe.offset==fe.ha-R));break}return Fe==0||Fe==7&&Xe&&fe==null?(ne!=null&&(ne[0]|=Be.na!=null&&0<Be.na.length),z!=null&&(z[0]=ae),J!=null&&(J[0]=ht),0):Fe}function El(b,T,R){var z=T.width,J=T.height,ne=0,ae=0,ce=z,fe=J;if(T.Da=b!=null&&0<b.Da,T.Da&&(ce=b.cd,fe=b.bd,ne=b.v,ae=b.j,11>R||(ne&=-2,ae&=-2),0>ne||0>ae||0>=ce||0>=fe||ne+ce>z||ae+fe>J))return 0;if(T.v=ne,T.j=ae,T.va=ne+ce,T.o=ae+fe,T.U=ce,T.T=fe,T.da=b!=null&&0<b.da,T.da){if(!rt(ce,fe,R=[b.ib],ne=[b.hb]))return 0;T.ib=R[0],T.hb=ne[0]}return T.ob=b!=null&&b.ob,T.Kb=b==null||!b.Sd,T.da&&(T.ob=T.ib<3*z/4&&T.hb<3*J/4,T.Kb=0),1}function $u(b){if(b==null)return 2;if(11>b.S){var T=b.f.RGBA;T.fb+=(b.height-1)*T.A,T.A=-T.A}else T=b.f.kb,b=b.height,T.O+=(b-1)*T.fa,T.fa=-T.fa,T.N+=(b-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(b-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(b-1)*T.lb,T.lb=-T.lb);return 0}function Al(b,T,R,z){if(z==null||0>=b||0>=T)return 2;if(R!=null){if(R.Da){var J=R.cd,ne=R.bd,ae=-2&R.v,ce=-2&R.j;if(0>ae||0>ce||0>=J||0>=ne||ae+J>b||ce+ne>T)return 2;b=J,T=ne}if(R.da){if(!rt(b,T,J=[R.ib],ne=[R.hb]))return 2;b=J[0],T=ne[0]}}z.width=b,z.height=T;e:{var fe=z.width,ye=z.height;if(b=z.S,0>=fe||0>=ye||!(b>=up&&13>b))b=2;else{if(0>=z.Rd&&z.sd==null){ae=ne=J=T=0;var De=(ce=fe*M4[b])*ye;if(11>b||(ne=(ye+1)/2*(T=(fe+1)/2),b==12&&(ae=(J=fe)*ye)),(ye=s(De+2*ne+ae))==null){b=1;break e}z.sd=ye,11>b?((fe=z.f.RGBA).eb=ye,fe.fb=0,fe.A=ce,fe.size=De):((fe=z.f.kb).y=ye,fe.O=0,fe.fa=ce,fe.Fd=De,fe.f=ye,fe.N=0+De,fe.Ab=T,fe.Cd=ne,fe.ea=ye,fe.W=0+De+ne,fe.Db=T,fe.Ed=ne,b==12&&(fe.F=ye,fe.J=0+De+2*ne),fe.Tc=ae,fe.lb=J)}if(T=1,J=z.S,ne=z.width,ae=z.height,J>=up&&13>J)if(11>J)b=z.f.RGBA,T&=(ce=Math.abs(b.A))*(ae-1)+ne<=b.size,T&=ce>=ne*M4[J],T&=b.eb!=null;else{b=z.f.kb,ce=(ne+1)/2,De=(ae+1)/2,fe=Math.abs(b.fa),ye=Math.abs(b.Ab);var Xe=Math.abs(b.Db),Ye=Math.abs(b.lb),Be=Ye*(ae-1)+ne;T&=fe*(ae-1)+ne<=b.Fd,T&=ye*(De-1)+ce<=b.Cd,T=(T&=Xe*(De-1)+ce<=b.Ed)&fe>=ne&ye>=ce&Xe>=ce,T&=b.y!=null,T&=b.f!=null,T&=b.ea!=null,J==12&&(T&=Ye>=ne,T&=Be<=b.Tc,T&=b.F!=null)}else T=0;b=T?0:2}}return b!=0||R!=null&&R.fd&&(b=$u(z)),b}var Sn=64,mc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xo=24,qa=32,Fr=8,Fi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];yt("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(b){return b},M.Predictor2=function(b,T,R){return T[R+0]},M.Predictor3=function(b,T,R){return T[R+1]},M.Predictor4=function(b,T,R){return T[R-1]},M.Predictor5=function(b,T,R){return At(At(b,T[R+1]),T[R+0])},M.Predictor6=function(b,T,R){return At(b,T[R-1])},M.Predictor7=function(b,T,R){return At(b,T[R+0])},M.Predictor8=function(b,T,R){return At(T[R-1],T[R+0])},M.Predictor9=function(b,T,R){return At(T[R+0],T[R+1])},M.Predictor10=function(b,T,R){return At(At(b,T[R-1]),At(T[R+0],T[R+1]))},M.Predictor11=function(b,T,R){var z=T[R+0];return 0>=$t(z>>24&255,b>>24&255,(T=T[R-1])>>24&255)+$t(z>>16&255,b>>16&255,T>>16&255)+$t(z>>8&255,b>>8&255,T>>8&255)+$t(255&z,255&b,255&T)?z:b},M.Predictor12=function(b,T,R){var z=T[R+0];return(Bt((b>>24&255)+(z>>24&255)-((T=T[R-1])>>24&255))<<24|Bt((b>>16&255)+(z>>16&255)-(T>>16&255))<<16|Bt((b>>8&255)+(z>>8&255)-(T>>8&255))<<8|Bt((255&b)+(255&z)-(255&T)))>>>0},M.Predictor13=function(b,T,R){var z=T[R-1];return(Pt((b=At(b,T[R+0]))>>24&255,z>>24&255)<<24|Pt(b>>16&255,z>>16&255)<<16|Pt(b>>8&255,z>>8&255)<<8|Pt(b>>0&255,z>>0&255))>>>0};var K=M.PredictorAdd0;M.PredictorAdd1=Dt,yt("Predictor2","PredictorAdd2"),yt("Predictor3","PredictorAdd3"),yt("Predictor4","PredictorAdd4"),yt("Predictor5","PredictorAdd5"),yt("Predictor6","PredictorAdd6"),yt("Predictor7","PredictorAdd7"),yt("Predictor8","PredictorAdd8"),yt("Predictor9","PredictorAdd9"),yt("Predictor10","PredictorAdd10"),yt("Predictor11","PredictorAdd11"),yt("Predictor12","PredictorAdd12"),yt("Predictor13","PredictorAdd13");var o=M.PredictorAdd2;gr("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),gr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var c,h=M.ColorIndexInverseTransform,p=M.MapARGB,g=M.VP8LColorIndexInverseTransformAlpha,w=M.MapAlpha,S=M.VP8LPredictorsAdd=[];S.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var k,O,H,Y,se,we,Ie,Oe,je,tt,gt,wt,xt,kr,fr,si,Mi,Zn,Gr,$n,gi,Bs,Ga,ea,ta,kn,Pn,mi,ji=s(511),Cl=s(2041),Jd=s(225),Zf=s(767),lp=0,cx=Cl,cp=Jd,ba=Zf,$a=ji,up=0,fp=1,C4=2,hp=3,dp=4,ux=5,N4=6,fx=7,hx=8,pp=9,dx=10,YP=[2,3,7],KP=[3,3,11],T4=[280,256,256,256,40],QP=[0,1,1,1,0],ZP=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],JP=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],eO=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],tO=8,px=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],gx=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],e0=null,rO=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],nO=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],I4=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],iO=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],sO=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],aO=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],oO=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],xc=[],po=[],Nl=[],lO=1,k4=2,vc=[],Xa=[];ot("UpsampleRgbLinePair",Br,3),ot("UpsampleBgrLinePair",Fn,3),ot("UpsampleRgbaLinePair",ya,4),ot("UpsampleBgraLinePair",Gn,4),ot("UpsampleArgbLinePair",Gi,4),ot("UpsampleRgba4444LinePair",qn,2),ot("UpsampleRgb565LinePair",hn,2);var cO=M.UpsampleRgbLinePair,uO=M.UpsampleBgrLinePair,P4=M.UpsampleRgbaLinePair,O4=M.UpsampleBgraLinePair,R4=M.UpsampleArgbLinePair,L4=M.UpsampleRgba4444LinePair,fO=M.UpsampleRgb565LinePair,gp=16,mp=1<<gp-1,t0=-227,mx=482,hO=6,D4=0,dO=s(256),pO=s(256),gO=s(256),mO=s(256),xO=s(mx-t0),vO=s(mx-t0);js("YuvToRgbRow",Br,3),js("YuvToBgrRow",Fn,3),js("YuvToRgbaRow",ya,4),js("YuvToBgraRow",Gn,4),js("YuvToArgbRow",Gi,4),js("YuvToRgba4444Row",qn,2),js("YuvToRgb565Row",hn,2);var F4=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],xp=[0,2,8],wO=[8,7,6,4,4,2,2,2,1,1,1,1],yO=1;this.WebPDecodeRGBA=function(b,T,R,z,J){var ne=fp,ae=new hc,ce=new xr;ae.ba=ce,ce.S=ne,ce.width=[ce.width],ce.height=[ce.height];var fe=ce.width,ye=ce.height,De=new Ri;if(De==null||b==null)var Xe=2;else t(De!=null),Xe=gc(b,T,R,De.width,De.height,De.Pd,De.Qd,De.format,null);if(Xe!=0?fe=0:(fe!=null&&(fe[0]=De.width[0]),ye!=null&&(ye[0]=De.height[0]),fe=1),fe){ce.width=ce.width[0],ce.height=ce.height[0],z!=null&&(z[0]=ce.width),J!=null&&(J[0]=ce.height);e:{if(z=new mr,(J=new qu).data=b,J.w=T,J.ha=R,J.kd=1,T=[0],t(J!=null),((b=gc(J.data,J.w,J.ha,null,null,null,T,null,J))==0||b==7)&&T[0]&&(b=4),(T=b)==0){if(t(ae!=null),z.data=J.data,z.w=J.w+J.offset,z.ha=J.ha-J.offset,z.put=Li,z.ac=zr,z.bc=is,z.ma=ae,J.xa){if((b=it())==null){ae=1;break e}if(function(Ye,Be){var ht=[0],at=[0],Fe=[0];t:for(;;){if(Ye==null)return 0;if(Be==null)return Ye.a=2,0;if(Ye.l=Be,Ye.a=0,de(Ye.m,Be.data,Be.w,Be.ha),!qt(Ye.m,ht,at,Fe)){Ye.a=3;break t}if(Ye.xb=k4,Be.width=ht[0],Be.height=at[0],!ze(ht[0],at[0],1,Ye,null))break t;return 1}return t(Ye.a!=0),0}(b,z)){if(z=(T=Al(z.width,z.height,ae.Oa,ae.ba))==0){t:{z=b;r:for(;;){if(z==null){z=0;break t}if(t(z.s.yc!=null),t(z.s.Ya!=null),t(0<z.s.Wb),t((R=z.l)!=null),t((J=R.ma)!=null),z.xb!=0){if(z.ca=J.ba,z.tb=J.tb,t(z.ca!=null),!El(J.Oa,R,hp)){z.a=2;break r}if(!Ke(z,R.width)||R.da)break r;if((R.da||Dr(z.ca.S))&&We(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&We()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!ct(z.s.vb,z.s.Wa.Xa)){z.a=1;break r}z.xb=0}if(!Ee(z,z.V,z.Ba,z.c,z.i,R.o,ue))break r;J.Dc=z.Ma,z=1;break t}t(z.a!=0),z=0}z=!z}z&&(T=b.a)}else T=b.a}else{if((b=new ss)==null){ae=1;break e}if(b.Fa=J.na,b.P=J.P,b.qc=J.Sa,Hn(b,z)){if((T=Al(z.width,z.height,ae.Oa,ae.ba))==0){if(b.Aa=0,R=ae.Oa,t((J=b)!=null),R!=null){if(0<(fe=0>(fe=R.Md)?0:100<fe?255:255*fe/100)){for(ye=De=0;4>ye;++ye)12>(Xe=J.pb[ye]).lc&&(Xe.ia=fe*wO[0>Xe.lc?0:Xe.lc]>>3),De|=Xe.ia;De&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=R.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}Dn(b,z)||(T=b.a)}}else T=b.a}T==0&&ae.Oa!=null&&ae.Oa.fd&&(T=$u(ae.ba))}ae=T}ne=ae!=0?null:11>ne?ce.f.RGBA.eb:ce.f.kb.y}else ne=null;return ne};var M4=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(M,F){for(var X="",W=0;W<4;W++)X+=String.fromCharCode(M[F++]);return X}function d(M,F){return(M[F+0]<<0|M[F+1]<<8|M[F+2]<<16)>>>0}function m(M,F){return(M[F+0]<<0|M[F+1]<<8|M[F+2]<<16|M[F+3]<<24)>>>0}new u;var y=[0],v=[0],E=[],_=new u,N=e,A=function(M,F){var X={},W=0,U=!1,re=0,oe=0;if(X.frames=[],!function(V,G,Z,ie){for(var Se=0;Se<ie;Se++)if(V[G+Se]!=Z.charCodeAt(Se))return!0;return!1}(M,F,"RIFF",4)){for(m(M,F+=4),F+=8;F<M.length;){var le=f(M,F),Ne=m(M,F+=4);F+=4;var Ae=Ne+(1&Ne);switch(le){case"VP8 ":case"VP8L":X.frames[W]===void 0&&(X.frames[W]={}),(Te=X.frames[W]).src_off=U?oe:F-8,Te.src_size=re+Ne+8,W++,U&&(U=!1,re=0,oe=0);break;case"VP8X":(Te=X.header={}).feature_flags=M[F];var de=F+4;Te.canvas_width=1+d(M,de),de+=3,Te.canvas_height=1+d(M,de),de+=3;break;case"ALPH":U=!0,re=Ae+8,oe=F-8;break;case"ANIM":(Te=X.header).bgcolor=m(M,F),de=F+4,Te.loop_count=(He=M)[(j=de)+0]<<0|He[j+1]<<8,de+=2;break;case"ANMF":var _e,Te;(Te=X.frames[W]={}).offset_x=2*d(M,F),F+=3,Te.offset_y=2*d(M,F),F+=3,Te.width=1+d(M,F),F+=3,Te.height=1+d(M,F),F+=3,Te.duration=d(M,F),F+=3,_e=M[F++],Te.dispose=1&_e,Te.blend=_e>>1&1}le!="ANMF"&&(F+=Ae)}var He,j;return X}}(N,0);A.response=N,A.rgbaoutput=!0,A.dataurl=!1;var C=A.header?A.header:null,I=A.frames?A.frames:null;if(C){C.loop_counter=C.loop_count,y=[C.canvas_height],v=[C.canvas_width];for(var L=0;L<I.length&&I[L].blend!=0;L++);}var q=I[0],Q=_.WebPDecodeRGBA(N,q.src_off,q.src_size,v,y);q.rgba=Q,q.imgwidth=v[0],q.imgheight=y[0];for(var B=0;B<v[0]*y[0]*4;B++)E[B]=Q[B];return this.width=v,this.height=y,this.data=E,this}(function(e){var t=function(){return typeof Cy=="function"},r=function(y,v,E,_){var N=4,A=a;switch(_){case e.image_compression.FAST:N=1,A=s;break;case e.image_compression.MEDIUM:N=6,A=l;break;case e.image_compression.SLOW:N=9,A=u}y=n(y,v,E,A);var C=Cy(y,{level:N});return e.__addimage__.arrayBufferToBinaryString(C)},n=function(y,v,E,_){for(var N,A,C,I=y.length/v,L=new Uint8Array(y.length+I),q=d(),Q=0;Q<I;Q+=1){if(C=Q*v,N=y.subarray(C,C+v),_)L.set(_(N,E,A),C+Q);else{for(var B,M=q.length,F=[];B<M;B+=1)F[B]=q[B](N,E,A);var X=m(F.concat());L.set(F[X],C+Q)}A=N}return L},i=function(y){var v=Array.apply([],y);return v.unshift(0),v},s=function(y,v){var E,_=[],N=y.length;_[0]=1;for(var A=0;A<N;A+=1)E=y[A-v]||0,_[A+1]=y[A]-E+256&255;return _},a=function(y,v,E){var _,N=[],A=y.length;N[0]=2;for(var C=0;C<A;C+=1)_=E&&E[C]||0,N[C+1]=y[C]-_+256&255;return N},l=function(y,v,E){var _,N,A=[],C=y.length;A[0]=3;for(var I=0;I<C;I+=1)_=y[I-v]||0,N=E&&E[I]||0,A[I+1]=y[I]+256-(_+N>>>1)&255;return A},u=function(y,v,E){var _,N,A,C,I=[],L=y.length;I[0]=4;for(var q=0;q<L;q+=1)_=y[q-v]||0,N=E&&E[q]||0,A=E&&E[q-v]||0,C=f(_,N,A),I[q+1]=y[q]-C+256&255;return I},f=function(y,v,E){if(y===v&&v===E)return y;var _=Math.abs(v-E),N=Math.abs(y-E),A=Math.abs(y+v-E-E);return _<=N&&_<=A?y:N<=A?v:E},d=function(){return[i,s,a,l,u]},m=function(y){var v=y.map(function(E){return E.reduce(function(_,N){return _+Math.abs(N)},0)});return v.indexOf(Math.min.apply(null,v))};e.processPNG=function(y,v,E,_){var N,A,C,I,L,q,Q,B,M,F,X,W,U,re,oe,le=this.decode.FLATE_DECODE,Ne="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(C=new rZ(y)).imgData,A=C.bits,N=C.colorSpace,L=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){M=(B=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,X=new Uint8Array(M*C.colors),F=new Uint8Array(M);var Ae,de=C.pixelBitlength-C.bits;for(re=0,oe=0;re<M;re++){for(U=B[re],Ae=0;Ae<de;)X[oe++]=U>>>Ae&255,Ae+=C.bits;F[re]=U>>>Ae&255}}if(C.bits===16){M=(B=new Uint32Array(C.decodePixels().buffer)).length,X=new Uint8Array(M*(32/C.pixelBitlength)*C.colors),F=new Uint8Array(M*(32/C.pixelBitlength)),W=C.colors>1,re=0,oe=0;for(var _e=0;re<M;)U=B[re++],X[oe++]=U>>>0&255,W&&(X[oe++]=U>>>16&255,U=B[re++],X[oe++]=U>>>0&255),F[_e++]=U>>>16&255;A=8}_!==e.image_compression.NONE&&t()?(y=r(X,C.width*C.colors,C.colors,_),Q=r(F,C.width,1,_)):(y=X,Q=F,le=void 0)}if(C.colorType===3&&(N=this.color_spaces.INDEXED,q=C.palette,C.transparency.indexed)){var Te=C.transparency.indexed,He=0;for(re=0,M=Te.length;re<M;++re)He+=Te[re];if((He/=255)===M-1&&Te.indexOf(0)!==-1)I=[Te.indexOf(0)];else if(He!==M){for(B=C.decodePixels(),F=new Uint8Array(B.length),re=0,M=B.length;re<M;re++)F[re]=Te[B[re]];Q=r(F,C.width,1)}}var j=function(V){var G;switch(V){case e.image_compression.FAST:G=11;break;case e.image_compression.MEDIUM:G=13;break;case e.image_compression.SLOW:G=14;break;default:G=12}return G}(_);return le===this.decode.FLATE_DECODE&&(Ne="/Predictor "+j+" "),Ne+="/Colors "+L+" /BitsPerComponent "+A+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(Q&&this.__addimage__.isArrayBuffer(Q)||this.__addimage__.isArrayBufferView(Q))&&(Q=this.__addimage__.arrayBufferToBinaryString(Q)),{alias:E,data:y,index:v,filter:le,decodeParameters:Ne,transparency:I,palette:q,sMask:Q,predictor:j,width:C.width,height:C.height,bitsPerComponent:A,colorSpace:N}}}})(lr.API),function(e){e.processGIF89A=function(t,r,n,i){var s=new nZ(t),a=s.width,l=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:a,height:l},d=new Fv(100).encode(f,100);return e.processJPEG.call(this,d,r,n,i)},e.processGIF87A=e.processGIF89A}(lr.API),yo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},yo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Tn.log("bit decode error:"+r)}},yo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var u=this.palette[s>>7-l&1];this.data[a+4*l]=u.blue,this.data[a+4*l+1]=u.green,this.data[a+4*l+2]=u.red,this.data[a+4*l+3]=255}r!==0&&(this.pos+=4-r)}},yo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,l=s>>4,u=15&s,f=this.palette[l];if(this.data[a]=f.blue,this.data[a+1]=f.green,this.data[a+2]=f.red,this.data[a+3]=255,2*i+1>=this.width)break;f=this.palette[u],this.data[a+4]=f.blue,this.data[a+4+1]=f.green,this.data[a+4+2]=f.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},yo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},yo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,u=(s>>10&t)/t*255|0,f=s>>15?255:0,d=n*this.width*4+4*i;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=f}this.pos+=e}},yo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,u=(a>>5&r)/r*255|0,f=(a>>11)/t*255|0,d=i*this.width*4+4*s;this.data[d]=f,this.data[d+1]=u,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},yo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},yo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=a}},yo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var s=new yo(t,!1),a=s.width,l=s.height,u={data:s.getData(),width:a,height:l},f=new Fv(100).encode(u,100);return e.processJPEG.call(this,f,r,n,i)}}(lr.API),EE.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var s=new EE(t),a=s.width,l=s.height,u={data:s.getData(),width:a,height:l},f=new Fv(100).encode(u,100);return e.processJPEG.call(this,f,r,n,i)}}(lr.API),lr.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),l=0,u=0,f=0;f<i;f+=4){var d=n[f],m=n[f+1],y=n[f+2],v=n[f+3];s[l++]=d,s[l++]=m,s[l++]=y,a[u++]=v}var E=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:E,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},lr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},mh=lr.API,mg=mh.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,u=l.fof?l.fof:1,f=t.kerning?t.kerning:i.metadata.Unicode.kerning,d=f.fof?f.fof:1,m=t.doKerning!==!1,y=0,v=e.length,E=0,_=l[0]||u,N=[];for(r=0;r<v;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?N.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(y=m&&wn(f[n])==="object"&&!isNaN(parseInt(f[n][E],10))?f[n][E]/d:0,N.push((l[n]||_)/u+y)),E=n;return N},yE=mh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return mh.processArabic&&(e=mh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:mg.apply(this,arguments).reduce(function(s,a){return s+a},0)},bE=function(e,t,r,n){for(var i=[],s=0,a=e.length,l=0;s!==a&&l+t[s]<r;)l+=t[s],s++;i.push(e.slice(0,s));var u=s;for(l=0;s!==a;)l+t[s]>n&&(i.push(e.slice(u,s)),l=0,u=s),l+=t[s],s++;return u!==s&&i.push(e.slice(u,s)),i},_E=function(e,t,r){r||(r={});var n,i,s,a,l,u,f,d=[],m=[d],y=r.textIndent||0,v=0,E=0,_=e.split(" "),N=mg.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?_[0].length+2:r.lineIndent||0){var A=Array(u).join(" "),C=[];_.map(function(L){(L=L.split(/\s*\n/)).length>1?C=C.concat(L.map(function(q,Q){return(Q&&q.length?`
`:"")+q})):C.push(L[0])}),_=C,u=yE.apply(this,[A,r])}for(s=0,a=_.length;s<a;s++){var I=0;if(n=_[s],u&&n[0]==`
`&&(n=n.substr(1),I=1),y+v+(E=(i=mg.apply(this,[n,r])).reduce(function(L,q){return L+q},0))>t||I){if(E>t){for(l=bE.apply(this,[n,i,t-(y+v),t]),d.push(l.shift()),d=[l.pop()];l.length;)m.push([l.shift()]);E=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(L,q){return L+q},0)}else d=[n];m.push(d),y=E+u,v=N}else d.push(n),y+=v+E,v=N}return f=u?function(L,q){return(q?A:"")+L.join(" ")}:function(L){return L.join(" ")},m.map(f)},mh.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var m=this.internal.getFont(d.fontName,d.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var l,u,f=[];for(l=0,u=n.length;l<u;l++)f=f.concat(_E.apply(this,[n[l],a,s]));return f},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},i=0;i<t.length;i++)r[t[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=t[i];var s=function(m){return"0x"+parseInt(m,10).toString(16)},a=e.__fontmetrics__.compress=function(m){var y,v,E,_,N=["{"];for(var A in m){if(y=m[A],isNaN(parseInt(A,10))?v="'"+A+"'":(A=parseInt(A,10),v=(v=s(A).slice(2)).slice(0,-1)+n[v.slice(-1)]),typeof y=="number")y<0?(E=s(y).slice(3),_="-"):(E=s(y).slice(2),_=""),E=_+E.slice(0,-1)+n[E.slice(-1)];else{if(wn(y)!=="object")throw new Error("Don't know what to do with value type "+wn(y)+".");E=a(y)}N.push(v+E)}return N.push("}"),N.join("")},l=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,v,E,_,N={},A=1,C=N,I=[],L="",q="",Q=m.length-1,B=1;B<Q;B+=1)(_=m[B])=="'"?y?(E=y.join(""),y=void 0):y=[]:y?y.push(_):_=="{"?(I.push([C,E]),C={},E=void 0):_=="}"?((v=I.pop())[0][v[1]]=C,E=void 0,C=v[0]):_=="-"?A=-1:E===void 0?r.hasOwnProperty(_)?(L+=r[_],E=parseInt(L,16)*A,A=1,L=""):L+=_:r.hasOwnProperty(_)?(q+=r[_],C[E]=parseInt(q,16)*A,A=1,E=void 0,q=""):q+=_;return N},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var y=m.font,v=d.Unicode[y.postScriptName];v&&(y.metadata.Unicode={},y.metadata.Unicode.widths=v.widths,y.metadata.Unicode.kerning=v.kerning);var E=f.Unicode[y.postScriptName];E&&(y.metadata.Unicode.encoding=E,y.encoding=E.codePages[0])}])}(lr.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(K0(l)),a.metadata=e.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(lr),function(e){function t(){return(ur.canvg?Promise.resolve(ur.canvg):pu(()=>import("./index.es-BLYTi8Iy.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}lr.API.addSvgAsImage=function(r,n,i,s,a,l,u,f){if(isNaN(n)||isNaN(i))throw Tn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Tn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=a;var m=d.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,d.width,d.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return t().then(function(E){return E.fromString(m,r,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(y)}).then(function(){v.addImage(d.toDataURL("image/jpeg",1),n,i,s,a,u,f)})}}(),lr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},lr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),u=[],f=0,d=0,m=0;function y(E,_){var N,A=!1;for(N=0;N<E.length;N+=1)E[N]===_&&(A=!0);return A}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var v=l.length;for(m=0;m<v;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(wn(e)==="object"){for(i in e)if(s=e[i],y(l,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&y(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(f=0;f<s.length;f+=1)if(n=!0,s[f].length===1&&typeof s[f][0]=="number")u.push(String(s[f]-1));else if(s[f].length>1){for(d=0;d<s[f].length;d+=1)typeof s[f][d]!="number"&&(n=!1);n===!0&&u.push([s[f][0]-1,s[f][1]-1].join(" "))}r[i].value="["+u.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,_=[];for(E in r)r[E].explicitSet===!0&&(r[E].type==="name"?_.push("/"+E+" /"+r[E].value):_.push("/"+E+" "+r[E].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+a.length+l.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+l+u),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(lr.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,a){for(var l,u=a.metadata.Unicode.widths,f=["","0","00","000","0000"],d=[""],m=0,y=s.length;m<y;++m){if(l=a.metadata.characterToGlyph(s.charCodeAt(m)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=s.charCodeAt(m),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(f[4-l.length],l)}return d.join("")},n=function(s){var a,l,u,f,d,m,y;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,y=(l=Object.keys(s).sort(function(v,E){return v-E})).length;m<y;m++)a=l[m],u.length>=100&&(d+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(f=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),u.push("<"+a+"><"+f+">"));return u.length&&(d+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(a){var l=a.font,u=a.out,f=a.newObject,d=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),v="",E=0;E<y.length;E++)v+=String.fromCharCode(y[E]);var _=f();d({data:v,addLength1:!0,objectId:_}),u("endobj");var N=f();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:N}),u("endobj");var A=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+yh(l.fontName)),u("/FontFile2 "+_+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var C=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+yh(l.fontName)),u("/FontDescriptor "+A+" 0 R"),u("/W "+e.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+N+" 0 R"),u("/BaseFont /"+yh(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+C+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(a){var l=a.font,u=a.out,f=a.newObject,d=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,y="",v=0;v<m.length;v++)y+=String.fromCharCode(m[v]);var E=f();d({data:y,addLength1:!0,objectId:E}),u("endobj");var _=f();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:_}),u("endobj");var N=f();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+E+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+yh(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=f();for(var A=0;A<l.metadata.hmtx.widths.length;A++)l.metadata.hmtx.widths[A]=parseInt(l.metadata.hmtx.widths[A]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+yh(l.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,l=s.text||"",u=s.x,f=s.y,d=s.options||{},m=s.mutex||{},y=m.pdfEscape,v=m.activeFontKey,E=m.fonts,_=v,N="",A=0,C="",I=E[_].encoding;if(E[_].encoding!=="Identity-H")return{text:l,x:u,y:f,options:d,mutex:m};for(C=l,_=v,Array.isArray(l)&&(C=l[0]),A=0;A<C.length;A+=1)E[_].metadata.hasOwnProperty("cmap")&&(a=E[_].metadata.cmap.unicode.codeMap[C[A].charCodeAt(0)]),a||C[A].charCodeAt(0)<256&&E[_].metadata.hasOwnProperty("Unicode")?N+=C[A]:N+="";var L="";return parseInt(_.slice(1))<14||I==="WinAnsiEncoding"?L=y(N,_).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(L=r(N,E[_])),m.isHex=!0,{text:L,x:u,y:f,options:d,mutex:m}};t.events.push(["postProcessText",function(s){var a=s.text||"",l=[],u={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var f=0;for(f=0;f<a.length;f+=1)Array.isArray(a[f])&&a[f].length===3?l.push([i(Object.assign({},u,{text:a[f][0]})).text,a[f][1],a[f][2]]):l.push(i(Object.assign({},u,{text:a[f]})).text);s.text=l}else s.text=i(Object.assign({},u,{text:a})).text}])}(lr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(lr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,s,a,l,u,f,d,m=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,I=0;this.__bidiEngine__={};var L=function(W){var U=W.charCodeAt(),re=U>>8,oe=_[re];return oe!==void 0?m[256*oe+(255&U)]:re===252||re===253?"AL":A.test(re)?"L":re===8?"R":"N"},q=function(W){for(var U,re=0;re<W.length;re++){if((U=L(W.charAt(re)))==="L")return!1;if(U==="R")return!0}return!1},Q=function(W,U,re,oe){var le,Ne,Ae,de,_e=U[oe];switch(_e){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(_e="AN");break;case"AL":C=!0,_e="R";break;case"WS":_e="N";break;case"CS":oe<1||oe+1>=U.length||(le=re[oe-1])!=="EN"&&le!=="AN"||(Ne=U[oe+1])!=="EN"&&Ne!=="AN"?_e="N":C&&(Ne="AN"),_e=Ne===le?Ne:"N";break;case"ES":_e=(le=oe>0?re[oe-1]:"B")==="EN"&&oe+1<U.length&&U[oe+1]==="EN"?"EN":"N";break;case"ET":if(oe>0&&re[oe-1]==="EN"){_e="EN";break}if(C){_e="N";break}for(Ae=oe+1,de=U.length;Ae<de&&U[Ae]==="ET";)Ae++;_e=Ae<de&&U[Ae]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(de=U.length,Ae=oe+1;Ae<de&&U[Ae]==="NSM";)Ae++;if(Ae<de){var Te=W[oe],He=Te>=1425&&Te<=2303||Te===64286;if(le=U[Ae],He&&(le==="R"||le==="AL")){_e="R";break}}}_e=oe<1||(le=U[oe-1])==="B"?"N":re[oe-1];break;case"B":C=!1,i=!0,_e=I;break;case"S":s=!0,_e="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":_e="N"}return _e},B=function(W,U,re){var oe=W.split("");return re&&M(oe,re,{hiLevel:I}),oe.reverse(),U&&U.reverse(),oe.join("")},M=function(W,U,re){var oe,le,Ne,Ae,de,_e=-1,Te=W.length,He=0,j=[],V=I?v:y,G=[];for(C=!1,i=!1,s=!1,le=0;le<Te;le++)G[le]=L(W[le]);for(Ne=0;Ne<Te;Ne++){if(de=He,j[Ne]=Q(W,G,j,Ne),oe=240&(He=V[de][E[j[Ne]]]),He&=15,U[Ne]=Ae=V[He][5],oe>0)if(oe===16){for(le=_e;le<Ne;le++)U[le]=1;_e=-1}else _e=-1;if(V[He][6])_e===-1&&(_e=Ne);else if(_e>-1){for(le=_e;le<Ne;le++)U[le]=Ae;_e=-1}G[Ne]==="B"&&(U[Ne]=0),re.hiLevel|=Ae}s&&function(Z,ie,Se){for(var be=0;be<Se;be++)if(Z[be]==="S"){ie[be]=I;for(var Ce=be-1;Ce>=0&&Z[Ce]==="WS";Ce--)ie[Ce]=I}}(G,U,Te)},F=function(W,U,re,oe,le){if(!(le.hiLevel<W)){if(W===1&&I===1&&!i)return U.reverse(),void(re&&re.reverse());for(var Ne,Ae,de,_e,Te=U.length,He=0;He<Te;){if(oe[He]>=W){for(de=He+1;de<Te&&oe[de]>=W;)de++;for(_e=He,Ae=de-1;_e<Ae;_e++,Ae--)Ne=U[_e],U[_e]=U[Ae],U[Ae]=Ne,re&&(Ne=re[_e],re[_e]=re[Ae],re[Ae]=Ne);He=de}He++}}},X=function(W,U,re){var oe=W.split(""),le={hiLevel:I};return re||(re=[]),M(oe,re,le),function(Ne,Ae,de){if(de.hiLevel!==0&&d)for(var _e,Te=0;Te<Ne.length;Te++)Ae[Te]===1&&(_e=N.indexOf(Ne[Te]))>=0&&(Ne[Te]=N[_e+1])}(oe,re,le),F(2,oe,U,re,le),F(1,oe,U,re,le),oe.join("")};return this.__bidiEngine__.doBidiReorder=function(W,U,re){if(function(le,Ne){if(Ne)for(var Ae=0;Ae<le.length;Ae++)Ne[Ae]=Ae;l===void 0&&(l=q(le)),f===void 0&&(f=q(le))}(W,U),a||!u||f)if(a&&u&&l^f)I=l?1:0,W=B(W,U,re);else if(!a&&u&&f)I=l?1:0,W=X(W,U,re),W=B(W,U);else if(!a||l||u||f){if(a&&!u&&l^f)W=B(W,U),l?(I=0,W=X(W,U,re)):(I=1,W=X(W,U,re),W=B(W,U));else if(a&&l&&!u&&f)I=1,W=X(W,U,re),W=B(W,U);else if(!a&&!u&&l^f){var oe=d;l?(I=1,W=X(W,U,re),I=0,d=!1,W=X(W,U,re),d=oe):(I=0,W=X(W,U,re),W=B(W,U),I=1,d=!1,W=X(W,U,re),d=oe,W=B(W,U))}}else I=0,W=X(W,U,re);else I=l?1:0,W=X(W,U,re);return W},this.__bidiEngine__.setOptions=function(W){W&&(a=W.isInputVisual,u=W.isOutputVisual,l=W.isInputRtl,f=W.isOutputRtl,d=W.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(a=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?a.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):a.push([r.doBidiReorder(i[l])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(lr),lr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new yu(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new vZ(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new iZ(this.contents),this.head=new aZ(this),this.name=new fZ(this),this.cmap=new y7(this),this.toUnicode={},this.hhea=new oZ(this),this.maxp=new hZ(this),this.hmtx=new dZ(this),this.post=new cZ(this),this.os2=new lZ(this),this.loca=new xZ(this),this.glyf=new pZ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,u,f;for(f=[],a=0,l=(u=this.bbox).length;a<l;a++)t=u[a],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,s,a,l;for(a=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=t.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var zo,yu=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,s,a,l,u;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^l)+(255^u)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*l+u},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,s;for(s=[],n=0,i=t.length;n<i;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),iZ=function(){var e;function t(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,s,a,l,u,f,d,m,y,v,E,_;for(_ in v=Object.keys(r).length,u=Math.log(2),m=16*Math.floor(Math.log(v)/u),a=Math.floor(m/u),d=16*v-m,(i=new yu).writeInt(this.scalarType),i.writeShort(v),i.writeShort(m),i.writeShort(a),i.writeShort(d),s=16*v,f=i.pos+s,l=null,E=[],r)for(y=r[_],i.writeString(_),i.writeInt(e(y)),i.writeInt(f),i.writeInt(y.length),E=E.concat(y),_==="head"&&(l=f),f+=y.length;f%4;)E.push(0),f++;return i.write(E),n=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(n),i.data},e=function(r){var n,i,s,a;for(r=b7.call(r);r.length%4;)r.push(0);for(s=new yu(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},t}(),sZ={}.hasOwnProperty,wl=function(e,t){for(var r in t)sZ.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};zo=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var aZ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wl(t,zo),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new yu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),AE=function(){function e(t,r){var n,i,s,a,l,u,f,d,m,y,v,E,_,N,A,C,I;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(v=t.readUInt16(),y=v/2,t.pos+=6,s=function(){var L,q;for(q=[],u=L=0;0<=y?L<y:L>y;u=0<=y?++L:--L)q.push(t.readUInt16());return q}(),t.pos+=2,_=function(){var L,q;for(q=[],u=L=0;0<=y?L<y:L>y;u=0<=y?++L:--L)q.push(t.readUInt16());return q}(),f=function(){var L,q;for(q=[],u=L=0;0<=y?L<y:L>y;u=0<=y?++L:--L)q.push(t.readUInt16());return q}(),d=function(){var L,q;for(q=[],u=L=0;0<=y?L<y:L>y;u=0<=y?++L:--L)q.push(t.readUInt16());return q}(),i=(this.length-t.pos+this.offset)/2,l=function(){var L,q;for(q=[],u=L=0;0<=i?L<i:L>i;u=0<=i?++L:--L)q.push(t.readUInt16());return q}(),u=A=0,I=s.length;A<I;u=++A)for(N=s[u],n=C=E=_[u];E<=N?C<=N:C>=N;n=E<=N?++C:--C)d[u]===0?a=n+f[u]:(a=l[d[u]/2+(n-E)-(y-u)]||0)!==0&&(a+=f[u]),this.codeMap[n]=65535&a}t.pos=m}return e.encode=function(t,r){var n,i,s,a,l,u,f,d,m,y,v,E,_,N,A,C,I,L,q,Q,B,M,F,X,W,U,re,oe,le,Ne,Ae,de,_e,Te,He,j,V,G,Z,ie,Se,be,Ce,Pe,Re,Ge;switch(oe=new yu,a=Object.keys(t).sort(function(Qe,ct){return Qe-ct}),r){case"macroman":for(_=0,N=function(){var Qe=[];for(E=0;E<256;++E)Qe.push(0);return Qe}(),C={0:0},s={},le=0,_e=a.length;le<_e;le++)C[Ce=t[i=a[le]]]==null&&(C[Ce]=++_),s[i]={old:t[i],new:C[t[i]]},N[i]=C[t[i]];return oe.writeUInt16(1),oe.writeUInt16(0),oe.writeUInt32(12),oe.writeUInt16(0),oe.writeUInt16(262),oe.writeUInt16(0),oe.write(N),{charMap:s,subtable:oe.data,maxGlyphID:_+1};case"unicode":for(U=[],m=[],I=0,C={},n={},A=f=null,Ne=0,Te=a.length;Ne<Te;Ne++)C[q=t[i=a[Ne]]]==null&&(C[q]=++I),n[i]={old:q,new:C[q]},l=C[q]-i,A!=null&&l===f||(A&&m.push(A),U.push(i),f=l),A=i;for(A&&m.push(A),m.push(65535),U.push(65535),X=2*(F=U.length),M=2*Math.pow(Math.log(F)/Math.LN2,2),y=Math.log(M/2)/Math.LN2,B=2*F-M,u=[],Q=[],v=[],E=Ae=0,He=U.length;Ae<He;E=++Ae){if(W=U[E],d=m[E],W===65535){u.push(0),Q.push(0);break}if(W-(re=n[W].new)>=32768)for(u.push(0),Q.push(2*(v.length+F-E)),i=de=W;W<=d?de<=d:de>=d;i=W<=d?++de:--de)v.push(n[i].new);else u.push(re-W),Q.push(0)}for(oe.writeUInt16(3),oe.writeUInt16(1),oe.writeUInt32(12),oe.writeUInt16(4),oe.writeUInt16(16+8*F+2*v.length),oe.writeUInt16(0),oe.writeUInt16(X),oe.writeUInt16(M),oe.writeUInt16(y),oe.writeUInt16(B),Se=0,j=m.length;Se<j;Se++)i=m[Se],oe.writeUInt16(i);for(oe.writeUInt16(0),be=0,V=U.length;be<V;be++)i=U[be],oe.writeUInt16(i);for(Pe=0,G=u.length;Pe<G;Pe++)l=u[Pe],oe.writeUInt16(l);for(Re=0,Z=Q.length;Re<Z;Re++)L=Q[Re],oe.writeUInt16(L);for(Ge=0,ie=v.length;Ge<ie;Ge++)_=v[Ge],oe.writeUInt16(_);return{charMap:n,subtable:oe.data,maxGlyphID:I+1}}},e}(),y7=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wl(t,zo),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new AE(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=AE.encode(r,n),(s=new yu).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),oZ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wl(t,zo),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),lZ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wl(t,zo),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),cZ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wl(t,zo),t.prototype.tag="post",t.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(i=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var l,u,f;for(f=[],a=l=0,u=this.file.maxp.numGlyphs;0<=u?l<u:l>u;a=0<=u?++l:--l)f.push(r.readUInt32());return f}).call(this)}},t}(),uZ=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},fZ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wl(t,zo),t.prototype.tag="name",t.prototype.parse=function(r){var n,i,s,a,l,u,f,d,m,y,v;for(r.pos=this.offset,r.readShort(),n=r.readShort(),u=r.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+u+r.readShort()});for(f={},a=m=0,y=i.length;m<y;a=++m)s=i[a],r.pos=s.offset,d=r.readString(s.length),l=new uZ(d,s),f[v=s.nameID]==null&&(f[v]=[]),f[s.nameID].push(l);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t}(),hZ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wl(t,zo),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),dZ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wl(t,zo),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,i,s,a,l,u,f;for(r.pos=this.offset,this.metrics=[],n=0,u=this.file.hhea.numberOfMetrics;0<=u?n<u:n>u;n=0<=u?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,m;for(m=[],n=d=0;0<=s?d<s:d>s;n=0<=s?++d:--d)m.push(r.readInt16());return m}(),this.widths=(function(){var d,m,y,v;for(v=[],d=0,m=(y=this.metrics).length;d<m;d++)a=y[d],v.push(a.advance);return v}).call(this),i=this.widths[this.widths.length-1],f=[],n=l=0;0<=s?l<s:l>s;n=0<=s?++l:--l)f.push(this.widths.push(i));return f},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),b7=[].slice,pZ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wl(t,zo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,i,s,a,l,u,f,d,m,y;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(r),(s=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,l=(u=new yu(n.read(s))).readShort(),d=u.readShort(),y=u.readShort(),f=u.readShort(),m=u.readShort(),this.cache[r]=l===-1?new mZ(u,d,y,f,m):new gZ(u,l,d,y,f,m),this.cache[r]))},t.prototype.encode=function(r,n,i){var s,a,l,u,f;for(l=[],a=[],u=0,f=n.length;u<f;u++)s=r[n[u]],a.push(l.length),s&&(l=l.concat(s.encode(i)));return a.push(l.length),{table:l,offsets:a}},t}(),gZ=function(){function e(t,r,n,i,s,a){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),mZ=function(){function e(t,r,n,i,s){var a,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new yu(b7.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),xZ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wl(t,zo),t.prototype.tag="loca",t.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(r.readUInt32());return a}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,l=0;l<i.length;++l)if(i[l]=s,a<n.length&&n[a]==l){++a,i[l]=s;var u=this.offsets[l],f=this.offsets[l+1]-u;f>0&&(s+=f)}for(var d=new Array(4*i.length),m=0;m<i.length;++m)d[4*m+3]=255&i[m],d[4*m+2]=(65280&i[m])>>8,d[4*m+1]=(16711680&i[m])>>16,d[4*m]=(4278190080&i[m])>>24;return d},t}(),vZ=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,s,a,l,u;for(i={},a=0,l=t.length;a<l;a++)i[s=t[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in u=this.glyphsFor(r))n=u[s],i[s]=n;return i},e.prototype.encode=function(t,r){var n,i,s,a,l,u,f,d,m,y,v,E,_,N,A;for(i in n=y7.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),v={0:0},A=n.charMap)v[(u=A[i]).old]=u.new;for(E in y=n.maxGlyphID,a)E in v||(v[E]=y++);return d=function(C){var I,L;for(I in L={},C)L[C[I]]=I;return L}(v),m=Object.keys(d).sort(function(C,I){return C-I}),_=function(){var C,I,L;for(L=[],C=0,I=m.length;C<I;C++)l=m[C],L.push(d[l]);return L}(),s=this.font.glyf.encode(a,_,v),f=this.font.loca.encode(s.offsets,_),N={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},e}();lr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var l,u,f;for(f=[],l=0,u=r.length;l<u;l++)n=r[l],f.push(t.convert(n));return f}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+t.convert(a));return s.push(">>"),s.join(`
`)}return""+r},t}();function _7(e,t,r,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,l=i.internal.getFontSize()/a,u=i.getLineHeightFactor?i.getLineHeightFactor():s,f=l*u,d=/\r\n|\r|\n/g,m="",y=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(m=typeof e=="string"?e.split(d):e,y=m.length||1),r+=l*(2-s),n.valign==="middle"?r-=y/2*f:n.valign==="bottom"&&(r-=y*f),n.halign==="center"||n.halign==="right"){var v=l;if(n.halign==="center"&&(v*=.5),m&&y>=1){for(var E=0;E<m.length;E++)i.text(m[E],t-i.getStringUnitWidth(m[E])*v,r),r+=f;return i}t-=i.getStringUnitWidth(e)*v}return n.halign==="justify"?i.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(e,t,r),i}var CE={},rd=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:CE=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,i,s;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var a=this.jsPDFDocument.internal.getFont(),l=a.fontStyle,u=a.fontName;if(t.font&&(u=t.font),t.fontStyle){l=t.fontStyle;var f=this.getFontList()[u];f&&f.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),l=f[0])}if(this.jsPDFDocument.setFont(u,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(i=this.jsPDFDocument).setTextColor.apply(i,d),d=e.unifyColor(t.lineColor),d&&(s=this.jsPDFDocument).setDrawColor.apply(s,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,i,s){return this.jsPDFDocument.rect(t,r,n,i,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return CE||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),Ry=function(e,t){return Ry=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ry(e,t)};function S7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ry(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var E7=function(e){S7(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function wZ(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function yZ(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Vm(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],i=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function A7(e,t,r,n){var i=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:s});var a=C7(i,!1);a&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,a)}function C7(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function Q2(e,t){var r,n,i,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function N7(e,t){var r=Q2(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function bZ(e,t,r,n,i){var s={},a=1.3333333333333333,l=Mv(t,function(I){return i.getComputedStyle(I).backgroundColor});l!=null&&(s.fillColor=l);var u=Mv(t,function(I){return i.getComputedStyle(I).color});u!=null&&(s.textColor=u);var f=SZ(n,r);f&&(s.cellPadding=f);var d="borderTopColor",m=a*r,y=n.borderTopWidth;if(n.borderBottomWidth===y&&n.borderRightWidth===y&&n.borderLeftWidth===y){var v=(parseFloat(y)||0)/m;v&&(s.lineWidth=v)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/m,right:(parseFloat(n.borderRightWidth)||0)/m,bottom:(parseFloat(n.borderBottomWidth)||0)/m,left:(parseFloat(n.borderLeftWidth)||0)/m},s.lineWidth.top||(s.lineWidth.right?d="borderRightColor":s.lineWidth.bottom?d="borderBottomColor":s.lineWidth.left&&(d="borderLeftColor"));var E=Mv(t,function(I){return i.getComputedStyle(I)[d]});E!=null&&(s.lineColor=E);var _=["left","right","center","justify"];_.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),_=["middle","bottom","top"],_.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var N=parseInt(n.fontSize||"");isNaN(N)||(s.fontSize=N/a);var A=_Z(n);A&&(s.fontStyle=A);var C=(n.fontFamily||"").toLowerCase();return e.indexOf(C)!==-1&&(s.font=C),s}function _Z(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Mv(e,t){var r=T7(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function T7(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:T7(e.parentElement,t):r}function SZ(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=r.map(function(l){return parseInt(l||"0")/n}),a=Q2(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function I7(e,t,r,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var u=Object.keys(e.getFontList()),f=e.scaleFactor(),d=[],m=[],y=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:d,body:m,foot:y};for(var v=0;v<l.rows.length;v++){var E=l.rows[v],_=(a=(s=E==null?void 0:E.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),N=EZ(u,f,r,E,n,i);N&&(_==="thead"?d.push(N):_==="tfoot"?y.push(N):m.push(N))}return{head:d,body:m,foot:y}}function EZ(e,t,r,n,i,s){for(var a=new E7(n),l=0;l<n.cells.length;l++){var u=n.cells[l],f=r.getComputedStyle(u);if(i||f.display!=="none"){var d=void 0;s&&(d=bZ(e,u,t,f,r)),a.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:d,_element:u,content:AZ(u)})}}var m=r.getComputedStyle(n);if(a.length>0&&(i||m.display!=="none"))return a}function AZ(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function CZ(e,t,r){for(var n=0,i=[e,t,r];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function zl(e,t,r,n,i){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),a=1;a<arguments.length;a++){var l=arguments[a];if(l!=null)for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s}function k7(e,t){var r=new rd(e),n=r.getDocumentOptions(),i=r.getGlobalOptions();CZ(i,n,t);var s=zl({},i,n,t),a;typeof window<"u"&&(a=window);var l=NZ(i,n,t),u=TZ(i,n,t),f=IZ(r,s),d=PZ(r,s,a);return{id:t.tableId,content:d,hooks:u,styles:l,settings:f}}function NZ(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(u){if(u==="columnStyles"){var f=e[u],d=t[u],m=r[u];n.columnStyles=zl({},f,d,m)}else{var y=[e,t,r],v=y.map(function(E){return E[u]||{}});n[u]=zl({},v[0],v[1],v[2])}},s=0,a=Object.keys(n);s<a.length;s++){var l=a[s];i(l)}return n}function TZ(e,t,r){for(var n=[e,t,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var l=a[s];l.didParseCell&&i.didParseCell.push(l.didParseCell),l.willDrawCell&&i.willDrawCell.push(l.willDrawCell),l.didDrawCell&&i.didDrawCell.push(l.didDrawCell),l.willDrawPage&&i.willDrawPage.push(l.willDrawPage),l.didDrawPage&&i.didDrawPage.push(l.didDrawPage)}return i}function IZ(e,t){var r,n,i,s,a,l,u,f,d,m,y,v,E=Q2(t.margin,40/e.scaleFactor()),_=(r=kZ(e,t.startY))!==null&&r!==void 0?r:E.top,N;t.showFoot===!0?N="everyPage":t.showFoot===!1?N="never":N=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var A;t.showHead===!0?A="everyPage":t.showHead===!1?A="never":A=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var C=(s=t.useCss)!==null&&s!==void 0?s:!1,I=t.theme||(C?"plain":"striped"),L=!!t.horizontalPageBreak,q=(a=t.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:C,theme:I,startY:_,margin:E,pageBreak:(u=t.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(f=t.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:A,showFoot:N,tableLineWidth:(m=t.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(y=t.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:L,horizontalPageBreakRepeat:q,horizontalPageBreakBehaviour:(v=t.horizontalPageBreakBehaviour)!==null&&v!==void 0?v:"afterAllRows"}}function kZ(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),i=e.pageNumber(),s=!1;if(r&&r.startPageNumber){var a=r.startPageNumber+r.pageNumber-1;s=a===i}return typeof t=="number"?t:(t==null||t===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function PZ(e,t,r){var n=t.head||[],i=t.body||[],s=t.foot||[];if(t.html){var a=t.includeHiddenHtml;if(r){var l=I7(e,t.html,r,a,t.useCss)||{};n=l.head||n,i=l.body||n,s=l.foot||n}else console.error("Cannot parse html in non browser environment")}var u=t.columns||OZ(n,i,s);return{columns:u,head:n,body:i,foot:s}}function OZ(e,t,r){var n=e[0]||t[0]||r[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,l;Array.isArray(n)?l=n[parseInt(s)]:l=n[s],typeof l=="object"&&!Array.isArray(l)&&(a=(l==null?void 0:l.colSpan)||1);for(var u=0;u<a;u++){var f=void 0;Array.isArray(n)?f=i.length:f=s+(u>0?"_".concat(u):"");var d={dataKey:f};i.push(d)}}),i}var Ly=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),RZ=function(e){S7(t,e);function t(r,n,i,s,a,l){var u=e.call(this,r,n,l)||this;return u.cell=i,u.row=s,u.column=a,u.section=s.section,u}return t}(Ly),LZ=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,i,s,a){for(var l=0,u=r;l<u.length;l++){var f=u[l],d=new RZ(t,this,n,i,s,a),m=f(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],m)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new Ly(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new Ly(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),P7=function(){function e(t,r,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof E7&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,i){var s;return Math.max(n,((s=r.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var l=r.getLineHeight(a.styles.fontSize),u=a.padding("vertical"),f=u+l;return f>i?f:i},0)},e}(),O7=function(){function e(t,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",l=/\r\n|\r|\n/g;this.text=a.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*r,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=Q2(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),DZ=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,i=t.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(r=Math.max(r,a.styles.cellWidth))}return r},e}();function FZ(e,t){MZ(e,t);var r=[],n=0;t.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(t);a?s.width=a:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var i=t.getWidth(e.pageSize().width)-n;i&&(i=Dy(r,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=Dy(r,i,function(s){return s.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),BZ(t),UZ(t,e),jZ(t)}function MZ(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,i=N7(e,t);t.allRows().forEach(function(s){for(var a=0,l=t.columns;a<l.length;a++){var u=l[a],f=s.cells[u.index];if(f){var d=t.hooks.didParseCell;t.callCellHooks(e,d,f,s,u,null);var m=f.padding("horizontal");f.contentWidth=Vm(f.text,f.styles,e)+m;var y=Vm(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,e);if(f.minReadableWidth=y+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||n===!0)f.contentWidth>i?(f.minWidth=i,f.wrappedWidth=i):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var v=10/r;f.minWidth=f.styles.minCellWidth||v,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),t.allRows().forEach(function(s){for(var a=0,l=t.columns;a<l.length;a++){var u=l[a],f=s.cells[u.index];if(f&&f.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,f.wrappedWidth),u.minWidth=Math.max(u.minWidth,f.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,f.minReadableWidth);else{var d=t.styles.columnStyles[u.dataKey]||t.styles.columnStyles[u.index]||{},m=d.cellWidth||d.minCellWidth;m&&typeof m=="number"&&(u.minWidth=m,u.wrappedWidth=m)}f&&(f.colSpan>1&&!u.minWidth&&(u.minWidth=f.minWidth),f.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=f.minWidth))}})}function Dy(e,t,r){for(var n=t,i=e.reduce(function(v,E){return v+E.wrappedWidth},0),s=0;s<e.length;s++){var a=e[s],l=a.wrappedWidth/i,u=n*l,f=a.width+u,d=r(a),m=f<d?d:f;t-=m-a.width,a.width=m}if(t=Math.round(t*1e10)/1e10,t){var y=e.filter(function(v){return t<0?v.width>r(v):!0});y.length&&(t=Dy(y,t,r))}return t}function jZ(e){for(var t={},r=1,n=e.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,l=e.columns;a<l.length;a++){var u=l[a],f=t[u.index];if(r>1)r--,delete s.cells[u.index];else if(f)f.cell.height+=s.height,r=f.cell.colSpan,delete s.cells[u.index],f.left--,f.left<=1&&delete t[u.index];else{var d=s.cells[u.index];if(!d)continue;if(d.height=s.height,d.rowSpan>1){var m=n.length-i,y=d.rowSpan>m?m:d.rowSpan;t[u.index]={cell:d,left:y,row:s}}}}}function BZ(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],i=null,s=0,a=0,l=0;l<e.columns.length;l++){var u=e.columns[l];if(a-=1,a>1&&e.columns[l+1])s+=u.width,delete n.cells[u.index];else if(i){var f=i;delete n.cells[u.index],i=null,f.width=u.width+s}else{var f=n.cells[u.index];if(!f)continue;if(a=f.colSpan,s=0,f.colSpan>1){i=f,s+=u.width;continue}f.width=u.width+s}}}function UZ(e,t){for(var r={count:0,height:0},n=0,i=e.allRows();n<i.length;n++){for(var s=i[n],a=0,l=e.columns;a<l.length;a++){var u=l[a],f=s.cells[u.index];if(f){t.applyStyles(f.styles,!0);var d=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=t.splitTextToSize(f.text,d+1/t.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=NE(f.text,d,f.styles,t,"...");else if(f.styles.overflow==="hidden")f.text=NE(f.text,d,f.styles,t,"");else if(typeof f.styles.overflow=="function"){var m=f.styles.overflow(f.text,d);typeof m=="string"?f.text=[m]:f.text=m}f.contentHeight=f.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var y=f.contentHeight/f.rowSpan;f.rowSpan>1&&r.count*r.height<y*f.rowSpan?r={height:y,count:f.rowSpan}:r&&r.count>0&&r.height>y&&(y=r.height),y>s.height&&(s.height=y)}}r.count--}}function NE(e,t,r,n,i){return e.map(function(s){return WZ(s,t,r,n,i)})}function WZ(e,t,r,n,i){var s=1e4*n.scaleFactor();if(t=Math.ceil(t*s)/s,t>=Vm(e,r,n))return e;for(;t<Vm(e+i,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function R7(e,t){var r=new rd(e),n=zZ(t,r.scaleFactor()),i=new LZ(t,n);return FZ(r,i),r.applyStyles(r.userStyles),i}function zZ(e,t){var r=e.content,n=VZ(r.columns);if(r.head.length===0){var i=TE(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=TE(n,"foot");i&&r.foot.push(i)}var s=e.settings.theme,a=e.styles;return{columns:n,head:jv("head",r.head,n,a,s,t),body:jv("body",r.body,n,a,s,t),foot:jv("foot",r.foot,n,a,s,t)}}function jv(e,t,r,n,i,s){var a={},l=t.map(function(u,f){for(var d=0,m={},y=0,v=0,E=0,_=r;E<_.length;E++){var N=_[E];if(a[N.index]==null||a[N.index].left===0)if(v===0){var A=void 0;Array.isArray(u)?A=u[N.index-y-d]:A=u[N.dataKey];var C={};typeof A=="object"&&!Array.isArray(A)&&(C=(A==null?void 0:A.styles)||{});var I=qZ(e,N,f,i,n,s,C),L=new O7(A,I,e);m[N.dataKey]=L,m[N.index]=L,v=L.colSpan-1,a[N.index]={left:L.rowSpan-1,times:v}}else v--,y++;else a[N.index].left--,v=a[N.index].times,d++}return new P7(u,f,e,m)});return l}function TE(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var i=HZ(t,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function HZ(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function VZ(e){return e.map(function(t,r){var n,i;return typeof t=="object"?i=(n=t.dataKey)!==null&&n!==void 0?n:r:i=r,new DZ(i,t,r)})}function qZ(e,t,r,n,i,s,a){var l=yZ(n),u;e==="head"?u=i.headStyles:e==="body"?u=i.bodyStyles:e==="foot"&&(u=i.footStyles);var f=zl({},l.table,l[e],i.styles,u),d=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},m=e==="body"?d:{},y=e==="body"&&r%2===0?zl({},l.alternateRow,i.alternateRowStyles):{},v=wZ(s),E=zl({},v,f,y,m);return zl(E,a)}function GZ(e,t,r){var n;r===void 0&&(r={});var i=N7(e,t),s=new Map,a=[],l=[],u=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?u=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(u=[t.settings.horizontalPageBreakRepeat]),u.forEach(function(y){var v=t.columns.find(function(E){return E.dataKey===y||E.index===y});v&&!s.has(v.index)&&(s.set(v.index,!0),a.push(v.index),l.push(t.columns[v.index]),i-=v.wrappedWidth)});for(var f=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(s.has(d)){d++;continue}var m=t.columns[d].wrappedWidth;if(f||i>=m)f=!1,a.push(d),l.push(t.columns[d]),i-=m;else break;d++}return{colIndexes:a,columns:l,lastIndex:d-1}}function $Z(e,t){for(var r=[],n=0;n<t.columns.length;n++){var i=GZ(e,t,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function L7(e,t){var r=t.settings,n=r.startY,i=r.margin,s={x:i.left,y:n},a=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=n+i.bottom+a;if(r.pageBreak==="avoid"){var u=t.body,f=u.reduce(function(y,v){return y+v.height},0);l+=f}var d=new rd(e);(r.pageBreak==="always"||r.startY!=null&&l>d.pageSize().height)&&(F7(d),s.y=i.top),t.callWillDrawPageHooks(d,s);var m=zl({},s);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?XZ(d,t,m,s):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(y){return tc(d,t,y,s,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(y,v){var E=v===t.body.length-1;qm(d,t,y,E,m,s,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(y){return tc(d,t,y,s,t.columns)})),A7(d,t,m,s),t.callEndPageHooks(d,s),t.finalY=s.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function XZ(e,t,r,n){var i=$Z(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(f,d){e.applyStyles(e.userStyles),d>0?Q0(e,t,r,n,f.columns,!0):IE(e,t,n,f.columns),YZ(e,t,r,n,f.columns),Bv(e,t,n,f.columns)});else for(var a=-1,l=i[0],u=function(){var f=a;if(l){e.applyStyles(e.userStyles);var d=l.columns;a>=0?Q0(e,t,r,n,d,!0):IE(e,t,n,d),f=kE(e,t,a+1,n,d),Bv(e,t,n,d)}var m=f-a;i.slice(1).forEach(function(y){e.applyStyles(e.userStyles),Q0(e,t,r,n,y.columns,!0),kE(e,t,a+1,n,y.columns,m),Bv(e,t,n,y.columns)}),a=f};a<t.body.length-1;)u()}function IE(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(s){return tc(e,t,s,r,n)})}function YZ(e,t,r,n,i){e.applyStyles(e.userStyles),t.body.forEach(function(s,a){var l=a===t.body.length-1;qm(e,t,s,l,r,n,i)})}function kE(e,t,r,n,i,s){e.applyStyles(e.userStyles),s=s??t.body.length;var a=Math.min(r+s,t.body.length),l=-1;return t.body.slice(r,a).forEach(function(u,f){var d=r+f===t.body.length-1,m=D7(e,t,d,n);u.canEntireRowFit(m,i)&&(tc(e,t,u,n,i),l=r+f)}),l}function Bv(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(s){return tc(e,t,s,r,n)})}function KZ(e,t,r){var n=r.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),s=Math.floor((t-i)/n);return Math.max(0,s)}function QZ(e,t,r,n){var i={};e.spansMultiplePages=!0,e.height=0;for(var s=0,a=0,l=r.columns;a<l.length;a++){var u=l[a],f=e.cells[u.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var d=new O7(f.raw,f.styles,f.section);d=zl(d,f),d.text=[];var m=KZ(f,t,n);f.text.length>m&&(d.text=f.text.splice(m,f.text.length));var y=n.scaleFactor(),v=n.getLineHeightFactor();f.contentHeight=f.getContentHeight(y,v),f.contentHeight>=t&&(f.contentHeight=t,d.styles.minCellHeight-=t),f.contentHeight>e.height&&(e.height=f.contentHeight),d.contentHeight=d.getContentHeight(y,v),d.contentHeight>s&&(s=d.contentHeight),i[u.index]=d}}var E=new P7(e.raw,-1,e.section,i,!0);E.height=s;for(var _=0,N=r.columns;_<N.length;_++){var u=N[_],d=E.cells[u.index];d&&(d.height=E.height);var f=e.cells[u.index];f&&(f.height=e.height)}return E}function ZZ(e,t,r,n){var i=e.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,l=i-a;t.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var u=t.getMinimumRowHeight(n.columns,e),f=u<r;if(u>l)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var d=t.hasRowSpan(n.columns),m=t.getMaxCellHeight(n.columns)>l;return m?(d&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function qm(e,t,r,n,i,s,a){var l=D7(e,t,n,s);if(r.canEntireRowFit(l,a))tc(e,t,r,s,a);else if(ZZ(e,r,l,t)){var u=QZ(r,l,t,e);tc(e,t,r,s,a),Q0(e,t,i,s,a),qm(e,t,u,n,i,s,a)}else Q0(e,t,i,s,a),qm(e,t,r,n,i,s,a)}function tc(e,t,r,n,i){n.x=t.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var l=a[s],u=r.cells[l.index];if(!u){n.x+=l.width;continue}e.applyStyles(u.styles),u.x=n.x,u.y=n.y;var f=t.callCellHooks(e,t.hooks.willDrawCell,u,r,l,n);if(f===!1){n.x+=l.width;continue}JZ(e,u,n);var d=u.getTextPos();_7(u.text,d.x,d.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,u,r,l,n),n.x+=l.width}n.y+=r.height}function JZ(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=C7(n.lineWidth,n.fillColor);i&&e.rect(t.x,r.y,t.width,t.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),eJ(e,t,r,n.lineWidth))}function eJ(e,t,r,n){var i,s,a,l;n.top&&(i=r.x,s=r.y,a=r.x+t.width,l=r.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),u(n.top,i,s,a,l)),n.bottom&&(i=r.x,s=r.y+t.height,a=r.x+t.width,l=r.y+t.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),u(n.bottom,i,s,a,l)),n.left&&(i=r.x,s=r.y,a=r.x,l=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(l+=.5*n.bottom),u(n.left,i,s,a,l)),n.right&&(i=r.x+t.width,s=r.y,a=r.x+t.width,l=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(l+=.5*n.bottom),u(n.right,i,s,a,l));function u(f,d,m,y,v){e.getDocument().setLineWidth(f),e.getDocument().line(d,m,y,v,"S")}}function D7(e,t,r,n){var i=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-i}function Q0(e,t,r,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(l){return tc(e,t,l,n,i)}),t.callEndPageHooks(e,n);var a=t.settings.margin;A7(e,t,r,n),F7(e),t.pageNumber++,n.x=a.left,n.y=a.top,r.y=a.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return tc(e,t,l,n,i)}),e.applyStyles(e.userStyles))}function F7(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function tJ(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],i=k7(this,n),s=R7(this,i);return L7(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,i){_7(t,r,n,i,this)},e.API.autoTableSetDefaults=function(t){return rd.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){rd.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new rd(this),s=I7(i,t,window,r,!1),a=s.head,l=s.body,u=((n=a[0])===null||n===void 0?void 0:n.map(function(f){return f.content}))||[];return{columns:u,rows:l,data:l}}}var Uv;function rJ(e,t){var r=k7(e,t),n=R7(e,r);L7(e,n)}try{if(typeof window<"u"&&window){var PE=window,OE=PE.jsPDF||((Uv=PE.jspdf)===null||Uv===void 0?void 0:Uv.jsPDF);OE&&tJ(OE)}}catch(e){console.error("Could not apply autoTable plugin",e)}const nJ=["Nome","Cdigo","Status","Localizao","Valor","Data de Aquisio","Fabricante","Modelo","Cor","Nmero de Srie","Capacidade","Voltagem","Condies","Detentor","Origem","Inalienvel","Observaes"],Wv=["Nome","Cdigo","Status","Localizao","Valor","Data de Aquisio","Fabricante","Modelo","Cor","Nmero de Srie","Capacidade","Voltagem","Condies","Detentor","Origem","Inalienvel","Observaes"];function iJ(){const[e,t]=D.useState(!1),r=v=>{let E=pr.from("assets").select("*").order("created_at",{ascending:!1});return v.search&&(E=E.or(`name.ilike.%${v.search}%,code.ilike.%${v.search}%`)),v.statusFilter!=="all"&&(E=E.eq("status",v.statusFilter)),v.locationFilter!=="all"&&(E=E.eq("location",v.locationFilter)),E},n=v=>{if(v==null)return"";const E=String(v);return E.includes(",")?`"${E.replace(/"/g,'""')}"`:E},i=v=>{const E=v.map(_=>[_.name,_.code,_.status,_.location||"",_.value||"",_.acquisition_date||"",_.manufacturer||"",_.model||"",_.color||"",_.serial_number||"",_.capacity||"",_.voltage||"",_.condition||"",_.holder||"",_.origin||"",_.inalienable?"Sim":"No",_.notes||""].map(n));return[nJ.join(","),...E.map(_=>_.join(","))].join(`
`)},s=v=>v.map(E=>[E.name,E.code,E.status,E.location||"",E.value||"",E.acquisition_date||"",E.manufacturer||"",E.model||"",E.color||"",E.serial_number||"",E.capacity||"",E.voltage||"",E.condition||"",E.holder||"",E.origin||"",E.inalienable?"Sim":"No",E.notes||""]),a=(v,E,_)=>{const N=new Date,C=new Date(N.getTime()-3*60*60*1e3).toISOString().replace("T","_").slice(0,16).replace(":","")+"h";let I="";return _&&(_.statusFilter&&_.statusFilter!=="all"&&(I+=`_status-${_.statusFilter}`),_.locationFilter&&_.locationFilter!=="all"&&(I+=`_local-${_.locationFilter.replace(/\s+/g,"")}`),_.search&&(I+=`_busca-${_.search.replace(/\s+/g,"")}`)),`ativos_${v}_${C}${I}.${E}`},l=(v,E)=>{const _=new Blob([v],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),A=URL.createObjectURL(_);N.setAttribute("href",A),N.setAttribute("download",E),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N)},u=(v,E)=>{cQ(v,E)},f=async v=>{t(!0);try{const E=r(v),{data:_,error:N}=await E;if(N||!_||_.length===0)throw new Error("Nenhum ativo encontrado para exportar");const A=i(_),C=a(v.companyName,"csv",v);l(A,C)}finally{t(!1)}},d=async v=>{t(!0);try{const E=r(v),{data:_,error:N}=await E;if(N||!_||_.length===0)throw new Error("Nenhum ativo encontrado para exportar");const A=s(_),C=Nv.aoa_to_sheet([Wv,...A]),I=Wv.map(Q=>({wch:Math.max(Q.length,15)}));C["!cols"]=I;const L=Nv.book_new();Nv.book_append_sheet(L,C,"Ativos");const q=a(v.companyName,"xlsx",v);u(L,q)}finally{t(!1)}},m=async v=>{t(!0);try{const E=r(v),{data:_,error:N}=await E;if(N||!_||_.length===0)throw new Error("Nenhum ativo encontrado para exportar");const A=_.map(Q=>[Q.name||"",Q.code||"",Q.status||"",Q.location||"",Q.value||"",Q.acquisition_date||"",Q.manufacturer||"",Q.model||"",Q.color||"",Q.serial_number||"",Q.capacity||"",Q.voltage||"",Q.condition||"",Q.holder||"",Q.origin||"",Q.inalienable?"Sim":"No",Q.notes||""]),C=new lr({orientation:"landscape",unit:"mm",format:"a4"}),I=C.internal.pageSize.getWidth();C.setFontSize(12),C.text(`Relatrio de Ativos - ${v.companyName}`,10,14),C.setFontSize(10),C.text(`Gerado em: ${new Date().toLocaleDateString("pt-BR")} s ${new Date().toLocaleTimeString("pt-BR")}`,10,21),rJ(C,{startY:26,head:[Wv],body:A,styles:{fontSize:7,cellPadding:1.5},headStyles:{fillColor:[240,240,240],textColor:30,fontStyle:"bold"},bodyStyles:{textColor:50},columnStyles:{0:{cellWidth:44},1:{cellWidth:12},2:{cellWidth:13},3:{cellWidth:18},4:{cellWidth:12},5:{cellWidth:15},6:{cellWidth:17},7:{cellWidth:13},8:{cellWidth:11},9:{cellWidth:15},10:{cellWidth:17},11:{cellWidth:15},12:{cellWidth:18},13:{cellWidth:13},14:{cellWidth:13},15:{cellWidth:16},16:{cellWidth:20}},margin:{left:8,right:8}});const L=C.getNumberOfPages();for(let Q=1;Q<=L;Q++)C.setPage(Q),C.setFontSize(8),C.text("armazena.app.br",10,C.internal.pageSize.getHeight()-6),C.text(`Pgina ${Q} de ${L}`,I-30,C.internal.pageSize.getHeight()-6);const q=a(v.companyName,"pdf",v);C.save(q)}finally{t(!1)}};return{exportLoading:e,exportToCSV:f,exportToExcel:d,exportToPDF:m,exportToFormat:async(v,E)=>{switch(v){case"csv":return f(E);case"excel":return d(E);case"pdf":return m(E);default:throw new Error("Formato de exportao no suportado")}}}}function sJ(e){const[t,r]=D.useState(!1),n=D.useCallback(()=>{e&&r(e.scrollTop>300)},[e]),i=D.useCallback(()=>{e==null||e.scrollTo({top:0,behavior:"smooth"})},[e]);return D.useEffect(()=>{if(e)return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)},[e,n]),{showScrollToTop:t,scrollToTop:i}}var M7={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(Zi,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,s=!n.document&&!!n.postMessage,a=n.IS_PAPA_WORKER||!1,l={},u=0,f={};function d(M){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(F){var X=q(F);X.chunkSize=parseInt(X.chunkSize),F.step||F.chunk||(X.chunkSize=null),this._handle=new _(X),(this._handle.streamer=this)._config=X}).call(this,M),this.parseChunk=function(F,X){var W=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<W){let re=this._config.newline;re||(U=this._config.quoteChar||'"',re=this._handle.guessLineEndings(F,U)),F=[...F.split(re).slice(W)].join(re)}this.isFirstChunk&&B(this._config.beforeFirstChunk)&&(U=this._config.beforeFirstChunk(F))!==void 0&&(F=U),this.isFirstChunk=!1,this._halted=!1;var W=this._partialLine+F,U=(this._partialLine="",this._handle.parse(W,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(F=U.meta.cursor,W=(this._finished||(this._partialLine=W.substring(F-this._baseIndex),this._baseIndex=F),U&&U.data&&(this._rowCount+=U.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)n.postMessage({results:U,workerId:f.WORKER_ID,finished:W});else if(B(this._config.chunk)&&!X){if(this._config.chunk(U,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=U=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(U.data),this._completeResults.errors=this._completeResults.errors.concat(U.errors),this._completeResults.meta=U.meta),this._completed||!W||!B(this._config.complete)||U&&U.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),W||U&&U.meta.paused||this._nextChunk(),U}this._halted=!0},this._sendError=function(F){B(this._config.error)?this._config.error(F):a&&this._config.error&&n.postMessage({workerId:f.WORKER_ID,error:F,finished:!1})}}function m(M){var F;(M=M||{}).chunkSize||(M.chunkSize=f.RemoteChunkSize),d.call(this,M),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(X){this._input=X,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(F=new XMLHttpRequest,this._config.withCredentials&&(F.withCredentials=this._config.withCredentials),s||(F.onload=Q(this._chunkLoaded,this),F.onerror=Q(this._chunkError,this)),F.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var X,W=this._config.downloadRequestHeaders;for(X in W)F.setRequestHeader(X,W[X])}var U;this._config.chunkSize&&(U=this._start+this._config.chunkSize-1,F.setRequestHeader("Range","bytes="+this._start+"-"+U));try{F.send(this._config.downloadRequestBody)}catch(re){this._chunkError(re.message)}s&&F.status===0&&this._chunkError()}},this._chunkLoaded=function(){F.readyState===4&&(F.status<200||400<=F.status?this._chunkError():(this._start+=this._config.chunkSize||F.responseText.length,this._finished=!this._config.chunkSize||this._start>=(X=>(X=X.getResponseHeader("Content-Range"))!==null?parseInt(X.substring(X.lastIndexOf("/")+1)):-1)(F),this.parseChunk(F.responseText)))},this._chunkError=function(X){X=F.statusText||X,this._sendError(new Error(X))}}function y(M){(M=M||{}).chunkSize||(M.chunkSize=f.LocalChunkSize),d.call(this,M);var F,X,W=typeof FileReader<"u";this.stream=function(U){this._input=U,X=U.slice||U.webkitSlice||U.mozSlice,W?((F=new FileReader).onload=Q(this._chunkLoaded,this),F.onerror=Q(this._chunkError,this)):F=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var U=this._input,re=(this._config.chunkSize&&(re=Math.min(this._start+this._config.chunkSize,this._input.size),U=X.call(U,this._start,re)),F.readAsText(U,this._config.encoding));W||this._chunkLoaded({target:{result:re}})},this._chunkLoaded=function(U){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(U.target.result)},this._chunkError=function(){this._sendError(F.error)}}function v(M){var F;d.call(this,M=M||{}),this.stream=function(X){return F=X,this._nextChunk()},this._nextChunk=function(){var X,W;if(!this._finished)return X=this._config.chunkSize,F=X?(W=F.substring(0,X),F.substring(X)):(W=F,""),this._finished=!F,this.parseChunk(W)}}function E(M){d.call(this,M=M||{});var F=[],X=!0,W=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(U){this._input=U,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){W&&F.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),F.length?this.parseChunk(F.shift()):X=!0},this._streamData=Q(function(U){try{F.push(typeof U=="string"?U:U.toString(this._config.encoding)),X&&(X=!1,this._checkIsFinished(),this.parseChunk(F.shift()))}catch(re){this._streamError(re)}},this),this._streamError=Q(function(U){this._streamCleanUp(),this._sendError(U)},this),this._streamEnd=Q(function(){this._streamCleanUp(),W=!0,this._streamData("")},this),this._streamCleanUp=Q(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function _(M){var F,X,W,U,re=Math.pow(2,53),oe=-re,le=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Ne=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Ae=this,de=0,_e=0,Te=!1,He=!1,j=[],V={data:[],errors:[],meta:{}};function G(be){return M.skipEmptyLines==="greedy"?be.join("").trim()==="":be.length===1&&be[0].length===0}function Z(){if(V&&W&&(Se("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),W=!1),M.skipEmptyLines&&(V.data=V.data.filter(function(Re){return!G(Re)})),ie()){let Re=function(Ge,Qe){B(M.transformHeader)&&(Ge=M.transformHeader(Ge,Qe)),j.push(Ge)};if(V)if(Array.isArray(V.data[0])){for(var be=0;ie()&&be<V.data.length;be++)V.data[be].forEach(Re);V.data.splice(0,1)}else V.data.forEach(Re)}function Ce(Re,Ge){for(var Qe=M.header?{}:[],ct=0;ct<Re.length;ct++){var Ue=ct,pe=Re[ct],pe=((rt,nt)=>(qe=>(M.dynamicTypingFunction&&M.dynamicTyping[qe]===void 0&&(M.dynamicTyping[qe]=M.dynamicTypingFunction(qe)),(M.dynamicTyping[qe]||M.dynamicTyping)===!0))(rt)?nt==="true"||nt==="TRUE"||nt!=="false"&&nt!=="FALSE"&&((qe=>{if(le.test(qe)&&(qe=parseFloat(qe),oe<qe&&qe<re))return 1})(nt)?parseFloat(nt):Ne.test(nt)?new Date(nt):nt===""?null:nt):nt)(Ue=M.header?ct>=j.length?"__parsed_extra":j[ct]:Ue,pe=M.transform?M.transform(pe,Ue):pe);Ue==="__parsed_extra"?(Qe[Ue]=Qe[Ue]||[],Qe[Ue].push(pe)):Qe[Ue]=pe}return M.header&&(ct>j.length?Se("FieldMismatch","TooManyFields","Too many fields: expected "+j.length+" fields but parsed "+ct,_e+Ge):ct<j.length&&Se("FieldMismatch","TooFewFields","Too few fields: expected "+j.length+" fields but parsed "+ct,_e+Ge)),Qe}var Pe;V&&(M.header||M.dynamicTyping||M.transform)&&(Pe=1,!V.data.length||Array.isArray(V.data[0])?(V.data=V.data.map(Ce),Pe=V.data.length):V.data=Ce(V.data,0),M.header&&V.meta&&(V.meta.fields=j),_e+=Pe)}function ie(){return M.header&&j.length===0}function Se(be,Ce,Pe,Re){be={type:be,code:Ce,message:Pe},Re!==void 0&&(be.row=Re),V.errors.push(be)}B(M.step)&&(U=M.step,M.step=function(be){V=be,ie()?Z():(Z(),V.data.length!==0&&(de+=be.data.length,M.preview&&de>M.preview?X.abort():(V.data=V.data[0],U(V,Ae))))}),this.parse=function(be,Ce,Pe){var Re=M.quoteChar||'"',Re=(M.newline||(M.newline=this.guessLineEndings(be,Re)),W=!1,M.delimiter?B(M.delimiter)&&(M.delimiter=M.delimiter(be),V.meta.delimiter=M.delimiter):((Re=((Ge,Qe,ct,Ue,pe)=>{var rt,nt,qe,yt;pe=pe||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var et=0;et<pe.length;et++){for(var At,Bt=pe[et],Pt=0,$t=0,Dt=0,Jt=(qe=void 0,new A({comments:Ue,delimiter:Bt,newline:Qe,preview:10}).parse(Ge)),er=0;er<Jt.data.length;er++)ct&&G(Jt.data[er])?Dt++:(At=Jt.data[er].length,$t+=At,qe===void 0?qe=At:0<At&&(Pt+=Math.abs(At-qe),qe=At));0<Jt.data.length&&($t/=Jt.data.length-Dt),(nt===void 0||Pt<=nt)&&(yt===void 0||yt<$t)&&1.99<$t&&(nt=Pt,rt=Bt,yt=$t)}return{successful:!!(M.delimiter=rt),bestDelimiter:rt}})(be,M.newline,M.skipEmptyLines,M.comments,M.delimitersToGuess)).successful?M.delimiter=Re.bestDelimiter:(W=!0,M.delimiter=f.DefaultDelimiter),V.meta.delimiter=M.delimiter),q(M));return M.preview&&M.header&&Re.preview++,F=be,X=new A(Re),V=X.parse(F,Ce,Pe),Z(),Te?{meta:{paused:!0}}:V||{meta:{paused:!1}}},this.paused=function(){return Te},this.pause=function(){Te=!0,X.abort(),F=B(M.chunk)?"":F.substring(X.getCharIndex())},this.resume=function(){Ae.streamer._halted?(Te=!1,Ae.streamer.parseChunk(F,!0)):setTimeout(Ae.resume,3)},this.aborted=function(){return He},this.abort=function(){He=!0,X.abort(),V.meta.aborted=!0,B(M.complete)&&M.complete(V),F=""},this.guessLineEndings=function(Ge,Re){Ge=Ge.substring(0,1048576);var Re=new RegExp(N(Re)+"([^]*?)"+N(Re),"gm"),Pe=(Ge=Ge.replace(Re,"")).split("\r"),Re=Ge.split(`
`),Ge=1<Re.length&&Re[0].length<Pe[0].length;if(Pe.length===1||Ge)return`
`;for(var Qe=0,ct=0;ct<Pe.length;ct++)Pe[ct][0]===`
`&&Qe++;return Qe>=Pe.length/2?`\r
`:"\r"}}function N(M){return M.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function A(M){var F=(M=M||{}).delimiter,X=M.newline,W=M.comments,U=M.step,re=M.preview,oe=M.fastMode,le=null,Ne=!1,Ae=M.quoteChar==null?'"':M.quoteChar,de=Ae;if(M.escapeChar!==void 0&&(de=M.escapeChar),(typeof F!="string"||-1<f.BAD_DELIMITERS.indexOf(F))&&(F=","),W===F)throw new Error("Comment character same as delimiter");W===!0?W="#":(typeof W!="string"||-1<f.BAD_DELIMITERS.indexOf(W))&&(W=!1),X!==`
`&&X!=="\r"&&X!==`\r
`&&(X=`
`);var _e=0,Te=!1;this.parse=function(He,j,V){if(typeof He!="string")throw new Error("Input must be a string");var G=He.length,Z=F.length,ie=X.length,Se=W.length,be=B(U),Ce=[],Pe=[],Re=[],Ge=_e=0;if(!He)return Pt();if(oe||oe!==!1&&He.indexOf(Ae)===-1){for(var Qe=He.split(X),ct=0;ct<Qe.length;ct++){if(Re=Qe[ct],_e+=Re.length,ct!==Qe.length-1)_e+=X.length;else if(V)return Pt();if(!W||Re.substring(0,Se)!==W){if(be){if(Ce=[],yt(Re.split(F)),$t(),Te)return Pt()}else yt(Re.split(F));if(re&&re<=ct)return Ce=Ce.slice(0,re),Pt(!0)}}return Pt()}for(var Ue=He.indexOf(F,_e),pe=He.indexOf(X,_e),rt=new RegExp(N(de)+N(Ae),"g"),nt=He.indexOf(Ae,_e);;)if(He[_e]===Ae)for(nt=_e,_e++;;){if((nt=He.indexOf(Ae,nt+1))===-1)return V||Pe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ce.length,index:_e}),At();if(nt===G-1)return At(He.substring(_e,nt).replace(rt,Ae));if(Ae===de&&He[nt+1]===de)nt++;else if(Ae===de||nt===0||He[nt-1]!==de){Ue!==-1&&Ue<nt+1&&(Ue=He.indexOf(F,nt+1));var qe=et((pe=pe!==-1&&pe<nt+1?He.indexOf(X,nt+1):pe)===-1?Ue:Math.min(Ue,pe));if(He.substr(nt+1+qe,Z)===F){Re.push(He.substring(_e,nt).replace(rt,Ae)),He[_e=nt+1+qe+Z]!==Ae&&(nt=He.indexOf(Ae,_e)),Ue=He.indexOf(F,_e),pe=He.indexOf(X,_e);break}if(qe=et(pe),He.substring(nt+1+qe,nt+1+qe+ie)===X){if(Re.push(He.substring(_e,nt).replace(rt,Ae)),Bt(nt+1+qe+ie),Ue=He.indexOf(F,_e),nt=He.indexOf(Ae,_e),be&&($t(),Te))return Pt();if(re&&Ce.length>=re)return Pt(!0);break}Pe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ce.length,index:_e}),nt++}}else if(W&&Re.length===0&&He.substring(_e,_e+Se)===W){if(pe===-1)return Pt();_e=pe+ie,pe=He.indexOf(X,_e),Ue=He.indexOf(F,_e)}else if(Ue!==-1&&(Ue<pe||pe===-1))Re.push(He.substring(_e,Ue)),_e=Ue+Z,Ue=He.indexOf(F,_e);else{if(pe===-1)break;if(Re.push(He.substring(_e,pe)),Bt(pe+ie),be&&($t(),Te))return Pt();if(re&&Ce.length>=re)return Pt(!0)}return At();function yt(Dt){Ce.push(Dt),Ge=_e}function et(Dt){var Jt=0;return Jt=Dt!==-1&&(Dt=He.substring(nt+1,Dt))&&Dt.trim()===""?Dt.length:Jt}function At(Dt){return V||(Dt===void 0&&(Dt=He.substring(_e)),Re.push(Dt),_e=G,yt(Re),be&&$t()),Pt()}function Bt(Dt){_e=Dt,yt(Re),Re=[],pe=He.indexOf(X,_e)}function Pt(Dt){if(M.header&&!j&&Ce.length&&!Ne){var Jt=Ce[0],er=Object.create(null),Mt=new Set(Jt);let gr=!1;for(let Nt=0;Nt<Jt.length;Nt++){let Jr=Jt[Nt];if(er[Jr=B(M.transformHeader)?M.transformHeader(Jr,Nt):Jr]){let Gt,St=er[Jr];for(;Gt=Jr+"_"+St,St++,Mt.has(Gt););Mt.add(Gt),Jt[Nt]=Gt,er[Jr]++,gr=!0,(le=le===null?{}:le)[Gt]=Jr}else er[Jr]=1,Jt[Nt]=Jr;Mt.add(Jr)}gr&&console.warn("Duplicate headers found and renamed."),Ne=!0}return{data:Ce,errors:Pe,meta:{delimiter:F,linebreak:X,aborted:Te,truncated:!!Dt,cursor:Ge+(j||0),renamedHeaders:le}}}function $t(){U(Pt()),Ce=[],Pe=[]}},this.abort=function(){Te=!0},this.getCharIndex=function(){return _e}}function C(M){var F=M.data,X=l[F.workerId],W=!1;if(F.error)X.userError(F.error,F.file);else if(F.results&&F.results.data){var U={abort:function(){W=!0,I(F.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:L,resume:L};if(B(X.userStep)){for(var re=0;re<F.results.data.length&&(X.userStep({data:F.results.data[re],errors:F.results.errors,meta:F.results.meta},U),!W);re++);delete F.results}else B(X.userChunk)&&(X.userChunk(F.results,U,F.file),delete F.results)}F.finished&&!W&&I(F.workerId,F.results)}function I(M,F){var X=l[M];B(X.userComplete)&&X.userComplete(F),X.terminate(),delete l[M]}function L(){throw new Error("Not implemented.")}function q(M){if(typeof M!="object"||M===null)return M;var F,X=Array.isArray(M)?[]:{};for(F in M)X[F]=q(M[F]);return X}function Q(M,F){return function(){M.apply(F,arguments)}}function B(M){return typeof M=="function"}return f.parse=function(M,F){var X=(F=F||{}).dynamicTyping||!1;if(B(X)&&(F.dynamicTypingFunction=X,X={}),F.dynamicTyping=X,F.transform=!!B(F.transform)&&F.transform,!F.worker||!f.WORKERS_SUPPORTED)return X=null,f.NODE_STREAM_INPUT,typeof M=="string"?(M=(W=>W.charCodeAt(0)!==65279?W:W.slice(1))(M),X=new(F.download?m:v)(F)):M.readable===!0&&B(M.read)&&B(M.on)?X=new E(F):(n.File&&M instanceof File||M instanceof Object)&&(X=new y(F)),X.stream(M);(X=(()=>{var W;return!!f.WORKERS_SUPPORTED&&(W=(()=>{var U=n.URL||n.webkitURL||null,re=r.toString();return f.BLOB_URL||(f.BLOB_URL=U.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",re,")();"],{type:"text/javascript"})))})(),(W=new n.Worker(W)).onmessage=C,W.id=u++,l[W.id]=W)})()).userStep=F.step,X.userChunk=F.chunk,X.userComplete=F.complete,X.userError=F.error,F.step=B(F.step),F.chunk=B(F.chunk),F.complete=B(F.complete),F.error=B(F.error),delete F.worker,X.postMessage({input:M,config:F,workerId:X.id})},f.unparse=function(M,F){var X=!1,W=!0,U=",",re=`\r
`,oe='"',le=oe+oe,Ne=!1,Ae=null,de=!1,_e=((()=>{if(typeof F=="object"){if(typeof F.delimiter!="string"||f.BAD_DELIMITERS.filter(function(j){return F.delimiter.indexOf(j)!==-1}).length||(U=F.delimiter),typeof F.quotes!="boolean"&&typeof F.quotes!="function"&&!Array.isArray(F.quotes)||(X=F.quotes),typeof F.skipEmptyLines!="boolean"&&typeof F.skipEmptyLines!="string"||(Ne=F.skipEmptyLines),typeof F.newline=="string"&&(re=F.newline),typeof F.quoteChar=="string"&&(oe=F.quoteChar),typeof F.header=="boolean"&&(W=F.header),Array.isArray(F.columns)){if(F.columns.length===0)throw new Error("Option columns is empty");Ae=F.columns}F.escapeChar!==void 0&&(le=F.escapeChar+oe),F.escapeFormulae instanceof RegExp?de=F.escapeFormulae:typeof F.escapeFormulae=="boolean"&&F.escapeFormulae&&(de=/^[=+\-@\t\r].*$/)}})(),new RegExp(N(oe),"g"));if(typeof M=="string"&&(M=JSON.parse(M)),Array.isArray(M)){if(!M.length||Array.isArray(M[0]))return Te(null,M,Ne);if(typeof M[0]=="object")return Te(Ae||Object.keys(M[0]),M,Ne)}else if(typeof M=="object")return typeof M.data=="string"&&(M.data=JSON.parse(M.data)),Array.isArray(M.data)&&(M.fields||(M.fields=M.meta&&M.meta.fields||Ae),M.fields||(M.fields=Array.isArray(M.data[0])?M.fields:typeof M.data[0]=="object"?Object.keys(M.data[0]):[]),Array.isArray(M.data[0])||typeof M.data[0]=="object"||(M.data=[M.data])),Te(M.fields||[],M.data||[],Ne);throw new Error("Unable to serialize unrecognized input");function Te(j,V,G){var Z="",ie=(typeof j=="string"&&(j=JSON.parse(j)),typeof V=="string"&&(V=JSON.parse(V)),Array.isArray(j)&&0<j.length),Se=!Array.isArray(V[0]);if(ie&&W){for(var be=0;be<j.length;be++)0<be&&(Z+=U),Z+=He(j[be],be);0<V.length&&(Z+=re)}for(var Ce=0;Ce<V.length;Ce++){var Pe=(ie?j:V[Ce]).length,Re=!1,Ge=ie?Object.keys(V[Ce]).length===0:V[Ce].length===0;if(G&&!ie&&(Re=G==="greedy"?V[Ce].join("").trim()==="":V[Ce].length===1&&V[Ce][0].length===0),G==="greedy"&&ie){for(var Qe=[],ct=0;ct<Pe;ct++){var Ue=Se?j[ct]:ct;Qe.push(V[Ce][Ue])}Re=Qe.join("").trim()===""}if(!Re){for(var pe=0;pe<Pe;pe++){0<pe&&!Ge&&(Z+=U);var rt=ie&&Se?j[pe]:pe;Z+=He(V[Ce][rt],pe)}Ce<V.length-1&&(!G||0<Pe&&!Ge)&&(Z+=re)}}return Z}function He(j,V){var G,Z;return j==null?"":j.constructor===Date?JSON.stringify(j).slice(1,25):(Z=!1,de&&typeof j=="string"&&de.test(j)&&(j="'"+j,Z=!0),G=j.toString().replace(_e,le),(Z=Z||X===!0||typeof X=="function"&&X(j,V)||Array.isArray(X)&&X[V]||((ie,Se)=>{for(var be=0;be<Se.length;be++)if(-1<ie.indexOf(Se[be]))return!0;return!1})(G,f.BAD_DELIMITERS)||-1<G.indexOf(U)||G.charAt(0)===" "||G.charAt(G.length-1)===" ")?oe+G+oe:G)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!s&&!!n.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=A,f.ParserHandle=_,f.NetworkStreamer=m,f.FileStreamer=y,f.StringStreamer=v,f.ReadableStreamStreamer=E,n.jQuery&&((i=n.jQuery).fn.parse=function(M){var F=M.config||{},X=[];return this.each(function(re){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var oe=0;oe<this.files.length;oe++)X.push({file:this.files[oe],inputElem:this,instanceConfig:i.extend({},F)})}),W(),this;function W(){if(X.length===0)B(M.complete)&&M.complete();else{var re,oe,le,Ne,Ae=X[0];if(B(M.before)){var de=M.before(Ae.file,Ae.inputElem);if(typeof de=="object"){if(de.action==="abort")return re="AbortError",oe=Ae.file,le=Ae.inputElem,Ne=de.reason,void(B(M.error)&&M.error({name:re},oe,le,Ne));if(de.action==="skip")return void U();typeof de.config=="object"&&(Ae.instanceConfig=i.extend(Ae.instanceConfig,de.config))}else if(de==="skip")return void U()}var _e=Ae.instanceConfig.complete;Ae.instanceConfig.complete=function(Te){B(_e)&&_e(Te,Ae.file,Ae.inputElem),U()},f.parse(Ae.file,Ae.instanceConfig)}}function U(){X.splice(0,1),W()}}),a&&(n.onmessage=function(M){M=M.data,f.WORKER_ID===void 0&&M&&(f.WORKER_ID=M.workerId),typeof M.input=="string"?n.postMessage({workerId:f.WORKER_ID,results:f.parse(M.input,M.config),finished:!0}):(n.File&&M.input instanceof File||M.input instanceof Object)&&(M=f.parse(M.input,M.config))&&n.postMessage({workerId:f.WORKER_ID,results:M,finished:!0})}),(m.prototype=Object.create(d.prototype)).constructor=m,(y.prototype=Object.create(d.prototype)).constructor=y,(v.prototype=Object.create(v.prototype)).constructor=v,(E.prototype=Object.create(d.prototype)).constructor=E,f})})(M7);var aJ=M7.exports;const oJ=i2(aJ),lJ=["top","right","bottom","left"],bu=Math.min,Pa=Math.max,Gm=Math.round,xg=Math.floor,_u=e=>({x:e,y:e}),cJ={left:"right",right:"left",bottom:"top",top:"bottom"},uJ={start:"end",end:"start"};function Fy(e,t,r){return Pa(e,bu(t,r))}function rc(e,t){return typeof e=="function"?e(t):e}function nc(e){return e.split("-")[0]}function Xd(e){return e.split("-")[1]}function e4(e){return e==="x"?"y":"x"}function t4(e){return e==="y"?"height":"width"}function Su(e){return["top","bottom"].includes(nc(e))?"y":"x"}function r4(e){return e4(Su(e))}function fJ(e,t,r){r===void 0&&(r=!1);const n=Xd(e),i=r4(e),s=t4(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=$m(a)),[a,$m(a)]}function hJ(e){const t=$m(e);return[My(e),t,My(t)]}function My(e){return e.replace(/start|end/g,t=>uJ[t])}function dJ(e,t,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?s:a;default:return[]}}function pJ(e,t,r,n){const i=Xd(e);let s=dJ(nc(e),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(My)))),s}function $m(e){return e.replace(/left|right|bottom|top/g,t=>cJ[t])}function gJ(e){return{top:0,right:0,bottom:0,left:0,...e}}function j7(e){return typeof e!="number"?gJ(e):{top:e,right:e,bottom:e,left:e}}function Xm(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function RE(e,t,r){let{reference:n,floating:i}=e;const s=Su(t),a=r4(t),l=t4(a),u=nc(t),f=s==="y",d=n.x+n.width/2-i.width/2,m=n.y+n.height/2-i.height/2,y=n[l]/2-i[l]/2;let v;switch(u){case"top":v={x:d,y:n.y-i.height};break;case"bottom":v={x:d,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:m};break;case"left":v={x:n.x-i.width,y:m};break;default:v={x:n.x,y:n.y}}switch(Xd(t)){case"start":v[a]-=y*(r&&f?-1:1);break;case"end":v[a]+=y*(r&&f?-1:1);break}return v}const mJ=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,l=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(t));let f=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:m}=RE(f,n,u),y=n,v={},E=0;for(let _=0;_<l.length;_++){const{name:N,fn:A}=l[_],{x:C,y:I,data:L,reset:q}=await A({x:d,y:m,initialPlacement:n,placement:y,strategy:i,middlewareData:v,rects:f,platform:a,elements:{reference:e,floating:t}});d=C??d,m=I??m,v={...v,[N]:{...v[N],...L}},q&&E<=50&&(E++,typeof q=="object"&&(q.placement&&(y=q.placement),q.rects&&(f=q.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):q.rects),{x:d,y:m}=RE(f,y,u)),_=-1)}return{x:d,y:m,placement:y,strategy:i,middlewareData:v}};async function k1(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:a,elements:l,strategy:u}=e,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:m="floating",altBoundary:y=!1,padding:v=0}=rc(t,e),E=j7(v),N=l[y?m==="floating"?"reference":"floating":m],A=Xm(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(N)))==null||r?N:N.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:f,rootBoundary:d,strategy:u})),C=m==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),L=await(s.isElement==null?void 0:s.isElement(I))?await(s.getScale==null?void 0:s.getScale(I))||{x:1,y:1}:{x:1,y:1},q=Xm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:I,strategy:u}):C);return{top:(A.top-q.top+E.top)/L.y,bottom:(q.bottom-A.bottom+E.bottom)/L.y,left:(A.left-q.left+E.left)/L.x,right:(q.right-A.right+E.right)/L.x}}const xJ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:s,platform:a,elements:l,middlewareData:u}=t,{element:f,padding:d=0}=rc(e,t)||{};if(f==null)return{};const m=j7(d),y={x:r,y:n},v=r4(i),E=t4(v),_=await a.getDimensions(f),N=v==="y",A=N?"top":"left",C=N?"bottom":"right",I=N?"clientHeight":"clientWidth",L=s.reference[E]+s.reference[v]-y[v]-s.floating[E],q=y[v]-s.reference[v],Q=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f));let B=Q?Q[I]:0;(!B||!await(a.isElement==null?void 0:a.isElement(Q)))&&(B=l.floating[I]||s.floating[E]);const M=L/2-q/2,F=B/2-_[E]/2-1,X=bu(m[A],F),W=bu(m[C],F),U=X,re=B-_[E]-W,oe=B/2-_[E]/2+M,le=Fy(U,oe,re),Ne=!u.arrow&&Xd(i)!=null&&oe!==le&&s.reference[E]/2-(oe<U?X:W)-_[E]/2<0,Ae=Ne?oe<U?oe-U:oe-re:0;return{[v]:y[v]+Ae,data:{[v]:le,centerOffset:oe-le-Ae,...Ne&&{alignmentOffset:Ae}},reset:Ne}}}),vJ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:u,elements:f}=t,{mainAxis:d=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:_=!0,...N}=rc(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const A=nc(i),C=Su(l),I=nc(l)===l,L=await(u.isRTL==null?void 0:u.isRTL(f.floating)),q=y||(I||!_?[$m(l)]:hJ(l)),Q=E!=="none";!y&&Q&&q.push(...pJ(l,_,E,L));const B=[l,...q],M=await k1(t,N),F=[];let X=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&F.push(M[A]),m){const oe=fJ(i,a,L);F.push(M[oe[0]],M[oe[1]])}if(X=[...X,{placement:i,overflows:F}],!F.every(oe=>oe<=0)){var W,U;const oe=(((W=s.flip)==null?void 0:W.index)||0)+1,le=B[oe];if(le)return{data:{index:oe,overflows:X},reset:{placement:le}};let Ne=(U=X.filter(Ae=>Ae.overflows[0]<=0).sort((Ae,de)=>Ae.overflows[1]-de.overflows[1])[0])==null?void 0:U.placement;if(!Ne)switch(v){case"bestFit":{var re;const Ae=(re=X.filter(de=>{if(Q){const _e=Su(de.placement);return _e===C||_e==="y"}return!0}).map(de=>[de.placement,de.overflows.filter(_e=>_e>0).reduce((_e,Te)=>_e+Te,0)]).sort((de,_e)=>de[1]-_e[1])[0])==null?void 0:re[0];Ae&&(Ne=Ae);break}case"initialPlacement":Ne=l;break}if(i!==Ne)return{reset:{placement:Ne}}}return{}}}};function LE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function DE(e){return lJ.some(t=>e[t]>=0)}const wJ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=rc(e,t);switch(n){case"referenceHidden":{const s=await k1(t,{...i,elementContext:"reference"}),a=LE(s,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:DE(a)}}}case"escaped":{const s=await k1(t,{...i,altBoundary:!0}),a=LE(s,r.floating);return{data:{escapedOffsets:a,escaped:DE(a)}}}default:return{}}}}};async function yJ(e,t){const{placement:r,platform:n,elements:i}=e,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=nc(r),l=Xd(r),u=Su(r)==="y",f=["left","top"].includes(a)?-1:1,d=s&&u?-1:1,m=rc(t,e);let{mainAxis:y,crossAxis:v,alignmentAxis:E}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof E=="number"&&(v=l==="end"?E*-1:E),u?{x:v*d,y:y*f}:{x:y*f,y:v*d}}const bJ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:s,placement:a,middlewareData:l}=t,u=await yJ(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:a}}}}},_J=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:N=>{let{x:A,y:C}=N;return{x:A,y:C}}},...u}=rc(e,t),f={x:r,y:n},d=await k1(t,u),m=Su(nc(i)),y=e4(m);let v=f[y],E=f[m];if(s){const N=y==="y"?"top":"left",A=y==="y"?"bottom":"right",C=v+d[N],I=v-d[A];v=Fy(C,v,I)}if(a){const N=m==="y"?"top":"left",A=m==="y"?"bottom":"right",C=E+d[N],I=E-d[A];E=Fy(C,E,I)}const _=l.fn({...t,[y]:v,[m]:E});return{..._,data:{x:_.x-r,y:_.y-n,enabled:{[y]:s,[m]:a}}}}}},SJ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:s,middlewareData:a}=t,{offset:l=0,mainAxis:u=!0,crossAxis:f=!0}=rc(e,t),d={x:r,y:n},m=Su(i),y=e4(m);let v=d[y],E=d[m];const _=rc(l,t),N=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(u){const I=y==="y"?"height":"width",L=s.reference[y]-s.floating[I]+N.mainAxis,q=s.reference[y]+s.reference[I]-N.mainAxis;v<L?v=L:v>q&&(v=q)}if(f){var A,C;const I=y==="y"?"width":"height",L=["top","left"].includes(nc(i)),q=s.reference[m]-s.floating[I]+(L&&((A=a.offset)==null?void 0:A[m])||0)+(L?0:N.crossAxis),Q=s.reference[m]+s.reference[I]+(L?0:((C=a.offset)==null?void 0:C[m])||0)-(L?N.crossAxis:0);E<q?E=q:E>Q&&(E=Q)}return{[y]:v,[m]:E}}}},EJ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:s,platform:a,elements:l}=t,{apply:u=()=>{},...f}=rc(e,t),d=await k1(t,f),m=nc(i),y=Xd(i),v=Su(i)==="y",{width:E,height:_}=s.floating;let N,A;m==="top"||m==="bottom"?(N=m,A=y===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(A=m,N=y==="end"?"top":"bottom");const C=_-d.top-d.bottom,I=E-d.left-d.right,L=bu(_-d[N],C),q=bu(E-d[A],I),Q=!t.middlewareData.shift;let B=L,M=q;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(M=I),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(B=C),Q&&!y){const X=Pa(d.left,0),W=Pa(d.right,0),U=Pa(d.top,0),re=Pa(d.bottom,0);v?M=E-2*(X!==0||W!==0?X+W:Pa(d.left,d.right)):B=_-2*(U!==0||re!==0?U+re:Pa(d.top,d.bottom))}await u({...t,availableWidth:M,availableHeight:B});const F=await a.getDimensions(l.floating);return E!==F.width||_!==F.height?{reset:{rects:!0}}:{}}}};function Z2(){return typeof window<"u"}function Yd(e){return B7(e)?(e.nodeName||"").toLowerCase():"#document"}function Ma(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function yl(e){var t;return(t=(B7(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function B7(e){return Z2()?e instanceof Node||e instanceof Ma(e).Node:!1}function Fo(e){return Z2()?e instanceof Element||e instanceof Ma(e).Element:!1}function ml(e){return Z2()?e instanceof HTMLElement||e instanceof Ma(e).HTMLElement:!1}function FE(e){return!Z2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ma(e).ShadowRoot}function ap(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Mo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function AJ(e){return["table","td","th"].includes(Yd(e))}function J2(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function n4(e){const t=i4(),r=Fo(e)?Mo(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function CJ(e){let t=Eu(e);for(;ml(t)&&!Id(t);){if(n4(t))return t;if(J2(t))return null;t=Eu(t)}return null}function i4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Id(e){return["html","body","#document"].includes(Yd(e))}function Mo(e){return Ma(e).getComputedStyle(e)}function ex(e){return Fo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Eu(e){if(Yd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||FE(e)&&e.host||yl(e);return FE(t)?t.host:t}function U7(e){const t=Eu(e);return Id(t)?e.ownerDocument?e.ownerDocument.body:e.body:ml(t)&&ap(t)?t:U7(t)}function P1(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=U7(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),a=Ma(i);if(s){const l=jy(a);return t.concat(a,a.visualViewport||[],ap(i)?i:[],l&&r?P1(l):[])}return t.concat(i,P1(i,[],r))}function jy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function W7(e){const t=Mo(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=ml(e),s=i?e.offsetWidth:r,a=i?e.offsetHeight:n,l=Gm(r)!==s||Gm(n)!==a;return l&&(r=s,n=a),{width:r,height:n,$:l}}function s4(e){return Fo(e)?e:e.contextElement}function nd(e){const t=s4(e);if(!ml(t))return _u(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:s}=W7(t);let a=(s?Gm(r.width):r.width)/n,l=(s?Gm(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const NJ=_u(0);function z7(e){const t=Ma(e);return!i4()||!t.visualViewport?NJ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function TJ(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ma(e)?!1:t}function Df(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=s4(e);let a=_u(1);t&&(n?Fo(n)&&(a=nd(n)):a=nd(e));const l=TJ(s,r,n)?z7(s):_u(0);let u=(i.left+l.x)/a.x,f=(i.top+l.y)/a.y,d=i.width/a.x,m=i.height/a.y;if(s){const y=Ma(s),v=n&&Fo(n)?Ma(n):n;let E=y,_=jy(E);for(;_&&n&&v!==E;){const N=nd(_),A=_.getBoundingClientRect(),C=Mo(_),I=A.left+(_.clientLeft+parseFloat(C.paddingLeft))*N.x,L=A.top+(_.clientTop+parseFloat(C.paddingTop))*N.y;u*=N.x,f*=N.y,d*=N.x,m*=N.y,u+=I,f+=L,E=Ma(_),_=jy(E)}}return Xm({width:d,height:m,x:u,y:f})}function IJ(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const s=i==="fixed",a=yl(n),l=t?J2(t.floating):!1;if(n===a||l&&s)return r;let u={scrollLeft:0,scrollTop:0},f=_u(1);const d=_u(0),m=ml(n);if((m||!m&&!s)&&((Yd(n)!=="body"||ap(a))&&(u=ex(n)),ml(n))){const y=Df(n);f=nd(n),d.x=y.x+n.clientLeft,d.y=y.y+n.clientTop}return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-u.scrollLeft*f.x+d.x,y:r.y*f.y-u.scrollTop*f.y+d.y}}function kJ(e){return Array.from(e.getClientRects())}function By(e,t){const r=ex(e).scrollLeft;return t?t.left+r:Df(yl(e)).left+r}function PJ(e){const t=yl(e),r=ex(e),n=e.ownerDocument.body,i=Pa(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Pa(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+By(e);const l=-r.scrollTop;return Mo(n).direction==="rtl"&&(a+=Pa(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:l}}function OJ(e,t){const r=Ma(e),n=yl(e),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,l=0,u=0;if(i){s=i.width,a=i.height;const f=i4();(!f||f&&t==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:s,height:a,x:l,y:u}}function RJ(e,t){const r=Df(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,s=ml(e)?nd(e):_u(1),a=e.clientWidth*s.x,l=e.clientHeight*s.y,u=i*s.x,f=n*s.y;return{width:a,height:l,x:u,y:f}}function ME(e,t,r){let n;if(t==="viewport")n=OJ(e,r);else if(t==="document")n=PJ(yl(e));else if(Fo(t))n=RJ(t,r);else{const i=z7(e);n={...t,x:t.x-i.x,y:t.y-i.y}}return Xm(n)}function H7(e,t){const r=Eu(e);return r===t||!Fo(r)||Id(r)?!1:Mo(r).position==="fixed"||H7(r,t)}function LJ(e,t){const r=t.get(e);if(r)return r;let n=P1(e,[],!1).filter(l=>Fo(l)&&Yd(l)!=="body"),i=null;const s=Mo(e).position==="fixed";let a=s?Eu(e):e;for(;Fo(a)&&!Id(a);){const l=Mo(a),u=n4(a);!u&&l.position==="fixed"&&(i=null),(s?!u&&!i:!u&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ap(a)&&!u&&H7(e,a))?n=n.filter(d=>d!==a):i=l,a=Eu(a)}return t.set(e,n),n}function DJ(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const a=[...r==="clippingAncestors"?J2(t)?[]:LJ(t,this._c):[].concat(r),n],l=a[0],u=a.reduce((f,d)=>{const m=ME(t,d,i);return f.top=Pa(m.top,f.top),f.right=bu(m.right,f.right),f.bottom=bu(m.bottom,f.bottom),f.left=Pa(m.left,f.left),f},ME(t,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function FJ(e){const{width:t,height:r}=W7(e);return{width:t,height:r}}function MJ(e,t,r){const n=ml(t),i=yl(t),s=r==="fixed",a=Df(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const u=_u(0);if(n||!n&&!s)if((Yd(t)!=="body"||ap(i))&&(l=ex(t)),n){const v=Df(t,!0,s,t);u.x=v.x+t.clientLeft,u.y=v.y+t.clientTop}else i&&(u.x=By(i));let f=0,d=0;if(i&&!n&&!s){const v=i.getBoundingClientRect();d=v.top+l.scrollTop,f=v.left+l.scrollLeft-By(i,v)}const m=a.left+l.scrollLeft-u.x-f,y=a.top+l.scrollTop-u.y-d;return{x:m,y,width:a.width,height:a.height}}function zv(e){return Mo(e).position==="static"}function jE(e,t){if(!ml(e)||Mo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return yl(e)===r&&(r=r.ownerDocument.body),r}function V7(e,t){const r=Ma(e);if(J2(e))return r;if(!ml(e)){let i=Eu(e);for(;i&&!Id(i);){if(Fo(i)&&!zv(i))return i;i=Eu(i)}return r}let n=jE(e,t);for(;n&&AJ(n)&&zv(n);)n=jE(n,t);return n&&Id(n)&&zv(n)&&!n4(n)?r:n||CJ(e)||r}const jJ=async function(e){const t=this.getOffsetParent||V7,r=this.getDimensions,n=await r(e.floating);return{reference:MJ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function BJ(e){return Mo(e).direction==="rtl"}const UJ={convertOffsetParentRelativeRectToViewportRelativeRect:IJ,getDocumentElement:yl,getClippingRect:DJ,getOffsetParent:V7,getElementRects:jJ,getClientRects:kJ,getDimensions:FJ,getScale:nd,isElement:Fo,isRTL:BJ};function WJ(e,t){let r=null,n;const i=yl(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const{left:f,top:d,width:m,height:y}=e.getBoundingClientRect();if(l||t(),!m||!y)return;const v=xg(d),E=xg(i.clientWidth-(f+m)),_=xg(i.clientHeight-(d+y)),N=xg(f),C={rootMargin:-v+"px "+-E+"px "+-_+"px "+-N+"px",threshold:Pa(0,bu(1,u))||1};let I=!0;function L(q){const Q=q[0].intersectionRatio;if(Q!==u){if(!I)return a();Q?a(!1,Q):n=setTimeout(()=>{a(!1,1e-7)},1e3)}I=!1}try{r=new IntersectionObserver(L,{...C,root:i.ownerDocument})}catch{r=new IntersectionObserver(L,C)}r.observe(e)}return a(!0),s}function zJ(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,f=s4(e),d=i||s?[...f?P1(f):[],...P1(t)]:[];d.forEach(A=>{i&&A.addEventListener("scroll",r,{passive:!0}),s&&A.addEventListener("resize",r)});const m=f&&l?WJ(f,r):null;let y=-1,v=null;a&&(v=new ResizeObserver(A=>{let[C]=A;C&&C.target===f&&v&&(v.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var I;(I=v)==null||I.observe(t)})),r()}),f&&!u&&v.observe(f),v.observe(t));let E,_=u?Df(e):null;u&&N();function N(){const A=Df(e);_&&(A.x!==_.x||A.y!==_.y||A.width!==_.width||A.height!==_.height)&&r(),_=A,E=requestAnimationFrame(N)}return r(),()=>{var A;d.forEach(C=>{i&&C.removeEventListener("scroll",r),s&&C.removeEventListener("resize",r)}),m==null||m(),(A=v)==null||A.disconnect(),v=null,u&&cancelAnimationFrame(E)}}const HJ=bJ,VJ=_J,qJ=vJ,GJ=EJ,$J=wJ,BE=xJ,XJ=SJ,YJ=(e,t,r)=>{const n=new Map,i={platform:UJ,...r},s={...i.platform,_c:n};return mJ(e,t,{...i,platform:s})};var zg=typeof document<"u"?D.useLayoutEffect:D.useEffect;function Ym(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ym(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&e.$$typeof)&&!Ym(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function q7(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function UE(e,t){const r=q7(e);return Math.round(t*r)/r}function Hv(e){const t=D.useRef(e);return zg(()=>{t.current=e}),t}function KJ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:u,open:f}=e,[d,m]=D.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,v]=D.useState(n);Ym(y,n)||v(n);const[E,_]=D.useState(null),[N,A]=D.useState(null),C=D.useCallback(de=>{de!==Q.current&&(Q.current=de,_(de))},[]),I=D.useCallback(de=>{de!==B.current&&(B.current=de,A(de))},[]),L=s||E,q=a||N,Q=D.useRef(null),B=D.useRef(null),M=D.useRef(d),F=u!=null,X=Hv(u),W=Hv(i),U=Hv(f),re=D.useCallback(()=>{if(!Q.current||!B.current)return;const de={placement:t,strategy:r,middleware:y};W.current&&(de.platform=W.current),YJ(Q.current,B.current,de).then(_e=>{const Te={..._e,isPositioned:U.current!==!1};oe.current&&!Ym(M.current,Te)&&(M.current=Te,Bf.flushSync(()=>{m(Te)}))})},[y,t,r,W,U]);zg(()=>{f===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,m(de=>({...de,isPositioned:!1})))},[f]);const oe=D.useRef(!1);zg(()=>(oe.current=!0,()=>{oe.current=!1}),[]),zg(()=>{if(L&&(Q.current=L),q&&(B.current=q),L&&q){if(X.current)return X.current(L,q,re);re()}},[L,q,re,X,F]);const le=D.useMemo(()=>({reference:Q,floating:B,setReference:C,setFloating:I}),[C,I]),Ne=D.useMemo(()=>({reference:L,floating:q}),[L,q]),Ae=D.useMemo(()=>{const de={position:r,left:0,top:0};if(!Ne.floating)return de;const _e=UE(Ne.floating,d.x),Te=UE(Ne.floating,d.y);return l?{...de,transform:"translate("+_e+"px, "+Te+"px)",...q7(Ne.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:_e,top:Te}},[r,l,Ne.floating,d.x,d.y]);return D.useMemo(()=>({...d,update:re,refs:le,elements:Ne,floatingStyles:Ae}),[d,re,le,Ne,Ae])}const QJ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?BE({element:n.current,padding:i}).fn(r):{}:n?BE({element:n,padding:i}).fn(r):{}}}},ZJ=(e,t)=>({...HJ(e),options:[e,t]}),JJ=(e,t)=>({...VJ(e),options:[e,t]}),eee=(e,t)=>({...XJ(e),options:[e,t]}),tee=(e,t)=>({...qJ(e),options:[e,t]}),ree=(e,t)=>({...GJ(e),options:[e,t]}),nee=(e,t)=>({...$J(e),options:[e,t]}),iee=(e,t)=>({...QJ(e),options:[e,t]});var see="Arrow",G7=D.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return x.jsx(wr.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});G7.displayName=see;var aee=G7;function oee(e,t=[]){let r=[];function n(s,a){const l=D.createContext(a),u=r.length;r=[...r,a];function f(m){const{scope:y,children:v,...E}=m,_=(y==null?void 0:y[e][u])||l,N=D.useMemo(()=>E,Object.values(E));return x.jsx(_.Provider,{value:N,children:v})}function d(m,y){const v=(y==null?void 0:y[e][u])||l,E=D.useContext(v);if(E)return E;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${s}\``)}return f.displayName=s+"Provider",[f,d]}const i=()=>{const s=r.map(a=>D.createContext(a));return function(l){const u=(l==null?void 0:l[e])||s;return D.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return i.scopeName=e,[n,lee(i,...t)]}function lee(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((l,{useScope:u,scopeName:f})=>{const m=u(s)[`__scope${f}`];return{...l,...m}},{});return D.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function a4(e){const[t,r]=D.useState(void 0);return xs(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const u=s.borderBoxSize,f=Array.isArray(u)?u[0]:u;a=f.inlineSize,l=f.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var o4="Popper",[$7,tx]=oee(o4),[cee,X7]=$7(o4),Y7=e=>{const{__scopePopper:t,children:r}=e,[n,i]=D.useState(null);return x.jsx(cee,{scope:t,anchor:n,onAnchorChange:i,children:r})};Y7.displayName=o4;var K7="PopperAnchor",Q7=D.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=X7(K7,r),a=D.useRef(null),l=Xr(t,a);return D.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:x.jsx(wr.div,{...i,ref:l})});Q7.displayName=K7;var l4="PopperContent",[uee,fee]=$7(l4),Z7=D.forwardRef((e,t)=>{var Se,be,Ce,Pe,Re,Ge;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:d=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:v="optimized",onPlaced:E,..._}=e,N=X7(l4,r),[A,C]=D.useState(null),I=Xr(t,Qe=>C(Qe)),[L,q]=D.useState(null),Q=a4(L),B=(Q==null?void 0:Q.width)??0,M=(Q==null?void 0:Q.height)??0,F=n+(s!=="center"?"-"+s:""),X=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},W=Array.isArray(f)?f:[f],U=W.length>0,re={padding:X,boundary:W.filter(dee),altBoundary:U},{refs:oe,floatingStyles:le,placement:Ne,isPositioned:Ae,middlewareData:de}=KJ({strategy:"fixed",placement:F,whileElementsMounted:(...Qe)=>zJ(...Qe,{animationFrame:v==="always"}),elements:{reference:N.anchor},middleware:[ZJ({mainAxis:i+M,alignmentAxis:a}),u&&JJ({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?eee():void 0,...re}),u&&tee({...re}),ree({...re,apply:({elements:Qe,rects:ct,availableWidth:Ue,availableHeight:pe})=>{const{width:rt,height:nt}=ct.reference,qe=Qe.floating.style;qe.setProperty("--radix-popper-available-width",`${Ue}px`),qe.setProperty("--radix-popper-available-height",`${pe}px`),qe.setProperty("--radix-popper-anchor-width",`${rt}px`),qe.setProperty("--radix-popper-anchor-height",`${nt}px`)}}),L&&iee({element:L,padding:l}),pee({arrowWidth:B,arrowHeight:M}),y&&nee({strategy:"referenceHidden",...re})]}),[_e,Te]=tk(Ne),He=ki(E);xs(()=>{Ae&&(He==null||He())},[Ae,He]);const j=(Se=de.arrow)==null?void 0:Se.x,V=(be=de.arrow)==null?void 0:be.y,G=((Ce=de.arrow)==null?void 0:Ce.centerOffset)!==0,[Z,ie]=D.useState();return xs(()=>{A&&ie(window.getComputedStyle(A).zIndex)},[A]),x.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:Ae?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(Pe=de.transformOrigin)==null?void 0:Pe.x,(Re=de.transformOrigin)==null?void 0:Re.y].join(" "),...((Ge=de.hide)==null?void 0:Ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:x.jsx(uee,{scope:r,placedSide:_e,onArrowChange:q,arrowX:j,arrowY:V,shouldHideArrow:G,children:x.jsx(wr.div,{"data-side":_e,"data-align":Te,..._,ref:I,style:{..._.style,animation:Ae?void 0:"none"}})})})});Z7.displayName=l4;var J7="PopperArrow",hee={top:"bottom",right:"left",bottom:"top",left:"right"},ek=D.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=fee(J7,n),a=hee[s.placedSide];return x.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:x.jsx(aee,{...i,ref:r,style:{...i.style,display:"block"}})})});ek.displayName=J7;function dee(e){return e!==null}var pee=e=>({name:"transformOrigin",options:e,fn(t){var N,A,C;const{placement:r,rects:n,middlewareData:i}=t,a=((N=i.arrow)==null?void 0:N.centerOffset)!==0,l=a?0:e.arrowWidth,u=a?0:e.arrowHeight,[f,d]=tk(r),m={start:"0%",center:"50%",end:"100%"}[d],y=(((A=i.arrow)==null?void 0:A.x)??0)+l/2,v=(((C=i.arrow)==null?void 0:C.y)??0)+u/2;let E="",_="";return f==="bottom"?(E=a?m:`${y}px`,_=`${-u}px`):f==="top"?(E=a?m:`${y}px`,_=`${n.floating.height+u}px`):f==="right"?(E=`${-u}px`,_=a?m:`${v}px`):f==="left"&&(E=`${n.floating.width+u}px`,_=a?m:`${v}px`),{data:{x:E,y:_}}}});function tk(e){const[t,r="center"]=e.split("-");return[t,r]}var rk=Y7,nk=Q7,ik=Z7,sk=ek,[rx,Pne]=Iu("Tooltip",[tx]),nx=tx(),ak="TooltipProvider",gee=700,Uy="tooltip.open",[mee,c4]=rx(ak),ok=e=>{const{__scopeTooltip:t,delayDuration:r=gee,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=e,[a,l]=D.useState(!0),u=D.useRef(!1),f=D.useRef(0);return D.useEffect(()=>{const d=f.current;return()=>window.clearTimeout(d)},[]),x.jsx(mee,{scope:t,isOpenDelayed:a,delayDuration:r,onOpen:D.useCallback(()=>{window.clearTimeout(f.current),l(!1)},[]),onClose:D.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:D.useCallback(d=>{u.current=d},[]),disableHoverableContent:i,children:s})};ok.displayName=ak;var ix="Tooltip",[xee,sx]=rx(ix),lk=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:a,delayDuration:l}=e,u=c4(ix,e.__scopeTooltip),f=nx(t),[d,m]=D.useState(null),y=vf(),v=D.useRef(0),E=a??u.disableHoverableContent,_=l??u.delayDuration,N=D.useRef(!1),[A=!1,C]=kf({prop:n,defaultProp:i,onChange:B=>{B?(u.onOpen(),document.dispatchEvent(new CustomEvent(Uy))):u.onClose(),s==null||s(B)}}),I=D.useMemo(()=>A?N.current?"delayed-open":"instant-open":"closed",[A]),L=D.useCallback(()=>{window.clearTimeout(v.current),v.current=0,N.current=!1,C(!0)},[C]),q=D.useCallback(()=>{window.clearTimeout(v.current),v.current=0,C(!1)},[C]),Q=D.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{N.current=!0,C(!0),v.current=0},_)},[_,C]);return D.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),x.jsx(rk,{...f,children:x.jsx(xee,{scope:t,contentId:y,open:A,stateAttribute:I,trigger:d,onTriggerChange:m,onTriggerEnter:D.useCallback(()=>{u.isOpenDelayed?Q():L()},[u.isOpenDelayed,Q,L]),onTriggerLeave:D.useCallback(()=>{E?q():(window.clearTimeout(v.current),v.current=0)},[q,E]),onOpen:L,onClose:q,disableHoverableContent:E,children:r})})};lk.displayName=ix;var Wy="TooltipTrigger",ck=D.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=sx(Wy,r),s=c4(Wy,r),a=nx(r),l=D.useRef(null),u=Xr(t,l,i.onTriggerChange),f=D.useRef(!1),d=D.useRef(!1),m=D.useCallback(()=>f.current=!1,[]);return D.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),x.jsx(nk,{asChild:!0,...a,children:x.jsx(wr.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:u,onPointerMove:nr(e.onPointerMove,y=>{y.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:nr(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:nr(e.onPointerDown,()=>{f.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:nr(e.onFocus,()=>{f.current||i.onOpen()}),onBlur:nr(e.onBlur,i.onClose),onClick:nr(e.onClick,i.onClose)})})});ck.displayName=Wy;var vee="TooltipPortal",[One,wee]=rx(vee,{forceMount:void 0}),kd="TooltipContent",uk=D.forwardRef((e,t)=>{const r=wee(kd,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=e,a=sx(kd,e.__scopeTooltip);return x.jsx(Bo,{present:n||a.open,children:a.disableHoverableContent?x.jsx(fk,{side:i,...s,ref:t}):x.jsx(yee,{side:i,...s,ref:t})})}),yee=D.forwardRef((e,t)=>{const r=sx(kd,e.__scopeTooltip),n=c4(kd,e.__scopeTooltip),i=D.useRef(null),s=Xr(t,i),[a,l]=D.useState(null),{trigger:u,onClose:f}=r,d=i.current,{onPointerInTransitChange:m}=n,y=D.useCallback(()=>{l(null),m(!1)},[m]),v=D.useCallback((E,_)=>{const N=E.currentTarget,A={x:E.clientX,y:E.clientY},C=Eee(A,N.getBoundingClientRect()),I=Aee(A,C),L=Cee(_.getBoundingClientRect()),q=Tee([...I,...L]);l(q),m(!0)},[m]);return D.useEffect(()=>()=>y(),[y]),D.useEffect(()=>{if(u&&d){const E=N=>v(N,d),_=N=>v(N,u);return u.addEventListener("pointerleave",E),d.addEventListener("pointerleave",_),()=>{u.removeEventListener("pointerleave",E),d.removeEventListener("pointerleave",_)}}},[u,d,v,y]),D.useEffect(()=>{if(a){const E=_=>{const N=_.target,A={x:_.clientX,y:_.clientY},C=(u==null?void 0:u.contains(N))||(d==null?void 0:d.contains(N)),I=!Nee(A,a);C?y():I&&(y(),f())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[u,d,a,f,y]),x.jsx(fk,{...e,ref:s})}),[bee,_ee]=rx(ix,{isInside:!1}),fk=D.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...l}=e,u=sx(kd,r),f=nx(r),{onClose:d}=u;return D.useEffect(()=>(document.addEventListener(Uy,d),()=>document.removeEventListener(Uy,d)),[d]),D.useEffect(()=>{if(u.trigger){const m=y=>{const v=y.target;v!=null&&v.contains(u.trigger)&&d()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,d]),x.jsx(H1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:m=>m.preventDefault(),onDismiss:d,children:x.jsxs(ik,{"data-state":u.stateAttribute,...f,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[x.jsx(Q5,{children:n}),x.jsx(bee,{scope:r,isInside:!0,children:x.jsx(fF,{id:u.contentId,role:"tooltip",children:i||n})})]})})});uk.displayName=kd;var hk="TooltipArrow",See=D.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=nx(r);return _ee(hk,r).isInside?null:x.jsx(sk,{...i,...n,ref:t})});See.displayName=hk;function Eee(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Aee(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Cee(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function Nee(e,t){const{x:r,y:n}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const l=t[s].x,u=t[s].y,f=t[a].x,d=t[a].y;u>n!=d>n&&r<(f-l)*(n-u)/(d-u)+l&&(i=!i)}return i}function Tee(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Iee(t)}function Iee(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const s=r[r.length-1],a=r[r.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var kee=ok,Pee=lk,Oee=ck,dk=uk;const pk=kee,gk=Pee,mk=Oee,u4=D.forwardRef(({className:e,sideOffset:t=4,...r},n)=>x.jsx(dk,{ref:n,sideOffset:t,className:Zt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));u4.displayName=dk.displayName;const Ree=e=>e?parseFloat(e.replace(",",".")):null,Lee=e=>{if(!e||e.trim()==="")return null;const t=e.trim();if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;const r=t.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/);if(r){const[,s,a,l]=r;return`${l}-${a.padStart(2,"0")}-${s.padStart(2,"0")}`}const n=t.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/);if(n){const[,s,a,l]=n;return parseInt(s)>12?`${l}-${s.padStart(2,"0")}-${a.padStart(2,"0")}`:`${l}-${s.padStart(2,"0")}-${a.padStart(2,"0")}`}try{const s=new Date(t);if(!isNaN(s.getTime()))return s.toISOString().split("T")[0]}catch{}const i=t.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})/);if(i){const[,s,a,l]=i;return`${l}-${a.padStart(2,"0")}-${s.padStart(2,"0")}`}return null},Dee=e=>{const t=e==null?void 0:e.toLowerCase();return t==="manuteno"?"manuteno":t==="baixado"?"baixado":"ativo"},Fee=e=>{const t=e==null?void 0:e.toLowerCase();return t==="sim"||t==="true"},Mee=e=>!e.nome||!e.codigo?"Nome e cdigo so obrigatrios":null,jee=(e,t)=>({name:e.nome,code:e.codigo,location:e.localizacao||null,status:Dee(e.status),acquisition_date:Lee(e.data_aquisicao),value:Ree(e.valor),serial_number:e.numero_serie||null,color:e.cor||null,manufacturer:e.fabricante||null,model:e.modelo||null,capacity:e.capacidade||null,voltage:e.voltagem||null,origin:e.origem||null,condition:e.condicoes||null,inalienable:Fee(e.inalienavel),holder:e.detentor||null,notes:e.observacoes||null,company_id:t}),Bee=()=>{const{profile:e}=Si(),{toast:t}=ns(),r=xl();return pl({mutationFn:async n=>{if(!(e!=null&&e.company_id))throw new Error("Company ID not found");const i={success:0,errors:[]};for(let s=0;s<n.length;s++){const a=n[s],l=s+2,u=Mee(a);if(u){i.errors.push({row:l,error:u,data:a});continue}try{const f=jee(a,e.company_id),{error:d}=await pr.from("assets").insert(f);d?i.errors.push({row:l,error:d.message,data:a}):i.success++}catch(f){i.errors.push({row:l,error:f instanceof Error?f.message:"Erro desconhecido",data:a})}}return i},onSuccess:n=>{r.invalidateQueries({queryKey:["assets"]}),r.invalidateQueries({queryKey:["dashboard-stats"]}),r.invalidateQueries({queryKey:["recent-assets"]}),t({title:"Importao concluda!",description:`${n.success} ativos importados com sucesso`})},onError:n=>{t({title:"Erro na importao",description:n.message||"Erro ao importar ativos",variant:"destructive"})}})},Uee=()=>{const{toast:e}=ns(),[t,r]=D.useState(null),[n,i]=D.useState(0);return{file:t,inputKey:n,handleFileChange:u=>{var d;const f=(d=u.target.files)==null?void 0:d[0];f&&f.type==="text/csv"?r(f):e({title:"Arquivo invlido",description:"Por favor, selecione um arquivo CSV",variant:"destructive"})},removeFile:()=>{r(null),i(u=>u+1)},resetFile:()=>{r(null),i(u=>u+1)},setFile:r}},Wee={nome:"nome",cdigo:"codigo",codigo:"codigo",localizao:"localizacao",localizacao:"localizacao",local:"localizacao",status:"status",aquisio:"data_aquisicao","data de aquisio":"data_aquisicao",data_aquisicao:"data_aquisicao",data:"data_aquisicao",valor:"valor",preo:"valor",preco:"valor","nmero de srie":"numero_serie",numero_serie:"numero_serie",serial:"numero_serie",cor:"cor",fabricante:"fabricante",marca:"fabricante",modelo:"modelo",capacidade:"capacidade",voltagem:"voltagem",origem:"origem",condies:"condicoes",condicoes:"condicoes",condio:"condicoes",condicao:"condicoes",inalienvel:"inalienavel",inalienavel:"inalienavel",detentor:"detentor",responsvel:"detentor",responsavel:"detentor",observaes:"observacoes",observacoes:"observacoes",obs:"observacoes",notas:"observacoes"},zee=`nome,codigo,localizacao,status,data_aquisicao,valor,numero_serie,cor,fabricante,modelo,capacidade,voltagem,origem,condicoes,inalienavel,detentor,observacoes
Notebook Dell,NB001,Sala 101,ativo,2023-01-15,2500.00,SN123456,Preto,Dell,Inspiron 15,8GB RAM,Bivolt,compra,Novo,no,Joo Silva,Notebook para desenvolvimento
Monitor Samsung,MON001,Sala 102,ativo,2023-02-10,800.00,MON789,Branco,Samsung,24 polegadas,1920x1080,110V,compra,Usado,no,Maria Santos,Monitor secundrio`,Hee=e=>Wee[e.toLowerCase()]||e,Vee=()=>{const e=new Blob([zee],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),r=URL.createObjectURL(e);t.setAttribute("href",r),t.setAttribute("download","template_ativos.csv"),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)};function qee(e,t=[]){let r=[];function n(s,a){const l=D.createContext(a),u=r.length;r=[...r,a];function f(m){const{scope:y,children:v,...E}=m,_=(y==null?void 0:y[e][u])||l,N=D.useMemo(()=>E,Object.values(E));return x.jsx(_.Provider,{value:N,children:v})}function d(m,y){const v=(y==null?void 0:y[e][u])||l,E=D.useContext(v);if(E)return E;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${s}\``)}return f.displayName=s+"Provider",[f,d]}const i=()=>{const s=r.map(a=>D.createContext(a));return function(l){const u=(l==null?void 0:l[e])||s;return D.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return i.scopeName=e,[n,Gee(i,...t)]}function Gee(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((l,{useScope:u,scopeName:f})=>{const m=u(s)[`__scope${f}`];return{...l,...m}},{});return D.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var f4="Progress",h4=100,[$ee,Rne]=qee(f4),[Xee,Yee]=$ee(f4),xk=D.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=Kee,...a}=e;(i||i===0)&&!WE(i)&&console.error(Qee(`${i}`,"Progress"));const l=WE(i)?i:h4;n!==null&&!zE(n,l)&&console.error(Zee(`${n}`,"Progress"));const u=zE(n,l)?n:null,f=Km(u)?s(u,l):void 0;return x.jsx(Xee,{scope:r,value:u,max:l,children:x.jsx(wr.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Km(u)?u:void 0,"aria-valuetext":f,role:"progressbar","data-state":yk(u,l),"data-value":u??void 0,"data-max":l,...a,ref:t})})});xk.displayName=f4;var vk="ProgressIndicator",wk=D.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=Yee(vk,r);return x.jsx(wr.div,{"data-state":yk(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});wk.displayName=vk;function Kee(e,t){return`${Math.round(e/t*100)}%`}function yk(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Km(e){return typeof e=="number"}function WE(e){return Km(e)&&!isNaN(e)&&e>0}function zE(e,t){return Km(e)&&!isNaN(e)&&e<=t&&e>=0}function Qee(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${h4}\`.`}function Zee(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${h4} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var bk=xk,Jee=wk;const Qm=D.forwardRef(({className:e,value:t,indicatorClassName:r,...n},i)=>x.jsx(bk,{ref:i,className:Zt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:x.jsx(Jee,{className:Zt("h-full w-full flex-1 bg-primary transition-all",r),style:{transform:`translateX(-${100-(t||0)}%)`}})}));Qm.displayName=bk.displayName;const ete=()=>x.jsxs("div",{children:[x.jsxs(zt,{variant:"outline",onClick:Vee,className:"mb-4",children:[x.jsx(q1,{className:"h-4 w-4 mr-2"}),"Baixar Template CSV"]}),x.jsxs(Hi,{children:[x.jsx(MF,{className:"h-4 w-4"}),x.jsxs(Vi,{children:["Baixe o template CSV acima para ver o formato correto dos dados. Os campos ",x.jsx("strong",{children:"nome"})," e ",x.jsx("strong",{children:"codigo"})," so obrigatrios."]})]})]}),tte=({file:e,inputKey:t,handleFileChange:r,removeFile:n,importing:i})=>x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"csvFile",children:"Arquivo CSV"}),x.jsx(Mr,{id:"csvFile",type:"file",accept:".csv",onChange:r,disabled:i,className:"cursor-pointer"},t)]}),e&&x.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsxs("p",{className:"text-sm text-gray-600",children:[x.jsx("strong",{children:"Arquivo selecionado:"})," ",e.name]}),x.jsxs("p",{className:"text-sm text-gray-600",children:[x.jsx("strong",{children:"Tamanho:"})," ",(e.size/1024).toFixed(2)," KB"]})]}),x.jsxs(gk,{children:[x.jsx(mk,{asChild:!0,children:x.jsx("button",{type:"button",onClick:n,className:"ml-4 text-gray-400 hover:text-red-600 text-lg font-bold focus:outline-none","aria-label":"Remover arquivo",children:""})}),x.jsx(u4,{side:"left",align:"center",children:"Remover arquivo selecionado"})]})]})]}),rte=({progress:e})=>x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center justify-between text-sm",children:[x.jsx("span",{children:"Importando ativos..."}),x.jsxs("span",{children:[Math.round(e),"%"]})]}),x.jsx(Qm,{value:e})]}),nte=({result:e})=>e?x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center text-green-600",children:[x.jsx(C8,{className:"h-5 w-5 mr-2"}),x.jsxs("span",{className:"font-medium",children:[e.success," ativos importados com sucesso"]})]}),e.errors.length>0&&x.jsxs("div",{children:[x.jsxs("h4",{className:"font-medium text-red-600 mb-2",children:[e.errors.length," erros encontrados:"]}),x.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:e.errors.map((t,r)=>x.jsx(Hi,{variant:"destructive",children:x.jsxs(Vi,{children:[x.jsxs("strong",{children:["Linha ",t.row,":"]})," ",t.error,x.jsx("br",{}),x.jsxs("small",{children:["Dados: ",JSON.stringify(t.data)]})]})},r))})]})]}):null;function _k(){const{toast:e}=ns(),t=Bee(),{file:r,inputKey:n,handleFileChange:i,removeFile:s}=Uee(),[a,l]=D.useState(!1),[u,f]=D.useState(0),[d,m]=D.useState(null),y=()=>{r&&(l(!0),f(0),m(null),oJ.parse(r,{header:!0,skipEmptyLines:!0,transformHeader:Hee,complete:E=>{if(l(!1),E.errors.length>0){e({title:"Erro ao processar CSV",description:"Verifique o formato do arquivo",variant:"destructive"});return}t.mutate(E.data,{onSuccess:_=>{m(_)}})},error:E=>{l(!1),e({title:"Erro ao ler arquivo",description:E.message,variant:"destructive"})}}))},v=()=>{s(),m(null)};return x.jsx(pk,{delayDuration:500,children:x.jsx("div",{className:"space-y-6",children:x.jsxs(Tr,{className:"border-0 shadow-md",children:[x.jsx(an,{children:x.jsxs(sn,{className:"flex items-center",children:[x.jsx(q1,{className:"h-5 w-5 mr-2 text-blue-600"}),"Importar Ativos por CSV"]})}),x.jsxs(Or,{className:"space-y-6",children:[x.jsx(ete,{}),x.jsx(tte,{file:r,inputKey:n,handleFileChange:i,removeFile:v,importing:a}),a&&x.jsx(rte,{progress:u}),x.jsxs(zt,{onClick:y,disabled:!r||a||t.isPending,className:"w-full",children:[x.jsx(l3,{className:"h-4 w-4 mr-2"}),a||t.isPending?"Importando...":"Importar Ativos"]}),x.jsx(nte,{result:d})]})]})})})}function ite({canEdit:e,isMobileOrTablet:t,isDesktop:r,loading:n,exportLoading:i,onScannerOpen:s,onExport:a}){return e?x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Ativos"}),x.jsx("p",{className:"mt-2 text-gray-600",children:"Gerencie todos os ativos patrimoniais da empresa"})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[t&&x.jsxs(zt,{variant:"outline",onClick:s,className:"w-full sm:w-auto",children:[x.jsx(E8,{className:"h-4 w-4 mr-2"}),"Buscar por Cdigo"]}),r&&x.jsxs(x.Fragment,{children:[x.jsxs(zt,{variant:"outline",onClick:a,className:"w-full sm:w-auto",disabled:n||i,children:[x.jsx(q1,{className:"h-4 w-4 mr-2"}),"Exportar"]}),x.jsxs(Wd,{children:[x.jsx(j2,{asChild:!0,children:x.jsxs(zt,{variant:"outline",className:"w-full sm:w-auto",children:[x.jsx(l3,{className:"h-4 w-4 mr-2"}),"Importar CSV"]})}),x.jsx(zf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:x.jsx(_k,{})})]})]}),x.jsx(zt,{asChild:!0,className:"w-full sm:w-auto",children:x.jsxs(io,{to:"/assets/new",children:[x.jsx(A2,{className:"h-4 w-4 mr-2"}),"Novo Ativo"]})})]})]}):x.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Ativos"}),x.jsx("p",{className:"mt-2 text-gray-600",children:"Gerencie todos os ativos patrimoniais da empresa"})]})})}function d4(e){const t=D.useRef({value:e,previous:e});return D.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ste=[" ","Enter","ArrowUp","ArrowDown"],ate=[" ","Enter"],op="Select",[ax,ox,ote]=Q6(op),[Kd,Lne]=Iu(op,[ote,tx]),lx=tx(),[lte,Ou]=Kd(op),[cte,ute]=Kd(op),Sk=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:s,value:a,defaultValue:l,onValueChange:u,dir:f,name:d,autoComplete:m,disabled:y,required:v,form:E}=e,_=lx(t),[N,A]=D.useState(null),[C,I]=D.useState(null),[L,q]=D.useState(!1),Q=$N(f),[B=!1,M]=kf({prop:n,defaultProp:i,onChange:s}),[F,X]=kf({prop:a,defaultProp:l,onChange:u}),W=D.useRef(null),U=N?E||!!N.closest("form"):!0,[re,oe]=D.useState(new Set),le=Array.from(re).map(Ne=>Ne.props.value).join(";");return x.jsx(rk,{..._,children:x.jsxs(lte,{required:v,scope:t,trigger:N,onTriggerChange:A,valueNode:C,onValueNodeChange:I,valueNodeHasChildren:L,onValueNodeHasChildrenChange:q,contentId:vf(),value:F,onValueChange:X,open:B,onOpenChange:M,dir:Q,triggerPointerDownPosRef:W,disabled:y,children:[x.jsx(ax.Provider,{scope:t,children:x.jsx(cte,{scope:e.__scopeSelect,onNativeOptionAdd:D.useCallback(Ne=>{oe(Ae=>new Set(Ae).add(Ne))},[]),onNativeOptionRemove:D.useCallback(Ne=>{oe(Ae=>{const de=new Set(Ae);return de.delete(Ne),de})},[]),children:r})}),U?x.jsxs(Xk,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:m,value:F,onChange:Ne=>X(Ne.target.value),disabled:y,form:E,children:[F===void 0?x.jsx("option",{value:""}):null,Array.from(re)]},le):null]})})};Sk.displayName=op;var Ek="SelectTrigger",Ak=D.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,s=lx(r),a=Ou(Ek,r),l=a.disabled||n,u=Xr(t,a.onTriggerChange),f=ox(r),d=D.useRef("touch"),[m,y,v]=Yk(_=>{const N=f().filter(I=>!I.disabled),A=N.find(I=>I.value===a.value),C=Kk(N,_,A);C!==void 0&&a.onValueChange(C.value)}),E=_=>{l||(a.onOpenChange(!0),v()),_&&(a.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return x.jsx(nk,{asChild:!0,...s,children:x.jsx(wr.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":$k(a.value)?"":void 0,...i,ref:u,onClick:nr(i.onClick,_=>{_.currentTarget.focus(),d.current!=="mouse"&&E(_)}),onPointerDown:nr(i.onPointerDown,_=>{d.current=_.pointerType;const N=_.target;N.hasPointerCapture(_.pointerId)&&N.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(E(_),_.preventDefault())}),onKeyDown:nr(i.onKeyDown,_=>{const N=m.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&y(_.key),!(N&&_.key===" ")&&ste.includes(_.key)&&(E(),_.preventDefault())})})})});Ak.displayName=Ek;var Ck="SelectValue",Nk=D.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:a="",...l}=e,u=Ou(Ck,r),{onValueNodeHasChildrenChange:f}=u,d=s!==void 0,m=Xr(t,u.onValueNodeChange);return xs(()=>{f(d)},[f,d]),x.jsx(wr.span,{...l,ref:m,style:{pointerEvents:"none"},children:$k(u.value)?x.jsx(x.Fragment,{children:a}):s})});Nk.displayName=Ck;var fte="SelectIcon",Tk=D.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return x.jsx(wr.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});Tk.displayName=fte;var hte="SelectPortal",Ik=e=>x.jsx(_2,{asChild:!0,...e});Ik.displayName=hte;var Ff="SelectContent",kk=D.forwardRef((e,t)=>{const r=Ou(Ff,e.__scopeSelect),[n,i]=D.useState();if(xs(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Bf.createPortal(x.jsx(Pk,{scope:e.__scopeSelect,children:x.jsx(ax.Slot,{scope:e.__scopeSelect,children:x.jsx("div",{children:e.children})})}),s):null}return x.jsx(Ok,{...e,ref:t})});kk.displayName=Ff;var _o=10,[Pk,Ru]=Kd(Ff),dte="SelectContentImpl",Ok=D.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:u,align:f,alignOffset:d,arrowPadding:m,collisionBoundary:y,collisionPadding:v,sticky:E,hideWhenDetached:_,avoidCollisions:N,...A}=e,C=Ou(Ff,r),[I,L]=D.useState(null),[q,Q]=D.useState(null),B=Xr(t,Se=>L(Se)),[M,F]=D.useState(null),[X,W]=D.useState(null),U=ox(r),[re,oe]=D.useState(!1),le=D.useRef(!1);D.useEffect(()=>{if(I)return EN(I)},[I]),gN();const Ne=D.useCallback(Se=>{const[be,...Ce]=U().map(Ge=>Ge.ref.current),[Pe]=Ce.slice(-1),Re=document.activeElement;for(const Ge of Se)if(Ge===Re||(Ge==null||Ge.scrollIntoView({block:"nearest"}),Ge===be&&q&&(q.scrollTop=0),Ge===Pe&&q&&(q.scrollTop=q.scrollHeight),Ge==null||Ge.focus(),document.activeElement!==Re))return},[U,q]),Ae=D.useCallback(()=>Ne([M,I]),[Ne,M,I]);D.useEffect(()=>{re&&Ae()},[re,Ae]);const{onOpenChange:de,triggerPointerDownPosRef:_e}=C;D.useEffect(()=>{if(I){let Se={x:0,y:0};const be=Pe=>{var Re,Ge;Se={x:Math.abs(Math.round(Pe.pageX)-(((Re=_e.current)==null?void 0:Re.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((Ge=_e.current)==null?void 0:Ge.y)??0))}},Ce=Pe=>{Se.x<=10&&Se.y<=10?Pe.preventDefault():I.contains(Pe.target)||de(!1),document.removeEventListener("pointermove",be),_e.current=null};return _e.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",Ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",Ce,{capture:!0})}}},[I,de,_e]),D.useEffect(()=>{const Se=()=>de(!1);return window.addEventListener("blur",Se),window.addEventListener("resize",Se),()=>{window.removeEventListener("blur",Se),window.removeEventListener("resize",Se)}},[de]);const[Te,He]=Yk(Se=>{const be=U().filter(Re=>!Re.disabled),Ce=be.find(Re=>Re.ref.current===document.activeElement),Pe=Kk(be,Se,Ce);Pe&&setTimeout(()=>Pe.ref.current.focus())}),j=D.useCallback((Se,be,Ce)=>{const Pe=!le.current&&!Ce;(C.value!==void 0&&C.value===be||Pe)&&(F(Se),Pe&&(le.current=!0))},[C.value]),V=D.useCallback(()=>I==null?void 0:I.focus(),[I]),G=D.useCallback((Se,be,Ce)=>{const Pe=!le.current&&!Ce;(C.value!==void 0&&C.value===be||Pe)&&W(Se)},[C.value]),Z=n==="popper"?zy:Rk,ie=Z===zy?{side:l,sideOffset:u,align:f,alignOffset:d,arrowPadding:m,collisionBoundary:y,collisionPadding:v,sticky:E,hideWhenDetached:_,avoidCollisions:N}:{};return x.jsx(Pk,{scope:r,content:I,viewport:q,onViewportChange:Q,itemRefCallback:j,selectedItem:M,onItemLeave:V,itemTextRefCallback:G,focusSelectedItem:Ae,selectedItemText:X,position:n,isPositioned:re,searchRef:Te,children:x.jsx(x3,{as:If,allowPinchZoom:!0,children:x.jsx(m3,{asChild:!0,trapped:C.open,onMountAutoFocus:Se=>{Se.preventDefault()},onUnmountAutoFocus:nr(i,Se=>{var be;(be=C.trigger)==null||be.focus({preventScroll:!0}),Se.preventDefault()}),children:x.jsx(H1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:Se=>Se.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:x.jsx(Z,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:Se=>Se.preventDefault(),...A,...ie,onPlaced:()=>oe(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...A.style},onKeyDown:nr(A.onKeyDown,Se=>{const be=Se.ctrlKey||Se.altKey||Se.metaKey;if(Se.key==="Tab"&&Se.preventDefault(),!be&&Se.key.length===1&&He(Se.key),["ArrowUp","ArrowDown","Home","End"].includes(Se.key)){let Pe=U().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);if(["ArrowUp","End"].includes(Se.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Se.key)){const Re=Se.target,Ge=Pe.indexOf(Re);Pe=Pe.slice(Ge+1)}setTimeout(()=>Ne(Pe)),Se.preventDefault()}})})})})})})});Ok.displayName=dte;var pte="SelectItemAlignedPosition",Rk=D.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,s=Ou(Ff,r),a=Ru(Ff,r),[l,u]=D.useState(null),[f,d]=D.useState(null),m=Xr(t,B=>d(B)),y=ox(r),v=D.useRef(!1),E=D.useRef(!0),{viewport:_,selectedItem:N,selectedItemText:A,focusSelectedItem:C}=a,I=D.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&f&&_&&N&&A){const B=s.trigger.getBoundingClientRect(),M=f.getBoundingClientRect(),F=s.valueNode.getBoundingClientRect(),X=A.getBoundingClientRect();if(s.dir!=="rtl"){const Re=X.left-M.left,Ge=F.left-Re,Qe=B.left-Ge,ct=B.width+Qe,Ue=Math.max(ct,M.width),pe=window.innerWidth-_o,rt=xy(Ge,[_o,Math.max(_o,pe-Ue)]);l.style.minWidth=ct+"px",l.style.left=rt+"px"}else{const Re=M.right-X.right,Ge=window.innerWidth-F.right-Re,Qe=window.innerWidth-B.right-Ge,ct=B.width+Qe,Ue=Math.max(ct,M.width),pe=window.innerWidth-_o,rt=xy(Ge,[_o,Math.max(_o,pe-Ue)]);l.style.minWidth=ct+"px",l.style.right=rt+"px"}const W=y(),U=window.innerHeight-_o*2,re=_.scrollHeight,oe=window.getComputedStyle(f),le=parseInt(oe.borderTopWidth,10),Ne=parseInt(oe.paddingTop,10),Ae=parseInt(oe.borderBottomWidth,10),de=parseInt(oe.paddingBottom,10),_e=le+Ne+re+de+Ae,Te=Math.min(N.offsetHeight*5,_e),He=window.getComputedStyle(_),j=parseInt(He.paddingTop,10),V=parseInt(He.paddingBottom,10),G=B.top+B.height/2-_o,Z=U-G,ie=N.offsetHeight/2,Se=N.offsetTop+ie,be=le+Ne+Se,Ce=_e-be;if(be<=G){const Re=W.length>0&&N===W[W.length-1].ref.current;l.style.bottom="0px";const Ge=f.clientHeight-_.offsetTop-_.offsetHeight,Qe=Math.max(Z,ie+(Re?V:0)+Ge+Ae),ct=be+Qe;l.style.height=ct+"px"}else{const Re=W.length>0&&N===W[0].ref.current;l.style.top="0px";const Qe=Math.max(G,le+_.offsetTop+(Re?j:0)+ie)+Ce;l.style.height=Qe+"px",_.scrollTop=be-G+_.offsetTop}l.style.margin=`${_o}px 0`,l.style.minHeight=Te+"px",l.style.maxHeight=U+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[y,s.trigger,s.valueNode,l,f,_,N,A,s.dir,n]);xs(()=>I(),[I]);const[L,q]=D.useState();xs(()=>{f&&q(window.getComputedStyle(f).zIndex)},[f]);const Q=D.useCallback(B=>{B&&E.current===!0&&(I(),C==null||C(),E.current=!1)},[I,C]);return x.jsx(mte,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:Q,children:x.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:L},children:x.jsx(wr.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Rk.displayName=pte;var gte="SelectPopperPosition",zy=D.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=_o,...s}=e,a=lx(r);return x.jsx(ik,{...a,...s,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zy.displayName=gte;var[mte,p4]=Kd(Ff,{}),Hy="SelectViewport",Lk=D.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,s=Ru(Hy,r),a=p4(Hy,r),l=Xr(t,s.onViewportChange),u=D.useRef(0);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),x.jsx(ax.Slot,{scope:r,children:x.jsx(wr.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:nr(i.onScroll,f=>{const d=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:y}=a;if(y!=null&&y.current&&m){const v=Math.abs(u.current-d.scrollTop);if(v>0){const E=window.innerHeight-_o*2,_=parseFloat(m.style.minHeight),N=parseFloat(m.style.height),A=Math.max(_,N);if(A<E){const C=A+v,I=Math.min(E,C),L=C-I;m.style.height=I+"px",m.style.bottom==="0px"&&(d.scrollTop=L>0?L:0,m.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});Lk.displayName=Hy;var Dk="SelectGroup",[xte,vte]=Kd(Dk),wte=D.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=vf();return x.jsx(xte,{scope:r,id:i,children:x.jsx(wr.div,{role:"group","aria-labelledby":i,...n,ref:t})})});wte.displayName=Dk;var Fk="SelectLabel",Mk=D.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=vte(Fk,r);return x.jsx(wr.div,{id:i.id,...n,ref:t})});Mk.displayName=Fk;var Zm="SelectItem",[yte,jk]=Kd(Zm),Bk=D.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...a}=e,l=Ou(Zm,r),u=Ru(Zm,r),f=l.value===n,[d,m]=D.useState(s??""),[y,v]=D.useState(!1),E=Xr(t,C=>{var I;return(I=u.itemRefCallback)==null?void 0:I.call(u,C,n,i)}),_=vf(),N=D.useRef("touch"),A=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return x.jsx(yte,{scope:r,value:n,disabled:i,textId:_,isSelected:f,onItemTextChange:D.useCallback(C=>{m(I=>I||((C==null?void 0:C.textContent)??"").trim())},[]),children:x.jsx(ax.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:x.jsx(wr.div,{role:"option","aria-labelledby":_,"data-highlighted":y?"":void 0,"aria-selected":f&&y,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:E,onFocus:nr(a.onFocus,()=>v(!0)),onBlur:nr(a.onBlur,()=>v(!1)),onClick:nr(a.onClick,()=>{N.current!=="mouse"&&A()}),onPointerUp:nr(a.onPointerUp,()=>{N.current==="mouse"&&A()}),onPointerDown:nr(a.onPointerDown,C=>{N.current=C.pointerType}),onPointerMove:nr(a.onPointerMove,C=>{var I;N.current=C.pointerType,i?(I=u.onItemLeave)==null||I.call(u):N.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:nr(a.onPointerLeave,C=>{var I;C.currentTarget===document.activeElement&&((I=u.onItemLeave)==null||I.call(u))}),onKeyDown:nr(a.onKeyDown,C=>{var L;((L=u.searchRef)==null?void 0:L.current)!==""&&C.key===" "||(ate.includes(C.key)&&A(),C.key===" "&&C.preventDefault())})})})})});Bk.displayName=Zm;var k0="SelectItemText",Uk=D.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...s}=e,a=Ou(k0,r),l=Ru(k0,r),u=jk(k0,r),f=ute(k0,r),[d,m]=D.useState(null),y=Xr(t,A=>m(A),u.onItemTextChange,A=>{var C;return(C=l.itemTextRefCallback)==null?void 0:C.call(l,A,u.value,u.disabled)}),v=d==null?void 0:d.textContent,E=D.useMemo(()=>x.jsx("option",{value:u.value,disabled:u.disabled,children:v},u.value),[u.disabled,u.value,v]),{onNativeOptionAdd:_,onNativeOptionRemove:N}=f;return xs(()=>(_(E),()=>N(E)),[_,N,E]),x.jsxs(x.Fragment,{children:[x.jsx(wr.span,{id:u.textId,...s,ref:y}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Bf.createPortal(s.children,a.valueNode):null]})});Uk.displayName=k0;var Wk="SelectItemIndicator",zk=D.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return jk(Wk,r).isSelected?x.jsx(wr.span,{"aria-hidden":!0,...n,ref:t}):null});zk.displayName=Wk;var Vy="SelectScrollUpButton",Hk=D.forwardRef((e,t)=>{const r=Ru(Vy,e.__scopeSelect),n=p4(Vy,e.__scopeSelect),[i,s]=D.useState(!1),a=Xr(t,n.onScrollButtonChange);return xs(()=>{if(r.viewport&&r.isPositioned){let l=function(){const f=u.scrollTop>0;s(f)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?x.jsx(qk,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});Hk.displayName=Vy;var qy="SelectScrollDownButton",Vk=D.forwardRef((e,t)=>{const r=Ru(qy,e.__scopeSelect),n=p4(qy,e.__scopeSelect),[i,s]=D.useState(!1),a=Xr(t,n.onScrollButtonChange);return xs(()=>{if(r.viewport&&r.isPositioned){let l=function(){const f=u.scrollHeight-u.clientHeight,d=Math.ceil(u.scrollTop)<f;s(d)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?x.jsx(qk,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});Vk.displayName=qy;var qk=D.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,s=Ru("SelectScrollButton",r),a=D.useRef(null),l=ox(r),u=D.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return D.useEffect(()=>()=>u(),[u]),xs(()=>{var d;const f=l().find(m=>m.ref.current===document.activeElement);(d=f==null?void 0:f.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),x.jsx(wr.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:nr(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:nr(i.onPointerMove,()=>{var f;(f=s.onItemLeave)==null||f.call(s),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:nr(i.onPointerLeave,()=>{u()})})}),bte="SelectSeparator",Gk=D.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return x.jsx(wr.div,{"aria-hidden":!0,...n,ref:t})});Gk.displayName=bte;var Gy="SelectArrow",_te=D.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=lx(r),s=Ou(Gy,r),a=Ru(Gy,r);return s.open&&a.position==="popper"?x.jsx(sk,{...i,...n,ref:t}):null});_te.displayName=Gy;function $k(e){return e===""||e===void 0}var Xk=D.forwardRef((e,t)=>{const{value:r,...n}=e,i=D.useRef(null),s=Xr(t,i),a=d4(r);return D.useEffect(()=>{const l=i.current,u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==r&&d){const m=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(m)}},[a,r]),x.jsx(V1,{asChild:!0,children:x.jsx("select",{...n,ref:s,defaultValue:r})})});Xk.displayName="BubbleSelect";function Yk(e){const t=ki(e),r=D.useRef(""),n=D.useRef(0),i=D.useCallback(a=>{const l=r.current+a;t(l),function u(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(l)},[t]),s=D.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return D.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function Kk(e,t,r){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let a=Ste(e,Math.max(s,0));i.length===1&&(a=a.filter(f=>f!==r));const u=a.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function Ste(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Ete=Sk,Qk=Ak,Ate=Nk,Cte=Tk,Nte=Ik,Zk=kk,Tte=Lk,Jk=Mk,eP=Bk,Ite=Uk,kte=zk,tP=Hk,rP=Vk,nP=Gk;const Jm=Ete,e2=Ate,O1=D.forwardRef(({className:e,children:t,...r},n)=>x.jsxs(Qk,{ref:n,className:Zt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,x.jsx(Cte,{asChild:!0,children:x.jsx(A8,{className:"h-4 w-4 opacity-50"})})]}));O1.displayName=Qk.displayName;const iP=D.forwardRef(({className:e,...t},r)=>x.jsx(tP,{ref:r,className:Zt("flex cursor-default items-center justify-center py-1",e),...t,children:x.jsx(FF,{className:"h-4 w-4"})}));iP.displayName=tP.displayName;const sP=D.forwardRef(({className:e,...t},r)=>x.jsx(rP,{ref:r,className:Zt("flex cursor-default items-center justify-center py-1",e),...t,children:x.jsx(A8,{className:"h-4 w-4"})}));sP.displayName=rP.displayName;const R1=D.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>x.jsx(Nte,{children:x.jsxs(Zk,{ref:i,className:Zt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[x.jsx(iP,{}),x.jsx(Tte,{className:Zt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),x.jsx(sP,{})]})}));R1.displayName=Zk.displayName;const Pte=D.forwardRef(({className:e,...t},r)=>x.jsx(Jk,{ref:r,className:Zt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Pte.displayName=Jk.displayName;const Oa=D.forwardRef(({className:e,children:t,...r},n)=>x.jsxs(eP,{ref:n,className:Zt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(kte,{children:x.jsx(n3,{className:"h-4 w-4"})})}),x.jsx(Ite,{children:t})]}));Oa.displayName=eP.displayName;const Ote=D.forwardRef(({className:e,...t},r)=>x.jsx(nP,{ref:r,className:Zt("-mx-1 my-1 h-px bg-muted",e),...t}));Ote.displayName=nP.displayName;function Rte({search:e,statusFilter:t,locationFilter:r,locations:n,onSearchChange:i,onStatusFilterChange:s,onLocationFilterChange:a}){return x.jsxs(Tr,{className:"border-0 shadow-md",children:[x.jsx(an,{children:x.jsx(sn,{className:"text-lg",children:"Filtros"})}),x.jsx(Or,{children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"relative",children:[x.jsx(qF,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),x.jsx(Mr,{placeholder:"Buscar por nome ou cdigo...",value:e,onChange:l=>i(l.target.value),className:"pl-10 pr-8"}),e&&x.jsx("button",{type:"button",onClick:()=>i(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":"Limpar busca",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsxs(Jm,{value:t,onValueChange:s,children:[x.jsx(O1,{children:x.jsx(e2,{placeholder:"Status"})}),x.jsxs(R1,{children:[x.jsx(Oa,{value:"all",children:"Todos os status"}),x.jsx(Oa,{value:"ativo",children:x.jsx(_i,{className:"bg-green-100 text-green-800",children:"ATIVO"})}),x.jsx(Oa,{value:"manuteno",children:x.jsx(_i,{className:"bg-yellow-100 text-yellow-800",children:"MANUTENO"})}),x.jsx(Oa,{value:"baixado",children:x.jsx(_i,{className:"bg-red-100 text-red-800",children:"BAIXADO"})})]})]}),x.jsxs(Jm,{value:r,onValueChange:a,children:[x.jsx(O1,{children:x.jsx(e2,{placeholder:"Localizao"})}),x.jsxs(R1,{children:[x.jsx(Oa,{value:"all",children:"Todas as localizaes"}),n==null?void 0:n.map(l=>x.jsx(Oa,{value:l,children:l},l))]})]})]})})]})}const Lte={ativo:"bg-green-100 text-green-800",manuteno:"bg-yellow-100 text-yellow-800",baixado:"bg-red-100 text-red-800"};function Dte({asset:e,isLast:t=!1,onIntersect:r}){const n=s=>x.jsx(_i,{className:Lte[s],children:s.toUpperCase()}),i=t?r:void 0;return x.jsx(Tr,{className:"border-0 shadow-md hover:shadow-lg transition-shadow group",ref:i,children:x.jsxs(Or,{className:"p-6",children:[x.jsxs("div",{className:"flex justify-between items-start mb-4",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors truncate",children:e.name}),x.jsxs("p",{className:"text-sm text-gray-500",children:["#",e.code]})]}),n(e.status)]}),x.jsxs("div",{className:"space-y-2 mb-4",children:[x.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[x.jsx(o3,{className:"h-4 w-4 mr-2 flex-shrink-0"}),x.jsx("span",{className:"truncate",children:e.location?e.location:"-"})]}),x.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[x.jsx(i3,{className:"h-4 w-4 mr-2 flex-shrink-0"}),x.jsx("span",{children:e.value?wm(e.value):"-"})]}),x.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[x.jsx(r3,{className:"h-4 w-4 mr-2 flex-shrink-0"}),x.jsx("span",{children:e.acquisition_date?"Adiquirido em: "+ay(e.acquisition_date+"T00:00:00"):"Adicionado em: "+ay(e.created_at)})]})]}),x.jsx("div",{className:"flex justify-between items-center",children:x.jsx(zt,{variant:"outline",size:"sm",asChild:!0,children:x.jsxs(io,{to:`/assets/${e.id}`,children:[x.jsx(v1,{className:"h-4 w-4 mr-2"}),"Ver Detalhes"]})})})]})})}function Fte({assets:e,loading:t,loadingMore:r,hasMore:n,canEdit:i,isDesktop:s,onLoadMore:a}){const l=D.useRef(null),u=D.useRef(null),f=D.useCallback(d=>{!n||r||(l.current&&l.current.disconnect(),l.current=new IntersectionObserver(m=>{m[0].isIntersecting&&n&&!r&&a()}),d&&l.current.observe(d))},[n,r,a]);return t?x.jsx("div",{className:"col-span-full flex justify-center py-12",children:x.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),x.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[x.jsx(Cn,{className:"h-5 w-5 animate-pulse"}),x.jsx("span",{className:"text-base",children:"Carregando ativos..."})]})]})}):e.length===0?x.jsx("div",{className:"col-span-full",children:x.jsx(Tr,{className:"border-0 shadow-md",children:x.jsxs(Or,{className:"text-center py-12",children:[x.jsx(Cn,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),x.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum ativo encontrado"}),x.jsx("p",{className:"text-gray-600 mb-6",children:"Comece adicionando seus primeiros ativos ao sistema"}),i&&x.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[s&&x.jsxs(Wd,{children:[x.jsx(j2,{asChild:!0,children:x.jsxs(zt,{variant:"outline",children:[x.jsx(l3,{className:"h-4 w-4 mr-2"}),"Importar CSV"]})}),x.jsxs(zf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[x.jsx(zd,{children:x.jsx(Hd,{children:"Importar Ativos"})}),x.jsx(_k,{})]})]}),x.jsx(zt,{asChild:!0,children:x.jsxs(io,{to:"/assets/new",children:[x.jsx(A2,{className:"h-4 w-4 mr-2"}),"Adicionar Primeiro Ativo"]})})]})]})})}):x.jsxs(x.Fragment,{children:[e.map((d,m)=>x.jsx(Dte,{asset:d,isLast:m===e.length-1,onIntersect:f},d.id)),n&&r&&x.jsx("div",{ref:u,className:"col-span-full flex justify-center py-8",children:x.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),x.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[x.jsx(Cn,{className:"h-4 w-4 animate-pulse"}),x.jsx("span",{className:"text-sm",children:"Carregando mais ativos..."})]})]})})]})}function Mte({isOpen:e,onClose:t,onExport:r,loading:n}){const[i,s]=D.useState(null),a=[{id:"csv",name:"CSV",description:"Arquivo de texto separado por vrgulas",icon:q1,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"},{id:"excel",name:"Excel",description:"Arquivo do Microsoft Excel (.xlsx)",icon:BF,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"},{id:"pdf",name:"PDF",description:"Documento em formato PDF",icon:UF,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"}],l=d=>{s(d)},u=()=>{i&&(r(i),s(null),t())},f=()=>{s(null),t()};return x.jsx(Wd,{open:e,onOpenChange:f,children:x.jsxs(zf,{className:"sm:max-w-md",children:[x.jsx(zd,{children:x.jsx(Hd,{className:"text-center",children:"Escolha o formato de exportao"})}),x.jsxs("div",{className:"space-y-4 py-4",children:[x.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Selecione o formato desejado para exportar os ativos"}),x.jsx("div",{className:"grid gap-3",children:a.map(d=>{const m=d.icon,y=i===d.id;return x.jsx("button",{onClick:()=>l(d.id),disabled:n,className:`
                    w-full p-4 rounded-lg border-2 transition-all duration-200
                    ${y?`${d.borderColor} ${d.bgColor} ring-2 ring-offset-2 ring-blue-500`:"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}
                    ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}
                  `,children:x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:`p-2 rounded-lg ${d.bgColor}`,children:x.jsx(m,{className:`h-6 w-6 ${d.color}`})}),x.jsxs("div",{className:"flex-1 text-left",children:[x.jsx("h3",{className:"font-medium text-gray-900",children:d.name}),x.jsx("p",{className:"text-sm text-gray-500",children:d.description})]}),y&&x.jsx("div",{className:"w-5 h-5 bg-blue-600 rounded-full flex items-center justify-center",children:x.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]})},d.id)})})]}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[x.jsx(zt,{variant:"outline",onClick:f,disabled:n,children:"Cancelar"}),x.jsx(zt,{onClick:u,disabled:!i||n,className:"min-w-[100px]",children:n?x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),x.jsx("span",{children:"Exportando..."})]}):"Exportar"})]})]})})}var Ut;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ut||(Ut={}));var HE=new Map([[Ut.QR_CODE,"QR_CODE"],[Ut.AZTEC,"AZTEC"],[Ut.CODABAR,"CODABAR"],[Ut.CODE_39,"CODE_39"],[Ut.CODE_93,"CODE_93"],[Ut.CODE_128,"CODE_128"],[Ut.DATA_MATRIX,"DATA_MATRIX"],[Ut.MAXICODE,"MAXICODE"],[Ut.ITF,"ITF"],[Ut.EAN_13,"EAN_13"],[Ut.EAN_8,"EAN_8"],[Ut.PDF_417,"PDF_417"],[Ut.RSS_14,"RSS_14"],[Ut.RSS_EXPANDED,"RSS_EXPANDED"],[Ut.UPC_A,"UPC_A"],[Ut.UPC_E,"UPC_E"],[Ut.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),VE;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(VE||(VE={}));function jte(e){return Object.values(Ut).includes(e)}var t2;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(t2||(t2={}));var Bte=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[t2.SCAN_TYPE_CAMERA,t2.SCAN_TYPE_FILE],e}(),aP=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!HE.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,HE.get(t))},e}(),qE=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),$y;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})($y||($y={}));var Ute=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:$y.UNKWOWN_ERROR}},e}(),Wte=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Dl(e){return typeof e>"u"||e===null}var Dh=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),oP=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),a=Object.keys(t),l=0,u=a;l<u.length;l++){var f=u[l];if(s.has(f))return r.logError("".concat(f," is not supported videoConstaints."),!0),!1}return!0},e}(),Xy={exports:{}};(function(e,t){(function(r,n){n(t)})(Zi,function(r){function n(K){return K==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,o){K.__proto__=o}||function(K,o){for(var c in o)o.hasOwnProperty(c)&&(K[c]=o[c])};function s(K,o){i(K,o);function c(){this.constructor=K}K.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}function a(K,o){var c=Object.setPrototypeOf;c?c(K,o):K.__proto__=o}function l(K,o){o===void 0&&(o=K.constructor);var c=Error.captureStackTrace;c&&c(K,o)}var u=function(K){s(o,K);function o(c){var h=this.constructor,p=K.call(this,c)||this;return Object.defineProperty(p,"name",{value:h.name,enumerable:!1}),a(p,h.prototype),l(p),p}return o}(Error);class f extends u{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}f.kind="Exception";class d extends f{}d.kind="ArgumentException";class m extends f{}m.kind="IllegalArgumentException";class y{constructor(o){if(this.binarizer=o,o===null)throw new m("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,c){return this.binarizer.getBlackRow(o,c)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,c,h,p){const g=this.binarizer.getLuminanceSource().crop(o,c,h,p);return new y(this.binarizer.createBinarizer(g))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new y(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new y(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class v extends f{static getChecksumInstance(){return new v}}v.kind="ChecksumException";class E{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class _{static arraycopy(o,c,h,p,g){for(;g--;)h[p++]=o[c++]}static currentTimeMillis(){return Date.now()}}class N extends f{}N.kind="IndexOutOfBoundsException";class A extends N{constructor(o=void 0,c=void 0){super(c),this.index=o,this.message=c}}A.kind="ArrayIndexOutOfBoundsException";class C{static fill(o,c){for(let h=0,p=o.length;h<p;h++)o[h]=c}static fillWithin(o,c,h,p){C.rangeCheck(o.length,c,h);for(let g=c;g<h;g++)o[g]=p}static rangeCheck(o,c,h){if(c>h)throw new m("fromIndex("+c+") > toIndex("+h+")");if(c<0)throw new A(c);if(h>o)throw new A(h)}static asList(...o){return o}static create(o,c,h){return Array.from({length:o}).map(g=>Array.from({length:c}).fill(h))}static createInt32Array(o,c,h){return Array.from({length:o}).map(g=>Int32Array.from({length:c}).fill(h))}static equals(o,c){if(!o||!c||!o.length||!c.length||o.length!==c.length)return!1;for(let h=0,p=o.length;h<p;h++)if(o[h]!==c[h])return!1;return!0}static hashCode(o){if(o===null)return 0;let c=1;for(const h of o)c=31*c+h;return c}static fillUint8Array(o,c){for(let h=0;h!==o.length;h++)o[h]=c}static copyOf(o,c){return o.slice(0,c)}static copyOfUint8Array(o,c){if(o.length<=c){const h=new Uint8Array(c);return h.set(o),h}return o.slice(0,c)}static copyOfRange(o,c,h){const p=h-c,g=new Int32Array(p);return _.arraycopy(o,c,g,0,p),g}static binarySearch(o,c,h){h===void 0&&(h=C.numberComparator);let p=0,g=o.length-1;for(;p<=g;){const w=g+p>>1,S=h(c,o[w]);if(S>0)p=w+1;else if(S<0)g=w-1;else return w}return-p-1}static numberComparator(o,c){return o-c}}class I{static numberOfTrailingZeros(o){let c;if(o===0)return 32;let h=31;return c=o<<16,c!==0&&(h-=16,o=c),c=o<<8,c!==0&&(h-=8,o=c),c=o<<4,c!==0&&(h-=4,o=c),c=o<<2,c!==0&&(h-=2,o=c),h-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let c=1;return o>>>16||(c+=16,o<<=16),o>>>24||(c+=8,o<<=8),o>>>28||(c+=4,o<<=4),o>>>30||(c+=2,o<<=2),c-=o>>>31,c}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,c){return Math.trunc(o/c)}static parseInt(o,c=void 0){return parseInt(o,c)}}I.MIN_VALUE_32_BITS=-2147483648,I.MAX_VALUE=Number.MAX_SAFE_INTEGER;class L{constructor(o,c){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,c==null?this.bits=L.makeArray(o):this.bits=c)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const c=L.makeArray(o);_.arraycopy(this.bits,0,c,0,this.bits.length),this.bits=c}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const c=this.size;if(o>=c)return c;const h=this.bits;let p=Math.floor(o/32),g=h[p];g&=~((1<<(o&31))-1);const w=h.length;for(;g===0;){if(++p===w)return c;g=h[p]}const S=p*32+I.numberOfTrailingZeros(g);return S>c?c:S}getNextUnset(o){const c=this.size;if(o>=c)return c;const h=this.bits;let p=Math.floor(o/32),g=~h[p];g&=~((1<<(o&31))-1);const w=h.length;for(;g===0;){if(++p===w)return c;g=~h[p]}const S=p*32+I.numberOfTrailingZeros(g);return S>c?c:S}setBulk(o,c){this.bits[Math.floor(o/32)]=c}setRange(o,c){if(c<o||o<0||c>this.size)throw new m;if(c===o)return;c--;const h=Math.floor(o/32),p=Math.floor(c/32),g=this.bits;for(let w=h;w<=p;w++){const S=w>h?0:o&31,O=(2<<(w<p?31:c&31))-(1<<S);g[w]|=O}}clear(){const o=this.bits.length,c=this.bits;for(let h=0;h<o;h++)c[h]=0}isRange(o,c,h){if(c<o||o<0||c>this.size)throw new m;if(c===o)return!0;c--;const p=Math.floor(o/32),g=Math.floor(c/32),w=this.bits;for(let S=p;S<=g;S++){const k=S>p?0:o&31,H=(2<<(S<g?31:c&31))-(1<<k)&4294967295;if((w[S]&H)!==(h?H:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,c){if(c<0||c>32)throw new m("Num bits must be between 0 and 32");this.ensureCapacity(this.size+c);for(let h=c;h>0;h--)this.appendBit((o>>h-1&1)===1)}appendBitArray(o){const c=o.size;this.ensureCapacity(this.size+c);for(let h=0;h<c;h++)this.appendBit(o.get(h))}xor(o){if(this.size!==o.size)throw new m("Sizes don't match");const c=this.bits;for(let h=0,p=c.length;h<p;h++)c[h]^=o.bits[h]}toBytes(o,c,h,p){for(let g=0;g<p;g++){let w=0;for(let S=0;S<8;S++)this.get(o)&&(w|=1<<7-S),o++;c[h+g]=w}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),c=Math.floor((this.size-1)/32),h=c+1,p=this.bits;for(let g=0;g<h;g++){let w=p[g];w=w>>1&1431655765|(w&1431655765)<<1,w=w>>2&858993459|(w&858993459)<<2,w=w>>4&252645135|(w&252645135)<<4,w=w>>8&16711935|(w&16711935)<<8,w=w>>16&65535|(w&65535)<<16,o[c-g]=w}if(this.size!==h*32){const g=h*32-this.size;let w=o[0]>>>g;for(let S=1;S<h;S++){const k=o[S];w|=k<<32-g,o[S-1]=w,w=k>>>g}o[h-1]=w}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof L))return!1;const c=o;return this.size===c.size&&C.equals(this.bits,c.bits)}hashCode(){return 31*this.size+C.hashCode(this.bits)}toString(){let o="";for(let c=0,h=this.size;c<h;c++)c&7||(o+=" "),o+=this.get(c)?"X":".";return o}clone(){return new L(this.size,this.bits.slice())}}var q;(function(K){K[K.OTHER=0]="OTHER",K[K.PURE_BARCODE=1]="PURE_BARCODE",K[K.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",K[K.TRY_HARDER=3]="TRY_HARDER",K[K.CHARACTER_SET=4]="CHARACTER_SET",K[K.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",K[K.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",K[K.ASSUME_GS1=7]="ASSUME_GS1",K[K.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",K[K.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",K[K.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(q||(q={}));var Q=q;class B extends f{static getFormatInstance(){return new B}}B.kind="FormatException";var M;(function(K){K[K.Cp437=0]="Cp437",K[K.ISO8859_1=1]="ISO8859_1",K[K.ISO8859_2=2]="ISO8859_2",K[K.ISO8859_3=3]="ISO8859_3",K[K.ISO8859_4=4]="ISO8859_4",K[K.ISO8859_5=5]="ISO8859_5",K[K.ISO8859_6=6]="ISO8859_6",K[K.ISO8859_7=7]="ISO8859_7",K[K.ISO8859_8=8]="ISO8859_8",K[K.ISO8859_9=9]="ISO8859_9",K[K.ISO8859_10=10]="ISO8859_10",K[K.ISO8859_11=11]="ISO8859_11",K[K.ISO8859_13=12]="ISO8859_13",K[K.ISO8859_14=13]="ISO8859_14",K[K.ISO8859_15=14]="ISO8859_15",K[K.ISO8859_16=15]="ISO8859_16",K[K.SJIS=16]="SJIS",K[K.Cp1250=17]="Cp1250",K[K.Cp1251=18]="Cp1251",K[K.Cp1252=19]="Cp1252",K[K.Cp1256=20]="Cp1256",K[K.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",K[K.UTF8=22]="UTF8",K[K.ASCII=23]="ASCII",K[K.Big5=24]="Big5",K[K.GB18030=25]="GB18030",K[K.EUC_KR=26]="EUC_KR"})(M||(M={}));class F{constructor(o,c,h,...p){this.valueIdentifier=o,this.name=h,typeof c=="number"?this.values=Int32Array.from([c]):this.values=c,this.otherEncodingNames=p,F.VALUE_IDENTIFIER_TO_ECI.set(o,this),F.NAME_TO_ECI.set(h,this);const g=this.values;for(let w=0,S=g.length;w!==S;w++){const k=g[w];F.VALUES_TO_ECI.set(k,this)}for(const w of p)F.NAME_TO_ECI.set(w,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new B("incorect value");const c=F.VALUES_TO_ECI.get(o);if(c===void 0)throw new B("incorect value");return c}static getCharacterSetECIByName(o){const c=F.NAME_TO_ECI.get(o);if(c===void 0)throw new B("incorect value");return c}equals(o){if(!(o instanceof F))return!1;const c=o;return this.getName()===c.getName()}}F.VALUE_IDENTIFIER_TO_ECI=new Map,F.VALUES_TO_ECI=new Map,F.NAME_TO_ECI=new Map,F.Cp437=new F(M.Cp437,Int32Array.from([0,2]),"Cp437"),F.ISO8859_1=new F(M.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),F.ISO8859_2=new F(M.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),F.ISO8859_3=new F(M.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),F.ISO8859_4=new F(M.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),F.ISO8859_5=new F(M.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),F.ISO8859_6=new F(M.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),F.ISO8859_7=new F(M.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),F.ISO8859_8=new F(M.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),F.ISO8859_9=new F(M.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),F.ISO8859_10=new F(M.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),F.ISO8859_11=new F(M.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),F.ISO8859_13=new F(M.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),F.ISO8859_14=new F(M.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),F.ISO8859_15=new F(M.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),F.ISO8859_16=new F(M.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),F.SJIS=new F(M.SJIS,20,"SJIS","Shift_JIS"),F.Cp1250=new F(M.Cp1250,21,"Cp1250","windows-1250"),F.Cp1251=new F(M.Cp1251,22,"Cp1251","windows-1251"),F.Cp1252=new F(M.Cp1252,23,"Cp1252","windows-1252"),F.Cp1256=new F(M.Cp1256,24,"Cp1256","windows-1256"),F.UnicodeBigUnmarked=new F(M.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),F.UTF8=new F(M.UTF8,26,"UTF8","UTF-8"),F.ASCII=new F(M.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),F.Big5=new F(M.Big5,28,"Big5"),F.GB18030=new F(M.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),F.EUC_KR=new F(M.EUC_KR,30,"EUC_KR","EUC-KR");class X extends f{}X.kind="UnsupportedOperationException";class W{static decode(o,c){const h=this.encodingName(c);return this.customDecoder?this.customDecoder(o,h):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(h)?this.decodeFallback(o,h):new TextDecoder(h).decode(o)}static shouldDecodeOnFallback(o){return!W.isBrowser()&&o==="ISO-8859-1"}static encode(o,c){const h=this.encodingName(c);return this.customEncoder?this.customEncoder(o,h):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof F?o:F.getCharacterSetECIByName(o)}static decodeFallback(o,c){const h=this.encodingCharacterSet(c);if(W.isDecodeFallbackSupported(h)){let p="";for(let g=0,w=o.length;g<w;g++){let S=o[g].toString(16);S.length<2&&(S="0"+S),p+="%"+S}return decodeURIComponent(p)}if(h.equals(F.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new X(`Encoding ${this.encodingName(c)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(F.UTF8)||o.equals(F.ISO8859_1)||o.equals(F.ASCII)}static encodeFallback(o){const h=btoa(unescape(encodeURIComponent(o))).split(""),p=[];for(let g=0;g<h.length;g++)p.push(h[g].charCodeAt(0));return new Uint8Array(p)}}class U{static castAsNonUtf8Char(o,c=null){const h=c?c.getName():this.ISO88591;return W.decode(new Uint8Array([o]),h)}static guessEncoding(o,c){if(c!=null&&c.get(Q.CHARACTER_SET)!==void 0)return c.get(Q.CHARACTER_SET).toString();const h=o.length;let p=!0,g=!0,w=!0,S=0,k=0,O=0,H=0,Y=0,se=0,we=0,Ie=0,Oe=0,je=0,tt=0;const gt=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let wt=0;wt<h&&(p||g||w);wt++){const xt=o[wt]&255;w&&(S>0?xt&128?S--:w=!1:xt&128&&(xt&64?(S++,xt&32?(S++,xt&16?(S++,xt&8?w=!1:H++):O++):k++):w=!1)),p&&(xt>127&&xt<160?p=!1:xt>159&&(xt<192||xt===215||xt===247)&&tt++),g&&(Y>0?xt<64||xt===127||xt>252?g=!1:Y--:xt===128||xt===160||xt>239?g=!1:xt>160&&xt<224?(se++,Ie=0,we++,we>Oe&&(Oe=we)):xt>127?(Y++,we=0,Ie++,Ie>je&&(je=Ie)):(we=0,Ie=0))}return w&&S>0&&(w=!1),g&&Y>0&&(g=!1),w&&(gt||k+O+H>0)?U.UTF8:g&&(U.ASSUME_SHIFT_JIS||Oe>=3||je>=3)?U.SHIFT_JIS:p&&g?Oe===2&&se===2||tt*10>=h?U.SHIFT_JIS:U.ISO88591:p?U.ISO88591:g?U.SHIFT_JIS:w?U.UTF8:U.PLATFORM_DEFAULT_ENCODING}static format(o,...c){let h=-1;function p(w,S,k,O,H,Y){if(w==="%%")return"%";if(c[++h]===void 0)return;w=O?parseInt(O.substr(1)):void 0;let se=H?parseInt(H.substr(1)):void 0,we;switch(Y){case"s":we=c[h];break;case"c":we=c[h][0];break;case"f":we=parseFloat(c[h]).toFixed(w);break;case"p":we=parseFloat(c[h]).toPrecision(w);break;case"e":we=parseFloat(c[h]).toExponential(w);break;case"x":we=parseInt(c[h]).toString(se||16);break;case"d":we=parseFloat(parseInt(c[h],se||10).toPrecision(w)).toFixed(0);break}we=typeof we=="object"?JSON.stringify(we):(+we).toString(se);let Ie=parseInt(k),Oe=k&&k[0]+""=="0"?"0":" ";for(;we.length<Ie;)we=S!==void 0?we+Oe:Oe+we;return we}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(g,p)}static getBytes(o,c){return W.encode(o,c)}static getCharCode(o,c=0){return o.charCodeAt(c)}static getCharAt(o){return String.fromCharCode(o)}}U.SHIFT_JIS=F.SJIS.getName(),U.GB2312="GB2312",U.ISO88591=F.ISO8859_1.getName(),U.EUC_JP="EUC_JP",U.UTF8=F.UTF8.getName(),U.PLATFORM_DEFAULT_ENCODING=U.UTF8,U.ASSUME_SHIFT_JIS=!1;class re{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=U.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,c,h){for(let p=c;c<c+h;p++)this.append(o[p]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,c){this.value=this.value.substr(0,o)+c+this.value.substr(o+1)}substring(o,c){return this.value.substring(o,c)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,c){this.value=this.value.substr(0,o)+c+this.value.substr(o+c.length)}}class oe{constructor(o,c,h,p){if(this.width=o,this.height=c,this.rowSize=h,this.bits=p,c==null&&(c=o),this.height=c,o<1||c<1)throw new m("Both dimensions must be greater than 0");h==null&&(h=Math.floor((o+31)/32)),this.rowSize=h,p==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const c=o.length,h=o[0].length,p=new oe(h,c);for(let g=0;g<c;g++){const w=o[g];for(let S=0;S<h;S++)w[S]&&p.set(S,g)}return p}static parseFromString(o,c,h){if(o===null)throw new m("stringRepresentation cannot be null");const p=new Array(o.length);let g=0,w=0,S=-1,k=0,O=0;for(;O<o.length;)if(o.charAt(O)===`
`||o.charAt(O)==="\r"){if(g>w){if(S===-1)S=g-w;else if(g-w!==S)throw new m("row lengths do not match");w=g,k++}O++}else if(o.substring(O,O+c.length)===c)O+=c.length,p[g]=!0,g++;else if(o.substring(O,O+h.length)===h)O+=h.length,p[g]=!1,g++;else throw new m("illegal character encountered: "+o.substring(O));if(g>w){if(S===-1)S=g-w;else if(g-w!==S)throw new m("row lengths do not match");k++}const H=new oe(S,k);for(let Y=0;Y<g;Y++)p[Y]&&H.set(Math.floor(Y%S),Math.floor(Y/S));return H}get(o,c){const h=c*this.rowSize+Math.floor(o/32);return(this.bits[h]>>>(o&31)&1)!==0}set(o,c){const h=c*this.rowSize+Math.floor(o/32);this.bits[h]|=1<<(o&31)&4294967295}unset(o,c){const h=c*this.rowSize+Math.floor(o/32);this.bits[h]&=~(1<<(o&31)&4294967295)}flip(o,c){const h=c*this.rowSize+Math.floor(o/32);this.bits[h]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new m("input matrix dimensions do not match");const c=new L(Math.floor(this.width/32)+1),h=this.rowSize,p=this.bits;for(let g=0,w=this.height;g<w;g++){const S=g*h,k=o.getRow(g,c).getBitArray();for(let O=0;O<h;O++)p[S+O]^=k[O]}}clear(){const o=this.bits,c=o.length;for(let h=0;h<c;h++)o[h]=0}setRegion(o,c,h,p){if(c<0||o<0)throw new m("Left and top must be nonnegative");if(p<1||h<1)throw new m("Height and width must be at least 1");const g=o+h,w=c+p;if(w>this.height||g>this.width)throw new m("The region must fit inside the matrix");const S=this.rowSize,k=this.bits;for(let O=c;O<w;O++){const H=O*S;for(let Y=o;Y<g;Y++)k[H+Math.floor(Y/32)]|=1<<(Y&31)&4294967295}}getRow(o,c){c==null||c.getSize()<this.width?c=new L(this.width):c.clear();const h=this.rowSize,p=this.bits,g=o*h;for(let w=0;w<h;w++)c.setBulk(w*32,p[g+w]);return c}setRow(o,c){_.arraycopy(c.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),c=this.getHeight();let h=new L(o),p=new L(o);for(let g=0,w=Math.floor((c+1)/2);g<w;g++)h=this.getRow(g,h),p=this.getRow(c-1-g,p),h.reverse(),p.reverse(),this.setRow(g,p),this.setRow(c-1-g,h)}getEnclosingRectangle(){const o=this.width,c=this.height,h=this.rowSize,p=this.bits;let g=o,w=c,S=-1,k=-1;for(let O=0;O<c;O++)for(let H=0;H<h;H++){const Y=p[O*h+H];if(Y!==0){if(O<w&&(w=O),O>k&&(k=O),H*32<g){let se=0;for(;!(Y<<31-se&4294967295);)se++;H*32+se<g&&(g=H*32+se)}if(H*32+31>S){let se=31;for(;!(Y>>>se);)se--;H*32+se>S&&(S=H*32+se)}}}return S<g||k<w?null:Int32Array.from([g,w,S-g+1,k-w+1])}getTopLeftOnBit(){const o=this.rowSize,c=this.bits;let h=0;for(;h<c.length&&c[h]===0;)h++;if(h===c.length)return null;const p=h/o;let g=h%o*32;const w=c[h];let S=0;for(;!(w<<31-S&4294967295);)S++;return g+=S,Int32Array.from([g,p])}getBottomRightOnBit(){const o=this.rowSize,c=this.bits;let h=c.length-1;for(;h>=0&&c[h]===0;)h--;if(h<0)return null;const p=Math.floor(h/o);let g=Math.floor(h%o)*32;const w=c[h];let S=31;for(;!(w>>>S);)S--;return g+=S,Int32Array.from([g,p])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof oe))return!1;const c=o;return this.width===c.width&&this.height===c.height&&this.rowSize===c.rowSize&&C.equals(this.bits,c.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+C.hashCode(this.bits),o}toString(o="X ",c="  ",h=`
`){return this.buildToString(o,c,h)}buildToString(o,c,h){let p=new re;for(let g=0,w=this.height;g<w;g++){for(let S=0,k=this.width;S<k;S++)p.append(this.get(S,g)?o:c);p.append(h)}return p.toString()}clone(){return new oe(this.width,this.height,this.rowSize,this.bits.slice())}}class le extends f{static getNotFoundInstance(){return new le}}le.kind="NotFoundException";class Ne extends E{constructor(o){super(o),this.luminances=Ne.EMPTY,this.buckets=new Int32Array(Ne.LUMINANCE_BUCKETS)}getBlackRow(o,c){const h=this.getLuminanceSource(),p=h.getWidth();c==null||c.getSize()<p?c=new L(p):c.clear(),this.initArrays(p);const g=h.getRow(o,this.luminances),w=this.buckets;for(let k=0;k<p;k++)w[(g[k]&255)>>Ne.LUMINANCE_SHIFT]++;const S=Ne.estimateBlackPoint(w);if(p<3)for(let k=0;k<p;k++)(g[k]&255)<S&&c.set(k);else{let k=g[0]&255,O=g[1]&255;for(let H=1;H<p-1;H++){const Y=g[H+1]&255;(O*4-k-Y)/2<S&&c.set(H),k=O,O=Y}}return c}getBlackMatrix(){const o=this.getLuminanceSource(),c=o.getWidth(),h=o.getHeight(),p=new oe(c,h);this.initArrays(c);const g=this.buckets;for(let k=1;k<5;k++){const O=Math.floor(h*k/5),H=o.getRow(O,this.luminances),Y=Math.floor(c*4/5);for(let se=Math.floor(c/5);se<Y;se++){const we=H[se]&255;g[we>>Ne.LUMINANCE_SHIFT]++}}const w=Ne.estimateBlackPoint(g),S=o.getMatrix();for(let k=0;k<h;k++){const O=k*c;for(let H=0;H<c;H++)(S[O+H]&255)<w&&p.set(H,k)}return p}createBinarizer(o){return new Ne(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const c=this.buckets;for(let h=0;h<Ne.LUMINANCE_BUCKETS;h++)c[h]=0}static estimateBlackPoint(o){const c=o.length;let h=0,p=0,g=0;for(let H=0;H<c;H++)o[H]>g&&(p=H,g=o[H]),o[H]>h&&(h=o[H]);let w=0,S=0;for(let H=0;H<c;H++){const Y=H-p,se=o[H]*Y*Y;se>S&&(w=H,S=se)}if(p>w){const H=p;p=w,w=H}if(w-p<=c/16)throw new le;let k=w-1,O=-1;for(let H=w-1;H>p;H--){const Y=H-p,se=Y*Y*(w-H)*(h-o[H]);se>O&&(k=H,O=se)}return k<<Ne.LUMINANCE_SHIFT}}Ne.LUMINANCE_BITS=5,Ne.LUMINANCE_SHIFT=8-Ne.LUMINANCE_BITS,Ne.LUMINANCE_BUCKETS=1<<Ne.LUMINANCE_BITS,Ne.EMPTY=Uint8ClampedArray.from([0]);class Ae extends Ne{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),c=o.getWidth(),h=o.getHeight();if(c>=Ae.MINIMUM_DIMENSION&&h>=Ae.MINIMUM_DIMENSION){const p=o.getMatrix();let g=c>>Ae.BLOCK_SIZE_POWER;c&Ae.BLOCK_SIZE_MASK&&g++;let w=h>>Ae.BLOCK_SIZE_POWER;h&Ae.BLOCK_SIZE_MASK&&w++;const S=Ae.calculateBlackPoints(p,g,w,c,h),k=new oe(c,h);Ae.calculateThresholdForBlock(p,g,w,c,h,S,k),this.matrix=k}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new Ae(o)}static calculateThresholdForBlock(o,c,h,p,g,w,S){const k=g-Ae.BLOCK_SIZE,O=p-Ae.BLOCK_SIZE;for(let H=0;H<h;H++){let Y=H<<Ae.BLOCK_SIZE_POWER;Y>k&&(Y=k);const se=Ae.cap(H,2,h-3);for(let we=0;we<c;we++){let Ie=we<<Ae.BLOCK_SIZE_POWER;Ie>O&&(Ie=O);const Oe=Ae.cap(we,2,c-3);let je=0;for(let gt=-2;gt<=2;gt++){const wt=w[se+gt];je+=wt[Oe-2]+wt[Oe-1]+wt[Oe]+wt[Oe+1]+wt[Oe+2]}const tt=je/25;Ae.thresholdBlock(o,Ie,Y,tt,p,S)}}}static cap(o,c,h){return o<c?c:o>h?h:o}static thresholdBlock(o,c,h,p,g,w){for(let S=0,k=h*g+c;S<Ae.BLOCK_SIZE;S++,k+=g)for(let O=0;O<Ae.BLOCK_SIZE;O++)(o[k+O]&255)<=p&&w.set(c+O,h+S)}static calculateBlackPoints(o,c,h,p,g){const w=g-Ae.BLOCK_SIZE,S=p-Ae.BLOCK_SIZE,k=new Array(h);for(let O=0;O<h;O++){k[O]=new Int32Array(c);let H=O<<Ae.BLOCK_SIZE_POWER;H>w&&(H=w);for(let Y=0;Y<c;Y++){let se=Y<<Ae.BLOCK_SIZE_POWER;se>S&&(se=S);let we=0,Ie=255,Oe=0;for(let tt=0,gt=H*p+se;tt<Ae.BLOCK_SIZE;tt++,gt+=p){for(let wt=0;wt<Ae.BLOCK_SIZE;wt++){const xt=o[gt+wt]&255;we+=xt,xt<Ie&&(Ie=xt),xt>Oe&&(Oe=xt)}if(Oe-Ie>Ae.MIN_DYNAMIC_RANGE)for(tt++,gt+=p;tt<Ae.BLOCK_SIZE;tt++,gt+=p)for(let wt=0;wt<Ae.BLOCK_SIZE;wt++)we+=o[gt+wt]&255}let je=we>>Ae.BLOCK_SIZE_POWER*2;if(Oe-Ie<=Ae.MIN_DYNAMIC_RANGE&&(je=Ie/2,O>0&&Y>0)){const tt=(k[O-1][Y]+2*k[O][Y-1]+k[O-1][Y-1])/4;Ie<tt&&(je=tt)}k[O][Y]=je}}return k}}Ae.BLOCK_SIZE_POWER=3,Ae.BLOCK_SIZE=1<<Ae.BLOCK_SIZE_POWER,Ae.BLOCK_SIZE_MASK=Ae.BLOCK_SIZE-1,Ae.MINIMUM_DIMENSION=Ae.BLOCK_SIZE*5,Ae.MIN_DYNAMIC_RANGE=24;class de{constructor(o,c){this.width=o,this.height=c}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,c,h,p){throw new X("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new X("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new X("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let c=new re;for(let h=0;h<this.height;h++){const p=this.getRow(h,o);for(let g=0;g<this.width;g++){const w=p[g]&255;let S;w<64?S="#":w<128?S="+":w<192?S=".":S=" ",c.append(S)}c.append(`
`)}return c.toString()}}class _e extends de{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,c){const h=this.delegate.getRow(o,c),p=this.getWidth();for(let g=0;g<p;g++)h[g]=255-(h[g]&255);return h}getMatrix(){const o=this.delegate.getMatrix(),c=this.getWidth()*this.getHeight(),h=new Uint8ClampedArray(c);for(let p=0;p<c;p++)h[p]=255-(o[p]&255);return h}isCropSupported(){return this.delegate.isCropSupported()}crop(o,c,h,p){return new _e(this.delegate.crop(o,c,h,p))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new _e(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new _e(this.delegate.rotateCounterClockwise45())}}class Te extends de{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=Te.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const c=o.getContext("2d").getImageData(0,0,o.width,o.height);return Te.toGrayscaleBuffer(c.data,o.width,o.height)}static toGrayscaleBuffer(o,c,h){const p=new Uint8ClampedArray(c*h);for(let g=0,w=0,S=o.length;g<S;g+=4,w++){let k;if(o[g+3]===0)k=255;else{const H=o[g],Y=o[g+1],se=o[g+2];k=306*H+601*Y+117*se+512>>10}p[w]=k}return p}getRow(o,c){if(o<0||o>=this.getHeight())throw new m("Requested row is outside the image: "+o);const h=this.getWidth(),p=o*h;return c===null?c=this.buffer.slice(p,p+h):(c.length<h&&(c=new Uint8ClampedArray(h)),c.set(this.buffer.slice(p,p+h))),c}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,c,h,p){return super.crop(o,c,h,p),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const c=this.getTempCanvasElement(),h=c.getContext("2d"),p=o*Te.DEGREE_TO_RADIANS,g=this.canvas.width,w=this.canvas.height,S=Math.ceil(Math.abs(Math.cos(p))*g+Math.abs(Math.sin(p))*w),k=Math.ceil(Math.abs(Math.sin(p))*g+Math.abs(Math.cos(p))*w);return c.width=S,c.height=k,h.translate(S/2,k/2),h.rotate(p),h.drawImage(this.canvas,g/-2,w/-2),this.buffer=Te.makeBufferFromCanvasImageData(c),this}invert(){return new _e(this)}}Te.DEGREE_TO_RADIANS=Math.PI/180;class He{constructor(o,c,h){this.deviceId=o,this.label=c,this.kind="videoinput",this.groupId=h||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var j=(globalThis||Zi||self||window||void 0)&&(globalThis||Zi||self||window||void 0).__awaiter||function(K,o,c,h){function p(g){return g instanceof c?g:new c(function(w){w(g)})}return new(c||(c=Promise))(function(g,w){function S(H){try{O(h.next(H))}catch(Y){w(Y)}}function k(H){try{O(h.throw(H))}catch(Y){w(Y)}}function O(H){H.done?g(H.value):p(H.value).then(S,k)}O((h=h.apply(K,o||[])).next())})};class V{constructor(o,c=500,h){this.reader=o,this.timeBetweenScansMillis=c,this._hints=h,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return j(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),c=[];for(const h of o){const p=h.kind==="video"?"videoinput":h.kind;if(p!=="videoinput")continue;const g=h.deviceId||h.id,w=h.label||`Video device ${c.length+1}`,S=h.groupId,k={deviceId:g,label:w,kind:p,groupId:S};c.push(k)}return c})}getVideoInputDevices(){return j(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(c=>new He(c.deviceId,c.label))})}findDeviceById(o){return j(this,void 0,void 0,function*(){const c=yield this.listVideoInputDevices();return c?c.find(h=>h.deviceId===o):null})}decodeFromInputVideoDevice(o,c){return j(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,c)})}decodeOnceFromVideoDevice(o,c){return j(this,void 0,void 0,function*(){this.reset();let h;o?h={deviceId:{exact:o}}:h={facingMode:"environment"};const p={video:h};return yield this.decodeOnceFromConstraints(p,c)})}decodeOnceFromConstraints(o,c){return j(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(h,c)})}decodeOnceFromStream(o,c){return j(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(o,c);return yield this.decodeOnce(h)})}decodeFromInputVideoDeviceContinuously(o,c,h){return j(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,c,h)})}decodeFromVideoDevice(o,c,h){return j(this,void 0,void 0,function*(){let p;o?p={deviceId:{exact:o}}:p={facingMode:"environment"};const g={video:p};return yield this.decodeFromConstraints(g,c,h)})}decodeFromConstraints(o,c,h){return j(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(p,c,h)})}decodeFromStream(o,c,h){return j(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(o,c);return yield this.decodeContinuously(p,h)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,c){return j(this,void 0,void 0,function*(){const h=this.prepareVideoElement(c);return this.addVideoSource(h,o),this.videoElement=h,this.stream=o,yield this.playVideoOnLoadAsync(h),h})}playVideoOnLoadAsync(o){return new Promise((c,h)=>this.playVideoOnLoad(o,()=>c()))}playVideoOnLoad(o,c){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",c),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return j(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,c){const h=document.getElementById(o);if(!h)throw new d(`element with id '${o}' not found`);if(h.nodeName.toLowerCase()!==c.toLowerCase())throw new d(`element with id '${o}' must be an ${c} element`);return h}decodeFromImage(o,c){if(!o&&!c)throw new d("either imageElement with a src set or an url must be provided");return c&&!o?this.decodeFromImageUrl(c):this.decodeFromImageElement(o)}decodeFromVideo(o,c){if(!o&&!c)throw new d("Either an element with a src set or an URL must be provided");return c&&!o?this.decodeFromVideoUrl(c):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,c,h){if(o===void 0&&c===void 0)throw new d("Either an element with a src set or an URL must be provided");return c&&!o?this.decodeFromVideoUrlContinuously(c,h):this.decodeFromVideoElementContinuously(o,h)}decodeFromImageElement(o){if(!o)throw new d("An image element must be provided.");this.reset();const c=this.prepareImageElement(o);this.imageElement=c;let h;return this.isImageLoaded(c)?h=this.decodeOnce(c,!1,!0):h=this._decodeOnLoadImage(c),h}decodeFromVideoElement(o){const c=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(c)}decodeFromVideoElementContinuously(o,c){const h=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(h,c)}_decodeFromVideoElementSetup(o){if(!o)throw new d("A video element must be provided.");this.reset();const c=this.prepareVideoElement(o);return this.videoElement=c,c}decodeFromImageUrl(o){if(!o)throw new d("An URL must be provided.");this.reset();const c=this.prepareImageElement();this.imageElement=c;const h=this._decodeOnLoadImage(c);return c.src=o,h}decodeFromVideoUrl(o){if(!o)throw new d("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),h=this.decodeFromVideoElement(c);return c.src=o,h}decodeFromVideoUrlContinuously(o,c){if(!o)throw new d("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),p=this.decodeFromVideoElementContinuously(h,c);return h.src=o,p}_decodeOnLoadImage(o){return new Promise((c,h)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(c,h),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return j(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,c){return j(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,c)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let c;return typeof o>"u"&&(c=document.createElement("img"),c.width=200,c.height=200),typeof o=="string"&&(c=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(c=o),c}prepareVideoElement(o){let c;return!o&&typeof document<"u"&&(c=document.createElement("video"),c.width=200,c.height=200),typeof o=="string"&&(c=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(c=o),c.setAttribute("autoplay","true"),c.setAttribute("muted","true"),c.setAttribute("playsinline","true"),c}decodeOnce(o,c=!0,h=!0){this._stopAsyncDecode=!1;const p=(g,w)=>{if(this._stopAsyncDecode){w(new le("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const S=this.decode(o);g(S)}catch(S){const k=c&&S instanceof le,H=(S instanceof v||S instanceof B)&&h;if(k||H)return setTimeout(p,this._timeBetweenDecodingAttempts,g,w);w(S)}};return new Promise((g,w)=>p(g,w))}decodeContinuously(o,c){this._stopContinuousDecode=!1;const h=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const p=this.decode(o);c(p,null),setTimeout(h,this.timeBetweenScansMillis)}catch(p){c(null,p);const g=p instanceof v||p instanceof B,w=p instanceof le;(g||w)&&setTimeout(h,this._timeBetweenDecodingAttempts)}};h()}decode(o){const c=this.createBinaryBitmap(o);return this.decodeBitmap(c)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,c,h){c||(c={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),h||(h=this.captureCanvasContext),h.drawImage(o,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}drawImageOnCanvas(o,c,h=this.captureCanvasContext){c||(c={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),h||(h=this.captureCanvasContext),h.drawImage(o,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const c=this.getCaptureCanvas(o),h=new Te(c),p=new Ae(h);return new y(p)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const h=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=h}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const c=this.createCaptureCanvas(o);this.captureCanvas=c}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const c=document.createElement("canvas");let h,p;return typeof o<"u"&&(o instanceof HTMLVideoElement?(h=o.videoWidth,p=o.videoHeight):o instanceof HTMLImageElement&&(h=o.naturalWidth||o.width,p=o.naturalHeight||o.height)),c.style.width=h+"px",c.style.height=p+"px",c.width=h,c.height=p,c}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,c){try{o.srcObject=c}catch{o.src=URL.createObjectURL(c)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class G{constructor(o,c,h=c==null?0:8*c.length,p,g,w=_.currentTimeMillis()){this.text=o,this.rawBytes=c,this.numBits=h,this.resultPoints=p,this.format=g,this.timestamp=w,this.text=o,this.rawBytes=c,h==null?this.numBits=c==null?0:8*c.length:this.numBits=h,this.resultPoints=p,this.format=g,this.resultMetadata=null,w==null?this.timestamp=_.currentTimeMillis():this.timestamp=w}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,c){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,c)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const c=this.resultPoints;if(c===null)this.resultPoints=o;else if(o!==null&&o.length>0){const h=new Array(c.length+o.length);_.arraycopy(c,0,h,0,c.length),_.arraycopy(o,0,h,c.length,o.length),this.resultPoints=h}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Z;(function(K){K[K.AZTEC=0]="AZTEC",K[K.CODABAR=1]="CODABAR",K[K.CODE_39=2]="CODE_39",K[K.CODE_93=3]="CODE_93",K[K.CODE_128=4]="CODE_128",K[K.DATA_MATRIX=5]="DATA_MATRIX",K[K.EAN_8=6]="EAN_8",K[K.EAN_13=7]="EAN_13",K[K.ITF=8]="ITF",K[K.MAXICODE=9]="MAXICODE",K[K.PDF_417=10]="PDF_417",K[K.QR_CODE=11]="QR_CODE",K[K.RSS_14=12]="RSS_14",K[K.RSS_EXPANDED=13]="RSS_EXPANDED",K[K.UPC_A=14]="UPC_A",K[K.UPC_E=15]="UPC_E",K[K.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Z||(Z={}));var ie=Z,Se;(function(K){K[K.OTHER=0]="OTHER",K[K.ORIENTATION=1]="ORIENTATION",K[K.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",K[K.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",K[K.ISSUE_NUMBER=4]="ISSUE_NUMBER",K[K.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",K[K.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",K[K.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",K[K.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",K[K.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",K[K.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Se||(Se={}));var be=Se;class Ce{constructor(o,c,h,p,g=-1,w=-1){this.rawBytes=o,this.text=c,this.byteSegments=h,this.ecLevel=p,this.structuredAppendSequenceNumber=g,this.structuredAppendParity=w,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Pe{exp(o){return this.expTable[o]}log(o){if(o===0)throw new m;return this.logTable[o]}static addOrSubtract(o,c){return o^c}}class Re{constructor(o,c){if(c.length===0)throw new m;this.field=o;const h=c.length;if(h>1&&c[0]===0){let p=1;for(;p<h&&c[p]===0;)p++;p===h?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(h-p),_.arraycopy(c,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const c=this.coefficients;let h;if(o===1){h=0;for(let w=0,S=c.length;w!==S;w++){const k=c[w];h=Pe.addOrSubtract(h,k)}return h}h=c[0];const p=c.length,g=this.field;for(let w=1;w<p;w++)h=Pe.addOrSubtract(g.multiply(o,h),c[w]);return h}addOrSubtract(o){if(!this.field.equals(o.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let c=this.coefficients,h=o.coefficients;if(c.length>h.length){const w=c;c=h,h=w}let p=new Int32Array(h.length);const g=h.length-c.length;_.arraycopy(h,0,p,0,g);for(let w=g;w<h.length;w++)p[w]=Pe.addOrSubtract(c[w-g],h[w]);return new Re(this.field,p)}multiply(o){if(!this.field.equals(o.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const c=this.coefficients,h=c.length,p=o.coefficients,g=p.length,w=new Int32Array(h+g-1),S=this.field;for(let k=0;k<h;k++){const O=c[k];for(let H=0;H<g;H++)w[k+H]=Pe.addOrSubtract(w[k+H],S.multiply(O,p[H]))}return new Re(S,w)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const c=this.coefficients.length,h=this.field,p=new Int32Array(c),g=this.coefficients;for(let w=0;w<c;w++)p[w]=h.multiply(g[w],o);return new Re(h,p)}multiplyByMonomial(o,c){if(o<0)throw new m;if(c===0)return this.field.getZero();const h=this.coefficients,p=h.length,g=new Int32Array(p+o),w=this.field;for(let S=0;S<p;S++)g[S]=w.multiply(h[S],c);return new Re(w,g)}divide(o){if(!this.field.equals(o.field))throw new m("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new m("Divide by 0");const c=this.field;let h=c.getZero(),p=this;const g=o.getCoefficient(o.getDegree()),w=c.inverse(g);for(;p.getDegree()>=o.getDegree()&&!p.isZero();){const S=p.getDegree()-o.getDegree(),k=c.multiply(p.getCoefficient(p.getDegree()),w),O=o.multiplyByMonomial(S,k),H=c.buildMonomial(S,k);h=h.addOrSubtract(H),p=p.addOrSubtract(O)}return[h,p]}toString(){let o="";for(let c=this.getDegree();c>=0;c--){let h=this.getCoefficient(c);if(h!==0){if(h<0?(o+=" - ",h=-h):o.length>0&&(o+=" + "),c===0||h!==1){const p=this.field.log(h);p===0?o+="1":p===1?o+="a":(o+="a^",o+=p)}c!==0&&(c===1?o+="x":(o+="x^",o+=c))}}return o}}class Ge extends f{}Ge.kind="ArithmeticException";class Qe extends Pe{constructor(o,c,h){super(),this.primitive=o,this.size=c,this.generatorBase=h;const p=new Int32Array(c);let g=1;for(let S=0;S<c;S++)p[S]=g,g*=2,g>=c&&(g^=o,g&=c-1);this.expTable=p;const w=new Int32Array(c);for(let S=0;S<c-1;S++)w[p[S]]=S;this.logTable=w,this.zero=new Re(this,Int32Array.from([0])),this.one=new Re(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,c){if(o<0)throw new m;if(c===0)return this.zero;const h=new Int32Array(o+1);return h[0]=c,new Re(this,h)}inverse(o){if(o===0)throw new Ge;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,c){return o===0||c===0?0:this.expTable[(this.logTable[o]+this.logTable[c])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+I.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}Qe.AZTEC_DATA_12=new Qe(4201,4096,1),Qe.AZTEC_DATA_10=new Qe(1033,1024,1),Qe.AZTEC_DATA_6=new Qe(67,64,1),Qe.AZTEC_PARAM=new Qe(19,16,1),Qe.QR_CODE_FIELD_256=new Qe(285,256,0),Qe.DATA_MATRIX_FIELD_256=new Qe(301,256,1),Qe.AZTEC_DATA_8=Qe.DATA_MATRIX_FIELD_256,Qe.MAXICODE_FIELD_64=Qe.AZTEC_DATA_6;class ct extends f{}ct.kind="ReedSolomonException";class Ue extends f{}Ue.kind="IllegalStateException";class pe{constructor(o){this.field=o}decode(o,c){const h=this.field,p=new Re(h,o),g=new Int32Array(c);let w=!0;for(let we=0;we<c;we++){const Ie=p.evaluateAt(h.exp(we+h.getGeneratorBase()));g[g.length-1-we]=Ie,Ie!==0&&(w=!1)}if(w)return;const S=new Re(h,g),k=this.runEuclideanAlgorithm(h.buildMonomial(c,1),S,c),O=k[0],H=k[1],Y=this.findErrorLocations(O),se=this.findErrorMagnitudes(H,Y);for(let we=0;we<Y.length;we++){const Ie=o.length-1-h.log(Y[we]);if(Ie<0)throw new ct("Bad error location");o[Ie]=Qe.addOrSubtract(o[Ie],se[we])}}runEuclideanAlgorithm(o,c,h){if(o.getDegree()<c.getDegree()){const we=o;o=c,c=we}const p=this.field;let g=o,w=c,S=p.getZero(),k=p.getOne();for(;w.getDegree()>=(h/2|0);){let we=g,Ie=S;if(g=w,S=k,g.isZero())throw new ct("r_{i-1} was zero");w=we;let Oe=p.getZero();const je=g.getCoefficient(g.getDegree()),tt=p.inverse(je);for(;w.getDegree()>=g.getDegree()&&!w.isZero();){const gt=w.getDegree()-g.getDegree(),wt=p.multiply(w.getCoefficient(w.getDegree()),tt);Oe=Oe.addOrSubtract(p.buildMonomial(gt,wt)),w=w.addOrSubtract(g.multiplyByMonomial(gt,wt))}if(k=Oe.multiply(S).addOrSubtract(Ie),w.getDegree()>=g.getDegree())throw new Ue("Division algorithm failed to reduce polynomial?")}const O=k.getCoefficient(0);if(O===0)throw new ct("sigmaTilde(0) was zero");const H=p.inverse(O),Y=k.multiplyScalar(H),se=w.multiplyScalar(H);return[Y,se]}findErrorLocations(o){const c=o.getDegree();if(c===1)return Int32Array.from([o.getCoefficient(1)]);const h=new Int32Array(c);let p=0;const g=this.field;for(let w=1;w<g.getSize()&&p<c;w++)o.evaluateAt(w)===0&&(h[p]=g.inverse(w),p++);if(p!==c)throw new ct("Error locator degree does not match number of roots");return h}findErrorMagnitudes(o,c){const h=c.length,p=new Int32Array(h),g=this.field;for(let w=0;w<h;w++){const S=g.inverse(c[w]);let k=1;for(let O=0;O<h;O++)if(w!==O){const H=g.multiply(c[O],S),Y=H&1?H&-2:H|1;k=g.multiply(k,Y)}p[w]=g.multiply(o.evaluateAt(S),g.inverse(k)),g.getGeneratorBase()!==0&&(p[w]=g.multiply(p[w],S))}return p}}var rt;(function(K){K[K.UPPER=0]="UPPER",K[K.LOWER=1]="LOWER",K[K.MIXED=2]="MIXED",K[K.DIGIT=3]="DIGIT",K[K.PUNCT=4]="PUNCT",K[K.BINARY=5]="BINARY"})(rt||(rt={}));class nt{decode(o){this.ddata=o;let c=o.getBits(),h=this.extractBits(c),p=this.correctBits(h),g=nt.convertBoolArrayToByteArray(p),w=nt.getEncodedData(p),S=new Ce(g,w,null,null);return S.setNumBits(p.length),S}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let c=o.length,h=rt.UPPER,p=rt.UPPER,g="",w=0;for(;w<c;)if(p===rt.BINARY){if(c-w<5)break;let S=nt.readCode(o,w,5);if(w+=5,S===0){if(c-w<11)break;S=nt.readCode(o,w,11)+31,w+=11}for(let k=0;k<S;k++){if(c-w<8){w=c;break}const O=nt.readCode(o,w,8);g+=U.castAsNonUtf8Char(O),w+=8}p=h}else{let S=p===rt.DIGIT?4:5;if(c-w<S)break;let k=nt.readCode(o,w,S);w+=S;let O=nt.getCharacter(p,k);O.startsWith("CTRL_")?(h=p,p=nt.getTable(O.charAt(5)),O.charAt(6)==="L"&&(h=p)):(g+=O,p=h)}return g}static getTable(o){switch(o){case"L":return rt.LOWER;case"P":return rt.PUNCT;case"M":return rt.MIXED;case"D":return rt.DIGIT;case"B":return rt.BINARY;case"U":default:return rt.UPPER}}static getCharacter(o,c){switch(o){case rt.UPPER:return nt.UPPER_TABLE[c];case rt.LOWER:return nt.LOWER_TABLE[c];case rt.MIXED:return nt.MIXED_TABLE[c];case rt.PUNCT:return nt.PUNCT_TABLE[c];case rt.DIGIT:return nt.DIGIT_TABLE[c];default:throw new Ue("Bad table")}}correctBits(o){let c,h;this.ddata.getNbLayers()<=2?(h=6,c=Qe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(h=8,c=Qe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(h=10,c=Qe.AZTEC_DATA_10):(h=12,c=Qe.AZTEC_DATA_12);let p=this.ddata.getNbDatablocks(),g=o.length/h;if(g<p)throw new B;let w=o.length%h,S=new Int32Array(g);for(let se=0;se<g;se++,w+=h)S[se]=nt.readCode(o,w,h);try{new pe(c).decode(S,g-p)}catch(se){throw new B(se)}let k=(1<<h)-1,O=0;for(let se=0;se<p;se++){let we=S[se];if(we===0||we===k)throw new B;(we===1||we===k-1)&&O++}let H=new Array(p*h-O),Y=0;for(let se=0;se<p;se++){let we=S[se];if(we===1||we===k-1)H.fill(we>1,Y,Y+h-1),Y+=h-1;else for(let Ie=h-1;Ie>=0;--Ie)H[Y++]=(we&1<<Ie)!==0}return H}extractBits(o){let c=this.ddata.isCompact(),h=this.ddata.getNbLayers(),p=(c?11:14)+h*4,g=new Int32Array(p),w=new Array(this.totalBitsInLayer(h,c));if(c)for(let S=0;S<g.length;S++)g[S]=S;else{let S=p+1+2*I.truncDivision(I.truncDivision(p,2)-1,15),k=p/2,O=I.truncDivision(S,2);for(let H=0;H<k;H++){let Y=H+I.truncDivision(H,15);g[k-H-1]=O-Y-1,g[k+H]=O+Y+1}}for(let S=0,k=0;S<h;S++){let O=(h-S)*4+(c?9:12),H=S*2,Y=p-1-H;for(let se=0;se<O;se++){let we=se*2;for(let Ie=0;Ie<2;Ie++)w[k+we+Ie]=o.get(g[H+Ie],g[H+se]),w[k+2*O+we+Ie]=o.get(g[H+se],g[Y-Ie]),w[k+4*O+we+Ie]=o.get(g[Y-Ie],g[Y-se]),w[k+6*O+we+Ie]=o.get(g[Y-se],g[H+Ie])}k+=O*8}return w}static readCode(o,c,h){let p=0;for(let g=c;g<c+h;g++)p<<=1,o[g]&&(p|=1);return p}static readByte(o,c){let h=o.length-c;return h>=8?nt.readCode(o,c,8):nt.readCode(o,c,h)<<8-h}static convertBoolArrayToByteArray(o){let c=new Uint8Array((o.length+7)/8);for(let h=0;h<c.length;h++)c[h]=nt.readByte(o,8*h);return c}totalBitsInLayer(o,c){return((c?88:112)+16*o)*o}}nt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],nt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],nt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],nt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],nt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class qe{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,c,h,p){const g=o-h,w=c-p;return Math.sqrt(g*g+w*w)}static sum(o){let c=0;for(let h=0,p=o.length;h!==p;h++){const g=o[h];c+=g}return c}}class yt{static floatToIntBits(o){return o}}yt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class et{constructor(o,c){this.x=o,this.y=c}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof et){const c=o;return this.x===c.x&&this.y===c.y}return!1}hashCode(){return 31*yt.floatToIntBits(this.x)+yt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const c=this.distance(o[0],o[1]),h=this.distance(o[1],o[2]),p=this.distance(o[0],o[2]);let g,w,S;if(h>=c&&h>=p?(w=o[0],g=o[1],S=o[2]):p>=h&&p>=c?(w=o[1],g=o[0],S=o[2]):(w=o[2],g=o[0],S=o[1]),this.crossProductZ(g,w,S)<0){const k=g;g=S,S=k}o[0]=g,o[1]=w,o[2]=S}static distance(o,c){return qe.distance(o.x,o.y,c.x,c.y)}static crossProductZ(o,c,h){const p=c.x,g=c.y;return(h.x-p)*(o.y-g)-(h.y-g)*(o.x-p)}}class At{constructor(o,c){this.bits=o,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class Bt extends At{constructor(o,c,h,p,g){super(o,c),this.compact=h,this.nbDatablocks=p,this.nbLayers=g}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Pt{constructor(o,c,h,p){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),c==null&&(c=Pt.INIT_SIZE),h==null&&(h=o.getWidth()/2|0),p==null&&(p=o.getHeight()/2|0);const g=c/2|0;if(this.leftInit=h-g,this.rightInit=h+g,this.upInit=p-g,this.downInit=p+g,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new le}detect(){let o=this.leftInit,c=this.rightInit,h=this.upInit,p=this.downInit,g=!1,w=!0,S=!1,k=!1,O=!1,H=!1,Y=!1;const se=this.width,we=this.height;for(;w;){w=!1;let Ie=!0;for(;(Ie||!k)&&c<se;)Ie=this.containsBlackPoint(h,p,c,!1),Ie?(c++,w=!0,k=!0):k||c++;if(c>=se){g=!0;break}let Oe=!0;for(;(Oe||!O)&&p<we;)Oe=this.containsBlackPoint(o,c,p,!0),Oe?(p++,w=!0,O=!0):O||p++;if(p>=we){g=!0;break}let je=!0;for(;(je||!H)&&o>=0;)je=this.containsBlackPoint(h,p,o,!1),je?(o--,w=!0,H=!0):H||o--;if(o<0){g=!0;break}let tt=!0;for(;(tt||!Y)&&h>=0;)tt=this.containsBlackPoint(o,c,h,!0),tt?(h--,w=!0,Y=!0):Y||h--;if(h<0){g=!0;break}w&&(S=!0)}if(!g&&S){const Ie=c-o;let Oe=null;for(let wt=1;Oe===null&&wt<Ie;wt++)Oe=this.getBlackPointOnSegment(o,p-wt,o+wt,p);if(Oe==null)throw new le;let je=null;for(let wt=1;je===null&&wt<Ie;wt++)je=this.getBlackPointOnSegment(o,h+wt,o+wt,h);if(je==null)throw new le;let tt=null;for(let wt=1;tt===null&&wt<Ie;wt++)tt=this.getBlackPointOnSegment(c,h+wt,c-wt,h);if(tt==null)throw new le;let gt=null;for(let wt=1;gt===null&&wt<Ie;wt++)gt=this.getBlackPointOnSegment(c,p-wt,c-wt,p);if(gt==null)throw new le;return this.centerEdges(gt,Oe,tt,je)}else throw new le}getBlackPointOnSegment(o,c,h,p){const g=qe.round(qe.distance(o,c,h,p)),w=(h-o)/g,S=(p-c)/g,k=this.image;for(let O=0;O<g;O++){const H=qe.round(o+O*w),Y=qe.round(c+O*S);if(k.get(H,Y))return new et(H,Y)}return null}centerEdges(o,c,h,p){const g=o.getX(),w=o.getY(),S=c.getX(),k=c.getY(),O=h.getX(),H=h.getY(),Y=p.getX(),se=p.getY(),we=Pt.CORR;return g<this.width/2?[new et(Y-we,se+we),new et(S+we,k+we),new et(O-we,H-we),new et(g+we,w-we)]:[new et(Y+we,se+we),new et(S+we,k-we),new et(O-we,H+we),new et(g-we,w-we)]}containsBlackPoint(o,c,h,p){const g=this.image;if(p){for(let w=o;w<=c;w++)if(g.get(w,h))return!0}else for(let w=o;w<=c;w++)if(g.get(h,w))return!0;return!1}}Pt.INIT_SIZE=10,Pt.CORR=1;class $t{static checkAndNudgePoints(o,c){const h=o.getWidth(),p=o.getHeight();let g=!0;for(let w=0;w<c.length&&g;w+=2){const S=Math.floor(c[w]),k=Math.floor(c[w+1]);if(S<-1||S>h||k<-1||k>p)throw new le;g=!1,S===-1?(c[w]=0,g=!0):S===h&&(c[w]=h-1,g=!0),k===-1?(c[w+1]=0,g=!0):k===p&&(c[w+1]=p-1,g=!0)}g=!0;for(let w=c.length-2;w>=0&&g;w-=2){const S=Math.floor(c[w]),k=Math.floor(c[w+1]);if(S<-1||S>h||k<-1||k>p)throw new le;g=!1,S===-1?(c[w]=0,g=!0):S===h&&(c[w]=h-1,g=!0),k===-1?(c[w+1]=0,g=!0):k===p&&(c[w+1]=p-1,g=!0)}}}class Dt{constructor(o,c,h,p,g,w,S,k,O){this.a11=o,this.a21=c,this.a31=h,this.a12=p,this.a22=g,this.a32=w,this.a13=S,this.a23=k,this.a33=O}static quadrilateralToQuadrilateral(o,c,h,p,g,w,S,k,O,H,Y,se,we,Ie,Oe,je){const tt=Dt.quadrilateralToSquare(o,c,h,p,g,w,S,k);return Dt.squareToQuadrilateral(O,H,Y,se,we,Ie,Oe,je).times(tt)}transformPoints(o){const c=o.length,h=this.a11,p=this.a12,g=this.a13,w=this.a21,S=this.a22,k=this.a23,O=this.a31,H=this.a32,Y=this.a33;for(let se=0;se<c;se+=2){const we=o[se],Ie=o[se+1],Oe=g*we+k*Ie+Y;o[se]=(h*we+w*Ie+O)/Oe,o[se+1]=(p*we+S*Ie+H)/Oe}}transformPointsWithValues(o,c){const h=this.a11,p=this.a12,g=this.a13,w=this.a21,S=this.a22,k=this.a23,O=this.a31,H=this.a32,Y=this.a33,se=o.length;for(let we=0;we<se;we++){const Ie=o[we],Oe=c[we],je=g*Ie+k*Oe+Y;o[we]=(h*Ie+w*Oe+O)/je,c[we]=(p*Ie+S*Oe+H)/je}}static squareToQuadrilateral(o,c,h,p,g,w,S,k){const O=o-h+g-S,H=c-p+w-k;if(O===0&&H===0)return new Dt(h-o,g-h,o,p-c,w-p,c,0,0,1);{const Y=h-g,se=S-g,we=p-w,Ie=k-w,Oe=Y*Ie-se*we,je=(O*Ie-se*H)/Oe,tt=(Y*H-O*we)/Oe;return new Dt(h-o+je*h,S-o+tt*S,o,p-c+je*p,k-c+tt*k,c,je,tt,1)}}static quadrilateralToSquare(o,c,h,p,g,w,S,k){return Dt.squareToQuadrilateral(o,c,h,p,g,w,S,k).buildAdjoint()}buildAdjoint(){return new Dt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new Dt(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class Jt extends $t{sampleGrid(o,c,h,p,g,w,S,k,O,H,Y,se,we,Ie,Oe,je,tt,gt,wt){const xt=Dt.quadrilateralToQuadrilateral(p,g,w,S,k,O,H,Y,se,we,Ie,Oe,je,tt,gt,wt);return this.sampleGridWithTransform(o,c,h,xt)}sampleGridWithTransform(o,c,h,p){if(c<=0||h<=0)throw new le;const g=new oe(c,h),w=new Float32Array(2*c);for(let S=0;S<h;S++){const k=w.length,O=S+.5;for(let H=0;H<k;H+=2)w[H]=H/2+.5,w[H+1]=O;p.transformPoints(w),$t.checkAndNudgePoints(o,w);try{for(let H=0;H<k;H+=2)o.get(Math.floor(w[H]),Math.floor(w[H+1]))&&g.set(H/2,S)}catch{throw new le}}return g}}class er{static setGridSampler(o){er.gridSampler=o}static getInstance(){return er.gridSampler}}er.gridSampler=new Jt;class Mt{constructor(o,c){this.x=o,this.y=c}toResultPoint(){return new et(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class gr{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let c=this.getMatrixCenter(),h=this.getBullsEyeCorners(c);if(o){let w=h[0];h[0]=h[2],h[2]=w}this.extractParameters(h);let p=this.sampleGrid(this.image,h[this.shift%4],h[(this.shift+1)%4],h[(this.shift+2)%4],h[(this.shift+3)%4]),g=this.getMatrixCornerPoints(h);return new Bt(p,g,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new le;let c=2*this.nbCenterLayers,h=new Int32Array([this.sampleLine(o[0],o[1],c),this.sampleLine(o[1],o[2],c),this.sampleLine(o[2],o[3],c),this.sampleLine(o[3],o[0],c)]);this.shift=this.getRotation(h,c);let p=0;for(let w=0;w<4;w++){let S=h[(this.shift+w)%4];this.compact?(p<<=7,p+=S>>1&127):(p<<=10,p+=(S>>2&992)+(S>>1&31))}let g=this.getCorrectedParameterData(p,this.compact);this.compact?(this.nbLayers=(g>>6)+1,this.nbDataBlocks=(g&63)+1):(this.nbLayers=(g>>11)+1,this.nbDataBlocks=(g&2047)+1)}getRotation(o,c){let h=0;o.forEach((p,g,w)=>{let S=(p>>c-2<<1)+(p&1);h=(h<<3)+S}),h=((h&1)<<11)+(h>>1);for(let p=0;p<4;p++)if(I.bitCount(h^this.EXPECTED_CORNER_BITS[p])<=2)return p;throw new le}getCorrectedParameterData(o,c){let h,p;c?(h=7,p=2):(h=10,p=4);let g=h-p,w=new Int32Array(h);for(let k=h-1;k>=0;--k)w[k]=o&15,o>>=4;try{new pe(Qe.AZTEC_PARAM).decode(w,g)}catch{throw new le}let S=0;for(let k=0;k<p;k++)S=(S<<4)+w[k];return S}getBullsEyeCorners(o){let c=o,h=o,p=o,g=o,w=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let Y=this.getFirstDifferent(c,w,1,-1),se=this.getFirstDifferent(h,w,1,1),we=this.getFirstDifferent(p,w,-1,1),Ie=this.getFirstDifferent(g,w,-1,-1);if(this.nbCenterLayers>2){let Oe=this.distancePoint(Ie,Y)*this.nbCenterLayers/(this.distancePoint(g,c)*(this.nbCenterLayers+2));if(Oe<.75||Oe>1.25||!this.isWhiteOrBlackRectangle(Y,se,we,Ie))break}c=Y,h=se,p=we,g=Ie,w=!w}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new le;this.compact=this.nbCenterLayers===5;let S=new et(c.getX()+.5,c.getY()-.5),k=new et(h.getX()+.5,h.getY()+.5),O=new et(p.getX()-.5,p.getY()+.5),H=new et(g.getX()-.5,g.getY()-.5);return this.expandSquare([S,k,O,H],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,c,h,p;try{let S=new Pt(this.image).detect();o=S[0],c=S[1],h=S[2],p=S[3]}catch{let k=this.image.getWidth()/2,O=this.image.getHeight()/2;o=this.getFirstDifferent(new Mt(k+7,O-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new Mt(k+7,O+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Mt(k-7,O+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new Mt(k-7,O-7),!1,-1,-1).toResultPoint()}let g=qe.round((o.getX()+p.getX()+c.getX()+h.getX())/4),w=qe.round((o.getY()+p.getY()+c.getY()+h.getY())/4);try{let S=new Pt(this.image,15,g,w).detect();o=S[0],c=S[1],h=S[2],p=S[3]}catch{o=this.getFirstDifferent(new Mt(g+7,w-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new Mt(g+7,w+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Mt(g-7,w+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new Mt(g-7,w-7),!1,-1,-1).toResultPoint()}return g=qe.round((o.getX()+p.getX()+c.getX()+h.getX())/4),w=qe.round((o.getY()+p.getY()+c.getY()+h.getY())/4),new Mt(g,w)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,c,h,p,g){let w=er.getInstance(),S=this.getDimension(),k=S/2-this.nbCenterLayers,O=S/2+this.nbCenterLayers;return w.sampleGrid(o,S,S,k,k,O,k,O,O,k,O,c.getX(),c.getY(),h.getX(),h.getY(),p.getX(),p.getY(),g.getX(),g.getY())}sampleLine(o,c,h){let p=0,g=this.distanceResultPoint(o,c),w=g/h,S=o.getX(),k=o.getY(),O=w*(c.getX()-o.getX())/g,H=w*(c.getY()-o.getY())/g;for(let Y=0;Y<h;Y++)this.image.get(qe.round(S+Y*O),qe.round(k+Y*H))&&(p|=1<<h-Y-1);return p}isWhiteOrBlackRectangle(o,c,h,p){let g=3;o=new Mt(o.getX()-g,o.getY()+g),c=new Mt(c.getX()-g,c.getY()-g),h=new Mt(h.getX()+g,h.getY()-g),p=new Mt(p.getX()+g,p.getY()+g);let w=this.getColor(p,o);if(w===0)return!1;let S=this.getColor(o,c);return S!==w||(S=this.getColor(c,h),S!==w)?!1:(S=this.getColor(h,p),S===w)}getColor(o,c){let h=this.distancePoint(o,c),p=(c.getX()-o.getX())/h,g=(c.getY()-o.getY())/h,w=0,S=o.getX(),k=o.getY(),O=this.image.get(o.getX(),o.getY()),H=Math.ceil(h);for(let se=0;se<H;se++)S+=p,k+=g,this.image.get(qe.round(S),qe.round(k))!==O&&w++;let Y=w/h;return Y>.1&&Y<.9?0:Y<=.1===O?1:-1}getFirstDifferent(o,c,h,p){let g=o.getX()+h,w=o.getY()+p;for(;this.isValid(g,w)&&this.image.get(g,w)===c;)g+=h,w+=p;for(g-=h,w-=p;this.isValid(g,w)&&this.image.get(g,w)===c;)g+=h;for(g-=h;this.isValid(g,w)&&this.image.get(g,w)===c;)w+=p;return w-=p,new Mt(g,w)}expandSquare(o,c,h){let p=h/(2*c),g=o[0].getX()-o[2].getX(),w=o[0].getY()-o[2].getY(),S=(o[0].getX()+o[2].getX())/2,k=(o[0].getY()+o[2].getY())/2,O=new et(S+p*g,k+p*w),H=new et(S-p*g,k-p*w);g=o[1].getX()-o[3].getX(),w=o[1].getY()-o[3].getY(),S=(o[1].getX()+o[3].getX())/2,k=(o[1].getY()+o[3].getY())/2;let Y=new et(S+p*g,k+p*w),se=new et(S-p*g,k-p*w);return[O,Y,H,se]}isValid(o,c){return o>=0&&o<this.image.getWidth()&&c>0&&c<this.image.getHeight()}isValidPoint(o){let c=qe.round(o.getX()),h=qe.round(o.getY());return this.isValid(c,h)}distancePoint(o,c){return qe.distance(o.getX(),o.getY(),c.getX(),c.getY())}distanceResultPoint(o,c){return qe.distance(o.getX(),o.getY(),c.getX(),c.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(I.truncDivision(this.nbLayers-4,8)+1)+15}}class Nt{decode(o,c=null){let h=null,p=new gr(o.getBlackMatrix()),g=null,w=null;try{let H=p.detectMirror(!1);g=H.getPoints(),this.reportFoundResultPoints(c,g),w=new nt().decode(H)}catch(H){h=H}if(w==null)try{let H=p.detectMirror(!0);g=H.getPoints(),this.reportFoundResultPoints(c,g),w=new nt().decode(H)}catch(H){throw h??H}let S=new G(w.getText(),w.getRawBytes(),w.getNumBits(),g,ie.AZTEC,_.currentTimeMillis()),k=w.getByteSegments();k!=null&&S.putMetadata(be.BYTE_SEGMENTS,k);let O=w.getECLevel();return O!=null&&S.putMetadata(be.ERROR_CORRECTION_LEVEL,O),S}reportFoundResultPoints(o,c){if(o!=null){let h=o.get(Q.NEED_RESULT_POINT_CALLBACK);h!=null&&c.forEach((p,g,w)=>{h.foundPossibleResultPoint(p)})}}reset(){}}class Jr extends V{constructor(o=500){super(new Nt,o)}}class Gt{decode(o,c){try{return this.doDecode(o,c)}catch{if(c&&c.get(Q.TRY_HARDER)===!0&&o.isRotateSupported()){const g=o.rotateCounterClockwise(),w=this.doDecode(g,c),S=w.getResultMetadata();let k=270;S!==null&&S.get(be.ORIENTATION)===!0&&(k=k+S.get(be.ORIENTATION)%360),w.putMetadata(be.ORIENTATION,k);const O=w.getResultPoints();if(O!==null){const H=g.getHeight();for(let Y=0;Y<O.length;Y++)O[Y]=new et(H-O[Y].getY()-1,O[Y].getX())}return w}else throw new le}}reset(){}doDecode(o,c){const h=o.getWidth(),p=o.getHeight();let g=new L(h);const w=c&&c.get(Q.TRY_HARDER)===!0,S=Math.max(1,p>>(w?8:5));let k;w?k=p:k=15;const O=Math.trunc(p/2);for(let H=0;H<k;H++){const Y=Math.trunc((H+1)/2),se=(H&1)===0,we=O+S*(se?Y:-Y);if(we<0||we>=p)break;try{g=o.getBlackRow(we,g)}catch{continue}for(let Ie=0;Ie<2;Ie++){if(Ie===1&&(g.reverse(),c&&c.get(Q.NEED_RESULT_POINT_CALLBACK)===!0)){const Oe=new Map;c.forEach((je,tt)=>Oe.set(tt,je)),Oe.delete(Q.NEED_RESULT_POINT_CALLBACK),c=Oe}try{const Oe=this.decodeRow(we,g,c);if(Ie===1){Oe.putMetadata(be.ORIENTATION,180);const je=Oe.getResultPoints();je!==null&&(je[0]=new et(h-je[0].getX()-1,je[0].getY()),je[1]=new et(h-je[1].getX()-1,je[1].getY()))}return Oe}catch{}}}throw new le}static recordPattern(o,c,h){const p=h.length;for(let O=0;O<p;O++)h[O]=0;const g=o.getSize();if(c>=g)throw new le;let w=!o.get(c),S=0,k=c;for(;k<g;){if(o.get(k)!==w)h[S]++;else{if(++S===p)break;h[S]=1,w=!w}k++}if(!(S===p||S===p-1&&k===g))throw new le}static recordPatternInReverse(o,c,h){let p=h.length,g=o.get(c);for(;c>0&&p>=0;)o.get(--c)!==g&&(p--,g=!g);if(p>=0)throw new le;Gt.recordPattern(o,c+1,h)}static patternMatchVariance(o,c,h){const p=o.length;let g=0,w=0;for(let O=0;O<p;O++)g+=o[O],w+=c[O];if(g<w)return Number.POSITIVE_INFINITY;const S=g/w;h*=S;let k=0;for(let O=0;O<p;O++){const H=o[O],Y=c[O]*S,se=H>Y?H-Y:Y-H;if(se>h)return Number.POSITIVE_INFINITY;k+=se}return k/g}}class St extends Gt{static findStartPattern(o){const c=o.getSize(),h=o.getNextSet(0);let p=0,g=Int32Array.from([0,0,0,0,0,0]),w=h,S=!1;const k=6;for(let O=h;O<c;O++)if(o.get(O)!==S)g[p]++;else{if(p===k-1){let H=St.MAX_AVG_VARIANCE,Y=-1;for(let se=St.CODE_START_A;se<=St.CODE_START_C;se++){const we=Gt.patternMatchVariance(g,St.CODE_PATTERNS[se],St.MAX_INDIVIDUAL_VARIANCE);we<H&&(H=we,Y=se)}if(Y>=0&&o.isRange(Math.max(0,w-(O-w)/2),w,!1))return Int32Array.from([w,O,Y]);w+=g[0]+g[1],g=g.slice(2,g.length-1),g[p-1]=0,g[p]=0,p--}else p++;g[p]=1,S=!S}throw new le}static decodeCode(o,c,h){Gt.recordPattern(o,h,c);let p=St.MAX_AVG_VARIANCE,g=-1;for(let w=0;w<St.CODE_PATTERNS.length;w++){const S=St.CODE_PATTERNS[w],k=this.patternMatchVariance(c,S,St.MAX_INDIVIDUAL_VARIANCE);k<p&&(p=k,g=w)}if(g>=0)return g;throw new le}decodeRow(o,c,h){const p=h&&h.get(Q.ASSUME_GS1)===!0,g=St.findStartPattern(c),w=g[2];let S=0;const k=new Uint8Array(20);k[S++]=w;let O;switch(w){case St.CODE_START_A:O=St.CODE_CODE_A;break;case St.CODE_START_B:O=St.CODE_CODE_B;break;case St.CODE_START_C:O=St.CODE_CODE_C;break;default:throw new B}let H=!1,Y=!1,se="",we=g[0],Ie=g[1];const Oe=Int32Array.from([0,0,0,0,0,0]);let je=0,tt=0,gt=w,wt=0,xt=!0,kr=!1,fr=!1;for(;!H;){const Ga=Y;switch(Y=!1,je=tt,tt=St.decodeCode(c,Oe,Ie),k[S++]=tt,tt!==St.CODE_STOP&&(xt=!0),tt!==St.CODE_STOP&&(wt++,gt+=wt*tt),we=Ie,Ie+=Oe.reduce((ea,ta)=>ea+ta,0),tt){case St.CODE_START_A:case St.CODE_START_B:case St.CODE_START_C:throw new B}switch(O){case St.CODE_CODE_A:if(tt<64)fr===kr?se+=String.fromCharCode(32+tt):se+=String.fromCharCode(32+tt+128),fr=!1;else if(tt<96)fr===kr?se+=String.fromCharCode(tt-64):se+=String.fromCharCode(tt+64),fr=!1;else switch(tt!==St.CODE_STOP&&(xt=!1),tt){case St.CODE_FNC_1:p&&(se.length===0?se+="]C1":se+="");break;case St.CODE_FNC_2:case St.CODE_FNC_3:break;case St.CODE_FNC_4_A:!kr&&fr?(kr=!0,fr=!1):kr&&fr?(kr=!1,fr=!1):fr=!0;break;case St.CODE_SHIFT:Y=!0,O=St.CODE_CODE_B;break;case St.CODE_CODE_B:O=St.CODE_CODE_B;break;case St.CODE_CODE_C:O=St.CODE_CODE_C;break;case St.CODE_STOP:H=!0;break}break;case St.CODE_CODE_B:if(tt<96)fr===kr?se+=String.fromCharCode(32+tt):se+=String.fromCharCode(32+tt+128),fr=!1;else switch(tt!==St.CODE_STOP&&(xt=!1),tt){case St.CODE_FNC_1:p&&(se.length===0?se+="]C1":se+="");break;case St.CODE_FNC_2:case St.CODE_FNC_3:break;case St.CODE_FNC_4_B:!kr&&fr?(kr=!0,fr=!1):kr&&fr?(kr=!1,fr=!1):fr=!0;break;case St.CODE_SHIFT:Y=!0,O=St.CODE_CODE_A;break;case St.CODE_CODE_A:O=St.CODE_CODE_A;break;case St.CODE_CODE_C:O=St.CODE_CODE_C;break;case St.CODE_STOP:H=!0;break}break;case St.CODE_CODE_C:if(tt<100)tt<10&&(se+="0"),se+=tt;else switch(tt!==St.CODE_STOP&&(xt=!1),tt){case St.CODE_FNC_1:p&&(se.length===0?se+="]C1":se+="");break;case St.CODE_CODE_A:O=St.CODE_CODE_A;break;case St.CODE_CODE_B:O=St.CODE_CODE_B;break;case St.CODE_STOP:H=!0;break}break}Ga&&(O=O===St.CODE_CODE_A?St.CODE_CODE_B:St.CODE_CODE_A)}const si=Ie-we;if(Ie=c.getNextUnset(Ie),!c.isRange(Ie,Math.min(c.getSize(),Ie+(Ie-we)/2),!1))throw new le;if(gt-=wt*je,gt%103!==je)throw new v;const Mi=se.length;if(Mi===0)throw new le;Mi>0&&xt&&(O===St.CODE_CODE_C?se=se.substring(0,Mi-2):se=se.substring(0,Mi-1));const Zn=(g[1]+g[0])/2,Gr=we+si/2,$n=k.length,gi=new Uint8Array($n);for(let Ga=0;Ga<$n;Ga++)gi[Ga]=k[Ga];const Bs=[new et(Zn,o),new et(Gr,o)];return new G(se,gi,0,Bs,ie.CODE_128,new Date().getTime())}}St.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],St.MAX_AVG_VARIANCE=.25,St.MAX_INDIVIDUAL_VARIANCE=.7,St.CODE_SHIFT=98,St.CODE_CODE_C=99,St.CODE_CODE_B=100,St.CODE_CODE_A=101,St.CODE_FNC_1=102,St.CODE_FNC_2=97,St.CODE_FNC_3=96,St.CODE_FNC_4_A=101,St.CODE_FNC_4_B=100,St.CODE_START_A=103,St.CODE_START_B=104,St.CODE_START_C=105,St.CODE_STOP=106;class or extends Gt{constructor(o=!1,c=!1){super(),this.usingCheckDigit=o,this.extendedMode=c,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,c,h){let p=this.counters;p.fill(0),this.decodeRowResult="";let g=or.findAsteriskPattern(c,p),w=c.getNextSet(g[1]),S=c.getSize(),k,O;do{or.recordPattern(c,w,p);let Oe=or.toNarrowWidePattern(p);if(Oe<0)throw new le;k=or.patternToChar(Oe),this.decodeRowResult+=k,O=w;for(let je of p)w+=je;w=c.getNextSet(w)}while(k!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let H=0;for(let Oe of p)H+=Oe;let Y=w-O-H;if(w!==S&&Y*2<H)throw new le;if(this.usingCheckDigit){let Oe=this.decodeRowResult.length-1,je=0;for(let tt=0;tt<Oe;tt++)je+=or.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(tt));if(this.decodeRowResult.charAt(Oe)!==or.ALPHABET_STRING.charAt(je%43))throw new v;this.decodeRowResult=this.decodeRowResult.substring(0,Oe)}if(this.decodeRowResult.length===0)throw new le;let se;this.extendedMode?se=or.decodeExtended(this.decodeRowResult):se=this.decodeRowResult;let we=(g[1]+g[0])/2,Ie=O+H/2;return new G(se,null,0,[new et(we,o),new et(Ie,o)],ie.CODE_39,new Date().getTime())}static findAsteriskPattern(o,c){let h=o.getSize(),p=o.getNextSet(0),g=0,w=p,S=!1,k=c.length;for(let O=p;O<h;O++)if(o.get(O)!==S)c[g]++;else{if(g===k-1){if(this.toNarrowWidePattern(c)===or.ASTERISK_ENCODING&&o.isRange(Math.max(0,w-Math.floor((O-w)/2)),w,!1))return[w,O];w+=c[0]+c[1],c.copyWithin(0,2,2+g-1),c[g-1]=0,c[g]=0,g--}else g++;c[g]=1,S=!S}throw new le}static toNarrowWidePattern(o){let c=o.length,h=0,p;do{let g=2147483647;for(let k of o)k<g&&k>h&&(g=k);h=g,p=0;let w=0,S=0;for(let k=0;k<c;k++){let O=o[k];O>h&&(S|=1<<c-1-k,p++,w+=O)}if(p===3){for(let k=0;k<c&&p>0;k++){let O=o[k];if(O>h&&(p--,O*2>=w))return-1}return S}}while(p>3);return-1}static patternToChar(o){for(let c=0;c<or.CHARACTER_ENCODINGS.length;c++)if(or.CHARACTER_ENCODINGS[c]===o)return or.ALPHABET_STRING.charAt(c);if(o===or.ASTERISK_ENCODING)return"*";throw new le}static decodeExtended(o){let c=o.length,h="";for(let p=0;p<c;p++){let g=o.charAt(p);if(g==="+"||g==="$"||g==="%"||g==="/"){let w=o.charAt(p+1),S="\0";switch(g){case"+":if(w>="A"&&w<="Z")S=String.fromCharCode(w.charCodeAt(0)+32);else throw new B;break;case"$":if(w>="A"&&w<="Z")S=String.fromCharCode(w.charCodeAt(0)-64);else throw new B;break;case"%":if(w>="A"&&w<="E")S=String.fromCharCode(w.charCodeAt(0)-38);else if(w>="F"&&w<="J")S=String.fromCharCode(w.charCodeAt(0)-11);else if(w>="K"&&w<="O")S=String.fromCharCode(w.charCodeAt(0)+16);else if(w>="P"&&w<="T")S=String.fromCharCode(w.charCodeAt(0)+43);else if(w==="U")S="\0";else if(w==="V")S="@";else if(w==="W")S="`";else if(w==="X"||w==="Y"||w==="Z")S="";else throw new B;break;case"/":if(w>="A"&&w<="O")S=String.fromCharCode(w.charCodeAt(0)-32);else if(w==="Z")S=":";else throw new B;break}h+=S,p++}else h+=g}return h}}or.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",or.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],or.ASTERISK_ENCODING=148;class tr extends Gt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,c,h){let p=this.decodeStart(c),g=this.decodeEnd(c),w=new re;tr.decodeMiddle(c,p[1],g[0],w);let S=w.toString(),k=null;h!=null&&(k=h.get(Q.ALLOWED_LENGTHS)),k==null&&(k=tr.DEFAULT_ALLOWED_LENGTHS);let O=S.length,H=!1,Y=0;for(let Ie of k){if(O===Ie){H=!0;break}Ie>Y&&(Y=Ie)}if(!H&&O>Y&&(H=!0),!H)throw new B;const se=[new et(p[1],o),new et(g[0],o)];return new G(S,null,0,se,ie.ITF,new Date().getTime())}static decodeMiddle(o,c,h,p){let g=new Int32Array(10),w=new Int32Array(5),S=new Int32Array(5);for(g.fill(0),w.fill(0),S.fill(0);c<h;){Gt.recordPattern(o,c,g);for(let O=0;O<5;O++){let H=2*O;w[O]=g[H],S[O]=g[H+1]}let k=tr.decodeDigit(w);p.append(k.toString()),k=this.decodeDigit(S),p.append(k.toString()),g.forEach(function(O){c+=O})}}decodeStart(o){let c=tr.skipWhiteSpace(o),h=tr.findGuardPattern(o,c,tr.START_PATTERN);return this.narrowLineWidth=(h[1]-h[0])/4,this.validateQuietZone(o,h[0]),h}validateQuietZone(o,c){let h=this.narrowLineWidth*10;h=h<c?h:c;for(let p=c-1;h>0&&p>=0&&!o.get(p);p--)h--;if(h!==0)throw new le}static skipWhiteSpace(o){const c=o.getSize(),h=o.getNextSet(0);if(h===c)throw new le;return h}decodeEnd(o){o.reverse();try{let c=tr.skipWhiteSpace(o),h;try{h=tr.findGuardPattern(o,c,tr.END_PATTERN_REVERSED[0])}catch(g){g instanceof le&&(h=tr.findGuardPattern(o,c,tr.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,h[0]);let p=h[0];return h[0]=o.getSize()-h[1],h[1]=o.getSize()-p,h}finally{o.reverse()}}static findGuardPattern(o,c,h){let p=h.length,g=new Int32Array(p),w=o.getSize(),S=!1,k=0,O=c;g.fill(0);for(let H=c;H<w;H++)if(o.get(H)!==S)g[k]++;else{if(k===p-1){if(Gt.patternMatchVariance(g,h,tr.MAX_INDIVIDUAL_VARIANCE)<tr.MAX_AVG_VARIANCE)return[O,H];O+=g[0]+g[1],_.arraycopy(g,2,g,0,k-1),g[k-1]=0,g[k]=0,k--}else k++;g[k]=1,S=!S}throw new le}static decodeDigit(o){let c=tr.MAX_AVG_VARIANCE,h=-1,p=tr.PATTERNS.length;for(let g=0;g<p;g++){let w=tr.PATTERNS[g],S=Gt.patternMatchVariance(o,w,tr.MAX_INDIVIDUAL_VARIANCE);S<c?(c=S,h=g):S===c&&(h=-1)}if(h>=0)return h%10;throw new le}}tr.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],tr.MAX_AVG_VARIANCE=.38,tr.MAX_INDIVIDUAL_VARIANCE=.5,tr.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],tr.START_PATTERN=Int32Array.from([1,1,1,1]),tr.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class qr extends Gt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let c=!1,h,p=0,g=Int32Array.from([0,0,0]);for(;!c;){g=Int32Array.from([0,0,0]),h=qr.findGuardPattern(o,p,!1,this.START_END_PATTERN,g);let w=h[0];p=h[1];let S=w-(p-w);S>=0&&(c=o.isRange(S,w,!1))}return h}static checkChecksum(o){return qr.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let c=o.length;if(c===0)return!1;let h=parseInt(o.charAt(c-1),10);return qr.getStandardUPCEANChecksum(o.substring(0,c-1))===h}static getStandardUPCEANChecksum(o){let c=o.length,h=0;for(let p=c-1;p>=0;p-=2){let g=o.charAt(p).charCodeAt(0)-48;if(g<0||g>9)throw new B;h+=g}h*=3;for(let p=c-2;p>=0;p-=2){let g=o.charAt(p).charCodeAt(0)-48;if(g<0||g>9)throw new B;h+=g}return(1e3-h)%10}static decodeEnd(o,c){return qr.findGuardPattern(o,c,!1,qr.START_END_PATTERN,new Int32Array(qr.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,c,h,p){return this.findGuardPattern(o,c,h,p,new Int32Array(p.length))}static findGuardPattern(o,c,h,p,g){let w=o.getSize();c=h?o.getNextUnset(c):o.getNextSet(c);let S=0,k=c,O=p.length,H=h;for(let Y=c;Y<w;Y++)if(o.get(Y)!==H)g[S]++;else{if(S===O-1){if(Gt.patternMatchVariance(g,p,qr.MAX_INDIVIDUAL_VARIANCE)<qr.MAX_AVG_VARIANCE)return Int32Array.from([k,Y]);k+=g[0]+g[1];let se=g.slice(2,g.length-1);for(let we=0;we<S-1;we++)g[we]=se[we];g[S-1]=0,g[S]=0,S--}else S++;g[S]=1,H=!H}throw new le}static decodeDigit(o,c,h,p){this.recordPattern(o,h,c);let g=this.MAX_AVG_VARIANCE,w=-1,S=p.length;for(let k=0;k<S;k++){let O=p[k],H=Gt.patternMatchVariance(c,O,qr.MAX_INDIVIDUAL_VARIANCE);H<g&&(g=H,w=k)}if(w>=0)return w;throw new le}}qr.MAX_AVG_VARIANCE=.48,qr.MAX_INDIVIDUAL_VARIANCE=.7,qr.START_END_PATTERN=Int32Array.from([1,1,1]),qr.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),qr.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),qr.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Dr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,c,h){let p=this.decodeRowStringBuffer,g=this.decodeMiddle(c,h,p),w=p.toString(),S=Dr.parseExtensionString(w),k=[new et((h[0]+h[1])/2,o),new et(g,o)],O=new G(w,null,0,k,ie.UPC_EAN_EXTENSION,new Date().getTime());return S!=null&&O.putAllMetadata(S),O}decodeMiddle(o,c,h){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let g=o.getSize(),w=c[1],S=0;for(let O=0;O<5&&w<g;O++){let H=qr.decodeDigit(o,p,w,qr.L_AND_G_PATTERNS);h+=String.fromCharCode(48+H%10);for(let Y of p)w+=Y;H>=10&&(S|=1<<4-O),O!==4&&(w=o.getNextSet(w),w=o.getNextUnset(w))}if(h.length!==5)throw new le;let k=this.determineCheckDigit(S);if(Dr.extensionChecksum(h.toString())!==k)throw new le;return w}static extensionChecksum(o){let c=o.length,h=0;for(let p=c-2;p>=0;p-=2)h+=o.charAt(p).charCodeAt(0)-48;h*=3;for(let p=c-1;p>=0;p-=2)h+=o.charAt(p).charCodeAt(0)-48;return h*=3,h%10}determineCheckDigit(o){for(let c=0;c<10;c++)if(o===this.CHECK_DIGIT_ENCODINGS[c])return c;throw new le}static parseExtensionString(o){if(o.length!==5)return null;let c=Dr.parseExtension5String(o);return c==null?null:new Map([[be.SUGGESTED_PRICE,c]])}static parseExtension5String(o){let c;switch(o.charAt(0)){case"0":c="";break;case"5":c="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}c="";break;default:c="";break}let h=parseInt(o.substring(1)),p=(h/100).toString(),g=h%100,w=g<10?"0"+g:g.toString();return c+p+"."+w}}class Qs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,c,h){let p=this.decodeRowStringBuffer,g=this.decodeMiddle(c,h,p),w=p.toString(),S=Qs.parseExtensionString(w),k=[new et((h[0]+h[1])/2,o),new et(g,o)],O=new G(w,null,0,k,ie.UPC_EAN_EXTENSION,new Date().getTime());return S!=null&&O.putAllMetadata(S),O}decodeMiddle(o,c,h){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let g=o.getSize(),w=c[1],S=0;for(let k=0;k<2&&w<g;k++){let O=qr.decodeDigit(o,p,w,qr.L_AND_G_PATTERNS);h+=String.fromCharCode(48+O%10);for(let H of p)w+=H;O>=10&&(S|=1<<1-k),k!==1&&(w=o.getNextSet(w),w=o.getNextUnset(w))}if(h.length!==2)throw new le;if(parseInt(h.toString())%4!==S)throw new le;return w}static parseExtensionString(o){return o.length!==2?null:new Map([[be.ISSUE_NUMBER,parseInt(o)]])}}class _n{static decodeRow(o,c,h){let p=qr.findGuardPattern(c,h,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Dr().decodeRow(o,c,p)}catch{return new Qs().decodeRow(o,c,p)}}}_n.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class xr extends qr{constructor(){super(),this.decodeRowStringBuffer="",xr.L_AND_G_PATTERNS=xr.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let c=xr.L_PATTERNS[o-10],h=new Int32Array(c.length);for(let p=0;p<c.length;p++)h[p]=c[c.length-p-1];xr.L_AND_G_PATTERNS[o]=h}}decodeRow(o,c,h){let p=xr.findStartGuardPattern(c),g=h==null?null:h.get(Q.NEED_RESULT_POINT_CALLBACK);if(g!=null){const xt=new et((p[0]+p[1])/2,o);g.foundPossibleResultPoint(xt)}let w=this.decodeMiddle(c,p,this.decodeRowStringBuffer),S=w.rowOffset,k=w.resultString;if(g!=null){const xt=new et(S,o);g.foundPossibleResultPoint(xt)}let O=this.decodeEnd(c,S);if(g!=null){const xt=new et((O[0]+O[1])/2,o);g.foundPossibleResultPoint(xt)}let H=O[1],Y=H+(H-O[0]);if(Y>=c.getSize()||!c.isRange(H,Y,!1))throw new le;let se=k.toString();if(se.length<8)throw new B;if(!xr.checkChecksum(se))throw new v;let we=(p[1]+p[0])/2,Ie=(O[1]+O[0])/2,Oe=this.getBarcodeFormat(),je=[new et(we,o),new et(Ie,o)],tt=new G(se,null,0,je,Oe,new Date().getTime()),gt=0;try{let xt=_n.decodeRow(o,c,O[1]);tt.putMetadata(be.UPC_EAN_EXTENSION,xt.getText()),tt.putAllMetadata(xt.getResultMetadata()),tt.addResultPoints(xt.getResultPoints()),gt=xt.getText().length}catch{}let wt=h==null?null:h.get(Q.ALLOWED_EAN_EXTENSIONS);if(wt!=null){let xt=!1;for(let kr in wt)if(gt.toString()===kr){xt=!0;break}if(!xt)throw new le}return tt}decodeEnd(o,c){return xr.findGuardPattern(o,c,!1,xr.START_END_PATTERN,new Int32Array(xr.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return xr.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let c=o.length;if(c===0)return!1;let h=parseInt(o.charAt(c-1),10);return xr.getStandardUPCEANChecksum(o.substring(0,c-1))===h}static getStandardUPCEANChecksum(o){let c=o.length,h=0;for(let p=c-1;p>=0;p-=2){let g=o.charAt(p).charCodeAt(0)-48;if(g<0||g>9)throw new B;h+=g}h*=3;for(let p=c-2;p>=0;p-=2){let g=o.charAt(p).charCodeAt(0)-48;if(g<0||g>9)throw new B;h+=g}return(1e3-h)%10}}class Ri extends xr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,c,h){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let g=o.getSize(),w=c[1],S=0;for(let O=0;O<6&&w<g;O++){let H=xr.decodeDigit(o,p,w,xr.L_AND_G_PATTERNS);h+=String.fromCharCode(48+H%10);for(let Y of p)w+=Y;H>=10&&(S|=1<<5-O)}h=Ri.determineFirstDigit(h,S),w=xr.findGuardPattern(o,w,!0,xr.MIDDLE_PATTERN,new Int32Array(xr.MIDDLE_PATTERN.length).fill(0))[1];for(let O=0;O<6&&w<g;O++){let H=xr.decodeDigit(o,p,w,xr.L_PATTERNS);h+=String.fromCharCode(48+H);for(let Y of p)w+=Y}return{rowOffset:w,resultString:h}}getBarcodeFormat(){return ie.EAN_13}static determineFirstDigit(o,c){for(let h=0;h<10;h++)if(c===this.FIRST_DIGIT_ENCODINGS[h])return o=String.fromCharCode(48+h)+o,o;throw new le}}Ri.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class on extends xr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,c,h){const p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let g=o.getSize(),w=c[1];for(let k=0;k<4&&w<g;k++){let O=xr.decodeDigit(o,p,w,xr.L_PATTERNS);h+=String.fromCharCode(48+O);for(let H of p)w+=H}w=xr.findGuardPattern(o,w,!0,xr.MIDDLE_PATTERN,new Int32Array(xr.MIDDLE_PATTERN.length).fill(0))[1];for(let k=0;k<4&&w<g;k++){let O=xr.decodeDigit(o,p,w,xr.L_PATTERNS);h+=String.fromCharCode(48+O);for(let H of p)w+=H}return{rowOffset:w,resultString:h}}getBarcodeFormat(){return ie.EAN_8}}class cr extends xr{constructor(){super(...arguments),this.ean13Reader=new Ri}getBarcodeFormat(){return ie.UPC_A}decode(o,c){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,c,h){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,c,h))}decodeMiddle(o,c,h){return this.ean13Reader.decodeMiddle(o,c,h)}maybeReturnResult(o){let c=o.getText();if(c.charAt(0)==="0"){let h=new G(c.substring(1),null,null,o.getResultPoints(),ie.UPC_A);return o.getResultMetadata()!=null&&h.putAllMetadata(o.getResultMetadata()),h}else throw new le}reset(){this.ean13Reader.reset()}}class yr extends xr{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,c,h){const p=this.decodeMiddleCounters.map(O=>O);p[0]=0,p[1]=0,p[2]=0,p[3]=0;const g=o.getSize();let w=c[1],S=0;for(let O=0;O<6&&w<g;O++){const H=yr.decodeDigit(o,p,w,yr.L_AND_G_PATTERNS);h+=String.fromCharCode(48+H%10);for(let Y of p)w+=Y;H>=10&&(S|=1<<5-O)}let k=yr.determineNumSysAndCheckDigit(h,S);return{rowOffset:w,resultString:k}}decodeEnd(o,c){return yr.findGuardPatternWithoutCounters(o,c,!0,yr.MIDDLE_END_PATTERN)}checkChecksum(o){return xr.checkChecksum(yr.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,c){for(let h=0;h<=1;h++)for(let p=0;p<10;p++)if(c===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[h][p]){let g=String.fromCharCode(48+h),w=String.fromCharCode(48+p);return g+o+w}throw le.getNotFoundInstance()}getBarcodeFormat(){return ie.UPC_E}static convertUPCEtoUPCA(o){const c=o.slice(1,7).split("").map(g=>g.charCodeAt(0)),h=new re;h.append(o.charAt(0));let p=c[5];switch(p){case 0:case 1:case 2:h.appendChars(c,0,2),h.append(p),h.append("0000"),h.appendChars(c,2,3);break;case 3:h.appendChars(c,0,3),h.append("00000"),h.appendChars(c,3,2);break;case 4:h.appendChars(c,0,4),h.append("00000"),h.append(c[4]);break;default:h.appendChars(c,0,5),h.append("0000"),h.append(p);break}return o.length>=8&&h.append(o.charAt(7)),h.toString()}}yr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),yr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class xa extends Gt{constructor(o){super();let c=o==null?null:o.get(Q.POSSIBLE_FORMATS),h=[];n(c)?(h.push(new Ri),h.push(new cr),h.push(new on),h.push(new yr)):(c.indexOf(ie.EAN_13)>-1&&h.push(new Ri),c.indexOf(ie.UPC_A)>-1&&h.push(new cr),c.indexOf(ie.EAN_8)>-1&&h.push(new on),c.indexOf(ie.UPC_E)>-1&&h.push(new yr)),this.readers=h}decodeRow(o,c,h){for(let p of this.readers)try{const g=p.decodeRow(o,c,h),w=g.getBarcodeFormat()===ie.EAN_13&&g.getText().charAt(0)==="0",S=h==null?null:h.get(Q.POSSIBLE_FORMATS),k=S==null||S.includes(ie.UPC_A);if(w&&k){const O=g.getRawBytes(),H=new G(g.getText().substring(1),O,O?O.length:null,g.getResultPoints(),ie.UPC_A);return H.putAllMetadata(g.getResultMetadata()),H}return g}catch{}throw new le}reset(){for(let o of this.readers)o.reset()}}class zr extends Gt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,c){for(let h=0;h<c.length;h++)if(Gt.patternMatchVariance(o,c[h],zr.MAX_INDIVIDUAL_VARIANCE)<zr.MAX_AVG_VARIANCE)return h;throw new le}static count(o){return qe.sum(new Int32Array(o))}static increment(o,c){let h=0,p=c[0];for(let g=1;g<o.length;g++)c[g]>p&&(p=c[g],h=g);o[h]++}static decrement(o,c){let h=0,p=c[0];for(let g=1;g<o.length;g++)c[g]<p&&(p=c[g],h=g);o[h]--}static isFinderPattern(o){let c=o[0]+o[1],h=c+o[2]+o[3],p=c/h;if(p>=zr.MIN_FINDER_PATTERN_RATIO&&p<=zr.MAX_FINDER_PATTERN_RATIO){let g=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;for(let S of o)S>w&&(w=S),S<g&&(g=S);return w<10*g}return!1}}zr.MAX_AVG_VARIANCE=.2,zr.MAX_INDIVIDUAL_VARIANCE=.45,zr.MIN_FINDER_PATTERN_RATIO=9.5/12,zr.MAX_FINDER_PATTERN_RATIO=12.5/14;class Li{constructor(o,c){this.value=o,this.checksumPortion=c}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof Li))return!1;const c=o;return this.value===c.value&&this.checksumPortion===c.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class is{constructor(o,c,h,p,g){this.value=o,this.startEnd=c,this.value=o,this.startEnd=c,this.resultPoints=new Array,this.resultPoints.push(new et(h,g)),this.resultPoints.push(new et(p,g))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof is))return!1;const c=o;return this.value===c.value}hashCode(){return this.value}}class qt{constructor(){}static getRSSvalue(o,c,h){let p=0;for(let k of o)p+=k;let g=0,w=0,S=o.length;for(let k=0;k<S-1;k++){let O;for(O=1,w|=1<<k;O<o[k];O++,w&=~(1<<k)){let H=qt.combins(p-O-1,S-k-2);if(h&&w===0&&p-O-(S-k-1)>=S-k-1&&(H-=qt.combins(p-O-(S-k),S-k-2)),S-k-1>1){let Y=0;for(let se=p-O-(S-k-2);se>c;se--)Y+=qt.combins(p-O-se-1,S-k-3);H-=Y*(S-1-k)}else p-O>c&&H--;g+=H}p-=O}return g}static combins(o,c){let h,p;o-c>c?(p=c,h=o-c):(p=o-c,h=c);let g=1,w=1;for(let S=o;S>h;S--)g*=S,w<=p&&(g/=w,w++);for(;w<=p;)g/=w,w++;return g}}class Ms{static buildBitArray(o){let c=o.length*2-1;o[o.length-1].getRightChar()==null&&(c-=1);let h=12*c,p=new L(h),g=0,S=o[0].getRightChar().getValue();for(let k=11;k>=0;--k)S&1<<k&&p.set(g),g++;for(let k=1;k<o.length;++k){let O=o[k],H=O.getLeftChar().getValue();for(let Y=11;Y>=0;--Y)H&1<<Y&&p.set(g),g++;if(O.getRightChar()!=null){let Y=O.getRightChar().getValue();for(let se=11;se>=0;--se)Y&1<<se&&p.set(g),g++}}return p}}class ni{constructor(o,c){c?this.decodedInformation=null:(this.finished=o,this.decodedInformation=c)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ei{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class Hr extends Ei{constructor(o,c){super(o),this.value=c}getValue(){return this.value}isFNC1(){return this.value===Hr.FNC1}}Hr.FNC1="$";class ln extends Ei{constructor(o,c,h){super(o),h?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=c}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class te extends Ei{constructor(o,c,h){if(super(o),c<0||c>10||h<0||h>10)throw new B;this.firstDigit=c,this.secondDigit=h}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===te.FNC1}isSecondDigitFNC1(){return this.secondDigit===te.FNC1}isAnyFNC1(){return this.firstDigit===te.FNC1||this.secondDigit===te.FNC1}}te.FNC1=10;class ue{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new le;let c=o.substring(0,2);for(let g of ue.TWO_DIGIT_DATA_LENGTH)if(g[0]===c)return g[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(2,g[2],o):ue.processFixedAI(2,g[1],o);if(o.length<3)throw new le;let h=o.substring(0,3);for(let g of ue.THREE_DIGIT_DATA_LENGTH)if(g[0]===h)return g[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(3,g[2],o):ue.processFixedAI(3,g[1],o);for(let g of ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(g[0]===h)return g[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(4,g[2],o):ue.processFixedAI(4,g[1],o);if(o.length<4)throw new le;let p=o.substring(0,4);for(let g of ue.FOUR_DIGIT_DATA_LENGTH)if(g[0]===p)return g[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(4,g[2],o):ue.processFixedAI(4,g[1],o);throw new le}static processFixedAI(o,c,h){if(h.length<o)throw new le;let p=h.substring(0,o);if(h.length<o+c)throw new le;let g=h.substring(o,o+c),w=h.substring(o+c),S="("+p+")"+g,k=ue.parseFieldsInGeneralPurpose(w);return k==null?S:S+k}static processVariableAI(o,c,h){let p=h.substring(0,o),g;h.length<o+c?g=h.length:g=o+c;let w=h.substring(o,g),S=h.substring(g),k="("+p+")"+w,O=ue.parseFieldsInGeneralPurpose(S);return O==null?k:k+O}}ue.VARIABLE_LENGTH=[],ue.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ue.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ue.VARIABLE_LENGTH,20],["22",ue.VARIABLE_LENGTH,29],["30",ue.VARIABLE_LENGTH,8],["37",ue.VARIABLE_LENGTH,8],["90",ue.VARIABLE_LENGTH,30],["91",ue.VARIABLE_LENGTH,30],["92",ue.VARIABLE_LENGTH,30],["93",ue.VARIABLE_LENGTH,30],["94",ue.VARIABLE_LENGTH,30],["95",ue.VARIABLE_LENGTH,30],["96",ue.VARIABLE_LENGTH,30],["97",ue.VARIABLE_LENGTH,3],["98",ue.VARIABLE_LENGTH,30],["99",ue.VARIABLE_LENGTH,30]],ue.THREE_DIGIT_DATA_LENGTH=[["240",ue.VARIABLE_LENGTH,30],["241",ue.VARIABLE_LENGTH,30],["242",ue.VARIABLE_LENGTH,6],["250",ue.VARIABLE_LENGTH,30],["251",ue.VARIABLE_LENGTH,30],["253",ue.VARIABLE_LENGTH,17],["254",ue.VARIABLE_LENGTH,20],["400",ue.VARIABLE_LENGTH,30],["401",ue.VARIABLE_LENGTH,30],["402",17],["403",ue.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ue.VARIABLE_LENGTH,20],["421",ue.VARIABLE_LENGTH,15],["422",3],["423",ue.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ue.VARIABLE_LENGTH,15],["391",ue.VARIABLE_LENGTH,18],["392",ue.VARIABLE_LENGTH,15],["393",ue.VARIABLE_LENGTH,18],["703",ue.VARIABLE_LENGTH,30]],ue.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ue.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ue.VARIABLE_LENGTH,20],["8003",ue.VARIABLE_LENGTH,30],["8004",ue.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ue.VARIABLE_LENGTH,30],["8008",ue.VARIABLE_LENGTH,12],["8018",18],["8020",ue.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ue.VARIABLE_LENGTH,70],["8200",ue.VARIABLE_LENGTH,70]];class he{constructor(o){this.buffer=new re,this.information=o}decodeAllCodes(o,c){let h=c,p=null;do{let g=this.decodeGeneralPurposeField(h,p),w=ue.parseFieldsInGeneralPurpose(g.getNewString());if(w!=null&&o.append(w),g.isRemaining()?p=""+g.getRemainingValue():p=null,h===g.getNewPosition())break;h=g.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let c=o;c<o+3;++c)if(this.information.get(c))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let g=this.extractNumericValueFromBitArray(o,4);return g===0?new te(this.information.getSize(),te.FNC1,te.FNC1):new te(this.information.getSize(),g-1,te.FNC1)}let c=this.extractNumericValueFromBitArray(o,7),h=(c-8)/11,p=(c-8)%11;return new te(o+7,h,p)}extractNumericValueFromBitArray(o,c){return he.extractNumericValueFromBitArray(this.information,o,c)}static extractNumericValueFromBitArray(o,c,h){let p=0;for(let g=0;g<h;++g)o.get(c+g)&&(p|=1<<h-g-1);return p}decodeGeneralPurposeField(o,c){this.buffer.setLengthToZero(),c!=null&&this.buffer.append(c),this.current.setPosition(o);let h=this.parseBlocks();return h!=null&&h.isRemaining()?new ln(this.current.getPosition(),this.buffer.toString(),h.getRemainingValue()):new ln(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,c;do{let h=this.current.getPosition();if(this.current.isAlpha()?(c=this.parseAlphaBlock(),o=c.isFinished()):this.current.isIsoIec646()?(c=this.parseIsoIec646Block(),o=c.isFinished()):(c=this.parseNumericBlock(),o=c.isFinished()),!(h!==this.current.getPosition())&&!o)break}while(!o);return c.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let c;return o.isSecondDigitFNC1()?c=new ln(this.current.getPosition(),this.buffer.toString()):c=new ln(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new ni(!0,c)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let c=new ln(this.current.getPosition(),this.buffer.toString());return new ni(!0,c)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ni(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let c=new ln(this.current.getPosition(),this.buffer.toString());return new ni(!0,c)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ni(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let c=new ln(this.current.getPosition(),this.buffer.toString());return new ni(!0,c)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ni(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(o,5);if(c>=5&&c<16)return!0;if(o+7>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(o,7);if(h>=64&&h<116)return!0;if(o+8>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(o,8);return p>=232&&p<253}decodeIsoIec646(o){let c=this.extractNumericValueFromBitArray(o,5);if(c===15)return new Hr(o+5,Hr.FNC1);if(c>=5&&c<15)return new Hr(o+5,"0"+(c-5));let h=this.extractNumericValueFromBitArray(o,7);if(h>=64&&h<90)return new Hr(o+7,""+(h+1));if(h>=90&&h<116)return new Hr(o+7,""+(h+7));let p=this.extractNumericValueFromBitArray(o,8),g;switch(p){case 232:g="!";break;case 233:g='"';break;case 234:g="%";break;case 235:g="&";break;case 236:g="'";break;case 237:g="(";break;case 238:g=")";break;case 239:g="*";break;case 240:g="+";break;case 241:g=",";break;case 242:g="-";break;case 243:g=".";break;case 244:g="/";break;case 245:g=":";break;case 246:g=";";break;case 247:g="<";break;case 248:g="=";break;case 249:g=">";break;case 250:g="?";break;case 251:g="_";break;case 252:g=" ";break;default:throw new B}return new Hr(o+8,g)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(o,5);if(c>=5&&c<16)return!0;if(o+6>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(o,6);return h>=16&&h<63}decodeAlphanumeric(o){let c=this.extractNumericValueFromBitArray(o,5);if(c===15)return new Hr(o+5,Hr.FNC1);if(c>=5&&c<15)return new Hr(o+5,"0"+(c-5));let h=this.extractNumericValueFromBitArray(o,6);if(h>=32&&h<58)return new Hr(o+6,""+(h+33));let p;switch(h){case 58:p="*";break;case 59:p=",";break;case 60:p="-";break;case 61:p=".";break;case 62:p="/";break;default:throw new Ue("Decoding invalid alphanumeric value: "+h)}return new Hr(o+6,p)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let c=0;c<5&&c+o<this.information.getSize();++c)if(c===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+c))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let c=o;c<o+3;++c)if(this.information.get(c))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let c=0;c<4&&c+o<this.information.getSize();++c)if(this.information.get(o+c))return!1;return!0}}class ge{constructor(o){this.information=o,this.generalDecoder=new he(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class xe extends ge{constructor(o){super(o)}encodeCompressedGtin(o,c){o.append("(01)");let h=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,c,h)}encodeCompressedGtinWithoutAI(o,c,h){for(let p=0;p<4;++p){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(c+10*p,10);g/100===0&&o.append("0"),g/10===0&&o.append("0"),o.append(g)}xe.appendCheckDigit(o,h)}static appendCheckDigit(o,c){let h=0;for(let p=0;p<13;p++){let g=o.charAt(p+c).charCodeAt(0)-48;h+=p&1?g:3*g}h=10-h%10,h===10&&(h=0),o.append(h)}}xe.GTIN_SIZE=40;class Ee extends xe{constructor(o){super(o)}parseInformation(){let o=new re;o.append("(01)");let c=o.length(),h=this.getGeneralDecoder().extractNumericValueFromBitArray(Ee.HEADER_SIZE,4);return o.append(h),this.encodeCompressedGtinWithoutAI(o,Ee.HEADER_SIZE+4,c),this.getGeneralDecoder().decodeAllCodes(o,Ee.HEADER_SIZE+44)}}Ee.HEADER_SIZE=4;class Ve extends ge{constructor(o){super(o)}parseInformation(){let o=new re;return this.getGeneralDecoder().decodeAllCodes(o,Ve.HEADER_SIZE)}}Ve.HEADER_SIZE=5;class it extends xe{constructor(o){super(o)}encodeCompressedWeight(o,c,h){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(c,h);this.addWeightCode(o,p);let g=this.checkWeight(p),w=1e5;for(let S=0;S<5;++S)g/w===0&&o.append("0"),w/=10;o.append(g)}}class ze extends it{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=ze.HEADER_SIZE+it.GTIN_SIZE+ze.WEIGHT_SIZE)throw new le;let o=new re;return this.encodeCompressedGtin(o,ze.HEADER_SIZE),this.encodeCompressedWeight(o,ze.HEADER_SIZE+it.GTIN_SIZE,ze.WEIGHT_SIZE),o.toString()}}ze.HEADER_SIZE=5,ze.WEIGHT_SIZE=15;class Ke extends ze{constructor(o){super(o)}addWeightCode(o,c){o.append("(3103)")}checkWeight(o){return o}}class Ze extends ze{constructor(o){super(o)}addWeightCode(o,c){c<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class pt extends xe{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<pt.HEADER_SIZE+xe.GTIN_SIZE)throw new le;let o=new re;this.encodeCompressedGtin(o,pt.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(pt.HEADER_SIZE+xe.GTIN_SIZE,pt.LAST_DIGIT_SIZE);o.append("(392"),o.append(c),o.append(")");let h=this.getGeneralDecoder().decodeGeneralPurposeField(pt.HEADER_SIZE+xe.GTIN_SIZE+pt.LAST_DIGIT_SIZE,null);return o.append(h.getNewString()),o.toString()}}pt.HEADER_SIZE=8,pt.LAST_DIGIT_SIZE=2;class bt extends xe{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<bt.HEADER_SIZE+xe.GTIN_SIZE)throw new le;let o=new re;this.encodeCompressedGtin(o,bt.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(bt.HEADER_SIZE+xe.GTIN_SIZE,bt.LAST_DIGIT_SIZE);o.append("(393"),o.append(c),o.append(")");let h=this.getGeneralDecoder().extractNumericValueFromBitArray(bt.HEADER_SIZE+xe.GTIN_SIZE+bt.LAST_DIGIT_SIZE,bt.FIRST_THREE_DIGITS_SIZE);h/100==0&&o.append("0"),h/10==0&&o.append("0"),o.append(h);let p=this.getGeneralDecoder().decodeGeneralPurposeField(bt.HEADER_SIZE+xe.GTIN_SIZE+bt.LAST_DIGIT_SIZE+bt.FIRST_THREE_DIGITS_SIZE,null);return o.append(p.getNewString()),o.toString()}}bt.HEADER_SIZE=8,bt.LAST_DIGIT_SIZE=2,bt.FIRST_THREE_DIGITS_SIZE=10;class _t extends it{constructor(o,c,h){super(o),this.dateCode=h,this.firstAIdigits=c}parseInformation(){if(this.getInformation().getSize()!=_t.HEADER_SIZE+_t.GTIN_SIZE+_t.WEIGHT_SIZE+_t.DATE_SIZE)throw new le;let o=new re;return this.encodeCompressedGtin(o,_t.HEADER_SIZE),this.encodeCompressedWeight(o,_t.HEADER_SIZE+_t.GTIN_SIZE,_t.WEIGHT_SIZE),this.encodeCompressedDate(o,_t.HEADER_SIZE+_t.GTIN_SIZE+_t.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,c){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(c,_t.DATE_SIZE);if(h==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let p=h%32;h/=32;let g=h%12+1;h/=12;let w=h;w/10==0&&o.append("0"),o.append(w),g/10==0&&o.append("0"),o.append(g),p/10==0&&o.append("0"),o.append(p)}addWeightCode(o,c){o.append("("),o.append(this.firstAIdigits),o.append(c/1e5),o.append(")")}checkWeight(o){return o%1e5}}_t.HEADER_SIZE=8,_t.WEIGHT_SIZE=20,_t.DATE_SIZE=16;function Et(K){try{if(K.get(1))return new Ee(K);if(!K.get(2))return new Ve(K);switch(he.extractNumericValueFromBitArray(K,1,4)){case 4:return new Ke(K);case 5:return new Ze(K)}switch(he.extractNumericValueFromBitArray(K,1,5)){case 12:return new pt(K);case 13:return new bt(K)}switch(he.extractNumericValueFromBitArray(K,1,7)){case 56:return new _t(K,"310","11");case 57:return new _t(K,"320","11");case 58:return new _t(K,"310","13");case 59:return new _t(K,"320","13");case 60:return new _t(K,"310","15");case 61:return new _t(K,"320","15");case 62:return new _t(K,"310","17");case 63:return new _t(K,"320","17")}}catch(o){throw console.log(o),new Ue("unknown decoder: "+K)}}class It{constructor(o,c,h,p){this.leftchar=o,this.rightchar=c,this.finderpattern=h,this.maybeLast=p}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,c){return o instanceof It?It.equalsOrNull(o.leftchar,c.leftchar)&&It.equalsOrNull(o.rightchar,c.rightchar)&&It.equalsOrNull(o.finderpattern,c.finderpattern):!1}static equalsOrNull(o,c){return o===null?c===null:It.equals(o,c)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class sr{constructor(o,c,h){this.pairs=o,this.rowNumber=c,this.wasReversed=h}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,c){return o instanceof sr?this.checkEqualitity(o,c)&&o.wasReversed===c.wasReversed:!1}checkEqualitity(o,c){if(!o||!c)return;let h;return o.forEach((p,g)=>{c.forEach(w=>{p.getLeftChar().getValue()===w.getLeftChar().getValue()&&p.getRightChar().getValue()===w.getRightChar().getValue()&&p.getFinderPatter().getValue()===w.getFinderPatter().getValue()&&(h=!0)})}),h}}class st extends zr{constructor(o){super(...arguments),this.pairs=new Array(st.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,c,h){this.pairs.length=0,this.startFromEven=!1;try{return st.constructResult(this.decodeRow2pairs(o,c))}catch(p){this.verbose&&console.log(p)}return this.pairs.length=0,this.startFromEven=!0,st.constructResult(this.decodeRow2pairs(o,c))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,c){let h=!1;for(;!h;)try{this.pairs.push(this.retrieveNextPair(c,this.pairs,o))}catch(g){if(g instanceof le){if(!this.pairs.length)throw new le;h=!0}}if(this.checkChecksum())return this.pairs;let p;if(this.rows.length?p=!0:p=!1,this.storeRow(o,!1),p){let g=this.checkRowsBoolean(!1);if(g!=null||(g=this.checkRowsBoolean(!0),g!=null))return g}throw new le}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let c=null;try{c=this.checkRows(new Array,0)}catch(h){this.verbose&&console.log(h)}return o&&(this.rows=this.rows.reverse()),c}checkRows(o,c){for(let h=c;h<this.rows.length;h++){let p=this.rows[h];this.pairs.length=0;for(let w of o)this.pairs.push(w.getPairs());if(this.pairs.push(p.getPairs()),!st.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let g=new Array(o);g.push(p);try{return this.checkRows(g,h+1)}catch(w){this.verbose&&console.log(w)}}throw new le}static isValidSequence(o){for(let c of st.FINDER_PATTERN_SEQUENCES){if(o.length>c.length)continue;let h=!0;for(let p=0;p<o.length;p++)if(o[p].getFinderPattern().getValue()!=c[p]){h=!1;break}if(h)return!0}return!1}storeRow(o,c){let h=0,p=!1,g=!1;for(;h<this.rows.length;){let w=this.rows[h];if(w.getRowNumber()>o){g=w.isEquivalent(this.pairs);break}p=w.isEquivalent(this.pairs),h++}g||p||st.isPartialRow(this.pairs,this.rows)||(this.rows.push(h,new sr(this.pairs,o,c)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,c){for(let h of c)if(h.getPairs().length!==o.length){for(let p of h.getPairs())for(let g of o)if(It.equals(p,g))break}}static isPartialRow(o,c){for(let h of c){let p=!0;for(let g of o){let w=!1;for(let S of h.getPairs())if(g.equals(S)){w=!0;break}if(!w){p=!1;break}}if(p)return!0}return!1}getRows(){return this.rows}static constructResult(o){let c=Ms.buildBitArray(o),p=Et(c).parseInformation(),g=o[0].getFinderPattern().getResultPoints(),w=o[o.length-1].getFinderPattern().getResultPoints(),S=[g[0],g[1],w[0],w[1]];return new G(p,null,null,S,ie.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),c=o.getLeftChar(),h=o.getRightChar();if(h==null)return!1;let p=h.getChecksumPortion(),g=2;for(let S=1;S<this.pairs.size();++S){let k=this.pairs.get(S);p+=k.getLeftChar().getChecksumPortion(),g++;let O=k.getRightChar();O!=null&&(p+=O.getChecksumPortion(),g++)}return p%=211,211*(g-4)+p==c.getValue()}static getNextSecondBar(o,c){let h;return o.get(c)?(h=o.getNextUnset(c),h=o.getNextSet(h)):(h=o.getNextSet(c),h=o.getNextUnset(h)),h}retrieveNextPair(o,c,h){let p=c.length%2==0;this.startFromEven&&(p=!p);let g,w=!0,S=-1;do this.findNextPair(o,c,S),g=this.parseFoundFinderPattern(o,h,p),g==null?S=st.getNextSecondBar(o,this.startEnd[0]):w=!1;while(w);let k=this.decodeDataCharacter(o,g,p,!0);if(!this.isEmptyPair(c)&&c[c.length-1].mustBeLast())throw new le;let O;try{O=this.decodeDataCharacter(o,g,p,!1)}catch(H){O=null,this.verbose&&console.log(H)}return new It(k,O,g,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,c,h){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let g=o.getSize(),w;h>=0?w=h:this.isEmptyPair(c)?w=0:w=c[c.length-1].getFinderPattern().getStartEnd()[1];let S=c.length%2!=0;this.startFromEven&&(S=!S);let k=!1;for(;w<g&&(k=!o.get(w),!!k);)w++;let O=0,H=w;for(let Y=w;Y<g;Y++)if(o.get(Y)!=k)p[O]++;else{if(O==3){if(S&&st.reverseCounters(p),st.isFinderPattern(p)){this.startEnd[0]=H,this.startEnd[1]=Y;return}S&&st.reverseCounters(p),H+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,O--}else O++;p[O]=1,k=!k}throw new le}static reverseCounters(o){let c=o.length;for(let h=0;h<c/2;++h){let p=o[h];o[h]=o[c-h-1],o[c-h-1]=p}}parseFoundFinderPattern(o,c,h){let p,g,w;if(h){let O=this.startEnd[0]-1;for(;O>=0&&!o.get(O);)O--;O++,p=this.startEnd[0]-O,g=O,w=this.startEnd[1]}else g=this.startEnd[0],w=o.getNextUnset(this.startEnd[1]+1),p=w-this.startEnd[1];let S=this.getDecodeFinderCounters();_.arraycopy(S,0,S,1,S.length-1),S[0]=p;let k;try{k=this.parseFinderValue(S,st.FINDER_PATTERNS)}catch{return null}return new is(k,[g,w],g,w,c)}decodeDataCharacter(o,c,h,p){let g=this.getDataCharacterCounters();for(let Gr=0;Gr<g.length;Gr++)g[Gr]=0;if(p)st.recordPatternInReverse(o,c.getStartEnd()[0],g);else{st.recordPattern(o,c.getStartEnd()[1],g);for(let Gr=0,$n=g.length-1;Gr<$n;Gr++,$n--){let gi=g[Gr];g[Gr]=g[$n],g[$n]=gi}}let w=17,S=qe.sum(new Int32Array(g))/w,k=(c.getStartEnd()[1]-c.getStartEnd()[0])/15;if(Math.abs(S-k)/k>.3)throw new le;let O=this.getOddCounts(),H=this.getEvenCounts(),Y=this.getOddRoundingErrors(),se=this.getEvenRoundingErrors();for(let Gr=0;Gr<g.length;Gr++){let $n=1*g[Gr]/S,gi=$n+.5;if(gi<1){if($n<.3)throw new le;gi=1}else if(gi>8){if($n>8.7)throw new le;gi=8}let Bs=Gr/2;Gr&1?(H[Bs]=gi,se[Bs]=$n-gi):(O[Bs]=gi,Y[Bs]=$n-gi)}this.adjustOddEvenCounts(w);let we=4*c.getValue()+(h?0:2)+(p?0:1)-1,Ie=0,Oe=0;for(let Gr=O.length-1;Gr>=0;Gr--){if(st.isNotA1left(c,h,p)){let $n=st.WEIGHTS[we][2*Gr];Oe+=O[Gr]*$n}Ie+=O[Gr]}let je=0;for(let Gr=H.length-1;Gr>=0;Gr--)if(st.isNotA1left(c,h,p)){let $n=st.WEIGHTS[we][2*Gr+1];je+=H[Gr]*$n}let tt=Oe+je;if(Ie&1||Ie>13||Ie<4)throw new le;let gt=(13-Ie)/2,wt=st.SYMBOL_WIDEST[gt],xt=9-wt,kr=qt.getRSSvalue(O,wt,!0),fr=qt.getRSSvalue(H,xt,!1),si=st.EVEN_TOTAL_SUBSET[gt],Mi=st.GSUM[gt],Zn=kr*si+fr+Mi;return new Li(Zn,tt)}static isNotA1left(o,c,h){return!(o.getValue()==0&&c&&h)}adjustOddEvenCounts(o){let c=qe.sum(new Int32Array(this.getOddCounts())),h=qe.sum(new Int32Array(this.getEvenCounts())),p=!1,g=!1;c>13?g=!0:c<4&&(p=!0);let w=!1,S=!1;h>13?S=!0:h<4&&(w=!0);let k=c+h-o,O=(c&1)==1,H=(h&1)==0;if(k==1)if(O){if(H)throw new le;g=!0}else{if(!H)throw new le;S=!0}else if(k==-1)if(O){if(H)throw new le;p=!0}else{if(!H)throw new le;w=!0}else if(k==0){if(O){if(!H)throw new le;c<h?(p=!0,S=!0):(g=!0,w=!0)}else if(H)throw new le}else throw new le;if(p){if(g)throw new le;st.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&st.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(S)throw new le;st.increment(this.getEvenCounts(),this.getOddRoundingErrors())}S&&st.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}st.SYMBOL_WIDEST=[7,5,4,3,1],st.EVEN_TOTAL_SUBSET=[4,20,52,104,204],st.GSUM=[0,348,1388,2948,3988],st.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],st.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],st.FINDER_PAT_A=0,st.FINDER_PAT_B=1,st.FINDER_PAT_C=2,st.FINDER_PAT_D=3,st.FINDER_PAT_E=4,st.FINDER_PAT_F=5,st.FINDER_PATTERN_SEQUENCES=[[st.FINDER_PAT_A,st.FINDER_PAT_A],[st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B],[st.FINDER_PAT_A,st.FINDER_PAT_C,st.FINDER_PAT_B,st.FINDER_PAT_D],[st.FINDER_PAT_A,st.FINDER_PAT_E,st.FINDER_PAT_B,st.FINDER_PAT_D,st.FINDER_PAT_C],[st.FINDER_PAT_A,st.FINDER_PAT_E,st.FINDER_PAT_B,st.FINDER_PAT_D,st.FINDER_PAT_D,st.FINDER_PAT_F],[st.FINDER_PAT_A,st.FINDER_PAT_E,st.FINDER_PAT_B,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_F,st.FINDER_PAT_F],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_D],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_E],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_F,st.FINDER_PAT_F],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_E,st.FINDER_PAT_F,st.FINDER_PAT_F]],st.MAX_PAIRS=11;class cn extends Li{constructor(o,c,h){super(o,c),this.count=0,this.finderPattern=h}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class _r extends zr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,c,h){const p=this.decodePair(c,!1,o,h);_r.addOrTally(this.possibleLeftPairs,p),c.reverse();let g=this.decodePair(c,!0,o,h);_r.addOrTally(this.possibleRightPairs,g),c.reverse();for(let w of this.possibleLeftPairs)if(w.getCount()>1){for(let S of this.possibleRightPairs)if(S.getCount()>1&&_r.checkChecksum(w,S))return _r.constructResult(w,S)}throw new le}static addOrTally(o,c){if(c==null)return;let h=!1;for(let p of o)if(p.getValue()===c.getValue()){p.incrementCount(),h=!0;break}h||o.push(c)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,c){let h=4537077*o.getValue()+c.getValue(),p=new String(h).toString(),g=new re;for(let O=13-p.length;O>0;O--)g.append("0");g.append(p);let w=0;for(let O=0;O<13;O++){let H=g.charAt(O).charCodeAt(0)-48;w+=O&1?H:3*H}w=10-w%10,w===10&&(w=0),g.append(w.toString());let S=o.getFinderPattern().getResultPoints(),k=c.getFinderPattern().getResultPoints();return new G(g.toString(),null,0,[S[0],S[1],k[0],k[1]],ie.RSS_14,new Date().getTime())}static checkChecksum(o,c){let h=(o.getChecksumPortion()+16*c.getChecksumPortion())%79,p=9*o.getFinderPattern().getValue()+c.getFinderPattern().getValue();return p>72&&p--,p>8&&p--,h===p}decodePair(o,c,h,p){try{let g=this.findFinderPattern(o,c),w=this.parseFoundFinderPattern(o,h,c,g),S=p==null?null:p.get(Q.NEED_RESULT_POINT_CALLBACK);if(S!=null){let H=(g[0]+g[1])/2;c&&(H=o.getSize()-1-H),S.foundPossibleResultPoint(new et(H,h))}let k=this.decodeDataCharacter(o,w,!0),O=this.decodeDataCharacter(o,w,!1);return new cn(1597*k.getValue()+O.getValue(),k.getChecksumPortion()+4*O.getChecksumPortion(),w)}catch{return null}}decodeDataCharacter(o,c,h){let p=this.getDataCharacterCounters();for(let je=0;je<p.length;je++)p[je]=0;if(h)Gt.recordPatternInReverse(o,c.getStartEnd()[0],p);else{Gt.recordPattern(o,c.getStartEnd()[1]+1,p);for(let je=0,tt=p.length-1;je<tt;je++,tt--){let gt=p[je];p[je]=p[tt],p[tt]=gt}}let g=h?16:15,w=qe.sum(new Int32Array(p))/g,S=this.getOddCounts(),k=this.getEvenCounts(),O=this.getOddRoundingErrors(),H=this.getEvenRoundingErrors();for(let je=0;je<p.length;je++){let tt=p[je]/w,gt=Math.floor(tt+.5);gt<1?gt=1:gt>8&&(gt=8);let wt=Math.floor(je/2);je&1?(k[wt]=gt,H[wt]=tt-gt):(S[wt]=gt,O[wt]=tt-gt)}this.adjustOddEvenCounts(h,g);let Y=0,se=0;for(let je=S.length-1;je>=0;je--)se*=9,se+=S[je],Y+=S[je];let we=0,Ie=0;for(let je=k.length-1;je>=0;je--)we*=9,we+=k[je],Ie+=k[je];let Oe=se+3*we;if(h){if(Y&1||Y>12||Y<4)throw new le;let je=(12-Y)/2,tt=_r.OUTSIDE_ODD_WIDEST[je],gt=9-tt,wt=qt.getRSSvalue(S,tt,!1),xt=qt.getRSSvalue(k,gt,!0),kr=_r.OUTSIDE_EVEN_TOTAL_SUBSET[je],fr=_r.OUTSIDE_GSUM[je];return new Li(wt*kr+xt+fr,Oe)}else{if(Ie&1||Ie>10||Ie<4)throw new le;let je=(10-Ie)/2,tt=_r.INSIDE_ODD_WIDEST[je],gt=9-tt,wt=qt.getRSSvalue(S,tt,!0),xt=qt.getRSSvalue(k,gt,!1),kr=_r.INSIDE_ODD_TOTAL_SUBSET[je],fr=_r.INSIDE_GSUM[je];return new Li(xt*kr+wt+fr,Oe)}}findFinderPattern(o,c){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=o.getSize(),g=!1,w=0;for(;w<p&&(g=!o.get(w),c!==g);)w++;let S=0,k=w;for(let O=w;O<p;O++)if(o.get(O)!==g)h[S]++;else{if(S===3){if(zr.isFinderPattern(h))return[k,O];k+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,S--}else S++;h[S]=1,g=!g}throw new le}parseFoundFinderPattern(o,c,h,p){let g=o.get(p[0]),w=p[0]-1;for(;w>=0&&g!==o.get(w);)w--;w++;const S=p[0]-w,k=this.getDecodeFinderCounters(),O=new Int32Array(k.length);_.arraycopy(k,0,O,1,k.length-1),O[0]=S;const H=this.parseFinderValue(O,_r.FINDER_PATTERNS);let Y=w,se=p[1];return h&&(Y=o.getSize()-1-Y,se=o.getSize()-1-se),new is(H,[w,p[1]],Y,se,c)}adjustOddEvenCounts(o,c){let h=qe.sum(new Int32Array(this.getOddCounts())),p=qe.sum(new Int32Array(this.getEvenCounts())),g=!1,w=!1,S=!1,k=!1;o?(h>12?w=!0:h<4&&(g=!0),p>12?k=!0:p<4&&(S=!0)):(h>11?w=!0:h<5&&(g=!0),p>10?k=!0:p<4&&(S=!0));let O=h+p-c,H=(h&1)===(o?1:0),Y=(p&1)===1;if(O===1)if(H){if(Y)throw new le;w=!0}else{if(!Y)throw new le;k=!0}else if(O===-1)if(H){if(Y)throw new le;g=!0}else{if(!Y)throw new le;S=!0}else if(O===0){if(H){if(!Y)throw new le;h<p?(g=!0,k=!0):(w=!0,S=!0)}else if(Y)throw new le}else throw new le;if(g){if(w)throw new le;zr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&zr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),S){if(k)throw new le;zr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}k&&zr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}_r.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],_r.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],_r.OUTSIDE_GSUM=[0,161,961,2015,2715],_r.INSIDE_GSUM=[0,336,1036,1516],_r.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],_r.INSIDE_ODD_WIDEST=[2,4,6,8],_r.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class qi extends Gt{constructor(o,c){super(),this.readers=[],this.verbose=c===!0;const h=o?o.get(Q.POSSIBLE_FORMATS):null,p=o&&o.get(Q.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;h?((h.includes(ie.EAN_13)||h.includes(ie.UPC_A)||h.includes(ie.EAN_8)||h.includes(ie.UPC_E))&&this.readers.push(new xa(o)),h.includes(ie.CODE_39)&&this.readers.push(new or(p)),h.includes(ie.CODE_128)&&this.readers.push(new St),h.includes(ie.ITF)&&this.readers.push(new tr),h.includes(ie.RSS_14)&&this.readers.push(new _r),h.includes(ie.RSS_EXPANDED)&&this.readers.push(new st(this.verbose))):(this.readers.push(new xa(o)),this.readers.push(new or),this.readers.push(new xa(o)),this.readers.push(new St),this.readers.push(new tr),this.readers.push(new _r),this.readers.push(new st(this.verbose)))}decodeRow(o,c,h){for(let p=0;p<this.readers.length;p++)try{return this.readers[p].decodeRow(o,c,h)}catch{}throw new le}reset(){this.readers.forEach(o=>o.reset())}}class co extends V{constructor(o=500,c){super(new qi(c),o,c)}}class Ir{constructor(o,c,h){this.ecCodewords=o,this.ecBlocks=[c],h&&this.ecBlocks.push(h)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Sr{constructor(o,c){this.count=o,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class mr{constructor(o,c,h,p,g,w){this.versionNumber=o,this.symbolSizeRows=c,this.symbolSizeColumns=h,this.dataRegionSizeRows=p,this.dataRegionSizeColumns=g,this.ecBlocks=w;let S=0;const k=w.getECCodewords(),O=w.getECBlocks();for(let H of O)S+=H.getCount()*(H.getDataCodewords()+k);this.totalCodewords=S}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,c){if(o&1||c&1)throw new B;for(let h of mr.VERSIONS)if(h.symbolSizeRows===o&&h.symbolSizeColumns===c)return h;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new mr(1,10,10,8,8,new Ir(5,new Sr(1,3))),new mr(2,12,12,10,10,new Ir(7,new Sr(1,5))),new mr(3,14,14,12,12,new Ir(10,new Sr(1,8))),new mr(4,16,16,14,14,new Ir(12,new Sr(1,12))),new mr(5,18,18,16,16,new Ir(14,new Sr(1,18))),new mr(6,20,20,18,18,new Ir(18,new Sr(1,22))),new mr(7,22,22,20,20,new Ir(20,new Sr(1,30))),new mr(8,24,24,22,22,new Ir(24,new Sr(1,36))),new mr(9,26,26,24,24,new Ir(28,new Sr(1,44))),new mr(10,32,32,14,14,new Ir(36,new Sr(1,62))),new mr(11,36,36,16,16,new Ir(42,new Sr(1,86))),new mr(12,40,40,18,18,new Ir(48,new Sr(1,114))),new mr(13,44,44,20,20,new Ir(56,new Sr(1,144))),new mr(14,48,48,22,22,new Ir(68,new Sr(1,174))),new mr(15,52,52,24,24,new Ir(42,new Sr(2,102))),new mr(16,64,64,14,14,new Ir(56,new Sr(2,140))),new mr(17,72,72,16,16,new Ir(36,new Sr(4,92))),new mr(18,80,80,18,18,new Ir(48,new Sr(4,114))),new mr(19,88,88,20,20,new Ir(56,new Sr(4,144))),new mr(20,96,96,22,22,new Ir(68,new Sr(4,174))),new mr(21,104,104,24,24,new Ir(56,new Sr(6,136))),new mr(22,120,120,18,18,new Ir(68,new Sr(6,175))),new mr(23,132,132,20,20,new Ir(62,new Sr(8,163))),new mr(24,144,144,22,22,new Ir(62,new Sr(8,156),new Sr(2,155))),new mr(25,8,18,6,16,new Ir(7,new Sr(1,5))),new mr(26,8,32,6,14,new Ir(11,new Sr(1,10))),new mr(27,12,26,10,24,new Ir(14,new Sr(1,16))),new mr(28,12,36,10,16,new Ir(18,new Sr(1,22))),new mr(29,16,36,14,16,new Ir(24,new Sr(1,32))),new mr(30,16,48,14,22,new Ir(28,new Sr(1,49)))]}}mr.VERSIONS=mr.buildVersions();class ss{constructor(o){const c=o.getHeight();if(c<8||c>144||c&1)throw new B;this.version=ss.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new oe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const c=o.getHeight(),h=o.getWidth();return mr.getVersionForDimensions(c,h)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let c=0,h=4,p=0;const g=this.mappingBitMatrix.getHeight(),w=this.mappingBitMatrix.getWidth();let S=!1,k=!1,O=!1,H=!1;do if(h===g&&p===0&&!S)o[c++]=this.readCorner1(g,w)&255,h-=2,p+=2,S=!0;else if(h===g-2&&p===0&&w&3&&!k)o[c++]=this.readCorner2(g,w)&255,h-=2,p+=2,k=!0;else if(h===g+4&&p===2&&!(w&7)&&!O)o[c++]=this.readCorner3(g,w)&255,h-=2,p+=2,O=!0;else if(h===g-2&&p===0&&(w&7)===4&&!H)o[c++]=this.readCorner4(g,w)&255,h-=2,p+=2,H=!0;else{do h<g&&p>=0&&!this.readMappingMatrix.get(p,h)&&(o[c++]=this.readUtah(h,p,g,w)&255),h-=2,p+=2;while(h>=0&&p<w);h+=1,p+=3;do h>=0&&p<w&&!this.readMappingMatrix.get(p,h)&&(o[c++]=this.readUtah(h,p,g,w)&255),h+=2,p-=2;while(h<g&&p>=0);h+=3,p+=1}while(h<g||p<w);if(c!==this.version.getTotalCodewords())throw new B;return o}readModule(o,c,h,p){return o<0&&(o+=h,c+=4-(h+4&7)),c<0&&(c+=p,o+=4-(p+4&7)),this.readMappingMatrix.set(c,o),this.mappingBitMatrix.get(c,o)}readUtah(o,c,h,p){let g=0;return this.readModule(o-2,c-2,h,p)&&(g|=1),g<<=1,this.readModule(o-2,c-1,h,p)&&(g|=1),g<<=1,this.readModule(o-1,c-2,h,p)&&(g|=1),g<<=1,this.readModule(o-1,c-1,h,p)&&(g|=1),g<<=1,this.readModule(o-1,c,h,p)&&(g|=1),g<<=1,this.readModule(o,c-2,h,p)&&(g|=1),g<<=1,this.readModule(o,c-1,h,p)&&(g|=1),g<<=1,this.readModule(o,c,h,p)&&(g|=1),g}readCorner1(o,c){let h=0;return this.readModule(o-1,0,o,c)&&(h|=1),h<<=1,this.readModule(o-1,1,o,c)&&(h|=1),h<<=1,this.readModule(o-1,2,o,c)&&(h|=1),h<<=1,this.readModule(0,c-2,o,c)&&(h|=1),h<<=1,this.readModule(0,c-1,o,c)&&(h|=1),h<<=1,this.readModule(1,c-1,o,c)&&(h|=1),h<<=1,this.readModule(2,c-1,o,c)&&(h|=1),h<<=1,this.readModule(3,c-1,o,c)&&(h|=1),h}readCorner2(o,c){let h=0;return this.readModule(o-3,0,o,c)&&(h|=1),h<<=1,this.readModule(o-2,0,o,c)&&(h|=1),h<<=1,this.readModule(o-1,0,o,c)&&(h|=1),h<<=1,this.readModule(0,c-4,o,c)&&(h|=1),h<<=1,this.readModule(0,c-3,o,c)&&(h|=1),h<<=1,this.readModule(0,c-2,o,c)&&(h|=1),h<<=1,this.readModule(0,c-1,o,c)&&(h|=1),h<<=1,this.readModule(1,c-1,o,c)&&(h|=1),h}readCorner3(o,c){let h=0;return this.readModule(o-1,0,o,c)&&(h|=1),h<<=1,this.readModule(o-1,c-1,o,c)&&(h|=1),h<<=1,this.readModule(0,c-3,o,c)&&(h|=1),h<<=1,this.readModule(0,c-2,o,c)&&(h|=1),h<<=1,this.readModule(0,c-1,o,c)&&(h|=1),h<<=1,this.readModule(1,c-3,o,c)&&(h|=1),h<<=1,this.readModule(1,c-2,o,c)&&(h|=1),h<<=1,this.readModule(1,c-1,o,c)&&(h|=1),h}readCorner4(o,c){let h=0;return this.readModule(o-3,0,o,c)&&(h|=1),h<<=1,this.readModule(o-2,0,o,c)&&(h|=1),h<<=1,this.readModule(o-1,0,o,c)&&(h|=1),h<<=1,this.readModule(0,c-2,o,c)&&(h|=1),h<<=1,this.readModule(0,c-1,o,c)&&(h|=1),h<<=1,this.readModule(1,c-1,o,c)&&(h|=1),h<<=1,this.readModule(2,c-1,o,c)&&(h|=1),h<<=1,this.readModule(3,c-1,o,c)&&(h|=1),h}extractDataRegion(o){const c=this.version.getSymbolSizeRows(),h=this.version.getSymbolSizeColumns();if(o.getHeight()!==c)throw new m("Dimension of bitMatrix must match the version size");const p=this.version.getDataRegionSizeRows(),g=this.version.getDataRegionSizeColumns(),w=c/p|0,S=h/g|0,k=w*p,O=S*g,H=new oe(O,k);for(let Y=0;Y<w;++Y){const se=Y*p;for(let we=0;we<S;++we){const Ie=we*g;for(let Oe=0;Oe<p;++Oe){const je=Y*(p+2)+1+Oe,tt=se+Oe;for(let gt=0;gt<g;++gt){const wt=we*(g+2)+1+gt;if(o.get(wt,je)){const xt=Ie+gt;H.set(xt,tt)}}}}}return H}}class Ln{constructor(o,c){this.numDataCodewords=o,this.codewords=c}static getDataBlocks(o,c){const h=c.getECBlocks();let p=0;const g=h.getECBlocks();for(let Oe of g)p+=Oe.getCount();const w=new Array(p);let S=0;for(let Oe of g)for(let je=0;je<Oe.getCount();je++){const tt=Oe.getDataCodewords(),gt=h.getECCodewords()+tt;w[S++]=new Ln(tt,new Uint8Array(gt))}const O=w[0].codewords.length-h.getECCodewords(),H=O-1;let Y=0;for(let Oe=0;Oe<H;Oe++)for(let je=0;je<S;je++)w[je].codewords[Oe]=o[Y++];const se=c.getVersionNumber()===24,we=se?8:S;for(let Oe=0;Oe<we;Oe++)w[Oe].codewords[O-1]=o[Y++];const Ie=w[0].codewords.length;for(let Oe=O;Oe<Ie;Oe++)for(let je=0;je<S;je++){const tt=se?(je+8)%S:je,gt=se&&tt>7?Oe-1:Oe;w[tt].codewords[gt]=o[Y++]}if(Y!==o.length)throw new m;return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class lc{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new m(""+o);let c=0,h=this.bitOffset,p=this.byteOffset;const g=this.bytes;if(h>0){const w=8-h,S=o<w?o:w,k=w-S,O=255>>8-S<<k;c=(g[p]&O)>>k,o-=S,h+=S,h===8&&(h=0,p++)}if(o>0){for(;o>=8;)c=c<<8|g[p]&255,p++,o-=8;if(o>0){const w=8-o,S=255>>w<<w;c=c<<o|(g[p]&S)>>w,h+=o}}return this.bitOffset=h,this.byteOffset=p,c}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Hn;(function(K){K[K.PAD_ENCODE=0]="PAD_ENCODE",K[K.ASCII_ENCODE=1]="ASCII_ENCODE",K[K.C40_ENCODE=2]="C40_ENCODE",K[K.TEXT_ENCODE=3]="TEXT_ENCODE",K[K.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",K[K.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",K[K.BASE256_ENCODE=6]="BASE256_ENCODE"})(Hn||(Hn={}));class va{static decode(o){const c=new lc(o),h=new re,p=new re,g=new Array;let w=Hn.ASCII_ENCODE;do if(w===Hn.ASCII_ENCODE)w=this.decodeAsciiSegment(c,h,p);else{switch(w){case Hn.C40_ENCODE:this.decodeC40Segment(c,h);break;case Hn.TEXT_ENCODE:this.decodeTextSegment(c,h);break;case Hn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(c,h);break;case Hn.EDIFACT_ENCODE:this.decodeEdifactSegment(c,h);break;case Hn.BASE256_ENCODE:this.decodeBase256Segment(c,h,g);break;default:throw new B}w=Hn.ASCII_ENCODE}while(w!==Hn.PAD_ENCODE&&c.available()>0);return p.length()>0&&h.append(p.toString()),new Ce(o,h.toString(),g.length===0?null:g,null)}static decodeAsciiSegment(o,c,h){let p=!1;do{let g=o.readBits(8);if(g===0)throw new B;if(g<=128)return p&&(g+=128),c.append(String.fromCharCode(g-1)),Hn.ASCII_ENCODE;if(g===129)return Hn.PAD_ENCODE;if(g<=229){const w=g-130;w<10&&c.append("0"),c.append(""+w)}else switch(g){case 230:return Hn.C40_ENCODE;case 231:return Hn.BASE256_ENCODE;case 232:c.append("");break;case 233:case 234:break;case 235:p=!0;break;case 236:c.append("[)>05"),h.insert(0,"");break;case 237:c.append("[)>06"),h.insert(0,"");break;case 238:return Hn.ANSIX12_ENCODE;case 239:return Hn.TEXT_ENCODE;case 240:return Hn.EDIFACT_ENCODE;case 241:break;default:if(g!==254||o.available()!==0)throw new B;break}}while(o.available()>0);return Hn.ASCII_ENCODE}static decodeC40Segment(o,c){let h=!1;const p=[];let g=0;do{if(o.available()===8)return;const w=o.readBits(8);if(w===254)return;this.parseTwoBytes(w,o.readBits(8),p);for(let S=0;S<3;S++){const k=p[S];switch(g){case 0:if(k<3)g=k+1;else if(k<this.C40_BASIC_SET_CHARS.length){const O=this.C40_BASIC_SET_CHARS[k];h?(c.append(String.fromCharCode(O.charCodeAt(0)+128)),h=!1):c.append(O)}else throw new B;break;case 1:h?(c.append(String.fromCharCode(k+128)),h=!1):c.append(String.fromCharCode(k)),g=0;break;case 2:if(k<this.C40_SHIFT2_SET_CHARS.length){const O=this.C40_SHIFT2_SET_CHARS[k];h?(c.append(String.fromCharCode(O.charCodeAt(0)+128)),h=!1):c.append(O)}else switch(k){case 27:c.append("");break;case 30:h=!0;break;default:throw new B}g=0;break;case 3:h?(c.append(String.fromCharCode(k+224)),h=!1):c.append(String.fromCharCode(k+96)),g=0;break;default:throw new B}}}while(o.available()>0)}static decodeTextSegment(o,c){let h=!1,p=[],g=0;do{if(o.available()===8)return;const w=o.readBits(8);if(w===254)return;this.parseTwoBytes(w,o.readBits(8),p);for(let S=0;S<3;S++){const k=p[S];switch(g){case 0:if(k<3)g=k+1;else if(k<this.TEXT_BASIC_SET_CHARS.length){const O=this.TEXT_BASIC_SET_CHARS[k];h?(c.append(String.fromCharCode(O.charCodeAt(0)+128)),h=!1):c.append(O)}else throw new B;break;case 1:h?(c.append(String.fromCharCode(k+128)),h=!1):c.append(String.fromCharCode(k)),g=0;break;case 2:if(k<this.TEXT_SHIFT2_SET_CHARS.length){const O=this.TEXT_SHIFT2_SET_CHARS[k];h?(c.append(String.fromCharCode(O.charCodeAt(0)+128)),h=!1):c.append(O)}else switch(k){case 27:c.append("");break;case 30:h=!0;break;default:throw new B}g=0;break;case 3:if(k<this.TEXT_SHIFT3_SET_CHARS.length){const O=this.TEXT_SHIFT3_SET_CHARS[k];h?(c.append(String.fromCharCode(O.charCodeAt(0)+128)),h=!1):c.append(O),g=0}else throw new B;break;default:throw new B}}}while(o.available()>0)}static decodeAnsiX12Segment(o,c){const h=[];do{if(o.available()===8)return;const p=o.readBits(8);if(p===254)return;this.parseTwoBytes(p,o.readBits(8),h);for(let g=0;g<3;g++){const w=h[g];switch(w){case 0:c.append("\r");break;case 1:c.append("*");break;case 2:c.append(">");break;case 3:c.append(" ");break;default:if(w<14)c.append(String.fromCharCode(w+44));else if(w<40)c.append(String.fromCharCode(w+51));else throw new B;break}}}while(o.available()>0)}static parseTwoBytes(o,c,h){let p=(o<<8)+c-1,g=Math.floor(p/1600);h[0]=g,p-=g*1600,g=Math.floor(p/40),h[1]=g,h[2]=p-g*40}static decodeEdifactSegment(o,c){do{if(o.available()<=16)return;for(let h=0;h<4;h++){let p=o.readBits(6);if(p===31){const g=8-o.getBitOffset();g!==8&&o.readBits(g);return}p&32||(p|=64),c.append(String.fromCharCode(p))}}while(o.available()>0)}static decodeBase256Segment(o,c,h){let p=1+o.getByteOffset();const g=this.unrandomize255State(o.readBits(8),p++);let w;if(g===0?w=o.available()/8|0:g<250?w=g:w=250*(g-249)+this.unrandomize255State(o.readBits(8),p++),w<0)throw new B;const S=new Uint8Array(w);for(let k=0;k<w;k++){if(o.available()<8)throw new B;S[k]=this.unrandomize255State(o.readBits(8),p++)}h.push(S);try{c.append(W.decode(S,U.ISO88591))}catch(k){throw new Ue("Platform does not support required encoding: "+k.message)}}static unrandomize255State(o,c){const h=149*c%255+1,p=o-h;return p>=0?p:p+256}}va.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],va.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],va.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],va.TEXT_SHIFT2_SET_CHARS=va.C40_SHIFT2_SET_CHARS,va.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Lu{constructor(){this.rsDecoder=new pe(Qe.DATA_MATRIX_FIELD_256)}decode(o){const c=new ss(o),h=c.getVersion(),p=c.readCodewords(),g=Ln.getDataBlocks(p,h);let w=0;for(let O of g)w+=O.getNumDataCodewords();const S=new Uint8Array(w),k=g.length;for(let O=0;O<k;O++){const H=g[O],Y=H.getCodewords(),se=H.getNumDataCodewords();this.correctErrors(Y,se);for(let we=0;we<se;we++)S[we*k+O]=Y[we]}return va.decode(S)}correctErrors(o,c){const h=new Int32Array(o);try{this.rsDecoder.decode(h,o.length-c)}catch{throw new v}for(let p=0;p<c;p++)o[p]=h[p]}}class Dn{constructor(o){this.image=o,this.rectangleDetector=new Pt(this.image)}detect(){const o=this.rectangleDetector.detect();let c=this.detectSolid1(o);if(c=this.detectSolid2(c),c[3]=this.correctTopRight(c),!c[3])throw new le;c=this.shiftToModuleCenter(c);const h=c[0],p=c[1],g=c[2],w=c[3];let S=this.transitionsBetween(h,w)+1,k=this.transitionsBetween(g,w)+1;(S&1)===1&&(S+=1),(k&1)===1&&(k+=1),4*S<7*k&&4*k<7*S&&(S=k=Math.max(S,k));let O=Dn.sampleGrid(this.image,h,p,g,w,S,k);return new At(O,[h,p,g,w])}static shiftPoint(o,c,h){let p=(c.getX()-o.getX())/(h+1),g=(c.getY()-o.getY())/(h+1);return new et(o.getX()+p,o.getY()+g)}static moveAway(o,c,h){let p=o.getX(),g=o.getY();return p<c?p-=1:p+=1,g<h?g-=1:g+=1,new et(p,g)}detectSolid1(o){let c=o[0],h=o[1],p=o[3],g=o[2],w=this.transitionsBetween(c,h),S=this.transitionsBetween(h,p),k=this.transitionsBetween(p,g),O=this.transitionsBetween(g,c),H=w,Y=[g,c,h,p];return H>S&&(H=S,Y[0]=c,Y[1]=h,Y[2]=p,Y[3]=g),H>k&&(H=k,Y[0]=h,Y[1]=p,Y[2]=g,Y[3]=c),H>O&&(Y[0]=p,Y[1]=g,Y[2]=c,Y[3]=h),Y}detectSolid2(o){let c=o[0],h=o[1],p=o[2],g=o[3],w=this.transitionsBetween(c,g),S=Dn.shiftPoint(h,p,(w+1)*4),k=Dn.shiftPoint(p,h,(w+1)*4),O=this.transitionsBetween(S,c),H=this.transitionsBetween(k,g);return O<H?(o[0]=c,o[1]=h,o[2]=p,o[3]=g):(o[0]=h,o[1]=p,o[2]=g,o[3]=c),o}correctTopRight(o){let c=o[0],h=o[1],p=o[2],g=o[3],w=this.transitionsBetween(c,g),S=this.transitionsBetween(h,g),k=Dn.shiftPoint(c,h,(S+1)*4),O=Dn.shiftPoint(p,h,(w+1)*4);w=this.transitionsBetween(k,g),S=this.transitionsBetween(O,g);let H=new et(g.getX()+(p.getX()-h.getX())/(w+1),g.getY()+(p.getY()-h.getY())/(w+1)),Y=new et(g.getX()+(c.getX()-h.getX())/(S+1),g.getY()+(c.getY()-h.getY())/(S+1));if(!this.isValid(H))return this.isValid(Y)?Y:null;if(!this.isValid(Y))return H;let se=this.transitionsBetween(k,H)+this.transitionsBetween(O,H),we=this.transitionsBetween(k,Y)+this.transitionsBetween(O,Y);return se>we?H:Y}shiftToModuleCenter(o){let c=o[0],h=o[1],p=o[2],g=o[3],w=this.transitionsBetween(c,g)+1,S=this.transitionsBetween(p,g)+1,k=Dn.shiftPoint(c,h,S*4),O=Dn.shiftPoint(p,h,w*4);w=this.transitionsBetween(k,g)+1,S=this.transitionsBetween(O,g)+1,(w&1)===1&&(w+=1),(S&1)===1&&(S+=1);let H=(c.getX()+h.getX()+p.getX()+g.getX())/4,Y=(c.getY()+h.getY()+p.getY()+g.getY())/4;c=Dn.moveAway(c,H,Y),h=Dn.moveAway(h,H,Y),p=Dn.moveAway(p,H,Y),g=Dn.moveAway(g,H,Y);let se,we;return k=Dn.shiftPoint(c,h,S*4),k=Dn.shiftPoint(k,g,w*4),se=Dn.shiftPoint(h,c,S*4),se=Dn.shiftPoint(se,p,w*4),O=Dn.shiftPoint(p,g,S*4),O=Dn.shiftPoint(O,h,w*4),we=Dn.shiftPoint(g,p,S*4),we=Dn.shiftPoint(we,c,w*4),[k,se,O,we]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,c,h,p,g,w,S){return er.getInstance().sampleGrid(o,w,S,.5,.5,w-.5,.5,w-.5,S-.5,.5,S-.5,c.getX(),c.getY(),g.getX(),g.getY(),p.getX(),p.getY(),h.getX(),h.getY())}transitionsBetween(o,c){let h=Math.trunc(o.getX()),p=Math.trunc(o.getY()),g=Math.trunc(c.getX()),w=Math.trunc(c.getY()),S=Math.abs(w-p)>Math.abs(g-h);if(S){let Oe=h;h=p,p=Oe,Oe=g,g=w,w=Oe}let k=Math.abs(g-h),O=Math.abs(w-p),H=-k/2,Y=p<w?1:-1,se=h<g?1:-1,we=0,Ie=this.image.get(S?p:h,S?h:p);for(let Oe=h,je=p;Oe!==g;Oe+=se){let tt=this.image.get(S?je:Oe,S?Oe:je);if(tt!==Ie&&(we++,Ie=tt),H+=O,H>0){if(je===w)break;je+=Y,H-=k}}return we}}class Ai{constructor(){this.decoder=new Lu}decode(o,c=null){let h,p;if(c!=null&&c.has(Q.PURE_BARCODE)){const O=Ai.extractPureBits(o.getBlackMatrix());h=this.decoder.decode(O),p=Ai.NO_POINTS}else{const O=new Dn(o.getBlackMatrix()).detect();h=this.decoder.decode(O.getBits()),p=O.getPoints()}const g=h.getRawBytes(),w=new G(h.getText(),g,8*g.length,p,ie.DATA_MATRIX,_.currentTimeMillis()),S=h.getByteSegments();S!=null&&w.putMetadata(be.BYTE_SEGMENTS,S);const k=h.getECLevel();return k!=null&&w.putMetadata(be.ERROR_CORRECTION_LEVEL,k),w}reset(){}static extractPureBits(o){const c=o.getTopLeftOnBit(),h=o.getBottomRightOnBit();if(c==null||h==null)throw new le;const p=this.moduleSize(c,o);let g=c[1];const w=h[1];let S=c[0];const O=(h[0]-S+1)/p,H=(w-g+1)/p;if(O<=0||H<=0)throw new le;const Y=p/2;g+=Y,S+=Y;const se=new oe(O,H);for(let we=0;we<H;we++){const Ie=g+we*p;for(let Oe=0;Oe<O;Oe++)o.get(S+Oe*p,Ie)&&se.set(Oe,we)}return se}static moduleSize(o,c){const h=c.getWidth();let p=o[0];const g=o[1];for(;p<h&&c.get(p,g);)p++;if(p===h)throw new le;const w=p-o[0];if(w===0)throw new le;return w}}Ai.NO_POINTS=[];class cc extends V{constructor(o=500){super(new Ai,o)}}var hi;(function(K){K[K.L=0]="L",K[K.M=1]="M",K[K.Q=2]="Q",K[K.H=3]="H"})(hi||(hi={}));class en{constructor(o,c,h){this.value=o,this.stringValue=c,this.bits=h,en.FOR_BITS.set(h,this),en.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return en.L;case"M":return en.M;case"Q":return en.Q;case"H":return en.H;default:throw new d(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof en))return!1;const c=o;return this.value===c.value}static forBits(o){if(o<0||o>=en.FOR_BITS.size)throw new m;return en.FOR_BITS.get(o)}}en.FOR_BITS=new Map,en.FOR_VALUE=new Map,en.L=new en(hi.L,"L",1),en.M=new en(hi.M,"M",0),en.Q=new en(hi.Q,"Q",3),en.H=new en(hi.H,"H",2);class di{constructor(o){this.errorCorrectionLevel=en.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,c){return I.bitCount(o^c)}static decodeFormatInformation(o,c){const h=di.doDecodeFormatInformation(o,c);return h!==null?h:di.doDecodeFormatInformation(o^di.FORMAT_INFO_MASK_QR,c^di.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,c){let h=Number.MAX_SAFE_INTEGER,p=0;for(const g of di.FORMAT_INFO_DECODE_LOOKUP){const w=g[0];if(w===o||w===c)return new di(g[1]);let S=di.numBitsDiffering(o,w);S<h&&(p=g[1],h=S),o!==c&&(S=di.numBitsDiffering(c,w),S<h&&(p=g[1],h=S))}return h<=3?new di(p):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof di))return!1;const c=o;return this.errorCorrectionLevel===c.errorCorrectionLevel&&this.dataMask===c.dataMask}}di.FORMAT_INFO_MASK_QR=21522,di.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class $e{constructor(o,...c){this.ecCodewordsPerBlock=o,this.ecBlocks=c}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const c=this.ecBlocks;for(const h of c)o+=h.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class me{constructor(o,c){this.count=o,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Xt{constructor(o,c,...h){this.versionNumber=o,this.alignmentPatternCenters=c,this.ecBlocks=h;let p=0;const g=h[0].getECCodewordsPerBlock(),w=h[0].getECBlocks();for(const S of w)p+=S.getCount()*(S.getDataCodewords()+g);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new B;try{return this.getVersionForNumber((o-17)/4)}catch{throw new B}}static getVersionForNumber(o){if(o<1||o>40)throw new m;return Xt.VERSIONS[o-1]}static decodeVersionInformation(o){let c=Number.MAX_SAFE_INTEGER,h=0;for(let p=0;p<Xt.VERSION_DECODE_INFO.length;p++){const g=Xt.VERSION_DECODE_INFO[p];if(g===o)return Xt.getVersionForNumber(p+7);const w=di.numBitsDiffering(o,g);w<c&&(h=p+7,c=w)}return c<=3?Xt.getVersionForNumber(h):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),c=new oe(o);c.setRegion(0,0,9,9),c.setRegion(o-8,0,8,9),c.setRegion(0,o-8,9,8);const h=this.alignmentPatternCenters.length;for(let p=0;p<h;p++){const g=this.alignmentPatternCenters[p]-2;for(let w=0;w<h;w++)p===0&&(w===0||w===h-1)||p===h-1&&w===0||c.setRegion(this.alignmentPatternCenters[w]-2,g,5,5)}return c.setRegion(6,9,1,o-17),c.setRegion(9,6,o-17,1),this.versionNumber>6&&(c.setRegion(o-11,0,3,6),c.setRegion(0,o-11,6,3)),c}toString(){return""+this.versionNumber}}Xt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Xt.VERSIONS=[new Xt(1,new Int32Array(0),new $e(7,new me(1,19)),new $e(10,new me(1,16)),new $e(13,new me(1,13)),new $e(17,new me(1,9))),new Xt(2,Int32Array.from([6,18]),new $e(10,new me(1,34)),new $e(16,new me(1,28)),new $e(22,new me(1,22)),new $e(28,new me(1,16))),new Xt(3,Int32Array.from([6,22]),new $e(15,new me(1,55)),new $e(26,new me(1,44)),new $e(18,new me(2,17)),new $e(22,new me(2,13))),new Xt(4,Int32Array.from([6,26]),new $e(20,new me(1,80)),new $e(18,new me(2,32)),new $e(26,new me(2,24)),new $e(16,new me(4,9))),new Xt(5,Int32Array.from([6,30]),new $e(26,new me(1,108)),new $e(24,new me(2,43)),new $e(18,new me(2,15),new me(2,16)),new $e(22,new me(2,11),new me(2,12))),new Xt(6,Int32Array.from([6,34]),new $e(18,new me(2,68)),new $e(16,new me(4,27)),new $e(24,new me(4,19)),new $e(28,new me(4,15))),new Xt(7,Int32Array.from([6,22,38]),new $e(20,new me(2,78)),new $e(18,new me(4,31)),new $e(18,new me(2,14),new me(4,15)),new $e(26,new me(4,13),new me(1,14))),new Xt(8,Int32Array.from([6,24,42]),new $e(24,new me(2,97)),new $e(22,new me(2,38),new me(2,39)),new $e(22,new me(4,18),new me(2,19)),new $e(26,new me(4,14),new me(2,15))),new Xt(9,Int32Array.from([6,26,46]),new $e(30,new me(2,116)),new $e(22,new me(3,36),new me(2,37)),new $e(20,new me(4,16),new me(4,17)),new $e(24,new me(4,12),new me(4,13))),new Xt(10,Int32Array.from([6,28,50]),new $e(18,new me(2,68),new me(2,69)),new $e(26,new me(4,43),new me(1,44)),new $e(24,new me(6,19),new me(2,20)),new $e(28,new me(6,15),new me(2,16))),new Xt(11,Int32Array.from([6,30,54]),new $e(20,new me(4,81)),new $e(30,new me(1,50),new me(4,51)),new $e(28,new me(4,22),new me(4,23)),new $e(24,new me(3,12),new me(8,13))),new Xt(12,Int32Array.from([6,32,58]),new $e(24,new me(2,92),new me(2,93)),new $e(22,new me(6,36),new me(2,37)),new $e(26,new me(4,20),new me(6,21)),new $e(28,new me(7,14),new me(4,15))),new Xt(13,Int32Array.from([6,34,62]),new $e(26,new me(4,107)),new $e(22,new me(8,37),new me(1,38)),new $e(24,new me(8,20),new me(4,21)),new $e(22,new me(12,11),new me(4,12))),new Xt(14,Int32Array.from([6,26,46,66]),new $e(30,new me(3,115),new me(1,116)),new $e(24,new me(4,40),new me(5,41)),new $e(20,new me(11,16),new me(5,17)),new $e(24,new me(11,12),new me(5,13))),new Xt(15,Int32Array.from([6,26,48,70]),new $e(22,new me(5,87),new me(1,88)),new $e(24,new me(5,41),new me(5,42)),new $e(30,new me(5,24),new me(7,25)),new $e(24,new me(11,12),new me(7,13))),new Xt(16,Int32Array.from([6,26,50,74]),new $e(24,new me(5,98),new me(1,99)),new $e(28,new me(7,45),new me(3,46)),new $e(24,new me(15,19),new me(2,20)),new $e(30,new me(3,15),new me(13,16))),new Xt(17,Int32Array.from([6,30,54,78]),new $e(28,new me(1,107),new me(5,108)),new $e(28,new me(10,46),new me(1,47)),new $e(28,new me(1,22),new me(15,23)),new $e(28,new me(2,14),new me(17,15))),new Xt(18,Int32Array.from([6,30,56,82]),new $e(30,new me(5,120),new me(1,121)),new $e(26,new me(9,43),new me(4,44)),new $e(28,new me(17,22),new me(1,23)),new $e(28,new me(2,14),new me(19,15))),new Xt(19,Int32Array.from([6,30,58,86]),new $e(28,new me(3,113),new me(4,114)),new $e(26,new me(3,44),new me(11,45)),new $e(26,new me(17,21),new me(4,22)),new $e(26,new me(9,13),new me(16,14))),new Xt(20,Int32Array.from([6,34,62,90]),new $e(28,new me(3,107),new me(5,108)),new $e(26,new me(3,41),new me(13,42)),new $e(30,new me(15,24),new me(5,25)),new $e(28,new me(15,15),new me(10,16))),new Xt(21,Int32Array.from([6,28,50,72,94]),new $e(28,new me(4,116),new me(4,117)),new $e(26,new me(17,42)),new $e(28,new me(17,22),new me(6,23)),new $e(30,new me(19,16),new me(6,17))),new Xt(22,Int32Array.from([6,26,50,74,98]),new $e(28,new me(2,111),new me(7,112)),new $e(28,new me(17,46)),new $e(30,new me(7,24),new me(16,25)),new $e(24,new me(34,13))),new Xt(23,Int32Array.from([6,30,54,78,102]),new $e(30,new me(4,121),new me(5,122)),new $e(28,new me(4,47),new me(14,48)),new $e(30,new me(11,24),new me(14,25)),new $e(30,new me(16,15),new me(14,16))),new Xt(24,Int32Array.from([6,28,54,80,106]),new $e(30,new me(6,117),new me(4,118)),new $e(28,new me(6,45),new me(14,46)),new $e(30,new me(11,24),new me(16,25)),new $e(30,new me(30,16),new me(2,17))),new Xt(25,Int32Array.from([6,32,58,84,110]),new $e(26,new me(8,106),new me(4,107)),new $e(28,new me(8,47),new me(13,48)),new $e(30,new me(7,24),new me(22,25)),new $e(30,new me(22,15),new me(13,16))),new Xt(26,Int32Array.from([6,30,58,86,114]),new $e(28,new me(10,114),new me(2,115)),new $e(28,new me(19,46),new me(4,47)),new $e(28,new me(28,22),new me(6,23)),new $e(30,new me(33,16),new me(4,17))),new Xt(27,Int32Array.from([6,34,62,90,118]),new $e(30,new me(8,122),new me(4,123)),new $e(28,new me(22,45),new me(3,46)),new $e(30,new me(8,23),new me(26,24)),new $e(30,new me(12,15),new me(28,16))),new Xt(28,Int32Array.from([6,26,50,74,98,122]),new $e(30,new me(3,117),new me(10,118)),new $e(28,new me(3,45),new me(23,46)),new $e(30,new me(4,24),new me(31,25)),new $e(30,new me(11,15),new me(31,16))),new Xt(29,Int32Array.from([6,30,54,78,102,126]),new $e(30,new me(7,116),new me(7,117)),new $e(28,new me(21,45),new me(7,46)),new $e(30,new me(1,23),new me(37,24)),new $e(30,new me(19,15),new me(26,16))),new Xt(30,Int32Array.from([6,26,52,78,104,130]),new $e(30,new me(5,115),new me(10,116)),new $e(28,new me(19,47),new me(10,48)),new $e(30,new me(15,24),new me(25,25)),new $e(30,new me(23,15),new me(25,16))),new Xt(31,Int32Array.from([6,30,56,82,108,134]),new $e(30,new me(13,115),new me(3,116)),new $e(28,new me(2,46),new me(29,47)),new $e(30,new me(42,24),new me(1,25)),new $e(30,new me(23,15),new me(28,16))),new Xt(32,Int32Array.from([6,34,60,86,112,138]),new $e(30,new me(17,115)),new $e(28,new me(10,46),new me(23,47)),new $e(30,new me(10,24),new me(35,25)),new $e(30,new me(19,15),new me(35,16))),new Xt(33,Int32Array.from([6,30,58,86,114,142]),new $e(30,new me(17,115),new me(1,116)),new $e(28,new me(14,46),new me(21,47)),new $e(30,new me(29,24),new me(19,25)),new $e(30,new me(11,15),new me(46,16))),new Xt(34,Int32Array.from([6,34,62,90,118,146]),new $e(30,new me(13,115),new me(6,116)),new $e(28,new me(14,46),new me(23,47)),new $e(30,new me(44,24),new me(7,25)),new $e(30,new me(59,16),new me(1,17))),new Xt(35,Int32Array.from([6,30,54,78,102,126,150]),new $e(30,new me(12,121),new me(7,122)),new $e(28,new me(12,47),new me(26,48)),new $e(30,new me(39,24),new me(14,25)),new $e(30,new me(22,15),new me(41,16))),new Xt(36,Int32Array.from([6,24,50,76,102,128,154]),new $e(30,new me(6,121),new me(14,122)),new $e(28,new me(6,47),new me(34,48)),new $e(30,new me(46,24),new me(10,25)),new $e(30,new me(2,15),new me(64,16))),new Xt(37,Int32Array.from([6,28,54,80,106,132,158]),new $e(30,new me(17,122),new me(4,123)),new $e(28,new me(29,46),new me(14,47)),new $e(30,new me(49,24),new me(10,25)),new $e(30,new me(24,15),new me(46,16))),new Xt(38,Int32Array.from([6,32,58,84,110,136,162]),new $e(30,new me(4,122),new me(18,123)),new $e(28,new me(13,46),new me(32,47)),new $e(30,new me(48,24),new me(14,25)),new $e(30,new me(42,15),new me(32,16))),new Xt(39,Int32Array.from([6,26,54,82,110,138,166]),new $e(30,new me(20,117),new me(4,118)),new $e(28,new me(40,47),new me(7,48)),new $e(30,new me(43,24),new me(22,25)),new $e(30,new me(10,15),new me(67,16))),new Xt(40,Int32Array.from([6,30,58,86,114,142,170]),new $e(30,new me(19,118),new me(6,119)),new $e(28,new me(18,47),new me(31,48)),new $e(30,new me(34,24),new me(34,25)),new $e(30,new me(20,15),new me(61,16)))];var Yn;(function(K){K[K.DATA_MASK_000=0]="DATA_MASK_000",K[K.DATA_MASK_001=1]="DATA_MASK_001",K[K.DATA_MASK_010=2]="DATA_MASK_010",K[K.DATA_MASK_011=3]="DATA_MASK_011",K[K.DATA_MASK_100=4]="DATA_MASK_100",K[K.DATA_MASK_101=5]="DATA_MASK_101",K[K.DATA_MASK_110=6]="DATA_MASK_110",K[K.DATA_MASK_111=7]="DATA_MASK_111"})(Yn||(Yn={}));class ys{constructor(o,c){this.value=o,this.isMasked=c}unmaskBitMatrix(o,c){for(let h=0;h<c;h++)for(let p=0;p<c;p++)this.isMasked(h,p)&&o.flip(p,h)}}ys.values=new Map([[Yn.DATA_MASK_000,new ys(Yn.DATA_MASK_000,(K,o)=>(K+o&1)===0)],[Yn.DATA_MASK_001,new ys(Yn.DATA_MASK_001,(K,o)=>(K&1)===0)],[Yn.DATA_MASK_010,new ys(Yn.DATA_MASK_010,(K,o)=>o%3===0)],[Yn.DATA_MASK_011,new ys(Yn.DATA_MASK_011,(K,o)=>(K+o)%3===0)],[Yn.DATA_MASK_100,new ys(Yn.DATA_MASK_100,(K,o)=>(Math.floor(K/2)+Math.floor(o/3)&1)===0)],[Yn.DATA_MASK_101,new ys(Yn.DATA_MASK_101,(K,o)=>K*o%6===0)],[Yn.DATA_MASK_110,new ys(Yn.DATA_MASK_110,(K,o)=>K*o%6<3)],[Yn.DATA_MASK_111,new ys(Yn.DATA_MASK_111,(K,o)=>(K+o+K*o%3&1)===0)]]);class Du{constructor(o){const c=o.getHeight();if(c<21||(c&3)!==1)throw new B;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let g=0;g<6;g++)o=this.copyBit(g,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let g=5;g>=0;g--)o=this.copyBit(8,g,o);const c=this.bitMatrix.getHeight();let h=0;const p=c-7;for(let g=c-1;g>=p;g--)h=this.copyBit(8,g,h);for(let g=c-8;g<c;g++)h=this.copyBit(g,8,h);if(this.parsedFormatInfo=di.decodeFormatInformation(o,h),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),c=Math.floor((o-17)/4);if(c<=6)return Xt.getVersionForNumber(c);let h=0;const p=o-11;for(let w=5;w>=0;w--)for(let S=o-9;S>=p;S--)h=this.copyBit(S,w,h);let g=Xt.decodeVersionInformation(h);if(g!==null&&g.getDimensionForVersion()===o)return this.parsedVersion=g,g;h=0;for(let w=5;w>=0;w--)for(let S=o-9;S>=p;S--)h=this.copyBit(w,S,h);if(g=Xt.decodeVersionInformation(h),g!==null&&g.getDimensionForVersion()===o)return this.parsedVersion=g,g;throw new B}copyBit(o,c,h){return(this.isMirror?this.bitMatrix.get(c,o):this.bitMatrix.get(o,c))?h<<1|1:h<<1}readCodewords(){const o=this.readFormatInformation(),c=this.readVersion(),h=ys.values.get(o.getDataMask()),p=this.bitMatrix.getHeight();h.unmaskBitMatrix(this.bitMatrix,p);const g=c.buildFunctionPattern();let w=!0;const S=new Uint8Array(c.getTotalCodewords());let k=0,O=0,H=0;for(let Y=p-1;Y>0;Y-=2){Y===6&&Y--;for(let se=0;se<p;se++){const we=w?p-1-se:se;for(let Ie=0;Ie<2;Ie++)g.get(Y-Ie,we)||(H++,O<<=1,this.bitMatrix.get(Y-Ie,we)&&(O|=1),H===8&&(S[k++]=O,H=0,O=0))}w=!w}if(k!==c.getTotalCodewords())throw new B;return S}remask(){if(this.parsedFormatInfo===null)return;const o=ys.values[this.parsedFormatInfo.getDataMask()],c=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,c)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let c=0,h=o.getWidth();c<h;c++)for(let p=c+1,g=o.getHeight();p<g;p++)o.get(c,p)!==o.get(p,c)&&(o.flip(p,c),o.flip(c,p))}}class Fu{constructor(o,c){this.numDataCodewords=o,this.codewords=c}static getDataBlocks(o,c,h){if(o.length!==c.getTotalCodewords())throw new m;const p=c.getECBlocksForLevel(h);let g=0;const w=p.getECBlocks();for(const Ie of w)g+=Ie.getCount();const S=new Array(g);let k=0;for(const Ie of w)for(let Oe=0;Oe<Ie.getCount();Oe++){const je=Ie.getDataCodewords(),tt=p.getECCodewordsPerBlock()+je;S[k++]=new Fu(je,new Uint8Array(tt))}const O=S[0].codewords.length;let H=S.length-1;for(;H>=0&&S[H].codewords.length!==O;)H--;H++;const Y=O-p.getECCodewordsPerBlock();let se=0;for(let Ie=0;Ie<Y;Ie++)for(let Oe=0;Oe<k;Oe++)S[Oe].codewords[Ie]=o[se++];for(let Ie=H;Ie<k;Ie++)S[Ie].codewords[Y]=o[se++];const we=S[0].codewords.length;for(let Ie=Y;Ie<we;Ie++)for(let Oe=0;Oe<k;Oe++){const je=Oe<H?Ie:Ie+1;S[Oe].codewords[je]=o[se++]}return S}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var bs;(function(K){K[K.TERMINATOR=0]="TERMINATOR",K[K.NUMERIC=1]="NUMERIC",K[K.ALPHANUMERIC=2]="ALPHANUMERIC",K[K.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",K[K.BYTE=4]="BYTE",K[K.ECI=5]="ECI",K[K.KANJI=6]="KANJI",K[K.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",K[K.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",K[K.HANZI=9]="HANZI"})(bs||(bs={}));class Qt{constructor(o,c,h,p){this.value=o,this.stringValue=c,this.characterCountBitsForVersions=h,this.bits=p,Qt.FOR_BITS.set(p,this),Qt.FOR_VALUE.set(o,this)}static forBits(o){const c=Qt.FOR_BITS.get(o);if(c===void 0)throw new m;return c}getCharacterCountBits(o){const c=o.getVersionNumber();let h;return c<=9?h=0:c<=26?h=1:h=2,this.characterCountBitsForVersions[h]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof Qt))return!1;const c=o;return this.value===c.value}toString(){return this.stringValue}}Qt.FOR_BITS=new Map,Qt.FOR_VALUE=new Map,Qt.TERMINATOR=new Qt(bs.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Qt.NUMERIC=new Qt(bs.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Qt.ALPHANUMERIC=new Qt(bs.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Qt.STRUCTURED_APPEND=new Qt(bs.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Qt.BYTE=new Qt(bs.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Qt.ECI=new Qt(bs.ECI,"ECI",Int32Array.from([0,0,0]),7),Qt.KANJI=new Qt(bs.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Qt.FNC1_FIRST_POSITION=new Qt(bs.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Qt.FNC1_SECOND_POSITION=new Qt(bs.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Qt.HANZI=new Qt(bs.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Yr{static decode(o,c,h,p){const g=new lc(o);let w=new re;const S=new Array;let k=-1,O=-1;try{let H=null,Y=!1,se;do{if(g.available()<4)se=Qt.TERMINATOR;else{const we=g.readBits(4);se=Qt.forBits(we)}switch(se){case Qt.TERMINATOR:break;case Qt.FNC1_FIRST_POSITION:case Qt.FNC1_SECOND_POSITION:Y=!0;break;case Qt.STRUCTURED_APPEND:if(g.available()<16)throw new B;k=g.readBits(8),O=g.readBits(8);break;case Qt.ECI:const we=Yr.parseECIValue(g);if(H=F.getCharacterSetECIByValue(we),H===null)throw new B;break;case Qt.HANZI:const Ie=g.readBits(4),Oe=g.readBits(se.getCharacterCountBits(c));Ie===Yr.GB2312_SUBSET&&Yr.decodeHanziSegment(g,w,Oe);break;default:const je=g.readBits(se.getCharacterCountBits(c));switch(se){case Qt.NUMERIC:Yr.decodeNumericSegment(g,w,je);break;case Qt.ALPHANUMERIC:Yr.decodeAlphanumericSegment(g,w,je,Y);break;case Qt.BYTE:Yr.decodeByteSegment(g,w,je,H,S,p);break;case Qt.KANJI:Yr.decodeKanjiSegment(g,w,je);break;default:throw new B}break}}while(se!==Qt.TERMINATOR)}catch{throw new B}return new Ce(o,w.toString(),S.length===0?null:S,h===null?null:h.toString(),k,O)}static decodeHanziSegment(o,c,h){if(h*13>o.available())throw new B;const p=new Uint8Array(2*h);let g=0;for(;h>0;){const w=o.readBits(13);let S=w/96<<8&4294967295|w%96;S<959?S+=41377:S+=42657,p[g]=S>>8&255,p[g+1]=S&255,g+=2,h--}try{c.append(W.decode(p,U.GB2312))}catch(w){throw new B(w)}}static decodeKanjiSegment(o,c,h){if(h*13>o.available())throw new B;const p=new Uint8Array(2*h);let g=0;for(;h>0;){const w=o.readBits(13);let S=w/192<<8&4294967295|w%192;S<7936?S+=33088:S+=49472,p[g]=S>>8,p[g+1]=S,g+=2,h--}try{c.append(W.decode(p,U.SHIFT_JIS))}catch(w){throw new B(w)}}static decodeByteSegment(o,c,h,p,g,w){if(8*h>o.available())throw new B;const S=new Uint8Array(h);for(let O=0;O<h;O++)S[O]=o.readBits(8);let k;p===null?k=U.guessEncoding(S,w):k=p.getName();try{c.append(W.decode(S,k))}catch(O){throw new B(O)}g.push(S)}static toAlphaNumericChar(o){if(o>=Yr.ALPHANUMERIC_CHARS.length)throw new B;return Yr.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,c,h,p){const g=c.length();for(;h>1;){if(o.available()<11)throw new B;const w=o.readBits(11);c.append(Yr.toAlphaNumericChar(Math.floor(w/45))),c.append(Yr.toAlphaNumericChar(w%45)),h-=2}if(h===1){if(o.available()<6)throw new B;c.append(Yr.toAlphaNumericChar(o.readBits(6)))}if(p)for(let w=g;w<c.length();w++)c.charAt(w)==="%"&&(w<c.length()-1&&c.charAt(w+1)==="%"?c.deleteCharAt(w+1):c.setCharAt(w,""))}static decodeNumericSegment(o,c,h){for(;h>=3;){if(o.available()<10)throw new B;const p=o.readBits(10);if(p>=1e3)throw new B;c.append(Yr.toAlphaNumericChar(Math.floor(p/100))),c.append(Yr.toAlphaNumericChar(Math.floor(p/10)%10)),c.append(Yr.toAlphaNumericChar(p%10)),h-=3}if(h===2){if(o.available()<7)throw new B;const p=o.readBits(7);if(p>=100)throw new B;c.append(Yr.toAlphaNumericChar(Math.floor(p/10))),c.append(Yr.toAlphaNumericChar(p%10))}else if(h===1){if(o.available()<4)throw new B;const p=o.readBits(4);if(p>=10)throw new B;c.append(Yr.toAlphaNumericChar(p))}}static parseECIValue(o){const c=o.readBits(8);if(!(c&128))return c&127;if((c&192)===128){const h=o.readBits(8);return(c&63)<<8&4294967295|h}if((c&224)===192){const h=o.readBits(16);return(c&31)<<16&4294967295|h}throw new B}}Yr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Yr.GB2312_SUBSET=1;class bl{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const c=o[0];o[0]=o[2],o[2]=c}}class uc{constructor(){this.rsDecoder=new pe(Qe.QR_CODE_FIELD_256)}decodeBooleanArray(o,c){return this.decodeBitMatrix(oe.parseFromBooleanArray(o),c)}decodeBitMatrix(o,c){const h=new Du(o);let p=null;try{return this.decodeBitMatrixParser(h,c)}catch(g){p=g}try{h.remask(),h.setMirror(!0),h.readVersion(),h.readFormatInformation(),h.mirror();const g=this.decodeBitMatrixParser(h,c);return g.setOther(new bl(!0)),g}catch(g){throw p!==null?p:g}}decodeBitMatrixParser(o,c){const h=o.readVersion(),p=o.readFormatInformation().getErrorCorrectionLevel(),g=o.readCodewords(),w=Fu.getDataBlocks(g,h,p);let S=0;for(const H of w)S+=H.getNumDataCodewords();const k=new Uint8Array(S);let O=0;for(const H of w){const Y=H.getCodewords(),se=H.getNumDataCodewords();this.correctErrors(Y,se);for(let we=0;we<se;we++)k[O++]=Y[we]}return Yr.decode(k,h,p,c)}correctErrors(o,c){const h=new Int32Array(o);try{this.rsDecoder.decode(h,o.length-c)}catch{throw new v}for(let p=0;p<c;p++)o[p]=h[p]}}class fc extends et{constructor(o,c,h){super(o,c),this.estimatedModuleSize=h}aboutEquals(o,c,h){if(Math.abs(c-this.getY())<=o&&Math.abs(h-this.getX())<=o){const p=Math.abs(o-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(o,c,h){const p=(this.getX()+c)/2,g=(this.getY()+o)/2,w=(this.estimatedModuleSize+h)/2;return new fc(p,g,w)}}class pi{constructor(o,c,h,p,g,w,S){this.image=o,this.startX=c,this.startY=h,this.width=p,this.height=g,this.moduleSize=w,this.resultPointCallback=S,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,c=this.height,h=this.width,p=o+h,g=this.startY+c/2,w=new Int32Array(3),S=this.image;for(let k=0;k<c;k++){const O=g+(k&1?-Math.floor((k+1)/2):Math.floor((k+1)/2));w[0]=0,w[1]=0,w[2]=0;let H=o;for(;H<p&&!S.get(H,O);)H++;let Y=0;for(;H<p;){if(S.get(H,O))if(Y===1)w[1]++;else if(Y===2){if(this.foundPatternCross(w)){const se=this.handlePossibleCenter(w,O,H);if(se!==null)return se}w[0]=w[2],w[1]=1,w[2]=0,Y=1}else w[++Y]++;else Y===1&&Y++,w[Y]++;H++}if(this.foundPatternCross(w)){const se=this.handlePossibleCenter(w,O,p);if(se!==null)return se}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new le}static centerFromEnd(o,c){return c-o[2]-o[1]/2}foundPatternCross(o){const c=this.moduleSize,h=c/2;for(let p=0;p<3;p++)if(Math.abs(c-o[p])>=h)return!1;return!0}crossCheckVertical(o,c,h,p){const g=this.image,w=g.getHeight(),S=this.crossCheckStateCount;S[0]=0,S[1]=0,S[2]=0;let k=o;for(;k>=0&&g.get(c,k)&&S[1]<=h;)S[1]++,k--;if(k<0||S[1]>h)return NaN;for(;k>=0&&!g.get(c,k)&&S[0]<=h;)S[0]++,k--;if(S[0]>h)return NaN;for(k=o+1;k<w&&g.get(c,k)&&S[1]<=h;)S[1]++,k++;if(k===w||S[1]>h)return NaN;for(;k<w&&!g.get(c,k)&&S[2]<=h;)S[2]++,k++;if(S[2]>h)return NaN;const O=S[0]+S[1]+S[2];return 5*Math.abs(O-p)>=2*p?NaN:this.foundPatternCross(S)?pi.centerFromEnd(S,k):NaN}handlePossibleCenter(o,c,h){const p=o[0]+o[1]+o[2],g=pi.centerFromEnd(o,h),w=this.crossCheckVertical(c,g,2*o[1],p);if(!isNaN(w)){const S=(o[0]+o[1]+o[2])/3;for(const O of this.possibleCenters)if(O.aboutEquals(S,w,g))return O.combineEstimate(w,g,S);const k=new fc(g,w,S);this.possibleCenters.push(k),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(k)}return null}}class Mu extends et{constructor(o,c,h,p){super(o,c),this.estimatedModuleSize=h,this.count=p,p===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,c,h){if(Math.abs(c-this.getY())<=o&&Math.abs(h-this.getX())<=o){const p=Math.abs(o-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(o,c,h){const p=this.count+1,g=(this.count*this.getX()+c)/p,w=(this.count*this.getY()+o)/p,S=(this.count*this.estimatedModuleSize+h)/p;return new Mu(g,w,S,p)}}class Yf{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ht{constructor(o,c){this.image=o,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=c}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const c=o!=null&&o.get(Q.TRY_HARDER)!==void 0,h=o!=null&&o.get(Q.PURE_BARCODE)!==void 0,p=this.image,g=p.getHeight(),w=p.getWidth();let S=Math.floor(3*g/(4*Ht.MAX_MODULES));(S<Ht.MIN_SKIP||c)&&(S=Ht.MIN_SKIP);let k=!1;const O=new Int32Array(5);for(let Y=S-1;Y<g&&!k;Y+=S){O[0]=0,O[1]=0,O[2]=0,O[3]=0,O[4]=0;let se=0;for(let we=0;we<w;we++)if(p.get(we,Y))(se&1)===1&&se++,O[se]++;else if(se&1)O[se]++;else if(se===4)if(Ht.foundPatternCross(O)){if(this.handlePossibleCenter(O,Y,we,h)===!0)if(S=2,this.hasSkipped===!0)k=this.haveMultiplyConfirmedCenters();else{const Oe=this.findRowSkip();Oe>O[2]&&(Y+=Oe-O[2]-S,we=w-1)}else{O[0]=O[2],O[1]=O[3],O[2]=O[4],O[3]=1,O[4]=0,se=3;continue}se=0,O[0]=0,O[1]=0,O[2]=0,O[3]=0,O[4]=0}else O[0]=O[2],O[1]=O[3],O[2]=O[4],O[3]=1,O[4]=0,se=3;else O[++se]++;Ht.foundPatternCross(O)&&this.handlePossibleCenter(O,Y,w,h)===!0&&(S=O[0],this.hasSkipped&&(k=this.haveMultiplyConfirmedCenters()))}const H=this.selectBestPatterns();return et.orderBestPatterns(H),new Yf(H)}static centerFromEnd(o,c){return c-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let c=0;for(let g=0;g<5;g++){const w=o[g];if(w===0)return!1;c+=w}if(c<7)return!1;const h=c/7,p=h/2;return Math.abs(h-o[0])<p&&Math.abs(h-o[1])<p&&Math.abs(3*h-o[2])<3*p&&Math.abs(h-o[3])<p&&Math.abs(h-o[4])<p}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,c,h,p){const g=this.getCrossCheckStateCount();let w=0;const S=this.image;for(;o>=w&&c>=w&&S.get(c-w,o-w);)g[2]++,w++;if(o<w||c<w)return!1;for(;o>=w&&c>=w&&!S.get(c-w,o-w)&&g[1]<=h;)g[1]++,w++;if(o<w||c<w||g[1]>h)return!1;for(;o>=w&&c>=w&&S.get(c-w,o-w)&&g[0]<=h;)g[0]++,w++;if(g[0]>h)return!1;const k=S.getHeight(),O=S.getWidth();for(w=1;o+w<k&&c+w<O&&S.get(c+w,o+w);)g[2]++,w++;if(o+w>=k||c+w>=O)return!1;for(;o+w<k&&c+w<O&&!S.get(c+w,o+w)&&g[3]<h;)g[3]++,w++;if(o+w>=k||c+w>=O||g[3]>=h)return!1;for(;o+w<k&&c+w<O&&S.get(c+w,o+w)&&g[4]<h;)g[4]++,w++;if(g[4]>=h)return!1;const H=g[0]+g[1]+g[2]+g[3]+g[4];return Math.abs(H-p)<2*p&&Ht.foundPatternCross(g)}crossCheckVertical(o,c,h,p){const g=this.image,w=g.getHeight(),S=this.getCrossCheckStateCount();let k=o;for(;k>=0&&g.get(c,k);)S[2]++,k--;if(k<0)return NaN;for(;k>=0&&!g.get(c,k)&&S[1]<=h;)S[1]++,k--;if(k<0||S[1]>h)return NaN;for(;k>=0&&g.get(c,k)&&S[0]<=h;)S[0]++,k--;if(S[0]>h)return NaN;for(k=o+1;k<w&&g.get(c,k);)S[2]++,k++;if(k===w)return NaN;for(;k<w&&!g.get(c,k)&&S[3]<h;)S[3]++,k++;if(k===w||S[3]>=h)return NaN;for(;k<w&&g.get(c,k)&&S[4]<h;)S[4]++,k++;if(S[4]>=h)return NaN;const O=S[0]+S[1]+S[2]+S[3]+S[4];return 5*Math.abs(O-p)>=2*p?NaN:Ht.foundPatternCross(S)?Ht.centerFromEnd(S,k):NaN}crossCheckHorizontal(o,c,h,p){const g=this.image,w=g.getWidth(),S=this.getCrossCheckStateCount();let k=o;for(;k>=0&&g.get(k,c);)S[2]++,k--;if(k<0)return NaN;for(;k>=0&&!g.get(k,c)&&S[1]<=h;)S[1]++,k--;if(k<0||S[1]>h)return NaN;for(;k>=0&&g.get(k,c)&&S[0]<=h;)S[0]++,k--;if(S[0]>h)return NaN;for(k=o+1;k<w&&g.get(k,c);)S[2]++,k++;if(k===w)return NaN;for(;k<w&&!g.get(k,c)&&S[3]<h;)S[3]++,k++;if(k===w||S[3]>=h)return NaN;for(;k<w&&g.get(k,c)&&S[4]<h;)S[4]++,k++;if(S[4]>=h)return NaN;const O=S[0]+S[1]+S[2]+S[3]+S[4];return 5*Math.abs(O-p)>=p?NaN:Ht.foundPatternCross(S)?Ht.centerFromEnd(S,k):NaN}handlePossibleCenter(o,c,h,p){const g=o[0]+o[1]+o[2]+o[3]+o[4];let w=Ht.centerFromEnd(o,h),S=this.crossCheckVertical(c,Math.floor(w),o[2],g);if(!isNaN(S)&&(w=this.crossCheckHorizontal(Math.floor(w),Math.floor(S),o[2],g),!isNaN(w)&&(!p||this.crossCheckDiagonal(Math.floor(S),Math.floor(w),o[2],g)))){const k=g/7;let O=!1;const H=this.possibleCenters;for(let Y=0,se=H.length;Y<se;Y++){const we=H[Y];if(we.aboutEquals(k,S,w)){H[Y]=we.combineEstimate(S,w,k),O=!0;break}}if(!O){const Y=new Mu(w,S,k);H.push(Y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Y)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let c=null;for(const h of this.possibleCenters)if(h.getCount()>=Ht.CENTER_QUORUM)if(c==null)c=h;else return this.hasSkipped=!0,Math.floor((Math.abs(c.getX()-h.getX())-Math.abs(c.getY()-h.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,c=0;const h=this.possibleCenters.length;for(const w of this.possibleCenters)w.getCount()>=Ht.CENTER_QUORUM&&(o++,c+=w.getEstimatedModuleSize());if(o<3)return!1;const p=c/h;let g=0;for(const w of this.possibleCenters)g+=Math.abs(w.getEstimatedModuleSize()-p);return g<=.05*c}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new le;const c=this.possibleCenters;let h;if(o>3){let p=0,g=0;for(const k of this.possibleCenters){const O=k.getEstimatedModuleSize();p+=O,g+=O*O}h=p/o;let w=Math.sqrt(g/o-h*h);c.sort((k,O)=>{const H=Math.abs(O.getEstimatedModuleSize()-h),Y=Math.abs(k.getEstimatedModuleSize()-h);return H<Y?-1:H>Y?1:0});const S=Math.max(.2*h,w);for(let k=0;k<c.length&&c.length>3;k++){const O=c[k];Math.abs(O.getEstimatedModuleSize()-h)>S&&(c.splice(k,1),k--)}}if(c.length>3){let p=0;for(const g of c)p+=g.getEstimatedModuleSize();h=p/c.length,c.sort((g,w)=>{if(w.getCount()===g.getCount()){const S=Math.abs(w.getEstimatedModuleSize()-h),k=Math.abs(g.getEstimatedModuleSize()-h);return S<k?1:S>k?-1:0}else return w.getCount()-g.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]}}Ht.CENTER_QUORUM=2,Ht.MIN_SKIP=3,Ht.MAX_MODULES=57;class _l{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(Q.NEED_RESULT_POINT_CALLBACK);const h=new Ht(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(h)}processFinderPatternInfo(o){const c=o.getTopLeft(),h=o.getTopRight(),p=o.getBottomLeft(),g=this.calculateModuleSize(c,h,p);if(g<1)throw new le("No pattern found in proccess finder.");const w=_l.computeDimension(c,h,p,g),S=Xt.getProvisionalVersionForDimension(w),k=S.getDimensionForVersion()-7;let O=null;if(S.getAlignmentPatternCenters().length>0){const we=h.getX()-c.getX()+p.getX(),Ie=h.getY()-c.getY()+p.getY(),Oe=1-3/k,je=Math.floor(c.getX()+Oe*(we-c.getX())),tt=Math.floor(c.getY()+Oe*(Ie-c.getY()));for(let gt=4;gt<=16;gt<<=1)try{O=this.findAlignmentInRegion(g,je,tt,gt);break}catch(wt){if(!(wt instanceof le))throw wt}}const H=_l.createTransform(c,h,p,O,w),Y=_l.sampleGrid(this.image,H,w);let se;return O===null?se=[p,c,h]:se=[p,c,h,O],new At(Y,se)}static createTransform(o,c,h,p,g){const w=g-3.5;let S,k,O,H;return p!==null?(S=p.getX(),k=p.getY(),O=w-3,H=O):(S=c.getX()-o.getX()+h.getX(),k=c.getY()-o.getY()+h.getY(),O=w,H=w),Dt.quadrilateralToQuadrilateral(3.5,3.5,w,3.5,O,H,3.5,w,o.getX(),o.getY(),c.getX(),c.getY(),S,k,h.getX(),h.getY())}static sampleGrid(o,c,h){return er.getInstance().sampleGridWithTransform(o,h,h,c)}static computeDimension(o,c,h,p){const g=qe.round(et.distance(o,c)/p),w=qe.round(et.distance(o,h)/p);let S=Math.floor((g+w)/2)+7;switch(S&3){case 0:S++;break;case 2:S--;break;case 3:throw new le("Dimensions could be not found.")}return S}calculateModuleSize(o,c,h){return(this.calculateModuleSizeOneWay(o,c)+this.calculateModuleSizeOneWay(o,h))/2}calculateModuleSizeOneWay(o,c){const h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(c.getX()),Math.floor(c.getY())),p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(h)?p/7:isNaN(p)?h/7:(h+p)/14}sizeOfBlackWhiteBlackRunBothWays(o,c,h,p){let g=this.sizeOfBlackWhiteBlackRun(o,c,h,p),w=1,S=o-(h-o);S<0?(w=o/(o-S),S=0):S>=this.image.getWidth()&&(w=(this.image.getWidth()-1-o)/(S-o),S=this.image.getWidth()-1);let k=Math.floor(c-(p-c)*w);return w=1,k<0?(w=c/(c-k),k=0):k>=this.image.getHeight()&&(w=(this.image.getHeight()-1-c)/(k-c),k=this.image.getHeight()-1),S=Math.floor(o+(S-o)*w),g+=this.sizeOfBlackWhiteBlackRun(o,c,S,k),g-1}sizeOfBlackWhiteBlackRun(o,c,h,p){const g=Math.abs(p-c)>Math.abs(h-o);if(g){let we=o;o=c,c=we,we=h,h=p,p=we}const w=Math.abs(h-o),S=Math.abs(p-c);let k=-w/2;const O=o<h?1:-1,H=c<p?1:-1;let Y=0;const se=h+O;for(let we=o,Ie=c;we!==se;we+=O){const Oe=g?Ie:we,je=g?we:Ie;if(Y===1===this.image.get(Oe,je)){if(Y===2)return qe.distance(we,Ie,o,c);Y++}if(k+=S,k>0){if(Ie===p)break;Ie+=H,k-=w}}return Y===2?qe.distance(h+O,p,o,c):NaN}findAlignmentInRegion(o,c,h,p){const g=Math.floor(p*o),w=Math.max(0,c-g),S=Math.min(this.image.getWidth()-1,c+g);if(S-w<o*3)throw new le("Alignment top exceeds estimated module size.");const k=Math.max(0,h-g),O=Math.min(this.image.getHeight()-1,h+g);if(O-k<o*3)throw new le("Alignment bottom exceeds estimated module size.");return new pi(this.image,w,k,S-w,O-k,o,this.resultPointCallback).find()}}class za{constructor(){this.decoder=new uc}getDecoder(){return this.decoder}decode(o,c){let h,p;if(c!=null&&c.get(Q.PURE_BARCODE)!==void 0){const k=za.extractPureBits(o.getBlackMatrix());h=this.decoder.decodeBitMatrix(k,c),p=za.NO_POINTS}else{const k=new _l(o.getBlackMatrix()).detect(c);h=this.decoder.decodeBitMatrix(k.getBits(),c),p=k.getPoints()}h.getOther()instanceof bl&&h.getOther().applyMirroredCorrection(p);const g=new G(h.getText(),h.getRawBytes(),void 0,p,ie.QR_CODE,void 0),w=h.getByteSegments();w!==null&&g.putMetadata(be.BYTE_SEGMENTS,w);const S=h.getECLevel();return S!==null&&g.putMetadata(be.ERROR_CORRECTION_LEVEL,S),h.hasStructuredAppend()&&(g.putMetadata(be.STRUCTURED_APPEND_SEQUENCE,h.getStructuredAppendSequenceNumber()),g.putMetadata(be.STRUCTURED_APPEND_PARITY,h.getStructuredAppendParity())),g}reset(){}static extractPureBits(o){const c=o.getTopLeftOnBit(),h=o.getBottomRightOnBit();if(c===null||h===null)throw new le;const p=this.moduleSize(c,o);let g=c[1],w=h[1],S=c[0],k=h[0];if(S>=k||g>=w)throw new le;if(w-g!==k-S&&(k=S+(w-g),k>=o.getWidth()))throw new le;const O=Math.round((k-S+1)/p),H=Math.round((w-g+1)/p);if(O<=0||H<=0)throw new le;if(H!==O)throw new le;const Y=Math.floor(p/2);g+=Y,S+=Y;const se=S+Math.floor((O-1)*p)-k;if(se>0){if(se>Y)throw new le;S-=se}const we=g+Math.floor((H-1)*p)-w;if(we>0){if(we>Y)throw new le;g-=we}const Ie=new oe(O,H);for(let Oe=0;Oe<H;Oe++){const je=g+Math.floor(Oe*p);for(let tt=0;tt<O;tt++)o.get(S+Math.floor(tt*p),je)&&Ie.set(tt,Oe)}return Ie}static moduleSize(o,c){const h=c.getHeight(),p=c.getWidth();let g=o[0],w=o[1],S=!0,k=0;for(;g<p&&w<h;){if(S!==c.get(g,w)){if(++k===5)break;S=!S}g++,w++}if(g===p||w===h)throw new le;return(g-o[0])/7}}za.NO_POINTS=new Array;class Yt{PDF417Common(){}static getBitCountSum(o){return qe.sum(o)}static toIntArray(o){if(o==null||!o.length)return Yt.EMPTY_INT_ARRAY;const c=new Int32Array(o.length);let h=0;for(const p of o)c[h++]=p;return c}static getCodeword(o){const c=C.binarySearch(Yt.SYMBOL_TABLE,o&262143);return c<0?-1:(Yt.CODEWORD_TABLE[c]-1)%Yt.NUMBER_OF_CODEWORDS}}Yt.NUMBER_OF_CODEWORDS=929,Yt.MAX_CODEWORDS_IN_BARCODE=Yt.NUMBER_OF_CODEWORDS-1,Yt.MIN_ROWS_IN_BARCODE=3,Yt.MAX_ROWS_IN_BARCODE=90,Yt.MODULES_IN_CODEWORD=17,Yt.MODULES_IN_STOP_PATTERN=18,Yt.BARS_IN_MODULE=8,Yt.EMPTY_INT_ARRAY=new Int32Array([]),Yt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Yt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Kf{constructor(o,c){this.bits=o,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class vr{static detectMultiple(o,c,h){let p=o.getBlackMatrix(),g=vr.detect(h,p);return g.length||(p=p.clone(),p.rotate180(),g=vr.detect(h,p)),new Kf(p,g)}static detect(o,c){const h=new Array;let p=0,g=0,w=!1;for(;p<c.getHeight();){const S=vr.findVertices(c,p,g);if(S[0]==null&&S[3]==null){if(!w)break;w=!1,g=0;for(const k of h)k[1]!=null&&(p=Math.trunc(Math.max(p,k[1].getY()))),k[3]!=null&&(p=Math.max(p,Math.trunc(k[3].getY())));p+=vr.ROW_STEP;continue}if(w=!0,h.push(S),!o)break;S[2]!=null?(g=Math.trunc(S[2].getX()),p=Math.trunc(S[2].getY())):(g=Math.trunc(S[4].getX()),p=Math.trunc(S[4].getY()))}return h}static findVertices(o,c,h){const p=o.getHeight(),g=o.getWidth(),w=new Array(8);return vr.copyToResult(w,vr.findRowsWithPattern(o,p,g,c,h,vr.START_PATTERN),vr.INDEXES_START_PATTERN),w[4]!=null&&(h=Math.trunc(w[4].getX()),c=Math.trunc(w[4].getY())),vr.copyToResult(w,vr.findRowsWithPattern(o,p,g,c,h,vr.STOP_PATTERN),vr.INDEXES_STOP_PATTERN),w}static copyToResult(o,c,h){for(let p=0;p<h.length;p++)o[h[p]]=c[p]}static findRowsWithPattern(o,c,h,p,g,w){const S=new Array(4);let k=!1;const O=new Int32Array(w.length);for(;p<c;p+=vr.ROW_STEP){let Y=vr.findGuardPattern(o,g,p,h,!1,w,O);if(Y!=null){for(;p>0;){const se=vr.findGuardPattern(o,g,--p,h,!1,w,O);if(se!=null)Y=se;else{p++;break}}S[0]=new et(Y[0],p),S[1]=new et(Y[1],p),k=!0;break}}let H=p+1;if(k){let Y=0,se=Int32Array.from([Math.trunc(S[0].getX()),Math.trunc(S[1].getX())]);for(;H<c;H++){const we=vr.findGuardPattern(o,se[0],H,h,!1,w,O);if(we!=null&&Math.abs(se[0]-we[0])<vr.MAX_PATTERN_DRIFT&&Math.abs(se[1]-we[1])<vr.MAX_PATTERN_DRIFT)se=we,Y=0;else{if(Y>vr.SKIPPED_ROW_COUNT_MAX)break;Y++}}H-=Y+1,S[2]=new et(se[0],H),S[3]=new et(se[1],H)}return H-p<vr.BARCODE_MIN_HEIGHT&&C.fill(S,null),S}static findGuardPattern(o,c,h,p,g,w,S){C.fillWithin(S,0,S.length,0);let k=c,O=0;for(;o.get(k,h)&&k>0&&O++<vr.MAX_PIXEL_DRIFT;)k--;let H=k,Y=0,se=w.length;for(let we=g;H<p;H++)if(o.get(H,h)!==we)S[Y]++;else{if(Y===se-1){if(vr.patternMatchVariance(S,w,vr.MAX_INDIVIDUAL_VARIANCE)<vr.MAX_AVG_VARIANCE)return new Int32Array([k,H]);k+=S[0]+S[1],_.arraycopy(S,2,S,0,Y-1),S[Y-1]=0,S[Y]=0,Y--}else Y++;S[Y]=1,we=!we}return Y===se-1&&vr.patternMatchVariance(S,w,vr.MAX_INDIVIDUAL_VARIANCE)<vr.MAX_AVG_VARIANCE?new Int32Array([k,H-1]):null}static patternMatchVariance(o,c,h){let p=o.length,g=0,w=0;for(let O=0;O<p;O++)g+=o[O],w+=c[O];if(g<w)return 1/0;let S=g/w;h*=S;let k=0;for(let O=0;O<p;O++){let H=o[O],Y=c[O]*S,se=H>Y?H-Y:Y-H;if(se>h)return 1/0;k+=se}return k/g}}vr.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),vr.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),vr.MAX_AVG_VARIANCE=.42,vr.MAX_INDIVIDUAL_VARIANCE=.8,vr.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),vr.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),vr.MAX_PIXEL_DRIFT=3,vr.MAX_PATTERN_DRIFT=5,vr.SKIPPED_ROW_COUNT_MAX=25,vr.ROW_STEP=5,vr.BARCODE_MIN_HEIGHT=10;class Vn{constructor(o,c){if(c.length===0)throw new m;this.field=o;let h=c.length;if(h>1&&c[0]===0){let p=1;for(;p<h&&c[p]===0;)p++;p===h?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(h-p),_.arraycopy(c,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let p=0;for(let g of this.coefficients)p=this.field.add(p,g);return p}let c=this.coefficients[0],h=this.coefficients.length;for(let p=1;p<h;p++)c=this.field.add(this.field.multiply(o,c),this.coefficients[p]);return c}add(o){if(!this.field.equals(o.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let c=this.coefficients,h=o.coefficients;if(c.length>h.length){let w=c;c=h,h=w}let p=new Int32Array(h.length),g=h.length-c.length;_.arraycopy(h,0,p,0,g);for(let w=g;w<h.length;w++)p[w]=this.field.add(c[w-g],h[w]);return new Vn(this.field,p)}subtract(o){if(!this.field.equals(o.field))throw new m("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof Vn?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new Vn(this.field,new Int32Array([0]));let c=this.coefficients,h=c.length,p=o.coefficients,g=p.length,w=new Int32Array(h+g-1);for(let S=0;S<h;S++){let k=c[S];for(let O=0;O<g;O++)w[S+O]=this.field.add(w[S+O],this.field.multiply(k,p[O]))}return new Vn(this.field,w)}negative(){let o=this.coefficients.length,c=new Int32Array(o);for(let h=0;h<o;h++)c[h]=this.field.subtract(0,this.coefficients[h]);return new Vn(this.field,c)}multiplyScalar(o){if(o===0)return new Vn(this.field,new Int32Array([0]));if(o===1)return this;let c=this.coefficients.length,h=new Int32Array(c);for(let p=0;p<c;p++)h[p]=this.field.multiply(this.coefficients[p],o);return new Vn(this.field,h)}multiplyByMonomial(o,c){if(o<0)throw new m;if(c===0)return new Vn(this.field,new Int32Array([0]));let h=this.coefficients.length,p=new Int32Array(h+o);for(let g=0;g<h;g++)p[g]=this.field.multiply(this.coefficients[g],c);return new Vn(this.field,p)}toString(){let o=new re;for(let c=this.getDegree();c>=0;c--){let h=this.getCoefficient(c);h!==0&&(h<0?(o.append(" - "),h=-h):o.length()>0&&o.append(" + "),(c===0||h!==1)&&o.append(h),c!==0&&(c===1?o.append("x"):(o.append("x^"),o.append(c))))}return o.toString()}}class ju{add(o,c){return(o+c)%this.modulus}subtract(o,c){return(this.modulus+o-c)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new m;return this.logTable[o]}inverse(o){if(o===0)throw new Ge;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,c){return o===0||c===0?0:this.expTable[(this.logTable[o]+this.logTable[c])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class Bu extends ju{constructor(o,c){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let h=1;for(let p=0;p<o;p++)this.expTable[p]=h,h=h*c%o;for(let p=0;p<o-1;p++)this.logTable[this.expTable[p]]=p;this.zero=new Vn(this,new Int32Array([0])),this.one=new Vn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,c){if(o<0)throw new m;if(c===0)return this.zero;let h=new Int32Array(o+1);return h[0]=c,new Vn(this,h)}}Bu.PDF417_GF=new Bu(Yt.NUMBER_OF_CODEWORDS,3);class Qf{constructor(){this.field=Bu.PDF417_GF}decode(o,c,h){let p=new Vn(this.field,o),g=new Int32Array(c),w=!1;for(let Ie=c;Ie>0;Ie--){let Oe=p.evaluateAt(this.field.exp(Ie));g[c-Ie]=Oe,Oe!==0&&(w=!0)}if(!w)return 0;let S=this.field.getOne();if(h!=null)for(const Ie of h){let Oe=this.field.exp(o.length-1-Ie),je=new Vn(this.field,new Int32Array([this.field.subtract(0,Oe),1]));S=S.multiply(je)}let k=new Vn(this.field,g),O=this.runEuclideanAlgorithm(this.field.buildMonomial(c,1),k,c),H=O[0],Y=O[1],se=this.findErrorLocations(H),we=this.findErrorMagnitudes(Y,H,se);for(let Ie=0;Ie<se.length;Ie++){let Oe=o.length-1-this.field.log(se[Ie]);if(Oe<0)throw v.getChecksumInstance();o[Oe]=this.field.subtract(o[Oe],we[Ie])}return se.length}runEuclideanAlgorithm(o,c,h){if(o.getDegree()<c.getDegree()){let se=o;o=c,c=se}let p=o,g=c,w=this.field.getZero(),S=this.field.getOne();for(;g.getDegree()>=Math.round(h/2);){let se=p,we=w;if(p=g,w=S,p.isZero())throw v.getChecksumInstance();g=se;let Ie=this.field.getZero(),Oe=p.getCoefficient(p.getDegree()),je=this.field.inverse(Oe);for(;g.getDegree()>=p.getDegree()&&!g.isZero();){let tt=g.getDegree()-p.getDegree(),gt=this.field.multiply(g.getCoefficient(g.getDegree()),je);Ie=Ie.add(this.field.buildMonomial(tt,gt)),g=g.subtract(p.multiplyByMonomial(tt,gt))}S=Ie.multiply(w).subtract(we).negative()}let k=S.getCoefficient(0);if(k===0)throw v.getChecksumInstance();let O=this.field.inverse(k),H=S.multiply(O),Y=g.multiply(O);return[H,Y]}findErrorLocations(o){let c=o.getDegree(),h=new Int32Array(c),p=0;for(let g=1;g<this.field.getSize()&&p<c;g++)o.evaluateAt(g)===0&&(h[p]=this.field.inverse(g),p++);if(p!==c)throw v.getChecksumInstance();return h}findErrorMagnitudes(o,c,h){let p=c.getDegree(),g=new Int32Array(p);for(let O=1;O<=p;O++)g[p-O]=this.field.multiply(O,c.getCoefficient(O));let w=new Vn(this.field,g),S=h.length,k=new Int32Array(S);for(let O=0;O<S;O++){let H=this.field.inverse(h[O]),Y=this.field.subtract(0,o.evaluateAt(H)),se=this.field.inverse(w.evaluateAt(H));k[O]=this.field.multiply(Y,se)}return k}}class uo{constructor(o,c,h,p,g){o instanceof uo?this.constructor_2(o):this.constructor_1(o,c,h,p,g)}constructor_1(o,c,h,p,g){const w=c==null||h==null,S=p==null||g==null;if(w&&S)throw new le;w?(c=new et(0,p.getY()),h=new et(0,g.getY())):S&&(p=new et(o.getWidth()-1,c.getY()),g=new et(o.getWidth()-1,h.getY())),this.image=o,this.topLeft=c,this.bottomLeft=h,this.topRight=p,this.bottomRight=g,this.minX=Math.trunc(Math.min(c.getX(),h.getX())),this.maxX=Math.trunc(Math.max(p.getX(),g.getX())),this.minY=Math.trunc(Math.min(c.getY(),p.getY())),this.maxY=Math.trunc(Math.max(h.getY(),g.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,c){return o==null?c:c==null?o:new uo(o.image,o.topLeft,o.bottomLeft,c.topRight,c.bottomRight)}addMissingRows(o,c,h){let p=this.topLeft,g=this.bottomLeft,w=this.topRight,S=this.bottomRight;if(o>0){let k=h?this.topLeft:this.topRight,O=Math.trunc(k.getY()-o);O<0&&(O=0);let H=new et(k.getX(),O);h?p=H:w=H}if(c>0){let k=h?this.bottomLeft:this.bottomRight,O=Math.trunc(k.getY()+c);O>=this.image.getHeight()&&(O=this.image.getHeight()-1);let H=new et(k.getX(),O);h?g=H:S=H}return new uo(this.image,p,g,w,S)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Uu{constructor(o,c,h,p){this.columnCount=o,this.errorCorrectionLevel=p,this.rowCountUpperPart=c,this.rowCountLowerPart=h,this.rowCount=c+h}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class wa{constructor(){this.buffer=""}static form(o,c){let h=-1;function p(w,S,k,O,H,Y){if(w==="%%")return"%";if(c[++h]===void 0)return;w=O?parseInt(O.substr(1)):void 0;let se=H?parseInt(H.substr(1)):void 0,we;switch(Y){case"s":we=c[h];break;case"c":we=c[h][0];break;case"f":we=parseFloat(c[h]).toFixed(w);break;case"p":we=parseFloat(c[h]).toPrecision(w);break;case"e":we=parseFloat(c[h]).toExponential(w);break;case"x":we=parseInt(c[h]).toString(se||16);break;case"d":we=parseFloat(parseInt(c[h],se||10).toPrecision(w)).toFixed(0);break}we=typeof we=="object"?JSON.stringify(we):(+we).toString(se);let Ie=parseInt(k),Oe=k&&k[0]+""=="0"?"0":" ";for(;we.length<Ie;)we=S!==void 0?we+Oe:Oe+we;return we}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(g,p)}format(o,...c){this.buffer+=wa.form(o,c)}toString(){return this.buffer}}class Zs{constructor(o){this.boundingBox=new uo(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let c=this.getCodeword(o);if(c!=null)return c;for(let h=1;h<Zs.MAX_NEARBY_DISTANCE;h++){let p=this.imageRowToCodewordIndex(o)-h;if(p>=0&&(c=this.codewords[p],c!=null)||(p=this.imageRowToCodewordIndex(o)+h,p<this.codewords.length&&(c=this.codewords[p],c!=null)))return c}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,c){this.codewords[this.imageRowToCodewordIndex(o)]=c}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new wa;let c=0;for(const h of this.codewords){if(h==null){o.format("%3d:    |   %n",c++);continue}o.format("%3d: %3d|%3d%n",c++,h.getRowNumber(),h.getValue())}return o.toString()}}Zs.MAX_NEARBY_DISTANCE=5;class Sl{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let c=this.values.get(o);c==null&&(c=0),c++,this.values.set(o,c)}getValue(){let o=-1,c=new Array;for(const[h,p]of this.values.entries()){const g={getKey:()=>h,getValue:()=>p};g.getValue()>o?(o=g.getValue(),c=[],c.push(g.getKey())):g.getValue()===o&&c.push(g.getKey())}return Yt.toIntArray(c)}getConfidence(o){return this.values.get(o)}}class Ho extends Zs{constructor(o,c){super(o),this._isLeft=c}setRowNumbers(){for(let o of this.getCodewords())o!=null&&o.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let c=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(c,o);let h=this.getBoundingBox(),p=this._isLeft?h.getTopLeft():h.getTopRight(),g=this._isLeft?h.getBottomLeft():h.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(p.getY())),S=this.imageRowToCodewordIndex(Math.trunc(g.getY())),k=-1,O=1,H=0;for(let Y=w;Y<S;Y++){if(c[Y]==null)continue;let se=c[Y],we=se.getRowNumber()-k;if(we===0)H++;else if(we===1)O=Math.max(O,H),H=1,k=se.getRowNumber();else if(we<0||se.getRowNumber()>=o.getRowCount()||we>Y)c[Y]=null;else{let Ie;O>2?Ie=(O-2)*we:Ie=we;let Oe=Ie>=Y;for(let je=1;je<=Ie&&!Oe;je++)Oe=c[Y-je]!=null;Oe?c[Y]=null:(k=se.getRowNumber(),H=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let c=new Int32Array(o.getRowCount());for(let h of this.getCodewords())if(h!=null){let p=h.getRowNumber();if(p>=c.length)continue;c[p]++}return c}adjustIncompleteIndicatorColumnRowNumbers(o){let c=this.getBoundingBox(),h=this._isLeft?c.getTopLeft():c.getTopRight(),p=this._isLeft?c.getBottomLeft():c.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(h.getY())),w=this.imageRowToCodewordIndex(Math.trunc(p.getY())),S=this.getCodewords(),k=-1;for(let O=g;O<w;O++){if(S[O]==null)continue;let H=S[O];H.setRowNumberAsRowIndicatorColumn();let Y=H.getRowNumber()-k;Y===0||(Y===1?k=H.getRowNumber():H.getRowNumber()>=o.getRowCount()?S[O]=null:k=H.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),c=new Sl,h=new Sl,p=new Sl,g=new Sl;for(let S of o){if(S==null)continue;S.setRowNumberAsRowIndicatorColumn();let k=S.getValue()%30,O=S.getRowNumber();switch(this._isLeft||(O+=2),O%3){case 0:h.setValue(k*3+1);break;case 1:g.setValue(k/3),p.setValue(k%3);break;case 2:c.setValue(k+1);break}}if(c.getValue().length===0||h.getValue().length===0||p.getValue().length===0||g.getValue().length===0||c.getValue()[0]<1||h.getValue()[0]+p.getValue()[0]<Yt.MIN_ROWS_IN_BARCODE||h.getValue()[0]+p.getValue()[0]>Yt.MAX_ROWS_IN_BARCODE)return null;let w=new Uu(c.getValue()[0],h.getValue()[0],p.getValue()[0],g.getValue()[0]);return this.removeIncorrectCodewords(o,w),w}removeIncorrectCodewords(o,c){for(let h=0;h<o.length;h++){let p=o[h];if(o[h]==null)continue;let g=p.getValue()%30,w=p.getRowNumber();if(w>c.getRowCount()){o[h]=null;continue}switch(this._isLeft||(w+=2),w%3){case 0:g*3+1!==c.getRowCountUpperPart()&&(o[h]=null);break;case 1:(Math.trunc(g/3)!==c.getErrorCorrectionLevel()||g%3!==c.getRowCountLowerPart())&&(o[h]=null);break;case 2:g+1!==c.getColumnCount()&&(o[h]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class fo{constructor(o,c){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=c,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=Yt.MAX_CODEWORDS_IN_BARCODE,c;do c=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<c);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o!=null&&o.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let c=1;c<this.barcodeColumnCount+1;c++){let h=this.detectionResultColumns[c].getCodewords();for(let p=0;p<h.length;p++)h[p]!=null&&(h[p].hasValidRowNumber()||this.adjustRowNumbers(c,p,h))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<o.length;h++)if(o[h]!=null&&c[h]!=null&&o[h].getRowNumber()===c[h].getRowNumber())for(let p=1;p<=this.barcodeColumnCount;p++){let g=this.detectionResultColumns[p].getCodewords()[h];g!=null&&(g.setRowNumber(o[h].getRowNumber()),g.hasValidRowNumber()||(this.detectionResultColumns[p].getCodewords()[h]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<c.length;h++){if(c[h]==null)continue;let p=c[h].getRowNumber(),g=0;for(let w=this.barcodeColumnCount+1;w>0&&g<this.ADJUST_ROW_NUMBER_SKIP;w--){let S=this.detectionResultColumns[w].getCodewords()[h];S!=null&&(g=fo.adjustRowNumberIfValid(p,g,S),S.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,c=this.detectionResultColumns[0].getCodewords();for(let h=0;h<c.length;h++){if(c[h]==null)continue;let p=c[h].getRowNumber(),g=0;for(let w=1;w<this.barcodeColumnCount+1&&g<this.ADJUST_ROW_NUMBER_SKIP;w++){let S=this.detectionResultColumns[w].getCodewords()[h];S!=null&&(g=fo.adjustRowNumberIfValid(p,g,S),S.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,c,h){return h==null||h.hasValidRowNumber()||(h.isValidRowNumber(o)?(h.setRowNumber(o),c=0):++c),c}adjustRowNumbers(o,c,h){if(!this.detectionResultColumns[o-1])return;let p=h[c],g=this.detectionResultColumns[o-1].getCodewords(),w=g;this.detectionResultColumns[o+1]!=null&&(w=this.detectionResultColumns[o+1].getCodewords());let S=new Array(14);S[2]=g[c],S[3]=w[c],c>0&&(S[0]=h[c-1],S[4]=g[c-1],S[5]=w[c-1]),c>1&&(S[8]=h[c-2],S[10]=g[c-2],S[11]=w[c-2]),c<h.length-1&&(S[1]=h[c+1],S[6]=g[c+1],S[7]=w[c+1]),c<h.length-2&&(S[9]=h[c+2],S[12]=g[c+2],S[13]=w[c+2]);for(let k of S)if(fo.adjustRowNumber(p,k))return}static adjustRowNumber(o,c){return c==null?!1:c.hasValidRowNumber()&&c.getBucket()===o.getBucket()?(o.setRowNumber(c.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,c){this.detectionResultColumns[o]=c}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let c=new wa;for(let h=0;h<o.getCodewords().length;h++){c.format("CW %3d:",h);for(let p=0;p<this.barcodeColumnCount+2;p++){if(this.detectionResultColumns[p]==null){c.format("    |   ");continue}let g=this.detectionResultColumns[p].getCodewords()[h];if(g==null){c.format("    |   ");continue}c.format(" %3d|%3d",g.getRowNumber(),g.getValue())}c.format("%n")}return c.toString()}}class Ha{constructor(o,c,h,p){this.rowNumber=Ha.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(c),this.bucket=Math.trunc(h),this.value=Math.trunc(p)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==Ha.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}Ha.BARCODE_ROW_UNKNOWN=-1;class Di{static initialize(){for(let o=0;o<Yt.SYMBOL_TABLE.length;o++){let c=Yt.SYMBOL_TABLE[o],h=c&1;for(let p=0;p<Yt.BARS_IN_MODULE;p++){let g=0;for(;(c&1)===h;)g+=1,c>>=1;h=c&1,Di.RATIOS_TABLE[o]||(Di.RATIOS_TABLE[o]=new Array(Yt.BARS_IN_MODULE)),Di.RATIOS_TABLE[o][Yt.BARS_IN_MODULE-p-1]=Math.fround(g/Yt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let c=Di.getDecodedCodewordValue(Di.sampleBitCounts(o));return c!==-1?c:Di.getClosestDecodedValue(o)}static sampleBitCounts(o){let c=qe.sum(o),h=new Int32Array(Yt.BARS_IN_MODULE),p=0,g=0;for(let w=0;w<Yt.MODULES_IN_CODEWORD;w++){let S=c/(2*Yt.MODULES_IN_CODEWORD)+w*c/Yt.MODULES_IN_CODEWORD;g+o[p]<=S&&(g+=o[p],p++),h[p]++}return h}static getDecodedCodewordValue(o){let c=Di.getBitValue(o);return Yt.getCodeword(c)===-1?-1:c}static getBitValue(o){let c=0;for(let h=0;h<o.length;h++)for(let p=0;p<o[h];p++)c=c<<1|(h%2===0?1:0);return Math.trunc(c)}static getClosestDecodedValue(o){let c=qe.sum(o),h=new Array(Yt.BARS_IN_MODULE);if(c>1)for(let w=0;w<h.length;w++)h[w]=Math.fround(o[w]/c);let p=yt.MAX_VALUE,g=-1;this.bSymbolTableReady||Di.initialize();for(let w=0;w<Di.RATIOS_TABLE.length;w++){let S=0,k=Di.RATIOS_TABLE[w];for(let O=0;O<Yt.BARS_IN_MODULE;O++){let H=Math.fround(k[O]-h[O]);if(S+=Math.fround(H*H),S>=p)break}S<p&&(p=S,g=Yt.SYMBOL_TABLE[w])}return g}}Di.bSymbolTableReady=!1,Di.RATIOS_TABLE=new Array(Yt.SYMBOL_TABLE.length).map(K=>new Array(Yt.BARS_IN_MODULE));class Wu{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class zu{static parseLong(o,c=void 0){return parseInt(o,c)}}class Hu extends f{}Hu.kind="NullPointerException";class Va{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,c,h){if(o==null)throw new Hu;if(c<0||c>o.length||h<0||c+h>o.length||c+h<0)throw new N;if(h===0)return;for(let p=0;p<h;p++)this.write(o[c+p])}flush(){}close(){}}class ho extends f{}class Qd extends Va{constructor(o=32){if(super(),this.count=0,o<0)throw new m("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let h=this.buf.length<<1;if(h-o<0&&(h=o),h<0){if(o<0)throw new ho;h=I.MAX_VALUE}this.buf=C.copyOfUint8Array(this.buf,h)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,c,h){if(c<0||c>o.length||h<0||c+h-o.length>0)throw new N;this.ensureCapacity(this.count+h),_.arraycopy(o,c,this.buf,this.count,h),this.count+=h}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return C.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var jr;(function(K){K[K.ALPHA=0]="ALPHA",K[K.LOWER=1]="LOWER",K[K.MIXED=2]="MIXED",K[K.PUNCT=3]="PUNCT",K[K.ALPHA_SHIFT=4]="ALPHA_SHIFT",K[K.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(jr||(jr={}));function Js(){if(typeof window<"u")return window.BigInt||null;if(typeof Zi<"u")return Zi.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Vo;function _s(K){if(typeof Vo>"u"&&(Vo=Js()),Vo===null)throw new Error("BigInt is not supported!");return Vo(K)}function Zd(){let K=[];K[0]=_s(1);let o=_s(900);K[1]=o;for(let c=2;c<16;c++)K[c]=K[c-1]*o;return K}class Je{static decode(o,c){let h=new re(""),p=F.ISO8859_1;h.enableDecoding(p);let g=1,w=o[g++],S=new Wu;for(;g<o[0];){switch(w){case Je.TEXT_COMPACTION_MODE_LATCH:g=Je.textCompaction(o,g,h);break;case Je.BYTE_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH_6:g=Je.byteCompaction(w,o,p,g,h);break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[g++]);break;case Je.NUMERIC_COMPACTION_MODE_LATCH:g=Je.numericCompaction(o,g,h);break;case Je.ECI_CHARSET:F.getCharacterSetECIByValue(o[g++]);break;case Je.ECI_GENERAL_PURPOSE:g+=2;break;case Je.ECI_USER_DEFINED:g++;break;case Je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:g=Je.decodeMacroBlock(o,g,S);break;case Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Je.MACRO_PDF417_TERMINATOR:throw new B;default:g--,g=Je.textCompaction(o,g,h);break}if(g<o.length)w=o[g++];else throw B.getFormatInstance()}if(h.length()===0)throw B.getFormatInstance();let k=new Ce(null,h.toString(),null,c);return k.setOther(S),k}static decodeMacroBlock(o,c,h){if(c+Je.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw B.getFormatInstance();let p=new Int32Array(Je.NUMBER_OF_SEQUENCE_CODEWORDS);for(let S=0;S<Je.NUMBER_OF_SEQUENCE_CODEWORDS;S++,c++)p[S]=o[c];h.setSegmentIndex(I.parseInt(Je.decodeBase900toBase10(p,Je.NUMBER_OF_SEQUENCE_CODEWORDS)));let g=new re;c=Je.textCompaction(o,c,g),h.setFileId(g.toString());let w=-1;for(o[c]===Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(w=c+1);c<o[0];)switch(o[c]){case Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(c++,o[c]){case Je.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let S=new re;c=Je.textCompaction(o,c+1,S),h.setFileName(S.toString());break;case Je.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let k=new re;c=Je.textCompaction(o,c+1,k),h.setSender(k.toString());break;case Je.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let O=new re;c=Je.textCompaction(o,c+1,O),h.setAddressee(O.toString());break;case Je.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let H=new re;c=Je.numericCompaction(o,c+1,H),h.setSegmentCount(I.parseInt(H.toString()));break;case Je.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let Y=new re;c=Je.numericCompaction(o,c+1,Y),h.setTimestamp(zu.parseLong(Y.toString()));break;case Je.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let se=new re;c=Je.numericCompaction(o,c+1,se),h.setChecksum(I.parseInt(se.toString()));break;case Je.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let we=new re;c=Je.numericCompaction(o,c+1,we),h.setFileSize(zu.parseLong(we.toString()));break;default:throw B.getFormatInstance()}break;case Je.MACRO_PDF417_TERMINATOR:c++,h.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(w!==-1){let S=c-w;h.isLastSegment()&&S--,h.setOptionalData(C.copyOfRange(o,w,w+S))}return c}static textCompaction(o,c,h){let p=new Int32Array((o[0]-c)*2),g=new Int32Array((o[0]-c)*2),w=0,S=!1;for(;c<o[0]&&!S;){let k=o[c++];if(k<Je.TEXT_COMPACTION_MODE_LATCH)p[w]=k/30,p[w+1]=k%30,w+=2;else switch(k){case Je.TEXT_COMPACTION_MODE_LATCH:p[w++]=Je.TEXT_COMPACTION_MODE_LATCH;break;case Je.BYTE_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH_6:case Je.NUMERIC_COMPACTION_MODE_LATCH:case Je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Je.MACRO_PDF417_TERMINATOR:c--,S=!0;break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p[w]=Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,k=o[c++],g[w]=k,w++;break}}return Je.decodeTextCompaction(p,g,w,h),c}static decodeTextCompaction(o,c,h,p){let g=jr.ALPHA,w=jr.ALPHA,S=0;for(;S<h;){let k=o[S],O="";switch(g){case jr.ALPHA:if(k<26)O=String.fromCharCode(65+k);else switch(k){case 26:O=" ";break;case Je.LL:g=jr.LOWER;break;case Je.ML:g=jr.MIXED;break;case Je.PS:w=g,g=jr.PUNCT_SHIFT;break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[S]);break;case Je.TEXT_COMPACTION_MODE_LATCH:g=jr.ALPHA;break}break;case jr.LOWER:if(k<26)O=String.fromCharCode(97+k);else switch(k){case 26:O=" ";break;case Je.AS:w=g,g=jr.ALPHA_SHIFT;break;case Je.ML:g=jr.MIXED;break;case Je.PS:w=g,g=jr.PUNCT_SHIFT;break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[S]);break;case Je.TEXT_COMPACTION_MODE_LATCH:g=jr.ALPHA;break}break;case jr.MIXED:if(k<Je.PL)O=Je.MIXED_CHARS[k];else switch(k){case Je.PL:g=jr.PUNCT;break;case 26:O=" ";break;case Je.LL:g=jr.LOWER;break;case Je.AL:g=jr.ALPHA;break;case Je.PS:w=g,g=jr.PUNCT_SHIFT;break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[S]);break;case Je.TEXT_COMPACTION_MODE_LATCH:g=jr.ALPHA;break}break;case jr.PUNCT:if(k<Je.PAL)O=Je.PUNCT_CHARS[k];else switch(k){case Je.PAL:g=jr.ALPHA;break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[S]);break;case Je.TEXT_COMPACTION_MODE_LATCH:g=jr.ALPHA;break}break;case jr.ALPHA_SHIFT:if(g=w,k<26)O=String.fromCharCode(65+k);else switch(k){case 26:O=" ";break;case Je.TEXT_COMPACTION_MODE_LATCH:g=jr.ALPHA;break}break;case jr.PUNCT_SHIFT:if(g=w,k<Je.PAL)O=Je.PUNCT_CHARS[k];else switch(k){case Je.PAL:g=jr.ALPHA;break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[S]);break;case Je.TEXT_COMPACTION_MODE_LATCH:g=jr.ALPHA;break}break}O!==""&&p.append(O),S++}}static byteCompaction(o,c,h,p,g){let w=new Qd,S=0,k=0,O=!1;switch(o){case Je.BYTE_COMPACTION_MODE_LATCH:let H=new Int32Array(6),Y=c[p++];for(;p<c[0]&&!O;)switch(H[S++]=Y,k=900*k+Y,Y=c[p++],Y){case Je.TEXT_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH:case Je.NUMERIC_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH_6:case Je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Je.MACRO_PDF417_TERMINATOR:p--,O=!0;break;default:if(S%5===0&&S>0){for(let se=0;se<6;++se)w.write(Number(_s(k)>>_s(8*(5-se))));k=0,S=0}break}p===c[0]&&Y<Je.TEXT_COMPACTION_MODE_LATCH&&(H[S++]=Y);for(let se=0;se<S;se++)w.write(H[se]);break;case Je.BYTE_COMPACTION_MODE_LATCH_6:for(;p<c[0]&&!O;){let se=c[p++];if(se<Je.TEXT_COMPACTION_MODE_LATCH)S++,k=900*k+se;else switch(se){case Je.TEXT_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH:case Je.NUMERIC_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH_6:case Je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Je.MACRO_PDF417_TERMINATOR:p--,O=!0;break}if(S%5===0&&S>0){for(let we=0;we<6;++we)w.write(Number(_s(k)>>_s(8*(5-we))));k=0,S=0}}break}return g.append(W.decode(w.toByteArray(),h)),p}static numericCompaction(o,c,h){let p=0,g=!1,w=new Int32Array(Je.MAX_NUMERIC_CODEWORDS);for(;c<o[0]&&!g;){let S=o[c++];if(c===o[0]&&(g=!0),S<Je.TEXT_COMPACTION_MODE_LATCH)w[p]=S,p++;else switch(S){case Je.TEXT_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH_6:case Je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Je.MACRO_PDF417_TERMINATOR:c--,g=!0;break}(p%Je.MAX_NUMERIC_CODEWORDS===0||S===Je.NUMERIC_COMPACTION_MODE_LATCH||g)&&p>0&&(h.append(Je.decodeBase900toBase10(w,p)),p=0)}return c}static decodeBase900toBase10(o,c){let h=_s(0);for(let g=0;g<c;g++)h+=Je.EXP900[c-g-1]*_s(o[g]);let p=h.toString();if(p.charAt(0)!=="1")throw new B;return p.substring(1)}}Je.TEXT_COMPACTION_MODE_LATCH=900,Je.BYTE_COMPACTION_MODE_LATCH=901,Je.NUMERIC_COMPACTION_MODE_LATCH=902,Je.BYTE_COMPACTION_MODE_LATCH_6=924,Je.ECI_USER_DEFINED=925,Je.ECI_GENERAL_PURPOSE=926,Je.ECI_CHARSET=927,Je.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Je.MACRO_PDF417_TERMINATOR=922,Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Je.MAX_NUMERIC_CODEWORDS=15,Je.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Je.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Je.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Je.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Je.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Je.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Je.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Je.PL=25,Je.LL=27,Je.AS=27,Je.ML=28,Je.AL=28,Je.PS=29,Je.PAL=29,Je.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Je.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Je.EXP900=Js()?Zd():[],Je.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Er{constructor(){}static decode(o,c,h,p,g,w,S){let k=new uo(o,c,h,p,g),O=null,H=null,Y;for(let Ie=!0;;Ie=!1){if(c!=null&&(O=Er.getRowIndicatorColumn(o,k,c,!0,w,S)),p!=null&&(H=Er.getRowIndicatorColumn(o,k,p,!1,w,S)),Y=Er.merge(O,H),Y==null)throw le.getNotFoundInstance();let Oe=Y.getBoundingBox();if(Ie&&Oe!=null&&(Oe.getMinY()<k.getMinY()||Oe.getMaxY()>k.getMaxY()))k=Oe;else break}Y.setBoundingBox(k);let se=Y.getBarcodeColumnCount()+1;Y.setDetectionResultColumn(0,O),Y.setDetectionResultColumn(se,H);let we=O!=null;for(let Ie=1;Ie<=se;Ie++){let Oe=we?Ie:se-Ie;if(Y.getDetectionResultColumn(Oe)!==void 0)continue;let je;Oe===0||Oe===se?je=new Ho(k,Oe===0):je=new Zs(k),Y.setDetectionResultColumn(Oe,je);let tt=-1,gt=tt;for(let wt=k.getMinY();wt<=k.getMaxY();wt++){if(tt=Er.getStartColumn(Y,Oe,wt,we),tt<0||tt>k.getMaxX()){if(gt===-1)continue;tt=gt}let xt=Er.detectCodeword(o,k.getMinX(),k.getMaxX(),we,tt,wt,w,S);xt!=null&&(je.setCodeword(wt,xt),gt=tt,w=Math.min(w,xt.getWidth()),S=Math.max(S,xt.getWidth()))}}return Er.createDecoderResult(Y)}static merge(o,c){if(o==null&&c==null)return null;let h=Er.getBarcodeMetadata(o,c);if(h==null)return null;let p=uo.merge(Er.adjustBoundingBox(o),Er.adjustBoundingBox(c));return new fo(h,p)}static adjustBoundingBox(o){if(o==null)return null;let c=o.getRowHeights();if(c==null)return null;let h=Er.getMax(c),p=0;for(let S of c)if(p+=h-S,S>0)break;let g=o.getCodewords();for(let S=0;p>0&&g[S]==null;S++)p--;let w=0;for(let S=c.length-1;S>=0&&(w+=h-c[S],!(c[S]>0));S--);for(let S=g.length-1;w>0&&g[S]==null;S--)w--;return o.getBoundingBox().addMissingRows(p,w,o.isLeft())}static getMax(o){let c=-1;for(let h of o)c=Math.max(c,h);return c}static getBarcodeMetadata(o,c){let h;if(o==null||(h=o.getBarcodeMetadata())==null)return c==null?null:c.getBarcodeMetadata();let p;return c==null||(p=c.getBarcodeMetadata())==null?h:h.getColumnCount()!==p.getColumnCount()&&h.getErrorCorrectionLevel()!==p.getErrorCorrectionLevel()&&h.getRowCount()!==p.getRowCount()?null:h}static getRowIndicatorColumn(o,c,h,p,g,w){let S=new Ho(c,p);for(let k=0;k<2;k++){let O=k===0?1:-1,H=Math.trunc(Math.trunc(h.getX()));for(let Y=Math.trunc(Math.trunc(h.getY()));Y<=c.getMaxY()&&Y>=c.getMinY();Y+=O){let se=Er.detectCodeword(o,0,o.getWidth(),p,H,Y,g,w);se!=null&&(S.setCodeword(Y,se),p?H=se.getStartX():H=se.getEndX())}}return S}static adjustCodewordCount(o,c){let h=c[0][1],p=h.getValue(),g=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-Er.getNumberOfECCodeWords(o.getBarcodeECLevel());if(p.length===0){if(g<1||g>Yt.MAX_CODEWORDS_IN_BARCODE)throw le.getNotFoundInstance();h.setValue(g)}else p[0]!==g&&h.setValue(g)}static createDecoderResult(o){let c=Er.createBarcodeMatrix(o);Er.adjustCodewordCount(o,c);let h=new Array,p=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),g=[],w=new Array;for(let k=0;k<o.getBarcodeRowCount();k++)for(let O=0;O<o.getBarcodeColumnCount();O++){let H=c[k][O+1].getValue(),Y=k*o.getBarcodeColumnCount()+O;H.length===0?h.push(Y):H.length===1?p[Y]=H[0]:(w.push(Y),g.push(H))}let S=new Array(g.length);for(let k=0;k<S.length;k++)S[k]=g[k];return Er.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),p,Yt.toIntArray(h),Yt.toIntArray(w),S)}static createDecoderResultFromAmbiguousValues(o,c,h,p,g){let w=new Int32Array(p.length),S=100;for(;S-- >0;){for(let k=0;k<w.length;k++)c[p[k]]=g[k][w[k]];try{return Er.decodeCodewords(c,o,h)}catch(k){if(!(k instanceof v))throw k}if(w.length===0)throw v.getChecksumInstance();for(let k=0;k<w.length;k++)if(w[k]<g[k].length-1){w[k]++;break}else if(w[k]=0,k===w.length-1)throw v.getChecksumInstance()}throw v.getChecksumInstance()}static createBarcodeMatrix(o){let c=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let p=0;p<c.length;p++)for(let g=0;g<c[p].length;g++)c[p][g]=new Sl;let h=0;for(let p of o.getDetectionResultColumns()){if(p!=null){for(let g of p.getCodewords())if(g!=null){let w=g.getRowNumber();if(w>=0){if(w>=c.length)continue;c[w][h].setValue(g.getValue())}}}h++}return c}static isValidBarcodeColumn(o,c){return c>=0&&c<=o.getBarcodeColumnCount()+1}static getStartColumn(o,c,h,p){let g=p?1:-1,w=null;if(Er.isValidBarcodeColumn(o,c-g)&&(w=o.getDetectionResultColumn(c-g).getCodeword(h)),w!=null)return p?w.getEndX():w.getStartX();if(w=o.getDetectionResultColumn(c).getCodewordNearby(h),w!=null)return p?w.getStartX():w.getEndX();if(Er.isValidBarcodeColumn(o,c-g)&&(w=o.getDetectionResultColumn(c-g).getCodewordNearby(h)),w!=null)return p?w.getEndX():w.getStartX();let S=0;for(;Er.isValidBarcodeColumn(o,c-g);){c-=g;for(let k of o.getDetectionResultColumn(c).getCodewords())if(k!=null)return(p?k.getEndX():k.getStartX())+g*S*(k.getEndX()-k.getStartX());S++}return p?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,c,h,p,g,w,S,k){g=Er.adjustCodewordStartColumn(o,c,h,p,g,w);let O=Er.getModuleBitCount(o,c,h,p,g,w);if(O==null)return null;let H,Y=qe.sum(O);if(p)H=g+Y;else{for(let Ie=0;Ie<O.length/2;Ie++){let Oe=O[Ie];O[Ie]=O[O.length-1-Ie],O[O.length-1-Ie]=Oe}H=g,g=H-Y}if(!Er.checkCodewordSkew(Y,S,k))return null;let se=Di.getDecodedValue(O),we=Yt.getCodeword(se);return we===-1?null:new Ha(g,H,Er.getCodewordBucketNumber(se),we)}static getModuleBitCount(o,c,h,p,g,w){let S=g,k=new Int32Array(8),O=0,H=p?1:-1,Y=p;for(;(p?S<h:S>=c)&&O<k.length;)o.get(S,w)===Y?(k[O]++,S+=H):(O++,Y=!Y);return O===k.length||S===(p?h:c)&&O===k.length-1?k:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,c,h,p,g,w){let S=g,k=p?-1:1;for(let O=0;O<2;O++){for(;(p?S>=c:S<h)&&p===o.get(S,w);){if(Math.abs(g-S)>Er.CODEWORD_SKEW_SIZE)return g;S+=k}k=-k,p=!p}return S}static checkCodewordSkew(o,c,h){return c-Er.CODEWORD_SKEW_SIZE<=o&&o<=h+Er.CODEWORD_SKEW_SIZE}static decodeCodewords(o,c,h){if(o.length===0)throw B.getFormatInstance();let p=1<<c+1,g=Er.correctErrors(o,h,p);Er.verifyCodewordCount(o,p);let w=Je.decode(o,""+c);return w.setErrorsCorrected(g),w.setErasures(h.length),w}static correctErrors(o,c,h){if(c!=null&&c.length>h/2+Er.MAX_ERRORS||h<0||h>Er.MAX_EC_CODEWORDS)throw v.getChecksumInstance();return Er.errorCorrection.decode(o,h,c)}static verifyCodewordCount(o,c){if(o.length<4)throw B.getFormatInstance();let h=o[0];if(h>o.length)throw B.getFormatInstance();if(h===0)if(c<o.length)o[0]=o.length-c;else throw B.getFormatInstance()}static getBitCountForCodeword(o){let c=new Int32Array(8),h=0,p=c.length-1;for(;!((o&1)!==h&&(h=o&1,p--,p<0));)c[p]++,o>>=1;return c}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return Er.getCodewordBucketNumber(Er.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let c=new wa;for(let h=0;h<o.length;h++){c.format("Row %2d: ",h);for(let p=0;p<o[h].length;p++){let g=o[h][p];g.getValue().length===0?c.format("        ",null):c.format("%4d(%2d)",g.getValue()[0],g.getConfidence(g.getValue()[0]))}c.format("%n")}return c.toString()}}Er.CODEWORD_SKEW_SIZE=2,Er.MAX_ERRORS=3,Er.MAX_EC_CODEWORDS=512,Er.errorCorrection=new Qf;class Kn{decode(o,c=null){let h=Kn.decode(o,c,!1);if(h==null||h.length===0||h[0]==null)throw le.getNotFoundInstance();return h[0]}decodeMultiple(o,c=null){try{return Kn.decode(o,c,!0)}catch(h){throw h instanceof B||h instanceof v?le.getNotFoundInstance():h}}static decode(o,c,h){const p=new Array,g=vr.detectMultiple(o,c,h);for(const w of g.getPoints()){const S=Er.decode(g.getBits(),w[4],w[5],w[6],w[7],Kn.getMinCodewordWidth(w),Kn.getMaxCodewordWidth(w)),k=new G(S.getText(),S.getRawBytes(),void 0,w,ie.PDF_417);k.putMetadata(be.ERROR_CORRECTION_LEVEL,S.getECLevel());const O=S.getOther();O!=null&&k.putMetadata(be.PDF417_EXTRA_METADATA,O),p.push(k)}return p.map(w=>w)}static getMaxWidth(o,c){return o==null||c==null?0:Math.trunc(Math.abs(o.getX()-c.getX()))}static getMinWidth(o,c){return o==null||c==null?I.MAX_VALUE:Math.trunc(Math.abs(o.getX()-c.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(Kn.getMaxWidth(o[0],o[4]),Kn.getMaxWidth(o[6],o[2])*Yt.MODULES_IN_CODEWORD/Yt.MODULES_IN_STOP_PATTERN),Math.max(Kn.getMaxWidth(o[1],o[5]),Kn.getMaxWidth(o[7],o[3])*Yt.MODULES_IN_CODEWORD/Yt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(Kn.getMinWidth(o[0],o[4]),Kn.getMinWidth(o[6],o[2])*Yt.MODULES_IN_CODEWORD/Yt.MODULES_IN_STOP_PATTERN),Math.min(Kn.getMinWidth(o[1],o[5]),Kn.getMinWidth(o[7],o[3])*Yt.MODULES_IN_CODEWORD/Yt.MODULES_IN_STOP_PATTERN)))}reset(){}}class qo extends f{}qo.kind="ReaderException";class Vu{constructor(o,c){this.verbose=o===!0,c&&this.setHints(c)}decode(o,c){return c&&this.setHints(c),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const c=!n(o)&&o.get(Q.TRY_HARDER)===!0,h=n(o)?null:o.get(Q.POSSIBLE_FORMATS),p=new Array;if(!n(h)){const g=h.some(w=>w===ie.UPC_A||w===ie.UPC_E||w===ie.EAN_13||w===ie.EAN_8||w===ie.CODABAR||w===ie.CODE_39||w===ie.CODE_93||w===ie.CODE_128||w===ie.ITF||w===ie.RSS_14||w===ie.RSS_EXPANDED);g&&!c&&p.push(new qi(o,this.verbose)),h.includes(ie.QR_CODE)&&p.push(new za),h.includes(ie.DATA_MATRIX)&&p.push(new Ai),h.includes(ie.AZTEC)&&p.push(new Nt),h.includes(ie.PDF_417)&&p.push(new Kn),g&&c&&p.push(new qi(o,this.verbose))}p.length===0&&(c||p.push(new qi(o,this.verbose)),p.push(new za),p.push(new Ai),p.push(new Nt),p.push(new Kn),c&&p.push(new qi(o,this.verbose))),this.readers=p}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new qo("No readers where selected, nothing can be read.");for(const c of this.readers)try{return c.decode(o,this.hints)}catch(h){if(h instanceof qo)continue}throw new le("No MultiFormat Readers were able to detect the code.")}}class hc extends V{constructor(o=null,c=500){const h=new Vu;h.setHints(o),super(h,c)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class qu extends V{constructor(o=500){super(new Kn,o)}}class Gu extends V{constructor(o=500){super(new za,o)}}var dc;(function(K){K[K.ERROR_CORRECTION=0]="ERROR_CORRECTION",K[K.CHARACTER_SET=1]="CHARACTER_SET",K[K.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",K[K.MIN_SIZE=3]="MIN_SIZE",K[K.MAX_SIZE=4]="MAX_SIZE",K[K.MARGIN=5]="MARGIN",K[K.PDF417_COMPACT=6]="PDF417_COMPACT",K[K.PDF417_COMPACTION=7]="PDF417_COMPACTION",K[K.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",K[K.AZTEC_LAYERS=9]="AZTEC_LAYERS",K[K.QR_VERSION=10]="QR_VERSION"})(dc||(dc={}));var Qn=dc;class Go{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new Re(o,Int32Array.from([1])))}buildGenerator(o){const c=this.cachedGenerators;if(o>=c.length){let h=c[c.length-1];const p=this.field;for(let g=c.length;g<=o;g++){const w=h.multiply(new Re(p,Int32Array.from([1,p.exp(g-1+p.getGeneratorBase())])));c.push(w),h=w}}return c[o]}encode(o,c){if(c===0)throw new m("No error correction bytes");const h=o.length-c;if(h<=0)throw new m("No data bytes provided");const p=this.buildGenerator(c),g=new Int32Array(h);_.arraycopy(o,0,g,0,h);let w=new Re(this.field,g);w=w.multiplyByMonomial(c,1);const k=w.divide(p)[1].getCoefficients(),O=c-k.length;for(let H=0;H<O;H++)o[h+H]=0;_.arraycopy(k,0,o,h+O,k.length)}}class un{constructor(){}static applyMaskPenaltyRule1(o){return un.applyMaskPenaltyRule1Internal(o,!0)+un.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let c=0;const h=o.getArray(),p=o.getWidth(),g=o.getHeight();for(let w=0;w<g-1;w++){const S=h[w];for(let k=0;k<p-1;k++){const O=S[k];O===S[k+1]&&O===h[w+1][k]&&O===h[w+1][k+1]&&c++}}return un.N2*c}static applyMaskPenaltyRule3(o){let c=0;const h=o.getArray(),p=o.getWidth(),g=o.getHeight();for(let w=0;w<g;w++)for(let S=0;S<p;S++){const k=h[w];S+6<p&&k[S]===1&&k[S+1]===0&&k[S+2]===1&&k[S+3]===1&&k[S+4]===1&&k[S+5]===0&&k[S+6]===1&&(un.isWhiteHorizontal(k,S-4,S)||un.isWhiteHorizontal(k,S+7,S+11))&&c++,w+6<g&&h[w][S]===1&&h[w+1][S]===0&&h[w+2][S]===1&&h[w+3][S]===1&&h[w+4][S]===1&&h[w+5][S]===0&&h[w+6][S]===1&&(un.isWhiteVertical(h,S,w-4,w)||un.isWhiteVertical(h,S,w+7,w+11))&&c++}return c*un.N3}static isWhiteHorizontal(o,c,h){c=Math.max(c,0),h=Math.min(h,o.length);for(let p=c;p<h;p++)if(o[p]===1)return!1;return!0}static isWhiteVertical(o,c,h,p){h=Math.max(h,0),p=Math.min(p,o.length);for(let g=h;g<p;g++)if(o[g][c]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let c=0;const h=o.getArray(),p=o.getWidth(),g=o.getHeight();for(let k=0;k<g;k++){const O=h[k];for(let H=0;H<p;H++)O[H]===1&&c++}const w=o.getHeight()*o.getWidth();return Math.floor(Math.abs(c*2-w)*10/w)*un.N4}static getDataMaskBit(o,c,h){let p,g;switch(o){case 0:p=h+c&1;break;case 1:p=h&1;break;case 2:p=c%3;break;case 3:p=(h+c)%3;break;case 4:p=Math.floor(h/2)+Math.floor(c/3)&1;break;case 5:g=h*c,p=(g&1)+g%3;break;case 6:g=h*c,p=(g&1)+g%3&1;break;case 7:g=h*c,p=g%3+(h+c&1)&1;break;default:throw new m("Invalid mask pattern: "+o)}return p===0}static applyMaskPenaltyRule1Internal(o,c){let h=0;const p=c?o.getHeight():o.getWidth(),g=c?o.getWidth():o.getHeight(),w=o.getArray();for(let S=0;S<p;S++){let k=0,O=-1;for(let H=0;H<g;H++){const Y=c?w[S][H]:w[H][S];Y===O?k++:(k>=5&&(h+=un.N1+(k-5)),k=1,O=Y)}k>=5&&(h+=un.N1+(k-5))}return h}}un.N1=3,un.N2=3,un.N3=40,un.N4=10;class $o{constructor(o,c){this.width=o,this.height=c;const h=new Array(c);for(let p=0;p!==c;p++)h[p]=new Uint8Array(o);this.bytes=h}getHeight(){return this.height}getWidth(){return this.width}get(o,c){return this.bytes[c][o]}getArray(){return this.bytes}setNumber(o,c,h){this.bytes[c][o]=h}setBoolean(o,c,h){this.bytes[c][o]=h?1:0}clear(o){for(const c of this.bytes)C.fill(c,o)}equals(o){if(!(o instanceof $o))return!1;const c=o;if(this.width!==c.width||this.height!==c.height)return!1;for(let h=0,p=this.height;h<p;++h){const g=this.bytes[h],w=c.bytes[h];for(let S=0,k=this.width;S<k;++S)if(g[S]!==w[S])return!1}return!0}toString(){const o=new re;for(let c=0,h=this.height;c<h;++c){const p=this.bytes[c];for(let g=0,w=this.width;g<w;++g)switch(p[g]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class Ss{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new re;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<Ss.NUM_MASK_PATTERNS}}Ss.NUM_MASK_PATTERNS=8;class Kr extends f{}Kr.kind="WriterException";class P{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,c,h,p,g){P.clearMatrix(g),P.embedBasicPatterns(h,g),P.embedTypeInfo(c,p,g),P.maybeEmbedVersionInfo(h,g),P.embedDataBits(o,p,g)}static embedBasicPatterns(o,c){P.embedPositionDetectionPatternsAndSeparators(c),P.embedDarkDotAtLeftBottomCorner(c),P.maybeEmbedPositionAdjustmentPatterns(o,c),P.embedTimingPatterns(c)}static embedTypeInfo(o,c,h){const p=new L;P.makeTypeInfoBits(o,c,p);for(let g=0,w=p.getSize();g<w;++g){const S=p.get(p.getSize()-1-g),k=P.TYPE_INFO_COORDINATES[g],O=k[0],H=k[1];if(h.setBoolean(O,H,S),g<8){const Y=h.getWidth()-g-1;h.setBoolean(Y,8,S)}else{const se=h.getHeight()-7+(g-8);h.setBoolean(8,se,S)}}}static maybeEmbedVersionInfo(o,c){if(o.getVersionNumber()<7)return;const h=new L;P.makeVersionInfoBits(o,h);let p=6*3-1;for(let g=0;g<6;++g)for(let w=0;w<3;++w){const S=h.get(p);p--,c.setBoolean(g,c.getHeight()-11+w,S),c.setBoolean(c.getHeight()-11+w,g,S)}}static embedDataBits(o,c,h){let p=0,g=-1,w=h.getWidth()-1,S=h.getHeight()-1;for(;w>0;){for(w===6&&(w-=1);S>=0&&S<h.getHeight();){for(let k=0;k<2;++k){const O=w-k;if(!P.isEmpty(h.get(O,S)))continue;let H;p<o.getSize()?(H=o.get(p),++p):H=!1,c!==255&&un.getDataMaskBit(c,O,S)&&(H=!H),h.setBoolean(O,S,H)}S+=g}g=-g,S+=g,w-=2}if(p!==o.getSize())throw new Kr("Not all bits consumed: "+p+"/"+o.getSize())}static findMSBSet(o){return 32-I.numberOfLeadingZeros(o)}static calculateBCHCode(o,c){if(c===0)throw new m("0 polynomial");const h=P.findMSBSet(c);for(o<<=h-1;P.findMSBSet(o)>=h;)o^=c<<P.findMSBSet(o)-h;return o}static makeTypeInfoBits(o,c,h){if(!Ss.isValidMaskPattern(c))throw new Kr("Invalid mask pattern");const p=o.getBits()<<3|c;h.appendBits(p,5);const g=P.calculateBCHCode(p,P.TYPE_INFO_POLY);h.appendBits(g,10);const w=new L;if(w.appendBits(P.TYPE_INFO_MASK_PATTERN,15),h.xor(w),h.getSize()!==15)throw new Kr("should not happen but we got: "+h.getSize())}static makeVersionInfoBits(o,c){c.appendBits(o.getVersionNumber(),6);const h=P.calculateBCHCode(o.getVersionNumber(),P.VERSION_INFO_POLY);if(c.appendBits(h,12),c.getSize()!==18)throw new Kr("should not happen but we got: "+c.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let c=8;c<o.getWidth()-8;++c){const h=(c+1)%2;P.isEmpty(o.get(c,6))&&o.setNumber(c,6,h),P.isEmpty(o.get(6,c))&&o.setNumber(6,c,h)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new Kr;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,c,h){for(let p=0;p<8;++p){if(!P.isEmpty(h.get(o+p,c)))throw new Kr;h.setNumber(o+p,c,0)}}static embedVerticalSeparationPattern(o,c,h){for(let p=0;p<7;++p){if(!P.isEmpty(h.get(o,c+p)))throw new Kr;h.setNumber(o,c+p,0)}}static embedPositionAdjustmentPattern(o,c,h){for(let p=0;p<5;++p){const g=P.POSITION_ADJUSTMENT_PATTERN[p];for(let w=0;w<5;++w)h.setNumber(o+w,c+p,g[w])}}static embedPositionDetectionPattern(o,c,h){for(let p=0;p<7;++p){const g=P.POSITION_DETECTION_PATTERN[p];for(let w=0;w<7;++w)h.setNumber(o+w,c+p,g[w])}}static embedPositionDetectionPatternsAndSeparators(o){const c=P.POSITION_DETECTION_PATTERN[0].length;P.embedPositionDetectionPattern(0,0,o),P.embedPositionDetectionPattern(o.getWidth()-c,0,o),P.embedPositionDetectionPattern(0,o.getWidth()-c,o);const h=8;P.embedHorizontalSeparationPattern(0,h-1,o),P.embedHorizontalSeparationPattern(o.getWidth()-h,h-1,o),P.embedHorizontalSeparationPattern(0,o.getWidth()-h,o);const p=7;P.embedVerticalSeparationPattern(p,0,o),P.embedVerticalSeparationPattern(o.getHeight()-p-1,0,o),P.embedVerticalSeparationPattern(p,o.getHeight()-p,o)}static maybeEmbedPositionAdjustmentPatterns(o,c){if(o.getVersionNumber()<2)return;const h=o.getVersionNumber()-1,p=P.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[h];for(let g=0,w=p.length;g!==w;g++){const S=p[g];if(S>=0)for(let k=0;k!==w;k++){const O=p[k];O>=0&&P.isEmpty(c.get(O,S))&&P.embedPositionAdjustmentPattern(O-2,S-2,c)}}}}P.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),P.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),P.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),P.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),P.VERSION_INFO_POLY=7973,P.TYPE_INFO_POLY=1335,P.TYPE_INFO_MASK_PATTERN=21522;class ee{constructor(o,c){this.dataBytes=o,this.errorCorrectionBytes=c}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ve{constructor(){}static calculateMaskPenalty(o){return un.applyMaskPenaltyRule1(o)+un.applyMaskPenaltyRule2(o)+un.applyMaskPenaltyRule3(o)+un.applyMaskPenaltyRule4(o)}static encode(o,c,h=null){let p=ve.DEFAULT_BYTE_MODE_ENCODING;const g=h!==null&&h.get(Qn.CHARACTER_SET)!==void 0;g&&(p=h.get(Qn.CHARACTER_SET).toString());const w=this.chooseMode(o,p),S=new L;if(w===Qt.BYTE&&(g||ve.DEFAULT_BYTE_MODE_ENCODING!==p)){const wt=F.getCharacterSetECIByName(p);wt!==void 0&&this.appendECI(wt,S)}this.appendModeInfo(w,S);const k=new L;this.appendBytes(o,w,k,p);let O;if(h!==null&&h.get(Qn.QR_VERSION)!==void 0){const wt=Number.parseInt(h.get(Qn.QR_VERSION).toString(),10);O=Xt.getVersionForNumber(wt);const xt=this.calculateBitsNeeded(w,S,k,O);if(!this.willFit(xt,O,c))throw new Kr("Data too big for requested version")}else O=this.recommendVersion(c,w,S,k);const H=new L;H.appendBitArray(S);const Y=w===Qt.BYTE?k.getSizeInBytes():o.length;this.appendLengthInfo(Y,O,w,H),H.appendBitArray(k);const se=O.getECBlocksForLevel(c),we=O.getTotalCodewords()-se.getTotalECCodewords();this.terminateBits(we,H);const Ie=this.interleaveWithECBytes(H,O.getTotalCodewords(),we,se.getNumBlocks()),Oe=new Ss;Oe.setECLevel(c),Oe.setMode(w),Oe.setVersion(O);const je=O.getDimensionForVersion(),tt=new $o(je,je),gt=this.chooseMaskPattern(Ie,c,O,tt);return Oe.setMaskPattern(gt),P.buildMatrix(Ie,c,O,gt,tt),Oe.setMatrix(tt),Oe}static recommendVersion(o,c,h,p){const g=this.calculateBitsNeeded(c,h,p,Xt.getVersionForNumber(1)),w=this.chooseVersion(g,o),S=this.calculateBitsNeeded(c,h,p,w);return this.chooseVersion(S,o)}static calculateBitsNeeded(o,c,h,p){return c.getSize()+o.getCharacterCountBits(p)+h.getSize()}static getAlphanumericCode(o){return o<ve.ALPHANUMERIC_TABLE.length?ve.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,c=null){if(F.SJIS.getName()===c&&this.isOnlyDoubleByteKanji(o))return Qt.KANJI;let h=!1,p=!1;for(let g=0,w=o.length;g<w;++g){const S=o.charAt(g);if(ve.isDigit(S))h=!0;else if(this.getAlphanumericCode(S.charCodeAt(0))!==-1)p=!0;else return Qt.BYTE}return p?Qt.ALPHANUMERIC:h?Qt.NUMERIC:Qt.BYTE}static isOnlyDoubleByteKanji(o){let c;try{c=W.encode(o,F.SJIS)}catch{return!1}const h=c.length;if(h%2!==0)return!1;for(let p=0;p<h;p+=2){const g=c[p]&255;if((g<129||g>159)&&(g<224||g>235))return!1}return!0}static chooseMaskPattern(o,c,h,p){let g=Number.MAX_SAFE_INTEGER,w=-1;for(let S=0;S<Ss.NUM_MASK_PATTERNS;S++){P.buildMatrix(o,c,h,S,p);let k=this.calculateMaskPenalty(p);k<g&&(g=k,w=S)}return w}static chooseVersion(o,c){for(let h=1;h<=40;h++){const p=Xt.getVersionForNumber(h);if(ve.willFit(o,p,c))return p}throw new Kr("Data too big")}static willFit(o,c,h){const p=c.getTotalCodewords(),w=c.getECBlocksForLevel(h).getTotalECCodewords(),S=p-w,k=(o+7)/8;return S>=k}static terminateBits(o,c){const h=o*8;if(c.getSize()>h)throw new Kr("data bits cannot fit in the QR Code"+c.getSize()+" > "+h);for(let w=0;w<4&&c.getSize()<h;++w)c.appendBit(!1);const p=c.getSize()&7;if(p>0)for(let w=p;w<8;w++)c.appendBit(!1);const g=o-c.getSizeInBytes();for(let w=0;w<g;++w)c.appendBits(w&1?17:236,8);if(c.getSize()!==h)throw new Kr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,c,h,p,g,w){if(p>=h)throw new Kr("Block ID too large");const S=o%h,k=h-S,O=Math.floor(o/h),H=O+1,Y=Math.floor(c/h),se=Y+1,we=O-Y,Ie=H-se;if(we!==Ie)throw new Kr("EC bytes mismatch");if(h!==k+S)throw new Kr("RS blocks mismatch");if(o!==(Y+we)*k+(se+Ie)*S)throw new Kr("Total bytes mismatch");p<k?(g[0]=Y,w[0]=we):(g[0]=se,w[0]=Ie)}static interleaveWithECBytes(o,c,h,p){if(o.getSizeInBytes()!==h)throw new Kr("Number of bits and data bytes does not match");let g=0,w=0,S=0;const k=new Array;for(let H=0;H<p;++H){const Y=new Int32Array(1),se=new Int32Array(1);ve.getNumDataBytesAndNumECBytesForBlockID(c,h,p,H,Y,se);const we=Y[0],Ie=new Uint8Array(we);o.toBytes(8*g,Ie,0,we);const Oe=ve.generateECBytes(Ie,se[0]);k.push(new ee(Ie,Oe)),w=Math.max(w,we),S=Math.max(S,Oe.length),g+=Y[0]}if(h!==g)throw new Kr("Data bytes does not match offset");const O=new L;for(let H=0;H<w;++H)for(const Y of k){const se=Y.getDataBytes();H<se.length&&O.appendBits(se[H],8)}for(let H=0;H<S;++H)for(const Y of k){const se=Y.getErrorCorrectionBytes();H<se.length&&O.appendBits(se[H],8)}if(c!==O.getSizeInBytes())throw new Kr("Interleaving error: "+c+" and "+O.getSizeInBytes()+" differ.");return O}static generateECBytes(o,c){const h=o.length,p=new Int32Array(h+c);for(let w=0;w<h;w++)p[w]=o[w]&255;new Go(Qe.QR_CODE_FIELD_256).encode(p,c);const g=new Uint8Array(c);for(let w=0;w<c;w++)g[w]=p[h+w];return g}static appendModeInfo(o,c){c.appendBits(o.getBits(),4)}static appendLengthInfo(o,c,h,p){const g=h.getCharacterCountBits(c);if(o>=1<<g)throw new Kr(o+" is bigger than "+((1<<g)-1));p.appendBits(o,g)}static appendBytes(o,c,h,p){switch(c){case Qt.NUMERIC:ve.appendNumericBytes(o,h);break;case Qt.ALPHANUMERIC:ve.appendAlphanumericBytes(o,h);break;case Qt.BYTE:ve.append8BitBytes(o,h,p);break;case Qt.KANJI:ve.appendKanjiBytes(o,h);break;default:throw new Kr("Invalid mode: "+c)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const c=ve.getDigit(o);return c>=0&&c<=9}static appendNumericBytes(o,c){const h=o.length;let p=0;for(;p<h;){const g=ve.getDigit(o.charAt(p));if(p+2<h){const w=ve.getDigit(o.charAt(p+1)),S=ve.getDigit(o.charAt(p+2));c.appendBits(g*100+w*10+S,10),p+=3}else if(p+1<h){const w=ve.getDigit(o.charAt(p+1));c.appendBits(g*10+w,7),p+=2}else c.appendBits(g,4),p++}}static appendAlphanumericBytes(o,c){const h=o.length;let p=0;for(;p<h;){const g=ve.getAlphanumericCode(o.charCodeAt(p));if(g===-1)throw new Kr;if(p+1<h){const w=ve.getAlphanumericCode(o.charCodeAt(p+1));if(w===-1)throw new Kr;c.appendBits(g*45+w,11),p+=2}else c.appendBits(g,6),p++}}static append8BitBytes(o,c,h){let p;try{p=W.encode(o,h)}catch(g){throw new Kr(g)}for(let g=0,w=p.length;g!==w;g++){const S=p[g];c.appendBits(S,8)}}static appendKanjiBytes(o,c){let h;try{h=W.encode(o,F.SJIS)}catch(g){throw new Kr(g)}const p=h.length;for(let g=0;g<p;g+=2){const w=h[g]&255,S=h[g+1]&255,k=w<<8&4294967295|S;let O=-1;if(k>=33088&&k<=40956?O=k-33088:k>=57408&&k<=60351&&(O=k-49472),O===-1)throw new Kr("Invalid byte sequence");const H=(O>>8)*192+(O&255);c.appendBits(H,13)}}static appendECI(o,c){c.appendBits(Qt.ECI.getBits(),4),c.appendBits(o.getValue(),8)}}ve.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ve.DEFAULT_BYTE_MODE_ENCODING=F.UTF8.getName();class ke{write(o,c,h,p=null){if(o.length===0)throw new m("Found empty contents");if(c<0||h<0)throw new m("Requested dimensions are too small: "+c+"x"+h);let g=en.L,w=ke.QUIET_ZONE_SIZE;p!==null&&(p.get(Qn.ERROR_CORRECTION)!==void 0&&(g=en.fromString(p.get(Qn.ERROR_CORRECTION).toString())),p.get(Qn.MARGIN)!==void 0&&(w=Number.parseInt(p.get(Qn.MARGIN).toString(),10)));const S=ve.encode(o,g,p);return this.renderResult(S,c,h,w)}writeToDom(o,c,h,p,g=null){typeof o=="string"&&(o=document.querySelector(o));const w=this.write(c,h,p,g);o&&o.appendChild(w)}renderResult(o,c,h,p){const g=o.getMatrix();if(g===null)throw new Ue;const w=g.getWidth(),S=g.getHeight(),k=w+p*2,O=S+p*2,H=Math.max(c,k),Y=Math.max(h,O),se=Math.min(Math.floor(H/k),Math.floor(Y/O)),we=Math.floor((H-w*se)/2),Ie=Math.floor((Y-S*se)/2),Oe=this.createSVGElement(H,Y);for(let je=0,tt=Ie;je<S;je++,tt+=se)for(let gt=0,wt=we;gt<w;gt++,wt+=se)if(g.get(gt,je)===1){const xt=this.createSvgRectElement(wt,tt,se,se);Oe.appendChild(xt)}return Oe}createSVGElement(o,c){const h=document.createElementNS(ke.SVG_NS,"svg");return h.setAttributeNS(null,"height",o.toString()),h.setAttributeNS(null,"width",c.toString()),h}createSvgRectElement(o,c,h,p){const g=document.createElementNS(ke.SVG_NS,"rect");return g.setAttributeNS(null,"x",o.toString()),g.setAttributeNS(null,"y",c.toString()),g.setAttributeNS(null,"height",h.toString()),g.setAttributeNS(null,"width",p.toString()),g.setAttributeNS(null,"fill","#000000"),g}}ke.QUIET_ZONE_SIZE=4,ke.SVG_NS="http://www.w3.org/2000/svg";class We{encode(o,c,h,p,g){if(o.length===0)throw new m("Found empty contents");if(c!==ie.QR_CODE)throw new m("Can only encode QR_CODE, but got "+c);if(h<0||p<0)throw new m(`Requested dimensions are too small: ${h}x${p}`);let w=en.L,S=We.QUIET_ZONE_SIZE;g!==null&&(g.get(Qn.ERROR_CORRECTION)!==void 0&&(w=en.fromString(g.get(Qn.ERROR_CORRECTION).toString())),g.get(Qn.MARGIN)!==void 0&&(S=Number.parseInt(g.get(Qn.MARGIN).toString(),10)));const k=ve.encode(o,w,g);return We.renderResult(k,h,p,S)}static renderResult(o,c,h,p){const g=o.getMatrix();if(g===null)throw new Ue;const w=g.getWidth(),S=g.getHeight(),k=w+p*2,O=S+p*2,H=Math.max(c,k),Y=Math.max(h,O),se=Math.min(Math.floor(H/k),Math.floor(Y/O)),we=Math.floor((H-w*se)/2),Ie=Math.floor((Y-S*se)/2),Oe=new oe(H,Y);for(let je=0,tt=Ie;je<S;je++,tt+=se)for(let gt=0,wt=we;gt<w;gt++,wt+=se)g.get(gt,je)===1&&Oe.setRegion(wt,tt,se,se);return Oe}}We.QUIET_ZONE_SIZE=4;class ot{encode(o,c,h,p,g){let w;switch(c){case ie.QR_CODE:w=new We;break;default:throw new m("No encoder available for format "+c)}return w.encode(o,c,h,p,g)}}class dt extends de{constructor(o,c,h,p,g,w,S,k){if(super(w,S),this.yuvData=o,this.dataWidth=c,this.dataHeight=h,this.left=p,this.top=g,p+w>c||g+S>h)throw new m("Crop rectangle does not fit within image data.");k&&this.reverseHorizontal(w,S)}getRow(o,c){if(o<0||o>=this.getHeight())throw new m("Requested row is outside the image: "+o);const h=this.getWidth();(c==null||c.length<h)&&(c=new Uint8ClampedArray(h));const p=(o+this.top)*this.dataWidth+this.left;return _.arraycopy(this.yuvData,p,c,0,h),c}getMatrix(){const o=this.getWidth(),c=this.getHeight();if(o===this.dataWidth&&c===this.dataHeight)return this.yuvData;const h=o*c,p=new Uint8ClampedArray(h);let g=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return _.arraycopy(this.yuvData,g,p,0,h),p;for(let w=0;w<c;w++){const S=w*o;_.arraycopy(this.yuvData,g,p,S,o),g+=this.dataWidth}return p}isCropSupported(){return!0}crop(o,c,h,p){return new dt(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+c,h,p,!1)}renderThumbnail(){const o=this.getWidth()/dt.THUMBNAIL_SCALE_FACTOR,c=this.getHeight()/dt.THUMBNAIL_SCALE_FACTOR,h=new Int32Array(o*c),p=this.yuvData;let g=this.top*this.dataWidth+this.left;for(let w=0;w<c;w++){const S=w*o;for(let k=0;k<o;k++){const O=p[g+k*dt.THUMBNAIL_SCALE_FACTOR]&255;h[S+k]=4278190080|O*65793}g+=this.dataWidth*dt.THUMBNAIL_SCALE_FACTOR}return h}getThumbnailWidth(){return this.getWidth()/dt.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/dt.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,c){const h=this.yuvData;for(let p=0,g=this.top*this.dataWidth+this.left;p<c;p++,g+=this.dataWidth){const w=g+o/2;for(let S=g,k=g+o-1;S<w;S++,k--){const O=h[S];h[S]=h[k],h[k]=O}}}invert(){return new _e(this)}}dt.THUMBNAIL_SCALE_FACTOR=2;class Lt extends de{constructor(o,c,h,p,g,w,S){if(super(c,h),this.dataWidth=p,this.dataHeight=g,this.left=w,this.top=S,o.BYTES_PER_ELEMENT===4){const k=c*h,O=new Uint8ClampedArray(k);for(let H=0;H<k;H++){const Y=o[H],se=Y>>16&255,we=Y>>7&510,Ie=Y&255;O[H]=(se+we+Ie)/4&255}this.luminances=O}else this.luminances=o;if(p===void 0&&(this.dataWidth=c),g===void 0&&(this.dataHeight=h),w===void 0&&(this.left=0),S===void 0&&(this.top=0),this.left+c>this.dataWidth||this.top+h>this.dataHeight)throw new m("Crop rectangle does not fit within image data.")}getRow(o,c){if(o<0||o>=this.getHeight())throw new m("Requested row is outside the image: "+o);const h=this.getWidth();(c==null||c.length<h)&&(c=new Uint8ClampedArray(h));const p=(o+this.top)*this.dataWidth+this.left;return _.arraycopy(this.luminances,p,c,0,h),c}getMatrix(){const o=this.getWidth(),c=this.getHeight();if(o===this.dataWidth&&c===this.dataHeight)return this.luminances;const h=o*c,p=new Uint8ClampedArray(h);let g=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return _.arraycopy(this.luminances,g,p,0,h),p;for(let w=0;w<c;w++){const S=w*o;_.arraycopy(this.luminances,g,p,S,o),g+=this.dataWidth}return p}isCropSupported(){return!0}crop(o,c,h,p){return new Lt(this.luminances,h,p,this.dataWidth,this.dataHeight,this.left+o,this.top+c)}invert(){return new _e(this)}}class Kt extends F{static forName(o){return this.getCharacterSetECIByName(o)}}class hr{}hr.ISO_8859_1=F.ISO8859_1;class dr{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class Br{static singletonList(o){return[o]}static min(o,c){return o.sort(c)[0]}}class Fn{constructor(o){this.previous=o}getPrevious(){return this.previous}}class hn extends Fn{constructor(o,c,h){super(o),this.value=c,this.bitCount=h}appendTo(o,c){o.appendBits(this.value,this.bitCount)}add(o,c){return new hn(this,o,c)}addBinaryShift(o,c){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new hn(this,o,c)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+I.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class qn extends hn{constructor(o,c,h){super(o,0,0),this.binaryShiftStart=c,this.binaryShiftByteCount=h}appendTo(o,c){for(let h=0;h<this.binaryShiftByteCount;h++)(h===0||h===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):h===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(c[this.binaryShiftStart+h],8)}addBinaryShift(o,c){return new qn(this,o,c)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Gi(K,o,c){return new qn(K,o,c)}function Gn(K,o,c){return new hn(K,o,c)}const ya=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ii=0,js=1,as=2,pc=3,Es=4,gc=new hn(null,0,0),El=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function $u(K){for(let o of K)C.fill(o,-1);return K[ii][Es]=0,K[js][Es]=0,K[js][ii]=28,K[pc][Es]=0,K[as][Es]=0,K[as][ii]=15,K}const Al=$u(C.createInt32Array(6,6));class Sn{constructor(o,c,h,p){this.token=o,this.mode=c,this.binaryShiftByteCount=h,this.bitCount=p}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,c){let h=this.bitCount,p=this.token;if(o!==this.mode){let w=El[this.mode][o];p=Gn(p,w&65535,w>>16),h+=w>>16}let g=o===as?4:5;return p=Gn(p,c,g),new Sn(p,o,0,h+g)}shiftAndAppend(o,c){let h=this.token,p=this.mode===as?4:5;return h=Gn(h,Al[this.mode][o],p),h=Gn(h,c,5),new Sn(h,this.mode,0,this.bitCount+p+5)}addBinaryShiftChar(o){let c=this.token,h=this.mode,p=this.bitCount;if(this.mode===Es||this.mode===as){let S=El[h][ii];c=Gn(c,S&65535,S>>16),p+=S>>16,h=ii}let g=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,w=new Sn(c,h,this.binaryShiftByteCount+1,p+g);return w.binaryShiftByteCount===2078&&(w=w.endBinaryShift(o+1)),w}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let c=this.token;return c=Gi(c,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new Sn(c,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let c=this.bitCount+(El[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?c+=Sn.calculateBinaryShiftCost(o)-Sn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(c+=10),c<=o.bitCount}toBitArray(o){let c=[];for(let p=this.endBinaryShift(o.length).token;p!==null;p=p.getPrevious())c.unshift(p);let h=new L;for(const p of c)p.appendTo(h,o);return h}toString(){return U.format("%s bits=%d bytes=%d",ya[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}Sn.INITIAL_STATE=new Sn(gc,ii,0,0);function mc(K){const o=U.getCharCode(" "),c=U.getCharCode("."),h=U.getCharCode(",");K[ii][o]=1;const p=U.getCharCode("Z"),g=U.getCharCode("A");for(let se=g;se<=p;se++)K[ii][se]=se-g+2;K[js][o]=1;const w=U.getCharCode("z"),S=U.getCharCode("a");for(let se=S;se<=w;se++)K[js][se]=se-S+2;K[as][o]=1;const k=U.getCharCode("9"),O=U.getCharCode("0");for(let se=O;se<=k;se++)K[as][se]=se-O+2;K[as][h]=12,K[as][c]=13;const H=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let se=0;se<H.length;se++)K[pc][U.getCharCode(H[se])]=se;const Y=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let se=0;se<Y.length;se++)U.getCharCode(Y[se])>0&&(K[Es][U.getCharCode(Y[se])]=se);return K}const Xo=mc(C.createInt32Array(5,256));class qa{constructor(o){this.text=o}encode(){const o=U.getCharCode(" "),c=U.getCharCode(`
`);let h=Br.singletonList(Sn.INITIAL_STATE);for(let g=0;g<this.text.length;g++){let w,S=g+1<this.text.length?this.text[g+1]:0;switch(this.text[g]){case U.getCharCode("\r"):w=S===c?2:0;break;case U.getCharCode("."):w=S===o?3:0;break;case U.getCharCode(","):w=S===o?4:0;break;case U.getCharCode(":"):w=S===o?5:0;break;default:w=0}w>0?(h=qa.updateStateListForPair(h,g,w),g++):h=this.updateStateListForChar(h,g)}return Br.min(h,(g,w)=>g.getBitCount()-w.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,c){const h=[];for(let p of o)this.updateStateForChar(p,c,h);return qa.simplifyStates(h)}updateStateForChar(o,c,h){let p=this.text[c]&255,g=Xo[o.getMode()][p]>0,w=null;for(let S=0;S<=Es;S++){let k=Xo[S][p];if(k>0){if(w==null&&(w=o.endBinaryShift(c)),!g||S===o.getMode()||S===as){const O=w.latchAndAppend(S,k);h.push(O)}if(!g&&Al[o.getMode()][S]>=0){const O=w.shiftAndAppend(S,k);h.push(O)}}}if(o.getBinaryShiftByteCount()>0||Xo[o.getMode()][p]===0){let S=o.addBinaryShiftChar(c);h.push(S)}}static updateStateListForPair(o,c,h){const p=[];for(let g of o)this.updateStateForPair(g,c,h,p);return this.simplifyStates(p)}static updateStateForPair(o,c,h,p){let g=o.endBinaryShift(c);if(p.push(g.latchAndAppend(Es,h)),o.getMode()!==Es&&p.push(g.shiftAndAppend(Es,h)),h===3||h===4){let w=g.latchAndAppend(as,16-h).latchAndAppend(as,1);p.push(w)}if(o.getBinaryShiftByteCount()>0){let w=o.addBinaryShiftChar(c).addBinaryShiftChar(c+1);p.push(w)}}static simplifyStates(o){let c=[];for(const h of o){let p=!0;for(const g of c){if(g.isBetterThanOrEqualTo(h)){p=!1;break}h.isBetterThanOrEqualTo(g)&&(c=c.filter(w=>w!==g))}p&&c.push(h)}return c}}class Fr{constructor(){}static encodeBytes(o){return Fr.encode(o,Fr.DEFAULT_EC_PERCENT,Fr.DEFAULT_AZTEC_LAYERS)}static encode(o,c,h){let p=new qa(o).encode(),g=I.truncDivision(p.getSize()*c,100)+11,w=p.getSize()+g,S,k,O,H,Y;if(h!==Fr.DEFAULT_AZTEC_LAYERS){if(S=h<0,k=Math.abs(h),k>(S?Fr.MAX_NB_BITS_COMPACT:Fr.MAX_NB_BITS))throw new m(U.format("Illegal value %s for layers",h));O=Fr.totalBitsInLayer(k,S),H=Fr.WORD_SIZE[k];let xt=O-O%H;if(Y=Fr.stuffBits(p,H),Y.getSize()+g>xt)throw new m("Data to large for user specified layer");if(S&&Y.getSize()>H*64)throw new m("Data to large for user specified layer")}else{H=0,Y=null;for(let xt=0;;xt++){if(xt>Fr.MAX_NB_BITS)throw new m("Data too large for an Aztec code");if(S=xt<=3,k=S?xt+1:xt,O=Fr.totalBitsInLayer(k,S),w>O)continue;(Y==null||H!==Fr.WORD_SIZE[k])&&(H=Fr.WORD_SIZE[k],Y=Fr.stuffBits(p,H));let kr=O-O%H;if(!(S&&Y.getSize()>H*64)&&Y.getSize()+g<=kr)break}}let se=Fr.generateCheckWords(Y,O,H),we=Y.getSize()/H,Ie=Fr.generateModeMessage(S,k,we),Oe=(S?11:14)+k*4,je=new Int32Array(Oe),tt;if(S){tt=Oe;for(let xt=0;xt<je.length;xt++)je[xt]=xt}else{tt=Oe+1+2*I.truncDivision(I.truncDivision(Oe,2)-1,15);let xt=I.truncDivision(Oe,2),kr=I.truncDivision(tt,2);for(let fr=0;fr<xt;fr++){let si=fr+I.truncDivision(fr,15);je[xt-fr-1]=kr-si-1,je[xt+fr]=kr+si+1}}let gt=new oe(tt);for(let xt=0,kr=0;xt<k;xt++){let fr=(k-xt)*4+(S?9:12);for(let si=0;si<fr;si++){let Mi=si*2;for(let Zn=0;Zn<2;Zn++)se.get(kr+Mi+Zn)&&gt.set(je[xt*2+Zn],je[xt*2+si]),se.get(kr+fr*2+Mi+Zn)&&gt.set(je[xt*2+si],je[Oe-1-xt*2-Zn]),se.get(kr+fr*4+Mi+Zn)&&gt.set(je[Oe-1-xt*2-Zn],je[Oe-1-xt*2-si]),se.get(kr+fr*6+Mi+Zn)&&gt.set(je[Oe-1-xt*2-si],je[xt*2+Zn])}kr+=fr*8}if(Fr.drawModeMessage(gt,S,tt,Ie),S)Fr.drawBullsEye(gt,I.truncDivision(tt,2),5);else{Fr.drawBullsEye(gt,I.truncDivision(tt,2),7);for(let xt=0,kr=0;xt<I.truncDivision(Oe,2)-1;xt+=15,kr+=16)for(let fr=I.truncDivision(tt,2)&1;fr<tt;fr+=2)gt.set(I.truncDivision(tt,2)-kr,fr),gt.set(I.truncDivision(tt,2)+kr,fr),gt.set(fr,I.truncDivision(tt,2)-kr),gt.set(fr,I.truncDivision(tt,2)+kr)}let wt=new dr;return wt.setCompact(S),wt.setSize(tt),wt.setLayers(k),wt.setCodeWords(we),wt.setMatrix(gt),wt}static drawBullsEye(o,c,h){for(let p=0;p<h;p+=2)for(let g=c-p;g<=c+p;g++)o.set(g,c-p),o.set(g,c+p),o.set(c-p,g),o.set(c+p,g);o.set(c-h,c-h),o.set(c-h+1,c-h),o.set(c-h,c-h+1),o.set(c+h,c-h),o.set(c+h,c-h+1),o.set(c+h,c+h-1)}static generateModeMessage(o,c,h){let p=new L;return o?(p.appendBits(c-1,2),p.appendBits(h-1,6),p=Fr.generateCheckWords(p,28,4)):(p.appendBits(c-1,5),p.appendBits(h-1,11),p=Fr.generateCheckWords(p,40,4)),p}static drawModeMessage(o,c,h,p){let g=I.truncDivision(h,2);if(c)for(let w=0;w<7;w++){let S=g-3+w;p.get(w)&&o.set(S,g-5),p.get(w+7)&&o.set(g+5,S),p.get(20-w)&&o.set(S,g+5),p.get(27-w)&&o.set(g-5,S)}else for(let w=0;w<10;w++){let S=g-5+w+I.truncDivision(w,5);p.get(w)&&o.set(S,g-7),p.get(w+10)&&o.set(g+7,S),p.get(29-w)&&o.set(S,g+7),p.get(39-w)&&o.set(g-7,S)}}static generateCheckWords(o,c,h){let p=o.getSize()/h,g=new Go(Fr.getGF(h)),w=I.truncDivision(c,h),S=Fr.bitsToWords(o,h,w);g.encode(S,w-p);let k=c%h,O=new L;O.appendBits(0,k);for(const H of Array.from(S))O.appendBits(H,h);return O}static bitsToWords(o,c,h){let p=new Int32Array(h),g,w;for(g=0,w=o.getSize()/c;g<w;g++){let S=0;for(let k=0;k<c;k++)S|=o.get(g*c+k)?1<<c-k-1:0;p[g]=S}return p}static getGF(o){switch(o){case 4:return Qe.AZTEC_PARAM;case 6:return Qe.AZTEC_DATA_6;case 8:return Qe.AZTEC_DATA_8;case 10:return Qe.AZTEC_DATA_10;case 12:return Qe.AZTEC_DATA_12;default:throw new m("Unsupported word size "+o)}}static stuffBits(o,c){let h=new L,p=o.getSize(),g=(1<<c)-2;for(let w=0;w<p;w+=c){let S=0;for(let k=0;k<c;k++)(w+k>=p||o.get(w+k))&&(S|=1<<c-1-k);(S&g)===g?(h.appendBits(S&g,c),w--):S&g?h.appendBits(S,c):(h.appendBits(S|1,c),w--)}return h}static totalBitsInLayer(o,c){return((c?88:112)+16*o)*o}}Fr.DEFAULT_EC_PERCENT=33,Fr.DEFAULT_AZTEC_LAYERS=0,Fr.MAX_NB_BITS=32,Fr.MAX_NB_BITS_COMPACT=4,Fr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Fi{encode(o,c,h,p){return this.encodeWithHints(o,c,h,p,null)}encodeWithHints(o,c,h,p,g){let w=hr.ISO_8859_1,S=Fr.DEFAULT_EC_PERCENT,k=Fr.DEFAULT_AZTEC_LAYERS;return g!=null&&(g.has(Qn.CHARACTER_SET)&&(w=Kt.forName(g.get(Qn.CHARACTER_SET).toString())),g.has(Qn.ERROR_CORRECTION)&&(S=I.parseInt(g.get(Qn.ERROR_CORRECTION).toString())),g.has(Qn.AZTEC_LAYERS)&&(k=I.parseInt(g.get(Qn.AZTEC_LAYERS).toString()))),Fi.encodeLayers(o,c,h,p,w,S,k)}static encodeLayers(o,c,h,p,g,w,S){if(c!==ie.AZTEC)throw new m("Can only encode AZTEC, but got "+c);let k=Fr.encode(U.getBytes(o,g),w,S);return Fi.renderResult(k,h,p)}static renderResult(o,c,h){let p=o.getMatrix();if(p==null)throw new Ue;let g=p.getWidth(),w=p.getHeight(),S=Math.max(c,g),k=Math.max(h,w),O=Math.min(S/g,k/w),H=(S-g*O)/2,Y=(k-w*O)/2,se=new oe(S,k);for(let we=0,Ie=Y;we<w;we++,Ie+=O)for(let Oe=0,je=H;Oe<g;Oe++,je+=O)p.get(Oe,we)&&se.setRegion(je,Ie,O,O);return se}}r.AbstractExpandedDecoder=ge,r.ArgumentException=d,r.ArithmeticException=Ge,r.AztecCode=dr,r.AztecCodeReader=Nt,r.AztecCodeWriter=Fi,r.AztecDecoder=nt,r.AztecDetector=gr,r.AztecDetectorResult=Bt,r.AztecEncoder=Fr,r.AztecHighLevelEncoder=qa,r.AztecPoint=Mt,r.BarcodeFormat=ie,r.Binarizer=E,r.BinaryBitmap=y,r.BitArray=L,r.BitMatrix=oe,r.BitSource=lc,r.BrowserAztecCodeReader=Jr,r.BrowserBarcodeReader=co,r.BrowserCodeReader=V,r.BrowserDatamatrixCodeReader=cc,r.BrowserMultiFormatReader=hc,r.BrowserPDF417Reader=qu,r.BrowserQRCodeReader=Gu,r.BrowserQRCodeSvgWriter=ke,r.CharacterSetECI=F,r.ChecksumException=v,r.Code128Reader=St,r.Code39Reader=or,r.DataMatrixDecodedBitStreamParser=va,r.DataMatrixReader=Ai,r.DecodeHintType=Q,r.DecoderResult=Ce,r.DefaultGridSampler=Jt,r.DetectorResult=At,r.EAN13Reader=Ri,r.EncodeHintType=Qn,r.Exception=f,r.FormatException=B,r.GenericGF=Qe,r.GenericGFPoly=Re,r.GlobalHistogramBinarizer=Ne,r.GridSampler=$t,r.GridSamplerInstance=er,r.HTMLCanvasElementLuminanceSource=Te,r.HybridBinarizer=Ae,r.ITFReader=tr,r.IllegalArgumentException=m,r.IllegalStateException=Ue,r.InvertedLuminanceSource=_e,r.LuminanceSource=de,r.MathUtils=qe,r.MultiFormatOneDReader=qi,r.MultiFormatReader=Vu,r.MultiFormatWriter=ot,r.NotFoundException=le,r.OneDReader=Gt,r.PDF417DecodedBitStreamParser=Je,r.PDF417DecoderErrorCorrection=Qf,r.PDF417Reader=Kn,r.PDF417ResultMetadata=Wu,r.PerspectiveTransform=Dt,r.PlanarYUVLuminanceSource=dt,r.QRCodeByteMatrix=$o,r.QRCodeDataMask=ys,r.QRCodeDecodedBitStreamParser=Yr,r.QRCodeDecoderErrorCorrectionLevel=en,r.QRCodeDecoderFormatInformation=di,r.QRCodeEncoder=ve,r.QRCodeEncoderQRCode=Ss,r.QRCodeMaskUtil=un,r.QRCodeMatrixUtil=P,r.QRCodeMode=Qt,r.QRCodeReader=za,r.QRCodeVersion=Xt,r.QRCodeWriter=We,r.RGBLuminanceSource=Lt,r.RSS14Reader=_r,r.RSSExpandedReader=st,r.ReaderException=qo,r.ReedSolomonDecoder=pe,r.ReedSolomonEncoder=Go,r.ReedSolomonException=ct,r.Result=G,r.ResultMetadataType=be,r.ResultPoint=et,r.StringUtils=U,r.UnsupportedOperationException=X,r.VideoInputDevice=He,r.WhiteRectangleDetector=Pt,r.WriterException=Kr,r.ZXingArrays=C,r.ZXingCharset=Kt,r.ZXingInteger=I,r.ZXingStandardCharsets=hr,r.ZXingStringBuilder=re,r.ZXingStringEncoding=W,r.ZXingSystem=_,r.createAbstractExpandedDecoder=Et,Object.defineProperty(r,"__esModule",{value:!0})})})(Xy,Xy.exports);var Bn=Xy.exports;const zte=i2(Bn),Hte=uA({__proto__:null,default:zte},[Bn]);var GE=function(){function e(t,r,n){if(this.formatMap=new Map([[Ut.QR_CODE,Bn.BarcodeFormat.QR_CODE],[Ut.AZTEC,Bn.BarcodeFormat.AZTEC],[Ut.CODABAR,Bn.BarcodeFormat.CODABAR],[Ut.CODE_39,Bn.BarcodeFormat.CODE_39],[Ut.CODE_93,Bn.BarcodeFormat.CODE_93],[Ut.CODE_128,Bn.BarcodeFormat.CODE_128],[Ut.DATA_MATRIX,Bn.BarcodeFormat.DATA_MATRIX],[Ut.MAXICODE,Bn.BarcodeFormat.MAXICODE],[Ut.ITF,Bn.BarcodeFormat.ITF],[Ut.EAN_13,Bn.BarcodeFormat.EAN_13],[Ut.EAN_8,Bn.BarcodeFormat.EAN_8],[Ut.PDF_417,Bn.BarcodeFormat.PDF_417],[Ut.RSS_14,Bn.BarcodeFormat.RSS_14],[Ut.RSS_EXPANDED,Bn.BarcodeFormat.RSS_EXPANDED],[Ut.UPC_A,Bn.BarcodeFormat.UPC_A],[Ut.UPC_E,Bn.BarcodeFormat.UPC_E],[Ut.UPC_EAN_EXTENSION,Bn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Hte)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),s=new Map;s.set(Bn.DecodeHintType.POSSIBLE_FORMATS,i),s.set(Bn.DecodeHintType.TRY_HARDER,!1),this.hints=s}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(s){i(s)}})},e.prototype.decode=function(t){var r=new Bn.MultiFormatReader(this.verbose,this.hints),n=new Bn.HTMLCanvasElementLuminanceSource(t),i=new Bn.BinaryBitmap(new Bn.HybridBinarizer(n)),s=r.decode(i);return{text:s.text,format:aP.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Vte=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{f(n.next(d))}catch(m){a(m)}}function u(d){try{f(n.throw(d))}catch(m){a(m)}}function f(d){d.done?s(d.value):i(d.value).then(l,u)}f((n=n.apply(e,t||[])).next())})},qte=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(f){return function(d){return u([f,d])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(d){f=[6,d],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},$E=function(){function e(t,r,n){if(this.formatMap=new Map([[Ut.QR_CODE,"qr_code"],[Ut.AZTEC,"aztec"],[Ut.CODABAR,"codabar"],[Ut.CODE_39,"code_39"],[Ut.CODE_93,"code_93"],[Ut.CODE_128,"code_128"],[Ut.DATA_MATRIX,"data_matrix"],[Ut.ITF,"itf"],[Ut.EAN_13,"ean_13"],[Ut.EAN_8,"ean_8"],[Ut.PDF_417,"pdf417"],[Ut.UPC_A,"upc_a"],[Ut.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Vte(this,void 0,void 0,function(){var r,n;return qte(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:aP.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,s=t;i<s.length;i++){var a=s[i],l=a.boundingBox.width*a.boundingBox.height;l>n&&(n=l,r=a)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),XE=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{f(n.next(d))}catch(m){a(m)}}function u(d){try{f(n.throw(d))}catch(m){a(m)}}function f(d){d.done?s(d.value):i(d.value).then(l,u)}f((n=n.apply(e,t||[])).next())})},YE=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(f){return function(d){return u([f,d])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(d){f=[6,d],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Gte=function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&$E.isSupported()?(this.primaryDecoder=new $E(t,n,i),this.secondaryDecoder=new GE(t,n,i)):this.primaryDecoder=new GE(t,n,i)}return e.prototype.decodeAsync=function(t){return XE(this,void 0,void 0,function(){var r;return YE(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return XE(this,void 0,void 0,function(){var r,n;return YE(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var s=t/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),g4=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),r2=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{f(n.next(d))}catch(m){a(m)}}function u(d){try{f(n.throw(d))}catch(m){a(m)}}function f(d){d.done?s(d.value):i(d.value).then(l,u)}f((n=n.apply(e,t||[])).next())})},n2=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(f){return function(d){return u([f,d])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(d){f=[6,d],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},lP=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),$te=function(e){g4(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(lP),Xte=function(e){g4(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}($te),Yte=function(e){g4(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(lP),Kte=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Xte(this.track)},e.prototype.torchFeature=function(){return new Yte(this.track)},e}(),Qte=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return r2(this,void 0,void 0,function(){var s,a;return n2(this,function(l){switch(l.label){case 0:return s=new e(t,r,i),n.aspectRatio?(a={aspectRatio:n.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(a)]):[3,2];case 1:l.sent(),l.label=2;case 2:return s.setupSurface(),[2,s]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return r2(this,void 0,void 0,function(){return n2(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),s=i.length,a=0;t.mediaStream.getVideoTracks().forEach(function(l){t.mediaStream.removeTrack(l),l.stop(),++a,a>=s&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new Kte(this.getFirstTrackOrFail())},e}(),Zte=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return r2(this,void 0,void 0,function(){return n2(this,function(i){return[2,Qte.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return r2(this,void 0,void 0,function(){var r,n;return n2(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e}(),KE=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{f(n.next(d))}catch(m){a(m)}}function u(d){try{f(n.throw(d))}catch(m){a(m)}}function f(d){d.done?s(d.value):i(d.value).then(l,u)}f((n=n.apply(e,t||[])).next())})},QE=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(f){return function(d){return u([f,d])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(d){f=[6,d],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Jte=function(){function e(){}return e.failIfNotSupported=function(){return KE(this,void 0,void 0,function(){return QE(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return KE(this,void 0,void 0,function(){return QE(this,function(r){return[2,Zte.create(t)]})})},e}(),ere=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{f(n.next(d))}catch(m){a(m)}}function u(d){try{f(n.throw(d))}catch(m){a(m)}}function f(d){d.done?s(d.value):i(d.value).then(l,u)}f((n=n.apply(e,t||[])).next())})},tre=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(f){return function(d){return u([f,d])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(d){f=[6,d],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},rre=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Dh.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Dh.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return ere(this,void 0,void 0,function(){var t,r,n,i,s,a,l;return tre(this,function(u){switch(u.label){case 0:return t=function(f){for(var d=f.getVideoTracks(),m=0,y=d;m<y.length;m++){var v=y[m];v.enabled=!1,v.stop(),f.removeTrack(v)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=u.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=u.sent(),i=[],s=0,a=n;s<a.length;s++)l=a[s],l.kind==="videoinput"&&i.push({id:l.deviceId,label:l.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(s){for(var a=[],l=0,u=s;l<u.length;l++){var f=u[l];f.kind==="video"&&a.push({id:f.id,label:f.label})}t(a)},i=MediaStreamTrack;i.getSources(n)})},e}(),Jn;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Jn||(Jn={}));var nre=function(){function e(){this.state=Jn.NOT_STARTED,this.onGoingTransactionNewState=Jn.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Jn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Jn.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Jn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Jn.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Jn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Jn.UNKNOWN:throw"Transition from unknown is not allowed";case Jn.NOT_STARTED:this.failIfNewStateIs(t,[Jn.PAUSED]);break;case Jn.SCANNING:break;case Jn.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var s=i[n];if(t===s)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),ire=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Jn.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Jn.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Jn.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Jn.PAUSED},e}(),sre=function(){function e(){}return e.create=function(){return new ire(new nre)},e}(),are=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ea=function(e){are(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Bte),ore=function(){function e(t,r){this.logger=r,this.fps=Ea.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Ea.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?oP.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Dl(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),lre=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new Wte(this.verbose),this.qrcode=new Gte(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=sre.create()}return e.prototype.start=function(t,r,n,i){var s=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var a;i?a=i:a=this.verbose?this.logger.log:function(){};var l=ore.create(r,this.logger);this.clearElement();var u=!1;l.videoConstraints&&(l.isMediaStreamConstraintsValid()?u=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var f=u,d=document.getElementById(this.elementId);d.clientWidth?d.clientWidth:Ea.DEFAULT_WIDTH,d.style.position="relative",this.shouldScan=!0,this.element=d;var m=this,y=this.stateManagerProxy.startTransition(Jn.SCANNING);return new Promise(function(v,E){var _=f?l.videoConstraints:m.createVideoConstraints(t);if(!_){y.cancel(),E("videoConstraints should be defined");return}var N={};(!f||l.aspectRatio)&&(N.aspectRatio=l.aspectRatio);var A={onRenderSurfaceReady:function(C,I){m.setupUi(C,I,l),m.isScanning=!0,m.foreverScan(l,n,a)}};Jte.failIfNotSupported().then(function(C){C.create(_).then(function(I){return I.render(s.element,N,A).then(function(L){m.renderedCamera=L,y.execute(),v(null)}).catch(function(L){y.cancel(),E(L)})}).catch(function(I){y.cancel(),E(Dh.errorGettingUserMedia(I))})}).catch(function(C){y.cancel(),E(Dh.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Jn.PAUSED),this.showPausedState(),(Dl(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Jn.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Jn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var s=document.getElementById(Ea.SHADED_REGION_ELEMENT_ID);s&&t.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Dl(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var a=new Image;a.onload=function(){var l=a.width,u=a.height,f=document.getElementById(n.elementId),d=f.clientWidth?f.clientWidth:Ea.DEFAULT_WIDTH,m=Math.max(f.clientHeight?f.clientHeight:u,Ea.FILE_SCAN_MIN_HEIGHT),y=n.computeCanvasDrawConfig(l,u,d,m);if(r){var v=n.createCanvasElement(d,m,"qr-canvas-visible");v.style.display="inline-block",f.appendChild(v);var E=v.getContext("2d");if(!E)throw"Unable to get 2d context from canvas";E.canvas.width=d,E.canvas.height=m,E.drawImage(a,0,0,l,u,y.x,y.y,y.width,y.height)}var _=Ea.FILE_SCAN_HIDDEN_CANVAS_PADDING,N=Math.max(a.width,y.width),A=Math.max(a.height,y.height),C=N+2*_,I=A+2*_,L=n.createCanvasElement(C,I);f.appendChild(L);var q=L.getContext("2d");if(!q)throw"Unable to get 2d context from canvas";q.canvas.width=C,q.canvas.height=I,q.drawImage(a,0,0,l,u,_,_,N,A);try{n.qrcode.decodeRobustlyAsync(L).then(function(Q){i(qE.createFromQrcodeResult(Q))}).catch(s)}catch(Q){s("QR code parse error, error = ".concat(Q))}},a.onerror=s,a.onabort=s,a.onstalled=s,a.onsuspend=s,a.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return rre.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!oP.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Ut.QR_CODE,Ut.AZTEC,Ut.CODABAR,Ut.CODE_39,Ut.CODE_93,Ut.CODE_128,Ut.DATA_MATRIX,Ut.MAXICODE,Ut.ITF,Ut.EAN_13,Ut.EAN_8,Ut.PDF_417,Ut.RSS_14,Ut.RSS_EXPANDED,Ut.UPC_A,Ut.UPC_E,Ut.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,s=t.formatsToSupport;i<s.length;i++){var a=s[i];jte(a)?n.push(a):this.logger.warn("Invalid format: ".concat(a," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Dl(t))return!0;if(!Dl(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Dl(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return Dl(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,s=n.qrbox;this.validateQrboxConfig(s);var a=this.toQrdimensions(t,r,s),l=function(f){if(f<Ea.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ea.MIN_QR_BOX_SIZE,"px.")},u=function(f){return f>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),f=t),f};l(a.width),l(a.height),a.width=u(a.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=Dl(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(t,r,i);s.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var a=n.isShadedBoxEnabled()&&s.height<=r,l={x:0,y:0,width:t,height:r},u=a?this.getShadedRegionBounds(t,r,s):l,f=this.createCanvasElement(u.width,u.height),d={willReadFrequently:!0},m=f.getContext("2d",d);m.canvas.width=u.width,m.canvas.height=u.height,this.element.append(f),a&&this.possiblyInsertShadingElement(this.element,t,r,s),this.createScannerPausedUiElement(this.element),this.qrRegion=u,this.context=m,this.canvasElement=f},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=Dh.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,qE.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var s=Dh.codeParseError(i);return r(s,Ute.createFrom(s)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),a=s.videoWidth/s.clientWidth,l=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var u=this.qrRegion.width*a,f=this.qrRegion.height*l,d=this.qrRegion.x*a,m=this.qrRegion.y*l;this.context.drawImage(s,d,m,u,f,0,0,this.qrRegion.width,this.qrRegion.height);var y=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(v){!v&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){y()})):y()}).catch(function(v){i.logger.logError("Error happend while scanning context",v),y()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},s="exact",a=function(E){if(E in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(E,"'")},l=Object.keys(t);if(l.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(l.length," keys");var u=Object.keys(t)[0];if(u!==r&&u!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(u===r){var f=t.facingMode;if(typeof f=="string"){if(a(f))return{facingMode:f}}else if(typeof f=="object")if(s in f){if(a(f["".concat(s)]))return{facingMode:{exact:f["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var d=typeof f;throw"Invalid type of 'facingMode' = ".concat(d)}}else{var m=t.deviceId;if(typeof m=="string")return{deviceId:m};if(typeof m=="object"){if(s in m)return{deviceId:{exact:m["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var y=typeof m;throw"Invalid type of 'deviceId' = ".concat(y)}}}var v=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(v)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var s=(n-t)/2,a=(i-r)/2;return{x:s,y:a,width:t,height:r}}else{var l=t,u=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(l,"X").concat(u)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Ea.BORDER_SHADER_MATCH_COLOR:Ea.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,s=r,a=document.createElement("canvas");return a.style.width="".concat(i,"px"),a.style.height="".concat(s,"px"),a.style.display="none",a.id=Dl(n)?"qr-canvas":n,a},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var a=(r-i.width)/2,l=(n-i.height)/2;if(s.style.borderLeft="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(Ea.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var u=5,f=40;this.insertShaderBorders(s,f,u,-u,null,0,!0),this.insertShaderBorders(s,f,u,-u,null,0,!1),this.insertShaderBorders(s,f,u,null,-u,0,!0),this.insertShaderBorders(s,f,u,null,-u,0,!1),this.insertShaderBorders(s,u,f+u,-u,null,-u,!0),this.insertShaderBorders(s,u,f+u,null,-u,-u,!0),this.insertShaderBorders(s,u,f+u,-u,null,-u,!1),this.insertShaderBorders(s,u,f+u,null,-u,-u,!1),this.hasBorderShaders=!0}t.append(s)}},e.prototype.insertShaderBorders=function(t,r,n,i,s,a,l){var u=document.createElement("div");u.style.position="absolute",u.style.backgroundColor=Ea.BORDER_SHADER_DEFAULT_COLOR,u.style.width="".concat(r,"px"),u.style.height="".concat(n,"px"),i!==null&&(u.style.top="".concat(i,"px")),s!==null&&(u.style.bottom="".concat(s,"px")),l?u.style.left="".concat(a,"px"):u.style.right="".concat(a,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(u),t.appendChild(u)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),ZE;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ZE||(ZE={}));function cre({isOpen:e,onClose:t,onScan:r}){const n=D.useRef(null),i="html5qr-code-full-region",[s,a]=D.useState(null),l=async()=>{if(!n.current)try{n.current=new lre(i),await n.current.start({facingMode:"environment"},{fps:10},f=>{r(f),u(),t()},f=>{})}catch(f){console.error(f),a("No foi possvel acessar a cmera.")}},u=async()=>{var f,d,m;((f=n.current)==null?void 0:f.getState())===Jn.SCANNING&&await((d=n.current)==null?void 0:d.stop()),(m=n.current)==null||m.clear(),n.current=null};return D.useEffect(()=>{let f;const d=()=>{document.getElementById(i)?l():f=requestAnimationFrame(d)};return e?d():u(),()=>{cancelAnimationFrame(f),u()}},[e]),x.jsx(Wd,{open:e,onOpenChange:t,children:x.jsxs(zf,{className:"max-w-md",children:[x.jsxs(zd,{children:[x.jsxs(Hd,{className:"flex items-center gap-2",children:[x.jsx(E8,{className:"h-5 w-5"}),"Escanear Cdigo"]}),x.jsx(B2,{children:"Suporta QR code e cdigos de barras comuns."})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("div",{id:i,className:"relative aspect-square bg-black rounded-lg overflow-hidden"}),s&&x.jsx("p",{className:"text-sm text-red-600 bg-red-50 p-3 rounded",children:s}),x.jsxs(zt,{variant:"outline",onClick:()=>{u(),t()},className:"w-full flex items-center justify-center gap-2",children:[x.jsx(Uf,{className:"h-4 w-4"}),"Fechar"]})]})]})})}function ure(){const{profile:e,company:t}=Si(),{isMobileOrTablet:r,isDesktop:n}=yT(),i=D.useContext(gT),[s,a]=D.useState(""),[l,u]=D.useState("all"),[f,d]=D.useState("all"),[m,y]=D.useState(!1),[v,E]=D.useState(!1),{assets:_,loading:N,loadingMore:A,hasMore:C,loadMore:I,locations:L}=OH({search:s,statusFilter:l,locationFilter:f}),{exportLoading:q,exportToFormat:Q}=iJ(),{showScrollToTop:B,scrollToTop:M}=sJ(i==null?void 0:i.current),F=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="editor",X=re=>{a(re)},W=re=>{Q(re,{search:s,statusFilter:l,locationFilter:f,companyName:t.name})},U=()=>{n?E(!0):W("csv")};return x.jsxs("div",{id:"assets-scroll-container",className:"space-y-6 pb-10 overflow-y-auto",children:[q&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",children:x.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600"})}),x.jsx(ite,{canEdit:F,isMobileOrTablet:r,isDesktop:n,loading:N,exportLoading:q,onScannerOpen:()=>y(!0),onExport:U}),x.jsx(Rte,{search:s,statusFilter:l,locationFilter:f,locations:L,onSearchChange:a,onStatusFilterChange:u,onLocationFilterChange:d}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:x.jsx(Fte,{assets:_,loading:N,loadingMore:A,hasMore:C,canEdit:F,isDesktop:n,onLoadMore:I})}),B&&x.jsx(zt,{onClick:M,className:"fixed bottom-6 right-6 z-50 rounded-full w-12 h-12 shadow-lg hover:shadow-xl transition-all duration-200",size:"icon",children:x.jsx(RF,{className:"h-5 w-5"})}),x.jsx(cre,{isOpen:m,onClose:()=>y(!1),onScan:X}),x.jsx(Mte,{isOpen:v,onClose:()=>E(!1),onExport:W,loading:q})]})}var cP="AlertDialog",[fre,Dne]=Iu(cP,[CN]),oc=CN(),uP=e=>{const{__scopeAlertDialog:t,...r}=e,n=oc(t);return x.jsx(_3,{...n,...r,modal:!0})};uP.displayName=cP;var hre="AlertDialogTrigger",fP=D.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=oc(r);return x.jsx(S3,{...i,...n,ref:t})});fP.displayName=hre;var dre="AlertDialogPortal",hP=e=>{const{__scopeAlertDialog:t,...r}=e,n=oc(t);return x.jsx(E3,{...n,...r})};hP.displayName=dre;var pre="AlertDialogOverlay",dP=D.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=oc(r);return x.jsx(X1,{...i,...n,ref:t})});dP.displayName=pre;var id="AlertDialogContent",[gre,mre]=fre(id),pP=D.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,s=oc(r),a=D.useRef(null),l=Xr(t,a),u=D.useRef(null);return x.jsx(QU,{contentName:id,titleName:gP,docsSlug:"alert-dialog",children:x.jsx(gre,{scope:r,cancelRef:u,children:x.jsxs(Y1,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:nr(i.onOpenAutoFocus,f=>{var d;f.preventDefault(),(d=u.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[x.jsx(Q5,{children:n}),x.jsx(vre,{contentRef:a})]})})})});pP.displayName=id;var gP="AlertDialogTitle",mP=D.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=oc(r);return x.jsx(K1,{...i,...n,ref:t})});mP.displayName=gP;var xP="AlertDialogDescription",vP=D.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=oc(r);return x.jsx(Q1,{...i,...n,ref:t})});vP.displayName=xP;var xre="AlertDialogAction",wP=D.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=oc(r);return x.jsx(L2,{...i,...n,ref:t})});wP.displayName=xre;var yP="AlertDialogCancel",bP=D.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=mre(yP,r),s=oc(r),a=Xr(t,i);return x.jsx(L2,{...s,...n,ref:a})});bP.displayName=yP;var vre=({contentRef:e})=>{const t=`\`${id}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${id}\` by passing a \`${xP}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${id}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return D.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},wre=uP,yre=fP,bre=hP,_P=dP,SP=pP,EP=wP,AP=bP,CP=mP,NP=vP;const TP=wre,IP=yre,_re=bre,kP=D.forwardRef(({className:e,...t},r)=>x.jsx(_P,{className:Zt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));kP.displayName=_P.displayName;const m4=D.forwardRef(({className:e,...t},r)=>x.jsxs(_re,{children:[x.jsx(kP,{}),x.jsx(SP,{ref:r,className:Zt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));m4.displayName=SP.displayName;const x4=({className:e,...t})=>x.jsx("div",{className:Zt("flex flex-col space-y-2 text-center sm:text-left",e),...t});x4.displayName="AlertDialogHeader";const v4=({className:e,...t})=>x.jsx("div",{className:Zt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});v4.displayName="AlertDialogFooter";const w4=D.forwardRef(({className:e,...t},r)=>x.jsx(CP,{ref:r,className:Zt("text-lg font-semibold",e),...t}));w4.displayName=CP.displayName;const y4=D.forwardRef(({className:e,...t},r)=>x.jsx(NP,{ref:r,className:Zt("text-sm text-muted-foreground",e),...t}));y4.displayName=NP.displayName;const b4=D.forwardRef(({className:e,...t},r)=>x.jsx(EP,{ref:r,className:Zt(g3(),e),...t}));b4.displayName=EP.displayName;const _4=D.forwardRef(({className:e,...t},r)=>x.jsx(AP,{ref:r,className:Zt(g3({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));_4.displayName=AP.displayName;function Sre(){const{id:e}=q6(),t=ws(),{profile:r}=Si(),{toast:n}=ns(),i=xl(),{data:s,isLoading:a}=Zl({queryKey:["asset",e],queryFn:async()=>{if(!e)throw new Error("Asset ID is required");const{data:v,error:E}=await pr.from("assets").select("*").eq("id",e).single();if(E)throw E;return v},enabled:!!e}),l=pl({mutationFn:async()=>{if(!e)throw new Error("Asset ID is required");const{error:v}=await pr.from("assets").delete().eq("id",e);if(v)throw v},onSuccess:()=>{i.invalidateQueries({queryKey:["assets"]}),i.invalidateQueries({queryKey:["dashboard-stats"]}),i.invalidateQueries({queryKey:["recent-assets"]}),n({title:"Ativo deletado com sucesso!",description:"O ativo foi removido do sistema"}),t("/assets")},onError:v=>{n({title:"Erro ao deletar ativo",description:v.message||"Erro ao deletar o ativo",variant:"destructive"})}}),u=()=>{l.mutate()},f=v=>{const E={ativo:"bg-green-100 text-green-800",manuteno:"bg-yellow-100 text-yellow-800",baixado:"bg-red-100 text-red-800"};return x.jsx(_i,{className:E[v],children:v.toLocaleUpperCase()})},d=v=>{switch(v){case"ativo":return x.jsx(Cn,{className:"h-5 w-5 text-green-600"});case"manuteno":return x.jsx(w1,{className:"h-5 w-5 text-yellow-600"});case"baixado":return x.jsx(Cn,{className:"h-5 w-5 text-red-600"});default:return x.jsx(Cn,{className:"h-5 w-5 text-gray-600"})}},m=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="editor",y=(r==null?void 0:r.role)==="admin";return a?x.jsxs("div",{className:"space-y-6",children:[x.jsx("div",{className:"flex items-center space-x-4",children:x.jsxs(zt,{variant:"ghost",onClick:()=>t("/assets"),children:[x.jsx(xf,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),x.jsx("div",{className:"animate-pulse max-w-4xl",children:x.jsx(Tr,{className:"border-0 shadow-md",children:x.jsxs(Or,{className:"p-8",children:[x.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),x.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-8"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsx("div",{className:"space-y-4",children:Array.from({length:4}).map((v,E)=>x.jsx("div",{className:"h-12 bg-gray-200 rounded"},E))}),x.jsx("div",{className:"space-y-4",children:Array.from({length:4}).map((v,E)=>x.jsx("div",{className:"h-12 bg-gray-200 rounded"},E))})]})]})})})]}):s?x.jsxs("div",{className:"space-y-6 max-w-6xl pb-10",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs(zt,{variant:"ghost",onClick:()=>t("/assets"),children:[x.jsx(xf,{className:"h-4 w-4 mr-2"}),"Voltar"]}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:s.name}),x.jsx("p",{className:"mt-2 text-gray-600",children:"Detalhes do ativo"})]})]}),m&&x.jsxs("div",{className:"flex gap-2",children:[x.jsx(zt,{asChild:!0,children:x.jsxs(io,{to:`/assets/${s.id}/edit`,children:[x.jsx(k8,{className:"h-4 w-4 mr-2"}),"Editar"]})}),y&&x.jsxs(TP,{children:[x.jsx(IP,{asChild:!0,children:x.jsx(zt,{variant:"destructive",size:"default",className:"flex items-center justify-center",children:x.jsx(P8,{className:"h-4 w-4"})})}),x.jsxs(m4,{children:[x.jsxs(x4,{children:[x.jsx(w4,{children:"Confirmar excluso"}),x.jsxs(y4,{children:['Tem certeza que deseja apagar o ativo "',s.name,'"? Esta ao no pode ser desfeita e todos os dados do ativo sero perdidos permanentemente.']})]}),x.jsxs(v4,{children:[x.jsx(_4,{children:"Cancelar"}),x.jsx(b4,{onClick:u,className:"bg-red-600 hover:bg-red-700",disabled:l.isPending,children:l.isPending?"Deletando...":"Apagar Ativo"})]})]})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[x.jsxs(Tr,{className:"border-0 shadow-md",children:[x.jsx(an,{children:x.jsxs(sn,{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center",children:[d(s.status),x.jsx("span",{className:"ml-3",children:"Informaes Bsicas"})]}),f(s.status)]})}),x.jsxs(Or,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(L_,{className:"h-5 w-5 text-gray-400"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Cdigo"}),x.jsx("p",{className:"text-lg text-gray-900",children:s.code})]})]}),s.serial_number&&x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(L_,{className:"h-5 w-5 text-gray-400"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Nmero de Srie"}),x.jsx("p",{className:"text-lg text-gray-900",children:s.serial_number})]})]}),s.location&&x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(o3,{className:"h-5 w-5 text-gray-400"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Localizao"}),x.jsx("p",{className:"text-lg text-gray-900",children:s.location})]})]}),s.holder&&x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx($F,{className:"h-5 w-5 text-gray-400"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Detentor"}),x.jsx("p",{className:"text-lg text-gray-900",children:s.holder})]})]})]})]}),(s.manufacturer||s.model||s.color||s.capacity||s.voltage||s.condition)&&x.jsxs(Tr,{className:"border-0 shadow-md",children:[x.jsx(an,{children:x.jsxs(sn,{className:"flex items-center",children:[x.jsx(R_,{className:"h-5 w-5 mr-3 text-blue-600"}),"Especificaes Tcnicas"]})}),x.jsxs(Or,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.manufacturer&&x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(Cn,{className:"h-5 w-5 text-gray-400"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Fabricante"}),x.jsx("p",{className:"text-lg text-gray-900",children:s.manufacturer})]})]}),s.model&&x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(Cn,{className:"h-5 w-5 text-gray-400"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Modelo"}),x.jsx("p",{className:"text-lg text-gray-900",children:s.model})]})]}),s.color&&x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(VF,{className:"h-5 w-5 text-gray-400"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Cor"}),x.jsx("p",{className:"text-lg text-gray-900",children:s.color})]})]}),s.capacity&&x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(R_,{className:"h-5 w-5 text-gray-400"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Capacidade"}),x.jsx("p",{className:"text-lg text-gray-900",children:s.capacity})]})]}),s.voltage&&x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(YF,{className:"h-5 w-5 text-gray-400"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Voltagem"}),x.jsx("p",{className:"text-lg text-gray-900",children:s.voltage})]})]}),s.condition&&x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(Cn,{className:"h-5 w-5 text-gray-400"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Condies"}),x.jsx("p",{className:"text-lg text-gray-900",children:s.condition})]})]})]})]}),s.notes&&x.jsxs(Tr,{className:"border-0 shadow-md",children:[x.jsx(an,{children:x.jsxs(sn,{className:"flex items-center",children:[x.jsx(q1,{className:"h-5 w-5 mr-3 text-blue-600"}),"Observaes"]})}),x.jsx(Or,{children:x.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:s.notes})})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs(Tr,{className:"border-0 shadow-md",children:[x.jsx(an,{children:x.jsxs(sn,{className:"flex items-center",children:[x.jsx(i3,{className:"h-5 w-5 mr-3 text-green-600"}),"Informaes Financeiras"]})}),x.jsxs(Or,{className:"space-y-4",children:[s.value&&x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor"}),x.jsx("p",{className:"text-2xl font-semibold text-green-700",children:wm(s.value)})]}),s.origin&&x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Origem"}),x.jsx("p",{className:"text-lg text-gray-900 capitalize",children:s.origin})]}),s.inalienable&&x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(w1,{className:"h-5 w-5 text-orange-500"}),x.jsx("span",{className:"text-sm font-medium text-orange-700",children:"Inalienvel"})]})]})]}),x.jsxs(Tr,{className:"border-0 shadow-md",children:[x.jsx(an,{children:x.jsxs(sn,{className:"flex items-center",children:[x.jsx(r3,{className:"h-5 w-5 mr-3 text-blue-600"}),"Datas"]})}),x.jsxs(Or,{className:"space-y-4",children:[s.acquisition_date&&x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Data de Aquisio"}),x.jsx("p",{className:"text-lg text-gray-900",children:$h(new Date(s.acquisition_date+"T00:00:00"),"dd/MM/yyyy",{locale:wf})})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Adicionado em"}),x.jsx("p",{className:"text-lg text-gray-900",children:$h(new Date(s.created_at),"dd/MM/yyyy HH:mm",{locale:wf})})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"ltima atualizao"}),x.jsx("p",{className:"text-lg text-gray-900",children:$h(new Date(s.updated_at),"dd/MM/yyyy HH:mm",{locale:wf})})]}),s.updated_by_user_name&&x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Modificado por"}),x.jsx("p",{className:"text-sm text-gray-900",children:s.updated_by_user_name})]})]})]})]})]})]}):x.jsxs("div",{className:"space-y-6",children:[x.jsx("div",{className:"flex items-center space-x-4",children:x.jsxs(zt,{variant:"ghost",onClick:()=>t("/assets"),children:[x.jsx(xf,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),x.jsx(Tr,{className:"border-0 shadow-md",children:x.jsxs(Or,{className:"text-center py-12",children:[x.jsx(Cn,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),x.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ativo no encontrado"}),x.jsx("p",{className:"text-gray-600",children:"O ativo solicitado no existe ou foi removido"})]})})]})}const PP=D.forwardRef(({className:e,...t},r)=>x.jsx("textarea",{className:Zt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));PP.displayName="Textarea";var S4="Checkbox",[Ere,Fne]=Iu(S4),[Are,Cre]=Ere(S4),OP=D.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:a,disabled:l,value:u="on",onCheckedChange:f,form:d,...m}=e,[y,v]=D.useState(null),E=Xr(t,L=>v(L)),_=D.useRef(!1),N=y?d||!!y.closest("form"):!0,[A=!1,C]=kf({prop:i,defaultProp:s,onChange:f}),I=D.useRef(A);return D.useEffect(()=>{const L=y==null?void 0:y.form;if(L){const q=()=>C(I.current);return L.addEventListener("reset",q),()=>L.removeEventListener("reset",q)}},[y,C]),x.jsxs(Are,{scope:r,state:A,disabled:l,children:[x.jsx(wr.button,{type:"button",role:"checkbox","aria-checked":fu(A)?"mixed":A,"aria-required":a,"data-state":DP(A),"data-disabled":l?"":void 0,disabled:l,value:u,...m,ref:E,onKeyDown:nr(e.onKeyDown,L=>{L.key==="Enter"&&L.preventDefault()}),onClick:nr(e.onClick,L=>{C(q=>fu(q)?!0:!q),N&&(_.current=L.isPropagationStopped(),_.current||L.stopPropagation())})}),N&&x.jsx(Nre,{control:y,bubbles:!_.current,name:n,value:u,checked:A,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:fu(s)?!1:s})]})});OP.displayName=S4;var RP="CheckboxIndicator",LP=D.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,s=Cre(RP,r);return x.jsx(Bo,{present:n||fu(s.state)||s.state===!0,children:x.jsx(wr.span,{"data-state":DP(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});LP.displayName=RP;var Nre=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:i,...s}=e,a=D.useRef(null),l=d4(r),u=a4(t);D.useEffect(()=>{const d=a.current,m=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==r&&v){const E=new Event("click",{bubbles:n});d.indeterminate=fu(r),v.call(d,fu(r)?!1:r),d.dispatchEvent(E)}},[l,r,n]);const f=D.useRef(fu(r)?!1:r);return x.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??f.current,...s,tabIndex:-1,ref:a,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function fu(e){return e==="indeterminate"}function DP(e){return fu(e)?"indeterminate":e?"checked":"unchecked"}var FP=OP,Tre=LP;const MP=D.forwardRef(({className:e,...t},r)=>x.jsx(FP,{ref:r,className:Zt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:x.jsx(Tre,{className:Zt("flex items-center justify-center text-current"),children:x.jsx(n3,{className:"h-4 w-4"})})}));MP.displayName=FP.displayName;function jP({asset:e,onSubmit:t,isSubmitting:r,submitLabel:n,disabled:i=!1}){var f;const[s,a]=D.useState({name:(e==null?void 0:e.name)||"",code:(e==null?void 0:e.code)||"",location:(e==null?void 0:e.location)||"",status:(e==null?void 0:e.status)||"ativo",acquisition_date:(e==null?void 0:e.acquisition_date)||"",value:((f=e==null?void 0:e.value)==null?void 0:f.toString())||"",serial_number:(e==null?void 0:e.serial_number)||"",color:(e==null?void 0:e.color)||"",manufacturer:(e==null?void 0:e.manufacturer)||"",model:(e==null?void 0:e.model)||"",capacity:(e==null?void 0:e.capacity)||"",voltage:(e==null?void 0:e.voltage)||"",origin:(e==null?void 0:e.origin)||"",condition:(e==null?void 0:e.condition)||"",inalienable:(e==null?void 0:e.inalienable)||!1,holder:(e==null?void 0:e.holder)||"",notes:(e==null?void 0:e.notes)||""}),l=d=>{d.preventDefault(),t(s)},u=(d,m)=>{a(y=>({...y,[d]:m}))};return x.jsxs("form",{onSubmit:l,className:"space-y-6",children:[x.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaes Bsicas"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"name",children:"Nome do Ativo *"}),x.jsx(Mr,{id:"name",value:s.name,onChange:d=>u("name",d.target.value),placeholder:"Ex: Notebook Dell",required:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"code",children:"Cdigo do Ativo *"}),x.jsx(Mr,{id:"code",value:s.code,onChange:d=>u("code",d.target.value),placeholder:"Ex: NB001",required:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"serial_number",children:"Nmero de Srie"}),x.jsx(Mr,{id:"serial_number",value:s.serial_number,onChange:d=>u("serial_number",d.target.value),placeholder:"Ex: SN123456789"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"status",children:"Status"}),x.jsxs(Jm,{value:s.status,onValueChange:d=>u("status",d),children:[x.jsx(O1,{children:x.jsx(e2,{})}),x.jsxs(R1,{children:[x.jsx(Oa,{value:"ativo",children:x.jsx(_i,{className:"bg-green-100 text-green-800",children:"ATIVO"})}),x.jsx(Oa,{value:"manuteno",children:x.jsx(_i,{className:"bg-yellow-100 text-yellow-800",children:"MANUTENO"})}),x.jsx(Oa,{value:"baixado",children:x.jsx(_i,{className:"bg-red-100 text-red-800",children:"BAIXADO"})})]})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Especificaes Tcnicas"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"manufacturer",children:"Fabricante"}),x.jsx(Mr,{id:"manufacturer",value:s.manufacturer,onChange:d=>u("manufacturer",d.target.value),placeholder:"Ex: Dell, HP, Samsung"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"model",children:"Modelo"}),x.jsx(Mr,{id:"model",value:s.model,onChange:d=>u("model",d.target.value),placeholder:"Ex: Inspiron 15 3000"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"color",children:"Cor"}),x.jsx(Mr,{id:"color",value:s.color,onChange:d=>u("color",d.target.value),placeholder:"Ex: Preto, Branco, Prata"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"capacity",children:"Capacidade"}),x.jsx(Mr,{id:"capacity",value:s.capacity,onChange:d=>u("capacity",d.target.value),placeholder:"Ex: 500GB, 8GB RAM"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"voltage",children:"Voltagem"}),x.jsx(Mr,{id:"voltage",value:s.voltage,onChange:d=>u("voltage",d.target.value),placeholder:"Ex: 110V, 220V, Bivolt"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"condition",children:"Condies"}),x.jsx(Mr,{id:"condition",value:s.condition,onChange:d=>u("condition",d.target.value),placeholder:"Ex: Novo, Usado, Bom estado"})]})]})]}),x.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Localizao e Patrimnio"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"location",children:"Localizao"}),x.jsx(Mr,{id:"location",value:s.location,onChange:d=>u("location",d.target.value),placeholder:"Ex: Sala 201, Almoxarifado"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"holder",children:"Detentor"}),x.jsx(Mr,{id:"holder",value:s.holder,onChange:d=>u("holder",d.target.value),placeholder:"Ex: Joo Silva, Setor TI"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"origin",children:"Origem"}),x.jsx(Mr,{id:"origin",value:s.origin,onChange:d=>u("origin",d.target.value),placeholder:"Ex: Compra, Doao, Transferncia"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"acquisition_date",children:"Data de Aquisio"}),x.jsx(Mr,{id:"acquisition_date",type:"date",value:s.acquisition_date,onChange:d=>u("acquisition_date",d.target.value)})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"value",children:"Valor (R$)"}),x.jsx(Mr,{id:"value",type:"number",step:"0.01",value:s.value,onChange:d=>u("value",d.target.value),placeholder:"0,00"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(MP,{id:"inalienable",checked:s.inalienable,onCheckedChange:d=>u("inalienable",d)}),x.jsx(Nr,{htmlFor:"inalienable",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Inalienvel"})]})]})]}),x.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Observaes"}),x.jsx("div",{className:"space-y-2",children:x.jsx(PP,{id:"notes",value:s.notes,onChange:d=>u("notes",d.target.value),placeholder:"Observaes adicionais sobre o ativo...",rows:4})})]}),x.jsx("div",{className:"flex space-x-4",children:x.jsx(zt,{type:"submit",disabled:r||i,className:"flex-1",children:r?"Salvando...":n})})]})}function Ire(){const e=ws(),{profile:t}=Si(),{toast:r}=ns(),n=xl(),[i,s]=D.useState(""),{data:a}=Z1(),l=pl({mutationFn:async f=>{if(!(t!=null&&t.company_id))throw new Error("Company ID not found");if(a!=null&&a.isAssetsLimitReached)throw new Error("Limite de ativos do seu plano foi atingido. Faa upgrade para adicionar mais ativos.");const{error:d}=await pr.from("assets").insert({name:f.name,code:f.code,location:f.location||null,status:f.status,acquisition_date:f.acquisition_date||null,value:f.value?parseFloat(f.value):null,serial_number:f.serial_number||null,color:f.color||null,manufacturer:f.manufacturer||null,model:f.model||null,capacity:f.capacity||null,voltage:f.voltage||null,origin:f.origin&&f.origin!=="nao_informado"?f.origin:null,condition:f.condition||null,inalienable:f.inalienable,holder:f.holder||null,notes:f.notes||null,company_id:t.company_id});if(d)throw d},onSuccess:()=>{n.invalidateQueries({queryKey:["assets"]}),n.invalidateQueries({queryKey:["dashboard-stats"]}),n.invalidateQueries({queryKey:["recent-assets"]}),n.invalidateQueries({queryKey:["plan-limits"]}),r({title:"Ativo criado com sucesso!",description:"O ativo foi adicionado ao sistema"}),a!=null&&a.isAssetsLimitWarning&&!(a!=null&&a.isAssetsLimitReached)&&r({title:"Aproximando do limite",description:"Voc est prximo do limite de ativos do seu plano. Considere fazer upgrade.",variant:"destructive"}),e("/assets")},onError:f=>{s(f.message||"Erro ao criar ativo")}}),u=f=>{if(s(""),!f.name||!f.code){s("Nome e cdigo so obrigatrios");return}l.mutate(f)};return x.jsxs("div",{className:"space-y-6 pb-10",children:[x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs(zt,{variant:"ghost",onClick:()=>e("/assets"),children:[x.jsx(xf,{className:"h-4 w-4 mr-2"}),"Voltar"]}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Novo Ativo"}),x.jsx("p",{className:"mt-2 text-gray-600",children:"Adicionar um novo ativo ao patrimnio da empresa"})]})]}),x.jsxs("div",{className:"max-w-4xl",children:[i&&x.jsx(Hi,{variant:"destructive",className:"mb-6",children:x.jsx(Vi,{children:i})}),(a==null?void 0:a.isAssetsLimitReached)&&x.jsx(Hi,{className:"mb-6",children:x.jsxs(Vi,{children:["Voc atingiu o limite de ativos do seu plano atual (",a.assetsCount,"/",a.assetsLimit,").",x.jsx(zt,{variant:"link",className:"p-0 h-auto font-semibold ml-1",onClick:()=>e("/my-plan"),children:"Faa upgrade do seu plano"})," ","para adicionar mais ativos."]})}),x.jsx(jP,{onSubmit:u,isSubmitting:l.isPending,submitLabel:"Salvar Ativo",disabled:a==null?void 0:a.isAssetsLimitReached})]})]})}function kre(){const{id:e}=q6(),t=ws(),{profile:r}=Si(),{toast:n}=ns(),i=xl(),[s,a]=D.useState(""),{data:l,isLoading:u}=Zl({queryKey:["asset",e],queryFn:async()=>{if(!e)throw new Error("Asset ID is required");const{data:m,error:y}=await pr.from("assets").select("*").eq("id",e).single();if(y)throw y;return m},enabled:!!e}),f=pl({mutationFn:async m=>{if(!e)throw new Error("Asset ID is required");if(!(r!=null&&r.company_id))throw new Error("Company ID not found");const{error:y}=await pr.from("assets").update({name:m.name,code:m.code,location:m.location||null,status:m.status,acquisition_date:m.acquisition_date||null,value:m.value?parseFloat(m.value):null,serial_number:m.serial_number||null,color:m.color||null,manufacturer:m.manufacturer||null,model:m.model||null,capacity:m.capacity||null,voltage:m.voltage||null,origin:m.origin||null,condition:m.condition||null,inalienable:m.inalienable,holder:m.holder||null,notes:m.notes||null}).eq("id",e);if(y)throw y},onSuccess:()=>{i.invalidateQueries({queryKey:["asset",e]}),i.invalidateQueries({queryKey:["assets"]}),i.invalidateQueries({queryKey:["dashboard-stats"]}),i.invalidateQueries({queryKey:["recent-assets"]}),n({title:"Ativo atualizado com sucesso!",description:"As alteraes foram salvas"}),t(`/assets/${e}`)},onError:m=>{a(m.message||"Erro ao atualizar ativo")}}),d=m=>{if(a(""),!m.name||!m.code){a("Nome e cdigo so obrigatrios");return}f.mutate(m)};return u?x.jsxs("div",{className:"space-y-6 pb-10",children:[x.jsx("div",{className:"flex items-center space-x-4",children:x.jsxs(zt,{variant:"ghost",onClick:()=>t("/assets"),children:[x.jsx(xf,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),x.jsxs("div",{className:"animate-pulse max-w-4xl",children:[x.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),x.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-8"}),x.jsx("div",{className:"space-y-4",children:Array.from({length:6}).map((m,y)=>x.jsx("div",{className:"h-12 bg-gray-200 rounded"},y))})]})]}):l?x.jsxs("div",{className:"space-y-6 pb-10",children:[x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs(zt,{variant:"ghost",onClick:()=>t(`/assets/${e}`),children:[x.jsx(xf,{className:"h-4 w-4 mr-2"}),"Voltar"]}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Editar Ativo"}),x.jsxs("p",{className:"mt-2 text-gray-600",children:["Modificar informaes de ",x.jsx("strong",{children:l.name})]})]})]}),x.jsxs("div",{className:"max-w-4xl",children:[s&&x.jsx(Hi,{variant:"destructive",className:"mb-6",children:x.jsx(Vi,{children:s})}),x.jsx(jP,{asset:l,onSubmit:d,isSubmitting:f.isPending,submitLabel:"Salvar Alteraes"})]})]}):x.jsxs("div",{className:"space-y-6 pb-10",children:[x.jsx("div",{className:"flex items-center space-x-4",children:x.jsxs(zt,{variant:"ghost",onClick:()=>t("/assets"),children:[x.jsx(xf,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),x.jsx(Hi,{variant:"destructive",children:x.jsx(Vi,{children:"Ativo no encontrado"})})]})}function Pre({user:e,onEdit:t,profile:r,onDelete:n}){const i=a=>{const l={admin:"bg-red-100 text-red-800",editor:"bg-yellow-100 text-yellow-800",viewer:"bg-green-100 text-green-800"},u={admin:"Administrador",editor:"Editor",viewer:"Visualizador"};return x.jsx(_i,{className:l[a],children:u[a]})},s=a=>x.jsx(_i,{className:a?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:a?"Ativo":"Inativo"});return x.jsx(Tr,{className:"border-0 shadow-md hover:shadow-lg transition-shadow",children:x.jsxs(Or,{className:"p-6",children:[x.jsx("div",{className:"flex justify-between items-start mb-4",children:x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),e.id===(r==null?void 0:r.id)&&x.jsx(_i,{className:"bg-blue-100 text-blue-800 text-xs",children:"Voc"})]}),x.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[x.jsx(a3,{className:"h-3 w-3 mr-1"}),e.email]}),x.jsxs("div",{className:"flex flex-row gap-2 mt-2 justify-center",children:[i(e.role),s(e.is_active??!0)]})]})}),x.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-4",children:[x.jsx(r3,{className:"h-4 w-4 mr-2"}),"Desde ",ay(e.created_at)]}),x.jsxs("div",{className:"flex space-x-2",children:[e.id!==(r==null?void 0:r.id)&&x.jsxs(zt,{variant:"outline",size:"sm",onClick:()=>t(e),className:"flex-1",children:[x.jsx(k8,{className:"h-3 w-3 mr-1"}),"Editar"]}),(r==null?void 0:r.role)==="admin"&&e.role!=="admin"&&x.jsxs(TP,{children:[x.jsxs(gk,{children:[x.jsx(mk,{asChild:!0,children:x.jsx(IP,{asChild:!0,children:x.jsx(zt,{variant:"destructive",size:"sm",className:"flex items-center justify-center",children:x.jsx(P8,{className:"h-4 w-4"})})})}),x.jsx(u4,{children:"Apagar usurio"})]}),x.jsxs(m4,{children:[x.jsxs(x4,{children:[x.jsx(w4,{children:"Confirmar excluso"}),x.jsxs(y4,{children:['Tem certeza que deseja apagar o usurio "',e.name,'"? Esta ao no pode ser desfeita.']})]}),x.jsxs(v4,{children:[x.jsx(_4,{children:"Cancelar"}),x.jsx(b4,{onClick:()=>n(e),className:"bg-red-600 hover:bg-red-700",children:"Apagar usurio"})]})]})]})]})]})})}function Ore({users:e,isLoading:t,onEdit:r,onCreateUser:n,profile:i,onDelete:s}){if(t)return x.jsx("div",{className:"col-span-full flex justify-center py-12",children:x.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),x.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[x.jsx(Ad,{className:"h-5 w-5 animate-pulse"}),x.jsx("span",{className:"text-base",children:"Carregando usurios..."})]})]})});if(!e||e.length===0)return x.jsx("div",{className:"col-span-full",children:x.jsx(Tr,{className:"border-0 shadow-md",children:x.jsxs(Or,{className:"text-center py-12",children:[x.jsx(Ad,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),x.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum usurio encontrado"}),x.jsx("p",{className:"text-gray-600 mb-6",children:"Comece adicionando usurios  sua empresa"}),x.jsxs(zt,{onClick:n,children:[x.jsx(A2,{className:"h-4 w-4 mr-2"}),"Adicionar Primeiro Usurio"]})]})})});const a=l=>{s(l)};return x.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:e.map(l=>x.jsx(Pre,{user:l,onEdit:r,profile:i,onDelete:a},l.id))})}var E4="Switch",[Rre,Mne]=Iu(E4),[Lre,Dre]=Rre(E4),BP=D.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:a,disabled:l,value:u="on",onCheckedChange:f,form:d,...m}=e,[y,v]=D.useState(null),E=Xr(t,I=>v(I)),_=D.useRef(!1),N=y?d||!!y.closest("form"):!0,[A=!1,C]=kf({prop:i,defaultProp:s,onChange:f});return x.jsxs(Lre,{scope:r,checked:A,disabled:l,children:[x.jsx(wr.button,{type:"button",role:"switch","aria-checked":A,"aria-required":a,"data-state":zP(A),"data-disabled":l?"":void 0,disabled:l,value:u,...m,ref:E,onClick:nr(e.onClick,I=>{C(L=>!L),N&&(_.current=I.isPropagationStopped(),_.current||I.stopPropagation())})}),N&&x.jsx(Fre,{control:y,bubbles:!_.current,name:n,value:u,checked:A,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});BP.displayName=E4;var UP="SwitchThumb",WP=D.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=Dre(UP,r);return x.jsx(wr.span,{"data-state":zP(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});WP.displayName=UP;var Fre=e=>{const{control:t,checked:r,bubbles:n=!0,...i}=e,s=D.useRef(null),a=d4(r),l=a4(t);return D.useEffect(()=>{const u=s.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(a!==r&&m){const y=new Event("click",{bubbles:n});m.call(u,r),u.dispatchEvent(y)}},[a,r,n]),x.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function zP(e){return e?"checked":"unchecked"}var HP=BP,Mre=WP;const VP=D.forwardRef(({className:e,...t},r)=>x.jsx(HP,{className:Zt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:x.jsx(Mre,{className:Zt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));VP.displayName=HP.displayName;function jre({formData:e,setFormData:t,onSubmit:r,onCancel:n,error:i,isLoading:s,isEditing:a,isEditingSelf:l,disabled:u=!1}){return x.jsxs("form",{onSubmit:r,className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"name",children:"Nome *"}),x.jsx(Mr,{id:"name",value:e.name,onChange:f=>t(d=>({...d,name:f.target.value})),placeholder:"Nome completo",required:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"email",children:"Email *"}),x.jsx(Mr,{id:"email",type:"email",value:e.email,onChange:f=>t(d=>({...d,email:f.target.value})),placeholder:"email@exemplo.com",required:!0,disabled:a}),a&&x.jsx("p",{className:"text-xs text-gray-500",children:"O email no pode ser alterado"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"role",children:"Papel"}),x.jsxs(Jm,{value:e.role,onValueChange:f=>t(d=>({...d,role:f})),children:[x.jsx(O1,{children:x.jsx(e2,{})}),x.jsxs(R1,{children:[x.jsx(Oa,{value:"viewer",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(_i,{className:"bg-green-100 text-green-800",children:"Visualizador"}),x.jsx("span",{className:"text-xs text-gray-600",children:"Apenas visualiza dados"})]})}),x.jsx(Oa,{value:"editor",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(_i,{className:"bg-yellow-100 text-yellow-800",children:"Editor"}),x.jsx("span",{className:"text-xs text-gray-600",children:"Pode criar e editar"})]})}),x.jsx(Oa,{value:"admin",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(_i,{className:"bg-red-100 text-red-800",children:"Administrador"}),x.jsx("span",{className:"text-xs text-gray-600",children:"Controle total"})]})})]})]})]}),!l&&x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(VP,{id:"is_active",checked:e.is_active,onCheckedChange:f=>t(d=>({...d,is_active:f}))}),x.jsx(Nr,{htmlFor:"is_active",children:"Usurio ativo"})]}),l&&x.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:x.jsx("p",{className:"text-sm text-blue-700",children:"Voc no pode alterar o status de ativao da sua prpria conta."})}),i&&x.jsx(Hi,{variant:"destructive",children:x.jsx(Vi,{children:i})}),x.jsxs("div",{className:"flex space-x-4",children:[x.jsx(zt,{type:"button",variant:"outline",onClick:n,className:"flex-1",children:"Cancelar"}),x.jsx(zt,{type:"submit",disabled:s||u,className:"flex-1",children:s?"Salvando...":a?"Salvar Alteraes":"Criar Usurio"})]})]})}function Bre(){const{profile:e}=Si(),{toast:t}=ns(),r=xl(),n=pl({mutationFn:async s=>{const{data:a,error:l}=await pr.auth.signUp({email:s.email,password:Math.random().toString(36).slice(-12),options:{data:{name:s.name,company_id:e==null?void 0:e.company_id,role:s.role,is_active:s.is_active}}});if(l)throw l;return a},onSuccess:()=>{r.invalidateQueries({queryKey:["company-users"]}),t({title:"Usurio criado com sucesso!",description:"O usurio foi adicionado ao sistema. Ele receber um email de confirmao."})}}),i=pl({mutationFn:async({userId:s,updates:a})=>{const{error:l}=await pr.rpc("admin_update_user_profile",{user_id:s,new_name:a.name,new_role:a.role,new_is_active:a.is_active});if(l)throw l},onSuccess:()=>{r.invalidateQueries({queryKey:["company-users"]}),t({title:"Usurio atualizado com sucesso!",description:"As alteraes foram salvas"})}});return{createUserMutation:n,updateUserMutation:i}}function Ure(){const e=ws(),{profile:t}=Si(),{createUserMutation:r,updateUserMutation:n}=Bre(),{data:i}=Z1(),{toast:s}=ns(),{isMobile:a}=yT(),l=xl(),[u,f]=D.useState(!1),[d,m]=D.useState(null),[y,v]=D.useState({email:"",name:"",role:"viewer",is_active:!0}),[E,_]=D.useState(""),{data:N,isLoading:A}=Zl({queryKey:["company-users"],queryFn:async()=>{const{data:F,error:X}=await pr.from("profiles").select("*").eq("company_id",t==null?void 0:t.company_id).order("created_at",{ascending:!1});if(X)throw console.error("Error fetching users:",X),X;return F||[]},enabled:!!(t!=null&&t.company_id)}),C=()=>{v({email:"",name:"",role:"viewer",is_active:!0}),_("")},I=F=>{m(F),v({email:F.email,name:F.name,role:F.role,is_active:F.is_active??!0}),f(!0)},L=F=>{if(F.preventDefault(),_(""),!y.name||!y.email){_("Nome e email so obrigatrios");return}if(!d&&(i!=null&&i.isUsersLimitReached)){_("Limite de usurios do seu plano foi atingido. Faa upgrade para adicionar mais usurios.");return}d?n.mutate({userId:d.id,updates:{name:y.name,role:y.role,is_active:y.is_active}},{onSuccess:()=>{f(!1),m(null),C()},onError:X=>{console.error("Error updating user:",X),_(X.message||"Erro ao atualizar usurio")}}):r.mutate({email:y.email,name:y.name,role:y.role,is_active:y.is_active},{onSuccess:()=>{f(!1),C(),i!=null&&i.isUsersLimitWarning&&!(i!=null&&i.isUsersLimitReached)&&s({title:"Aproximando do limite",description:"Voc est prximo do limite de usurios do seu plano. Considere fazer upgrade.",variant:"destructive"})},onError:X=>{console.error("Error creating user:",X),_(X.message||"Erro ao criar usurio")}})},q=()=>{f(!1),m(null),C()},Q=()=>{C(),m(null),f(!0)},B=d&&d.id===(t==null?void 0:t.id),M=async F=>{if(!window.confirm(`Tem certeza que deseja deletar o usurio ${F.name}?`))return;const{error:X}=await pr.from("profiles").delete().eq("id",F.id);X?s({title:"Erro ao deletar usurio",description:X.message,variant:"destructive"}):(s({title:"Usurio deletado com sucesso"}),l.invalidateQueries({queryKey:["company-users"]}))};return x.jsx(pk,{children:x.jsxs("div",{className:"space-y-6 pb-10",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Usurios"}),x.jsx("p",{className:"mt-2 text-gray-600",children:"Gerencie os usurios da sua empresa"})]}),x.jsxs(Wd,{open:u,onOpenChange:f,children:[x.jsx(j2,{asChild:!0,children:x.jsxs(zt,{onClick:Q,size:a?"icon":void 0,disabled:i==null?void 0:i.isUsersLimitReached,children:[x.jsx(A2,{className:"h-4 w-4"}),!a&&x.jsx("span",{className:"ml-2",children:"Novo Usurio"})]})}),x.jsxs(zf,{children:[x.jsxs(zd,{children:[x.jsx(Hd,{children:d?"Editar Usurio":"Novo Usurio"}),x.jsx(B2,{children:d?"Modifique as informaes do usurio":"Adicione um novo usurio  empresa. O usurio receber um convite por email."})]}),(i==null?void 0:i.isUsersLimitReached)&&!d&&x.jsx(Hi,{children:x.jsxs(Vi,{children:["Voc atingiu o limite de usurios do seu plano atual (",i.usersCount,"/",i.usersLimit,").",x.jsx(zt,{variant:"link",className:"p-0 h-auto font-semibold ml-1",onClick:()=>e("/my-plan"),children:"Faa upgrade do seu plano"})," ","para adicionar mais usurios."]})}),x.jsx(jre,{formData:y,setFormData:v,onSubmit:L,onCancel:q,error:E,isLoading:r.isPending||n.isPending,isEditing:!!d,isEditingSelf:B,disabled:(i==null?void 0:i.isUsersLimitReached)&&!d})]})]})]}),(i==null?void 0:i.isUsersLimitReached)&&x.jsx(Hi,{className:"mb-6",children:x.jsxs(Vi,{children:["Voc atingiu o limite de usurios do seu plano atual (",i.usersCount,"/",i.usersLimit,").",x.jsx(zt,{variant:"link",className:"p-0 h-auto font-semibold ml-1",onClick:()=>window.location.href="/my-plan",children:"Faa upgrade do seu plano"})," ","para adicionar mais usurios."]})}),x.jsx(Ore,{users:N,isLoading:A,onEdit:I,onCreateUser:Q,profile:t,onDelete:M})]})})}function Wre(){const{profile:e,company:t,user:r,updatePassword:n}=Si(),{toast:i}=ns(),s=xl(),[a,l]=D.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||""}),[u,f]=D.useState({newPassword:"",confirmPassword:""}),[d,m]=D.useState({profile:"",password:""}),y=pl({mutationFn:async I=>{if(!(e!=null&&e.id))throw new Error("Profile ID not found");const{error:L}=await pr.from("profiles").update({name:I.name,email:I.email}).eq("id",e.id);if(L)throw L},onSuccess:()=>{s.invalidateQueries({queryKey:["profile"]}),i({title:"Perfil atualizado!",description:"Suas informaes foram salvas com sucesso"}),m(I=>({...I,profile:""}))},onError:I=>{m(L=>({...L,profile:I.message||"Erro ao atualizar perfil"}))}}),v=pl({mutationFn:async I=>{const L=await n(I);if(!L.success)throw new Error(L.error||"Erro ao alterar senha");return L},onSuccess:()=>{i({title:"Senha alterada!",description:"Sua senha foi alterada com sucesso"}),f({newPassword:"",confirmPassword:""}),m(I=>({...I,password:""}))},onError:I=>{m(L=>({...L,password:I.message||"Erro ao alterar senha"}))}}),E=I=>{if(I.preventDefault(),m(L=>({...L,profile:""})),!a.name.trim()){m(L=>({...L,profile:"Nome  obrigatrio"}));return}if(!a.email.trim()){m(L=>({...L,profile:"Email  obrigatrio"}));return}y.mutate(a)},_=I=>{if(I.preventDefault(),m(L=>({...L,password:""})),!u.newPassword){m(L=>({...L,password:"Nova senha  obrigatria"}));return}if(u.newPassword.length<6){m(L=>({...L,password:"Nova senha deve ter pelo menos 6 caracteres"}));return}if(u.newPassword!==u.confirmPassword){m(L=>({...L,password:"Senhas no coincidem"}));return}v.mutate(u.newPassword)},N=(I,L)=>{l(q=>({...q,[I]:L}))},A=(I,L)=>{f(q=>({...q,[I]:L}))},C=I=>{switch(I){case"admin":return"Administrador";case"editor":return"Editor";case"viewer":return"Visualizador";default:return I}};return e?x.jsxs("div",{className:"space-y-6 max-w-4xl pb-10",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl m d:text-3xl font-bold text-gray-900",children:"Perfil"}),x.jsx("p",{className:"mt-2 text-gray-600",children:"Gerencie suas informaes pessoais e configuraes da conta"})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[x.jsxs(Tr,{className:"border-0 shadow-md",children:[x.jsx(an,{children:x.jsxs(sn,{className:"flex items-center",children:[x.jsx(vm,{className:"h-5 w-5 mr-3 text-blue-600"}),"Informaes Pessoais"]})}),x.jsx(Or,{children:x.jsxs("form",{onSubmit:E,className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"name",children:"Nome"}),x.jsx(Mr,{id:"name",value:a.name,onChange:I=>N("name",I.target.value),placeholder:"Seu nome completo"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"email",children:"Email"}),x.jsx(Mr,{disabled:!0,id:"email",type:"email",value:a.email,onChange:I=>N("email",I.target.value),placeholder:"seu@email.com"})]})]}),d.profile&&x.jsx(Hi,{variant:"destructive",children:x.jsx(Vi,{children:d.profile})}),x.jsx(zt,{type:"submit",disabled:y.isPending,className:"w-full sm:w-auto",children:y.isPending?"Salvando...":"Salvar Alteraes"})]})})]}),x.jsxs(Tr,{className:"border-0 shadow-md",children:[x.jsx(an,{children:x.jsxs(sn,{className:"flex items-center",children:[x.jsx(WF,{className:"h-5 w-5 mr-3 text-blue-600"}),"Alterar Senha"]})}),x.jsx(Or,{children:x.jsxs("form",{onSubmit:_,className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"newPassword",children:"Nova Senha"}),x.jsx(Mr,{id:"newPassword",type:"password",value:u.newPassword,onChange:I=>A("newPassword",I.target.value),placeholder:"Digite a nova senha"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"confirmPassword",children:"Confirmar Senha"}),x.jsx(Mr,{id:"confirmPassword",type:"password",value:u.confirmPassword,onChange:I=>A("confirmPassword",I.target.value),placeholder:"Confirme a nova senha"})]})]}),d.password&&x.jsx(Hi,{variant:"destructive",children:x.jsx(Vi,{children:d.password})}),x.jsx(zt,{type:"submit",disabled:v.isPending,className:"w-full sm:w-auto",children:v.isPending?"Alterando...":"Alterar Senha"})]})})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs(Tr,{className:"border-0 shadow-md",children:[x.jsx(an,{children:x.jsxs(sn,{className:"flex items-center",children:[x.jsx(F_,{className:"h-5 w-5 mr-3 text-green-600"}),"Informaes da Conta"]})}),x.jsxs(Or,{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(a3,{className:"h-5 w-5 text-gray-400"}),x.jsxs("div",{className:"min-w-0 flex-1",children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),x.jsx("p",{className:"text-sm text-gray-900 truncate",children:e.email})]})]}),x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(F_,{className:"h-5 w-5 text-gray-400"}),x.jsxs("div",{className:"min-w-0 flex-1",children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Funo"}),x.jsx("p",{className:"text-sm text-gray-900",children:C(e.role)})]})]}),t&&x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(t3,{className:"h-5 w-5 text-gray-400"}),x.jsxs("div",{className:"min-w-0 flex-1",children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Empresa"}),x.jsx("p",{className:"text-sm text-gray-900 break-words",children:t.name})]})]})]})]}),x.jsxs(Tr,{className:"border-0 shadow-md",children:[x.jsx(an,{children:x.jsxs(sn,{className:"flex items-center",children:[x.jsx(N8,{className:"h-5 w-5 mr-3 text-blue-600"}),"Histrico"]})}),x.jsxs(Or,{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Conta criada em"}),x.jsx("p",{className:"text-sm text-gray-900",children:$h(new Date(e.created_at),"dd/MM/yyyy HH:mm",{locale:wf})})]}),e.updated_by_user_name&&x.jsxs(x.Fragment,{children:[x.jsx(D2,{}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"ltima modificao"}),x.jsx("p",{className:"text-sm text-gray-900",children:e.updated_by_user_name}),x.jsx("p",{className:"text-sm text-gray-900",children:$h(new Date(e.updated_at),"dd/MM/yyyy HH:mm",{locale:wf})})]})]})]})]})]})]})]}):x.jsxs("div",{className:"space-y-6 pb-10",children:[x.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Perfil"}),x.jsx(Tr,{className:"border-0 shadow-md",children:x.jsxs(Or,{className:"text-center py-12",children:[x.jsx(vm,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),x.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Perfil no encontrado"}),x.jsx("p",{className:"text-gray-600",children:"No foi possvel carregar as informaes do perfil"})]})})]})}var qP="basil",zre=function(t){return t===3?"v3":t},GP="https://js.stripe.com",Hre="".concat(GP,"/").concat(qP,"/stripe.js"),Vre=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,qre=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Gre=function(t){return Vre.test(t)||qre.test(t)},$re=function(){for(var t=document.querySelectorAll('script[src^="'.concat(GP,'"]')),r=0;r<t.length;r++){var n=t[r];if(Gre(n.src))return n}return null},JE=function(t){var r="",n=document.createElement("script");n.src="".concat(Hre).concat(r);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},Xre=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.4.0",startTime:r})},y0=null,vg=null,wg=null,Yre=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},Kre=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},Qre=function(t){return y0!==null?y0:(y0=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var i=$re();if(!(i&&t)){if(!i)i=JE(t);else if(i&&wg!==null&&vg!==null){var s;i.removeEventListener("load",wg),i.removeEventListener("error",vg),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=JE(t)}}wg=Kre(r,n),vg=Yre(n),i.addEventListener("load",wg),i.addEventListener("error",vg)}catch(a){n(a);return}}),y0.catch(function(r){return y0=null,Promise.reject(r)}))},Zre=function(t,r,n){if(t===null)return null;var i=r[0],s=i.match(/^pk_test/),a=zre(t.version),l=qP;s&&a!==l&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("7.4.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var u=t.apply(void 0,r);return Xre(u,n),u},b0,$P=!1,XP=function(){return b0||(b0=Qre(null).catch(function(t){return b0=null,Promise.reject(t)}),b0)};Promise.resolve().then(function(){return XP()}).catch(function(e){$P||console.warn(e)});var Jre=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];$P=!0;var i=Date.now();return XP().then(function(s){return Zre(s,r,i)})};const ene="pk_test_51RgE7aCpLUoYVzVwrZOCrwcgRH2nlX8parLqUT2mrWOYrd67HlpzY46aLhSS0Ogv6JmoSbJ5LUE1zgZEMcS0qEGh00LUyFtQe7",tne=Jre(ene),rne={basic:"price_1RgFlKCpLUoYVzVwvY3ggQGJ",premium:"price_1RgFlKCpLUoYVzVwvY3ggQGJ"},nne="https://nvwscxburlixyqkbhfux.supabase.co/functions/v1/create-stripe-session";async function ine(e){try{const{data:{user:t}}=await pr.auth.getUser();if(!t)throw new Error("Usurio no autenticado");const{data:r}=await pr.from("profiles").select("company_id, name, email").eq("id",t.id).single();if(!r)throw new Error("Perfil no encontrado");const n={product_id:rne[e],company_id:r.company_id||"empresa_123",plan:e},i=await fetch(nne,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im52d3NjeGJ1cmxpeHlxa2JoZnV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA1Mjk1MTEsImV4cCI6MjA2NjEwNTUxMX0.ppBJapu82yVC7wBeXqZlkgceMGLpPt9VA58AOSmUlhI"},body:JSON.stringify(n)});if(!i.ok){const a=await i.json();throw new Error(a.error||"Erro ao criar sesso de checkout")}const{sessionId:s}=await i.json();return s}catch(t){throw console.error("Erro ao criar sesso de checkout:",t),t}}async function A4(e){try{const t=await ine(e),r=await tne;if(!r)throw new Error("Stripe no carregado");const{error:n}=await r.redirectToCheckout({sessionId:t});if(n)throw n}catch(t){throw console.error("Erro ao redirecionar para checkout:",t),t}}async function sne(){try{await A4("basic")}catch(e){throw console.error("Erro ao fazer upgrade para Basic:",e),e}}async function ane(){try{await A4("premium")}catch(e){throw console.error("Erro ao fazer upgrade para Premium:",e),e}}function one(){const{data:e,isLoading:t,error:r}=Z1(),{profile:n,company:i}=Si(),[s,a]=D.useState(!1),[l,u]=D.useState(!1),{toast:f}=ns();if(t)return x.jsxs("div",{className:"space-y-6",children:[x.jsx("div",{className:"flex items-center justify-between",children:x.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Meu Plano"})}),x.jsx("div",{className:"grid gap-6",children:x.jsxs(Tr,{children:[x.jsx(an,{children:x.jsxs("div",{className:"animate-pulse",children:[x.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-2"}),x.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})}),x.jsx(Or,{children:x.jsxs("div",{className:"animate-pulse space-y-4",children:[x.jsx("div",{className:"h-4 bg-gray-200 rounded"}),x.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),x.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})]})})]});if(r||!e)return x.jsxs("div",{className:"space-y-6",children:[x.jsx("div",{className:"flex items-center justify-between",children:x.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Meu Plano"})}),x.jsx(Tr,{children:x.jsx(Or,{className:"pt-6",children:x.jsx("p",{className:"text-red-600",children:"Erro ao carregar informaes do plano."})})})]});const d=E=>E>=100?"bg-red-100":E>=80?"bg-yellow-100":"bg-green-100",m=E=>E>=100?"bg-red-500":E>=80?"bg-yellow-400":"bg-green-400",y=async()=>{a(!0);try{await sne()}catch(E){console.error("Erro ao fazer upgrade para Basic:",E),f({title:"Erro ao processar pagamento",description:"No foi possvel iniciar o processo de pagamento. Tente novamente.",variant:"destructive"})}finally{a(!1)}},v=async()=>{u(!0);try{await ane()}catch(E){console.error("Erro ao fazer upgrade para Premium:",E),f({title:"Erro ao processar pagamento",description:"No foi possvel iniciar o processo de pagamento. Tente novamente.",variant:"destructive"})}finally{u(!1)}};return x.jsxs("div",{className:"space-y-6",children:[x.jsx("div",{className:"flex items-center justify-between",children:x.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Meu Plano"})}),x.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[x.jsxs(Tr,{className:e.currentPlan==="free"?"bg-green-50 border-green-300":`${e.isAssetsLimitReached||e.isUsersLimitReached?"border-red-500 bg-red-50":e.isAssetsLimitWarning||e.isUsersLimitWarning?"border-yellow-500 bg-yellow-50":""}
                ${e.currentPlan==="basic"?" bg-blue-50 border-blue-300":""}
                ${e.currentPlan==="premium"?" bg-purple-50 border-purple-300":""}`,children:[x.jsxs(an,{children:[x.jsxs(sn,{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-2xl",children:e.planInfo.icon}),"Plano ",e.planInfo.name]}),x.jsx(La,{children:"Seu plano atual e benefcios"})]}),x.jsxs(Or,{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(D_,{className:"h-4 w-4 text-gray-500"}),x.jsx("span",{className:"text-sm text-gray-600",children:e.currentPlan==="premium"?"Suporte: WhatsApp (at 24h) ou E-mail (at 24h)":`Suporte: ${e.planInfo.support}`})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Cn,{className:"h-4 w-4 text-gray-500"}),x.jsxs("span",{className:"text-sm text-gray-600",children:["Ativos: At ",e.planInfo.maxAssets]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Ad,{className:"h-4 w-4 text-gray-500"}),x.jsxs("span",{className:"text-sm text-gray-600",children:["Usurios: At ",e.planInfo.maxUsers]})]})]})]}),x.jsxs(Tr,{children:[x.jsxs(an,{children:[x.jsx(sn,{children:"Uso Atual"}),x.jsx(La,{children:"Como voc est usando seu plano"})]}),x.jsxs(Or,{className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Cn,{className:"h-4 w-4 text-gray-500"}),x.jsx("span",{className:"text-sm font-medium",children:"Ativos"})]}),x.jsxs("span",{className:"text-sm text-gray-600",children:[e.assetsCount," / ",e.assetsLimit]})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx(Qm,{value:e.assetsUsage,className:`h-2 ${d(e.assetsUsage)}`,indicatorClassName:m(e.assetsUsage)}),x.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[x.jsxs("span",{children:[e.assetsUsage,"% usado"]}),e.isAssetsLimitWarning&&x.jsx(_i,{variant:"destructive",className:"text-xs",children:e.isAssetsLimitReached?"Limite atingido":"Aproximando do limite"})]})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Ad,{className:"h-4 w-4 text-gray-500"}),x.jsx("span",{className:"text-sm font-medium",children:"Usurios"})]}),x.jsxs("span",{className:"text-sm text-gray-600",children:[e.usersCount," / ",e.usersLimit]})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx(Qm,{value:e.usersUsage,className:`h-2 ${d(e.usersUsage)}`,indicatorClassName:m(e.usersUsage)}),x.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[x.jsxs("span",{children:[e.usersUsage,"% usado"]}),e.isUsersLimitWarning&&x.jsx(_i,{variant:"destructive",className:"text-xs",children:e.isUsersLimitReached?"Limite atingido":"Aproximando do limite"})]})]})]})]})]}),x.jsxs(Tr,{children:[x.jsxs(an,{children:[x.jsxs(sn,{className:"flex items-center gap-2 justify-center text-center",children:[x.jsx(D_,{className:"h-5 w-5 text-blue-600"}),"Fale com o Suporte"]}),x.jsx(La,{className:"text-center",children:"Entre em contato conforme o seu plano"})]}),x.jsxs(Or,{className:"space-y-4 flex flex-col items-center justify-center",children:[x.jsxs("div",{className:"flex flex-col items-center gap-1 w-full",children:[x.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[x.jsx(a3,{className:"h-4 w-4 text-blue-600"}),x.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"E-mail"})]}),x.jsx("a",{href:"mailto:suporte.microfocuspro@gmail.com?subject=Suporte%20Armazena%20App",className:"text-blue-700 font-medium hover:underline break-all text-center",target:"_blank",rel:"noopener noreferrer",children:"suporte.microfocuspro@gmail.com"})]}),e.currentPlan==="premium"&&x.jsxs("div",{className:"flex flex-col items-center gap-2 w-full mt-2",children:[x.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[x.jsx(HF,{className:"h-4 w-4 text-green-600"}),x.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"WhatsApp"})]}),x.jsx(zt,{asChild:!0,className:"w-full bg-green-500 hover:bg-green-600 text-white",size:"lg",children:x.jsx("a",{href:`https://wa.me/5543988448558?text=${encodeURIComponent(`Preciso de suporte no Armazena App. Meu nome  ${(n==null?void 0:n.name)||""} da empresa ${(i==null?void 0:i.name)||""}`)}`,target:"_blank",rel:"noopener noreferrer",children:"Falar no WhatsApp"})})]})]})]})]}),e.currentPlan!=="premium"&&x.jsxs(Tr,{children:[x.jsxs(an,{children:[x.jsx(sn,{children:"Prximos Planos"}),x.jsx(La,{children:"Conhea os benefcios dos outros planos"})]}),x.jsx(Or,{children:x.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:Object.entries(A3).map(([E,_])=>E===e.currentPlan||E==="enterprise"||e.currentPlan==="basic"&&E==="free"?null:x.jsxs("div",{className:`border rounded-lg p-4 space-y-3
                      ${E==="basic"?"bg-blue-50 border-blue-300":""}
                      ${E==="premium"?"bg-purple-50 border-purple-300":""}
                    `,children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-xl",children:_.icon}),x.jsx("h3",{className:"font-semibold",children:_.name})]}),x.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[x.jsxs("div",{children:["At ",_.maxAssets," ativos"]}),x.jsxs("div",{children:["At ",_.maxUsers," usurios"]}),x.jsx("div",{children:_.support})]}),E==="basic"?x.jsx(zt,{variant:"outline",size:"sm",className:"w-full",onClick:y,disabled:s,children:s?x.jsxs(x.Fragment,{children:[x.jsx(iy,{className:"h-4 w-4 mr-2 animate-spin"}),"Processando..."]}):"Fazer Upgrade"}):E==="premium"?x.jsx(zt,{variant:"outline",size:"sm",className:"w-full",onClick:v,disabled:l,children:l?x.jsxs(x.Fragment,{children:[x.jsx(iy,{className:"h-4 w-4 mr-2 animate-spin"}),"Processando..."]}):"Fazer Upgrade"}):x.jsx(zt,{variant:"outline",size:"sm",className:"w-full",disabled:!0,children:"Fazer Upgrade"})]},E))})})]})]})}function lne(){const{signOut:e}=Si();return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center p-4",children:x.jsxs(Tr,{className:"max-w-md w-full",children:[x.jsxs(an,{className:"text-center",children:[x.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:x.jsx(w1,{className:"h-8 w-8 text-red-600"})}),x.jsx(sn,{className:"text-xl text-gray-900",children:"Acesso Negado"})]}),x.jsxs(Or,{className:"text-center space-y-4",children:[x.jsx("p",{className:"text-gray-600",children:"Sua conta foi desativada ou no est mais vinculada a uma empresa. Entre em contato com o administrador da sua empresa."}),x.jsxs(zt,{onClick:e,className:"w-full",children:[x.jsx(s3,{className:"h-4 w-4 mr-2"}),"Fazer Login com Outra Conta"]})]})]})})}function cne(){const{hash:e,pathname:t,search:r}=jo(),n=ws();return D.useEffect(()=>{console.log("AuthRedirectHandler - Localizao atual:",{pathname:t,search:r,hash:e});const i=new URLSearchParams(r),s=i.get("token"),a=i.get("type");if(s&&a){console.log("Processando confirmao via query params:",{type:a,token:s.substring(0,10)+"..."}),pr.auth.verifyOtp({token_hash:s,type:a}).then(({data:m,error:y})=>{if(y){console.error("Erro ao verificar token:",y),n("/login?error=confirmation_failed",{replace:!0});return}if(console.log("Token verificado com sucesso:",m),a==="signup"){console.log("Redirecionando para onboarding aps confirmao de signup"),n("/onboarding",{replace:!0});return}if(a==="recovery"){console.log("Redirecionando para reset password"),n("/reset-password",{replace:!0});return}n("/dashboard",{replace:!0})});return}if(!(e!=null&&e.startsWith("#access_token")))return;const l=new URLSearchParams(e.substring(1)),u=l.get("access_token"),f=l.get("refresh_token"),d=l.get("type");u&&f&&(console.log("Processando tokens do hash:",{type:d}),pr.auth.setSession({access_token:u,refresh_token:f}).then(()=>{d==="recovery"?n("/reset-password",{replace:!0}):d==="signup"?n("/onboarding",{replace:!0}):n("/dashboard",{replace:!0})}).catch(m=>{console.error("Erro ao definir sesso:",m),n("/login",{replace:!0})}))},[e,t,r,n]),null}function une(){const[e,t]=D.useState(""),[r,n]=D.useState(""),[i,s]=D.useState(!1),[a,l]=D.useState(""),{toast:u}=ns(),f=ws(),d=async()=>{if(l(""),e!==r){l("As senhas no coincidem.");return}if(e.length<6){l("A senha deve ter pelo menos 6 caracteres.");return}s(!0);const{error:m}=await pr.auth.updateUser({password:e});if(s(!1),m){l(m.message);return}u({title:"Senha redefinida!",description:"Voc ser redirecionado para o login."}),setTimeout(()=>{f("/login",{replace:!0})},3e3)};return x.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50 px-4",children:x.jsxs("div",{className:"max-w-md w-full space-y-8",children:[x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex justify-center items-center gap-3 mt-6",children:[x.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:x.jsx(Cn,{className:"h-8 w-8 text-white"})}),x.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Armazena App"})]}),x.jsx("p",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Definir nova senha"})]}),x.jsxs(Tr,{className:"shadow-lg border-0",children:[x.jsxs(an,{children:[x.jsx(sn,{className:"text-2xl text-center",children:"Nova senha"}),x.jsx(La,{className:"text-center",children:"Digite e confirme sua nova senha"})]}),x.jsxs(Or,{className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{children:"Nova senha"}),x.jsx(Mr,{type:"password",value:e,onChange:m=>t(m.target.value),placeholder:"Mnimo 6 caracteres",required:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{children:"Confirmar senha"}),x.jsx(Mr,{type:"password",value:r,onChange:m=>n(m.target.value),required:!0})]}),a&&x.jsx(Hi,{variant:"destructive",children:x.jsx(Vi,{children:a})}),x.jsx(zt,{className:"w-full h-11",onClick:d,disabled:i,children:i?"Salvando":"Salvar"})]})]})]})})}function fne(){const[e,t]=D.useState(""),[r,n]=D.useState(""),[i,s]=D.useState(!1),[a,l]=D.useState(""),{toast:u}=ns(),f=ws(),d=async()=>{if(l(""),e!==r){l("As senhas no coincidem.");return}if(e.length<6){l("A senha deve ter pelo menos 6 caracteres.");return}s(!0);const{error:m}=await pr.auth.updateUser({password:e});if(s(!1),m){l(m.message);return}u({title:"Senha cadastrada!",description:"Voc ser redirecionado para o login."}),setTimeout(()=>{f("/login",{replace:!0})},3e3)};return x.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50 px-4",children:x.jsxs("div",{className:"max-w-md w-full space-y-8",children:[x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex justify-center items-center gap-3 mt-6",children:[x.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:x.jsx(Cn,{className:"h-8 w-8 text-white"})}),x.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Armazena App"})]}),x.jsx("p",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Definir senha de acesso"})]}),x.jsxs(Tr,{className:"shadow-lg border-0",children:[x.jsxs(an,{children:[x.jsx(sn,{className:"text-2xl text-center",children:"Criar senha"}),x.jsx(La,{className:"text-center",children:"Digite e confirme sua senha para ativar seu acesso"})]}),x.jsxs(Or,{className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{children:"Senha"}),x.jsx(Mr,{type:"password",value:e,onChange:m=>t(m.target.value),placeholder:"Mnimo 6 caracteres",required:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{children:"Confirmar senha"}),x.jsx(Mr,{type:"password",value:r,onChange:m=>n(m.target.value),required:!0})]}),a&&x.jsx(Hi,{variant:"destructive",children:x.jsx(Vi,{children:a})}),x.jsx(zt,{className:"w-full h-11",onClick:d,disabled:i,children:i?"Salvando":"Salvar"})]})]})]})})}function hne(){const[e,t]=D.useState(0),[r,n]=D.useState(""),[i,s]=D.useState(""),[a,l]=D.useState(""),[u,f]=D.useState(""),[d,m]=D.useState(!1),[y,v]=D.useState(!1),[E,_]=D.useState(!1),[N,A]=D.useState(""),{signUp:C}=Si(),I=ws(),{toast:L}=ns(),q=async Q=>{Q.preventDefault(),A(""),_(!0);try{await C(i,a,r),L({title:"Cadastro realizado!",description:"Enviamos um e-mail de confirmao. Verifique sua caixa de entrada para ativar sua conta."}),I("/login")}catch(B){A(B.message||"Erro ao criar conta")}finally{_(!1)}};return x.jsx("div",{className:"min-h-screen h-screen bg-gradient-to-br from-slate-50 to-blue-50 px-4 overflow-auto",children:x.jsxs("div",{className:"max-w-md w-full space-y-8 mx-auto py-8",children:[x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex justify-center items-center gap-3 mt-6",children:[x.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:x.jsx(Cn,{className:"h-8 w-8 text-white"})}),x.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Armazena App"})]}),x.jsx("p",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Sistema de Gesto de Ativos"})]}),x.jsxs(Tr,{className:"shadow-lg border-0",children:[x.jsxs(an,{className:"space-y-1",children:[x.jsx(sn,{className:"text-2xl text-center",children:"Criar Conta"}),x.jsx(La,{className:"text-center",children:"Preencha os dados para criar sua conta"})]}),x.jsxs(Or,{children:[x.jsxs("form",{onSubmit:q,className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"name",children:"Nome Completo"}),x.jsx(Mr,{id:"name",type:"text",placeholder:"Seu nome completo",value:r,onChange:Q=>n(Q.target.value),required:!0,className:"h-11"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"email",children:"Email"}),x.jsx(Mr,{id:"email",type:"email",placeholder:"seu@email.com",value:i,onChange:Q=>s(Q.target.value),required:!0,className:"h-11"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"password",children:"Senha"}),x.jsxs("div",{className:"relative",children:[x.jsx(Mr,{id:"password",type:d?"text":"password",placeholder:"Mnimo 6 caracteres",value:a,onChange:Q=>l(Q.target.value),required:!0,className:"h-11 pr-10"}),x.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!d),children:d?x.jsx(mm,{className:"h-4 w-4 text-gray-400"}):x.jsx(v1,{className:"h-4 w-4 text-gray-400"})})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"confirmPassword",children:"Confirmar Senha"}),x.jsxs("div",{className:"relative",children:[x.jsx(Mr,{id:"confirmPassword",type:y?"text":"password",placeholder:"Confirme sua senha",value:u,onChange:Q=>f(Q.target.value),required:!0,className:"h-11 pr-10"}),x.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>v(!y),children:y?x.jsx(mm,{className:"h-4 w-4 text-gray-400"}):x.jsx(v1,{className:"h-4 w-4 text-gray-400"})})]})]}),N&&x.jsx(Hi,{variant:"destructive",children:x.jsx(Vi,{children:N})}),x.jsx(zt,{type:"submit",className:"w-full h-11",disabled:E,children:E?"Criando conta...":"Criar Conta"})]}),x.jsx("div",{className:"mt-6 text-center",children:x.jsxs("p",{className:"text-sm text-gray-600",children:["J tem uma conta?"," ",x.jsx(io,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Fazer login"})]})})]})]})]})})}function dne(){var E;const[e,t]=D.useState(""),[r,n]=D.useState(""),[i,s]=D.useState(!1),[a,l]=D.useState(""),[u,f]=D.useState(!1),{user:d}=Si(),m=ws(),{toast:y}=ns();D.useEffect(()=>{if(!d){m("/login",{replace:!0});return}(async()=>{try{const{data:N}=await pr.from("profiles").select("company_id").eq("id",d.id).single();N!=null&&N.company_id&&m("/set-password",{replace:!0})}catch(N){console.error("Erro ao verificar empresa existente:",N)}})()},[d,m]);const v=async _=>{var N,A,C;_.preventDefault(),l(""),s(!0);try{if(!e||!r){l("Preencha todos os campos");return}if(!d){l("Usurio no autenticado. Faa login novamente."),m("/login",{replace:!0});return}const{data:I,error:L}=await pr.from("companies").insert({name:e,plan:"free"}).select("id");if(L)throw L;const q=(N=I==null?void 0:I[0])==null?void 0:N.id;if(!q)throw new Error("Erro ao criar empresa.");const Q=((A=d.user_metadata)==null?void 0:A.name)??((C=d.email)==null?void 0:C.split("@")[0])??"Usurio",{error:B}=await pr.from("profiles").update({role:"admin",company_id:q,name:Q,is_active:!0}).eq("id",d.id);if(B)throw B;if(r==="free"){y({title:"Cadastro completo!",description:"Sua empresa foi criada com sucesso. Bemvindo ao Armazena!"}),f(!0),setTimeout(()=>{window.location.href="/dashboard"},1500);return}await A4(r)}catch(I){console.error("Erro no onboarding:",I),l(I.message||"Erro ao completar cadastro")}finally{s(!1)}};return d?x.jsxs("div",{className:"h-screen bg-gradient-to-br from-slate-50 to-blue-50 px-4 py-8 overflow-y-auto",children:[u&&x.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-white/80 backdrop-blur-sm",children:[x.jsx(iy,{className:"w-10 h-10 animate-spin text-blue-600 mb-4"}),x.jsx("span",{className:"text-lg font-semibold text-blue-700",children:"Redirecionando..."})]}),x.jsxs("div",{className:"max-w-md w-full space-y-8 mx-auto",children:[x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex justify-center items-center gap-3 mb-6",children:[x.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:x.jsx(Cn,{className:"h-8 w-8 text-white"})}),x.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Armazena App"})]}),x.jsxs("p",{className:"text-lg text-gray-600",children:["Bem-vindo, ",((E=d.user_metadata)==null?void 0:E.name)||"usurio","!"]})]}),x.jsxs(Tr,{className:"shadow-lg border-0",children:[x.jsxs(an,{className:"space-y-1",children:[x.jsx(sn,{className:"text-2xl text-center",children:"Completar Cadastro"}),x.jsx(La,{className:"text-center",children:"Para comear a usar o sistema, informe os dados da sua empresa e escolha um plano."})]}),x.jsx(Or,{children:x.jsxs("form",{onSubmit:v,className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nr,{htmlFor:"companyName",children:"Nome da Empresa *"}),x.jsx(Mr,{id:"companyName",type:"text",placeholder:"Nome da sua empresa",value:e,onChange:_=>t(_.target.value),required:!0,className:"h-11"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx(Nr,{children:"Escolha um Plano *"}),x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${r==="free"?"border-green-600 ring-2 ring-green-200 bg-green-50":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>n("free"),children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"text-lg font-bold text-green-700",children:"Free"}),x.jsx("span",{className:"text-green-700 font-semibold",children:"R$ 0/ms"})]}),x.jsxs("ul",{className:"text-sm text-gray-700 list-disc list-inside space-y-1",children:[x.jsx("li",{children:"At 50 ativos"}),x.jsx("li",{children:"At 2 usurios"}),x.jsx("li",{children:"Suporte por e-mail (at 72h)"})]})]}),x.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer transition-all relative ${r==="basic"?"border-blue-600 ring-2 ring-blue-200 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>n("basic"),children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-lg font-bold text-blue-700",children:"Basic"}),x.jsxs("span",{className:"bg-blue-600 text-white text-xs px-2 py-0.5 rounded-full font-semibold flex items-center gap-1",children:["Mais Popular",x.jsx(GF,{className:"w-3 h-3 text-yellow-300",fill:"#fde047"})]})]}),x.jsx("span",{className:"text-blue-700 font-semibold",children:"R$ 39,90/ms"})]}),x.jsxs("ul",{className:"text-sm text-gray-700 list-disc list-inside space-y-1",children:[x.jsx("li",{children:"At 500 ativos"}),x.jsx("li",{children:"At 3 usurios"}),x.jsx("li",{children:"Suporte por e-mail (at 48h)"})]})]}),x.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${r==="premium"?"border-purple-600 ring-2 ring-purple-200 bg-purple-50":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>n("premium"),children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"text-lg font-bold text-purple-700",children:"Premium"}),x.jsx("span",{className:"text-purple-700 font-semibold",children:"R$ 79,90/ms"})]}),x.jsxs("ul",{className:"text-sm text-gray-700 list-disc list-inside space-y-1",children:[x.jsx("li",{children:"At 1000 ativos"}),x.jsx("li",{children:"At 10 usurios"}),x.jsx("li",{children:"Suporte por WhatsApp (at 24h)"})]})]})]}),x.jsx("div",{className:"mt-4 text-center",children:x.jsxs("div",{className:"inline-block bg-gray-100 border border-gray-200 rounded-lg px-4 py-3",children:[x.jsx("span",{className:"block text-sm text-gray-700 mb-1",children:"Precisa de um plano maior ou personalizado?"}),x.jsx("a",{href:"mailto:microfocuspro@gmail.com",className:"text-blue-700 font-semibold underline hover:text-blue-900",target:"_blank",rel:"noopener noreferrer",children:"Fale conosco: microfocuspro@gmail.com"})]})})]}),a&&x.jsx(Hi,{variant:"destructive",children:x.jsx(Vi,{children:a})}),x.jsx(zt,{type:"submit",className:"w-full h-11",disabled:i||!e||!r,children:i?"Finalizando cadastro...":"Finalizar Cadastro"})]})})]})]})]}):null}const pne=new wD;function gne({children:e}){const{profile:t,company:r,loading:n}=Si(),i=ws(),s=jo();return D.useEffect(()=>{!n&&t&&!r&&s.pathname!=="/onboarding"&&i("/onboarding",{replace:!0})},[t,r,n,s.pathname,i]),n||t&&!r&&s.pathname!=="/onboarding"?null:x.jsx(x.Fragment,{children:e})}function mne(){return x.jsx(ED,{client:pne,children:x.jsxs(O9,{children:[x.jsx(cne,{}),x.jsxs(YB,{children:[x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:x.jsxs(A9,{children:[x.jsx(ls,{path:"/reset-password",element:x.jsx(une,{})}),x.jsx(ls,{path:"/login",element:x.jsx(IH,{})}),x.jsx(ls,{path:"/signup",element:x.jsx(kH,{})}),x.jsx(ls,{path:"/register",element:x.jsx(hne,{})}),x.jsx(ls,{path:"/acesso-negado",element:x.jsx(lne,{})}),x.jsx(ls,{path:"/",element:x.jsx(Qo,{children:x.jsx(Pl,{children:x.jsx(Kw,{to:"/dashboard",replace:!0})})})}),x.jsx(ls,{path:"/dashboard",element:x.jsx(Qo,{children:x.jsx(gne,{children:x.jsx(Pl,{children:x.jsx(PH,{})})})})}),x.jsx(ls,{path:"/assets",element:x.jsx(Qo,{children:x.jsx(Pl,{children:x.jsx(ure,{})})})}),x.jsx(ls,{path:"/assets/new",element:x.jsx(Qo,{children:x.jsx(Pl,{children:x.jsx(Ire,{})})})}),x.jsx(ls,{path:"/assets/:id",element:x.jsx(Qo,{children:x.jsx(Pl,{children:x.jsx(Sre,{})})})}),x.jsx(ls,{path:"/assets/:id/edit",element:x.jsx(Qo,{children:x.jsx(Pl,{children:x.jsx(kre,{})})})}),x.jsx(ls,{path:"/users",element:x.jsx(Qo,{requiredRole:"admin",children:x.jsx(Pl,{children:x.jsx(Ure,{})})})}),x.jsx(ls,{path:"/profile",element:x.jsx(Qo,{children:x.jsx(Pl,{children:x.jsx(Wre,{})})})}),x.jsx(ls,{path:"/my-plan",element:x.jsx(Qo,{requiredRole:"admin",children:x.jsx(Pl,{children:x.jsx(one,{})})})}),x.jsx(ls,{path:"/set-password",element:x.jsx(fne,{})}),x.jsx(ls,{path:"/onboarding",element:x.jsx(Qo,{children:x.jsx(dne,{})})})]})}),x.jsx(AH,{}),x.jsx(_H,{}),x.jsx(bH,{}),x.jsx(PM,{})]})]})})}E6(document.getElementById("root")).render(x.jsx(mne,{}));export{wn as _,Zi as c,i2 as g};
