var Ng=e=>{throw TypeError(e)};var Ch=(e,t,n)=>t.has(e)||Ng("Cannot "+n);var $=(e,t,n)=>(Ch(e,t,"read from private field"),n?n.call(e):t.get(e)),Be=(e,t,n)=>t.has(e)?Ng("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ye=(e,t,n,r)=>(Ch(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Qe=(e,t,n)=>(Ch(e,t,"access private method"),n);var gu=(e,t,n,r)=>({set _(i){ye(e,t,i,n)},get _(){return $(e,t,r)}});function Sy(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function w3(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Ay={exports:{}},uf={},_y={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uc=Symbol.for("react.element"),y3=Symbol.for("react.portal"),v3=Symbol.for("react.fragment"),b3=Symbol.for("react.strict_mode"),C3=Symbol.for("react.profiler"),E3=Symbol.for("react.provider"),S3=Symbol.for("react.context"),A3=Symbol.for("react.forward_ref"),_3=Symbol.for("react.suspense"),N3=Symbol.for("react.memo"),T3=Symbol.for("react.lazy"),Tg=Symbol.iterator;function I3(e){return e===null||typeof e!="object"?null:(e=Tg&&e[Tg]||e["@@iterator"],typeof e=="function"?e:null)}var Ny={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ty=Object.assign,Iy={};function al(e,t,n){this.props=e,this.context=t,this.refs=Iy,this.updater=n||Ny}al.prototype.isReactComponent={};al.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};al.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ry(){}Ry.prototype=al.prototype;function sm(e,t,n){this.props=e,this.context=t,this.refs=Iy,this.updater=n||Ny}var im=sm.prototype=new Ry;im.constructor=sm;Ty(im,al.prototype);im.isPureReactComponent=!0;var Ig=Array.isArray,Oy=Object.prototype.hasOwnProperty,om={current:null},ky={key:!0,ref:!0,__self:!0,__source:!0};function Py(e,t,n){var r,i={},a=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(a=""+t.key),t)Oy.call(t,r)&&!ky.hasOwnProperty(r)&&(i[r]=t[r]);var m=arguments.length-2;if(m===1)i.children=n;else if(1<m){for(var g=Array(m),p=0;p<m;p++)g[p]=arguments[p+2];i.children=g}if(e&&e.defaultProps)for(r in m=e.defaultProps,m)i[r]===void 0&&(i[r]=m[r]);return{$$typeof:Uc,type:e,key:a,ref:u,props:i,_owner:om.current}}function R3(e,t){return{$$typeof:Uc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function am(e){return typeof e=="object"&&e!==null&&e.$$typeof===Uc}function O3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Rg=/\/+/g;function Eh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?O3(""+e.key):t.toString(36)}function Xu(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case Uc:case y3:u=!0}}if(u)return u=e,i=i(u),e=r===""?"."+Eh(u,0):r,Ig(i)?(n="",e!=null&&(n=e.replace(Rg,"$&/")+"/"),Xu(i,t,n,"",function(p){return p})):i!=null&&(am(i)&&(i=R3(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(Rg,"$&/")+"/")+e)),t.push(i)),1;if(u=0,r=r===""?".":r+":",Ig(e))for(var m=0;m<e.length;m++){a=e[m];var g=r+Eh(a,m);u+=Xu(a,t,n,g,i)}else if(g=I3(e),typeof g=="function")for(e=g.call(e),m=0;!(a=e.next()).done;)a=a.value,g=r+Eh(a,m++),u+=Xu(a,t,n,g,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function xu(e,t,n){if(e==null)return e;var r=[],i=0;return Xu(e,r,"","",function(a){return t.call(n,a,i++)}),r}function k3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zn={current:null},Yu={transition:null},P3={ReactCurrentDispatcher:zn,ReactCurrentBatchConfig:Yu,ReactCurrentOwner:om};function Dy(){throw Error("act(...) is not supported in production builds of React.")}nt.Children={map:xu,forEach:function(e,t,n){xu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xu(e,function(){t++}),t},toArray:function(e){return xu(e,function(t){return t})||[]},only:function(e){if(!am(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};nt.Component=al;nt.Fragment=v3;nt.Profiler=C3;nt.PureComponent=sm;nt.StrictMode=b3;nt.Suspense=_3;nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P3;nt.act=Dy;nt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ty({},e.props),i=e.key,a=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,u=om.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(g in t)Oy.call(t,g)&&!ky.hasOwnProperty(g)&&(r[g]=t[g]===void 0&&m!==void 0?m[g]:t[g])}var g=arguments.length-2;if(g===1)r.children=n;else if(1<g){m=Array(g);for(var p=0;p<g;p++)m[p]=arguments[p+2];r.children=m}return{$$typeof:Uc,type:e.type,key:i,ref:a,props:r,_owner:u}};nt.createContext=function(e){return e={$$typeof:S3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:E3,_context:e},e.Consumer=e};nt.createElement=Py;nt.createFactory=function(e){var t=Py.bind(null,e);return t.type=e,t};nt.createRef=function(){return{current:null}};nt.forwardRef=function(e){return{$$typeof:A3,render:e}};nt.isValidElement=am;nt.lazy=function(e){return{$$typeof:T3,_payload:{_status:-1,_result:e},_init:k3}};nt.memo=function(e,t){return{$$typeof:N3,type:e,compare:t===void 0?null:t}};nt.startTransition=function(e){var t=Yu.transition;Yu.transition={};try{e()}finally{Yu.transition=t}};nt.unstable_act=Dy;nt.useCallback=function(e,t){return zn.current.useCallback(e,t)};nt.useContext=function(e){return zn.current.useContext(e)};nt.useDebugValue=function(){};nt.useDeferredValue=function(e){return zn.current.useDeferredValue(e)};nt.useEffect=function(e,t){return zn.current.useEffect(e,t)};nt.useId=function(){return zn.current.useId()};nt.useImperativeHandle=function(e,t,n){return zn.current.useImperativeHandle(e,t,n)};nt.useInsertionEffect=function(e,t){return zn.current.useInsertionEffect(e,t)};nt.useLayoutEffect=function(e,t){return zn.current.useLayoutEffect(e,t)};nt.useMemo=function(e,t){return zn.current.useMemo(e,t)};nt.useReducer=function(e,t,n){return zn.current.useReducer(e,t,n)};nt.useRef=function(e){return zn.current.useRef(e)};nt.useState=function(e){return zn.current.useState(e)};nt.useSyncExternalStore=function(e,t,n){return zn.current.useSyncExternalStore(e,t,n)};nt.useTransition=function(){return zn.current.useTransition()};nt.version="18.3.1";_y.exports=nt;var C=_y.exports;const ii=cf(C),jy=Sy({__proto__:null,default:ii},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D3=C,j3=Symbol.for("react.element"),M3=Symbol.for("react.fragment"),L3=Object.prototype.hasOwnProperty,B3=D3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,F3={key:!0,ref:!0,__self:!0,__source:!0};function My(e,t,n){var r,i={},a=null,u=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)L3.call(t,r)&&!F3.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:j3,type:e,key:a,ref:u,props:i,_owner:B3.current}}uf.Fragment=M3;uf.jsx=My;uf.jsxs=My;Ay.exports=uf;var h=Ay.exports,Ly={exports:{}},xr={},By={exports:{}},Fy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Q,te){var he=Q.length;Q.push(te);e:for(;0<he;){var ue=he-1>>>1,ge=Q[ue];if(0<i(ge,te))Q[ue]=te,Q[he]=ge,he=ue;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var te=Q[0],he=Q.pop();if(he!==te){Q[0]=he;e:for(var ue=0,ge=Q.length,we=ge>>>1;ue<we;){var Re=2*(ue+1)-1,st=Q[Re],de=Re+1,Ee=Q[de];if(0>i(st,he))de<ge&&0>i(Ee,st)?(Q[ue]=Ee,Q[de]=he,ue=de):(Q[ue]=st,Q[Re]=he,ue=Re);else if(de<ge&&0>i(Ee,he))Q[ue]=Ee,Q[de]=he,ue=de;else break e}}return te}function i(Q,te){var he=Q.sortIndex-te.sortIndex;return he!==0?he:Q.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,m=u.now();e.unstable_now=function(){return u.now()-m}}var g=[],p=[],w=1,v=null,E=3,N=!1,P=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Q){for(var te=n(p);te!==null;){if(te.callback===null)r(p);else if(te.startTime<=Q)r(p),te.sortIndex=te.expirationTime,t(g,te);else break;te=n(p)}}function D(Q){if(T=!1,S(Q),!P)if(n(g)!==null)P=!0,fe(W);else{var te=n(p);te!==null&&ne(D,te.startTime-Q)}}function W(Q,te){P=!1,T&&(T=!1,I(L),L=-1),N=!0;var he=E;try{for(S(te),v=n(g);v!==null&&(!(v.expirationTime>te)||Q&&!ee());){var ue=v.callback;if(typeof ue=="function"){v.callback=null,E=v.priorityLevel;var ge=ue(v.expirationTime<=te);te=e.unstable_now(),typeof ge=="function"?v.callback=ge:v===n(g)&&r(g),S(te)}else r(g);v=n(g)}if(v!==null)var we=!0;else{var Re=n(p);Re!==null&&ne(D,Re.startTime-te),we=!1}return we}finally{v=null,E=he,N=!1}}var V=!1,B=null,L=-1,j=5,z=-1;function ee(){return!(e.unstable_now()-z<j)}function q(){if(B!==null){var Q=e.unstable_now();z=Q;var te=!0;try{te=B(!0,Q)}finally{te?se():(V=!1,B=null)}}else V=!1}var se;if(typeof A=="function")se=function(){A(q)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,X=re.port2;re.port1.onmessage=q,se=function(){X.postMessage(null)}}else se=function(){k(q,0)};function fe(Q){B=Q,V||(V=!0,se())}function ne(Q,te){L=k(function(){Q(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){P||N||(P=!0,fe(W))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return n(g)},e.unstable_next=function(Q){switch(E){case 1:case 2:case 3:var te=3;break;default:te=E}var he=E;E=te;try{return Q()}finally{E=he}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,te){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var he=E;E=Q;try{return te()}finally{E=he}},e.unstable_scheduleCallback=function(Q,te,he){var ue=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ue+he:ue):he=ue,Q){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=he+ge,Q={id:w++,callback:te,priorityLevel:Q,startTime:he,expirationTime:ge,sortIndex:-1},he>ue?(Q.sortIndex=he,t(p,Q),n(g)===null&&Q===n(p)&&(T?(I(L),L=-1):T=!0,ne(D,he-ue))):(Q.sortIndex=ge,t(g,Q),P||N||(P=!0,fe(W))),Q},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(Q){var te=E;return function(){var he=E;E=te;try{return Q.apply(this,arguments)}finally{E=he}}}})(Fy);By.exports=Fy;var U3=By.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W3=C,gr=U3;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uy=new Set,cc={};function Fo(e,t){Ya(e,t),Ya(e+"Capture",t)}function Ya(e,t){for(cc[e]=t,e=0;e<t.length;e++)Uy.add(t[e])}var Bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x0=Object.prototype.hasOwnProperty,z3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Og={},kg={};function V3(e){return x0.call(kg,e)?!0:x0.call(Og,e)?!1:z3.test(e)?kg[e]=!0:(Og[e]=!0,!1)}function H3(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $3(e,t,n,r){if(t===null||typeof t>"u"||H3(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vn(e,t,n,r,i,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var En={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){En[e]=new Vn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];En[t]=new Vn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){En[e]=new Vn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){En[e]=new Vn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){En[e]=new Vn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){En[e]=new Vn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){En[e]=new Vn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){En[e]=new Vn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){En[e]=new Vn(e,5,!1,e.toLowerCase(),null,!1,!1)});var lm=/[\-:]([a-z])/g;function cm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lm,cm);En[t]=new Vn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lm,cm);En[t]=new Vn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lm,cm);En[t]=new Vn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){En[e]=new Vn(e,1,!1,e.toLowerCase(),null,!1,!1)});En.xlinkHref=new Vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){En[e]=new Vn(e,1,!1,e.toLowerCase(),null,!0,!0)});function um(e,t,n,r){var i=En.hasOwnProperty(t)?En[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($3(t,n,i,r)&&(n=null),r||i===null?V3(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var $s=W3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wu=Symbol.for("react.element"),ca=Symbol.for("react.portal"),ua=Symbol.for("react.fragment"),dm=Symbol.for("react.strict_mode"),w0=Symbol.for("react.profiler"),Wy=Symbol.for("react.provider"),zy=Symbol.for("react.context"),fm=Symbol.for("react.forward_ref"),y0=Symbol.for("react.suspense"),v0=Symbol.for("react.suspense_list"),hm=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),Vy=Symbol.for("react.offscreen"),Pg=Symbol.iterator;function Ol(e){return e===null||typeof e!="object"?null:(e=Pg&&e[Pg]||e["@@iterator"],typeof e=="function"?e:null)}var Ht=Object.assign,Sh;function zl(e){if(Sh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sh=t&&t[1]||""}return`
`+Sh+e}var Ah=!1;function _h(e,t){if(!e||Ah)return"";Ah=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),a=r.stack.split(`
`),u=i.length-1,m=a.length-1;1<=u&&0<=m&&i[u]!==a[m];)m--;for(;1<=u&&0<=m;u--,m--)if(i[u]!==a[m]){if(u!==1||m!==1)do if(u--,m--,0>m||i[u]!==a[m]){var g=`
`+i[u].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=u&&0<=m);break}}}finally{Ah=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zl(e):""}function G3(e){switch(e.tag){case 5:return zl(e.type);case 16:return zl("Lazy");case 13:return zl("Suspense");case 19:return zl("SuspenseList");case 0:case 2:case 15:return e=_h(e.type,!1),e;case 11:return e=_h(e.type.render,!1),e;case 1:return e=_h(e.type,!0),e;default:return""}}function b0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ua:return"Fragment";case ca:return"Portal";case w0:return"Profiler";case dm:return"StrictMode";case y0:return"Suspense";case v0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zy:return(e.displayName||"Context")+".Consumer";case Wy:return(e._context.displayName||"Context")+".Provider";case fm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hm:return t=e.displayName||null,t!==null?t:b0(e.type)||"Memo";case ci:t=e._payload,e=e._init;try{return b0(e(t))}catch{}}return null}function q3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b0(t);case 8:return t===dm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function X3(e){var t=Hy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yu(e){e._valueTracker||(e._valueTracker=X3(e))}function $y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Hy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function hd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function C0(e,t){var n=t.checked;return Ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Dg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Bi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gy(e,t){t=t.checked,t!=null&&um(e,"checked",t,!1)}function E0(e,t){Gy(e,t);var n=Bi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?S0(e,t.type,n):t.hasOwnProperty("defaultValue")&&S0(e,t.type,Bi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function S0(e,t,n){(t!=="number"||hd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Vl=Array.isArray;function Ca(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Bi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function A0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Ht({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ae(92));if(Vl(n)){if(1<n.length)throw Error(ae(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Bi(n)}}function qy(e,t){var n=Bi(t.value),r=Bi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Lg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vu,Yy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vu=vu||document.createElement("div"),vu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function uc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y3=["Webkit","ms","Moz","O"];Object.keys(Kl).forEach(function(e){Y3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kl[t]=Kl[e]})});function Ky(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Kl.hasOwnProperty(e)&&Kl[e]?(""+t).trim():t+"px"}function Qy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ky(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var K3=Ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function N0(e,t){if(t){if(K3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function T0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I0=null;function mm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var R0=null,Ea=null,Sa=null;function Bg(e){if(e=Vc(e)){if(typeof R0!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=pf(t),R0(e.stateNode,e.type,t))}}function Zy(e){Ea?Sa?Sa.push(e):Sa=[e]:Ea=e}function Jy(){if(Ea){var e=Ea,t=Sa;if(Sa=Ea=null,Bg(e),t)for(e=0;e<t.length;e++)Bg(t[e])}}function ev(e,t){return e(t)}function tv(){}var Nh=!1;function nv(e,t,n){if(Nh)return e(t,n);Nh=!0;try{return ev(e,t,n)}finally{Nh=!1,(Ea!==null||Sa!==null)&&(tv(),Jy())}}function dc(e,t){var n=e.stateNode;if(n===null)return null;var r=pf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ae(231,t,typeof n));return n}var O0=!1;if(Bs)try{var kl={};Object.defineProperty(kl,"passive",{get:function(){O0=!0}}),window.addEventListener("test",kl,kl),window.removeEventListener("test",kl,kl)}catch{O0=!1}function Q3(e,t,n,r,i,a,u,m,g){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(w){this.onError(w)}}var Ql=!1,md=null,pd=!1,k0=null,Z3={onError:function(e){Ql=!0,md=e}};function J3(e,t,n,r,i,a,u,m,g){Ql=!1,md=null,Q3.apply(Z3,arguments)}function e_(e,t,n,r,i,a,u,m,g){if(J3.apply(this,arguments),Ql){if(Ql){var p=md;Ql=!1,md=null}else throw Error(ae(198));pd||(pd=!0,k0=p)}}function Uo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fg(e){if(Uo(e)!==e)throw Error(ae(188))}function t_(e){var t=e.alternate;if(!t){if(t=Uo(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Fg(i),e;if(a===r)return Fg(i),t;a=a.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,m=i.child;m;){if(m===n){u=!0,n=i,r=a;break}if(m===r){u=!0,r=i,n=a;break}m=m.sibling}if(!u){for(m=a.child;m;){if(m===n){u=!0,n=a,r=i;break}if(m===r){u=!0,r=a,n=i;break}m=m.sibling}if(!u)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?e:t}function sv(e){return e=t_(e),e!==null?iv(e):null}function iv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=iv(e);if(t!==null)return t;e=e.sibling}return null}var ov=gr.unstable_scheduleCallback,Ug=gr.unstable_cancelCallback,n_=gr.unstable_shouldYield,r_=gr.unstable_requestPaint,Qt=gr.unstable_now,s_=gr.unstable_getCurrentPriorityLevel,pm=gr.unstable_ImmediatePriority,av=gr.unstable_UserBlockingPriority,gd=gr.unstable_NormalPriority,i_=gr.unstable_LowPriority,lv=gr.unstable_IdlePriority,df=null,ps=null;function o_(e){if(ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(df,e,void 0,(e.current.flags&128)===128)}catch{}}var Gr=Math.clz32?Math.clz32:c_,a_=Math.log,l_=Math.LN2;function c_(e){return e>>>=0,e===0?32:31-(a_(e)/l_|0)|0}var bu=64,Cu=4194304;function Hl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,u=n&268435455;if(u!==0){var m=u&~i;m!==0?r=Hl(m):(a&=u,a!==0&&(r=Hl(a)))}else u=n&~i,u!==0?r=Hl(u):a!==0&&(r=Hl(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Gr(t),i=1<<n,r|=e[n],t&=~i;return r}function u_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-Gr(a),m=1<<u,g=i[u];g===-1?(!(m&n)||m&r)&&(i[u]=u_(m,t)):g<=t&&(e.expiredLanes|=m),a&=~m}}function P0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cv(){var e=bu;return bu<<=1,!(bu&4194240)&&(bu=64),e}function Th(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gr(t),e[t]=n}function f_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Gr(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function gm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Gr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function uv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dv,xm,fv,hv,mv,D0=!1,Eu=[],Ni=null,Ti=null,Ii=null,fc=new Map,hc=new Map,fi=[],h_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wg(e,t){switch(e){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":fc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(t.pointerId)}}function Pl(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Vc(t),t!==null&&xm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function m_(e,t,n,r,i){switch(t){case"focusin":return Ni=Pl(Ni,e,t,n,r,i),!0;case"dragenter":return Ti=Pl(Ti,e,t,n,r,i),!0;case"mouseover":return Ii=Pl(Ii,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return fc.set(a,Pl(fc.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,hc.set(a,Pl(hc.get(a)||null,e,t,n,r,i)),!0}return!1}function pv(e){var t=fo(e.target);if(t!==null){var n=Uo(t);if(n!==null){if(t=n.tag,t===13){if(t=rv(n),t!==null){e.blockedOn=t,mv(e.priority,function(){fv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ku(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=j0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);I0=r,n.target.dispatchEvent(r),I0=null}else return t=Vc(n),t!==null&&xm(t),e.blockedOn=n,!1;t.shift()}return!0}function zg(e,t,n){Ku(e)&&n.delete(t)}function p_(){D0=!1,Ni!==null&&Ku(Ni)&&(Ni=null),Ti!==null&&Ku(Ti)&&(Ti=null),Ii!==null&&Ku(Ii)&&(Ii=null),fc.forEach(zg),hc.forEach(zg)}function Dl(e,t){e.blockedOn===t&&(e.blockedOn=null,D0||(D0=!0,gr.unstable_scheduleCallback(gr.unstable_NormalPriority,p_)))}function mc(e){function t(i){return Dl(i,e)}if(0<Eu.length){Dl(Eu[0],e);for(var n=1;n<Eu.length;n++){var r=Eu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ni!==null&&Dl(Ni,e),Ti!==null&&Dl(Ti,e),Ii!==null&&Dl(Ii,e),fc.forEach(t),hc.forEach(t),n=0;n<fi.length;n++)r=fi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)pv(n),n.blockedOn===null&&fi.shift()}var Aa=$s.ReactCurrentBatchConfig,wd=!0;function g_(e,t,n,r){var i=wt,a=Aa.transition;Aa.transition=null;try{wt=1,wm(e,t,n,r)}finally{wt=i,Aa.transition=a}}function x_(e,t,n,r){var i=wt,a=Aa.transition;Aa.transition=null;try{wt=4,wm(e,t,n,r)}finally{wt=i,Aa.transition=a}}function wm(e,t,n,r){if(wd){var i=j0(e,t,n,r);if(i===null)Bh(e,t,r,yd,n),Wg(e,r);else if(m_(i,e,t,n,r))r.stopPropagation();else if(Wg(e,r),t&4&&-1<h_.indexOf(e)){for(;i!==null;){var a=Vc(i);if(a!==null&&dv(a),a=j0(e,t,n,r),a===null&&Bh(e,t,r,yd,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Bh(e,t,r,null,n)}}var yd=null;function j0(e,t,n,r){if(yd=null,e=mm(r),e=fo(e),e!==null)if(t=Uo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yd=e,null}function gv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s_()){case pm:return 1;case av:return 4;case gd:case i_:return 16;case lv:return 536870912;default:return 16}default:return 16}}var Si=null,ym=null,Qu=null;function xv(){if(Qu)return Qu;var e,t=ym,n=t.length,r,i="value"in Si?Si.value:Si.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===i[a-r];r++);return Qu=i.slice(e,1<r?1-r:void 0)}function Zu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Su(){return!0}function Vg(){return!1}function wr(e){function t(n,r,i,a,u){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(a):a[m]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Su:Vg,this.isPropagationStopped=Vg,this}return Ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Su)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Su)},persist:function(){},isPersistent:Su}),t}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vm=wr(ll),zc=Ht({},ll,{view:0,detail:0}),w_=wr(zc),Ih,Rh,jl,ff=Ht({},zc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jl&&(jl&&e.type==="mousemove"?(Ih=e.screenX-jl.screenX,Rh=e.screenY-jl.screenY):Rh=Ih=0,jl=e),Ih)},movementY:function(e){return"movementY"in e?e.movementY:Rh}}),Hg=wr(ff),y_=Ht({},ff,{dataTransfer:0}),v_=wr(y_),b_=Ht({},zc,{relatedTarget:0}),Oh=wr(b_),C_=Ht({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),E_=wr(C_),S_=Ht({},ll,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),A_=wr(S_),__=Ht({},ll,{data:0}),$g=wr(__),N_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=I_[e])?!!t[e]:!1}function bm(){return R_}var O_=Ht({},zc,{key:function(e){if(e.key){var t=N_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?T_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bm,charCode:function(e){return e.type==="keypress"?Zu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),k_=wr(O_),P_=Ht({},ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gg=wr(P_),D_=Ht({},zc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bm}),j_=wr(D_),M_=Ht({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),L_=wr(M_),B_=Ht({},ff,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),F_=wr(B_),U_=[9,13,27,32],Cm=Bs&&"CompositionEvent"in window,Zl=null;Bs&&"documentMode"in document&&(Zl=document.documentMode);var W_=Bs&&"TextEvent"in window&&!Zl,wv=Bs&&(!Cm||Zl&&8<Zl&&11>=Zl),qg=" ",Xg=!1;function yv(e,t){switch(e){case"keyup":return U_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function z_(e,t){switch(e){case"compositionend":return vv(t);case"keypress":return t.which!==32?null:(Xg=!0,qg);case"textInput":return e=t.data,e===qg&&Xg?null:e;default:return null}}function V_(e,t){if(da)return e==="compositionend"||!Cm&&yv(e,t)?(e=xv(),Qu=ym=Si=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wv&&t.locale!=="ko"?null:t.data;default:return null}}var H_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!H_[e.type]:t==="textarea"}function bv(e,t,n,r){Zy(r),t=vd(t,"onChange"),0<t.length&&(n=new vm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jl=null,pc=null;function $_(e){kv(e,0)}function hf(e){var t=ma(e);if($y(t))return e}function G_(e,t){if(e==="change")return t}var Cv=!1;if(Bs){var kh;if(Bs){var Ph="oninput"in document;if(!Ph){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),Ph=typeof Kg.oninput=="function"}kh=Ph}else kh=!1;Cv=kh&&(!document.documentMode||9<document.documentMode)}function Qg(){Jl&&(Jl.detachEvent("onpropertychange",Ev),pc=Jl=null)}function Ev(e){if(e.propertyName==="value"&&hf(pc)){var t=[];bv(t,pc,e,mm(e)),nv($_,t)}}function q_(e,t,n){e==="focusin"?(Qg(),Jl=t,pc=n,Jl.attachEvent("onpropertychange",Ev)):e==="focusout"&&Qg()}function X_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hf(pc)}function Y_(e,t){if(e==="click")return hf(t)}function K_(e,t){if(e==="input"||e==="change")return hf(t)}function Q_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xr=typeof Object.is=="function"?Object.is:Q_;function gc(e,t){if(Xr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!x0.call(t,i)||!Xr(e[i],t[i]))return!1}return!0}function Zg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jg(e,t){var n=Zg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zg(n)}}function Sv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Av(){for(var e=window,t=hd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hd(e.document)}return t}function Em(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Z_(e){var t=Av(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Sv(n.ownerDocument.documentElement,n)){if(r!==null&&Em(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Jg(n,a);var u=Jg(n,r);i&&u&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var J_=Bs&&"documentMode"in document&&11>=document.documentMode,fa=null,M0=null,ec=null,L0=!1;function ex(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;L0||fa==null||fa!==hd(r)||(r=fa,"selectionStart"in r&&Em(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ec&&gc(ec,r)||(ec=r,r=vd(M0,"onSelect"),0<r.length&&(t=new vm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fa)))}function Au(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ha={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},Dh={},_v={};Bs&&(_v=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function mf(e){if(Dh[e])return Dh[e];if(!ha[e])return e;var t=ha[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _v)return Dh[e]=t[n];return e}var Nv=mf("animationend"),Tv=mf("animationiteration"),Iv=mf("animationstart"),Rv=mf("transitionend"),Ov=new Map,tx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(e,t){Ov.set(e,t),Fo(t,[e])}for(var jh=0;jh<tx.length;jh++){var Mh=tx[jh],eN=Mh.toLowerCase(),tN=Mh[0].toUpperCase()+Mh.slice(1);$i(eN,"on"+tN)}$i(Nv,"onAnimationEnd");$i(Tv,"onAnimationIteration");$i(Iv,"onAnimationStart");$i("dblclick","onDoubleClick");$i("focusin","onFocus");$i("focusout","onBlur");$i(Rv,"onTransitionEnd");Ya("onMouseEnter",["mouseout","mouseover"]);Ya("onMouseLeave",["mouseout","mouseover"]);Ya("onPointerEnter",["pointerout","pointerover"]);Ya("onPointerLeave",["pointerout","pointerover"]);Fo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nN=new Set("cancel close invalid load scroll toggle".split(" ").concat($l));function nx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,e_(r,t,void 0,e),e.currentTarget=null}function kv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var u=r.length-1;0<=u;u--){var m=r[u],g=m.instance,p=m.currentTarget;if(m=m.listener,g!==a&&i.isPropagationStopped())break e;nx(i,m,p),a=g}else for(u=0;u<r.length;u++){if(m=r[u],g=m.instance,p=m.currentTarget,m=m.listener,g!==a&&i.isPropagationStopped())break e;nx(i,m,p),a=g}}}if(pd)throw e=k0,pd=!1,k0=null,e}function Pt(e,t){var n=t[z0];n===void 0&&(n=t[z0]=new Set);var r=e+"__bubble";n.has(r)||(Pv(t,e,2,!1),n.add(r))}function Lh(e,t,n){var r=0;t&&(r|=4),Pv(n,e,r,t)}var _u="_reactListening"+Math.random().toString(36).slice(2);function xc(e){if(!e[_u]){e[_u]=!0,Uy.forEach(function(n){n!=="selectionchange"&&(nN.has(n)||Lh(n,!1,e),Lh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_u]||(t[_u]=!0,Lh("selectionchange",!1,t))}}function Pv(e,t,n,r){switch(gv(t)){case 1:var i=g_;break;case 4:i=x_;break;default:i=wm}n=i.bind(null,t,n,e),i=void 0,!O0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Bh(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var m=r.stateNode.containerInfo;if(m===i||m.nodeType===8&&m.parentNode===i)break;if(u===4)for(u=r.return;u!==null;){var g=u.tag;if((g===3||g===4)&&(g=u.stateNode.containerInfo,g===i||g.nodeType===8&&g.parentNode===i))return;u=u.return}for(;m!==null;){if(u=fo(m),u===null)return;if(g=u.tag,g===5||g===6){r=a=u;continue e}m=m.parentNode}}r=r.return}nv(function(){var p=a,w=mm(n),v=[];e:{var E=Ov.get(e);if(E!==void 0){var N=vm,P=e;switch(e){case"keypress":if(Zu(n)===0)break e;case"keydown":case"keyup":N=k_;break;case"focusin":P="focus",N=Oh;break;case"focusout":P="blur",N=Oh;break;case"beforeblur":case"afterblur":N=Oh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=v_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=j_;break;case Nv:case Tv:case Iv:N=E_;break;case Rv:N=L_;break;case"scroll":N=w_;break;case"wheel":N=F_;break;case"copy":case"cut":case"paste":N=A_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Gg}var T=(t&4)!==0,k=!T&&e==="scroll",I=T?E!==null?E+"Capture":null:E;T=[];for(var A=p,S;A!==null;){S=A;var D=S.stateNode;if(S.tag===5&&D!==null&&(S=D,I!==null&&(D=dc(A,I),D!=null&&T.push(wc(A,D,S)))),k)break;A=A.return}0<T.length&&(E=new N(E,P,null,n,w),v.push({event:E,listeners:T}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",E&&n!==I0&&(P=n.relatedTarget||n.fromElement)&&(fo(P)||P[Fs]))break e;if((N||E)&&(E=w.window===w?w:(E=w.ownerDocument)?E.defaultView||E.parentWindow:window,N?(P=n.relatedTarget||n.toElement,N=p,P=P?fo(P):null,P!==null&&(k=Uo(P),P!==k||P.tag!==5&&P.tag!==6)&&(P=null)):(N=null,P=p),N!==P)){if(T=Hg,D="onMouseLeave",I="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(T=Gg,D="onPointerLeave",I="onPointerEnter",A="pointer"),k=N==null?E:ma(N),S=P==null?E:ma(P),E=new T(D,A+"leave",N,n,w),E.target=k,E.relatedTarget=S,D=null,fo(w)===p&&(T=new T(I,A+"enter",P,n,w),T.target=S,T.relatedTarget=k,D=T),k=D,N&&P)t:{for(T=N,I=P,A=0,S=T;S;S=Jo(S))A++;for(S=0,D=I;D;D=Jo(D))S++;for(;0<A-S;)T=Jo(T),A--;for(;0<S-A;)I=Jo(I),S--;for(;A--;){if(T===I||I!==null&&T===I.alternate)break t;T=Jo(T),I=Jo(I)}T=null}else T=null;N!==null&&rx(v,E,N,T,!1),P!==null&&k!==null&&rx(v,k,P,T,!0)}}e:{if(E=p?ma(p):window,N=E.nodeName&&E.nodeName.toLowerCase(),N==="select"||N==="input"&&E.type==="file")var W=G_;else if(Yg(E))if(Cv)W=K_;else{W=X_;var V=q_}else(N=E.nodeName)&&N.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(W=Y_);if(W&&(W=W(e,p))){bv(v,W,n,w);break e}V&&V(e,E,p),e==="focusout"&&(V=E._wrapperState)&&V.controlled&&E.type==="number"&&S0(E,"number",E.value)}switch(V=p?ma(p):window,e){case"focusin":(Yg(V)||V.contentEditable==="true")&&(fa=V,M0=p,ec=null);break;case"focusout":ec=M0=fa=null;break;case"mousedown":L0=!0;break;case"contextmenu":case"mouseup":case"dragend":L0=!1,ex(v,n,w);break;case"selectionchange":if(J_)break;case"keydown":case"keyup":ex(v,n,w)}var B;if(Cm)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else da?yv(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(wv&&n.locale!=="ko"&&(da||L!=="onCompositionStart"?L==="onCompositionEnd"&&da&&(B=xv()):(Si=w,ym="value"in Si?Si.value:Si.textContent,da=!0)),V=vd(p,L),0<V.length&&(L=new $g(L,e,null,n,w),v.push({event:L,listeners:V}),B?L.data=B:(B=vv(n),B!==null&&(L.data=B)))),(B=W_?z_(e,n):V_(e,n))&&(p=vd(p,"onBeforeInput"),0<p.length&&(w=new $g("onBeforeInput","beforeinput",null,n,w),v.push({event:w,listeners:p}),w.data=B))}kv(v,t)})}function wc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=dc(e,n),a!=null&&r.unshift(wc(e,a,i)),a=dc(e,t),a!=null&&r.push(wc(e,a,i))),e=e.return}return r}function Jo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rx(e,t,n,r,i){for(var a=t._reactName,u=[];n!==null&&n!==r;){var m=n,g=m.alternate,p=m.stateNode;if(g!==null&&g===r)break;m.tag===5&&p!==null&&(m=p,i?(g=dc(n,a),g!=null&&u.unshift(wc(n,g,m))):i||(g=dc(n,a),g!=null&&u.push(wc(n,g,m)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var rN=/\r\n?/g,sN=/\u0000|\uFFFD/g;function sx(e){return(typeof e=="string"?e:""+e).replace(rN,`
`).replace(sN,"")}function Nu(e,t,n){if(t=sx(t),sx(e)!==t&&n)throw Error(ae(425))}function bd(){}var B0=null,F0=null;function U0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var W0=typeof setTimeout=="function"?setTimeout:void 0,iN=typeof clearTimeout=="function"?clearTimeout:void 0,ix=typeof Promise=="function"?Promise:void 0,oN=typeof queueMicrotask=="function"?queueMicrotask:typeof ix<"u"?function(e){return ix.resolve(null).then(e).catch(aN)}:W0;function aN(e){setTimeout(function(){throw e})}function Fh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),mc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);mc(t)}function Ri(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ox(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var cl=Math.random().toString(36).slice(2),ds="__reactFiber$"+cl,yc="__reactProps$"+cl,Fs="__reactContainer$"+cl,z0="__reactEvents$"+cl,lN="__reactListeners$"+cl,cN="__reactHandles$"+cl;function fo(e){var t=e[ds];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fs]||n[ds]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ox(e);e!==null;){if(n=e[ds])return n;e=ox(e)}return t}e=n,n=e.parentNode}return null}function Vc(e){return e=e[ds]||e[Fs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ma(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function pf(e){return e[yc]||null}var V0=[],pa=-1;function Gi(e){return{current:e}}function jt(e){0>pa||(e.current=V0[pa],V0[pa]=null,pa--)}function Rt(e,t){pa++,V0[pa]=e.current,e.current=t}var Fi={},kn=Gi(Fi),sr=Gi(!1),No=Fi;function Ka(e,t){var n=e.type.contextTypes;if(!n)return Fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ir(e){return e=e.childContextTypes,e!=null}function Cd(){jt(sr),jt(kn)}function ax(e,t,n){if(kn.current!==Fi)throw Error(ae(168));Rt(kn,t),Rt(sr,n)}function Dv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ae(108,q3(e)||"Unknown",i));return Ht({},n,r)}function Ed(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fi,No=kn.current,Rt(kn,e),Rt(sr,sr.current),!0}function lx(e,t,n){var r=e.stateNode;if(!r)throw Error(ae(169));n?(e=Dv(e,t,No),r.__reactInternalMemoizedMergedChildContext=e,jt(sr),jt(kn),Rt(kn,e)):jt(sr),Rt(sr,n)}var Os=null,gf=!1,Uh=!1;function jv(e){Os===null?Os=[e]:Os.push(e)}function uN(e){gf=!0,jv(e)}function qi(){if(!Uh&&Os!==null){Uh=!0;var e=0,t=wt;try{var n=Os;for(wt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Os=null,gf=!1}catch(i){throw Os!==null&&(Os=Os.slice(e+1)),ov(pm,qi),i}finally{wt=t,Uh=!1}}return null}var ga=[],xa=0,Sd=null,Ad=0,_r=[],Nr=0,To=null,Ps=1,Ds="";function oo(e,t){ga[xa++]=Ad,ga[xa++]=Sd,Sd=e,Ad=t}function Mv(e,t,n){_r[Nr++]=Ps,_r[Nr++]=Ds,_r[Nr++]=To,To=e;var r=Ps;e=Ds;var i=32-Gr(r)-1;r&=~(1<<i),n+=1;var a=32-Gr(t)+i;if(30<a){var u=i-i%5;a=(r&(1<<u)-1).toString(32),r>>=u,i-=u,Ps=1<<32-Gr(t)+i|n<<i|r,Ds=a+e}else Ps=1<<a|n<<i|r,Ds=e}function Sm(e){e.return!==null&&(oo(e,1),Mv(e,1,0))}function Am(e){for(;e===Sd;)Sd=ga[--xa],ga[xa]=null,Ad=ga[--xa],ga[xa]=null;for(;e===To;)To=_r[--Nr],_r[Nr]=null,Ds=_r[--Nr],_r[Nr]=null,Ps=_r[--Nr],_r[Nr]=null}var mr=null,hr=null,Ft=!1,Hr=null;function Lv(e,t){var n=Tr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function cx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mr=e,hr=Ri(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mr=e,hr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=To!==null?{id:Ps,overflow:Ds}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Tr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mr=e,hr=null,!0):!1;default:return!1}}function H0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $0(e){if(Ft){var t=hr;if(t){var n=t;if(!cx(e,t)){if(H0(e))throw Error(ae(418));t=Ri(n.nextSibling);var r=mr;t&&cx(e,t)?Lv(r,n):(e.flags=e.flags&-4097|2,Ft=!1,mr=e)}}else{if(H0(e))throw Error(ae(418));e.flags=e.flags&-4097|2,Ft=!1,mr=e}}}function ux(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mr=e}function Tu(e){if(e!==mr)return!1;if(!Ft)return ux(e),Ft=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!U0(e.type,e.memoizedProps)),t&&(t=hr)){if(H0(e))throw Bv(),Error(ae(418));for(;t;)Lv(e,t),t=Ri(t.nextSibling)}if(ux(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){hr=Ri(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}hr=null}}else hr=mr?Ri(e.stateNode.nextSibling):null;return!0}function Bv(){for(var e=hr;e;)e=Ri(e.nextSibling)}function Qa(){hr=mr=null,Ft=!1}function _m(e){Hr===null?Hr=[e]:Hr.push(e)}var dN=$s.ReactCurrentBatchConfig;function Ml(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(u){var m=i.refs;u===null?delete m[a]:m[a]=u},t._stringRef=a,t)}if(typeof e!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,e))}return e}function Iu(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dx(e){var t=e._init;return t(e._payload)}function Fv(e){function t(I,A){if(e){var S=I.deletions;S===null?(I.deletions=[A],I.flags|=16):S.push(A)}}function n(I,A){if(!e)return null;for(;A!==null;)t(I,A),A=A.sibling;return null}function r(I,A){for(I=new Map;A!==null;)A.key!==null?I.set(A.key,A):I.set(A.index,A),A=A.sibling;return I}function i(I,A){return I=Di(I,A),I.index=0,I.sibling=null,I}function a(I,A,S){return I.index=S,e?(S=I.alternate,S!==null?(S=S.index,S<A?(I.flags|=2,A):S):(I.flags|=2,A)):(I.flags|=1048576,A)}function u(I){return e&&I.alternate===null&&(I.flags|=2),I}function m(I,A,S,D){return A===null||A.tag!==6?(A=qh(S,I.mode,D),A.return=I,A):(A=i(A,S),A.return=I,A)}function g(I,A,S,D){var W=S.type;return W===ua?w(I,A,S.props.children,D,S.key):A!==null&&(A.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ci&&dx(W)===A.type)?(D=i(A,S.props),D.ref=Ml(I,A,S),D.return=I,D):(D=id(S.type,S.key,S.props,null,I.mode,D),D.ref=Ml(I,A,S),D.return=I,D)}function p(I,A,S,D){return A===null||A.tag!==4||A.stateNode.containerInfo!==S.containerInfo||A.stateNode.implementation!==S.implementation?(A=Xh(S,I.mode,D),A.return=I,A):(A=i(A,S.children||[]),A.return=I,A)}function w(I,A,S,D,W){return A===null||A.tag!==7?(A=Eo(S,I.mode,D,W),A.return=I,A):(A=i(A,S),A.return=I,A)}function v(I,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return A=qh(""+A,I.mode,S),A.return=I,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case wu:return S=id(A.type,A.key,A.props,null,I.mode,S),S.ref=Ml(I,null,A),S.return=I,S;case ca:return A=Xh(A,I.mode,S),A.return=I,A;case ci:var D=A._init;return v(I,D(A._payload),S)}if(Vl(A)||Ol(A))return A=Eo(A,I.mode,S,null),A.return=I,A;Iu(I,A)}return null}function E(I,A,S,D){var W=A!==null?A.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return W!==null?null:m(I,A,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wu:return S.key===W?g(I,A,S,D):null;case ca:return S.key===W?p(I,A,S,D):null;case ci:return W=S._init,E(I,A,W(S._payload),D)}if(Vl(S)||Ol(S))return W!==null?null:w(I,A,S,D,null);Iu(I,S)}return null}function N(I,A,S,D,W){if(typeof D=="string"&&D!==""||typeof D=="number")return I=I.get(S)||null,m(A,I,""+D,W);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case wu:return I=I.get(D.key===null?S:D.key)||null,g(A,I,D,W);case ca:return I=I.get(D.key===null?S:D.key)||null,p(A,I,D,W);case ci:var V=D._init;return N(I,A,S,V(D._payload),W)}if(Vl(D)||Ol(D))return I=I.get(S)||null,w(A,I,D,W,null);Iu(A,D)}return null}function P(I,A,S,D){for(var W=null,V=null,B=A,L=A=0,j=null;B!==null&&L<S.length;L++){B.index>L?(j=B,B=null):j=B.sibling;var z=E(I,B,S[L],D);if(z===null){B===null&&(B=j);break}e&&B&&z.alternate===null&&t(I,B),A=a(z,A,L),V===null?W=z:V.sibling=z,V=z,B=j}if(L===S.length)return n(I,B),Ft&&oo(I,L),W;if(B===null){for(;L<S.length;L++)B=v(I,S[L],D),B!==null&&(A=a(B,A,L),V===null?W=B:V.sibling=B,V=B);return Ft&&oo(I,L),W}for(B=r(I,B);L<S.length;L++)j=N(B,I,L,S[L],D),j!==null&&(e&&j.alternate!==null&&B.delete(j.key===null?L:j.key),A=a(j,A,L),V===null?W=j:V.sibling=j,V=j);return e&&B.forEach(function(ee){return t(I,ee)}),Ft&&oo(I,L),W}function T(I,A,S,D){var W=Ol(S);if(typeof W!="function")throw Error(ae(150));if(S=W.call(S),S==null)throw Error(ae(151));for(var V=W=null,B=A,L=A=0,j=null,z=S.next();B!==null&&!z.done;L++,z=S.next()){B.index>L?(j=B,B=null):j=B.sibling;var ee=E(I,B,z.value,D);if(ee===null){B===null&&(B=j);break}e&&B&&ee.alternate===null&&t(I,B),A=a(ee,A,L),V===null?W=ee:V.sibling=ee,V=ee,B=j}if(z.done)return n(I,B),Ft&&oo(I,L),W;if(B===null){for(;!z.done;L++,z=S.next())z=v(I,z.value,D),z!==null&&(A=a(z,A,L),V===null?W=z:V.sibling=z,V=z);return Ft&&oo(I,L),W}for(B=r(I,B);!z.done;L++,z=S.next())z=N(B,I,L,z.value,D),z!==null&&(e&&z.alternate!==null&&B.delete(z.key===null?L:z.key),A=a(z,A,L),V===null?W=z:V.sibling=z,V=z);return e&&B.forEach(function(q){return t(I,q)}),Ft&&oo(I,L),W}function k(I,A,S,D){if(typeof S=="object"&&S!==null&&S.type===ua&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case wu:e:{for(var W=S.key,V=A;V!==null;){if(V.key===W){if(W=S.type,W===ua){if(V.tag===7){n(I,V.sibling),A=i(V,S.props.children),A.return=I,I=A;break e}}else if(V.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ci&&dx(W)===V.type){n(I,V.sibling),A=i(V,S.props),A.ref=Ml(I,V,S),A.return=I,I=A;break e}n(I,V);break}else t(I,V);V=V.sibling}S.type===ua?(A=Eo(S.props.children,I.mode,D,S.key),A.return=I,I=A):(D=id(S.type,S.key,S.props,null,I.mode,D),D.ref=Ml(I,A,S),D.return=I,I=D)}return u(I);case ca:e:{for(V=S.key;A!==null;){if(A.key===V)if(A.tag===4&&A.stateNode.containerInfo===S.containerInfo&&A.stateNode.implementation===S.implementation){n(I,A.sibling),A=i(A,S.children||[]),A.return=I,I=A;break e}else{n(I,A);break}else t(I,A);A=A.sibling}A=Xh(S,I.mode,D),A.return=I,I=A}return u(I);case ci:return V=S._init,k(I,A,V(S._payload),D)}if(Vl(S))return P(I,A,S,D);if(Ol(S))return T(I,A,S,D);Iu(I,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,A!==null&&A.tag===6?(n(I,A.sibling),A=i(A,S),A.return=I,I=A):(n(I,A),A=qh(S,I.mode,D),A.return=I,I=A),u(I)):n(I,A)}return k}var Za=Fv(!0),Uv=Fv(!1),_d=Gi(null),Nd=null,wa=null,Nm=null;function Tm(){Nm=wa=Nd=null}function Im(e){var t=_d.current;jt(_d),e._currentValue=t}function G0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){Nd=e,Nm=wa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rr=!0),e.firstContext=null)}function Rr(e){var t=e._currentValue;if(Nm!==e)if(e={context:e,memoizedValue:t,next:null},wa===null){if(Nd===null)throw Error(ae(308));wa=e,Nd.dependencies={lanes:0,firstContext:e}}else wa=wa.next=e;return t}var ho=null;function Rm(e){ho===null?ho=[e]:ho.push(e)}function Wv(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Rm(t)):(n.next=i.next,i.next=n),t.interleaved=n,Us(e,r)}function Us(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ui=!1;function Om(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ut&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Us(e,n)}return i=r.interleaved,i===null?(t.next=t,Rm(r)):(t.next=i.next,i.next=t),r.interleaved=t,Us(e,n)}function Ju(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gm(e,n)}}function fx(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Td(e,t,n,r){var i=e.updateQueue;ui=!1;var a=i.firstBaseUpdate,u=i.lastBaseUpdate,m=i.shared.pending;if(m!==null){i.shared.pending=null;var g=m,p=g.next;g.next=null,u===null?a=p:u.next=p,u=g;var w=e.alternate;w!==null&&(w=w.updateQueue,m=w.lastBaseUpdate,m!==u&&(m===null?w.firstBaseUpdate=p:m.next=p,w.lastBaseUpdate=g))}if(a!==null){var v=i.baseState;u=0,w=p=g=null,m=a;do{var E=m.lane,N=m.eventTime;if((r&E)===E){w!==null&&(w=w.next={eventTime:N,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var P=e,T=m;switch(E=t,N=n,T.tag){case 1:if(P=T.payload,typeof P=="function"){v=P.call(N,v,E);break e}v=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=T.payload,E=typeof P=="function"?P.call(N,v,E):P,E==null)break e;v=Ht({},v,E);break e;case 2:ui=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,E=i.effects,E===null?i.effects=[m]:E.push(m))}else N={eventTime:N,lane:E,tag:m.tag,payload:m.payload,callback:m.callback,next:null},w===null?(p=w=N,g=v):w=w.next=N,u|=E;if(m=m.next,m===null){if(m=i.shared.pending,m===null)break;E=m,m=E.next,E.next=null,i.lastBaseUpdate=E,i.shared.pending=null}}while(!0);if(w===null&&(g=v),i.baseState=g,i.firstBaseUpdate=p,i.lastBaseUpdate=w,t=i.shared.interleaved,t!==null){i=t;do u|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ro|=u,e.lanes=u,e.memoizedState=v}}function hx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var Hc={},gs=Gi(Hc),vc=Gi(Hc),bc=Gi(Hc);function mo(e){if(e===Hc)throw Error(ae(174));return e}function km(e,t){switch(Rt(bc,t),Rt(vc,e),Rt(gs,Hc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_0(t,e)}jt(gs),Rt(gs,t)}function Ja(){jt(gs),jt(vc),jt(bc)}function Vv(e){mo(bc.current);var t=mo(gs.current),n=_0(t,e.type);t!==n&&(Rt(vc,e),Rt(gs,n))}function Pm(e){vc.current===e&&(jt(gs),jt(vc))}var zt=Gi(0);function Id(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wh=[];function Dm(){for(var e=0;e<Wh.length;e++)Wh[e]._workInProgressVersionPrimary=null;Wh.length=0}var ed=$s.ReactCurrentDispatcher,zh=$s.ReactCurrentBatchConfig,Io=0,Vt=null,an=null,mn=null,Rd=!1,tc=!1,Cc=0,fN=0;function Tn(){throw Error(ae(321))}function jm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xr(e[n],t[n]))return!1;return!0}function Mm(e,t,n,r,i,a){if(Io=a,Vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ed.current=e===null||e.memoizedState===null?gN:xN,e=n(r,i),tc){a=0;do{if(tc=!1,Cc=0,25<=a)throw Error(ae(301));a+=1,mn=an=null,t.updateQueue=null,ed.current=wN,e=n(r,i)}while(tc)}if(ed.current=Od,t=an!==null&&an.next!==null,Io=0,mn=an=Vt=null,Rd=!1,t)throw Error(ae(300));return e}function Lm(){var e=Cc!==0;return Cc=0,e}function os(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Vt.memoizedState=mn=e:mn=mn.next=e,mn}function Or(){if(an===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=an.next;var t=mn===null?Vt.memoizedState:mn.next;if(t!==null)mn=t,an=e;else{if(e===null)throw Error(ae(310));an=e,e={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},mn===null?Vt.memoizedState=mn=e:mn=mn.next=e}return mn}function Ec(e,t){return typeof t=="function"?t(e):t}function Vh(e){var t=Or(),n=t.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=e;var r=an,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var m=u=null,g=null,p=a;do{var w=p.lane;if((Io&w)===w)g!==null&&(g=g.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var v={lane:w,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};g===null?(m=g=v,u=r):g=g.next=v,Vt.lanes|=w,Ro|=w}p=p.next}while(p!==null&&p!==a);g===null?u=r:g.next=m,Xr(r,t.memoizedState)||(rr=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=g,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Vt.lanes|=a,Ro|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hh(e){var t=Or(),n=t.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var u=i=i.next;do a=e(a,u.action),u=u.next;while(u!==i);Xr(a,t.memoizedState)||(rr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Hv(){}function $v(e,t){var n=Vt,r=Or(),i=t(),a=!Xr(r.memoizedState,i);if(a&&(r.memoizedState=i,rr=!0),r=r.queue,Bm(Xv.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||mn!==null&&mn.memoizedState.tag&1){if(n.flags|=2048,Sc(9,qv.bind(null,n,r,i,t),void 0,null),gn===null)throw Error(ae(349));Io&30||Gv(n,t,i)}return i}function Gv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Vt.updateQueue,t===null?(t={lastEffect:null,stores:null},Vt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qv(e,t,n,r){t.value=n,t.getSnapshot=r,Yv(t)&&Kv(e)}function Xv(e,t,n){return n(function(){Yv(t)&&Kv(e)})}function Yv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xr(e,n)}catch{return!0}}function Kv(e){var t=Us(e,1);t!==null&&qr(t,e,1,-1)}function mx(e){var t=os();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ec,lastRenderedState:e},t.queue=e,e=e.dispatch=pN.bind(null,Vt,e),[t.memoizedState,e]}function Sc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Vt.updateQueue,t===null?(t={lastEffect:null,stores:null},Vt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Qv(){return Or().memoizedState}function td(e,t,n,r){var i=os();Vt.flags|=e,i.memoizedState=Sc(1|t,n,void 0,r===void 0?null:r)}function xf(e,t,n,r){var i=Or();r=r===void 0?null:r;var a=void 0;if(an!==null){var u=an.memoizedState;if(a=u.destroy,r!==null&&jm(r,u.deps)){i.memoizedState=Sc(t,n,a,r);return}}Vt.flags|=e,i.memoizedState=Sc(1|t,n,a,r)}function px(e,t){return td(8390656,8,e,t)}function Bm(e,t){return xf(2048,8,e,t)}function Zv(e,t){return xf(4,2,e,t)}function Jv(e,t){return xf(4,4,e,t)}function e2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function t2(e,t,n){return n=n!=null?n.concat([e]):null,xf(4,4,e2.bind(null,t,e),n)}function Fm(){}function n2(e,t){var n=Or();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function r2(e,t){var n=Or();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function s2(e,t,n){return Io&21?(Xr(n,t)||(n=cv(),Vt.lanes|=n,Ro|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rr=!0),e.memoizedState=n)}function hN(e,t){var n=wt;wt=n!==0&&4>n?n:4,e(!0);var r=zh.transition;zh.transition={};try{e(!1),t()}finally{wt=n,zh.transition=r}}function i2(){return Or().memoizedState}function mN(e,t,n){var r=Pi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},o2(e))a2(t,n);else if(n=Wv(e,t,n,r),n!==null){var i=Fn();qr(n,e,r,i),l2(n,t,r)}}function pN(e,t,n){var r=Pi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(o2(e))a2(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,m=a(u,n);if(i.hasEagerState=!0,i.eagerState=m,Xr(m,u)){var g=t.interleaved;g===null?(i.next=i,Rm(t)):(i.next=g.next,g.next=i),t.interleaved=i;return}}catch{}finally{}n=Wv(e,t,i,r),n!==null&&(i=Fn(),qr(n,e,r,i),l2(n,t,r))}}function o2(e){var t=e.alternate;return e===Vt||t!==null&&t===Vt}function a2(e,t){tc=Rd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function l2(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gm(e,n)}}var Od={readContext:Rr,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},gN={readContext:Rr,useCallback:function(e,t){return os().memoizedState=[e,t===void 0?null:t],e},useContext:Rr,useEffect:px,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,td(4194308,4,e2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return td(4194308,4,e,t)},useInsertionEffect:function(e,t){return td(4,2,e,t)},useMemo:function(e,t){var n=os();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=os();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=mN.bind(null,Vt,e),[r.memoizedState,e]},useRef:function(e){var t=os();return e={current:e},t.memoizedState=e},useState:mx,useDebugValue:Fm,useDeferredValue:function(e){return os().memoizedState=e},useTransition:function(){var e=mx(!1),t=e[0];return e=hN.bind(null,e[1]),os().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Vt,i=os();if(Ft){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=t(),gn===null)throw Error(ae(349));Io&30||Gv(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,px(Xv.bind(null,r,a,e),[e]),r.flags|=2048,Sc(9,qv.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=os(),t=gn.identifierPrefix;if(Ft){var n=Ds,r=Ps;n=(r&~(1<<32-Gr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Cc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=fN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xN={readContext:Rr,useCallback:n2,useContext:Rr,useEffect:Bm,useImperativeHandle:t2,useInsertionEffect:Zv,useLayoutEffect:Jv,useMemo:r2,useReducer:Vh,useRef:Qv,useState:function(){return Vh(Ec)},useDebugValue:Fm,useDeferredValue:function(e){var t=Or();return s2(t,an.memoizedState,e)},useTransition:function(){var e=Vh(Ec)[0],t=Or().memoizedState;return[e,t]},useMutableSource:Hv,useSyncExternalStore:$v,useId:i2,unstable_isNewReconciler:!1},wN={readContext:Rr,useCallback:n2,useContext:Rr,useEffect:Bm,useImperativeHandle:t2,useInsertionEffect:Zv,useLayoutEffect:Jv,useMemo:r2,useReducer:Hh,useRef:Qv,useState:function(){return Hh(Ec)},useDebugValue:Fm,useDeferredValue:function(e){var t=Or();return an===null?t.memoizedState=e:s2(t,an.memoizedState,e)},useTransition:function(){var e=Hh(Ec)[0],t=Or().memoizedState;return[e,t]},useMutableSource:Hv,useSyncExternalStore:$v,useId:i2,unstable_isNewReconciler:!1};function Ur(e,t){if(e&&e.defaultProps){t=Ht({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function q0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ht({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wf={isMounted:function(e){return(e=e._reactInternals)?Uo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fn(),i=Pi(e),a=Ms(r,i);a.payload=t,n!=null&&(a.callback=n),t=Oi(e,a,i),t!==null&&(qr(t,e,i,r),Ju(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fn(),i=Pi(e),a=Ms(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Oi(e,a,i),t!==null&&(qr(t,e,i,r),Ju(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fn(),r=Pi(e),i=Ms(n,r);i.tag=2,t!=null&&(i.callback=t),t=Oi(e,i,r),t!==null&&(qr(t,e,r,n),Ju(t,e,r))}};function gx(e,t,n,r,i,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,u):t.prototype&&t.prototype.isPureReactComponent?!gc(n,r)||!gc(i,a):!0}function c2(e,t,n){var r=!1,i=Fi,a=t.contextType;return typeof a=="object"&&a!==null?a=Rr(a):(i=ir(t)?No:kn.current,r=t.contextTypes,a=(r=r!=null)?Ka(e,i):Fi),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function xx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wf.enqueueReplaceState(t,t.state,null)}function X0(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Om(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Rr(a):(a=ir(t)?No:kn.current,i.context=Ka(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(q0(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&wf.enqueueReplaceState(i,i.state,null),Td(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function el(e,t){try{var n="",r=t;do n+=G3(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function $h(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Y0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yN=typeof WeakMap=="function"?WeakMap:Map;function u2(e,t,n){n=Ms(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pd||(Pd=!0,i1=r),Y0(e,t)},n}function d2(e,t,n){n=Ms(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Y0(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Y0(e,t),typeof r!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function wx(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yN;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=PN.bind(null,e,t,n),t.then(e,e))}function yx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vx(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ms(-1,1),t.tag=2,Oi(n,t,1))),n.lanes|=1),e)}var vN=$s.ReactCurrentOwner,rr=!1;function Bn(e,t,n,r){t.child=e===null?Uv(t,null,n,r):Za(t,e.child,n,r)}function bx(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=Mm(e,t,n,r,a,i),n=Lm(),e!==null&&!rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i)):(Ft&&n&&Sm(t),t.flags|=1,Bn(e,t,r,i),t.child)}function Cx(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!qm(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,f2(e,t,a,r,i)):(e=id(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:gc,n(u,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,e=Di(a,r),e.ref=t.ref,e.return=t,t.child=e}function f2(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(gc(a,r)&&e.ref===t.ref)if(rr=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(rr=!0);else return t.lanes=e.lanes,Ws(e,t,i)}return K0(e,t,n,r,i)}function h2(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(va,ur),ur|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rt(va,ur),ur|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Rt(va,ur),ur|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Rt(va,ur),ur|=r;return Bn(e,t,i,n),t.child}function m2(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function K0(e,t,n,r,i){var a=ir(n)?No:kn.current;return a=Ka(t,a),_a(t,i),n=Mm(e,t,n,r,a,i),r=Lm(),e!==null&&!rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i)):(Ft&&r&&Sm(t),t.flags|=1,Bn(e,t,n,i),t.child)}function Ex(e,t,n,r,i){if(ir(n)){var a=!0;Ed(t)}else a=!1;if(_a(t,i),t.stateNode===null)nd(e,t),c2(t,n,r),X0(t,n,r,i),r=!0;else if(e===null){var u=t.stateNode,m=t.memoizedProps;u.props=m;var g=u.context,p=n.contextType;typeof p=="object"&&p!==null?p=Rr(p):(p=ir(n)?No:kn.current,p=Ka(t,p));var w=n.getDerivedStateFromProps,v=typeof w=="function"||typeof u.getSnapshotBeforeUpdate=="function";v||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==r||g!==p)&&xx(t,u,r,p),ui=!1;var E=t.memoizedState;u.state=E,Td(t,r,u,i),g=t.memoizedState,m!==r||E!==g||sr.current||ui?(typeof w=="function"&&(q0(t,n,w,r),g=t.memoizedState),(m=ui||gx(t,n,m,r,E,g,p))?(v||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=g),u.props=r,u.state=g,u.context=p,r=m):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,zv(e,t),m=t.memoizedProps,p=t.type===t.elementType?m:Ur(t.type,m),u.props=p,v=t.pendingProps,E=u.context,g=n.contextType,typeof g=="object"&&g!==null?g=Rr(g):(g=ir(n)?No:kn.current,g=Ka(t,g));var N=n.getDerivedStateFromProps;(w=typeof N=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==v||E!==g)&&xx(t,u,r,g),ui=!1,E=t.memoizedState,u.state=E,Td(t,r,u,i);var P=t.memoizedState;m!==v||E!==P||sr.current||ui?(typeof N=="function"&&(q0(t,n,N,r),P=t.memoizedState),(p=ui||gx(t,n,p,r,E,P,g)||!1)?(w||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,P,g),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,P,g)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=P),u.props=r,u.state=P,u.context=g,r=p):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),r=!1)}return Q0(e,t,n,r,a,i)}function Q0(e,t,n,r,i,a){m2(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return i&&lx(t,n,!1),Ws(e,t,a);r=t.stateNode,vN.current=t;var m=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=Za(t,e.child,null,a),t.child=Za(t,null,m,a)):Bn(e,t,m,a),t.memoizedState=r.state,i&&lx(t,n,!0),t.child}function p2(e){var t=e.stateNode;t.pendingContext?ax(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ax(e,t.context,!1),km(e,t.containerInfo)}function Sx(e,t,n,r,i){return Qa(),_m(i),t.flags|=256,Bn(e,t,n,r),t.child}var Z0={dehydrated:null,treeContext:null,retryLane:0};function J0(e){return{baseLanes:e,cachePool:null,transitions:null}}function g2(e,t,n){var r=t.pendingProps,i=zt.current,a=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(i&2)!==0),m?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Rt(zt,i&1),e===null)return $0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=r.children,e=r.fallback,a?(r=t.mode,a=t.child,u={mode:"hidden",children:u},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=bf(u,r,0,null),e=Eo(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=J0(n),t.memoizedState=Z0,e):Um(t,u));if(i=e.memoizedState,i!==null&&(m=i.dehydrated,m!==null))return bN(e,t,u,r,m,i,n);if(a){a=r.fallback,u=t.mode,i=e.child,m=i.sibling;var g={mode:"hidden",children:r.children};return!(u&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=g,t.deletions=null):(r=Di(i,g),r.subtreeFlags=i.subtreeFlags&14680064),m!==null?a=Di(m,a):(a=Eo(a,u,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,u=e.child.memoizedState,u=u===null?J0(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=Z0,r}return a=e.child,e=a.sibling,r=Di(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Um(e,t){return t=bf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ru(e,t,n,r){return r!==null&&_m(r),Za(t,e.child,null,n),e=Um(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bN(e,t,n,r,i,a,u){if(n)return t.flags&256?(t.flags&=-257,r=$h(Error(ae(422))),Ru(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=bf({mode:"visible",children:r.children},i,0,null),a=Eo(a,i,u,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Za(t,e.child,null,u),t.child.memoizedState=J0(u),t.memoizedState=Z0,a);if(!(t.mode&1))return Ru(e,t,u,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var m=r.dgst;return r=m,a=Error(ae(419)),r=$h(a,r,void 0),Ru(e,t,u,r)}if(m=(u&e.childLanes)!==0,rr||m){if(r=gn,r!==null){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|u)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Us(e,i),qr(r,e,i,-1))}return Gm(),r=$h(Error(ae(421))),Ru(e,t,u,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=DN.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,hr=Ri(i.nextSibling),mr=t,Ft=!0,Hr=null,e!==null&&(_r[Nr++]=Ps,_r[Nr++]=Ds,_r[Nr++]=To,Ps=e.id,Ds=e.overflow,To=t),t=Um(t,r.children),t.flags|=4096,t)}function Ax(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),G0(e.return,t,n)}function Gh(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function x2(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Bn(e,t,r.children,n),r=zt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ax(e,n,t);else if(e.tag===19)Ax(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Rt(zt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Id(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gh(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Id(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gh(t,!0,n,null,a);break;case"together":Gh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function nd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ro|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,n=Di(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Di(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function CN(e,t,n){switch(t.tag){case 3:p2(t),Qa();break;case 5:Vv(t);break;case 1:ir(t.type)&&Ed(t);break;case 4:km(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Rt(_d,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Rt(zt,zt.current&1),t.flags|=128,null):n&t.child.childLanes?g2(e,t,n):(Rt(zt,zt.current&1),e=Ws(e,t,n),e!==null?e.sibling:null);Rt(zt,zt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return x2(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rt(zt,zt.current),r)break;return null;case 22:case 23:return t.lanes=0,h2(e,t,n)}return Ws(e,t,n)}var w2,e1,y2,v2;w2=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};e1=function(){};y2=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,mo(gs.current);var a=null;switch(n){case"input":i=C0(e,i),r=C0(e,r),a=[];break;case"select":i=Ht({},i,{value:void 0}),r=Ht({},r,{value:void 0}),a=[];break;case"textarea":i=A0(e,i),r=A0(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bd)}N0(n,r);var u;n=null;for(p in i)if(!r.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var m=i[p];for(u in m)m.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(cc.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var g=r[p];if(m=i!=null?i[p]:void 0,r.hasOwnProperty(p)&&g!==m&&(g!=null||m!=null))if(p==="style")if(m){for(u in m)!m.hasOwnProperty(u)||g&&g.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in g)g.hasOwnProperty(u)&&m[u]!==g[u]&&(n||(n={}),n[u]=g[u])}else n||(a||(a=[]),a.push(p,n)),n=g;else p==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,m=m?m.__html:void 0,g!=null&&m!==g&&(a=a||[]).push(p,g)):p==="children"?typeof g!="string"&&typeof g!="number"||(a=a||[]).push(p,""+g):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(cc.hasOwnProperty(p)?(g!=null&&p==="onScroll"&&Pt("scroll",e),a||m===g||(a=[])):(a=a||[]).push(p,g))}n&&(a=a||[]).push("style",n);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};v2=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ll(e,t){if(!Ft)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function In(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function EN(e,t,n){var r=t.pendingProps;switch(Am(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(t),null;case 1:return ir(t.type)&&Cd(),In(t),null;case 3:return r=t.stateNode,Ja(),jt(sr),jt(kn),Dm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Tu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hr!==null&&(l1(Hr),Hr=null))),e1(e,t),In(t),null;case 5:Pm(t);var i=mo(bc.current);if(n=t.type,e!==null&&t.stateNode!=null)y2(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ae(166));return In(t),null}if(e=mo(gs.current),Tu(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ds]=t,r[yc]=a,e=(t.mode&1)!==0,n){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(i=0;i<$l.length;i++)Pt($l[i],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":Dg(r,a),Pt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Pt("invalid",r);break;case"textarea":Mg(r,a),Pt("invalid",r)}N0(n,a),i=null;for(var u in a)if(a.hasOwnProperty(u)){var m=a[u];u==="children"?typeof m=="string"?r.textContent!==m&&(a.suppressHydrationWarning!==!0&&Nu(r.textContent,m,e),i=["children",m]):typeof m=="number"&&r.textContent!==""+m&&(a.suppressHydrationWarning!==!0&&Nu(r.textContent,m,e),i=["children",""+m]):cc.hasOwnProperty(u)&&m!=null&&u==="onScroll"&&Pt("scroll",r)}switch(n){case"input":yu(r),jg(r,a,!0);break;case"textarea":yu(r),Lg(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=bd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[ds]=t,e[yc]=r,w2(e,t,!1,!1),t.stateNode=e;e:{switch(u=T0(n,r),n){case"dialog":Pt("cancel",e),Pt("close",e),i=r;break;case"iframe":case"object":case"embed":Pt("load",e),i=r;break;case"video":case"audio":for(i=0;i<$l.length;i++)Pt($l[i],e);i=r;break;case"source":Pt("error",e),i=r;break;case"img":case"image":case"link":Pt("error",e),Pt("load",e),i=r;break;case"details":Pt("toggle",e),i=r;break;case"input":Dg(e,r),i=C0(e,r),Pt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ht({},r,{value:void 0}),Pt("invalid",e);break;case"textarea":Mg(e,r),i=A0(e,r),Pt("invalid",e);break;default:i=r}N0(n,i),m=i;for(a in m)if(m.hasOwnProperty(a)){var g=m[a];a==="style"?Qy(e,g):a==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&Yy(e,g)):a==="children"?typeof g=="string"?(n!=="textarea"||g!=="")&&uc(e,g):typeof g=="number"&&uc(e,""+g):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(cc.hasOwnProperty(a)?g!=null&&a==="onScroll"&&Pt("scroll",e):g!=null&&um(e,a,g,u))}switch(n){case"input":yu(e),jg(e,r,!1);break;case"textarea":yu(e),Lg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Bi(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Ca(e,!!r.multiple,a,!1):r.defaultValue!=null&&Ca(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=bd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return In(t),null;case 6:if(e&&t.stateNode!=null)v2(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ae(166));if(n=mo(bc.current),mo(gs.current),Tu(t)){if(r=t.stateNode,n=t.memoizedProps,r[ds]=t,(a=r.nodeValue!==n)&&(e=mr,e!==null))switch(e.tag){case 3:Nu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Nu(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ds]=t,t.stateNode=r}return In(t),null;case 13:if(jt(zt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ft&&hr!==null&&t.mode&1&&!(t.flags&128))Bv(),Qa(),t.flags|=98560,a=!1;else if(a=Tu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ae(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ae(317));a[ds]=t}else Qa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;In(t),a=!1}else Hr!==null&&(l1(Hr),Hr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||zt.current&1?cn===0&&(cn=3):Gm())),t.updateQueue!==null&&(t.flags|=4),In(t),null);case 4:return Ja(),e1(e,t),e===null&&xc(t.stateNode.containerInfo),In(t),null;case 10:return Im(t.type._context),In(t),null;case 17:return ir(t.type)&&Cd(),In(t),null;case 19:if(jt(zt),a=t.memoizedState,a===null)return In(t),null;if(r=(t.flags&128)!==0,u=a.rendering,u===null)if(r)Ll(a,!1);else{if(cn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=Id(e),u!==null){for(t.flags|=128,Ll(a,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Rt(zt,zt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Qt()>tl&&(t.flags|=128,r=!0,Ll(a,!1),t.lanes=4194304)}else{if(!r)if(e=Id(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ll(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!Ft)return In(t),null}else 2*Qt()-a.renderingStartTime>tl&&n!==1073741824&&(t.flags|=128,r=!0,Ll(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(n=a.last,n!==null?n.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qt(),t.sibling=null,n=zt.current,Rt(zt,r?n&1|2:n&1),t):(In(t),null);case 22:case 23:return $m(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ur&1073741824&&(In(t),t.subtreeFlags&6&&(t.flags|=8192)):In(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function SN(e,t){switch(Am(t),t.tag){case 1:return ir(t.type)&&Cd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ja(),jt(sr),jt(kn),Dm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pm(t),null;case 13:if(jt(zt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));Qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return jt(zt),null;case 4:return Ja(),null;case 10:return Im(t.type._context),null;case 22:case 23:return $m(),null;case 24:return null;default:return null}}var Ou=!1,On=!1,AN=typeof WeakSet=="function"?WeakSet:Set,Se=null;function ya(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Yt(e,t,r)}else n.current=null}function t1(e,t,n){try{n()}catch(r){Yt(e,t,r)}}var _x=!1;function _N(e,t){if(B0=wd,e=Av(),Em(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,m=-1,g=-1,p=0,w=0,v=e,E=null;t:for(;;){for(var N;v!==n||i!==0&&v.nodeType!==3||(m=u+i),v!==a||r!==0&&v.nodeType!==3||(g=u+r),v.nodeType===3&&(u+=v.nodeValue.length),(N=v.firstChild)!==null;)E=v,v=N;for(;;){if(v===e)break t;if(E===n&&++p===i&&(m=u),E===a&&++w===r&&(g=u),(N=v.nextSibling)!==null)break;v=E,E=v.parentNode}v=N}n=m===-1||g===-1?null:{start:m,end:g}}else n=null}n=n||{start:0,end:0}}else n=null;for(F0={focusedElem:e,selectionRange:n},wd=!1,Se=t;Se!==null;)if(t=Se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Se=e;else for(;Se!==null;){t=Se;try{var P=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var T=P.memoizedProps,k=P.memoizedState,I=t.stateNode,A=I.getSnapshotBeforeUpdate(t.elementType===t.type?T:Ur(t.type,T),k);I.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(D){Yt(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,Se=e;break}Se=t.return}return P=_x,_x=!1,P}function nc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&t1(t,n,a)}i=i.next}while(i!==r)}}function yf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function n1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function b2(e){var t=e.alternate;t!==null&&(e.alternate=null,b2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ds],delete t[yc],delete t[z0],delete t[lN],delete t[cN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function C2(e){return e.tag===5||e.tag===3||e.tag===4}function Nx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||C2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function r1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bd));else if(r!==4&&(e=e.child,e!==null))for(r1(e,t,n),e=e.sibling;e!==null;)r1(e,t,n),e=e.sibling}function s1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(s1(e,t,n),e=e.sibling;e!==null;)s1(e,t,n),e=e.sibling}var bn=null,zr=!1;function ti(e,t,n){for(n=n.child;n!==null;)E2(e,t,n),n=n.sibling}function E2(e,t,n){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(df,n)}catch{}switch(n.tag){case 5:On||ya(n,t);case 6:var r=bn,i=zr;bn=null,ti(e,t,n),bn=r,zr=i,bn!==null&&(zr?(e=bn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):bn.removeChild(n.stateNode));break;case 18:bn!==null&&(zr?(e=bn,n=n.stateNode,e.nodeType===8?Fh(e.parentNode,n):e.nodeType===1&&Fh(e,n),mc(e)):Fh(bn,n.stateNode));break;case 4:r=bn,i=zr,bn=n.stateNode.containerInfo,zr=!0,ti(e,t,n),bn=r,zr=i;break;case 0:case 11:case 14:case 15:if(!On&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&t1(n,t,u),i=i.next}while(i!==r)}ti(e,t,n);break;case 1:if(!On&&(ya(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(m){Yt(n,t,m)}ti(e,t,n);break;case 21:ti(e,t,n);break;case 22:n.mode&1?(On=(r=On)||n.memoizedState!==null,ti(e,t,n),On=r):ti(e,t,n);break;default:ti(e,t,n)}}function Tx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new AN),t.forEach(function(r){var i=jN.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Lr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,u=t,m=u;e:for(;m!==null;){switch(m.tag){case 5:bn=m.stateNode,zr=!1;break e;case 3:bn=m.stateNode.containerInfo,zr=!0;break e;case 4:bn=m.stateNode.containerInfo,zr=!0;break e}m=m.return}if(bn===null)throw Error(ae(160));E2(a,u,i),bn=null,zr=!1;var g=i.alternate;g!==null&&(g.return=null),i.return=null}catch(p){Yt(i,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)S2(t,e),t=t.sibling}function S2(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lr(t,e),is(e),r&4){try{nc(3,e,e.return),yf(3,e)}catch(T){Yt(e,e.return,T)}try{nc(5,e,e.return)}catch(T){Yt(e,e.return,T)}}break;case 1:Lr(t,e),is(e),r&512&&n!==null&&ya(n,n.return);break;case 5:if(Lr(t,e),is(e),r&512&&n!==null&&ya(n,n.return),e.flags&32){var i=e.stateNode;try{uc(i,"")}catch(T){Yt(e,e.return,T)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,u=n!==null?n.memoizedProps:a,m=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{m==="input"&&a.type==="radio"&&a.name!=null&&Gy(i,a),T0(m,u);var p=T0(m,a);for(u=0;u<g.length;u+=2){var w=g[u],v=g[u+1];w==="style"?Qy(i,v):w==="dangerouslySetInnerHTML"?Yy(i,v):w==="children"?uc(i,v):um(i,w,v,p)}switch(m){case"input":E0(i,a);break;case"textarea":qy(i,a);break;case"select":var E=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var N=a.value;N!=null?Ca(i,!!a.multiple,N,!1):E!==!!a.multiple&&(a.defaultValue!=null?Ca(i,!!a.multiple,a.defaultValue,!0):Ca(i,!!a.multiple,a.multiple?[]:"",!1))}i[yc]=a}catch(T){Yt(e,e.return,T)}}break;case 6:if(Lr(t,e),is(e),r&4){if(e.stateNode===null)throw Error(ae(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(T){Yt(e,e.return,T)}}break;case 3:if(Lr(t,e),is(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{mc(t.containerInfo)}catch(T){Yt(e,e.return,T)}break;case 4:Lr(t,e),is(e);break;case 13:Lr(t,e),is(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Vm=Qt())),r&4&&Tx(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(On=(p=On)||w,Lr(t,e),On=p):Lr(t,e),is(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!w&&e.mode&1)for(Se=e,w=e.child;w!==null;){for(v=Se=w;Se!==null;){switch(E=Se,N=E.child,E.tag){case 0:case 11:case 14:case 15:nc(4,E,E.return);break;case 1:ya(E,E.return);var P=E.stateNode;if(typeof P.componentWillUnmount=="function"){r=E,n=E.return;try{t=r,P.props=t.memoizedProps,P.state=t.memoizedState,P.componentWillUnmount()}catch(T){Yt(r,n,T)}}break;case 5:ya(E,E.return);break;case 22:if(E.memoizedState!==null){Rx(v);continue}}N!==null?(N.return=E,Se=N):Rx(v)}w=w.sibling}e:for(w=null,v=e;;){if(v.tag===5){if(w===null){w=v;try{i=v.stateNode,p?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(m=v.stateNode,g=v.memoizedProps.style,u=g!=null&&g.hasOwnProperty("display")?g.display:null,m.style.display=Ky("display",u))}catch(T){Yt(e,e.return,T)}}}else if(v.tag===6){if(w===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(T){Yt(e,e.return,T)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;w===v&&(w=null),v=v.return}w===v&&(w=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Lr(t,e),is(e),r&4&&Tx(e);break;case 21:break;default:Lr(t,e),is(e)}}function is(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(C2(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(uc(i,""),r.flags&=-33);var a=Nx(e);s1(e,a,i);break;case 3:case 4:var u=r.stateNode.containerInfo,m=Nx(e);r1(e,m,u);break;default:throw Error(ae(161))}}catch(g){Yt(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function NN(e,t,n){Se=e,A2(e)}function A2(e,t,n){for(var r=(e.mode&1)!==0;Se!==null;){var i=Se,a=i.child;if(i.tag===22&&r){var u=i.memoizedState!==null||Ou;if(!u){var m=i.alternate,g=m!==null&&m.memoizedState!==null||On;m=Ou;var p=On;if(Ou=u,(On=g)&&!p)for(Se=i;Se!==null;)u=Se,g=u.child,u.tag===22&&u.memoizedState!==null?Ox(i):g!==null?(g.return=u,Se=g):Ox(i);for(;a!==null;)Se=a,A2(a),a=a.sibling;Se=i,Ou=m,On=p}Ix(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Se=a):Ix(e)}}function Ix(e){for(;Se!==null;){var t=Se;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:On||yf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!On)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ur(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&hx(t,a,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}hx(t,u,n)}break;case 5:var m=t.stateNode;if(n===null&&t.flags&4){n=m;var g=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&n.focus();break;case"img":g.src&&(n.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var w=p.memoizedState;if(w!==null){var v=w.dehydrated;v!==null&&mc(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}On||t.flags&512&&n1(t)}catch(E){Yt(t,t.return,E)}}if(t===e){Se=null;break}if(n=t.sibling,n!==null){n.return=t.return,Se=n;break}Se=t.return}}function Rx(e){for(;Se!==null;){var t=Se;if(t===e){Se=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Se=n;break}Se=t.return}}function Ox(e){for(;Se!==null;){var t=Se;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yf(4,t)}catch(g){Yt(t,n,g)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(g){Yt(t,i,g)}}var a=t.return;try{n1(t)}catch(g){Yt(t,a,g)}break;case 5:var u=t.return;try{n1(t)}catch(g){Yt(t,u,g)}}}catch(g){Yt(t,t.return,g)}if(t===e){Se=null;break}var m=t.sibling;if(m!==null){m.return=t.return,Se=m;break}Se=t.return}}var TN=Math.ceil,kd=$s.ReactCurrentDispatcher,Wm=$s.ReactCurrentOwner,Ir=$s.ReactCurrentBatchConfig,ut=0,gn=null,Jt=null,Cn=0,ur=0,va=Gi(0),cn=0,Ac=null,Ro=0,vf=0,zm=0,rc=null,tr=null,Vm=0,tl=1/0,Is=null,Pd=!1,i1=null,ki=null,ku=!1,Ai=null,Dd=0,sc=0,o1=null,rd=-1,sd=0;function Fn(){return ut&6?Qt():rd!==-1?rd:rd=Qt()}function Pi(e){return e.mode&1?ut&2&&Cn!==0?Cn&-Cn:dN.transition!==null?(sd===0&&(sd=cv()),sd):(e=wt,e!==0||(e=window.event,e=e===void 0?16:gv(e.type)),e):1}function qr(e,t,n,r){if(50<sc)throw sc=0,o1=null,Error(ae(185));Wc(e,n,r),(!(ut&2)||e!==gn)&&(e===gn&&(!(ut&2)&&(vf|=n),cn===4&&hi(e,Cn)),or(e,r),n===1&&ut===0&&!(t.mode&1)&&(tl=Qt()+500,gf&&qi()))}function or(e,t){var n=e.callbackNode;d_(e,t);var r=xd(e,e===gn?Cn:0);if(r===0)n!==null&&Ug(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ug(n),t===1)e.tag===0?uN(kx.bind(null,e)):jv(kx.bind(null,e)),oN(function(){!(ut&6)&&qi()}),n=null;else{switch(uv(r)){case 1:n=pm;break;case 4:n=av;break;case 16:n=gd;break;case 536870912:n=lv;break;default:n=gd}n=P2(n,_2.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function _2(e,t){if(rd=-1,sd=0,ut&6)throw Error(ae(327));var n=e.callbackNode;if(Na()&&e.callbackNode!==n)return null;var r=xd(e,e===gn?Cn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=jd(e,r);else{t=r;var i=ut;ut|=2;var a=T2();(gn!==e||Cn!==t)&&(Is=null,tl=Qt()+500,Co(e,t));do try{ON();break}catch(m){N2(e,m)}while(!0);Tm(),kd.current=a,ut=i,Jt!==null?t=0:(gn=null,Cn=0,t=cn)}if(t!==0){if(t===2&&(i=P0(e),i!==0&&(r=i,t=a1(e,i))),t===1)throw n=Ac,Co(e,0),hi(e,r),or(e,Qt()),n;if(t===6)hi(e,r);else{if(i=e.current.alternate,!(r&30)&&!IN(i)&&(t=jd(e,r),t===2&&(a=P0(e),a!==0&&(r=a,t=a1(e,a))),t===1))throw n=Ac,Co(e,0),hi(e,r),or(e,Qt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ae(345));case 2:ao(e,tr,Is);break;case 3:if(hi(e,r),(r&130023424)===r&&(t=Vm+500-Qt(),10<t)){if(xd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Fn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=W0(ao.bind(null,e,tr,Is),t);break}ao(e,tr,Is);break;case 4:if(hi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-Gr(r);a=1<<u,u=t[u],u>i&&(i=u),r&=~a}if(r=i,r=Qt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TN(r/1960))-r,10<r){e.timeoutHandle=W0(ao.bind(null,e,tr,Is),r);break}ao(e,tr,Is);break;case 5:ao(e,tr,Is);break;default:throw Error(ae(329))}}}return or(e,Qt()),e.callbackNode===n?_2.bind(null,e):null}function a1(e,t){var n=rc;return e.current.memoizedState.isDehydrated&&(Co(e,t).flags|=256),e=jd(e,t),e!==2&&(t=tr,tr=n,t!==null&&l1(t)),e}function l1(e){tr===null?tr=e:tr.push.apply(tr,e)}function IN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Xr(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hi(e,t){for(t&=~zm,t&=~vf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gr(t),r=1<<n;e[n]=-1,t&=~r}}function kx(e){if(ut&6)throw Error(ae(327));Na();var t=xd(e,0);if(!(t&1))return or(e,Qt()),null;var n=jd(e,t);if(e.tag!==0&&n===2){var r=P0(e);r!==0&&(t=r,n=a1(e,r))}if(n===1)throw n=Ac,Co(e,0),hi(e,t),or(e,Qt()),n;if(n===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ao(e,tr,Is),or(e,Qt()),null}function Hm(e,t){var n=ut;ut|=1;try{return e(t)}finally{ut=n,ut===0&&(tl=Qt()+500,gf&&qi())}}function Oo(e){Ai!==null&&Ai.tag===0&&!(ut&6)&&Na();var t=ut;ut|=1;var n=Ir.transition,r=wt;try{if(Ir.transition=null,wt=1,e)return e()}finally{wt=r,Ir.transition=n,ut=t,!(ut&6)&&qi()}}function $m(){ur=va.current,jt(va)}function Co(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,iN(n)),Jt!==null)for(n=Jt.return;n!==null;){var r=n;switch(Am(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cd();break;case 3:Ja(),jt(sr),jt(kn),Dm();break;case 5:Pm(r);break;case 4:Ja();break;case 13:jt(zt);break;case 19:jt(zt);break;case 10:Im(r.type._context);break;case 22:case 23:$m()}n=n.return}if(gn=e,Jt=e=Di(e.current,null),Cn=ur=t,cn=0,Ac=null,zm=vf=Ro=0,tr=rc=null,ho!==null){for(t=0;t<ho.length;t++)if(n=ho[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=i,r.next=u}n.pending=r}ho=null}return e}function N2(e,t){do{var n=Jt;try{if(Tm(),ed.current=Od,Rd){for(var r=Vt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rd=!1}if(Io=0,mn=an=Vt=null,tc=!1,Cc=0,Wm.current=null,n===null||n.return===null){cn=1,Ac=t,Jt=null;break}e:{var a=e,u=n.return,m=n,g=t;if(t=Cn,m.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var p=g,w=m,v=w.tag;if(!(w.mode&1)&&(v===0||v===11||v===15)){var E=w.alternate;E?(w.updateQueue=E.updateQueue,w.memoizedState=E.memoizedState,w.lanes=E.lanes):(w.updateQueue=null,w.memoizedState=null)}var N=yx(u);if(N!==null){N.flags&=-257,vx(N,u,m,a,t),N.mode&1&&wx(a,p,t),t=N,g=p;var P=t.updateQueue;if(P===null){var T=new Set;T.add(g),t.updateQueue=T}else P.add(g);break e}else{if(!(t&1)){wx(a,p,t),Gm();break e}g=Error(ae(426))}}else if(Ft&&m.mode&1){var k=yx(u);if(k!==null){!(k.flags&65536)&&(k.flags|=256),vx(k,u,m,a,t),_m(el(g,m));break e}}a=g=el(g,m),cn!==4&&(cn=2),rc===null?rc=[a]:rc.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var I=u2(a,g,t);fx(a,I);break e;case 1:m=g;var A=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof A.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ki===null||!ki.has(S)))){a.flags|=65536,t&=-t,a.lanes|=t;var D=d2(a,m,t);fx(a,D);break e}}a=a.return}while(a!==null)}R2(n)}catch(W){t=W,Jt===n&&n!==null&&(Jt=n=n.return);continue}break}while(!0)}function T2(){var e=kd.current;return kd.current=Od,e===null?Od:e}function Gm(){(cn===0||cn===3||cn===2)&&(cn=4),gn===null||!(Ro&268435455)&&!(vf&268435455)||hi(gn,Cn)}function jd(e,t){var n=ut;ut|=2;var r=T2();(gn!==e||Cn!==t)&&(Is=null,Co(e,t));do try{RN();break}catch(i){N2(e,i)}while(!0);if(Tm(),ut=n,kd.current=r,Jt!==null)throw Error(ae(261));return gn=null,Cn=0,cn}function RN(){for(;Jt!==null;)I2(Jt)}function ON(){for(;Jt!==null&&!n_();)I2(Jt)}function I2(e){var t=k2(e.alternate,e,ur);e.memoizedProps=e.pendingProps,t===null?R2(e):Jt=t,Wm.current=null}function R2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=SN(n,t),n!==null){n.flags&=32767,Jt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{cn=6,Jt=null;return}}else if(n=EN(n,t,ur),n!==null){Jt=n;return}if(t=t.sibling,t!==null){Jt=t;return}Jt=t=e}while(t!==null);cn===0&&(cn=5)}function ao(e,t,n){var r=wt,i=Ir.transition;try{Ir.transition=null,wt=1,kN(e,t,n,r)}finally{Ir.transition=i,wt=r}return null}function kN(e,t,n,r){do Na();while(Ai!==null);if(ut&6)throw Error(ae(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(f_(e,a),e===gn&&(Jt=gn=null,Cn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ku||(ku=!0,P2(gd,function(){return Na(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ir.transition,Ir.transition=null;var u=wt;wt=1;var m=ut;ut|=4,Wm.current=null,_N(e,n),S2(n,e),Z_(F0),wd=!!B0,F0=B0=null,e.current=n,NN(n),r_(),ut=m,wt=u,Ir.transition=a}else e.current=n;if(ku&&(ku=!1,Ai=e,Dd=i),a=e.pendingLanes,a===0&&(ki=null),o_(n.stateNode),or(e,Qt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pd)throw Pd=!1,e=i1,i1=null,e;return Dd&1&&e.tag!==0&&Na(),a=e.pendingLanes,a&1?e===o1?sc++:(sc=0,o1=e):sc=0,qi(),null}function Na(){if(Ai!==null){var e=uv(Dd),t=Ir.transition,n=wt;try{if(Ir.transition=null,wt=16>e?16:e,Ai===null)var r=!1;else{if(e=Ai,Ai=null,Dd=0,ut&6)throw Error(ae(331));var i=ut;for(ut|=4,Se=e.current;Se!==null;){var a=Se,u=a.child;if(Se.flags&16){var m=a.deletions;if(m!==null){for(var g=0;g<m.length;g++){var p=m[g];for(Se=p;Se!==null;){var w=Se;switch(w.tag){case 0:case 11:case 15:nc(8,w,a)}var v=w.child;if(v!==null)v.return=w,Se=v;else for(;Se!==null;){w=Se;var E=w.sibling,N=w.return;if(b2(w),w===p){Se=null;break}if(E!==null){E.return=N,Se=E;break}Se=N}}}var P=a.alternate;if(P!==null){var T=P.child;if(T!==null){P.child=null;do{var k=T.sibling;T.sibling=null,T=k}while(T!==null)}}Se=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,Se=u;else e:for(;Se!==null;){if(a=Se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:nc(9,a,a.return)}var I=a.sibling;if(I!==null){I.return=a.return,Se=I;break e}Se=a.return}}var A=e.current;for(Se=A;Se!==null;){u=Se;var S=u.child;if(u.subtreeFlags&2064&&S!==null)S.return=u,Se=S;else e:for(u=A;Se!==null;){if(m=Se,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:yf(9,m)}}catch(W){Yt(m,m.return,W)}if(m===u){Se=null;break e}var D=m.sibling;if(D!==null){D.return=m.return,Se=D;break e}Se=m.return}}if(ut=i,qi(),ps&&typeof ps.onPostCommitFiberRoot=="function")try{ps.onPostCommitFiberRoot(df,e)}catch{}r=!0}return r}finally{wt=n,Ir.transition=t}}return!1}function Px(e,t,n){t=el(n,t),t=u2(e,t,1),e=Oi(e,t,1),t=Fn(),e!==null&&(Wc(e,1,t),or(e,t))}function Yt(e,t,n){if(e.tag===3)Px(e,e,n);else for(;t!==null;){if(t.tag===3){Px(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ki===null||!ki.has(r))){e=el(n,e),e=d2(t,e,1),t=Oi(t,e,1),e=Fn(),t!==null&&(Wc(t,1,e),or(t,e));break}}t=t.return}}function PN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Fn(),e.pingedLanes|=e.suspendedLanes&n,gn===e&&(Cn&n)===n&&(cn===4||cn===3&&(Cn&130023424)===Cn&&500>Qt()-Vm?Co(e,0):zm|=n),or(e,t)}function O2(e,t){t===0&&(e.mode&1?(t=Cu,Cu<<=1,!(Cu&130023424)&&(Cu=4194304)):t=1);var n=Fn();e=Us(e,t),e!==null&&(Wc(e,t,n),or(e,n))}function DN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),O2(e,n)}function jN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(t),O2(e,n)}var k2;k2=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||sr.current)rr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return rr=!1,CN(e,t,n);rr=!!(e.flags&131072)}else rr=!1,Ft&&t.flags&1048576&&Mv(t,Ad,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;nd(e,t),e=t.pendingProps;var i=Ka(t,kn.current);_a(t,n),i=Mm(null,t,r,e,i,n);var a=Lm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ir(r)?(a=!0,Ed(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Om(t),i.updater=wf,t.stateNode=i,i._reactInternals=t,X0(t,r,e,n),t=Q0(null,t,r,!0,a,n)):(t.tag=0,Ft&&a&&Sm(t),Bn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(nd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=LN(r),e=Ur(r,e),i){case 0:t=K0(null,t,r,e,n);break e;case 1:t=Ex(null,t,r,e,n);break e;case 11:t=bx(null,t,r,e,n);break e;case 14:t=Cx(null,t,r,Ur(r.type,e),n);break e}throw Error(ae(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ur(r,i),K0(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ur(r,i),Ex(e,t,r,i,n);case 3:e:{if(p2(t),e===null)throw Error(ae(387));r=t.pendingProps,a=t.memoizedState,i=a.element,zv(e,t),Td(t,r,null,n);var u=t.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=el(Error(ae(423)),t),t=Sx(e,t,r,n,i);break e}else if(r!==i){i=el(Error(ae(424)),t),t=Sx(e,t,r,n,i);break e}else for(hr=Ri(t.stateNode.containerInfo.firstChild),mr=t,Ft=!0,Hr=null,n=Uv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qa(),r===i){t=Ws(e,t,n);break e}Bn(e,t,r,n)}t=t.child}return t;case 5:return Vv(t),e===null&&$0(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,u=i.children,U0(r,i)?u=null:a!==null&&U0(r,a)&&(t.flags|=32),m2(e,t),Bn(e,t,u,n),t.child;case 6:return e===null&&$0(t),null;case 13:return g2(e,t,n);case 4:return km(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Za(t,null,r,n):Bn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ur(r,i),bx(e,t,r,i,n);case 7:return Bn(e,t,t.pendingProps,n),t.child;case 8:return Bn(e,t,t.pendingProps.children,n),t.child;case 12:return Bn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,u=i.value,Rt(_d,r._currentValue),r._currentValue=u,a!==null)if(Xr(a.value,u)){if(a.children===i.children&&!sr.current){t=Ws(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var m=a.dependencies;if(m!==null){u=a.child;for(var g=m.firstContext;g!==null;){if(g.context===r){if(a.tag===1){g=Ms(-1,n&-n),g.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var w=p.pending;w===null?g.next=g:(g.next=w.next,w.next=g),p.pending=g}}a.lanes|=n,g=a.alternate,g!==null&&(g.lanes|=n),G0(a.return,n,t),m.lanes|=n;break}g=g.next}}else if(a.tag===10)u=a.type===t.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(ae(341));u.lanes|=n,m=u.alternate,m!==null&&(m.lanes|=n),G0(u,n,t),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Bn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),i=Rr(i),r=r(i),t.flags|=1,Bn(e,t,r,n),t.child;case 14:return r=t.type,i=Ur(r,t.pendingProps),i=Ur(r.type,i),Cx(e,t,r,i,n);case 15:return f2(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ur(r,i),nd(e,t),t.tag=1,ir(r)?(e=!0,Ed(t)):e=!1,_a(t,n),c2(t,r,i),X0(t,r,i,n),Q0(null,t,r,!0,e,n);case 19:return x2(e,t,n);case 22:return h2(e,t,n)}throw Error(ae(156,t.tag))};function P2(e,t){return ov(e,t)}function MN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(e,t,n,r){return new MN(e,t,n,r)}function qm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function LN(e){if(typeof e=="function")return qm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fm)return 11;if(e===hm)return 14}return 2}function Di(e,t){var n=e.alternate;return n===null?(n=Tr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function id(e,t,n,r,i,a){var u=2;if(r=e,typeof e=="function")qm(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case ua:return Eo(n.children,i,a,t);case dm:u=8,i|=8;break;case w0:return e=Tr(12,n,t,i|2),e.elementType=w0,e.lanes=a,e;case y0:return e=Tr(13,n,t,i),e.elementType=y0,e.lanes=a,e;case v0:return e=Tr(19,n,t,i),e.elementType=v0,e.lanes=a,e;case Vy:return bf(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wy:u=10;break e;case zy:u=9;break e;case fm:u=11;break e;case hm:u=14;break e;case ci:u=16,r=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=Tr(u,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Eo(e,t,n,r){return e=Tr(7,e,r,t),e.lanes=n,e}function bf(e,t,n,r){return e=Tr(22,e,r,t),e.elementType=Vy,e.lanes=n,e.stateNode={isHidden:!1},e}function qh(e,t,n){return e=Tr(6,e,null,t),e.lanes=n,e}function Xh(e,t,n){return t=Tr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function BN(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Th(0),this.expirationTimes=Th(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Th(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xm(e,t,n,r,i,a,u,m,g){return e=new BN(e,t,n,m,g),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Tr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Om(a),e}function FN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ca,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function D2(e){if(!e)return Fi;e=e._reactInternals;e:{if(Uo(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ir(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var n=e.type;if(ir(n))return Dv(e,n,t)}return t}function j2(e,t,n,r,i,a,u,m,g){return e=Xm(n,r,!0,e,i,a,u,m,g),e.context=D2(null),n=e.current,r=Fn(),i=Pi(n),a=Ms(r,i),a.callback=t??null,Oi(n,a,i),e.current.lanes=i,Wc(e,i,r),or(e,r),e}function Cf(e,t,n,r){var i=t.current,a=Fn(),u=Pi(i);return n=D2(n),t.context===null?t.context=n:t.pendingContext=n,t=Ms(a,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Oi(i,t,u),e!==null&&(qr(e,i,u,a),Ju(e,i,u)),u}function Md(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ym(e,t){Dx(e,t),(e=e.alternate)&&Dx(e,t)}function UN(){return null}var M2=typeof reportError=="function"?reportError:function(e){console.error(e)};function Km(e){this._internalRoot=e}Ef.prototype.render=Km.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));Cf(e,t,null,null)};Ef.prototype.unmount=Km.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Oo(function(){Cf(null,e,null,null)}),t[Fs]=null}};function Ef(e){this._internalRoot=e}Ef.prototype.unstable_scheduleHydration=function(e){if(e){var t=hv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fi.length&&t!==0&&t<fi[n].priority;n++);fi.splice(n,0,e),n===0&&pv(e)}};function Qm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jx(){}function WN(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var p=Md(u);a.call(p)}}var u=j2(t,r,e,0,null,!1,!1,"",jx);return e._reactRootContainer=u,e[Fs]=u.current,xc(e.nodeType===8?e.parentNode:e),Oo(),u}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var m=r;r=function(){var p=Md(g);m.call(p)}}var g=Xm(e,0,!1,null,null,!1,!1,"",jx);return e._reactRootContainer=g,e[Fs]=g.current,xc(e.nodeType===8?e.parentNode:e),Oo(function(){Cf(t,g,n,r)}),g}function Af(e,t,n,r,i){var a=n._reactRootContainer;if(a){var u=a;if(typeof i=="function"){var m=i;i=function(){var g=Md(u);m.call(g)}}Cf(t,u,e,i)}else u=WN(n,t,e,i,r);return Md(u)}dv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Hl(t.pendingLanes);n!==0&&(gm(t,n|1),or(t,Qt()),!(ut&6)&&(tl=Qt()+500,qi()))}break;case 13:Oo(function(){var r=Us(e,1);if(r!==null){var i=Fn();qr(r,e,1,i)}}),Ym(e,1)}};xm=function(e){if(e.tag===13){var t=Us(e,134217728);if(t!==null){var n=Fn();qr(t,e,134217728,n)}Ym(e,134217728)}};fv=function(e){if(e.tag===13){var t=Pi(e),n=Us(e,t);if(n!==null){var r=Fn();qr(n,e,t,r)}Ym(e,t)}};hv=function(){return wt};mv=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}};R0=function(e,t,n){switch(t){case"input":if(E0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=pf(r);if(!i)throw Error(ae(90));$y(r),E0(r,i)}}}break;case"textarea":qy(e,n);break;case"select":t=n.value,t!=null&&Ca(e,!!n.multiple,t,!1)}};ev=Hm;tv=Oo;var zN={usingClientEntryPoint:!1,Events:[Vc,ma,pf,Zy,Jy,Hm]},Bl={findFiberByHostInstance:fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VN={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sv(e),e===null?null:e.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||UN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{df=Pu.inject(VN),ps=Pu}catch{}}xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zN;xr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qm(t))throw Error(ae(200));return FN(e,t,null,n)};xr.createRoot=function(e,t){if(!Qm(e))throw Error(ae(299));var n=!1,r="",i=M2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Xm(e,1,!1,null,null,n,!1,r,i),e[Fs]=t.current,xc(e.nodeType===8?e.parentNode:e),new Km(t)};xr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=sv(t),e=e===null?null:e.stateNode,e};xr.flushSync=function(e){return Oo(e)};xr.hydrate=function(e,t,n){if(!Sf(t))throw Error(ae(200));return Af(null,e,t,!0,n)};xr.hydrateRoot=function(e,t,n){if(!Qm(e))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",u=M2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=j2(t,null,e,1,n??null,i,!1,a,u),e[Fs]=t.current,xc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ef(t)};xr.render=function(e,t,n){if(!Sf(t))throw Error(ae(200));return Af(null,e,t,!1,n)};xr.unmountComponentAtNode=function(e){if(!Sf(e))throw Error(ae(40));return e._reactRootContainer?(Oo(function(){Af(null,null,e,!1,function(){e._reactRootContainer=null,e[Fs]=null})}),!0):!1};xr.unstable_batchedUpdates=Hm;xr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sf(n))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return Af(e,t,n,!1,r)};xr.version="18.3.1-next-f1338f8080-20240426";function L2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L2)}catch(e){console.error(e)}}L2(),Ly.exports=xr;var Wo=Ly.exports;const HN=cf(Wo);var B2,Mx=Wo;B2=Mx.createRoot,Mx.hydrateRoot;var ul=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ko=typeof window>"u"||"Deno"in globalThis;function Ar(){}function $N(e,t){return typeof e=="function"?e(t):e}function c1(e){return typeof e=="number"&&e>=0&&e!==1/0}function F2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ta(e,t){return typeof e=="function"?e(t):e}function $r(e,t){return typeof e=="function"?e(t):e}function Lx(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:u,stale:m}=e;if(u){if(r){if(t.queryHash!==Zm(u,t.options))return!1}else if(!_c(t.queryKey,u))return!1}if(n!=="all"){const g=t.isActive();if(n==="active"&&!g||n==="inactive"&&g)return!1}return!(typeof m=="boolean"&&t.isStale()!==m||i&&i!==t.state.fetchStatus||a&&!a(t))}function Bx(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Po(t.options.mutationKey)!==Po(a))return!1}else if(!_c(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Zm(e,t){return((t==null?void 0:t.queryKeyHashFn)||Po)(e)}function Po(e){return JSON.stringify(e,(t,n)=>u1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function _c(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!_c(e[n],t[n])):!1}function U2(e,t){if(e===t)return e;const n=Fx(e)&&Fx(t);if(n||u1(e)&&u1(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),u=a.length,m=n?[]:{};let g=0;for(let p=0;p<u;p++){const w=n?p:a[p];(!n&&r.includes(w)||n)&&e[w]===void 0&&t[w]===void 0?(m[w]=void 0,g++):(m[w]=U2(e[w],t[w]),m[w]===e[w]&&e[w]!==void 0&&g++)}return i===u&&g===i?e:m}return t}function Ld(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Fx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function u1(e){if(!Ux(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ux(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ux(e){return Object.prototype.toString.call(e)==="[object Object]"}function GN(e){return new Promise(t=>{setTimeout(t,e)})}function d1(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?U2(e,t):t}function qN(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function XN(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Jm=Symbol();function W2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Jm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var po,pi,Ma,my,YN=(my=class extends ul{constructor(){super();Be(this,po);Be(this,pi);Be(this,Ma);ye(this,Ma,t=>{if(!ko&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,pi)||this.setEventListener($(this,Ma))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,pi))==null||t.call(this),ye(this,pi,void 0))}setEventListener(t){var n;ye(this,Ma,t),(n=$(this,pi))==null||n.call(this),ye(this,pi,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){$(this,po)!==t&&(ye(this,po,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof $(this,po)=="boolean"?$(this,po):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},po=new WeakMap,pi=new WeakMap,Ma=new WeakMap,my),ep=new YN,La,gi,Ba,py,KN=(py=class extends ul{constructor(){super();Be(this,La,!0);Be(this,gi);Be(this,Ba);ye(this,Ba,t=>{if(!ko&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,gi)||this.setEventListener($(this,Ba))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,gi))==null||t.call(this),ye(this,gi,void 0))}setEventListener(t){var n;ye(this,Ba,t),(n=$(this,gi))==null||n.call(this),ye(this,gi,t(this.setOnline.bind(this)))}setOnline(t){$(this,La)!==t&&(ye(this,La,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return $(this,La)}},La=new WeakMap,gi=new WeakMap,Ba=new WeakMap,py),Bd=new KN;function f1(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function QN(e){return Math.min(1e3*2**e,3e4)}function z2(e){return(e??"online")==="online"?Bd.isOnline():!0}var V2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Yh(e){return e instanceof V2}function H2(e){let t=!1,n=0,r=!1,i;const a=f1(),u=T=>{var k;r||(E(new V2(T)),(k=e.abort)==null||k.call(e))},m=()=>{t=!0},g=()=>{t=!1},p=()=>ep.isFocused()&&(e.networkMode==="always"||Bd.isOnline())&&e.canRun(),w=()=>z2(e.networkMode)&&e.canRun(),v=T=>{var k;r||(r=!0,(k=e.onSuccess)==null||k.call(e,T),i==null||i(),a.resolve(T))},E=T=>{var k;r||(r=!0,(k=e.onError)==null||k.call(e,T),i==null||i(),a.reject(T))},N=()=>new Promise(T=>{var k;i=I=>{(r||p())&&T(I)},(k=e.onPause)==null||k.call(e)}).then(()=>{var T;i=void 0,r||(T=e.onContinue)==null||T.call(e)}),P=()=>{if(r)return;let T;const k=n===0?e.initialPromise:void 0;try{T=k??e.fn()}catch(I){T=Promise.reject(I)}Promise.resolve(T).then(v).catch(I=>{var V;if(r)return;const A=e.retry??(ko?0:3),S=e.retryDelay??QN,D=typeof S=="function"?S(n,I):S,W=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,I);if(t||!W){E(I);return}n++,(V=e.onFail)==null||V.call(e,n,I),GN(D).then(()=>p()?void 0:N()).then(()=>{t?E(I):P()})})};return{promise:a,cancel:u,continue:()=>(i==null||i(),a),cancelRetry:m,continueRetry:g,canStart:w,start:()=>(w()?P():N().then(P),a)}}function ZN(){let e=[],t=0,n=m=>{m()},r=m=>{m()},i=m=>setTimeout(m,0);const a=m=>{t?e.push(m):i(()=>{n(m)})},u=()=>{const m=e;e=[],m.length&&i(()=>{r(()=>{m.forEach(g=>{n(g)})})})};return{batch:m=>{let g;t++;try{g=m()}finally{t--,t||u()}return g},batchCalls:m=>(...g)=>{a(()=>{m(...g)})},schedule:a,setNotifyFunction:m=>{n=m},setBatchNotifyFunction:m=>{r=m},setScheduler:m=>{i=m}}}var ln=ZN(),go,gy,$2=(gy=class{constructor(){Be(this,go)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),c1(this.gcTime)&&ye(this,go,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ko?1/0:5*60*1e3))}clearGcTimeout(){$(this,go)&&(clearTimeout($(this,go)),ye(this,go,void 0))}},go=new WeakMap,gy),Fa,Ua,Sr,Rn,Mc,xo,Wr,_s,xy,JN=(xy=class extends $2{constructor(t){super();Be(this,Wr);Be(this,Fa);Be(this,Ua);Be(this,Sr);Be(this,Rn);Be(this,Mc);Be(this,xo);ye(this,xo,!1),ye(this,Mc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,Sr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,Fa,e4(this.options)),this.state=t.state??$(this,Fa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=$(this,Rn))==null?void 0:t.promise}setOptions(t){this.options={...$(this,Mc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,Sr).remove(this)}setData(t,n){const r=d1(this.state.data,t,this.options);return Qe(this,Wr,_s).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Qe(this,Wr,_s).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=$(this,Rn))==null?void 0:r.promise;return(i=$(this,Rn))==null||i.cancel(t),n?n.then(Ar).catch(Ar):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Fa))}isActive(){return this.observers.some(t=>$r(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Jm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!F2(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=$(this,Rn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=$(this,Rn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),$(this,Sr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||($(this,Rn)&&($(this,xo)?$(this,Rn).cancel({revert:!0}):$(this,Rn).cancelRetry()),this.scheduleGc()),$(this,Sr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qe(this,Wr,_s).call(this,{type:"invalidate"})}fetch(t,n){var g,p,w;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if($(this,Rn))return $(this,Rn).continueRetry(),$(this,Rn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const v=this.observers.find(E=>E.options.queryFn);v&&this.setOptions(v.options)}const r=new AbortController,i=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(ye(this,xo,!0),r.signal)})},a=()=>{const v=W2(this.options,n),E={queryKey:this.queryKey,meta:this.meta};return i(E),ye(this,xo,!1),this.options.persister?this.options.persister(v,E,this):v(E)},u={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(u),(g=this.options.behavior)==null||g.onFetch(u,this),ye(this,Ua,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&Qe(this,Wr,_s).call(this,{type:"fetch",meta:(w=u.fetchOptions)==null?void 0:w.meta});const m=v=>{var E,N,P,T;Yh(v)&&v.silent||Qe(this,Wr,_s).call(this,{type:"error",error:v}),Yh(v)||((N=(E=$(this,Sr).config).onError)==null||N.call(E,v,this),(T=(P=$(this,Sr).config).onSettled)==null||T.call(P,this.state.data,v,this)),this.scheduleGc()};return ye(this,Rn,H2({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:v=>{var E,N,P,T;if(v===void 0){m(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(k){m(k);return}(N=(E=$(this,Sr).config).onSuccess)==null||N.call(E,v,this),(T=(P=$(this,Sr).config).onSettled)==null||T.call(P,v,this.state.error,this),this.scheduleGc()},onError:m,onFail:(v,E)=>{Qe(this,Wr,_s).call(this,{type:"failed",failureCount:v,error:E})},onPause:()=>{Qe(this,Wr,_s).call(this,{type:"pause"})},onContinue:()=>{Qe(this,Wr,_s).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),$(this,Rn).start()}},Fa=new WeakMap,Ua=new WeakMap,Sr=new WeakMap,Rn=new WeakMap,Mc=new WeakMap,xo=new WeakMap,Wr=new WeakSet,_s=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...G2(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Yh(i)&&i.revert&&$(this,Ua)?{...$(this,Ua),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ln.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),$(this,Sr).notify({query:this,type:"updated",action:t})})},xy);function G2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:z2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function e4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var as,wy,t4=(wy=class extends ul{constructor(t={}){super();Be(this,as);this.config=t,ye(this,as,new Map)}build(t,n,r){const i=n.queryKey,a=n.queryHash??Zm(i,n);let u=this.get(a);return u||(u=new JN({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(u)),u}add(t){$(this,as).has(t.queryHash)||($(this,as).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=$(this,as).get(t.queryHash);n&&(t.destroy(),n===t&&$(this,as).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ln.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return $(this,as).get(t)}getAll(){return[...$(this,as).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Lx(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Lx(t,r)):n}notify(t){ln.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ln.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ln.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},as=new WeakMap,wy),ls,Mn,wo,cs,oi,yy,n4=(yy=class extends $2{constructor(t){super();Be(this,cs);Be(this,ls);Be(this,Mn);Be(this,wo);this.mutationId=t.mutationId,ye(this,Mn,t.mutationCache),ye(this,ls,[]),this.state=t.state||q2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){$(this,ls).includes(t)||($(this,ls).push(t),this.clearGcTimeout(),$(this,Mn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,ls,$(this,ls).filter(n=>n!==t)),this.scheduleGc(),$(this,Mn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){$(this,ls).length||(this.state.status==="pending"?this.scheduleGc():$(this,Mn).remove(this))}continue(){var t;return((t=$(this,wo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,u,m,g,p,w,v,E,N,P,T,k,I,A,S,D,W,V,B;ye(this,wo,H2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(L,j)=>{Qe(this,cs,oi).call(this,{type:"failed",failureCount:L,error:j})},onPause:()=>{Qe(this,cs,oi).call(this,{type:"pause"})},onContinue:()=>{Qe(this,cs,oi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Mn).canRun(this)}));const n=this.state.status==="pending",r=!$(this,wo).canStart();try{if(!n){Qe(this,cs,oi).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(i=$(this,Mn).config).onMutate)==null?void 0:a.call(i,t,this));const j=await((m=(u=this.options).onMutate)==null?void 0:m.call(u,t));j!==this.state.context&&Qe(this,cs,oi).call(this,{type:"pending",context:j,variables:t,isPaused:r})}const L=await $(this,wo).start();return await((p=(g=$(this,Mn).config).onSuccess)==null?void 0:p.call(g,L,t,this.state.context,this)),await((v=(w=this.options).onSuccess)==null?void 0:v.call(w,L,t,this.state.context)),await((N=(E=$(this,Mn).config).onSettled)==null?void 0:N.call(E,L,null,this.state.variables,this.state.context,this)),await((T=(P=this.options).onSettled)==null?void 0:T.call(P,L,null,t,this.state.context)),Qe(this,cs,oi).call(this,{type:"success",data:L}),L}catch(L){try{throw await((I=(k=$(this,Mn).config).onError)==null?void 0:I.call(k,L,t,this.state.context,this)),await((S=(A=this.options).onError)==null?void 0:S.call(A,L,t,this.state.context)),await((W=(D=$(this,Mn).config).onSettled)==null?void 0:W.call(D,void 0,L,this.state.variables,this.state.context,this)),await((B=(V=this.options).onSettled)==null?void 0:B.call(V,void 0,L,t,this.state.context)),L}finally{Qe(this,cs,oi).call(this,{type:"error",error:L})}}finally{$(this,Mn).runNext(this)}}},ls=new WeakMap,Mn=new WeakMap,wo=new WeakMap,cs=new WeakSet,oi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ln.batch(()=>{$(this,ls).forEach(r=>{r.onMutationUpdate(t)}),$(this,Mn).notify({mutation:this,type:"updated",action:t})})},yy);function q2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cr,Lc,vy,r4=(vy=class extends ul{constructor(t={}){super();Be(this,cr);Be(this,Lc);this.config=t,ye(this,cr,new Map),ye(this,Lc,Date.now())}build(t,n,r){const i=new n4({mutationCache:this,mutationId:++gu(this,Lc)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=Du(t),r=$(this,cr).get(n)??[];r.push(t),$(this,cr).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Du(t);if($(this,cr).has(n)){const i=(r=$(this,cr).get(n))==null?void 0:r.filter(a=>a!==t);i&&(i.length===0?$(this,cr).delete(n):$(this,cr).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=$(this,cr).get(Du(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=$(this,cr).get(Du(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ln.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...$(this,cr).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Bx(n,r))}findAll(t={}){return this.getAll().filter(n=>Bx(t,n))}notify(t){ln.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ln.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ar))))}},cr=new WeakMap,Lc=new WeakMap,vy);function Du(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Wx(e){return{onFetch:(t,n)=>{var w,v,E,N,P;const r=t.options,i=(E=(v=(w=t.fetchOptions)==null?void 0:w.meta)==null?void 0:v.fetchMore)==null?void 0:E.direction,a=((N=t.state.data)==null?void 0:N.pages)||[],u=((P=t.state.data)==null?void 0:P.pageParams)||[];let m={pages:[],pageParams:[]},g=0;const p=async()=>{let T=!1;const k=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?T=!0:t.signal.addEventListener("abort",()=>{T=!0}),t.signal)})},I=W2(t.options,t.fetchOptions),A=async(S,D,W)=>{if(T)return Promise.reject();if(D==null&&S.pages.length)return Promise.resolve(S);const V={queryKey:t.queryKey,pageParam:D,direction:W?"backward":"forward",meta:t.options.meta};k(V);const B=await I(V),{maxPages:L}=t.options,j=W?XN:qN;return{pages:j(S.pages,B,L),pageParams:j(S.pageParams,D,L)}};if(i&&a.length){const S=i==="backward",D=S?s4:zx,W={pages:a,pageParams:u},V=D(r,W);m=await A(W,V,S)}else{const S=e??a.length;do{const D=g===0?u[0]??r.initialPageParam:zx(r,m);if(g>0&&D==null)break;m=await A(m,D),g++}while(g<S)}return m};t.options.persister?t.fetchFn=()=>{var T,k;return(k=(T=t.options).persister)==null?void 0:k.call(T,p,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function zx(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function s4(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Xt,xi,wi,Wa,za,yi,Va,Ha,by,i4=(by=class{constructor(e={}){Be(this,Xt);Be(this,xi);Be(this,wi);Be(this,Wa);Be(this,za);Be(this,yi);Be(this,Va);Be(this,Ha);ye(this,Xt,e.queryCache||new t4),ye(this,xi,e.mutationCache||new r4),ye(this,wi,e.defaultOptions||{}),ye(this,Wa,new Map),ye(this,za,new Map),ye(this,yi,0)}mount(){gu(this,yi)._++,$(this,yi)===1&&(ye(this,Va,ep.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,Xt).onFocus())})),ye(this,Ha,Bd.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,Xt).onOnline())})))}unmount(){var e,t;gu(this,yi)._--,$(this,yi)===0&&((e=$(this,Va))==null||e.call(this),ye(this,Va,void 0),(t=$(this,Ha))==null||t.call(this),ye(this,Ha,void 0))}isFetching(e){return $(this,Xt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return $(this,xi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=$(this,Xt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=$(this,Xt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Ta(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return $(this,Xt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=$(this,Xt).get(r.queryHash),a=i==null?void 0:i.state.data,u=$N(t,a);if(u!==void 0)return $(this,Xt).build(this,r).setData(u,{...n,manual:!0})}setQueriesData(e,t,n){return ln.batch(()=>$(this,Xt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=$(this,Xt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=$(this,Xt);ln.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=$(this,Xt),r={type:"active",...e};return ln.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=ln.batch(()=>$(this,Xt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Ar).catch(Ar)}invalidateQueries(e={},t={}){return ln.batch(()=>{if($(this,Xt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=ln.batch(()=>$(this,Xt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Ar)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Ar)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=$(this,Xt).build(this,t);return n.isStaleByTime(Ta(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ar).catch(Ar)}fetchInfiniteQuery(e){return e.behavior=Wx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ar).catch(Ar)}ensureInfiniteQueryData(e){return e.behavior=Wx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Bd.isOnline()?$(this,xi).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,Xt)}getMutationCache(){return $(this,xi)}getDefaultOptions(){return $(this,wi)}setDefaultOptions(e){ye(this,wi,e)}setQueryDefaults(e,t){$(this,Wa).set(Po(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...$(this,Wa).values()];let n={};return t.forEach(r=>{_c(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){$(this,za).set(Po(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...$(this,za).values()];let n={};return t.forEach(r=>{_c(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...$(this,wi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Zm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Jm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...$(this,wi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){$(this,Xt).clear(),$(this,xi).clear()}},Xt=new WeakMap,xi=new WeakMap,wi=new WeakMap,Wa=new WeakMap,za=new WeakMap,yi=new WeakMap,Va=new WeakMap,Ha=new WeakMap,by),Jn,ot,Bc,Ln,yo,$a,vi,us,Fc,Ga,qa,vo,bo,bi,Xa,gt,Gl,h1,m1,p1,g1,x1,w1,y1,X2,Cy,o4=(Cy=class extends ul{constructor(t,n){super();Be(this,gt);Be(this,Jn);Be(this,ot);Be(this,Bc);Be(this,Ln);Be(this,yo);Be(this,$a);Be(this,vi);Be(this,us);Be(this,Fc);Be(this,Ga);Be(this,qa);Be(this,vo);Be(this,bo);Be(this,bi);Be(this,Xa,new Set);this.options=n,ye(this,Jn,t),ye(this,us,null),ye(this,vi,f1()),this.options.experimental_prefetchInRender||$(this,vi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,ot).addObserver(this),Vx($(this,ot),this.options)?Qe(this,gt,Gl).call(this):this.updateResult(),Qe(this,gt,g1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return v1($(this,ot),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return v1($(this,ot),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Qe(this,gt,x1).call(this),Qe(this,gt,w1).call(this),$(this,ot).removeObserver(this)}setOptions(t,n){const r=this.options,i=$(this,ot);if(this.options=$(this,Jn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $r(this.options.enabled,$(this,ot))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Qe(this,gt,y1).call(this),$(this,ot).setOptions(this.options),r._defaulted&&!Ld(this.options,r)&&$(this,Jn).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,ot),observer:this});const a=this.hasListeners();a&&Hx($(this,ot),i,this.options,r)&&Qe(this,gt,Gl).call(this),this.updateResult(n),a&&($(this,ot)!==i||$r(this.options.enabled,$(this,ot))!==$r(r.enabled,$(this,ot))||Ta(this.options.staleTime,$(this,ot))!==Ta(r.staleTime,$(this,ot)))&&Qe(this,gt,h1).call(this);const u=Qe(this,gt,m1).call(this);a&&($(this,ot)!==i||$r(this.options.enabled,$(this,ot))!==$r(r.enabled,$(this,ot))||u!==$(this,bi))&&Qe(this,gt,p1).call(this,u)}getOptimisticResult(t){const n=$(this,Jn).getQueryCache().build($(this,Jn),t),r=this.createResult(n,t);return l4(this,r)&&(ye(this,Ln,r),ye(this,$a,this.options),ye(this,yo,$(this,ot).state)),r}getCurrentResult(){return $(this,Ln)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){$(this,Xa).add(t)}getCurrentQuery(){return $(this,ot)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=$(this,Jn).defaultQueryOptions(t),r=$(this,Jn).getQueryCache().build($(this,Jn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Qe(this,gt,Gl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,Ln)))}createResult(t,n){var L;const r=$(this,ot),i=this.options,a=$(this,Ln),u=$(this,yo),m=$(this,$a),p=t!==r?t.state:$(this,Bc),{state:w}=t;let v={...w},E=!1,N;if(n._optimisticResults){const j=this.hasListeners(),z=!j&&Vx(t,n),ee=j&&Hx(t,r,n,i);(z||ee)&&(v={...v,...G2(w.data,t.options)}),n._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:P,errorUpdatedAt:T,status:k}=v;if(n.select&&v.data!==void 0)if(a&&v.data===(u==null?void 0:u.data)&&n.select===$(this,Fc))N=$(this,Ga);else try{ye(this,Fc,n.select),N=n.select(v.data),N=d1(a==null?void 0:a.data,N,n),ye(this,Ga,N),ye(this,us,null)}catch(j){ye(this,us,j)}else N=v.data;if(n.placeholderData!==void 0&&N===void 0&&k==="pending"){let j;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(m==null?void 0:m.placeholderData))j=a.data;else if(j=typeof n.placeholderData=="function"?n.placeholderData((L=$(this,qa))==null?void 0:L.state.data,$(this,qa)):n.placeholderData,n.select&&j!==void 0)try{j=n.select(j),ye(this,us,null)}catch(z){ye(this,us,z)}j!==void 0&&(k="success",N=d1(a==null?void 0:a.data,j,n),E=!0)}$(this,us)&&(P=$(this,us),N=$(this,Ga),T=Date.now(),k="error");const I=v.fetchStatus==="fetching",A=k==="pending",S=k==="error",D=A&&I,W=N!==void 0,B={status:k,fetchStatus:v.fetchStatus,isPending:A,isSuccess:k==="success",isError:S,isInitialLoading:D,isLoading:D,data:N,dataUpdatedAt:v.dataUpdatedAt,error:P,errorUpdatedAt:T,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>p.dataUpdateCount||v.errorUpdateCount>p.errorUpdateCount,isFetching:I,isRefetching:I&&!A,isLoadingError:S&&!W,isPaused:v.fetchStatus==="paused",isPlaceholderData:E,isRefetchError:S&&W,isStale:tp(t,n),refetch:this.refetch,promise:$(this,vi)};if(this.options.experimental_prefetchInRender){const j=q=>{B.status==="error"?q.reject(B.error):B.data!==void 0&&q.resolve(B.data)},z=()=>{const q=ye(this,vi,B.promise=f1());j(q)},ee=$(this,vi);switch(ee.status){case"pending":t.queryHash===r.queryHash&&j(ee);break;case"fulfilled":(B.status==="error"||B.data!==ee.value)&&z();break;case"rejected":(B.status!=="error"||B.error!==ee.reason)&&z();break}}return B}updateResult(t){const n=$(this,Ln),r=this.createResult($(this,ot),this.options);if(ye(this,yo,$(this,ot).state),ye(this,$a,this.options),$(this,yo).data!==void 0&&ye(this,qa,$(this,ot)),Ld(r,n))return;ye(this,Ln,r);const i={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:u}=this.options,m=typeof u=="function"?u():u;if(m==="all"||!m&&!$(this,Xa).size)return!0;const g=new Set(m??$(this,Xa));return this.options.throwOnError&&g.add("error"),Object.keys($(this,Ln)).some(p=>{const w=p;return $(this,Ln)[w]!==n[w]&&g.has(w)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),Qe(this,gt,X2).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Qe(this,gt,g1).call(this)}},Jn=new WeakMap,ot=new WeakMap,Bc=new WeakMap,Ln=new WeakMap,yo=new WeakMap,$a=new WeakMap,vi=new WeakMap,us=new WeakMap,Fc=new WeakMap,Ga=new WeakMap,qa=new WeakMap,vo=new WeakMap,bo=new WeakMap,bi=new WeakMap,Xa=new WeakMap,gt=new WeakSet,Gl=function(t){Qe(this,gt,y1).call(this);let n=$(this,ot).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Ar)),n},h1=function(){Qe(this,gt,x1).call(this);const t=Ta(this.options.staleTime,$(this,ot));if(ko||$(this,Ln).isStale||!c1(t))return;const r=F2($(this,Ln).dataUpdatedAt,t)+1;ye(this,vo,setTimeout(()=>{$(this,Ln).isStale||this.updateResult()},r))},m1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,ot)):this.options.refetchInterval)??!1},p1=function(t){Qe(this,gt,w1).call(this),ye(this,bi,t),!(ko||$r(this.options.enabled,$(this,ot))===!1||!c1($(this,bi))||$(this,bi)===0)&&ye(this,bo,setInterval(()=>{(this.options.refetchIntervalInBackground||ep.isFocused())&&Qe(this,gt,Gl).call(this)},$(this,bi)))},g1=function(){Qe(this,gt,h1).call(this),Qe(this,gt,p1).call(this,Qe(this,gt,m1).call(this))},x1=function(){$(this,vo)&&(clearTimeout($(this,vo)),ye(this,vo,void 0))},w1=function(){$(this,bo)&&(clearInterval($(this,bo)),ye(this,bo,void 0))},y1=function(){const t=$(this,Jn).getQueryCache().build($(this,Jn),this.options);if(t===$(this,ot))return;const n=$(this,ot);ye(this,ot,t),ye(this,Bc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},X2=function(t){ln.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n($(this,Ln))}),$(this,Jn).getQueryCache().notify({query:$(this,ot),type:"observerResultsUpdated"})})},Cy);function a4(e,t){return $r(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Vx(e,t){return a4(e,t)||e.state.data!==void 0&&v1(e,t,t.refetchOnMount)}function v1(e,t,n){if($r(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&tp(e,t)}return!1}function Hx(e,t,n,r){return(e!==t||$r(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&tp(e,n)}function tp(e,t){return $r(t.enabled,e)!==!1&&e.isStaleByTime(Ta(t.staleTime,e))}function l4(e,t){return!Ld(e.getCurrentResult(),t)}var Ci,Ei,er,ks,Ls,od,b1,Ey,c4=(Ey=class extends ul{constructor(n,r){super();Be(this,Ls);Be(this,Ci);Be(this,Ei);Be(this,er);Be(this,ks);ye(this,Ci,n),this.setOptions(r),this.bindMethods(),Qe(this,Ls,od).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=$(this,Ci).defaultMutationOptions(n),Ld(this.options,r)||$(this,Ci).getMutationCache().notify({type:"observerOptionsUpdated",mutation:$(this,er),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Po(r.mutationKey)!==Po(this.options.mutationKey)?this.reset():((i=$(this,er))==null?void 0:i.state.status)==="pending"&&$(this,er).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=$(this,er))==null||n.removeObserver(this)}onMutationUpdate(n){Qe(this,Ls,od).call(this),Qe(this,Ls,b1).call(this,n)}getCurrentResult(){return $(this,Ei)}reset(){var n;(n=$(this,er))==null||n.removeObserver(this),ye(this,er,void 0),Qe(this,Ls,od).call(this),Qe(this,Ls,b1).call(this)}mutate(n,r){var i;return ye(this,ks,r),(i=$(this,er))==null||i.removeObserver(this),ye(this,er,$(this,Ci).getMutationCache().build($(this,Ci),this.options)),$(this,er).addObserver(this),$(this,er).execute(n)}},Ci=new WeakMap,Ei=new WeakMap,er=new WeakMap,ks=new WeakMap,Ls=new WeakSet,od=function(){var r;const n=((r=$(this,er))==null?void 0:r.state)??q2();ye(this,Ei,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},b1=function(n){ln.batch(()=>{var r,i,a,u,m,g,p,w;if($(this,ks)&&this.hasListeners()){const v=$(this,Ei).variables,E=$(this,Ei).context;(n==null?void 0:n.type)==="success"?((i=(r=$(this,ks)).onSuccess)==null||i.call(r,n.data,v,E),(u=(a=$(this,ks)).onSettled)==null||u.call(a,n.data,null,v,E)):(n==null?void 0:n.type)==="error"&&((g=(m=$(this,ks)).onError)==null||g.call(m,n.error,v,E),(w=(p=$(this,ks)).onSettled)==null||w.call(p,void 0,n.error,v,E))}this.listeners.forEach(v=>{v($(this,Ei))})})},Ey),Y2=C.createContext(void 0),ys=e=>{const t=C.useContext(Y2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},u4=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),h.jsx(Y2.Provider,{value:e,children:t})),K2=C.createContext(!1),d4=()=>C.useContext(K2);K2.Provider;function f4(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var h4=C.createContext(f4()),m4=()=>C.useContext(h4);function Q2(e,t){return typeof e=="function"?e(...t):!!e}function Z2(){}var p4=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},g4=e=>{C.useEffect(()=>{e.clearReset()},[e])},x4=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&Q2(n,[e.error,r]),w4=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},y4=(e,t)=>e.isLoading&&e.isFetching&&!t,v4=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,$x=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function b4(e,t,n){var w,v,E,N,P;const r=ys(),i=d4(),a=m4(),u=r.defaultQueryOptions(e);(v=(w=r.getDefaultOptions().queries)==null?void 0:w._experimental_beforeQuery)==null||v.call(w,u),u._optimisticResults=i?"isRestoring":"optimistic",w4(u),p4(u,a),g4(a);const m=!r.getQueryCache().get(u.queryHash),[g]=C.useState(()=>new t(r,u)),p=g.getOptimisticResult(u);if(C.useSyncExternalStore(C.useCallback(T=>{const k=i?()=>{}:g.subscribe(ln.batchCalls(T));return g.updateResult(),k},[g,i]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),C.useEffect(()=>{g.setOptions(u,{listeners:!1})},[u,g]),v4(u,p))throw $x(u,g,a);if(x4({result:p,errorResetBoundary:a,throwOnError:u.throwOnError,query:r.getQueryCache().get(u.queryHash)}))throw p.error;if((N=(E=r.getDefaultOptions().queries)==null?void 0:E._experimental_afterQuery)==null||N.call(E,u,p),u.experimental_prefetchInRender&&!ko&&y4(p,i)){const T=m?$x(u,g,a):(P=r.getQueryCache().get(u.queryHash))==null?void 0:P.promise;T==null||T.catch(Z2).finally(()=>{g.updateResult()})}return u.notifyOnChangeProps?p:g.trackResult(p)}function zs(e,t){return b4(e,o4)}function xs(e,t){const n=ys(),[r]=C.useState(()=>new c4(n,e));C.useEffect(()=>{r.setOptions(e)},[r,e]);const i=C.useSyncExternalStore(C.useCallback(u=>r.subscribe(ln.batchCalls(u)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=C.useCallback((u,m)=>{r.mutate(u,m).catch(Z2)},[r]);if(i.error&&Q2(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nc.apply(this,arguments)}var _i;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(_i||(_i={}));const Gx="popstate";function C4(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:u,hash:m}=r.location;return C1("",{pathname:a,search:u,hash:m},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fd(i)}return S4(t,n,null,e)}function Zt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function J2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function E4(){return Math.random().toString(36).substr(2,8)}function qx(e,t){return{usr:e.state,key:e.key,idx:t}}function C1(e,t,n,r){return n===void 0&&(n=null),Nc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?dl(t):t,{state:n,key:t&&t.key||r||E4()})}function Fd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function dl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function S4(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,u=i.history,m=_i.Pop,g=null,p=w();p==null&&(p=0,u.replaceState(Nc({},u.state,{idx:p}),""));function w(){return(u.state||{idx:null}).idx}function v(){m=_i.Pop;let k=w(),I=k==null?null:k-p;p=k,g&&g({action:m,location:T.location,delta:I})}function E(k,I){m=_i.Push;let A=C1(T.location,k,I);p=w()+1;let S=qx(A,p),D=T.createHref(A);try{u.pushState(S,"",D)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(D)}a&&g&&g({action:m,location:T.location,delta:1})}function N(k,I){m=_i.Replace;let A=C1(T.location,k,I);p=w();let S=qx(A,p),D=T.createHref(A);u.replaceState(S,"",D),a&&g&&g({action:m,location:T.location,delta:0})}function P(k){let I=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof k=="string"?k:Fd(k);return A=A.replace(/ $/,"%20"),Zt(I,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,I)}let T={get action(){return m},get location(){return e(i,u)},listen(k){if(g)throw new Error("A history only accepts one active listener");return i.addEventListener(Gx,v),g=k,()=>{i.removeEventListener(Gx,v),g=null}},createHref(k){return t(i,k)},createURL:P,encodeLocation(k){let I=P(k);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:E,replace:N,go(k){return u.go(k)}};return T}var Xx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Xx||(Xx={}));function A4(e,t,n){return n===void 0&&(n="/"),_4(e,t,n,!1)}function _4(e,t,n,r){let i=typeof t=="string"?dl(t):t,a=np(i.pathname||"/",n);if(a==null)return null;let u=eb(e);N4(u);let m=null;for(let g=0;m==null&&g<u.length;++g){let p=B4(a);m=M4(u[g],p,r)}return m}function eb(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,u,m)=>{let g={relativePath:m===void 0?a.path||"":m,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};g.relativePath.startsWith("/")&&(Zt(g.relativePath.startsWith(r),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(r.length));let p=ji([r,g.relativePath]),w=n.concat(g);a.children&&a.children.length>0&&(Zt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),eb(a.children,t,w,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:D4(p,a.index),routesMeta:w})};return e.forEach((a,u)=>{var m;if(a.path===""||!((m=a.path)!=null&&m.includes("?")))i(a,u);else for(let g of tb(a.path))i(a,u,g)}),t}function tb(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let u=tb(r.join("/")),m=[];return m.push(...u.map(g=>g===""?a:[a,g].join("/"))),i&&m.push(...u),m.map(g=>e.startsWith("/")&&g===""?"/":g)}function N4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:j4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const T4=/^:[\w-]+$/,I4=3,R4=2,O4=1,k4=10,P4=-2,Yx=e=>e==="*";function D4(e,t){let n=e.split("/"),r=n.length;return n.some(Yx)&&(r+=P4),t&&(r+=R4),n.filter(i=>!Yx(i)).reduce((i,a)=>i+(T4.test(a)?I4:a===""?O4:k4),r)}function j4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function M4(e,t,n){let{routesMeta:r}=e,i={},a="/",u=[];for(let m=0;m<r.length;++m){let g=r[m],p=m===r.length-1,w=a==="/"?t:t.slice(a.length)||"/",v=Kx({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},w),E=g.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=Kx({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!v)return null;Object.assign(i,v.params),u.push({params:i,pathname:ji([a,v.pathname]),pathnameBase:z4(ji([a,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(a=ji([a,v.pathnameBase]))}return u}function Kx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=L4(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),m=i.slice(1);return{params:r.reduce((p,w,v)=>{let{paramName:E,isOptional:N}=w;if(E==="*"){let T=m[v]||"";u=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const P=m[v];return N&&!P?p[E]=void 0:p[E]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:e}}function L4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),J2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,g)=>(r.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function B4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return J2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function np(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function F4(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?dl(e):e;return{pathname:n?n.startsWith("/")?n:U4(n,t):t,search:V4(r),hash:H4(i)}}function U4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Kh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function W4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function rp(e,t){let n=W4(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sp(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=dl(e):(i=Nc({},e),Zt(!i.pathname||!i.pathname.includes("?"),Kh("?","pathname","search",i)),Zt(!i.pathname||!i.pathname.includes("#"),Kh("#","pathname","hash",i)),Zt(!i.search||!i.search.includes("#"),Kh("#","search","hash",i)));let a=e===""||i.pathname==="",u=a?"/":i.pathname,m;if(u==null)m=n;else{let v=t.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),v-=1;i.pathname=E.join("/")}m=v>=0?t[v]:"/"}let g=F4(i,m),p=u&&u!=="/"&&u.endsWith("/"),w=(a||u===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||w)&&(g.pathname+="/"),g}const ji=e=>e.join("/").replace(/\/\/+/g,"/"),z4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,H4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nb=["post","put","patch","delete"];new Set(nb);const G4=["get",...nb];new Set(G4);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tc.apply(this,arguments)}const ip=C.createContext(null),q4=C.createContext(null),Xi=C.createContext(null),_f=C.createContext(null),Gs=C.createContext({outlet:null,matches:[],isDataRoute:!1}),rb=C.createContext(null);function X4(e,t){let{relative:n}=t===void 0?{}:t;fl()||Zt(!1);let{basename:r,navigator:i}=C.useContext(Xi),{hash:a,pathname:u,search:m}=ob(e,{relative:n}),g=u;return r!=="/"&&(g=u==="/"?r:ji([r,u])),i.createHref({pathname:g,search:m,hash:a})}function fl(){return C.useContext(_f)!=null}function vs(){return fl()||Zt(!1),C.useContext(_f).location}function sb(e){C.useContext(Xi).static||C.useLayoutEffect(e)}function kr(){let{isDataRoute:e}=C.useContext(Gs);return e?aT():Y4()}function Y4(){fl()||Zt(!1);let e=C.useContext(ip),{basename:t,future:n,navigator:r}=C.useContext(Xi),{matches:i}=C.useContext(Gs),{pathname:a}=vs(),u=JSON.stringify(rp(i,n.v7_relativeSplatPath)),m=C.useRef(!1);return sb(()=>{m.current=!0}),C.useCallback(function(p,w){if(w===void 0&&(w={}),!m.current)return;if(typeof p=="number"){r.go(p);return}let v=sp(p,JSON.parse(u),a,w.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:ji([t,v.pathname])),(w.replace?r.replace:r.push)(v,w.state,w)},[t,r,u,a,e])}function ib(){let{matches:e}=C.useContext(Gs),t=e[e.length-1];return t?t.params:{}}function ob(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=C.useContext(Xi),{matches:i}=C.useContext(Gs),{pathname:a}=vs(),u=JSON.stringify(rp(i,r.v7_relativeSplatPath));return C.useMemo(()=>sp(e,JSON.parse(u),a,n==="path"),[e,u,a,n])}function K4(e,t){return Q4(e,t)}function Q4(e,t,n,r){fl()||Zt(!1);let{navigator:i}=C.useContext(Xi),{matches:a}=C.useContext(Gs),u=a[a.length-1],m=u?u.params:{};u&&u.pathname;let g=u?u.pathnameBase:"/";u&&u.route;let p=vs(),w;if(t){var v;let k=typeof t=="string"?dl(t):t;g==="/"||(v=k.pathname)!=null&&v.startsWith(g)||Zt(!1),w=k}else w=p;let E=w.pathname||"/",N=E;if(g!=="/"){let k=g.replace(/^\//,"").split("/");N="/"+E.replace(/^\//,"").split("/").slice(k.length).join("/")}let P=A4(e,{pathname:N}),T=nT(P&&P.map(k=>Object.assign({},k,{params:Object.assign({},m,k.params),pathname:ji([g,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?g:ji([g,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,n,r);return t&&T?C.createElement(_f.Provider,{value:{location:Tc({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:_i.Pop}},T):T}function Z4(){let e=oT(),t=$4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:i},n):null,null)}const J4=C.createElement(Z4,null);class eT extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?C.createElement(Gs.Provider,{value:this.props.routeContext},C.createElement(rb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tT(e){let{routeContext:t,match:n,children:r}=e,i=C.useContext(ip);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Gs.Provider,{value:t},r)}function nT(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,m=(i=n)==null?void 0:i.errors;if(m!=null){let w=u.findIndex(v=>v.route.id&&(m==null?void 0:m[v.route.id])!==void 0);w>=0||Zt(!1),u=u.slice(0,Math.min(u.length,w+1))}let g=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let w=0;w<u.length;w++){let v=u[w];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=w),v.route.id){let{loaderData:E,errors:N}=n,P=v.route.loader&&E[v.route.id]===void 0&&(!N||N[v.route.id]===void 0);if(v.route.lazy||P){g=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((w,v,E)=>{let N,P=!1,T=null,k=null;n&&(N=m&&v.route.id?m[v.route.id]:void 0,T=v.route.errorElement||J4,g&&(p<0&&E===0?(P=!0,k=null):p===E&&(P=!0,k=v.route.hydrateFallbackElement||null)));let I=t.concat(u.slice(0,E+1)),A=()=>{let S;return N?S=T:P?S=k:v.route.Component?S=C.createElement(v.route.Component,null):v.route.element?S=v.route.element:S=w,C.createElement(tT,{match:v,routeContext:{outlet:w,matches:I,isDataRoute:n!=null},children:S})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?C.createElement(eT,{location:n.location,revalidation:n.revalidation,component:T,error:N,children:A(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):A()},null)}var ab=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ab||{}),Ud=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ud||{});function rT(e){let t=C.useContext(ip);return t||Zt(!1),t}function sT(e){let t=C.useContext(q4);return t||Zt(!1),t}function iT(e){let t=C.useContext(Gs);return t||Zt(!1),t}function lb(e){let t=iT(),n=t.matches[t.matches.length-1];return n.route.id||Zt(!1),n.route.id}function oT(){var e;let t=C.useContext(rb),n=sT(Ud.UseRouteError),r=lb(Ud.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function aT(){let{router:e}=rT(ab.UseNavigateStable),t=lb(Ud.UseNavigateStable),n=C.useRef(!1);return sb(()=>{n.current=!0}),C.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Tc({fromRouteId:t},a)))},[e,t])}function E1(e){let{to:t,replace:n,state:r,relative:i}=e;fl()||Zt(!1);let{future:a,static:u}=C.useContext(Xi),{matches:m}=C.useContext(Gs),{pathname:g}=vs(),p=kr(),w=sp(t,rp(m,a.v7_relativeSplatPath),g,i==="path"),v=JSON.stringify(w);return C.useEffect(()=>p(JSON.parse(v),{replace:n,state:r,relative:i}),[p,v,i,n,r]),null}function Zn(e){Zt(!1)}function lT(e){let{basename:t="/",children:n=null,location:r,navigationType:i=_i.Pop,navigator:a,static:u=!1,future:m}=e;fl()&&Zt(!1);let g=t.replace(/^\/*/,"/"),p=C.useMemo(()=>({basename:g,navigator:a,static:u,future:Tc({v7_relativeSplatPath:!1},m)}),[g,m,a,u]);typeof r=="string"&&(r=dl(r));let{pathname:w="/",search:v="",hash:E="",state:N=null,key:P="default"}=r,T=C.useMemo(()=>{let k=np(w,g);return k==null?null:{location:{pathname:k,search:v,hash:E,state:N,key:P},navigationType:i}},[g,w,v,E,N,P,i]);return T==null?null:C.createElement(Xi.Provider,{value:p},C.createElement(_f.Provider,{children:n,value:T}))}function cT(e){let{children:t,location:n}=e;return K4(S1(t),n)}new Promise(()=>{});function S1(e,t){t===void 0&&(t=[]);let n=[];return C.Children.forEach(e,(r,i)=>{if(!C.isValidElement(r))return;let a=[...t,i];if(r.type===C.Fragment){n.push.apply(n,S1(r.props.children,a));return}r.type!==Zn&&Zt(!1),!r.props.index||!r.props.children||Zt(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=S1(r.props.children,a)),n.push(u)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function A1(){return A1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A1.apply(this,arguments)}function uT(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function dT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fT(e,t){return e.button===0&&(!t||t==="_self")&&!dT(e)}const hT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mT="6";try{window.__reactRouterVersion=mT}catch{}const pT="startTransition",Qx=jy[pT];function gT(e){let{basename:t,children:n,future:r,window:i}=e,a=C.useRef();a.current==null&&(a.current=C4({window:i,v5Compat:!0}));let u=a.current,[m,g]=C.useState({action:u.action,location:u.location}),{v7_startTransition:p}=r||{},w=C.useCallback(v=>{p&&Qx?Qx(()=>g(v)):g(v)},[g,p]);return C.useLayoutEffect(()=>u.listen(w),[u,w]),C.createElement(lT,{basename:t,children:n,location:m.location,navigationType:m.action,navigator:u,future:r})}const xT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mi=C.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:u,state:m,target:g,to:p,preventScrollReset:w,viewTransition:v}=t,E=uT(t,hT),{basename:N}=C.useContext(Xi),P,T=!1;if(typeof p=="string"&&wT.test(p)&&(P=p,xT))try{let S=new URL(window.location.href),D=p.startsWith("//")?new URL(S.protocol+p):new URL(p),W=np(D.pathname,N);D.origin===S.origin&&W!=null?p=W+D.search+D.hash:T=!0}catch{}let k=X4(p,{relative:i}),I=yT(p,{replace:u,state:m,target:g,preventScrollReset:w,relative:i,viewTransition:v});function A(S){r&&r(S),S.defaultPrevented||I(S)}return C.createElement("a",A1({},E,{href:P||k,onClick:T||a?r:A,ref:n,target:g}))});var Zx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zx||(Zx={}));var Jx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Jx||(Jx={}));function yT(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:u,viewTransition:m}=t===void 0?{}:t,g=kr(),p=vs(),w=ob(e,{relative:u});return C.useCallback(v=>{if(fT(v,n)){v.preventDefault();let E=r!==void 0?r:Fd(p)===Fd(w);g(e,{replace:E,state:i,preventScrollReset:a,relative:u,viewTransition:m})}},[p,g,w,r,i,n,e,a,u,m])}const vT=1,bT=1e6;let Qh=0;function CT(){return Qh=(Qh+1)%Number.MAX_SAFE_INTEGER,Qh.toString()}const Zh=new Map,ew=e=>{if(Zh.has(e))return;const t=setTimeout(()=>{Zh.delete(e),ic({type:"REMOVE_TOAST",toastId:e})},bT);Zh.set(e,t)},ET=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,vT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?ew(n):e.toasts.forEach(r=>{ew(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},ad=[];let ld={toasts:[]};function ic(e){ld=ET(ld,e),ad.forEach(t=>{t(ld)})}function ST({...e}){const t=CT(),n=i=>ic({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>ic({type:"DISMISS_TOAST",toastId:t});return ic({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Hn(){const[e,t]=C.useState(ld);return C.useEffect(()=>(ad.push(t),()=>{const n=ad.indexOf(t);n>-1&&ad.splice(n,1)}),[e]),{...e,toast:ST,dismiss:n=>ic({type:"DISMISS_TOAST",toastId:n})}}function Me(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function AT(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function cb(...e){return t=>e.forEach(n=>AT(n,t))}function at(...e){return C.useCallback(cb(...e),e)}function _T(e,t=[]){let n=[];function r(a,u){const m=C.createContext(u),g=n.length;n=[...n,u];function p(v){const{scope:E,children:N,...P}=v,T=(E==null?void 0:E[e][g])||m,k=C.useMemo(()=>P,Object.values(P));return h.jsx(T.Provider,{value:k,children:N})}function w(v,E){const N=(E==null?void 0:E[e][g])||m,P=C.useContext(N);if(P)return P;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${a}\``)}return p.displayName=a+"Provider",[p,w]}const i=()=>{const a=n.map(u=>C.createContext(u));return function(m){const g=(m==null?void 0:m[e])||a;return C.useMemo(()=>({[`__scope${e}`]:{...m,[e]:g}}),[m,g])}};return i.scopeName=e,[r,NT(i,...t)]}function NT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=r.reduce((m,{useScope:g,scopeName:p})=>{const v=g(a)[`__scope${p}`];return{...m,...v}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var Do=C.forwardRef((e,t)=>{const{children:n,...r}=e,i=C.Children.toArray(n),a=i.find(TT);if(a){const u=a.props.children,m=i.map(g=>g===a?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:g);return h.jsx(_1,{...r,ref:t,children:C.isValidElement(u)?C.cloneElement(u,void 0,m):null})}return h.jsx(_1,{...r,ref:t,children:n})});Do.displayName="Slot";var _1=C.forwardRef((e,t)=>{const{children:n,...r}=e;if(C.isValidElement(n)){const i=RT(n);return C.cloneElement(n,{...IT(r,n.props),ref:t?cb(t,i):i})}return C.Children.count(n)>1?C.Children.only(null):null});_1.displayName="SlotClone";var op=({children:e})=>h.jsx(h.Fragment,{children:e});function TT(e){return C.isValidElement(e)&&e.type===op}function IT(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...m)=>{a(...m),i(...m)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function RT(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ub(e){const t=e+"CollectionProvider",[n,r]=_T(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=N=>{const{scope:P,children:T}=N,k=ii.useRef(null),I=ii.useRef(new Map).current;return h.jsx(i,{scope:P,itemMap:I,collectionRef:k,children:T})};u.displayName=t;const m=e+"CollectionSlot",g=ii.forwardRef((N,P)=>{const{scope:T,children:k}=N,I=a(m,T),A=at(P,I.collectionRef);return h.jsx(Do,{ref:A,children:k})});g.displayName=m;const p=e+"CollectionItemSlot",w="data-radix-collection-item",v=ii.forwardRef((N,P)=>{const{scope:T,children:k,...I}=N,A=ii.useRef(null),S=at(P,A),D=a(p,T);return ii.useEffect(()=>(D.itemMap.set(A,{ref:A,...I}),()=>void D.itemMap.delete(A))),h.jsx(Do,{[w]:"",ref:S,children:k})});v.displayName=p;function E(N){const P=a(e+"CollectionConsumer",N);return ii.useCallback(()=>{const k=P.collectionRef.current;if(!k)return[];const I=Array.from(k.querySelectorAll(`[${w}]`));return Array.from(P.itemMap.values()).sort((D,W)=>I.indexOf(D.ref.current)-I.indexOf(W.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:u,Slot:g,ItemSlot:v},E,r]}function OT(e,t){const n=C.createContext(t),r=a=>{const{children:u,...m}=a,g=C.useMemo(()=>m,Object.values(m));return h.jsx(n.Provider,{value:g,children:u})};r.displayName=e+"Provider";function i(a){const u=C.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Yi(e,t=[]){let n=[];function r(a,u){const m=C.createContext(u),g=n.length;n=[...n,u];const p=v=>{var I;const{scope:E,children:N,...P}=v,T=((I=E==null?void 0:E[e])==null?void 0:I[g])||m,k=C.useMemo(()=>P,Object.values(P));return h.jsx(T.Provider,{value:k,children:N})};p.displayName=a+"Provider";function w(v,E){var T;const N=((T=E==null?void 0:E[e])==null?void 0:T[g])||m,P=C.useContext(N);if(P)return P;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[p,w]}const i=()=>{const a=n.map(u=>C.createContext(u));return function(m){const g=(m==null?void 0:m[e])||a;return C.useMemo(()=>({[`__scope${e}`]:{...m,[e]:g}}),[m,g])}};return i.scopeName=e,[r,kT(i,...t)]}function kT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=r.reduce((m,{useScope:g,scopeName:p})=>{const v=g(a)[`__scope${p}`];return{...m,...v}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var PT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ve=PT.reduce((e,t)=>{const n=C.forwardRef((r,i)=>{const{asChild:a,...u}=r,m=a?Do:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(m,{...u,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function db(e,t){e&&Wo.flushSync(()=>e.dispatchEvent(t))}function en(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function DT(e,t=globalThis==null?void 0:globalThis.document){const n=en(e);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var jT="DismissableLayer",N1="dismissableLayer.update",MT="dismissableLayer.pointerDownOutside",LT="dismissableLayer.focusOutside",tw,fb=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$c=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:u,onDismiss:m,...g}=e,p=C.useContext(fb),[w,v]=C.useState(null),E=(w==null?void 0:w.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,N]=C.useState({}),P=at(t,B=>v(B)),T=Array.from(p.layers),[k]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),I=T.indexOf(k),A=w?T.indexOf(w):-1,S=p.layersWithOutsidePointerEventsDisabled.size>0,D=A>=I,W=FT(B=>{const L=B.target,j=[...p.branches].some(z=>z.contains(L));!D||j||(i==null||i(B),u==null||u(B),B.defaultPrevented||m==null||m())},E),V=UT(B=>{const L=B.target;[...p.branches].some(z=>z.contains(L))||(a==null||a(B),u==null||u(B),B.defaultPrevented||m==null||m())},E);return DT(B=>{A===p.layers.size-1&&(r==null||r(B),!B.defaultPrevented&&m&&(B.preventDefault(),m()))},E),C.useEffect(()=>{if(w)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(tw=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(w)),p.layers.add(w),nw(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=tw)}},[w,E,n,p]),C.useEffect(()=>()=>{w&&(p.layers.delete(w),p.layersWithOutsidePointerEventsDisabled.delete(w),nw())},[w,p]),C.useEffect(()=>{const B=()=>N({});return document.addEventListener(N1,B),()=>document.removeEventListener(N1,B)},[]),h.jsx(Ve.div,{...g,ref:P,style:{pointerEvents:S?D?"auto":"none":void 0,...e.style},onFocusCapture:Me(e.onFocusCapture,V.onFocusCapture),onBlurCapture:Me(e.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Me(e.onPointerDownCapture,W.onPointerDownCapture)})});$c.displayName=jT;var BT="DismissableLayerBranch",hb=C.forwardRef((e,t)=>{const n=C.useContext(fb),r=C.useRef(null),i=at(t,r);return C.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),h.jsx(Ve.div,{...e,ref:i})});hb.displayName=BT;function FT(e,t=globalThis==null?void 0:globalThis.document){const n=en(e),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const a=m=>{if(m.target&&!r.current){let g=function(){mb(MT,n,p,{discrete:!0})};const p={originalEvent:m};m.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=g,t.addEventListener("click",i.current,{once:!0})):g()}else t.removeEventListener("click",i.current);r.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function UT(e,t=globalThis==null?void 0:globalThis.document){const n=en(e),r=C.useRef(!1);return C.useEffect(()=>{const i=a=>{a.target&&!r.current&&mb(LT,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function nw(){const e=new CustomEvent(N1);document.dispatchEvent(e)}function mb(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?db(i,a):i.dispatchEvent(a)}var WT=$c,zT=hb,Sn=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},VT="Portal",Nf=C.forwardRef((e,t)=>{var m;const{container:n,...r}=e,[i,a]=C.useState(!1);Sn(()=>a(!0),[]);const u=n||i&&((m=globalThis==null?void 0:globalThis.document)==null?void 0:m.body);return u?HN.createPortal(h.jsx(Ve.div,{...r,ref:t}),u):null});Nf.displayName=VT;function HT(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var Qr=e=>{const{present:t,children:n}=e,r=$T(t),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),a=at(r.ref,GT(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:a}):null};Qr.displayName="Presence";function $T(e){const[t,n]=C.useState(),r=C.useRef({}),i=C.useRef(e),a=C.useRef("none"),u=e?"mounted":"unmounted",[m,g]=HT(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const p=ju(r.current);a.current=m==="mounted"?p:"none"},[m]),Sn(()=>{const p=r.current,w=i.current;if(w!==e){const E=a.current,N=ju(p);e?g("MOUNT"):N==="none"||(p==null?void 0:p.display)==="none"?g("UNMOUNT"):g(w&&E!==N?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,g]),Sn(()=>{if(t){let p;const w=t.ownerDocument.defaultView??window,v=N=>{const T=ju(r.current).includes(N.animationName);if(N.target===t&&T&&(g("ANIMATION_END"),!i.current)){const k=t.style.animationFillMode;t.style.animationFillMode="forwards",p=w.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=k)})}},E=N=>{N.target===t&&(a.current=ju(r.current))};return t.addEventListener("animationstart",E),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{w.clearTimeout(p),t.removeEventListener("animationstart",E),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else g("ANIMATION_END")},[t,g]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:C.useCallback(p=>{p&&(r.current=getComputedStyle(p)),n(p)},[])}}function ju(e){return(e==null?void 0:e.animationName)||"none"}function GT(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function jo({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=qT({defaultProp:t,onChange:n}),a=e!==void 0,u=a?e:r,m=en(n),g=C.useCallback(p=>{if(a){const v=typeof p=="function"?p(e):p;v!==e&&m(v)}else i(p)},[a,e,i,m]);return[u,g]}function qT({defaultProp:e,onChange:t}){const n=C.useState(e),[r]=n,i=C.useRef(r),a=en(t);return C.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var XT="VisuallyHidden",Gc=C.forwardRef((e,t)=>h.jsx(Ve.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Gc.displayName=XT;var YT=Gc,ap="ToastProvider",[lp,KT,QT]=ub("Toast"),[pb,u7]=Yi("Toast",[QT]),[ZT,Tf]=pb(ap),gb=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:u}=e,[m,g]=C.useState(null),[p,w]=C.useState(0),v=C.useRef(!1),E=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ap}\`. Expected non-empty \`string\`.`),h.jsx(lp.Provider,{scope:t,children:h.jsx(ZT,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:p,viewport:m,onViewportChange:g,onToastAdd:C.useCallback(()=>w(N=>N+1),[]),onToastRemove:C.useCallback(()=>w(N=>N-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:E,children:u})})};gb.displayName=ap;var xb="ToastViewport",JT=["F8"],T1="toast.viewportPause",I1="toast.viewportResume",wb=C.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=JT,label:i="Notifications ({hotkey})",...a}=e,u=Tf(xb,n),m=KT(n),g=C.useRef(null),p=C.useRef(null),w=C.useRef(null),v=C.useRef(null),E=at(t,v,u.onViewportChange),N=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=u.toastCount>0;C.useEffect(()=>{const k=I=>{var S;r.length!==0&&r.every(D=>I[D]||I.code===D)&&((S=v.current)==null||S.focus())};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[r]),C.useEffect(()=>{const k=g.current,I=v.current;if(P&&k&&I){const A=()=>{if(!u.isClosePausedRef.current){const V=new CustomEvent(T1);I.dispatchEvent(V),u.isClosePausedRef.current=!0}},S=()=>{if(u.isClosePausedRef.current){const V=new CustomEvent(I1);I.dispatchEvent(V),u.isClosePausedRef.current=!1}},D=V=>{!k.contains(V.relatedTarget)&&S()},W=()=>{k.contains(document.activeElement)||S()};return k.addEventListener("focusin",A),k.addEventListener("focusout",D),k.addEventListener("pointermove",A),k.addEventListener("pointerleave",W),window.addEventListener("blur",A),window.addEventListener("focus",S),()=>{k.removeEventListener("focusin",A),k.removeEventListener("focusout",D),k.removeEventListener("pointermove",A),k.removeEventListener("pointerleave",W),window.removeEventListener("blur",A),window.removeEventListener("focus",S)}}},[P,u.isClosePausedRef]);const T=C.useCallback(({tabbingDirection:k})=>{const A=m().map(S=>{const D=S.ref.current,W=[D,...f8(D)];return k==="forwards"?W:W.reverse()});return(k==="forwards"?A.reverse():A).flat()},[m]);return C.useEffect(()=>{const k=v.current;if(k){const I=A=>{var W,V,B;const S=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!S){const L=document.activeElement,j=A.shiftKey;if(A.target===k&&j){(W=p.current)==null||W.focus();return}const q=T({tabbingDirection:j?"backwards":"forwards"}),se=q.findIndex(re=>re===L);Jh(q.slice(se+1))?A.preventDefault():j?(V=p.current)==null||V.focus():(B=w.current)==null||B.focus()}};return k.addEventListener("keydown",I),()=>k.removeEventListener("keydown",I)}},[m,T]),h.jsxs(zT,{ref:g,role:"region","aria-label":i.replace("{hotkey}",N),tabIndex:-1,style:{pointerEvents:P?void 0:"none"},children:[P&&h.jsx(R1,{ref:p,onFocusFromOutsideViewport:()=>{const k=T({tabbingDirection:"forwards"});Jh(k)}}),h.jsx(lp.Slot,{scope:n,children:h.jsx(Ve.ol,{tabIndex:-1,...a,ref:E})}),P&&h.jsx(R1,{ref:w,onFocusFromOutsideViewport:()=>{const k=T({tabbingDirection:"backwards"});Jh(k)}})]})});wb.displayName=xb;var yb="ToastFocusProxy",R1=C.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=Tf(yb,n);return h.jsx(Gc,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:u=>{var p;const m=u.relatedTarget;!((p=a.viewport)!=null&&p.contains(m))&&r()}})});R1.displayName=yb;var If="Toast",e8="toast.swipeStart",t8="toast.swipeMove",n8="toast.swipeCancel",r8="toast.swipeEnd",vb=C.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...u}=e,[m=!0,g]=jo({prop:r,defaultProp:i,onChange:a});return h.jsx(Qr,{present:n||m,children:h.jsx(o8,{open:m,...u,ref:t,onClose:()=>g(!1),onPause:en(e.onPause),onResume:en(e.onResume),onSwipeStart:Me(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Me(e.onSwipeMove,p=>{const{x:w,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${w}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:Me(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Me(e.onSwipeEnd,p=>{const{x:w,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${w}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),g(!1)})})})});vb.displayName=If;var[s8,i8]=pb(If,{onClose(){}}),o8=C.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:u,onEscapeKeyDown:m,onPause:g,onResume:p,onSwipeStart:w,onSwipeMove:v,onSwipeCancel:E,onSwipeEnd:N,...P}=e,T=Tf(If,n),[k,I]=C.useState(null),A=at(t,re=>I(re)),S=C.useRef(null),D=C.useRef(null),W=i||T.duration,V=C.useRef(0),B=C.useRef(W),L=C.useRef(0),{onToastAdd:j,onToastRemove:z}=T,ee=en(()=>{var X;(k==null?void 0:k.contains(document.activeElement))&&((X=T.viewport)==null||X.focus()),u()}),q=C.useCallback(re=>{!re||re===1/0||(window.clearTimeout(L.current),V.current=new Date().getTime(),L.current=window.setTimeout(ee,re))},[ee]);C.useEffect(()=>{const re=T.viewport;if(re){const X=()=>{q(B.current),p==null||p()},fe=()=>{const ne=new Date().getTime()-V.current;B.current=B.current-ne,window.clearTimeout(L.current),g==null||g()};return re.addEventListener(T1,fe),re.addEventListener(I1,X),()=>{re.removeEventListener(T1,fe),re.removeEventListener(I1,X)}}},[T.viewport,W,g,p,q]),C.useEffect(()=>{a&&!T.isClosePausedRef.current&&q(W)},[a,W,T.isClosePausedRef,q]),C.useEffect(()=>(j(),()=>z()),[j,z]);const se=C.useMemo(()=>k?Nb(k):null,[k]);return T.viewport?h.jsxs(h.Fragment,{children:[se&&h.jsx(a8,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:se}),h.jsx(s8,{scope:n,onClose:ee,children:Wo.createPortal(h.jsx(lp.ItemSlot,{scope:n,children:h.jsx(WT,{asChild:!0,onEscapeKeyDown:Me(m,()=>{T.isFocusedToastEscapeKeyDownRef.current||ee(),T.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":T.swipeDirection,...P,ref:A,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Me(e.onKeyDown,re=>{re.key==="Escape"&&(m==null||m(re.nativeEvent),re.nativeEvent.defaultPrevented||(T.isFocusedToastEscapeKeyDownRef.current=!0,ee()))}),onPointerDown:Me(e.onPointerDown,re=>{re.button===0&&(S.current={x:re.clientX,y:re.clientY})}),onPointerMove:Me(e.onPointerMove,re=>{if(!S.current)return;const X=re.clientX-S.current.x,fe=re.clientY-S.current.y,ne=!!D.current,Q=["left","right"].includes(T.swipeDirection),te=["left","up"].includes(T.swipeDirection)?Math.min:Math.max,he=Q?te(0,X):0,ue=Q?0:te(0,fe),ge=re.pointerType==="touch"?10:2,we={x:he,y:ue},Re={originalEvent:re,delta:we};ne?(D.current=we,Mu(t8,v,Re,{discrete:!1})):rw(we,T.swipeDirection,ge)?(D.current=we,Mu(e8,w,Re,{discrete:!1}),re.target.setPointerCapture(re.pointerId)):(Math.abs(X)>ge||Math.abs(fe)>ge)&&(S.current=null)}),onPointerUp:Me(e.onPointerUp,re=>{const X=D.current,fe=re.target;if(fe.hasPointerCapture(re.pointerId)&&fe.releasePointerCapture(re.pointerId),D.current=null,S.current=null,X){const ne=re.currentTarget,Q={originalEvent:re,delta:X};rw(X,T.swipeDirection,T.swipeThreshold)?Mu(r8,N,Q,{discrete:!0}):Mu(n8,E,Q,{discrete:!0}),ne.addEventListener("click",te=>te.preventDefault(),{once:!0})}})})})}),T.viewport)})]}):null}),a8=e=>{const{__scopeToast:t,children:n,...r}=e,i=Tf(If,t),[a,u]=C.useState(!1),[m,g]=C.useState(!1);return u8(()=>u(!0)),C.useEffect(()=>{const p=window.setTimeout(()=>g(!0),1e3);return()=>window.clearTimeout(p)},[]),m?null:h.jsx(Nf,{asChild:!0,children:h.jsx(Gc,{...r,children:a&&h.jsxs(h.Fragment,{children:[i.label," ",n]})})})},l8="ToastTitle",bb=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return h.jsx(Ve.div,{...r,ref:t})});bb.displayName=l8;var c8="ToastDescription",Cb=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return h.jsx(Ve.div,{...r,ref:t})});Cb.displayName=c8;var Eb="ToastAction",Sb=C.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?h.jsx(_b,{altText:n,asChild:!0,children:h.jsx(cp,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Eb}\`. Expected non-empty \`string\`.`),null)});Sb.displayName=Eb;var Ab="ToastClose",cp=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=i8(Ab,n);return h.jsx(_b,{asChild:!0,children:h.jsx(Ve.button,{type:"button",...r,ref:t,onClick:Me(e.onClick,i.onClose)})})});cp.displayName=Ab;var _b=C.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return h.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function Nb(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),d8(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const u=r.dataset.radixToastAnnounceAlt;u&&t.push(u)}else t.push(...Nb(r))}}),t}function Mu(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?db(i,a):i.dispatchEvent(a)}var rw=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function u8(e=()=>{}){const t=en(e);Sn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function d8(e){return e.nodeType===e.ELEMENT_NODE}function f8(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Jh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var h8=gb,Tb=wb,Ib=vb,Rb=bb,Ob=Cb,kb=Sb,Pb=cp;function Db(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Db(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function jb(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Db(e))&&(r&&(r+=" "),r+=t);return r}const sw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,iw=jb,hl=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return iw(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,u=Object.keys(i).map(p=>{const w=n==null?void 0:n[p],v=a==null?void 0:a[p];if(w===null)return null;const E=sw(w)||sw(v);return i[p][E]}),m=n&&Object.entries(n).reduce((p,w)=>{let[v,E]=w;return E===void 0||(p[v]=E),p},{}),g=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((p,w)=>{let{class:v,className:E,...N}=w;return Object.entries(N).every(P=>{let[T,k]=P;return Array.isArray(k)?k.includes({...a,...m}[T]):{...a,...m}[T]===k})?[...p,v,E]:p},[]);return iw(e,u,g,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mb=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:u,...m},g)=>C.createElement("svg",{ref:g,...p8,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Mb("lucide",i),...m},[...u.map(([p,w])=>C.createElement(p,w)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(e,t)=>{const n=C.forwardRef(({className:r,...i},a)=>C.createElement(g8,{ref:a,iconNode:t,className:Mb(`lucide-${m8(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=We("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=We("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=We("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=We("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=We("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=We("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=We("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=We("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=We("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=We("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=We("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=We("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=We("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=We("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=We("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=We("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=We("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=We("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=We("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=We("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=We("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=We("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=We("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=We("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=We("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=We("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=We("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=We("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=We("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=We("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=We("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=We("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=We("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=We("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=We("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=We("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=We("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=We("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=We("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=We("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=We("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=We("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=We("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),wp="-",P8=e=>{const t=j8(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:u=>{const m=u.split(wp);return m[0]===""&&m.length!==1&&m.shift(),$b(m,t)||D8(u)},getConflictingClassGroupIds:(u,m)=>{const g=n[u]||[];return m&&r[u]?[...g,...r[u]]:g}}},$b=(e,t)=>{var u;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?$b(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(wp);return(u=t.validators.find(({validator:m})=>m(a)))==null?void 0:u.classGroupId},fw=/^\[(.+)\]$/,D8=e=>{if(fw.test(e)){const t=fw.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},j8=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return L8(Object.entries(e.classGroups),n).forEach(([a,u])=>{k1(u,r,a,t)}),r},k1=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:hw(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(M8(i)){k1(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,u])=>{k1(u,hw(t,a),n,r)})})},hw=(e,t)=>{let n=e;return t.split(wp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},M8=e=>e.isThemeGetter,L8=(e,t)=>t?e.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,m])=>[t+u,m])):a);return[n,i]}):e,B8=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(a,u)=>{n.set(a,u),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let u=n.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return i(a,u),u},set(a,u){n.has(a)?n.set(a,u):i(a,u)}}},Gb="!",F8=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],a=t.length,u=m=>{const g=[];let p=0,w=0,v;for(let k=0;k<m.length;k++){let I=m[k];if(p===0){if(I===i&&(r||m.slice(k,k+a)===t)){g.push(m.slice(w,k)),w=k+a;continue}if(I==="/"){v=k;continue}}I==="["?p++:I==="]"&&p--}const E=g.length===0?m:m.substring(w),N=E.startsWith(Gb),P=N?E.substring(1):E,T=v&&v>w?v-w:void 0;return{modifiers:g,hasImportantModifier:N,baseClassName:P,maybePostfixModifierPosition:T}};return n?m=>n({className:m,parseClassName:u}):u},U8=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},W8=e=>({cache:B8(e.cacheSize),parseClassName:F8(e),...P8(e)}),z8=/\s+/,V8=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],u=e.trim().split(z8);let m="";for(let g=u.length-1;g>=0;g-=1){const p=u[g],{modifiers:w,hasImportantModifier:v,baseClassName:E,maybePostfixModifierPosition:N}=n(p);let P=!!N,T=r(P?E.substring(0,N):E);if(!T){if(!P){m=p+(m.length>0?" "+m:m);continue}if(T=r(E),!T){m=p+(m.length>0?" "+m:m);continue}P=!1}const k=U8(w).join(":"),I=v?k+Gb:k,A=I+T;if(a.includes(A))continue;a.push(A);const S=i(T,P);for(let D=0;D<S.length;++D){const W=S[D];a.push(I+W)}m=p+(m.length>0?" "+m:m)}return m};function H8(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=qb(t))&&(r&&(r+=" "),r+=n);return r}const qb=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=qb(e[r]))&&(n&&(n+=" "),n+=t);return n};function $8(e,...t){let n,r,i,a=u;function u(g){const p=t.reduce((w,v)=>v(w),e());return n=W8(p),r=n.cache.get,i=n.cache.set,a=m,m(g)}function m(g){const p=r(g);if(p)return p;const w=V8(g,n);return i(g,w),w}return function(){return a(H8.apply(null,arguments))}}const kt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Xb=/^\[(?:([a-z-]+):)?(.+)\]$/i,G8=/^\d+\/\d+$/,q8=new Set(["px","full","screen"]),X8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Y8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,K8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Q8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Z8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Es=e=>Ia(e)||q8.has(e)||G8.test(e),ni=e=>ml(e,"length",oI),Ia=e=>!!e&&!Number.isNaN(Number(e)),e0=e=>ml(e,"number",Ia),Fl=e=>!!e&&Number.isInteger(Number(e)),J8=e=>e.endsWith("%")&&Ia(e.slice(0,-1)),Xe=e=>Xb.test(e),ri=e=>X8.test(e),eI=new Set(["length","size","percentage"]),tI=e=>ml(e,eI,Yb),nI=e=>ml(e,"position",Yb),rI=new Set(["image","url"]),sI=e=>ml(e,rI,lI),iI=e=>ml(e,"",aI),Ul=()=>!0,ml=(e,t,n)=>{const r=Xb.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},oI=e=>Y8.test(e)&&!K8.test(e),Yb=()=>!1,aI=e=>Q8.test(e),lI=e=>Z8.test(e),cI=()=>{const e=kt("colors"),t=kt("spacing"),n=kt("blur"),r=kt("brightness"),i=kt("borderColor"),a=kt("borderRadius"),u=kt("borderSpacing"),m=kt("borderWidth"),g=kt("contrast"),p=kt("grayscale"),w=kt("hueRotate"),v=kt("invert"),E=kt("gap"),N=kt("gradientColorStops"),P=kt("gradientColorStopPositions"),T=kt("inset"),k=kt("margin"),I=kt("opacity"),A=kt("padding"),S=kt("saturate"),D=kt("scale"),W=kt("sepia"),V=kt("skew"),B=kt("space"),L=kt("translate"),j=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto",Xe,t],q=()=>[Xe,t],se=()=>["",Es,ni],re=()=>["auto",Ia,Xe],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],fe=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",Xe],he=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>[Ia,Xe];return{cacheSize:500,separator:":",theme:{colors:[Ul],spacing:[Es,ni],blur:["none","",ri,Xe],brightness:ue(),borderColor:[e],borderRadius:["none","","full",ri,Xe],borderSpacing:q(),borderWidth:se(),contrast:ue(),grayscale:te(),hueRotate:ue(),invert:te(),gap:q(),gradientColorStops:[e],gradientColorStopPositions:[J8,ni],inset:ee(),margin:ee(),opacity:ue(),padding:q(),saturate:ue(),scale:ue(),sepia:te(),skew:ue(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",Xe]}],container:["container"],columns:[{columns:[ri]}],"break-after":[{"break-after":he()}],"break-before":[{"break-before":he()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Xe]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[T]}],"inset-x":[{"inset-x":[T]}],"inset-y":[{"inset-y":[T]}],start:[{start:[T]}],end:[{end:[T]}],top:[{top:[T]}],right:[{right:[T]}],bottom:[{bottom:[T]}],left:[{left:[T]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fl,Xe]}],basis:[{basis:ee()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Xe]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",Fl,Xe]}],"grid-cols":[{"grid-cols":[Ul]}],"col-start-end":[{col:["auto",{span:["full",Fl,Xe]},Xe]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[Ul]}],"row-start-end":[{row:["auto",{span:[Fl,Xe]},Xe]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Xe]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Xe,t]}],"min-w":[{"min-w":[Xe,t,"min","max","fit"]}],"max-w":[{"max-w":[Xe,t,"none","full","min","max","fit","prose",{screen:[ri]},ri]}],h:[{h:[Xe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Xe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Xe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Xe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ri,ni]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",e0]}],"font-family":[{font:[Ul]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Xe]}],"line-clamp":[{"line-clamp":["none",Ia,e0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Es,Xe]}],"list-image":[{"list-image":["none",Xe]}],"list-style-type":[{list:["none","disc","decimal",Xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[I]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[I]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Es,ni]}],"underline-offset":[{"underline-offset":["auto",Es,Xe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[I]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),nI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[N]}],"gradient-via":[{via:[N]}],"gradient-to":[{to:[N]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[m]}],"border-w-x":[{"border-x":[m]}],"border-w-y":[{"border-y":[m]}],"border-w-s":[{"border-s":[m]}],"border-w-e":[{"border-e":[m]}],"border-w-t":[{"border-t":[m]}],"border-w-r":[{"border-r":[m]}],"border-w-b":[{"border-b":[m]}],"border-w-l":[{"border-l":[m]}],"border-opacity":[{"border-opacity":[I]}],"border-style":[{border:[...fe(),"hidden"]}],"divide-x":[{"divide-x":[m]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[m]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[I]}],"divide-style":[{divide:fe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...fe()]}],"outline-offset":[{"outline-offset":[Es,Xe]}],"outline-w":[{outline:[Es,ni]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[I]}],"ring-offset-w":[{"ring-offset":[Es,ni]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ri,iI]}],"shadow-color":[{shadow:[Ul]}],opacity:[{opacity:[I]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",ri,Xe]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[w]}],invert:[{invert:[v]}],saturate:[{saturate:[S]}],sepia:[{sepia:[W]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[w]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[I]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[W]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Xe]}],duration:[{duration:ue()}],ease:[{ease:["linear","in","out","in-out",Xe]}],delay:[{delay:ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",Xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Fl,Xe]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Xe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Es,ni,e0]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},uI=$8(cI);function Pe(...e){return uI(jb(e))}function zd(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function P1(e){return new Intl.DateTimeFormat("pt-BR").format(new Date(e))}const dI=h8,Kb=C.forwardRef(({className:e,...t},n)=>h.jsx(Tb,{ref:n,className:Pe("fixed bottom-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Kb.displayName=Tb.displayName;const fI=hl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Qb=C.forwardRef(({className:e,variant:t,...n},r)=>h.jsx(Ib,{ref:r,className:Pe(fI({variant:t}),e),...n}));Qb.displayName=Ib.displayName;const hI=C.forwardRef(({className:e,...t},n)=>h.jsx(kb,{ref:n,className:Pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));hI.displayName=kb.displayName;const Zb=C.forwardRef(({className:e,...t},n)=>h.jsx(Pb,{ref:n,className:Pe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:h.jsx(zo,{className:"h-4 w-4"})}));Zb.displayName=Pb.displayName;const Jb=C.forwardRef(({className:e,...t},n)=>h.jsx(Rb,{ref:n,className:Pe("text-sm font-semibold",e),...t}));Jb.displayName=Rb.displayName;const eC=C.forwardRef(({className:e,...t},n)=>h.jsx(Ob,{ref:n,className:Pe("text-sm opacity-90",e),...t}));eC.displayName=Ob.displayName;function mI(){const{toasts:e}=Hn();return h.jsxs(dI,{children:[e.map(function({id:t,title:n,description:r,action:i,...a}){return h.jsxs(Qb,{...a,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(Jb,{children:n}),r&&h.jsx(eC,{children:r})]}),i,h.jsx(Zb,{})]},t)}),h.jsx(Kb,{})]})}const pI="modulepreload",gI=function(e){return"/"+e},mw={},qc=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),m=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=Promise.allSettled(n.map(g=>{if(g=gI(g),g in mw)return;mw[g]=!0;const p=g.endsWith(".css"),w=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${w}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":pI,p||(v.as="script"),v.crossOrigin="",v.href=g,m&&v.setAttribute("nonce",m),document.head.appendChild(v),p)return new Promise((E,N)=>{v.addEventListener("load",E),v.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${g}`)))})}))}function a(u){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=u,window.dispatchEvent(m),!m.defaultPrevented)throw u}return i.then(u=>{for(const m of u||[])m.status==="rejected"&&a(m.reason);return t().catch(a)})},xI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>qc(async()=>{const{default:r}=await Promise.resolve().then(()=>pl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class yp extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class wI extends yp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class yI extends yp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class vI extends yp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var D1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(D1||(D1={}));var bI=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function m(w){try{p(r.next(w))}catch(v){u(v)}}function g(w){try{p(r.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((r=r.apply(e,t||[])).next())})};class CI{constructor(t,{headers:n={},customFetch:r,region:i=D1.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=xI(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return bI(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:u}=n;let m={},{region:g}=n;g||(g=this.region),g&&g!=="any"&&(m["x-region"]=g);let p;u&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(m["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(m["Content-Type"]="application/json",p=JSON.stringify(u)));const w=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),i),body:p}).catch(P=>{throw new wI(P)}),v=w.headers.get("x-relay-error");if(v&&v==="true")throw new yI(w);if(!w.ok)throw new vI(w);let E=((r=w.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),N;return E==="application/json"?N=yield w.json():E==="application/octet-stream"?N=yield w.blob():E==="text/event-stream"?N=w:E==="multipart/form-data"?N=yield w.formData():N=yield w.text(),{data:N,error:null}}catch(i){return{data:null,error:i}}})}}var nr={},vp={},kf={},Xc={},Pf={},Df={},EI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rl=EI();const SI=rl.fetch,tC=rl.fetch.bind(rl),nC=rl.Headers,AI=rl.Request,_I=rl.Response,pl=Object.freeze(Object.defineProperty({__proto__:null,Headers:nC,Request:AI,Response:_I,default:tC,fetch:SI},Symbol.toStringTag,{value:"Module"})),NI=w3(pl);var jf={};Object.defineProperty(jf,"__esModule",{value:!0});let TI=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};jf.default=TI;var rC=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Df,"__esModule",{value:!0});const II=rC(NI),RI=rC(jf);let OI=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=II.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var u,m,g;let p=null,w=null,v=null,E=a.status,N=a.statusText;if(a.ok){if(this.method!=="HEAD"){const I=await a.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=I:w=JSON.parse(I))}const T=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),k=(m=a.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");T&&k&&k.length>1&&(v=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(p={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,v=null,E=406,N="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const T=await a.text();try{p=JSON.parse(T),Array.isArray(p)&&a.status===404&&(w=[],p=null,E=200,N="OK")}catch{a.status===404&&T===""?(E=204,N="No Content"):p={message:T}}if(p&&this.isMaybeSingle&&(!((g=p==null?void 0:p.details)===null||g===void 0)&&g.includes("0 rows"))&&(p=null,E=200,N="OK"),p&&this.shouldThrowOnError)throw new RI.default(p)}return{error:p,data:w,count:v,status:E,statusText:N}});return this.shouldThrowOnError||(i=i.catch(a=>{var u,m,g;return{error:{message:`${(u=a==null?void 0:a.name)!==null&&u!==void 0?u:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(m=a==null?void 0:a.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(g=a==null?void 0:a.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Df.default=OI;var kI=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pf,"__esModule",{value:!0});const PI=kI(Df);let DI=class extends PI.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const u=a?`${a}.order`:"order",m=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${m?`${m},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,u=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(u,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:u="text"}={}){var m;const g=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${p}"; options=${g};`,u==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Pf.default=DI;var jI=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xc,"__esModule",{value:!0});const MI=jI(Pf);let LI=class extends MI.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${u}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Xc.default=LI;var BI=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kf,"__esModule",{value:!0});const Wl=BI(Xc);let FI=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const u=(t??"*").split("").map(m=>/\s/.test(m)&&!a?"":(m==='"'&&(a=!a),m)).join("");return this.url.searchParams.set("select",u),r&&(this.headers.Prefer=`count=${r}`),new Wl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const u=t.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(u.length>0){const m=[...new Set(u)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new Wl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){const u="POST",m=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&m.push(this.headers.Prefer),i&&m.push(`count=${i}`),a||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(t)){const g=t.reduce((p,w)=>p.concat(Object.keys(w)),[]);if(g.length>0){const p=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",p.join(","))}}return new Wl.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Wl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Wl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};kf.default=FI;var Mf={},Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});Lf.version=void 0;Lf.version="0.0.0-automated";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.DEFAULT_HEADERS=void 0;const UI=Lf;Mf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${UI.version}`};var sC=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vp,"__esModule",{value:!0});const WI=sC(kf),zI=sC(Xc),VI=Mf;let HI=class iC{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},VI.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new WI.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new iC(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:a}={}){let u;const m=new URL(`${this.url}/rpc/${t}`);let g;r||i?(u=r?"HEAD":"GET",Object.entries(n).filter(([w,v])=>v!==void 0).map(([w,v])=>[w,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([w,v])=>{m.searchParams.append(w,v)})):(u="POST",g=n);const p=Object.assign({},this.headers);return a&&(p.Prefer=`count=${a}`),new zI.default({method:u,url:m,headers:p,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}};vp.default=HI;var gl=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nr,"__esModule",{value:!0});nr.PostgrestError=nr.PostgrestBuilder=nr.PostgrestTransformBuilder=nr.PostgrestFilterBuilder=nr.PostgrestQueryBuilder=nr.PostgrestClient=void 0;const oC=gl(vp);nr.PostgrestClient=oC.default;const aC=gl(kf);nr.PostgrestQueryBuilder=aC.default;const lC=gl(Xc);nr.PostgrestFilterBuilder=lC.default;const cC=gl(Pf);nr.PostgrestTransformBuilder=cC.default;const uC=gl(Df);nr.PostgrestBuilder=uC.default;const dC=gl(jf);nr.PostgrestError=dC.default;var $I=nr.default={PostgrestClient:oC.default,PostgrestQueryBuilder:aC.default,PostgrestFilterBuilder:lC.default,PostgrestTransformBuilder:cC.default,PostgrestBuilder:uC.default,PostgrestError:dC.default};const{PostgrestClient:GI,PostgrestQueryBuilder:g7,PostgrestFilterBuilder:x7,PostgrestTransformBuilder:w7,PostgrestBuilder:y7,PostgrestError:v7}=$I;let j1;typeof window>"u"?j1=require("ws"):j1=window.WebSocket;const qI=j1,XI="2.11.10",YI={"X-Client-Info":`realtime-js/${XI}`},KI="1.0.0",fC=1e4,QI=1e3;var Ra;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ra||(Ra={}));var jn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(jn||(jn={}));var Vr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Vr||(Vr={}));var M1;(function(e){e.websocket="websocket"})(M1||(M1={}));var uo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(uo||(uo={}));class ZI{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2);let u=this.HEADER_LENGTH+2;const m=r.decode(t.slice(u,u+i));u=u+i;const g=r.decode(t.slice(u,u+a));u=u+a;const p=JSON.parse(r.decode(t.slice(u,t.byteLength)));return{ref:null,topic:m,event:g,payload:p}}}class hC{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var It;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(It||(It={}));const pw=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,u)=>(a[u]=JI(u,e,t,i),a),{})},JI=(e,t,n,r)=>{const i=t.find(m=>m.name===e),a=i==null?void 0:i.type,u=n[e];return a&&!r.includes(a)?mC(a,u):L1(u)},mC=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return r6(t,n)}switch(e){case It.bool:return e6(t);case It.float4:case It.float8:case It.int2:case It.int4:case It.int8:case It.numeric:case It.oid:return t6(t);case It.json:case It.jsonb:return n6(t);case It.timestamp:return s6(t);case It.abstime:case It.date:case It.daterange:case It.int4range:case It.int8range:case It.money:case It.reltime:case It.text:case It.time:case It.timestamptz:case It.timetz:case It.tsrange:case It.tstzrange:return L1(t);default:return L1(t)}},L1=e=>e,e6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},t6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},n6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},r6=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const u=e.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(m=>mC(t,m))}return e},s6=e=>typeof e=="string"?e.replace(" ","T"):e,pC=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class t0{constructor(t,n,r={},i=fC){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(gw||(gw={}));class oc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:u,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oc.syncState(this.state,i,a,u),this.pendingDiffs.forEach(g=>{this.state=oc.syncDiff(this.state,g,a,u)}),this.pendingDiffs=[],m()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:u,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=oc.syncDiff(this.state,i,a,u),m())}),this.onJoin((i,a,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:u})}),this.onLeave((i,a,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),u=this.transformState(n),m={},g={};return this.map(a,(p,w)=>{u[p]||(g[p]=w)}),this.map(u,(p,w)=>{const v=a[p];if(v){const E=w.map(k=>k.presence_ref),N=v.map(k=>k.presence_ref),P=w.filter(k=>N.indexOf(k.presence_ref)<0),T=v.filter(k=>E.indexOf(k.presence_ref)<0);P.length>0&&(m[p]=P),T.length>0&&(g[p]=T)}else m[p]=w}),this.syncDiff(a,{joins:m,leaves:g},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(m,g)=>{var p;const w=(p=t[m])!==null&&p!==void 0?p:[];if(t[m]=this.cloneDeep(g),w.length>0){const v=t[m].map(N=>N.presence_ref),E=w.filter(N=>v.indexOf(N.presence_ref)<0);t[m].unshift(...E)}r(m,w,g)}),this.map(u,(m,g)=>{let p=t[m];if(!p)return;const w=g.map(v=>v.presence_ref);p=p.filter(v=>w.indexOf(v.presence_ref)<0),t[m]=p,i(m,p,g),p.length===0&&delete t[m]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xw||(xw={}));var ww;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ww||(ww={}));var Rs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Rs||(Rs={}));class bp{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=jn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new t0(this,Vr.join,this.params,this.timeout),this.rejoinTimer=new hC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=jn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new oc(this),this.broadcastEndpointURL=pC(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:u,private:m}}=this.params;this._onError(w=>t==null?void 0:t(Rs.CHANNEL_ERROR,w)),this._onClose(()=>t==null?void 0:t(Rs.CLOSED));const g={},p={broadcast:a,presence:u,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(w=>w.filter))!==null&&i!==void 0?i:[],private:m};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var v;if(this.socket.setAuth(),w===void 0){t==null||t(Rs.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,N=(v=E==null?void 0:E.length)!==null&&v!==void 0?v:0,P=[];for(let T=0;T<N;T++){const k=E[T],{filter:{event:I,schema:A,table:S,filter:D}}=k,W=w&&w[T];if(W&&W.event===I&&W.schema===A&&W.table===S&&W.filter===D)P.push(Object.assign(Object.assign({},k),{id:W.id}));else{this.unsubscribe(),this.state=jn.errored,t==null||t(Rs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,t&&t(Rs.SUBSCRIBED);return}}).receive("error",w=>{this.state=jn.errored,t==null||t(Rs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Rs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:u}=t,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=p.body)===null||i===void 0?void 0:i.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,m,g;const p=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(m=(u=this.params)===null||u===void 0?void 0:u.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=jn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const i=new t0(this,Vr.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),u}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new t0(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const u=t.toLocaleLowerCase(),{close:m,error:g,leave:p,join:w}=Vr;if(r&&[m,g,p,w].indexOf(u)>=0&&r!==this._joinRef())return;let E=this._onMessage(u,n,r);if(n&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(N=>{var P,T,k;return((P=N.filter)===null||P===void 0?void 0:P.event)==="*"||((k=(T=N.filter)===null||T===void 0?void 0:T.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===u}).map(N=>N.callback(E,r)):(a=this.bindings[u])===null||a===void 0||a.filter(N=>{var P,T,k,I,A,S;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in N){const D=N.id,W=(P=N.filter)===null||P===void 0?void 0:P.event;return D&&((T=n.ids)===null||T===void 0?void 0:T.includes(D))&&(W==="*"||(W==null?void 0:W.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const D=(A=(I=N==null?void 0:N.filter)===null||I===void 0?void 0:I.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return D==="*"||D===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===u}).map(N=>{if(typeof E=="object"&&"ids"in E){const P=E.data,{schema:T,table:k,commit_timestamp:I,type:A,errors:S}=P;E=Object.assign(Object.assign({},{schema:T,table:k,commit_timestamp:I,eventType:A,new:{},old:{},errors:S}),this._getPayloadRecords(P))}N.callback(E,r)})}_isClosed(){return this.state===jn.closed}_isJoined(){return this.state===jn.joined}_isJoining(){return this.state===jn.joining}_isLeaving(){return this.state===jn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&bp.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Vr.close,{},t)}_onError(t){this._on(Vr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=pw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=pw(t.columns,t.old_record)),n}}const yw=()=>{},i6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class o6{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=YI,this.params={},this.timeout=fC,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yw,this.ref=0,this.logger=yw,this.conn=null,this.sendBuffer=[],this.serializer=new ZI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let u;return a?u=a:typeof fetch>"u"?u=(...m)=>qc(async()=>{const{default:g}=await Promise.resolve().then(()=>pl);return{default:g}},void 0).then(({default:g})=>g(...m)):u=fetch,(...m)=>u(...m)},this.endPoint=`${t}/${M1.websocket}`,this.httpEndpoint=pC(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,u)=>u(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new hC(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=qI),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new a6(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:KI}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ra.connecting:return uo.Connecting;case Ra.open:return uo.Open;case Ra.closing:return uo.Closing;default:return uo.Closed}}isConnected(){return this.connectionState()===uo.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new bp(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,u=()=>{this.encode(t,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Vr.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(QI,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:a,ref:u}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${i} ${u&&"("+u+")"||""}`,a),Array.from(this.channels).filter(m=>m._isMember(r)).forEach(m=>m._trigger(i,a,u)),this.stateChangeCallbacks.message.forEach(m=>m(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Vr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([i6],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class a6{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ra.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Cp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function hn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class l6 extends Cp{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class B1 extends Cp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var c6=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function m(w){try{p(r.next(w))}catch(v){u(v)}}function g(w){try{p(r.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((r=r.apply(e,t||[])).next())})};const gC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>qc(async()=>{const{default:r}=await Promise.resolve().then(()=>pl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},u6=()=>c6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qc(()=>Promise.resolve().then(()=>pl),void 0)).Response:Response}),F1=e=>{if(Array.isArray(e))return e.map(n=>F1(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=F1(r)}),t};var Vo=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function m(w){try{p(r.next(w))}catch(v){u(v)}}function g(w){try{p(r.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((r=r.apply(e,t||[])).next())})};const n0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),d6=(e,t,n)=>Vo(void 0,void 0,void 0,function*(){const r=yield u6();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new l6(n0(i),e.status||500))}).catch(i=>{t(new B1(n0(i),i))}):t(new B1(n0(e),e))}),f6=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Yc(e,t,n,r,i,a){return Vo(this,void 0,void 0,function*(){return new Promise((u,m)=>{e(n,f6(t,r,i,a)).then(g=>{if(!g.ok)throw g;return r!=null&&r.noResolveJson?g:g.json()}).then(g=>u(g)).catch(g=>d6(g,m,r))})})}function Vd(e,t,n,r){return Vo(this,void 0,void 0,function*(){return Yc(e,"GET",t,n,r)})}function di(e,t,n,r,i){return Vo(this,void 0,void 0,function*(){return Yc(e,"POST",t,r,i,n)})}function h6(e,t,n,r,i){return Vo(this,void 0,void 0,function*(){return Yc(e,"PUT",t,r,i,n)})}function m6(e,t,n,r){return Vo(this,void 0,void 0,function*(){return Yc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function xC(e,t,n,r,i){return Vo(this,void 0,void 0,function*(){return Yc(e,"DELETE",t,r,i,n)})}var Qn=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function m(w){try{p(r.next(w))}catch(v){u(v)}}function g(w){try{p(r.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((r=r.apply(e,t||[])).next())})};const p6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class g6{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=gC(i)}uploadOrUpdate(t,n,r,i){return Qn(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},vw),i);let m=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const g=u.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),g&&a.append("metadata",this.encodeMetadata(g)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl),g&&a.append("metadata",this.encodeMetadata(g))):(a=r,m["cache-control"]=`max-age=${u.cacheControl}`,m["content-type"]=u.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),i!=null&&i.headers&&(m=Object.assign(Object.assign({},m),i.headers));const p=this._removeEmptyFolders(n),w=this._getFinalPath(p),v=yield this.fetch(`${this.url}/object/${w}`,Object.assign({method:t,body:a,headers:m},u!=null&&u.duplex?{duplex:u.duplex}:{})),E=yield v.json();return v.ok?{data:{path:p,id:E.Id,fullPath:E.Key},error:null}:{data:null,error:E}}catch(a){if(hn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Qn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Qn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),u=this._getFinalPath(a),m=new URL(this.url+`/object/upload/sign/${u}`);m.searchParams.set("token",n);try{let g;const p=Object.assign({upsert:vw.upsert},i),w=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",p.cacheControl)):(g=r,w["cache-control"]=`max-age=${p.cacheControl}`,w["content-type"]=p.contentType);const v=yield this.fetch(m.toString(),{method:"PUT",body:g,headers:w}),E=yield v.json();return v.ok?{data:{path:a,fullPath:E.Key},error:null}:{data:null,error:E}}catch(g){if(hn(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(t,n){return Qn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield di(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),u=new URL(this.url+a.url),m=u.searchParams.get("token");if(!m)throw new Cp("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:m},error:null}}catch(r){if(hn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Qn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Qn(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(hn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Qn(this,void 0,void 0,function*(){try{return{data:{path:(yield di(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(hn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Qn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield di(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(i){if(hn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Qn(this,void 0,void 0,function*(){try{const i=yield di(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(i){if(hn(i))return{data:null,error:i};throw i}})}download(t,n){return Qn(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=a?`?${a}`:"";try{const m=this._getFinalPath(t);return{data:yield(yield Vd(this.fetch,`${this.url}/${i}/${m}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(hn(m))return{data:null,error:m};throw m}})}info(t){return Qn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Vd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:F1(r),error:null}}catch(r){if(hn(r))return{data:null,error:r};throw r}})}exists(t){return Qn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield m6(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(hn(r)&&r instanceof B1){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const m=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});g!==""&&i.push(g);let p=i.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${r}${p}`)}}}remove(t){return Qn(this,void 0,void 0,function*(){try{return{data:yield xC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(hn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Qn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},p6),n),{prefix:t||""});return{data:yield di(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(hn(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const x6="2.7.1",w6={"X-Client-Info":`storage-js/${x6}`};var ea=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function m(w){try{p(r.next(w))}catch(v){u(v)}}function g(w){try{p(r.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((r=r.apply(e,t||[])).next())})};class y6{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},w6),n),this.fetch=gC(r)}listBuckets(){return ea(this,void 0,void 0,function*(){try{return{data:yield Vd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(hn(t))return{data:null,error:t};throw t}})}getBucket(t){return ea(this,void 0,void 0,function*(){try{return{data:yield Vd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(hn(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ea(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(hn(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ea(this,void 0,void 0,function*(){try{return{data:yield h6(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(hn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ea(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(hn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ea(this,void 0,void 0,function*(){try{return{data:yield xC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(hn(n))return{data:null,error:n};throw n}})}}class v6 extends y6{constructor(t,n={},r){super(t,n,r)}from(t){return new g6(this.url,this.headers,t,this.fetch)}}const b6="2.50.0";let Xl="";typeof Deno<"u"?Xl="deno":typeof document<"u"?Xl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xl="react-native":Xl="node";const C6={"X-Client-Info":`supabase-js-${Xl}/${b6}`},E6={headers:C6},S6={schema:"public"},A6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_6={};var N6=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function m(w){try{p(r.next(w))}catch(v){u(v)}}function g(w){try{p(r.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((r=r.apply(e,t||[])).next())})};const T6=e=>{let t;return e?t=e:typeof fetch>"u"?t=tC:t=fetch,(...n)=>t(...n)},I6=()=>typeof Headers>"u"?nC:Headers,R6=(e,t,n)=>{const r=T6(n),i=I6();return(a,u)=>N6(void 0,void 0,void 0,function*(){var m;const g=(m=yield t())!==null&&m!==void 0?m:e;let p=new i(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),r(a,Object.assign(Object.assign({},u),{headers:p}))})};var O6=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function m(w){try{p(r.next(w))}catch(v){u(v)}}function g(w){try{p(r.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((r=r.apply(e,t||[])).next())})};function k6(e){return e.endsWith("/")?e:e+"/"}function P6(e,t){var n,r;const{db:i,auth:a,realtime:u,global:m}=e,{db:g,auth:p,realtime:w,global:v}=t,E={db:Object.assign(Object.assign({},g),i),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},w),u),global:Object.assign(Object.assign(Object.assign({},v),m),{headers:Object.assign(Object.assign({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>O6(this,void 0,void 0,function*(){return""})};return e.accessToken?E.accessToken=e.accessToken:delete E.accessToken,E}const wC="2.70.0",la=30*1e3,U1=3,r0=U1*la,D6="http://localhost:9999",j6="supabase.auth.token",M6={"X-Client-Info":`gotrue-js/${wC}`},W1="X-Supabase-Api-Version",yC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},L6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,B6=6e5;class Ep extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class F6 extends Ep{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function U6(e){return Ge(e)&&e.name==="AuthApiError"}class vC extends Ep{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ki extends Ep{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class ai extends Ki{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function W6(e){return Ge(e)&&e.name==="AuthSessionMissingError"}class Lu extends Ki{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bu extends Ki{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fu extends Ki{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function z6(e){return Ge(e)&&e.name==="AuthImplicitGrantRedirectError"}class bw extends Ki{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class z1 extends Ki{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function s0(e){return Ge(e)&&e.name==="AuthRetryableFetchError"}class Cw extends Ki{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ac extends Ki{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ew=` 	
\r=`.split(""),V6=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ew.length;t+=1)e[Ew[t].charCodeAt(0)]=-2;for(let t=0;t<Hd.length;t+=1)e[Hd[t].charCodeAt(0)]=t;return e})();function Sw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Hd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Hd[r]),t.queuedBits-=6}}function bC(e,t,n){const r=V6[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Aw(e){const t=[],n=u=>{t.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=u=>{G6(u,r,n)};for(let u=0;u<e.length;u+=1)bC(e.charCodeAt(u),i,a);return t.join("")}function H6(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $6(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}H6(r,t)}}function G6(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function q6(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)bC(e.charCodeAt(i),n,r);return new Uint8Array(t)}function X6(e){const t=[];return $6(e,n=>t.push(n)),new Uint8Array(t)}function Y6(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Sw(i,n,r)),Sw(null,n,r),t.join("")}function K6(e){return Math.round(Date.now()/1e3)+e}function Q6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Br=()=>typeof window<"u"&&typeof document<"u",io={tested:!1,writable:!1},lc=()=>{if(!Br())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(io.tested)return io.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),io.tested=!0,io.writable=!0}catch{io.tested=!0,io.writable=!1}return io.writable};function Z6(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const CC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>qc(async()=>{const{default:r}=await Promise.resolve().then(()=>pl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},J6=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",EC=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Uu=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Wu=async(e,t)=>{await e.removeItem(t)};class Bf{constructor(){this.promise=new Bf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Bf.promiseConstructor=Promise;function i0(e){const t=e.split(".");if(t.length!==3)throw new ac("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!L6.test(t[r]))throw new ac("JWT not in base64url format");return{header:JSON.parse(Aw(t[0])),payload:JSON.parse(Aw(t[1])),signature:q6(t[2]),raw:{header:t[0],payload:t[1]}}}async function eR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tR(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await e(a);if(!t(a,null,u)){r(u);return}}catch(u){if(!t(a,u)){i(u);return}}})()})}function nR(e){return("0"+e.toString(16)).substr(-2)}function rR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,nR).join("")}async function sR(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function iR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await sR(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ta(e,t,n=!1){const r=rR();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await EC(e,`${t}-code-verifier`,i);const a=await iR(r);return[a,r===a?"plain":"s256"]}const oR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aR(e){const t=e.headers.get(W1);if(!t||!t.match(oR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function lR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function cR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function na(e){if(!uR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var dR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const lo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fR=[502,503,504];async function _w(e){var t;if(!J6(e))throw new z1(lo(e),0);if(fR.includes(e.status))throw new z1(lo(e),e.status);let n;try{n=await e.json()}catch(a){throw new vC(lo(a),a)}let r;const i=aR(e);if(i&&i.getTime()>=yC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Cw(lo(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ai}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new Cw(lo(n),e.status,n.weak_password.reasons);throw new F6(lo(n),e.status||500,r)}const hR=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function et(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[W1]||(a[W1]=yC["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const u=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const m=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",g=await mR(e,t,n+m,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(g):{data:Object.assign({},g),error:null}}async function mR(e,t,n,r,i,a){const u=hR(t,r,i,a);let m;try{m=await e(n,Object.assign({},u))}catch(g){throw console.error(g),new z1(lo(g),0)}if(m.ok||await _w(m),r!=null&&r.noResolveJson)return m;try{return await m.json()}catch(g){await _w(g)}}function Ns(e){var t;let n=null;wR(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=K6(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Nw(e){const t=Ns(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function mi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pR(e){return{data:e,error:null}}function gR(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,u=dR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},g=Object.assign({},u);return{data:{properties:m,user:g},error:null}}function xR(e){return e}function wR(e){return e.access_token&&e.refresh_token&&e.expires_in}const o0=["global","local","others"];var yR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class vR{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=CC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=o0[0]){if(o0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${o0.join(", ")}`);try{return await et(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await et(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:mi})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=yR(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:gR,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await et(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:mi})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,u,m,g;try{const p={nextPage:null,lastPage:0,total:0},w=await et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:xR});if(w.error)throw w.error;const v=await w.json(),E=(u=w.headers.get("x-total-count"))!==null&&u!==void 0?u:0,N=(g=(m=w.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return N.length>0&&(N.forEach(P=>{const T=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(P.split(";")[1].split("=")[1]);p[`${k}Page`]=T}),p.total=parseInt(E)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(Ge(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){na(t);try{return await et(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:mi})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){na(t);try{return await et(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:mi})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){na(t);try{return await et(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:mi})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){na(t.userId);try{const{data:n,error:r}=await et(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _deleteFactor(t){na(t.userId),na(t.id);try{return{data:await et(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}}const bR={getItem:e=>lc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{lc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{lc()&&globalThis.localStorage.removeItem(e)}};function Tw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function CR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ra={debug:!!(globalThis&&lc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class SC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ER extends SC{}async function SR(e,t,n){ra.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ra.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ra.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{ra.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ra.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ER(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ra.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}CR();const AR={url:D6,storageKey:j6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:M6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Iw(e,t,n){return await n()}class Rc{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Rc.nextInstanceID,Rc.nextInstanceID+=1,this.instanceID>0&&Br()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},AR),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new vR({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=CC(i.fetch),this.lock=i.lock||Iw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Br()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=SR:this.lock=Iw,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:lc()?this.storage=bR:(this.memoryStorage={},this.storage=Tw(this.memoryStorage)):(this.memoryStorage={},this.storage=Tw(this.memoryStorage)),Br()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${wC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Z6(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Br()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),z6(a)){const g=(t=a.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:m}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",m),await this._saveSession(u),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ge(n)?{error:n}:{error:new vC("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ns}),{data:u,error:m}=a;if(m||!u)return{data:{user:null,session:null},error:m};const g=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(a){if(Ge(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:w,password:v,options:E}=t;let N=null,P=null;this.flowType==="pkce"&&([N,P]=await ta(this.storage,this.storageKey)),a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:w,password:v,data:(n=E==null?void 0:E.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:N,code_challenge_method:P},xform:Ns})}else if("phone"in t){const{phone:w,password:v,options:E}=t;a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:v,data:(r=E==null?void 0:E.data)!==null&&r!==void 0?r:{},channel:(i=E==null?void 0:E.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:Ns})}else throw new Bu("You must provide either an email or phone number and a password");const{data:u,error:m}=a;if(m||!u)return{data:{user:null,session:null},error:m};const g=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(a){if(Ge(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:u,options:m}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Nw})}else if("phone"in t){const{phone:a,password:u,options:m}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Nw})}else throw new Bu("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Lu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,a,u,m,g,p,w,v,E,N;let P,T;if("message"in t)P=t.message,T=t.signature;else{const{chain:k,wallet:I,statement:A,options:S}=t;let D;if(Br())if(typeof I=="object")D=I;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))D=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=I}const W=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const V=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:W.host,uri:W.href}),A?{statement:A}:null));let B;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")B=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)B=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)P=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),T=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${W.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${W.href}`,`Issued At: ${(i=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((m=S==null?void 0:S.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((g=S==null?void 0:S.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((p=S==null?void 0:S.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((v=(w=S==null?void 0:S.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||v===void 0)&&v.length?["Resources",...S.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const V=await D.signMessage(new TextEncoder().encode(P),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=V}}try{const{data:k,error:I}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:Y6(T)},!((E=t.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(N=t.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:Ns});if(I)throw I;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Lu}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:I})}catch(k){if(Ge(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const n=await Uu(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:u}=await et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ns});if(await Wu(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Lu}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:u})}catch(a){if(Ge(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:u}=t,m=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ns}),{data:g,error:p}=m;return p?{data:{user:null,session:null},error:p}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Lu}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:p})}catch(n){if(Ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,a,u;try{if("email"in t){const{email:m,options:g}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await ta(this.storage,this.storageKey));const{error:v}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},create_user:(r=g==null?void 0:g.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:w},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:m,options:g}=t,{data:p,error:w}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(i=g==null?void 0:g.data)!==null&&i!==void 0?i:{},create_user:(a=g==null?void 0:g.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(u=g==null?void 0:g.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:w}}throw new Bu("You must provide either an email or phone number.")}catch(m){if(Ge(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:m}=await et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ns});if(m)throw m;if(!u)throw new Error("An error occurred on token verification.");const g=u.session,p=u.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(i){if(Ge(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let a=null,u=null;return this.flowType==="pkce"&&([a,u]=await ta(this.storage,this.storageKey)),await et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:pR})}catch(a){if(Ge(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ai;const{error:i}=await et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ge(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:u}=await et(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:u,error:m}=await et(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:m}}throw new Bu("You must provide either an email or phone number and a type")}catch(n){if(Ge(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Uu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<r0:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(g,p,w)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,p,w))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:mi}):await this._useSession(async n=>{var r,i,a;const{data:u,error:m}=n;if(m)throw m;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ai}:await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:mi})})}catch(n){if(Ge(n))return W6(n)&&(await this._removeSession(),await Wu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ai;const u=i.session;let m=null,g=null;this.flowType==="pkce"&&t.email!=null&&([m,g]=await ta(this.storage,this.storageKey));const{data:p,error:w}=await et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:m,code_challenge_method:g}),jwt:u.access_token,xform:mi});if(w)throw w;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ai;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:u}=i0(t.access_token);if(u.exp&&(r=u.exp,i=r<=n),i){const{session:m,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!m)return{data:{user:null,session:null},error:null};a=m}else{const{data:m,error:g}=await this._getUser(t.access_token);if(g)throw g;a={access_token:t.access_token,refresh_token:t.refresh_token,user:m.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Ge(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:u,error:m}=n;if(m)throw m;t=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ai;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ge(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Br())throw new Fu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new bw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bw("No code detected.");const{data:A,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:u,expires_in:m,expires_at:g,token_type:p}=t;if(!a||!m||!u||!p)throw new Fu("No session defined in URL");const w=Math.round(Date.now()/1e3),v=parseInt(m);let E=w+v;g&&(E=parseInt(g));const N=E-w;N*1e3<=la&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${v}s`);const P=E-v;w-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,E,w):w-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,E,w);const{data:T,error:k}=await this._getUser(a);if(k)throw k;const I={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:v,expires_at:E,refresh_token:u,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:t.type},error:null}}catch(r){if(Ge(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Uu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const u=(r=i.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:m}=await this.admin.signOut(u,t);if(m&&!(U6(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return t!=="others"&&(await this._removeSession(),await Wu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Q6(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ta(this.storage,this.storageKey,!0));try{return await et(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Ge(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var u,m,g,p,w;const{data:v,error:E}=a;if(E)throw E;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(m=t.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await et(this.fetch,"GET",N,{headers:this.headers,jwt:(w=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&w!==void 0?w:void 0})});if(i)throw i;return Br()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ge(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:u}=n;if(u)throw u;return await et(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await tR(async i=>(i>0&&await eR(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ns})),(i,a)=>{const u=200*Math.pow(2,i);return a&&s0(a)&&Date.now()+u-r<la})}catch(r){if(this._debug(n,"error",r),Ge(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Br()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Uu(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<r0;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${r0}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),s0(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ai;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Bf;const{data:a,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!a.session)throw new ai;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const m={session:a.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(a){if(this._debug(i,"error",a),Ge(a)){const u={session:null,error:a};return s0(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(t,n)}catch(g){a.push(g)}});if(await Promise.all(u),a.length>0){for(let m=0;m<a.length;m+=1)console.error(a[m]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await EC(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Wu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Br()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),la);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/la);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${la}ms, refresh threshold is ${U1} ticks`),i<=U1&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof SC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Br()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,u]=await ta(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(m.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await et(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:u}=n;if(u)return{data:null,error:u};const m=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:g,error:p}=await et(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&(!((i=g==null?void 0:g.totp)===null||i===void 0)&&i.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:u,error:m}=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:m})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(u=>u.factor_type==="totp"&&u.status==="verified"),a=r.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=i0(i.access_token);let m=null;u.aal&&(m=u.aal);let g=m;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(g="aal2");const w=u.amr||[];return{data:{currentLevel:m,nextLevel:g,currentAuthenticationMethods:w},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r||(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+B6>Date.now()))return r;const{data:i,error:a}=await et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new ac("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(u=>u.kid===t),!r)throw new ac("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:N,error:P}=await this.getSession();if(P||!N.session)return{data:null,error:P};r=N.session.access_token}const{header:i,payload:a,signature:u,raw:{header:m,payload:g}}=i0(r);if(lR(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:N}=await this.getUser(r);if(N)throw N;return{data:{claims:a,header:i,signature:u},error:null}}const p=cR(i.alg),w=await this.fetchJwk(i.kid,n),v=await crypto.subtle.importKey("jwk",w,p,!0,["verify"]);if(!await crypto.subtle.verify(p,v,u,X6(`${m}.${g}`)))throw new ac("Invalid JWT signature");return{data:{claims:a,header:i,signature:u},error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}}Rc.nextInstanceID=0;const _R=Rc;class NR extends _R{constructor(t){super(t)}}var TR=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function m(w){try{p(r.next(w))}catch(v){u(v)}}function g(w){try{p(r.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((r=r.apply(e,t||[])).next())})};class IR{constructor(t,n,r){var i,a,u;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const m=k6(t),g=new URL(m);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const p=`sb-${g.hostname.split(".")[0]}-auth-token`,w={db:S6,realtime:_6,auth:Object.assign(Object.assign({},A6),{storageKey:p}),global:E6},v=P6(r??{},w);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=v.global.headers)!==null&&a!==void 0?a:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(E,N)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(N)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=R6(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new GI(new URL("rest/v1",g).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new CI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new v6(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return TR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:a,flowType:u,lock:m,debug:g},p,w){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new NR({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:u,lock:m,debug:g,fetch:w,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new o6(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const RR=(e,t,n)=>new IR(e,t,n),OR="https://nvwscxburlixyqkbhfux.supabase.co",kR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im52d3NjeGJ1cmxpeHlxa2JoZnV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA1Mjk1MTEsImV4cCI6MjA2NjEwNTUxMX0.ppBJapu82yVC7wBeXqZlkgceMGLpPt9VA58AOSmUlhI",qe=RR(OR,kR),AC=C.createContext(void 0);function PR({children:e}){const[t,n]=C.useState(null),[r,i]=C.useState(null),[a,u]=C.useState(null),[m,g]=C.useState(!0),p=kr(),w=()=>{n(null),i(null),u(null),localStorage.removeItem("supabase.auth.token")},v=async A=>{try{const{data:S,error:D}=await qe.from("profiles").select("*").eq("id",A.id).single();if(D){if(console.error("Erro ao carregar perfil:",D),D.code==="PGRST116"){await T();return}throw D}if((S==null?void 0:S.is_active)===!1){p("/acesso-negado",{replace:!0});return}if(i(S),S!=null&&S.company_id){const{data:W,error:V}=await qe.from("companies").select("*").eq("id",S.company_id).single();V?console.error("Erro ao carregar empresa:",V):u(W)}}catch(S){console.error("Erro ao carregar dados do usurio:",S),await T()}},E=async()=>{var A;try{const{data:{session:S},error:D}=await qe.auth.getSession();if(D){console.error("Erro ao verificar sesso:",D),w(),g(!1);return}if(S!=null&&S.user){const{error:W}=await qe.from("profiles").select("id").limit(1);if(W&&(W.code==="invalid_token"||(A=W.message)!=null&&A.includes("JWT"))){await T();return}n(S.user),await v(S.user)}else w()}catch(S){console.error("Erro ao verificar sesso:",S),w()}finally{g(!1)}},N=async(A,S)=>{const{data:D,error:W}=await qe.auth.signInWithPassword({email:A,password:S});if(W)throw new Error("Email ou senha invlidos.");if(D.user){const{data:V,error:B}=await qe.from("profiles").select("is_active").eq("id",D.user.id).single();return B||!(V!=null&&V.is_active)?(await qe.auth.signOut(),"inactive"):(n(D.user),await v(D.user),"success")}throw new Error("Erro inesperado.")},P=async(A,S,D)=>{const W=`${window.location.origin}/`,{data:V,error:B}=await qe.auth.signUp({email:A,password:S,options:{emailRedirectTo:W,data:{name:D}}});if(B)throw B;if(V.user){const{error:L}=await qe.from("profiles").insert({id:V.user.id,name:D,email:A,role:"viewer",company_id:""});if(L)throw console.error("Erro ao criar perfil:",L),L}},T=async()=>{try{g(!0),await qe.auth.signOut(),w(),p("/login",{replace:!0})}catch(A){console.error("Erro ao fazer logout:",A),w(),p("/login",{replace:!0})}finally{g(!1)}},k=async A=>{try{const{error:S}=await qe.auth.updateUser({password:A});return S?{success:!1,error:S.message}:{success:!0}}catch(S){return{success:!1,error:S instanceof Error?S.message:"Erro desconhecido"}}};C.useEffect(()=>{E();const{data:{subscription:A}}=qe.auth.onAuthStateChange(async(S,D)=>{S==="SIGNED_IN"&&(D!=null&&D.user)?(n(D.user),setTimeout(()=>{v(D.user)},0)):S==="SIGNED_OUT"?w():S==="TOKEN_REFRESHED"&&(D!=null&&D.user)&&(n(D.user),setTimeout(()=>{v(D.user)},0))});return()=>A.unsubscribe()},[]);const I={user:t,profile:r,company:a,loading:m,signIn:N,signUp:P,signOut:T,updatePassword:k};return h.jsx(AC.Provider,{value:I,children:e})}function An(){const e=C.useContext(AC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Ss({children:e,requiredRole:t}){const{user:n,profile:r,loading:i}=An(),a=vs();return i?h.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n?r?r.is_active===!1?h.jsx(E1,{to:"/acesso-negado",replace:!0}):t&&r.role!==t&&r.role!=="admin"?h.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Acesso Negado"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Voc no tem permisso para acessar esta pgina"})]})}):h.jsx(h.Fragment,{children:e}):h.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Carregando perfil..."}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Configurando sua conta"})]})}):h.jsx(E1,{to:"/login",state:{from:a},replace:!0})}function DR(){const{profile:e}=An(),t=vs(),n=[{name:"Dashboard",href:"/dashboard",icon:zb},{name:"Ativos",href:"/assets",icon:Bt},...(e==null?void 0:e.role)==="admin"?[{name:"Usurios",href:"/users",icon:nl}]:[],...(e==null?void 0:e.role)==="admin"?[{name:"Meu Plano",href:"/my-plan",icon:Ub}]:[],{name:"Meu Perfil",href:"/profile",icon:Wd}];return h.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:h.jsxs("div",{className:"flex flex-col flex-grow pt-5 bg-white border-r border-gray-200 overflow-y-auto",children:[h.jsx("div",{className:"flex items-center flex-shrink-0 px-6 pb-4",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-600 rounded-lg",children:h.jsx(Bt,{className:"h-6 w-6 text-white"})}),h.jsx("div",{children:h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Armazena App"})})]})}),h.jsx("div",{className:"mt-5 flex-grow flex flex-col",children:h.jsx("nav",{className:"flex-1 px-4 space-y-2",children:n.map(r=>{const i=t.pathname===r.href;return h.jsxs(Mi,{to:r.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[h.jsx(r.icon,{className:`mr-3 flex-shrink-0 h-5 w-5 ${i?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}`}),r.name]},r.name)})})})]})})}function _C(){const{user:e,profile:t}=An(),{toast:n}=Hn(),r=ys(),[i,a]=C.useState(!1),{data:u=[],isLoading:m}=zs({queryKey:["notifications"],queryFn:async()=>{const{data:A,error:S}=await qe.from("notifications").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1}).limit(20);if(S)throw S;return A},enabled:!!e}),{data:g}=zs({queryKey:["push-subscription"],queryFn:async()=>{const{data:A,error:S}=await qe.from("push_subscriptions").select("*").eq("user_id",e==null?void 0:e.id).maybeSingle();if(S)throw S;return A},enabled:!!e});C.useEffect(()=>{a(!!g)},[g]);const p=u.filter(A=>!A.read_at).length,w=C.useCallback(async()=>"Notification"in window?Notification.permission==="granted"?!0:Notification.permission==="denied"?(n({title:"Permisso negada",description:"As notificaes foram bloqueadas. Habilite-as nas configuraes do navegador.",variant:"destructive"}),!1):await Notification.requestPermission()==="granted":(n({title:"Notificaes no suportadas",description:"Seu navegador no suporta notificaes push.",variant:"destructive"}),!1),[n]),v=C.useCallback(async()=>{if(!("serviceWorker"in navigator))return null;try{const A=await navigator.serviceWorker.register("/sw.js");return await navigator.serviceWorker.ready,A}catch(A){return console.error("Erro ao registrar service worker:",A),null}},[]),E=C.useCallback(async()=>{if(e)try{if(!await w())return;const S=await v();if(!S){n({title:"Erro",description:"No foi possvel registrar o service worker.",variant:"destructive"});return}const D=await S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jR("BFmJvljvhokFZxcjmM3st1HvQMjPwcfyS4kWh0gWYFNaiW8w5e1XCX4tCB4a_fFpekRrzEk0CVkc4SZmHlD2M0o")}),{error:W}=await qe.from("push_subscriptions").upsert({user_id:e.id,endpoint:D.endpoint,p256dh:btoa(String.fromCharCode.apply(null,new Uint8Array(D.getKey("p256dh")||new ArrayBuffer(0)))),auth:btoa(String.fromCharCode.apply(null,new Uint8Array(D.getKey("auth")||new ArrayBuffer(0))))});if(W)throw W;r.invalidateQueries({queryKey:["push-subscription"]}),n({title:"Notificaes ativadas",description:"Voc receber notificaes sobre mudanas nos ativos."})}catch(A){console.error("Erro ao inscrever para notificaes:",A),n({title:"Erro",description:"No foi possvel ativar as notificaes.",variant:"destructive"})}},[e,w,v,r,n]),N=C.useCallback(async()=>{if(e)try{const S=await(await navigator.serviceWorker.ready).pushManager.getSubscription();S&&await S.unsubscribe();const{error:D}=await qe.from("push_subscriptions").delete().eq("user_id",e.id);if(D)throw D;r.invalidateQueries({queryKey:["push-subscription"]}),n({title:"Notificaes desativadas",description:"Voc no receber mais notificaes push."})}catch(A){console.error("Erro ao cancelar inscrio:",A),n({title:"Erro",description:"No foi possvel desativar as notificaes.",variant:"destructive"})}},[e,r,n]),P=xs({mutationFn:async A=>{const{error:S}=await qe.from("notifications").update({read_at:new Date().toISOString()}).eq("id",A);if(S)throw S},onSuccess:()=>{r.invalidateQueries({queryKey:["notifications"]})}}),T=xs({mutationFn:async()=>{const{error:A}=await qe.from("notifications").update({read_at:new Date().toISOString()}).eq("user_id",e==null?void 0:e.id).is("read_at",null);if(A)throw A},onSuccess:()=>{r.invalidateQueries({queryKey:["notifications"]}),n({title:"Notificaes marcadas como lidas"})}}),k=C.useCallback(A=>P.mutateAsync(A),[P]),I=C.useCallback(()=>T.mutateAsync(),[T]);return{notifications:u,unreadCount:p,loading:m,subscribeToPush:E,unsubscribeFromPush:N,markAsRead:k,markAllAsRead:I,isSubscribed:i}}function jR(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(n),i=new Uint8Array(r.length);for(let a=0;a<r.length;++a)i[a]=r.charCodeAt(a);return i}const Sp=hl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ke=C.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const u=r?Do:"button";return h.jsx(u,{className:Pe(Sp({variant:t,size:n,className:e})),ref:a,...i})});ke.displayName="Button";var MR=jy.useId||(()=>{}),LR=0;function Ao(e){const[t,n]=C.useState(MR());return Sn(()=>{n(r=>r??String(LR++))},[e]),t?`radix-${t}`:""}var a0="focusScope.autoFocusOnMount",l0="focusScope.autoFocusOnUnmount",Rw={bubbles:!1,cancelable:!0},BR="FocusScope",Ap=C.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...u}=e,[m,g]=C.useState(null),p=en(i),w=en(a),v=C.useRef(null),E=at(t,T=>g(T)),N=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let T=function(S){if(N.paused||!m)return;const D=S.target;m.contains(D)?v.current=D:li(v.current,{select:!0})},k=function(S){if(N.paused||!m)return;const D=S.relatedTarget;D!==null&&(m.contains(D)||li(v.current,{select:!0}))},I=function(S){if(document.activeElement===document.body)for(const W of S)W.removedNodes.length>0&&li(m)};document.addEventListener("focusin",T),document.addEventListener("focusout",k);const A=new MutationObserver(I);return m&&A.observe(m,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",k),A.disconnect()}}},[r,m,N.paused]),C.useEffect(()=>{if(m){kw.add(N);const T=document.activeElement;if(!m.contains(T)){const I=new CustomEvent(a0,Rw);m.addEventListener(a0,p),m.dispatchEvent(I),I.defaultPrevented||(FR(HR(NC(m)),{select:!0}),document.activeElement===T&&li(m))}return()=>{m.removeEventListener(a0,p),setTimeout(()=>{const I=new CustomEvent(l0,Rw);m.addEventListener(l0,w),m.dispatchEvent(I),I.defaultPrevented||li(T??document.body,{select:!0}),m.removeEventListener(l0,w),kw.remove(N)},0)}}},[m,p,w,N]);const P=C.useCallback(T=>{if(!n&&!r||N.paused)return;const k=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,I=document.activeElement;if(k&&I){const A=T.currentTarget,[S,D]=UR(A);S&&D?!T.shiftKey&&I===D?(T.preventDefault(),n&&li(S,{select:!0})):T.shiftKey&&I===S&&(T.preventDefault(),n&&li(D,{select:!0})):I===A&&T.preventDefault()}},[n,r,N.paused]);return h.jsx(Ve.div,{tabIndex:-1,...u,ref:E,onKeyDown:P})});Ap.displayName=BR;function FR(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(li(r,{select:t}),document.activeElement!==n)return}function UR(e){const t=NC(e),n=Ow(t,e),r=Ow(t.reverse(),e);return[n,r]}function NC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ow(e,t){for(const n of e)if(!WR(n,{upTo:t}))return n}function WR(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zR(e){return e instanceof HTMLInputElement&&"select"in e}function li(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&zR(e)&&t&&e.select()}}var kw=VR();function VR(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Pw(e,t),e.unshift(t)},remove(t){var n;e=Pw(e,t),(n=e[0])==null||n.resume()}}}function Pw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function HR(e){return e.filter(t=>t.tagName!=="A")}var c0=0;function TC(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Dw()),document.body.insertAdjacentElement("beforeend",e[1]??Dw()),c0++,()=>{c0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),c0--}},[])}function Dw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fs=function(){return fs=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},fs.apply(this,arguments)};function IC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function $R(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var cd="right-scroll-bar-position",ud="width-before-scroll-bar",GR="with-scroll-bars-hidden",qR="--removed-body-scroll-bar-size";function u0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function XR(e,t){var n=C.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var YR=typeof window<"u"?C.useLayoutEffect:C.useEffect,jw=new WeakMap;function KR(e,t){var n=XR(null,function(r){return e.forEach(function(i){return u0(i,r)})});return YR(function(){var r=jw.get(n);if(r){var i=new Set(r),a=new Set(e),u=n.current;i.forEach(function(m){a.has(m)||u0(m,null)}),a.forEach(function(m){i.has(m)||u0(m,u)})}jw.set(n,e)},[e]),n}function QR(e){return e}function ZR(e,t){t===void 0&&(t=QR);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var u=t(a,r);return n.push(u),function(){n=n.filter(function(m){return m!==u})}},assignSyncMedium:function(a){for(r=!0;n.length;){var u=n;n=[],u.forEach(a)}n={push:function(m){return a(m)},filter:function(){return n}}},assignMedium:function(a){r=!0;var u=[];if(n.length){var m=n;n=[],m.forEach(a),u=n}var g=function(){var w=u;u=[],w.forEach(a)},p=function(){return Promise.resolve().then(g)};p(),n={push:function(w){u.push(w),p()},filter:function(w){return u=u.filter(w),n}}}};return i}function JR(e){e===void 0&&(e={});var t=ZR(null);return t.options=fs({async:!0,ssr:!1},e),t}var RC=function(e){var t=e.sideCar,n=IC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,fs({},n))};RC.isSideCarExport=!0;function eO(e,t){return e.useMedium(t),RC}var OC=JR(),d0=function(){},Ff=C.forwardRef(function(e,t){var n=C.useRef(null),r=C.useState({onScrollCapture:d0,onWheelCapture:d0,onTouchMoveCapture:d0}),i=r[0],a=r[1],u=e.forwardProps,m=e.children,g=e.className,p=e.removeScrollBar,w=e.enabled,v=e.shards,E=e.sideCar,N=e.noIsolation,P=e.inert,T=e.allowPinchZoom,k=e.as,I=k===void 0?"div":k,A=e.gapMode,S=IC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=E,W=KR([n,t]),V=fs(fs({},S),i);return C.createElement(C.Fragment,null,w&&C.createElement(D,{sideCar:OC,removeScrollBar:p,shards:v,noIsolation:N,inert:P,setCallbacks:a,allowPinchZoom:!!T,lockRef:n,gapMode:A}),u?C.cloneElement(C.Children.only(m),fs(fs({},V),{ref:W})):C.createElement(I,fs({},V,{className:g,ref:W}),m))});Ff.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ff.classNames={fullWidth:ud,zeroRight:cd};var tO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=tO();return t&&e.setAttribute("nonce",t),e}function rO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function sO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var iO=function(){var e=0,t=null;return{add:function(n){e==0&&(t=nO())&&(rO(t,n),sO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},oO=function(){var e=iO();return function(t,n){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},kC=function(){var e=oO(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},aO={left:0,top:0,right:0,gap:0},f0=function(e){return parseInt(e||"",10)||0},lO=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[f0(n),f0(r),f0(i)]},cO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return aO;var t=lO(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},uO=kC(),Oa="data-scroll-locked",dO=function(e,t,n,r){var i=e.left,a=e.top,u=e.right,m=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(GR,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(m,"px ").concat(r,`;
  }
  body[`).concat(Oa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(m,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cd,` {
    right: `).concat(m,"px ").concat(r,`;
  }
  
  .`).concat(ud,` {
    margin-right: `).concat(m,"px ").concat(r,`;
  }
  
  .`).concat(cd," .").concat(cd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ud," .").concat(ud,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Oa,`] {
    `).concat(qR,": ").concat(m,`px;
  }
`)},Mw=function(){var e=parseInt(document.body.getAttribute(Oa)||"0",10);return isFinite(e)?e:0},fO=function(){C.useEffect(function(){return document.body.setAttribute(Oa,(Mw()+1).toString()),function(){var e=Mw()-1;e<=0?document.body.removeAttribute(Oa):document.body.setAttribute(Oa,e.toString())}},[])},hO=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;fO();var a=C.useMemo(function(){return cO(i)},[i]);return C.createElement(uO,{styles:dO(a,!t,i,n?"":"!important")})},V1=!1;if(typeof window<"u")try{var zu=Object.defineProperty({},"passive",{get:function(){return V1=!0,!0}});window.addEventListener("test",zu,zu),window.removeEventListener("test",zu,zu)}catch{V1=!1}var sa=V1?{passive:!1}:!1,mO=function(e){return e.tagName==="TEXTAREA"},PC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!mO(e)&&n[t]==="visible")},pO=function(e){return PC(e,"overflowY")},gO=function(e){return PC(e,"overflowX")},Lw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=DC(e,r);if(i){var a=jC(e,r),u=a[1],m=a[2];if(u>m)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},xO=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},wO=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},DC=function(e,t){return e==="v"?pO(t):gO(t)},jC=function(e,t){return e==="v"?xO(t):wO(t)},yO=function(e,t){return e==="h"&&t==="rtl"?-1:1},vO=function(e,t,n,r,i){var a=yO(e,window.getComputedStyle(t).direction),u=a*r,m=n.target,g=t.contains(m),p=!1,w=u>0,v=0,E=0;do{var N=jC(e,m),P=N[0],T=N[1],k=N[2],I=T-k-a*P;(P||I)&&DC(e,m)&&(v+=I,E+=P),m instanceof ShadowRoot?m=m.host:m=m.parentNode}while(!g&&m!==document.body||g&&(t.contains(m)||t===m));return(w&&(Math.abs(v)<1||!i)||!w&&(Math.abs(E)<1||!i))&&(p=!0),p},Vu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Bw=function(e){return[e.deltaX,e.deltaY]},Fw=function(e){return e&&"current"in e?e.current:e},bO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},CO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},EO=0,ia=[];function SO(e){var t=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(EO++)[0],a=C.useState(kC)[0],u=C.useRef(e);C.useEffect(function(){u.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var T=$R([e.lockRef.current],(e.shards||[]).map(Fw),!0).filter(Boolean);return T.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),T.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var m=C.useCallback(function(T,k){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!u.current.allowPinchZoom;var I=Vu(T),A=n.current,S="deltaX"in T?T.deltaX:A[0]-I[0],D="deltaY"in T?T.deltaY:A[1]-I[1],W,V=T.target,B=Math.abs(S)>Math.abs(D)?"h":"v";if("touches"in T&&B==="h"&&V.type==="range")return!1;var L=Lw(B,V);if(!L)return!0;if(L?W=B:(W=B==="v"?"h":"v",L=Lw(B,V)),!L)return!1;if(!r.current&&"changedTouches"in T&&(S||D)&&(r.current=W),!W)return!0;var j=r.current||W;return vO(j,k,T,j==="h"?S:D,!0)},[]),g=C.useCallback(function(T){var k=T;if(!(!ia.length||ia[ia.length-1]!==a)){var I="deltaY"in k?Bw(k):Vu(k),A=t.current.filter(function(W){return W.name===k.type&&(W.target===k.target||k.target===W.shadowParent)&&bO(W.delta,I)})[0];if(A&&A.should){k.cancelable&&k.preventDefault();return}if(!A){var S=(u.current.shards||[]).map(Fw).filter(Boolean).filter(function(W){return W.contains(k.target)}),D=S.length>0?m(k,S[0]):!u.current.noIsolation;D&&k.cancelable&&k.preventDefault()}}},[]),p=C.useCallback(function(T,k,I,A){var S={name:T,delta:k,target:I,should:A,shadowParent:AO(I)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(D){return D!==S})},1)},[]),w=C.useCallback(function(T){n.current=Vu(T),r.current=void 0},[]),v=C.useCallback(function(T){p(T.type,Bw(T),T.target,m(T,e.lockRef.current))},[]),E=C.useCallback(function(T){p(T.type,Vu(T),T.target,m(T,e.lockRef.current))},[]);C.useEffect(function(){return ia.push(a),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:E}),document.addEventListener("wheel",g,sa),document.addEventListener("touchmove",g,sa),document.addEventListener("touchstart",w,sa),function(){ia=ia.filter(function(T){return T!==a}),document.removeEventListener("wheel",g,sa),document.removeEventListener("touchmove",g,sa),document.removeEventListener("touchstart",w,sa)}},[]);var N=e.removeScrollBar,P=e.inert;return C.createElement(C.Fragment,null,P?C.createElement(a,{styles:CO(i)}):null,N?C.createElement(hO,{gapMode:e.gapMode}):null)}function AO(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const _O=eO(OC,SO);var _p=C.forwardRef(function(e,t){return C.createElement(Ff,fs({},e,{ref:t,sideCar:_O}))});_p.classNames=Ff.classNames;var NO=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},oa=new WeakMap,Hu=new WeakMap,$u={},h0=0,MC=function(e){return e&&(e.host||MC(e.parentNode))},TO=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=MC(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},IO=function(e,t,n,r){var i=TO(t,Array.isArray(e)?e:[e]);$u[n]||($u[n]=new WeakMap);var a=$u[n],u=[],m=new Set,g=new Set(i),p=function(v){!v||m.has(v)||(m.add(v),p(v.parentNode))};i.forEach(p);var w=function(v){!v||g.has(v)||Array.prototype.forEach.call(v.children,function(E){if(m.has(E))w(E);else try{var N=E.getAttribute(r),P=N!==null&&N!=="false",T=(oa.get(E)||0)+1,k=(a.get(E)||0)+1;oa.set(E,T),a.set(E,k),u.push(E),T===1&&P&&Hu.set(E,!0),k===1&&E.setAttribute(n,"true"),P||E.setAttribute(r,"true")}catch(I){console.error("aria-hidden: cannot operate on ",E,I)}})};return w(t),m.clear(),h0++,function(){u.forEach(function(v){var E=oa.get(v)-1,N=a.get(v)-1;oa.set(v,E),a.set(v,N),E||(Hu.has(v)||v.removeAttribute(r),Hu.delete(v)),N||v.removeAttribute(n)}),h0--,h0||(oa=new WeakMap,oa=new WeakMap,Hu=new WeakMap,$u={})}},LC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=NO(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),IO(r,i,n,"aria-hidden")):function(){return null}},Np="Dialog",[BC,FC]=Yi(Np),[RO,Zr]=BC(Np),UC=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:u=!0}=e,m=C.useRef(null),g=C.useRef(null),[p=!1,w]=jo({prop:r,defaultProp:i,onChange:a});return h.jsx(RO,{scope:t,triggerRef:m,contentRef:g,contentId:Ao(),titleId:Ao(),descriptionId:Ao(),open:p,onOpenChange:w,onOpenToggle:C.useCallback(()=>w(v=>!v),[w]),modal:u,children:n})};UC.displayName=Np;var WC="DialogTrigger",zC=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Zr(WC,n),a=at(t,i.triggerRef);return h.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Rp(i.open),...r,ref:a,onClick:Me(e.onClick,i.onOpenToggle)})});zC.displayName=WC;var Tp="DialogPortal",[OO,VC]=BC(Tp,{forceMount:void 0}),HC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=Zr(Tp,t);return h.jsx(OO,{scope:t,forceMount:n,children:C.Children.map(r,u=>h.jsx(Qr,{present:n||a.open,children:h.jsx(Nf,{asChild:!0,container:i,children:u})}))})};HC.displayName=Tp;var $d="DialogOverlay",$C=C.forwardRef((e,t)=>{const n=VC($d,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Zr($d,e.__scopeDialog);return a.modal?h.jsx(Qr,{present:r||a.open,children:h.jsx(kO,{...i,ref:t})}):null});$C.displayName=$d;var kO=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Zr($d,n);return h.jsx(_p,{as:Do,allowPinchZoom:!0,shards:[i.contentRef],children:h.jsx(Ve.div,{"data-state":Rp(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Mo="DialogContent",GC=C.forwardRef((e,t)=>{const n=VC(Mo,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Zr(Mo,e.__scopeDialog);return h.jsx(Qr,{present:r||a.open,children:a.modal?h.jsx(PO,{...i,ref:t}):h.jsx(DO,{...i,ref:t})})});GC.displayName=Mo;var PO=C.forwardRef((e,t)=>{const n=Zr(Mo,e.__scopeDialog),r=C.useRef(null),i=at(t,n.contentRef,r);return C.useEffect(()=>{const a=r.current;if(a)return LC(a)},[]),h.jsx(qC,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(e.onCloseAutoFocus,a=>{var u;a.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Me(e.onPointerDownOutside,a=>{const u=a.detail.originalEvent,m=u.button===0&&u.ctrlKey===!0;(u.button===2||m)&&a.preventDefault()}),onFocusOutside:Me(e.onFocusOutside,a=>a.preventDefault())})}),DO=C.forwardRef((e,t)=>{const n=Zr(Mo,e.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return h.jsx(qC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var u,m;(u=e.onCloseAutoFocus)==null||u.call(e,a),a.defaultPrevented||(r.current||(m=n.triggerRef.current)==null||m.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var g,p;(g=e.onInteractOutside)==null||g.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=a.target;((p=n.triggerRef.current)==null?void 0:p.contains(u))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),qC=C.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...u}=e,m=Zr(Mo,n),g=C.useRef(null),p=at(t,g);return TC(),h.jsxs(h.Fragment,{children:[h.jsx(Ap,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:h.jsx($c,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":Rp(m.open),...u,ref:p,onDismiss:()=>m.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(MO,{titleId:m.titleId}),h.jsx(BO,{contentRef:g,descriptionId:m.descriptionId})]})]})}),Ip="DialogTitle",XC=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Zr(Ip,n);return h.jsx(Ve.h2,{id:i.titleId,...r,ref:t})});XC.displayName=Ip;var YC="DialogDescription",KC=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Zr(YC,n);return h.jsx(Ve.p,{id:i.descriptionId,...r,ref:t})});KC.displayName=YC;var QC="DialogClose",ZC=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Zr(QC,n);return h.jsx(Ve.button,{type:"button",...r,ref:t,onClick:Me(e.onClick,()=>i.onOpenChange(!1))})});ZC.displayName=QC;function Rp(e){return e?"open":"closed"}var JC="DialogTitleWarning",[jO,eE]=OT(JC,{contentName:Mo,titleName:Ip,docsSlug:"dialog"}),MO=({titleId:e})=>{const t=eE(JC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},LO="DialogDescriptionWarning",BO=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eE(LO).contentName}}.`;return C.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Op=UC,kp=zC,Pp=HC,Kc=$C,Qc=GC,Zc=XC,Jc=KC,Uf=ZC;const FO=Op,UO=kp,WO=Pp,tE=C.forwardRef(({className:e,...t},n)=>h.jsx(Kc,{className:Pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));tE.displayName=Kc.displayName;const zO=hl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),nE=C.forwardRef(({side:e="right",className:t,children:n,...r},i)=>h.jsxs(WO,{children:[h.jsx(tE,{}),h.jsxs(Qc,{ref:i,className:Pe(zO({side:e}),t),...r,children:[n,h.jsxs(Uf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[h.jsx(zo,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nE.displayName=Qc.displayName;const VO=C.forwardRef(({className:e,...t},n)=>h.jsx(Zc,{ref:n,className:Pe("text-lg font-semibold text-foreground",e),...t}));VO.displayName=Zc.displayName;const HO=C.forwardRef(({className:e,...t},n)=>h.jsx(Jc,{ref:n,className:Pe("text-sm text-muted-foreground",e),...t}));HO.displayName=Jc.displayName;var $O="Separator",Uw="horizontal",GO=["horizontal","vertical"],rE=C.forwardRef((e,t)=>{const{decorative:n,orientation:r=Uw,...i}=e,a=qO(r)?r:Uw,m=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return h.jsx(Ve.div,{"data-orientation":a,...m,...i,ref:t})});rE.displayName=$O;function qO(e){return GO.includes(e)}var sE=rE;const Wf=C.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>h.jsx(sE,{ref:i,decorative:n,orientation:t,className:Pe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Wf.displayName=sE.displayName;const XO=hl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function tn({className:e,variant:t,...n}){return h.jsx("div",{className:Pe(XO({variant:t}),e),...n})}const Dp={free:{maxAssets:50,maxUsers:1,support:"E-mail (at 72h)",icon:"",color:"green",name:"Free"},basic:{maxAssets:500,maxUsers:3,support:"E-mail (at 48h)",icon:"",color:"blue",name:"Basic"},premium:{maxAssets:1e3,maxUsers:10,support:"WhatsApp (at 24h)",icon:"",color:"purple",name:"Premium"}};function eu(){const{profile:e,company:t}=An();return zs({queryKey:["plan-limits",e==null?void 0:e.company_id],queryFn:async()=>{if(!(e!=null&&e.company_id))throw new Error("Company ID not found");const n=(t==null?void 0:t.plan)||"free",r=Dp[n],{count:i}=await qe.from("assets").select("*",{count:"exact",head:!0}).eq("company_id",e.company_id),{count:a}=await qe.from("profiles").select("*",{count:"exact",head:!0}).eq("company_id",e.company_id).eq("is_active",!0),u=r.maxAssets,m=r.maxUsers,g=Math.round((i||0)/u*100),p=Math.round((a||0)/m*100);return{currentPlan:n,planInfo:r,assetsCount:i||0,usersCount:a||0,assetsLimit:u,usersLimit:m,assetsUsage:g,usersUsage:p,isAssetsLimitReached:(i||0)>=u,isUsersLimitReached:(a||0)>=m,isAssetsLimitWarning:g>=80,isUsersLimitWarning:p>=80}},enabled:!!(e!=null&&e.company_id)&&!!t})}function iE({plan:e,className:t=""}){const n=Dp[e],r=a=>{switch(a){case"green":return"default";case"blue":return"secondary";case"purple":return"outline";default:return"default"}},i=a=>{switch(a){case"green":return"bg-green-100 text-green-800 border-green-200";case"blue":return"bg-blue-100 text-blue-800 border-blue-200";case"purple":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return h.jsxs(tn,{variant:r(n.color),className:`${i(n.color)} ${t}`,children:[h.jsx("span",{className:"mr-1",children:n.icon}),n.name]})}function YO(){const{profile:e,company:t,signOut:n}=An(),r=vs(),[i,a]=C.useState(!1),u=[{name:"Dashboard",href:"/dashboard",icon:zb},{name:"Ativos",href:"/assets",icon:Bt},...(e==null?void 0:e.role)==="admin"?[{name:"Usurios",href:"/users",icon:nl}]:[]],m=()=>{a(!1)},g=async()=>{a(!1),await n()};return h.jsxs(FO,{open:i,onOpenChange:a,children:[h.jsx(UO,{asChild:!0,children:h.jsx(ke,{variant:"ghost",size:"icon",className:"lg:hidden !w-14 !h-14 [&_svg]:!w-8 [&_svg]:!h-8",children:h.jsx(_8,{})})}),h.jsx(nE,{side:"left",className:"w-72 p-0",children:h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx("div",{className:"p-6 border-b",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-600 rounded-lg",children:h.jsx(Bt,{className:"h-6 w-6 text-white"})}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Armazena App"}),t&&h.jsxs("div",{className:"flex items-start text-sm text-gray-600 mt-1",children:[h.jsx(up,{className:"h-3 w-3 mr-1 mt-0.5 flex-shrink-0"}),h.jsx("span",{className:"break-words leading-tight",children:t.name})]}),(e==null?void 0:e.role)==="admin"&&t&&t.plan!=="enterprise"&&h.jsx("div",{className:"mt-2",children:h.jsx(iE,{plan:t.plan})})]})]})}),h.jsx("nav",{className:"flex-1 p-4 space-y-2",children:u.map(p=>{const w=r.pathname===p.href;return h.jsxs(Mi,{to:p.href,onClick:m,className:`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${w?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[h.jsx(p.icon,{className:"mr-3 h-5 w-5"}),p.name]},p.name)})}),h.jsx(Wf,{}),h.jsxs("div",{className:"p-4 space-y-2",children:[(e==null?void 0:e.role)==="admin"&&h.jsxs(Mi,{to:"/my-plan",onClick:m,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-50 hover:text-gray-900 transition-colors",children:[h.jsx(Ub,{className:"mr-3 h-5 w-5"}),"Meu Plano"]}),h.jsxs(Mi,{to:"/profile",onClick:m,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-50 hover:text-gray-900 transition-colors",children:[h.jsx(Wd,{className:"mr-3 h-5 w-5"}),"Perfil"]}),h.jsxs(ke,{variant:"ghost",onClick:g,className:"w-full justify-start px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:[h.jsx(mp,{className:"mr-3 h-5 w-5"}),"Sair"]})]}),e&&h.jsx("div",{className:"p-4 border-t bg-gray-50",children:h.jsxs("div",{className:"text-xs text-gray-500",children:[h.jsx("p",{className:"font-medium break-words",children:e.name}),h.jsx("p",{className:"break-words",children:e.email}),h.jsx("p",{className:"capitalize mt-1",children:e.role==="admin"?"Administrador":e.role==="editor"?"Editor":"Visualizador"})]})})]})})]})}const Je=C.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:Pe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Je.displayName="Card";const St=C.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:Pe("flex flex-col space-y-1.5 p-6",e),...t}));St.displayName="CardHeader";const Et=C.forwardRef(({className:e,...t},n)=>h.jsx("h3",{ref:n,className:Pe("text-2xl font-semibold leading-none tracking-tight",e),...t}));Et.displayName="CardTitle";const js=C.forwardRef(({className:e,...t},n)=>h.jsx("p",{ref:n,className:Pe("text-sm text-muted-foreground",e),...t}));js.displayName="CardDescription";const tt=C.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:Pe("p-6 pt-0",e),...t}));tt.displayName="CardContent";const KO=C.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:Pe("flex items-center p-6 pt-0",e),...t}));KO.displayName="CardFooter";var QO=C.createContext(void 0);function oE(e){const t=C.useContext(QO);return e||t||"ltr"}function H1(e,[t,n]){return Math.min(n,Math.max(t,e))}function ZO(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var jp="ScrollArea",[aE,b7]=Yi(jp),[JO,Pr]=aE(jp),lE=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...u}=e,[m,g]=C.useState(null),[p,w]=C.useState(null),[v,E]=C.useState(null),[N,P]=C.useState(null),[T,k]=C.useState(null),[I,A]=C.useState(0),[S,D]=C.useState(0),[W,V]=C.useState(!1),[B,L]=C.useState(!1),j=at(t,ee=>g(ee)),z=oE(i);return h.jsx(JO,{scope:n,type:r,dir:z,scrollHideDelay:a,scrollArea:m,viewport:p,onViewportChange:w,content:v,onContentChange:E,scrollbarX:N,onScrollbarXChange:P,scrollbarXEnabled:W,onScrollbarXEnabledChange:V,scrollbarY:T,onScrollbarYChange:k,scrollbarYEnabled:B,onScrollbarYEnabledChange:L,onCornerWidthChange:A,onCornerHeightChange:D,children:h.jsx(Ve.div,{dir:z,...u,ref:j,style:{position:"relative","--radix-scroll-area-corner-width":I+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});lE.displayName=jp;var cE="ScrollAreaViewport",uE=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:a,...u}=e,m=Pr(cE,n),g=C.useRef(null),p=at(t,g,m.onViewportChange);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),h.jsx(Ve.div,{"data-radix-scroll-area-viewport":"",...u,asChild:i,ref:p,style:{overflowX:m.scrollbarXEnabled?"scroll":"hidden",overflowY:m.scrollbarYEnabled?"scroll":"hidden",...e.style},children:ck({asChild:i,children:r},w=>h.jsx("div",{"data-radix-scroll-area-content":"",ref:m.onContentChange,style:{minWidth:m.scrollbarXEnabled?"fit-content":void 0},children:w}))})]})});uE.displayName=cE;var bs="ScrollAreaScrollbar",Mp=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Pr(bs,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:u}=i,m=e.orientation==="horizontal";return C.useEffect(()=>(m?a(!0):u(!0),()=>{m?a(!1):u(!1)}),[m,a,u]),i.type==="hover"?h.jsx(ek,{...r,ref:t,forceMount:n}):i.type==="scroll"?h.jsx(tk,{...r,ref:t,forceMount:n}):i.type==="auto"?h.jsx(dE,{...r,ref:t,forceMount:n}):i.type==="always"?h.jsx(Lp,{...r,ref:t}):null});Mp.displayName=bs;var ek=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Pr(bs,e.__scopeScrollArea),[a,u]=C.useState(!1);return C.useEffect(()=>{const m=i.scrollArea;let g=0;if(m){const p=()=>{window.clearTimeout(g),u(!0)},w=()=>{g=window.setTimeout(()=>u(!1),i.scrollHideDelay)};return m.addEventListener("pointerenter",p),m.addEventListener("pointerleave",w),()=>{window.clearTimeout(g),m.removeEventListener("pointerenter",p),m.removeEventListener("pointerleave",w)}}},[i.scrollArea,i.scrollHideDelay]),h.jsx(Qr,{present:n||a,children:h.jsx(dE,{"data-state":a?"visible":"hidden",...r,ref:t})})}),tk=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Pr(bs,e.__scopeScrollArea),a=e.orientation==="horizontal",u=Vf(()=>g("SCROLL_END"),100),[m,g]=ZO("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(m==="idle"){const p=window.setTimeout(()=>g("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(p)}},[m,i.scrollHideDelay,g]),C.useEffect(()=>{const p=i.viewport,w=a?"scrollLeft":"scrollTop";if(p){let v=p[w];const E=()=>{const N=p[w];v!==N&&(g("SCROLL"),u()),v=N};return p.addEventListener("scroll",E),()=>p.removeEventListener("scroll",E)}},[i.viewport,a,g,u]),h.jsx(Qr,{present:n||m!=="hidden",children:h.jsx(Lp,{"data-state":m==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Me(e.onPointerEnter,()=>g("POINTER_ENTER")),onPointerLeave:Me(e.onPointerLeave,()=>g("POINTER_LEAVE"))})})}),dE=C.forwardRef((e,t)=>{const n=Pr(bs,e.__scopeScrollArea),{forceMount:r,...i}=e,[a,u]=C.useState(!1),m=e.orientation==="horizontal",g=Vf(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,w=n.viewport.offsetHeight<n.viewport.scrollHeight;u(m?p:w)}},10);return sl(n.viewport,g),sl(n.content,g),h.jsx(Qr,{present:r||a,children:h.jsx(Lp,{"data-state":a?"visible":"hidden",...i,ref:t})})}),Lp=C.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Pr(bs,e.__scopeScrollArea),a=C.useRef(null),u=C.useRef(0),[m,g]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=gE(m.viewport,m.content),w={...r,sizes:m,onSizesChange:g,hasThumb:p>0&&p<1,onThumbChange:E=>a.current=E,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:E=>u.current=E};function v(E,N){return ak(E,u.current,m,N)}return n==="horizontal"?h.jsx(nk,{...w,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const E=i.viewport.scrollLeft,N=Ww(E,m,i.dir);a.current.style.transform=`translate3d(${N}px, 0, 0)`}},onWheelScroll:E=>{i.viewport&&(i.viewport.scrollLeft=E)},onDragScroll:E=>{i.viewport&&(i.viewport.scrollLeft=v(E,i.dir))}}):n==="vertical"?h.jsx(rk,{...w,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const E=i.viewport.scrollTop,N=Ww(E,m);a.current.style.transform=`translate3d(0, ${N}px, 0)`}},onWheelScroll:E=>{i.viewport&&(i.viewport.scrollTop=E)},onDragScroll:E=>{i.viewport&&(i.viewport.scrollTop=v(E))}}):null}),nk=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=Pr(bs,e.__scopeScrollArea),[u,m]=C.useState(),g=C.useRef(null),p=at(t,g,a.onScrollbarXChange);return C.useEffect(()=>{g.current&&m(getComputedStyle(g.current))},[g]),h.jsx(hE,{"data-orientation":"horizontal",...i,ref:p,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":zf(n)+"px",...e.style},onThumbPointerDown:w=>e.onThumbPointerDown(w.x),onDragScroll:w=>e.onDragScroll(w.x),onWheelScroll:(w,v)=>{if(a.viewport){const E=a.viewport.scrollLeft+w.deltaX;e.onWheelScroll(E),wE(E,v)&&w.preventDefault()}},onResize:()=>{g.current&&a.viewport&&u&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:g.current.clientWidth,paddingStart:qd(u.paddingLeft),paddingEnd:qd(u.paddingRight)}})}})}),rk=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=Pr(bs,e.__scopeScrollArea),[u,m]=C.useState(),g=C.useRef(null),p=at(t,g,a.onScrollbarYChange);return C.useEffect(()=>{g.current&&m(getComputedStyle(g.current))},[g]),h.jsx(hE,{"data-orientation":"vertical",...i,ref:p,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":zf(n)+"px",...e.style},onThumbPointerDown:w=>e.onThumbPointerDown(w.y),onDragScroll:w=>e.onDragScroll(w.y),onWheelScroll:(w,v)=>{if(a.viewport){const E=a.viewport.scrollTop+w.deltaY;e.onWheelScroll(E),wE(E,v)&&w.preventDefault()}},onResize:()=>{g.current&&a.viewport&&u&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:g.current.clientHeight,paddingStart:qd(u.paddingTop),paddingEnd:qd(u.paddingBottom)}})}})}),[sk,fE]=aE(bs),hE=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:u,onThumbPointerDown:m,onThumbPositionChange:g,onDragScroll:p,onWheelScroll:w,onResize:v,...E}=e,N=Pr(bs,n),[P,T]=C.useState(null),k=at(t,j=>T(j)),I=C.useRef(null),A=C.useRef(""),S=N.viewport,D=r.content-r.viewport,W=en(w),V=en(g),B=Vf(v,10);function L(j){if(I.current){const z=j.clientX-I.current.left,ee=j.clientY-I.current.top;p({x:z,y:ee})}}return C.useEffect(()=>{const j=z=>{const ee=z.target;(P==null?void 0:P.contains(ee))&&W(z,D)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[S,P,D,W]),C.useEffect(V,[r,V]),sl(P,B),sl(N.content,B),h.jsx(sk,{scope:n,scrollbar:P,hasThumb:i,onThumbChange:en(a),onThumbPointerUp:en(u),onThumbPositionChange:V,onThumbPointerDown:en(m),children:h.jsx(Ve.div,{...E,ref:k,style:{position:"absolute",...E.style},onPointerDown:Me(e.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),I.current=P.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",N.viewport&&(N.viewport.style.scrollBehavior="auto"),L(j))}),onPointerMove:Me(e.onPointerMove,L),onPointerUp:Me(e.onPointerUp,j=>{const z=j.target;z.hasPointerCapture(j.pointerId)&&z.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=A.current,N.viewport&&(N.viewport.style.scrollBehavior=""),I.current=null})})})}),Gd="ScrollAreaThumb",mE=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=fE(Gd,e.__scopeScrollArea);return h.jsx(Qr,{present:n||i.hasThumb,children:h.jsx(ik,{ref:t,...r})})}),ik=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,a=Pr(Gd,n),u=fE(Gd,n),{onThumbPositionChange:m}=u,g=at(t,v=>u.onThumbChange(v)),p=C.useRef(),w=Vf(()=>{p.current&&(p.current(),p.current=void 0)},100);return C.useEffect(()=>{const v=a.viewport;if(v){const E=()=>{if(w(),!p.current){const N=lk(v,m);p.current=N,m()}};return m(),v.addEventListener("scroll",E),()=>v.removeEventListener("scroll",E)}},[a.viewport,w,m]),h.jsx(Ve.div,{"data-state":u.hasThumb?"visible":"hidden",...i,ref:g,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Me(e.onPointerDownCapture,v=>{const N=v.target.getBoundingClientRect(),P=v.clientX-N.left,T=v.clientY-N.top;u.onThumbPointerDown({x:P,y:T})}),onPointerUp:Me(e.onPointerUp,u.onThumbPointerUp)})});mE.displayName=Gd;var Bp="ScrollAreaCorner",pE=C.forwardRef((e,t)=>{const n=Pr(Bp,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?h.jsx(ok,{...e,ref:t}):null});pE.displayName=Bp;var ok=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Pr(Bp,n),[a,u]=C.useState(0),[m,g]=C.useState(0),p=!!(a&&m);return sl(i.scrollbarX,()=>{var v;const w=((v=i.scrollbarX)==null?void 0:v.offsetHeight)||0;i.onCornerHeightChange(w),g(w)}),sl(i.scrollbarY,()=>{var v;const w=((v=i.scrollbarY)==null?void 0:v.offsetWidth)||0;i.onCornerWidthChange(w),u(w)}),p?h.jsx(Ve.div,{...r,ref:t,style:{width:a,height:m,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function qd(e){return e?parseInt(e,10):0}function gE(e,t){const n=e/t;return isNaN(n)?0:n}function zf(e){const t=gE(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function ak(e,t,n,r="ltr"){const i=zf(n),a=i/2,u=t||a,m=i-u,g=n.scrollbar.paddingStart+u,p=n.scrollbar.size-n.scrollbar.paddingEnd-m,w=n.content-n.viewport,v=r==="ltr"?[0,w]:[w*-1,0];return xE([g,p],v)(e)}function Ww(e,t,n="ltr"){const r=zf(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,u=t.content-t.viewport,m=a-r,g=n==="ltr"?[0,u]:[u*-1,0],p=H1(e,g);return xE([0,u],[0,m])(p)}function xE(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function wE(e,t){return e>0&&e<t}var lk=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},u=n.left!==a.left,m=n.top!==a.top;(u||m)&&t(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Vf(e,t){const n=en(e),r=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),C.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function sl(e,t){const n=en(t);Sn(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}function ck(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const i=C.Children.only(r);return C.cloneElement(i,{children:typeof t=="function"?t(i.props.children):t})}var yE=lE,uk=uE,dk=pE;const vE=C.forwardRef(({className:e,children:t,...n},r)=>h.jsxs(yE,{ref:r,className:Pe("relative overflow-hidden",e),...n,children:[h.jsx(uk,{className:"h-full w-full rounded-[inherit]",children:t}),h.jsx(bE,{}),h.jsx(dk,{})]}));vE.displayName=yE.displayName;const bE=C.forwardRef(({className:e,orientation:t="vertical",...n},r)=>h.jsx(Mp,{ref:r,orientation:t,className:Pe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:h.jsx(mE,{className:"relative flex-1 rounded-full bg-border"})}));bE.displayName=Mp.displayName;function At(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ui(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const CE=6048e5,fk=864e5,Gu=43200,zw=1440;let hk={};function tu(){return hk}function Oc(e,t){var m,g,p,w;const n=tu(),r=(t==null?void 0:t.weekStartsOn)??((g=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((w=(p=n.locale)==null?void 0:p.options)==null?void 0:w.weekStartsOn)??0,i=At(e),a=i.getDay(),u=(a<r?7:0)+a-r;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function Xd(e){return Oc(e,{weekStartsOn:1})}function EE(e){const t=At(e),n=t.getFullYear(),r=Ui(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Xd(r),a=Ui(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const u=Xd(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}function Vw(e){const t=At(e);return t.setHours(0,0,0,0),t}function Yd(e){const t=At(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function mk(e,t){const n=Vw(e),r=Vw(t),i=+n-Yd(n),a=+r-Yd(r);return Math.round((i-a)/fk)}function pk(e){const t=EE(e),n=Ui(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Xd(n)}function dd(e,t){const n=At(e),r=At(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function gk(e){return Ui(e,Date.now())}function xk(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function wk(e){if(!xk(e)&&typeof e!="number")return!1;const t=At(e);return!isNaN(Number(t))}function yk(e,t){const n=At(e),r=At(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function vk(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function bk(e,t){return+At(e)-+At(t)}function Ck(e){const t=At(e);return t.setHours(23,59,59,999),t}function Ek(e){const t=At(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Sk(e){const t=At(e);return+Ck(t)==+Ek(t)}function Ak(e,t){const n=At(e),r=At(t),i=dd(n,r),a=Math.abs(yk(n,r));let u;if(a<1)u=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);let m=dd(n,r)===-i;Sk(At(e))&&a===1&&dd(e,r)===1&&(m=!1),u=i*(a-Number(m))}return u===0?0:u}function _k(e,t,n){const r=bk(e,t)/1e3;return vk(n==null?void 0:n.roundingMethod)(r)}function Nk(e){const t=At(e),n=Ui(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Tk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ik=(e,t,n)=>{let r;const i=Tk[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ka(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Rk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ok={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Pk={date:ka({formats:Rk,defaultWidth:"full"}),time:ka({formats:Ok,defaultWidth:"full"}),dateTime:ka({formats:kk,defaultWidth:"full"})},Dk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jk=(e,t,n,r)=>Dk[e];function hs(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const u=e.defaultFormattingWidth||e.defaultWidth,m=n!=null&&n.width?String(n.width):u;i=e.formattingValues[m]||e.formattingValues[u]}else{const u=e.defaultWidth,m=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[m]||e.values[u]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const Mk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Lk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Bk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Fk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Uk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zk=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Vk={ordinalNumber:zk,era:hs({values:Mk,defaultWidth:"wide"}),quarter:hs({values:Lk,defaultWidth:"wide",argumentCallback:e=>e-1}),month:hs({values:Bk,defaultWidth:"wide"}),day:hs({values:Fk,defaultWidth:"wide"}),dayPeriod:hs({values:Uk,defaultWidth:"wide",formattingValues:Wk,defaultFormattingWidth:"wide"})};function ms(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const u=a[0],m=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],g=Array.isArray(m)?$k(m,v=>v.test(u)):Hk(m,v=>v.test(u));let p;p=e.valueCallback?e.valueCallback(g):g,p=n.valueCallback?n.valueCallback(p):p;const w=t.slice(u.length);return{value:p,rest:w}}}function Hk(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function $k(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function SE(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let u=e.valueCallback?e.valueCallback(a[0]):a[0];u=n.valueCallback?n.valueCallback(u):u;const m=t.slice(i.length);return{value:u,rest:m}}}const Gk=/^(\d+)(th|st|nd|rd)?/i,qk=/\d+/i,Xk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Yk={any:[/^b/i,/^(a|c)/i]},Kk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Qk={any:[/1/i,/2/i,/3/i,/4/i]},Zk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eP={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tP={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nP={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rP={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sP={ordinalNumber:SE({matchPattern:Gk,parsePattern:qk,valueCallback:e=>parseInt(e,10)}),era:ms({matchPatterns:Xk,defaultMatchWidth:"wide",parsePatterns:Yk,defaultParseWidth:"any"}),quarter:ms({matchPatterns:Kk,defaultMatchWidth:"wide",parsePatterns:Qk,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ms({matchPatterns:Zk,defaultMatchWidth:"wide",parsePatterns:Jk,defaultParseWidth:"any"}),day:ms({matchPatterns:eP,defaultMatchWidth:"wide",parsePatterns:tP,defaultParseWidth:"any"}),dayPeriod:ms({matchPatterns:nP,defaultMatchWidth:"any",parsePatterns:rP,defaultParseWidth:"any"})},AE={code:"en-US",formatDistance:Ik,formatLong:Pk,formatRelative:jk,localize:Vk,match:sP,options:{weekStartsOn:0,firstWeekContainsDate:1}};function iP(e){const t=At(e);return mk(t,Nk(t))+1}function oP(e){const t=At(e),n=+Xd(t)-+pk(t);return Math.round(n/CE)+1}function _E(e,t){var w,v,E,N;const n=At(e),r=n.getFullYear(),i=tu(),a=(t==null?void 0:t.firstWeekContainsDate)??((v=(w=t==null?void 0:t.locale)==null?void 0:w.options)==null?void 0:v.firstWeekContainsDate)??i.firstWeekContainsDate??((N=(E=i.locale)==null?void 0:E.options)==null?void 0:N.firstWeekContainsDate)??1,u=Ui(e,0);u.setFullYear(r+1,0,a),u.setHours(0,0,0,0);const m=Oc(u,t),g=Ui(e,0);g.setFullYear(r,0,a),g.setHours(0,0,0,0);const p=Oc(g,t);return n.getTime()>=m.getTime()?r+1:n.getTime()>=p.getTime()?r:r-1}function aP(e,t){var m,g,p,w;const n=tu(),r=(t==null?void 0:t.firstWeekContainsDate)??((g=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((w=(p=n.locale)==null?void 0:p.options)==null?void 0:w.firstWeekContainsDate)??1,i=_E(e,t),a=Ui(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Oc(a,t)}function lP(e,t){const n=At(e),r=+Oc(n,t)-+aP(n,t);return Math.round(r/CE)+1}function xt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const si={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return xt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):xt(n+1,2)},d(e,t){return xt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return xt(e.getHours()%12||12,t.length)},H(e,t){return xt(e.getHours(),t.length)},m(e,t){return xt(e.getMinutes(),t.length)},s(e,t){return xt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return xt(i,t.length)}},aa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Hw={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return si.y(e,t)},Y:function(e,t,n,r){const i=_E(e,r),a=i>0?i:1-i;if(t==="YY"){const u=a%100;return xt(u,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):xt(a,t.length)},R:function(e,t){const n=EE(e);return xt(n,t.length)},u:function(e,t){const n=e.getFullYear();return xt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return xt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return xt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return si.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return xt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=lP(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):xt(i,t.length)},I:function(e,t,n){const r=oP(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):xt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):si.d(e,t)},D:function(e,t,n){const r=iP(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):xt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return xt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return xt(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return xt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=aa.noon:r===0?i=aa.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=aa.evening:r>=12?i=aa.afternoon:r>=4?i=aa.morning:i=aa.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return si.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):si.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):xt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):xt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):si.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):si.s(e,t)},S:function(e,t){return si.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Gw(r);case"XXXX":case"XX":return co(r);case"XXXXX":case"XXX":default:return co(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Gw(r);case"xxxx":case"xx":return co(r);case"xxxxx":case"xxx":default:return co(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+$w(r,":");case"OOOO":default:return"GMT"+co(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+$w(r,":");case"zzzz":default:return"GMT"+co(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return xt(r,t.length)},T:function(e,t,n){const r=e.getTime();return xt(r,t.length)}};function $w(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+xt(a,2)}function Gw(e,t){return e%60===0?(e>0?"-":"+")+xt(Math.abs(e)/60,2):co(e,t)}function co(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=xt(Math.trunc(r/60),2),a=xt(r%60,2);return n+i+t+a}const qw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},NE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},cP=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return qw(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",qw(r,t)).replace("{{time}}",NE(i,t))},uP={p:NE,P:cP},dP=/^D+$/,fP=/^Y+$/,hP=["D","DD","YY","YYYY"];function mP(e){return dP.test(e)}function pP(e){return fP.test(e)}function gP(e,t,n){const r=xP(e,t,n);if(console.warn(r),hP.includes(e))throw new RangeError(r)}function xP(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vP=/^'([^]*?)'?$/,bP=/''/g,CP=/[a-zA-Z]/;function Pa(e,t,n){var w,v,E,N,P,T,k,I;const r=tu(),i=(n==null?void 0:n.locale)??r.locale??AE,a=(n==null?void 0:n.firstWeekContainsDate)??((v=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((N=(E=r.locale)==null?void 0:E.options)==null?void 0:N.firstWeekContainsDate)??1,u=(n==null?void 0:n.weekStartsOn)??((T=(P=n==null?void 0:n.locale)==null?void 0:P.options)==null?void 0:T.weekStartsOn)??r.weekStartsOn??((I=(k=r.locale)==null?void 0:k.options)==null?void 0:I.weekStartsOn)??0,m=At(e);if(!wk(m))throw new RangeError("Invalid time value");let g=t.match(yP).map(A=>{const S=A[0];if(S==="p"||S==="P"){const D=uP[S];return D(A,i.formatLong)}return A}).join("").match(wP).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const S=A[0];if(S==="'")return{isToken:!1,value:EP(A)};if(Hw[S])return{isToken:!0,value:A};if(S.match(CP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:A}});i.localize.preprocessor&&(g=i.localize.preprocessor(m,g));const p={firstWeekContainsDate:a,weekStartsOn:u,locale:i};return g.map(A=>{if(!A.isToken)return A.value;const S=A.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&pP(S)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&mP(S))&&gP(S,t,String(e));const D=Hw[S[0]];return D(m,S,i.localize,p)}).join("")}function EP(e){const t=e.match(vP);return t?t[1].replace(bP,"'"):e}function SP(e,t,n){const r=tu(),i=(n==null?void 0:n.locale)??r.locale??AE,a=2520,u=dd(e,t);if(isNaN(u))throw new RangeError("Invalid time value");const m=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:u});let g,p;u>0?(g=At(t),p=At(e)):(g=At(e),p=At(t));const w=_k(p,g),v=(Yd(p)-Yd(g))/1e3,E=Math.round((w-v)/60);let N;if(E<2)return n!=null&&n.includeSeconds?w<5?i.formatDistance("lessThanXSeconds",5,m):w<10?i.formatDistance("lessThanXSeconds",10,m):w<20?i.formatDistance("lessThanXSeconds",20,m):w<40?i.formatDistance("halfAMinute",0,m):w<60?i.formatDistance("lessThanXMinutes",1,m):i.formatDistance("xMinutes",1,m):E===0?i.formatDistance("lessThanXMinutes",1,m):i.formatDistance("xMinutes",E,m);if(E<45)return i.formatDistance("xMinutes",E,m);if(E<90)return i.formatDistance("aboutXHours",1,m);if(E<zw){const P=Math.round(E/60);return i.formatDistance("aboutXHours",P,m)}else{if(E<a)return i.formatDistance("xDays",1,m);if(E<Gu){const P=Math.round(E/zw);return i.formatDistance("xDays",P,m)}else if(E<Gu*2)return N=Math.round(E/Gu),i.formatDistance("aboutXMonths",N,m)}if(N=Ak(p,g),N<12){const P=Math.round(E/Gu);return i.formatDistance("xMonths",P,m)}else{const P=N%12,T=Math.trunc(N/12);return P<3?i.formatDistance("aboutXYears",T,m):P<9?i.formatDistance("overXYears",T,m):i.formatDistance("almostXYears",T+1,m)}}function AP(e,t){return SP(e,gk(e),t)}const _P={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},NP=(e,t,n)=>{let r;const i=_P[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},TP={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},IP={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},RP={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},OP={date:ka({formats:TP,defaultWidth:"full"}),time:ka({formats:IP,defaultWidth:"full"}),dateTime:ka({formats:RP,defaultWidth:"full"})},kP={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},PP=(e,t,n,r)=>{const i=kP[e];return typeof i=="function"?i(t):i},DP={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},jP={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},MP={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},LP={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},BP={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},FP={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},UP=(e,t)=>{const n=Number(e);return(t==null?void 0:t.unit)==="week"?n+"":n+""},WP={ordinalNumber:UP,era:hs({values:DP,defaultWidth:"wide"}),quarter:hs({values:jP,defaultWidth:"wide",argumentCallback:e=>e-1}),month:hs({values:MP,defaultWidth:"wide"}),day:hs({values:LP,defaultWidth:"wide"}),dayPeriod:hs({values:BP,defaultWidth:"wide",formattingValues:FP,defaultFormattingWidth:"wide"})},zP=/^(\d+)[o]?/i,VP=/\d+/i,HP={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},$P={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},GP={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},qP={any:[/1/i,/2/i,/3/i,/4/i]},XP={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},YP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},KP={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},QP={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},ZP={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},JP={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},e5={ordinalNumber:SE({matchPattern:zP,parsePattern:VP,valueCallback:e=>parseInt(e,10)}),era:ms({matchPatterns:HP,defaultMatchWidth:"wide",parsePatterns:$P,defaultParseWidth:"any"}),quarter:ms({matchPatterns:GP,defaultMatchWidth:"wide",parsePatterns:qP,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ms({matchPatterns:XP,defaultMatchWidth:"wide",parsePatterns:YP,defaultParseWidth:"any"}),day:ms({matchPatterns:KP,defaultMatchWidth:"wide",parsePatterns:QP,defaultParseWidth:"any"}),dayPeriod:ms({matchPatterns:ZP,defaultMatchWidth:"any",parsePatterns:JP,defaultParseWidth:"any"})},_o={code:"pt-BR",formatDistance:NP,formatLong:OP,formatRelative:PP,localize:WP,match:e5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function t5({isOpen:e,onClose:t}){const{notifications:n,unreadCount:r,loading:i,subscribeToPush:a,unsubscribeFromPush:u,markAsRead:m,markAllAsRead:g,isSubscribed:p}=_C(),[w,v]=C.useState(!1),E=kr(),N=async()=>{v(!0);try{await a()}finally{v(!1)}},P=async()=>{v(!0);try{await u()}finally{v(!1)}},T=I=>{switch(I){case"asset_created":case"asset_updated":case"asset_deleted":return h.jsx(Bt,{className:"h-4 w-4"});case"app_update":return h.jsx(O1,{className:"h-4 w-4"});default:return h.jsx(ql,{className:"h-4 w-4"})}},k=I=>{switch(I){case"asset_created":return"text-green-600 bg-green-50";case"asset_updated":return"text-blue-600 bg-blue-50";case"asset_deleted":return"text-red-600 bg-red-50";case"app_update":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}};return e?h.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-start justify-end p-4",onClick:()=>t(),children:h.jsxs(Je,{className:"w-full max-w-md h-[80vh] flex flex-col",onClick:I=>I.stopPropagation(),children:[h.jsxs(St,{className:"flex-shrink-0",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs(Et,{className:"flex items-center gap-2",children:[h.jsx(ql,{className:"h-5 w-5"}),"Notificaes",r>0&&h.jsx(tn,{variant:"destructive",className:"ml-2",children:r})]}),h.jsx(ke,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0",children:h.jsx(zo,{className:"h-4 w-4"})})]}),h.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[p?h.jsxs(ke,{size:"sm",variant:"outline",onClick:P,disabled:w,className:"flex-1",children:[h.jsx(w8,{className:"h-4 w-4 mr-2"}),w?"Desativando...":"Desativar Notificaes"]}):h.jsxs(ke,{size:"sm",onClick:N,disabled:w,className:"flex-1",children:[h.jsx(ql,{className:"h-4 w-4 mr-2"}),w?"Ativando...":"Ativar Notificaes"]}),r>0&&h.jsx(ke,{size:"sm",variant:"ghost",onClick:g,className:"px-2",children:h.jsx(y8,{className:"h-4 w-4"})})]})]}),h.jsx(Wf,{}),h.jsx(vE,{className:"flex-1 p-4",children:i?h.jsx("div",{className:"flex items-center justify-center h-32",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n.filter(I=>I.type!=="app_update").length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-gray-500",children:[h.jsx(ql,{className:"h-12 w-12 mb-2 opacity-50"}),h.jsx("p",{className:"text-sm",children:"Nenhuma notificao"})]}):h.jsx("div",{className:"space-y-3",children:n.filter(I=>I.type!=="app_update").map(I=>{const A=I.type==="asset_created"||I.type==="asset_updated";let S;A&&I.data&&typeof I.data=="object"&&"asset_id"in I.data&&(S=I.data.asset_id);const D=()=>{m(I.id),A&&S&&(t(),E(`/assets/${S}`))};return h.jsx("div",{className:`p-3 rounded-lg border transition-colors ${I.read_at?"bg-gray-50 border-gray-200":"bg-white border-blue-200 shadow-sm"} ${A&&S?"cursor-pointer hover:bg-blue-50":""}`,onClick:A&&S?D:()=>m(I.id),children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:`p-2 rounded-full ${k(I.type)}`,children:T(I.type)}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsx("h4",{className:"font-medium text-sm text-gray-900",children:I.title}),!I.read_at&&h.jsx(ke,{size:"sm",variant:"ghost",onClick:W=>{W.stopPropagation(),m(I.id)},className:"h-6 w-6 p-0",children:h.jsx(fp,{className:"h-3 w-3"})})]}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:I.body}),h.jsx("p",{className:"text-xs text-gray-400 mt-2",children:AP(new Date(I.created_at),{addSuffix:!0,locale:_o})})]})]})},I.id)})})})]})}):null}function n5(){const{profile:e,company:t,signOut:n}=An(),{unreadCount:r}=_C(),[i,a]=C.useState(!1),u=m=>{const g={admin:"bg-red-100 text-red-800",editor:"bg-yellow-100 text-yellow-800",viewer:"bg-green-100 text-green-800"},p={admin:"Administrador",editor:"Editor",viewer:"Visualizador"};return h.jsx(tn,{className:g[m],children:p[m]})};return h.jsxs(h.Fragment,{children:[h.jsx("header",{className:"bg-white border-b border-gray-200 px-0 py-0 sm:px-2 sm:py-2 md:px-6 md:py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-4 min-w-0 flex-1",children:[h.jsx(YO,{}),t&&h.jsxs("div",{className:"hidden lg:flex items-center text-gray-600 min-w-0 space-x-3",children:[h.jsx(up,{className:"h-4 w-4 mr-2 flex-shrink-0"}),h.jsx("span",{className:"text-sm font-medium break-words",children:t.name}),(e==null?void 0:e.role)==="admin"&&t.plan!=="enterprise"&&h.jsx(iE,{plan:t.plan})]})]}),h.jsxs("div",{className:"flex items-center space-x-4 flex-shrink-0",children:[h.jsxs(ke,{variant:"ghost",size:"sm",onClick:()=>a(!0),className:"relative",children:[h.jsx(ql,{className:"h-4 w-4"}),r>0&&h.jsx(tn,{variant:"destructive",className:"absolute -top-1 -left-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:r>9?"9+":r})]}),e&&h.jsxs("div",{className:"hidden md:block text-right",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 break-words",children:e.name}),u(e.role)]}),h.jsxs(ke,{variant:"ghost",size:"sm",onClick:n,className:"hidden md:flex",children:[h.jsx(mp,{className:"h-4 w-4 mr-2"}),"Sair"]})]})]})}),h.jsx(t5,{isOpen:i,onClose:()=>a(!1)})]})}function r5(){const{data:e}=eu(),{toast:t}=Hn();return C.useEffect(()=>{e&&(e.isAssetsLimitReached?t({title:"Limite de ativos atingido",description:`Voc atingiu o limite de ${e.assetsLimit} ativos do seu plano. Faa upgrade para adicionar mais ativos.`,variant:"destructive",duration:8e3}):e.isAssetsLimitWarning&&t({title:"Aproximando do limite de ativos",description:`Voc est usando ${e.assetsUsage}% do seu limite de ativos. Considere fazer upgrade do seu plano.`,variant:"destructive",duration:6e3}),e.isUsersLimitReached?t({title:"Limite de usurios atingido",description:`Voc atingiu o limite de ${e.usersLimit} usurios do seu plano. Faa upgrade para adicionar mais usurios.`,variant:"destructive",duration:8e3}):e.isUsersLimitWarning&&t({title:"Aproximando do limite de usurios",description:`Voc est usando ${e.usersUsage}% do seu limite de usurios. Considere fazer upgrade do seu plano.`,variant:"destructive",duration:6e3}))},[e,t]),{planLimits:e,showLimitWarning:n=>{e&&(n==="assets"&&e.isAssetsLimitWarning&&t({title:"Aproximando do limite de ativos",description:`Voc est usando ${e.assetsUsage}% do seu limite de ativos. Considere fazer upgrade do seu plano.`,variant:"destructive"}),n==="users"&&e.isUsersLimitWarning&&t({title:"Aproximando do limite de usurios",description:`Voc est usando ${e.usersUsage}% do seu limite de usurios. Considere fazer upgrade do seu plano.`,variant:"destructive"}))}}}const TE=C.createContext(null);function As({children:e}){const t=C.useRef(null);return r5(),h.jsx(TE.Provider,{value:t,children:h.jsxs("div",{className:"flex h-screen bg-gray-50",children:[h.jsx(DR,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(n5,{}),h.jsx("main",{ref:t,className:"flex-1 overflow-y-auto bg-gray-50 px-4 md:px-6 pt-6 pb-20",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]})})}function s5(){const[e,t]=C.useState(!1),[n,r]=C.useState(!1),[i,a]=C.useState(!1),[u,m]=C.useState(null);return C.useEffect(()=>{const p=()=>{window.matchMedia("(display-mode: standalone)").matches&&(r(!0),t(!1))},w=N=>{N.preventDefault(),m(N),t(!0),a(!0)},v=()=>{r(!0),t(!1),a(!1),m(null)},E=async()=>{if("serviceWorker"in navigator)try{const N=await navigator.serviceWorker.register("/sw.js");console.log("Service Worker registrado com sucesso:",N)}catch(N){console.error("Erro ao registrar Service Worker:",N)}};return p(),E(),window.addEventListener("beforeinstallprompt",w),window.addEventListener("appinstalled",v),()=>{window.removeEventListener("beforeinstallprompt",w),window.removeEventListener("appinstalled",v)}},[]),{isInstallable:e,isInstalled:n,installApp:async()=>{if(!u){console.log("Prompt de instalao no disponvel");return}try{await u.prompt();const{outcome:p}=await u.userChoice;p==="accepted"?(console.log("Usurio aceitou a instalao"),r(!0),t(!1),a(!1)):console.log("Usurio recusou a instalao"),m(null)}catch(p){console.error("Erro durante a instalao:",p)}},showInstallPrompt:i,setShowInstallPrompt:a}}function i5(){const{isInstallable:e,showInstallPrompt:t,setShowInstallPrompt:n,installApp:r}=s5();return!e||!t?null:h.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-4 md:right-auto md:w-80",children:h.jsx(Je,{className:"shadow-lg border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:h.jsx(tt,{className:"p-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"bg-blue-600 p-2 rounded-full flex-shrink-0",children:h.jsx(Bt,{className:"h-5 w-5 text-white"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Instalar Armazena"}),h.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Instale o app na tela inicial para acesso rpido e funcionalidade offline"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(ke,{onClick:r,size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[h.jsx(E8,{className:"h-4 w-4 mr-2"}),"Instalar"]}),h.jsx(ke,{onClick:()=>n(!1),variant:"outline",size:"sm",className:"px-3",children:h.jsx(zo,{className:"h-4 w-4"})})]})]})]})})})})}async function o5(){try{const{error:e}=await qe.rpc("create_app_update_notification");if(e)throw e;console.log("Notificao de atualizao do app criada")}catch(e){console.error("Erro ao enviar notificao de atualizao:",e)}}function a5(){const[e,t]=C.useState(!1);C.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",()=>{t(!0),o5()})},[]);const n=()=>{window.location.reload()};return e?h.jsx("div",{className:"fixed top-4 left-4 right-4 z-50 md:left-4 md:right-auto md:w-80",children:h.jsx(Je,{className:"shadow-lg border-green-200 bg-gradient-to-r from-green-50 to-emerald-50",children:h.jsx(tt,{className:"p-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"bg-green-600 p-2 rounded-full flex-shrink-0",children:h.jsx(O1,{className:"h-5 w-5 text-white"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Nova verso disponvel"}),h.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Uma nova verso do Armazena est disponvel. Atualize para obter as ltimas funcionalidades."}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(ke,{onClick:n,size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",children:[h.jsx(O1,{className:"h-4 w-4 mr-2"}),"Atualizar"]}),h.jsx(ke,{onClick:()=>t(!1),variant:"outline",size:"sm",className:"px-3",children:h.jsx(zo,{className:"h-4 w-4"})})]})]})]})})})}):null}const l5=hl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Un=C.forwardRef(({className:e,variant:t,...n},r)=>h.jsx("div",{ref:r,role:"alert",className:Pe(l5({variant:t}),e),...n}));Un.displayName="Alert";const c5=C.forwardRef(({className:e,...t},n)=>h.jsx("h5",{ref:n,className:Pe("mb-1 font-medium leading-none tracking-tight",e),...t}));c5.displayName="AlertTitle";const Wn=C.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:Pe("text-sm [&_p]:leading-relaxed",e),...t}));Wn.displayName="AlertDescription";function u5(){const[e,t]=C.useState(navigator.onLine);return C.useEffect(()=>{const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),e?null:h.jsx("div",{className:"fixed top-4 left-4 right-4 z-50 md:left-4 md:right-auto md:w-80",children:h.jsxs(Un,{className:"border-orange-200 bg-orange-50",children:[h.jsx(O8,{className:"h-4 w-4 text-orange-600"}),h.jsx(Wn,{className:"text-orange-800",children:"Voc est offline. Algumas funcionalidades podem no estar disponveis."})]})})}const pt=C.forwardRef(({className:e,type:t,...n},r)=>h.jsx("input",{type:t,className:Pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));pt.displayName="Input";var d5="Label",IE=C.forwardRef((e,t)=>h.jsx(Ve.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));IE.displayName=d5;var RE=IE;const f5=hl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ct=C.forwardRef(({className:e,...t},n)=>h.jsx(RE,{ref:n,className:Pe(f5(),e),...t}));ct.displayName=RE.displayName;const nu=Op,Hf=kp,h5=Pp,OE=C.forwardRef(({className:e,...t},n)=>h.jsx(Kc,{ref:n,className:Pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));OE.displayName=Kc.displayName;const xl=C.forwardRef(({className:e,children:t,...n},r)=>h.jsxs(h5,{children:[h.jsx(OE,{}),h.jsxs(Qc,{ref:r,className:Pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,h.jsxs(Uf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(zo,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xl.displayName=Qc.displayName;const ru=({className:e,...t})=>h.jsx("div",{className:Pe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ru.displayName="DialogHeader";const kE=({className:e,...t})=>h.jsx("div",{className:Pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});kE.displayName="DialogFooter";const su=C.forwardRef(({className:e,...t},n)=>h.jsx(Zc,{ref:n,className:Pe("text-lg font-semibold leading-none tracking-tight",e),...t}));su.displayName=Zc.displayName;const $f=C.forwardRef(({className:e,...t},n)=>h.jsx(Jc,{ref:n,className:Pe("text-sm text-muted-foreground",e),...t}));$f.displayName=Jc.displayName;function m5(){var B,L;const[e,t]=C.useState(""),[n,r]=C.useState(""),[i,a]=C.useState(!1),[u,m]=C.useState(!1),[g,p]=C.useState(""),[w,v]=C.useState(""),[E,N]=C.useState(!1),[P,T]=C.useState(!1),{signIn:k}=An(),I=kr(),A=vs(),{toast:S}=Hn(),D=((L=(B=A.state)==null?void 0:B.from)==null?void 0:L.pathname)||"/dashboard",W=async j=>{j.preventDefault(),p(""),m(!0);try{if(await k(e,n)==="inactive"){I("/acesso-negado",{replace:!0});return}S({title:"Login realizado com sucesso!",description:"Bem-vindo ao Armazena"}),I(D,{replace:!0})}catch(z){p(z.message||"Erro ao fazer login")}finally{m(!1)}},V=async j=>{j.preventDefault(),N(!0);try{const{error:z}=await qe.auth.resetPasswordForEmail(w,{redirectTo:`${window.location.origin}/login`});if(z)throw z;S({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir sua senha."}),T(!1),v("")}catch(z){S({title:"Erro ao enviar email",description:z.message||"Erro ao enviar email de redefinio",variant:"destructive"})}finally{N(!1)}};return h.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50 px-4",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:h.jsx(Bt,{className:"h-8 w-8 text-white"})})}),h.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Armazena App"}),h.jsx("p",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Sistema de Gesto de Ativos"})]}),h.jsxs(Je,{className:"shadow-lg border-0",children:[h.jsxs(St,{className:"space-y-1",children:[h.jsx(Et,{className:"text-2xl text-center",children:"Entrar"}),h.jsx(js,{className:"text-center",children:"Digite suas credenciais para acessar o sistema"})]}),h.jsxs(tt,{children:[h.jsxs("form",{onSubmit:W,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"email",children:"Email"}),h.jsx(pt,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:j=>t(j.target.value),required:!0,className:"h-11"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"password",children:"Senha"}),h.jsxs("div",{className:"relative",children:[h.jsx(pt,{id:"password",type:i?"text":"password",placeholder:"Sua senha",value:n,onChange:j=>r(j.target.value),required:!0,className:"h-11 pr-10"}),h.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!i),children:i?h.jsx(S8,{className:"h-4 w-4 text-gray-400"}):h.jsx(Wb,{className:"h-4 w-4 text-gray-400"})})]})]}),g&&h.jsx(Un,{variant:"destructive",children:h.jsx(Wn,{children:g})}),h.jsx(ke,{type:"submit",className:"w-full h-11",disabled:u,children:u?"Entrando...":"Entrar"})]}),h.jsx("div",{className:"text-center mt-4",children:h.jsxs(nu,{open:P,onOpenChange:T,children:[h.jsx(Hf,{asChild:!0,children:h.jsx(ke,{variant:"link",className:"text-sm text-blue-600 hover:text-blue-800",children:"Esqueci minha senha"})}),h.jsxs(xl,{className:"sm:max-w-[425px]",children:[h.jsxs(ru,{children:[h.jsx(su,{children:"Redefinir senha"}),h.jsx($f,{children:"Digite seu email para receber um link de redefinio de senha."})]}),h.jsxs("form",{onSubmit:V,children:[h.jsx("div",{className:"grid gap-4 py-4",children:h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"resetEmail",children:"Email"}),h.jsx(pt,{id:"resetEmail",type:"email",placeholder:"seu@email.com",value:w,onChange:j=>v(j.target.value),required:!0})]})}),h.jsxs(kE,{children:[h.jsx(ke,{type:"button",variant:"outline",onClick:()=>T(!1),children:"Cancelar"}),h.jsx(ke,{type:"submit",disabled:E,children:E?"Enviando...":"Enviar email"})]})]})]})]})})]})]})]})})}function p5(){kr(),eu();const{data:e}=zs({queryKey:["dashboard-stats"],queryFn:async()=>{const{data:i}=await qe.from("assets").select("*");if(!i)return null;const a=i.length,u=i.filter(v=>v.status==="ativo").length,m=i.filter(v=>v.status==="manuteno").length,g=i.filter(v=>v.status==="baixado").length,p=i.reduce((v,E)=>v+(E.value||0),0),w=i.filter(v=>v.status==="ativo").reduce((v,E)=>v+(E.value||0),0);return{totalAssets:a,activeAssets:u,maintenanceAssets:m,deactivatedAssets:g,totalValue:p,activeValue:w}}}),{data:t}=zs({queryKey:["recent-assets"],queryFn:async()=>{const{data:i}=await qe.from("assets").select("*").order("created_at",{ascending:!1}).limit(5);return i||[]}}),n=i=>{const a={ativo:"bg-green-100 text-green-800",manuteno:"bg-yellow-100 text-yellow-800",baixado:"bg-red-100 text-red-800"};return h.jsx(tn,{className:a[i],children:i.toUpperCase()})},r=i=>{switch(i){case"ativo":return h.jsx(dw,{className:"h-4 w-4 text-green-600"});case"manuteno":return h.jsx(Ic,{className:"h-4 w-4 text-yellow-600"});case"baixado":return h.jsx(ow,{className:"h-4 w-4 text-red-600"});default:return h.jsx(Bt,{className:"h-4 w-4 text-gray-600"})}};return h.jsxs("div",{className:"space-y-8 pb-10",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Viso geral dos seus ativos patrimoniais"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[h.jsxs(Je,{className:"border-0 shadow-md",children:[h.jsxs(St,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(Et,{className:"text-sm font-medium text-gray-600",children:"Total"}),h.jsx(Bt,{className:"h-4 w-4 text-blue-600"})]}),h.jsxs(tt,{children:[h.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(e==null?void 0:e.totalAssets)||0}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Todos os ativos cadastrados"})]})]}),h.jsxs(Je,{className:"border-0 shadow-md",children:[h.jsxs(St,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(Et,{className:"text-sm font-medium text-gray-600",children:"Ativos"}),h.jsx(dw,{className:"h-4 w-4 text-green-600"})]}),h.jsxs(tt,{children:[h.jsx("div",{className:"text-2xl font-bold text-green-700",children:(e==null?void 0:e.activeAssets)||0}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Em operao normal"})]})]}),h.jsxs(Je,{className:"border-0 shadow-md",children:[h.jsxs(St,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(Et,{className:"text-sm font-medium text-gray-600",children:"Manuteno"}),h.jsx(Ic,{className:"h-4 w-4 text-yellow-600"})]}),h.jsxs(tt,{children:[h.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:(e==null?void 0:e.maintenanceAssets)||0}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Em manuteno"})]})]}),h.jsxs(Je,{className:"border-0 shadow-md",children:[h.jsxs(St,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(Et,{className:"text-sm font-medium text-gray-600",children:"Baixados"}),h.jsx(ow,{className:"h-4 w-4 text-red-600"})]}),h.jsxs(tt,{children:[h.jsx("div",{className:"text-2xl font-bold text-red-700",children:(e==null?void 0:e.deactivatedAssets)||0}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Fora de operao"})]})]})]}),h.jsx("div",{className:"w-full",children:h.jsx(Je,{className:"border-0 shadow-md",children:h.jsxs(tt,{className:"flex items-center justify-between p-6",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(Et,{className:"text-sm font-medium text-gray-600",children:"Valor Total"}),h.jsx(hp,{className:"h-4 w-4 text-blue-600"})]}),h.jsx("div",{className:"text-2xl font-bold text-blue-700 break-words",children:zd((e==null?void 0:e.totalValue)||0)})]})})}),h.jsxs(Je,{className:"border-0 shadow-md",children:[h.jsxs(St,{children:[h.jsxs(Et,{className:"flex items-center",children:[h.jsx(Fb,{className:"h-5 w-5 mr-2 text-blue-600"}),"Ativos Recentes"]}),h.jsx(js,{children:"ltimos ativos adicionados ao sistema"})]}),h.jsx(tt,{children:t&&t.length>0?h.jsx("div",{className:"space-y-4",children:t.map(i=>h.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[r(i.status),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900",children:i.name}),h.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[h.jsxs("span",{children:["#",i.code]}),i.location&&h.jsxs(h.Fragment,{children:[h.jsx("span",{children:""}),h.jsx(gp,{className:"h-3 w-3"}),h.jsx("span",{children:i.location})]})]})]})]}),h.jsxs("div",{className:"flex flex-col md:flex-row items-center md:space-x-3 space-y-2 md:space-y-0 mt-2 md:mt-0",children:[i.value&&h.jsx("span",{className:"text-sm font-medium text-gray-900",children:zd(i.value)}),n(i.status),h.jsx("span",{className:"text-xs text-gray-500",children:i.acquisition_date?Pa(new Date(i.acquisition_date),"dd/MM/yyyy",{locale:_o}):"-"})]})]},i.id))}):h.jsxs("div",{className:"text-center py-8",children:[h.jsx(Bt,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum ativo cadastrado"}),h.jsx("p",{className:"text-gray-600",children:"Comece adicionando seus primeiros ativos ao sistema"})]})})]})]})}function PE(){const[e,t]=C.useState(!1),[n,r]=C.useState(!1),[i,a]=C.useState(!1);return C.useEffect(()=>{const u=()=>{const m=window.innerWidth,g=navigator.userAgent,p=m<768,w=m>=768&&m<=1024,v=m>1024,E=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(g);t(p||E&&!w),r(w),a(v&&!E)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),{isMobile:e,isTablet:n,isDesktop:i,isMobileOrTablet:e||n}}const m0=20;function g5(e){const[t,n]=C.useState([]),[r,i]=C.useState(1),[a,u]=C.useState(!0),[m,g]=C.useState(!1),[p,w]=C.useState(!1),v=C.useCallback(async k=>{let I=qe.from("assets").select("*").order("created_at",{ascending:!1});e.search&&(I=I.or(`name.ilike.%${e.search}%,code.ilike.%${e.search}%`)),e.statusFilter!=="all"&&(I=I.eq("status",e.statusFilter)),e.locationFilter!=="all"&&(I=I.eq("location",e.locationFilter));const A=(k-1)*m0,S=A+m0-1,{data:D,error:W}=await I.range(A,S);if(W)throw W;return D||[]},[e.search,e.statusFilter,e.locationFilter]),E=C.useCallback(async k=>{const I=k===1;I?g(!0):w(!0);try{const A=await v(k);n(S=>I?A:[...S,...A]),u(A.length===m0)}finally{I&&g(!1),w(!1)}},[v]),N=C.useCallback(()=>{n([]),i(1),u(!0),w(!1)},[]),P=C.useCallback(()=>{if(!a||p)return;const k=r+1;i(k),E(k)},[a,p,r,E]);C.useEffect(()=>{N()},[e.search,e.statusFilter,e.locationFilter,N]),C.useEffect(()=>{E(r)},[r,E]);const{data:T}=zs({queryKey:["asset-locations"],queryFn:async()=>{const{data:k}=await qe.from("assets").select("location").not("location","is",null);return[...new Set(k==null?void 0:k.map(A=>A.location).filter(Boolean))]}});return{assets:t,loading:m,loadingMore:p,hasMore:a,currentPage:r,resetFilters:N,loadMore:P,locations:T}}const x5=["Nome","Cdigo","Status","Localizao","Valor","Data de Aquisio","Fabricante","Modelo","Cor","Nmero de Srie","Capacidade","Voltagem","Condies","Detentor","Origem","Inalienvel","Observaes"];function w5(){const[e,t]=C.useState(!1),n=g=>{let p=qe.from("assets").select("*").order("created_at",{ascending:!1});return g.search&&(p=p.or(`name.ilike.%${g.search}%,code.ilike.%${g.search}%`)),g.statusFilter!=="all"&&(p=p.eq("status",g.statusFilter)),g.locationFilter!=="all"&&(p=p.eq("location",g.locationFilter)),p},r=g=>{if(g==null)return"";const p=String(g);return p.includes(",")?`"${p.replace(/"/g,'""')}"`:p},i=g=>{const p=g.map(w=>[w.name,w.code,w.status,w.location||"",w.value||"",w.acquisition_date||"",w.manufacturer||"",w.model||"",w.color||"",w.serial_number||"",w.capacity||"",w.voltage||"",w.condition||"",w.holder||"",w.origin||"",w.inalienable?"Sim":"No",w.notes||""].map(r));return[x5.join(","),...p.map(w=>w.join(","))].join(`
`)},a=g=>{const p=new Date,v=new Date(p.getTime()-3*60*60*1e3).toISOString().replace("T","_").slice(0,16).replace(":","")+"h";return`ativos_${g}_${v}.csv`},u=(g,p)=>{const w=new Blob([g],{type:"text/csv;charset=utf-8;"}),v=document.createElement("a"),E=URL.createObjectURL(w);v.setAttribute("href",E),v.setAttribute("download",p),v.style.visibility="hidden",document.body.appendChild(v),v.click(),document.body.removeChild(v)};return{exportLoading:e,exportToCSV:async g=>{t(!0);try{const p=n(g),{data:w,error:v}=await p;if(v||!w||w.length===0)throw new Error("Nenhum ativo encontrado para exportar");const E=i(w),N=a(g.companyName);u(E,N)}finally{t(!1)}}}}function y5(e){const[t,n]=C.useState(!1),r=C.useCallback(()=>{e&&n(e.scrollTop>300)},[e]),i=C.useCallback(()=>{e==null||e.scrollTo({top:0,behavior:"smooth"})},[e]);return C.useEffect(()=>{if(e)return e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)},[e,r]),{showScrollToTop:t,scrollToTop:i}}var DE={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(pn,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,a=!r.document&&!!r.postMessage,u=r.IS_PAPA_WORKER||!1,m={},g=0,p={};function w(L){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(j){var z=W(j);z.chunkSize=parseInt(z.chunkSize),j.step||j.chunk||(z.chunkSize=null),this._handle=new T(z),(this._handle.streamer=this)._config=z}).call(this,L),this.parseChunk=function(j,z){var ee=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<ee){let se=this._config.newline;se||(q=this._config.quoteChar||'"',se=this._handle.guessLineEndings(j,q)),j=[...j.split(se).slice(ee)].join(se)}this.isFirstChunk&&B(this._config.beforeFirstChunk)&&(q=this._config.beforeFirstChunk(j))!==void 0&&(j=q),this.isFirstChunk=!1,this._halted=!1;var ee=this._partialLine+j,q=(this._partialLine="",this._handle.parse(ee,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(j=q.meta.cursor,ee=(this._finished||(this._partialLine=ee.substring(j-this._baseIndex),this._baseIndex=j),q&&q.data&&(this._rowCount+=q.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),u)r.postMessage({results:q,workerId:p.WORKER_ID,finished:ee});else if(B(this._config.chunk)&&!z){if(this._config.chunk(q,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=q=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(q.data),this._completeResults.errors=this._completeResults.errors.concat(q.errors),this._completeResults.meta=q.meta),this._completed||!ee||!B(this._config.complete)||q&&q.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ee||q&&q.meta.paused||this._nextChunk(),q}this._halted=!0},this._sendError=function(j){B(this._config.error)?this._config.error(j):u&&this._config.error&&r.postMessage({workerId:p.WORKER_ID,error:j,finished:!1})}}function v(L){var j;(L=L||{}).chunkSize||(L.chunkSize=p.RemoteChunkSize),w.call(this,L),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(z){this._input=z,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(j=new XMLHttpRequest,this._config.withCredentials&&(j.withCredentials=this._config.withCredentials),a||(j.onload=V(this._chunkLoaded,this),j.onerror=V(this._chunkError,this)),j.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var z,ee=this._config.downloadRequestHeaders;for(z in ee)j.setRequestHeader(z,ee[z])}var q;this._config.chunkSize&&(q=this._start+this._config.chunkSize-1,j.setRequestHeader("Range","bytes="+this._start+"-"+q));try{j.send(this._config.downloadRequestBody)}catch(se){this._chunkError(se.message)}a&&j.status===0&&this._chunkError()}},this._chunkLoaded=function(){j.readyState===4&&(j.status<200||400<=j.status?this._chunkError():(this._start+=this._config.chunkSize||j.responseText.length,this._finished=!this._config.chunkSize||this._start>=(z=>(z=z.getResponseHeader("Content-Range"))!==null?parseInt(z.substring(z.lastIndexOf("/")+1)):-1)(j),this.parseChunk(j.responseText)))},this._chunkError=function(z){z=j.statusText||z,this._sendError(new Error(z))}}function E(L){(L=L||{}).chunkSize||(L.chunkSize=p.LocalChunkSize),w.call(this,L);var j,z,ee=typeof FileReader<"u";this.stream=function(q){this._input=q,z=q.slice||q.webkitSlice||q.mozSlice,ee?((j=new FileReader).onload=V(this._chunkLoaded,this),j.onerror=V(this._chunkError,this)):j=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var q=this._input,se=(this._config.chunkSize&&(se=Math.min(this._start+this._config.chunkSize,this._input.size),q=z.call(q,this._start,se)),j.readAsText(q,this._config.encoding));ee||this._chunkLoaded({target:{result:se}})},this._chunkLoaded=function(q){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(q.target.result)},this._chunkError=function(){this._sendError(j.error)}}function N(L){var j;w.call(this,L=L||{}),this.stream=function(z){return j=z,this._nextChunk()},this._nextChunk=function(){var z,ee;if(!this._finished)return z=this._config.chunkSize,j=z?(ee=j.substring(0,z),j.substring(z)):(ee=j,""),this._finished=!j,this.parseChunk(ee)}}function P(L){w.call(this,L=L||{});var j=[],z=!0,ee=!1;this.pause=function(){w.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){w.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(q){this._input=q,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){ee&&j.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),j.length?this.parseChunk(j.shift()):z=!0},this._streamData=V(function(q){try{j.push(typeof q=="string"?q:q.toString(this._config.encoding)),z&&(z=!1,this._checkIsFinished(),this.parseChunk(j.shift()))}catch(se){this._streamError(se)}},this),this._streamError=V(function(q){this._streamCleanUp(),this._sendError(q)},this),this._streamEnd=V(function(){this._streamCleanUp(),ee=!0,this._streamData("")},this),this._streamCleanUp=V(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function T(L){var j,z,ee,q,se=Math.pow(2,53),re=-se,X=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,fe=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ne=this,Q=0,te=0,he=!1,ue=!1,ge=[],we={data:[],errors:[],meta:{}};function Re(xe){return L.skipEmptyLines==="greedy"?xe.join("").trim()==="":xe.length===1&&xe[0].length===0}function st(){if(we&&ee&&(Ee("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),ee=!1),L.skipEmptyLines&&(we.data=we.data.filter(function(Te){return!Re(Te)})),de()){let Te=function(Ae,He){B(L.transformHeader)&&(Ae=L.transformHeader(Ae,He)),ge.push(Ae)};var pe=Te;if(we)if(Array.isArray(we.data[0])){for(var xe=0;de()&&xe<we.data.length;xe++)we.data[xe].forEach(Te);we.data.splice(0,1)}else we.data.forEach(Te)}function De(Te,Ae){for(var He=L.header?{}:[],ze=0;ze<Te.length;ze++){var Fe=ze,Ye=Te[ze],Ye=((Ne,_e)=>(Mt=>(L.dynamicTypingFunction&&L.dynamicTyping[Mt]===void 0&&(L.dynamicTyping[Mt]=L.dynamicTypingFunction(Mt)),(L.dynamicTyping[Mt]||L.dynamicTyping)===!0))(Ne)?_e==="true"||_e==="TRUE"||_e!=="false"&&_e!=="FALSE"&&((Mt=>{if(X.test(Mt)&&(Mt=parseFloat(Mt),re<Mt&&Mt<se))return 1})(_e)?parseFloat(_e):fe.test(_e)?new Date(_e):_e===""?null:_e):_e)(Fe=L.header?ze>=ge.length?"__parsed_extra":ge[ze]:Fe,Ye=L.transform?L.transform(Ye,Fe):Ye);Fe==="__parsed_extra"?(He[Fe]=He[Fe]||[],He[Fe].push(Ye)):He[Fe]=Ye}return L.header&&(ze>ge.length?Ee("FieldMismatch","TooManyFields","Too many fields: expected "+ge.length+" fields but parsed "+ze,te+Ae):ze<ge.length&&Ee("FieldMismatch","TooFewFields","Too few fields: expected "+ge.length+" fields but parsed "+ze,te+Ae)),He}var Oe;we&&(L.header||L.dynamicTyping||L.transform)&&(Oe=1,!we.data.length||Array.isArray(we.data[0])?(we.data=we.data.map(De),Oe=we.data.length):we.data=De(we.data,0),L.header&&we.meta&&(we.meta.fields=ge),te+=Oe)}function de(){return L.header&&ge.length===0}function Ee(xe,De,Oe,pe){xe={type:xe,code:De,message:Oe},pe!==void 0&&(xe.row=pe),we.errors.push(xe)}B(L.step)&&(q=L.step,L.step=function(xe){we=xe,de()?st():(st(),we.data.length!==0&&(Q+=xe.data.length,L.preview&&Q>L.preview?z.abort():(we.data=we.data[0],q(we,ne))))}),this.parse=function(xe,De,Oe){var pe=L.quoteChar||'"',pe=(L.newline||(L.newline=this.guessLineEndings(xe,pe)),ee=!1,L.delimiter?B(L.delimiter)&&(L.delimiter=L.delimiter(xe),we.meta.delimiter=L.delimiter):((pe=((Te,Ae,He,ze,Fe)=>{var Ye,Ne,_e,Mt;Fe=Fe||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var ve=0;ve<Fe.length;ve++){for(var Pn,Xs=Fe[ve],_t=0,$n=0,ht=0,xn=(_e=void 0,new I({comments:ze,delimiter:Xs,newline:Ae,preview:10}).parse(Te)),un=0;un<xn.data.length;un++)He&&Re(xn.data[un])?ht++:(Pn=xn.data[un].length,$n+=Pn,_e===void 0?_e=Pn:0<Pn&&(_t+=Math.abs(Pn-_e),_e=Pn));0<xn.data.length&&($n/=xn.data.length-ht),(Ne===void 0||_t<=Ne)&&(Mt===void 0||Mt<$n)&&1.99<$n&&(Ne=_t,Ye=Xs,Mt=$n)}return{successful:!!(L.delimiter=Ye),bestDelimiter:Ye}})(xe,L.newline,L.skipEmptyLines,L.comments,L.delimitersToGuess)).successful?L.delimiter=pe.bestDelimiter:(ee=!0,L.delimiter=p.DefaultDelimiter),we.meta.delimiter=L.delimiter),W(L));return L.preview&&L.header&&pe.preview++,j=xe,z=new I(pe),we=z.parse(j,De,Oe),st(),he?{meta:{paused:!0}}:we||{meta:{paused:!1}}},this.paused=function(){return he},this.pause=function(){he=!0,z.abort(),j=B(L.chunk)?"":j.substring(z.getCharIndex())},this.resume=function(){ne.streamer._halted?(he=!1,ne.streamer.parseChunk(j,!0)):setTimeout(ne.resume,3)},this.aborted=function(){return ue},this.abort=function(){ue=!0,z.abort(),we.meta.aborted=!0,B(L.complete)&&L.complete(we),j=""},this.guessLineEndings=function(Te,pe){Te=Te.substring(0,1048576);var pe=new RegExp(k(pe)+"([^]*?)"+k(pe),"gm"),Oe=(Te=Te.replace(pe,"")).split("\r"),pe=Te.split(`
`),Te=1<pe.length&&pe[0].length<Oe[0].length;if(Oe.length===1||Te)return`
`;for(var Ae=0,He=0;He<Oe.length;He++)Oe[He][0]===`
`&&Ae++;return Ae>=Oe.length/2?`\r
`:"\r"}}function k(L){return L.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function I(L){var j=(L=L||{}).delimiter,z=L.newline,ee=L.comments,q=L.step,se=L.preview,re=L.fastMode,X=null,fe=!1,ne=L.quoteChar==null?'"':L.quoteChar,Q=ne;if(L.escapeChar!==void 0&&(Q=L.escapeChar),(typeof j!="string"||-1<p.BAD_DELIMITERS.indexOf(j))&&(j=","),ee===j)throw new Error("Comment character same as delimiter");ee===!0?ee="#":(typeof ee!="string"||-1<p.BAD_DELIMITERS.indexOf(ee))&&(ee=!1),z!==`
`&&z!=="\r"&&z!==`\r
`&&(z=`
`);var te=0,he=!1;this.parse=function(ue,ge,we){if(typeof ue!="string")throw new Error("Input must be a string");var Re=ue.length,st=j.length,de=z.length,Ee=ee.length,xe=B(q),De=[],Oe=[],pe=[],Te=te=0;if(!ue)return _t();if(re||re!==!1&&ue.indexOf(ne)===-1){for(var Ae=ue.split(z),He=0;He<Ae.length;He++){if(pe=Ae[He],te+=pe.length,He!==Ae.length-1)te+=z.length;else if(we)return _t();if(!ee||pe.substring(0,Ee)!==ee){if(xe){if(De=[],Mt(pe.split(j)),$n(),he)return _t()}else Mt(pe.split(j));if(se&&se<=He)return De=De.slice(0,se),_t(!0)}}return _t()}for(var ze=ue.indexOf(j,te),Fe=ue.indexOf(z,te),Ye=new RegExp(k(Q)+k(ne),"g"),Ne=ue.indexOf(ne,te);;)if(ue[te]===ne)for(Ne=te,te++;;){if((Ne=ue.indexOf(ne,Ne+1))===-1)return we||Oe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:De.length,index:te}),Pn();if(Ne===Re-1)return Pn(ue.substring(te,Ne).replace(Ye,ne));if(ne===Q&&ue[Ne+1]===Q)Ne++;else if(ne===Q||Ne===0||ue[Ne-1]!==Q){ze!==-1&&ze<Ne+1&&(ze=ue.indexOf(j,Ne+1));var _e=ve((Fe=Fe!==-1&&Fe<Ne+1?ue.indexOf(z,Ne+1):Fe)===-1?ze:Math.min(ze,Fe));if(ue.substr(Ne+1+_e,st)===j){pe.push(ue.substring(te,Ne).replace(Ye,ne)),ue[te=Ne+1+_e+st]!==ne&&(Ne=ue.indexOf(ne,te)),ze=ue.indexOf(j,te),Fe=ue.indexOf(z,te);break}if(_e=ve(Fe),ue.substring(Ne+1+_e,Ne+1+_e+de)===z){if(pe.push(ue.substring(te,Ne).replace(Ye,ne)),Xs(Ne+1+_e+de),ze=ue.indexOf(j,te),Ne=ue.indexOf(ne,te),xe&&($n(),he))return _t();if(se&&De.length>=se)return _t(!0);break}Oe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:De.length,index:te}),Ne++}}else if(ee&&pe.length===0&&ue.substring(te,te+Ee)===ee){if(Fe===-1)return _t();te=Fe+de,Fe=ue.indexOf(z,te),ze=ue.indexOf(j,te)}else if(ze!==-1&&(ze<Fe||Fe===-1))pe.push(ue.substring(te,ze)),te=ze+st,ze=ue.indexOf(j,te);else{if(Fe===-1)break;if(pe.push(ue.substring(te,Fe)),Xs(Fe+de),xe&&($n(),he))return _t();if(se&&De.length>=se)return _t(!0)}return Pn();function Mt(ht){De.push(ht),Te=te}function ve(ht){var xn=0;return xn=ht!==-1&&(ht=ue.substring(Ne+1,ht))&&ht.trim()===""?ht.length:xn}function Pn(ht){return we||(ht===void 0&&(ht=ue.substring(te)),pe.push(ht),te=Re,Mt(pe),xe&&$n()),_t()}function Xs(ht){te=ht,Mt(pe),pe=[],Fe=ue.indexOf(z,te)}function _t(ht){if(L.header&&!ge&&De.length&&!fe){var xn=De[0],un=Object.create(null),nn=new Set(xn);let bl=!1;for(let Dr=0;Dr<xn.length;Dr++){let yr=xn[Dr];if(un[yr=B(L.transformHeader)?L.transformHeader(yr,Dr):yr]){let Nt,me=un[yr];for(;Nt=yr+"_"+me,me++,nn.has(Nt););nn.add(Nt),xn[Dr]=Nt,un[yr]++,bl=!0,(X=X===null?{}:X)[Nt]=yr}else un[yr]=1,xn[Dr]=yr;nn.add(yr)}bl&&console.warn("Duplicate headers found and renamed."),fe=!0}return{data:De,errors:Oe,meta:{delimiter:j,linebreak:z,aborted:he,truncated:!!ht,cursor:Te+(ge||0),renamedHeaders:X}}}function $n(){q(_t()),De=[],Oe=[]}},this.abort=function(){he=!0},this.getCharIndex=function(){return te}}function A(L){var j=L.data,z=m[j.workerId],ee=!1;if(j.error)z.userError(j.error,j.file);else if(j.results&&j.results.data){var q={abort:function(){ee=!0,S(j.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:D,resume:D};if(B(z.userStep)){for(var se=0;se<j.results.data.length&&(z.userStep({data:j.results.data[se],errors:j.results.errors,meta:j.results.meta},q),!ee);se++);delete j.results}else B(z.userChunk)&&(z.userChunk(j.results,q,j.file),delete j.results)}j.finished&&!ee&&S(j.workerId,j.results)}function S(L,j){var z=m[L];B(z.userComplete)&&z.userComplete(j),z.terminate(),delete m[L]}function D(){throw new Error("Not implemented.")}function W(L){if(typeof L!="object"||L===null)return L;var j,z=Array.isArray(L)?[]:{};for(j in L)z[j]=W(L[j]);return z}function V(L,j){return function(){L.apply(j,arguments)}}function B(L){return typeof L=="function"}return p.parse=function(L,j){var z=(j=j||{}).dynamicTyping||!1;if(B(z)&&(j.dynamicTypingFunction=z,z={}),j.dynamicTyping=z,j.transform=!!B(j.transform)&&j.transform,!j.worker||!p.WORKERS_SUPPORTED)return z=null,p.NODE_STREAM_INPUT,typeof L=="string"?(L=(ee=>ee.charCodeAt(0)!==65279?ee:ee.slice(1))(L),z=new(j.download?v:N)(j)):L.readable===!0&&B(L.read)&&B(L.on)?z=new P(j):(r.File&&L instanceof File||L instanceof Object)&&(z=new E(j)),z.stream(L);(z=(()=>{var ee;return!!p.WORKERS_SUPPORTED&&(ee=(()=>{var q=r.URL||r.webkitURL||null,se=n.toString();return p.BLOB_URL||(p.BLOB_URL=q.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",se,")();"],{type:"text/javascript"})))})(),(ee=new r.Worker(ee)).onmessage=A,ee.id=g++,m[ee.id]=ee)})()).userStep=j.step,z.userChunk=j.chunk,z.userComplete=j.complete,z.userError=j.error,j.step=B(j.step),j.chunk=B(j.chunk),j.complete=B(j.complete),j.error=B(j.error),delete j.worker,z.postMessage({input:L,config:j,workerId:z.id})},p.unparse=function(L,j){var z=!1,ee=!0,q=",",se=`\r
`,re='"',X=re+re,fe=!1,ne=null,Q=!1,te=((()=>{if(typeof j=="object"){if(typeof j.delimiter!="string"||p.BAD_DELIMITERS.filter(function(ge){return j.delimiter.indexOf(ge)!==-1}).length||(q=j.delimiter),typeof j.quotes!="boolean"&&typeof j.quotes!="function"&&!Array.isArray(j.quotes)||(z=j.quotes),typeof j.skipEmptyLines!="boolean"&&typeof j.skipEmptyLines!="string"||(fe=j.skipEmptyLines),typeof j.newline=="string"&&(se=j.newline),typeof j.quoteChar=="string"&&(re=j.quoteChar),typeof j.header=="boolean"&&(ee=j.header),Array.isArray(j.columns)){if(j.columns.length===0)throw new Error("Option columns is empty");ne=j.columns}j.escapeChar!==void 0&&(X=j.escapeChar+re),j.escapeFormulae instanceof RegExp?Q=j.escapeFormulae:typeof j.escapeFormulae=="boolean"&&j.escapeFormulae&&(Q=/^[=+\-@\t\r].*$/)}})(),new RegExp(k(re),"g"));if(typeof L=="string"&&(L=JSON.parse(L)),Array.isArray(L)){if(!L.length||Array.isArray(L[0]))return he(null,L,fe);if(typeof L[0]=="object")return he(ne||Object.keys(L[0]),L,fe)}else if(typeof L=="object")return typeof L.data=="string"&&(L.data=JSON.parse(L.data)),Array.isArray(L.data)&&(L.fields||(L.fields=L.meta&&L.meta.fields||ne),L.fields||(L.fields=Array.isArray(L.data[0])?L.fields:typeof L.data[0]=="object"?Object.keys(L.data[0]):[]),Array.isArray(L.data[0])||typeof L.data[0]=="object"||(L.data=[L.data])),he(L.fields||[],L.data||[],fe);throw new Error("Unable to serialize unrecognized input");function he(ge,we,Re){var st="",de=(typeof ge=="string"&&(ge=JSON.parse(ge)),typeof we=="string"&&(we=JSON.parse(we)),Array.isArray(ge)&&0<ge.length),Ee=!Array.isArray(we[0]);if(de&&ee){for(var xe=0;xe<ge.length;xe++)0<xe&&(st+=q),st+=ue(ge[xe],xe);0<we.length&&(st+=se)}for(var De=0;De<we.length;De++){var Oe=(de?ge:we[De]).length,pe=!1,Te=de?Object.keys(we[De]).length===0:we[De].length===0;if(Re&&!de&&(pe=Re==="greedy"?we[De].join("").trim()==="":we[De].length===1&&we[De][0].length===0),Re==="greedy"&&de){for(var Ae=[],He=0;He<Oe;He++){var ze=Ee?ge[He]:He;Ae.push(we[De][ze])}pe=Ae.join("").trim()===""}if(!pe){for(var Fe=0;Fe<Oe;Fe++){0<Fe&&!Te&&(st+=q);var Ye=de&&Ee?ge[Fe]:Fe;st+=ue(we[De][Ye],Fe)}De<we.length-1&&(!Re||0<Oe&&!Te)&&(st+=se)}}return st}function ue(ge,we){var Re,st;return ge==null?"":ge.constructor===Date?JSON.stringify(ge).slice(1,25):(st=!1,Q&&typeof ge=="string"&&Q.test(ge)&&(ge="'"+ge,st=!0),Re=ge.toString().replace(te,X),(st=st||z===!0||typeof z=="function"&&z(ge,we)||Array.isArray(z)&&z[we]||((de,Ee)=>{for(var xe=0;xe<Ee.length;xe++)if(-1<de.indexOf(Ee[xe]))return!0;return!1})(Re,p.BAD_DELIMITERS)||-1<Re.indexOf(q)||Re.charAt(0)===" "||Re.charAt(Re.length-1)===" ")?re+Re+re:Re)}},p.RECORD_SEP="",p.UNIT_SEP="",p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!a&&!!r.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=I,p.ParserHandle=T,p.NetworkStreamer=v,p.FileStreamer=E,p.StringStreamer=N,p.ReadableStreamStreamer=P,r.jQuery&&((i=r.jQuery).fn.parse=function(L){var j=L.config||{},z=[];return this.each(function(se){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var re=0;re<this.files.length;re++)z.push({file:this.files[re],inputElem:this,instanceConfig:i.extend({},j)})}),ee(),this;function ee(){if(z.length===0)B(L.complete)&&L.complete();else{var se,re,X,fe,ne=z[0];if(B(L.before)){var Q=L.before(ne.file,ne.inputElem);if(typeof Q=="object"){if(Q.action==="abort")return se="AbortError",re=ne.file,X=ne.inputElem,fe=Q.reason,void(B(L.error)&&L.error({name:se},re,X,fe));if(Q.action==="skip")return void q();typeof Q.config=="object"&&(ne.instanceConfig=i.extend(ne.instanceConfig,Q.config))}else if(Q==="skip")return void q()}var te=ne.instanceConfig.complete;ne.instanceConfig.complete=function(he){B(te)&&te(he,ne.file,ne.inputElem),q()},p.parse(ne.file,ne.instanceConfig)}}function q(){z.splice(0,1),ee()}}),u&&(r.onmessage=function(L){L=L.data,p.WORKER_ID===void 0&&L&&(p.WORKER_ID=L.workerId),typeof L.input=="string"?r.postMessage({workerId:p.WORKER_ID,results:p.parse(L.input,L.config),finished:!0}):(r.File&&L.input instanceof File||L.input instanceof Object)&&(L=p.parse(L.input,L.config))&&r.postMessage({workerId:p.WORKER_ID,results:L,finished:!0})}),(v.prototype=Object.create(w.prototype)).constructor=v,(E.prototype=Object.create(w.prototype)).constructor=E,(N.prototype=Object.create(N.prototype)).constructor=N,(P.prototype=Object.create(w.prototype)).constructor=P,p})})(DE);var v5=DE.exports;const b5=cf(v5),C5=["top","right","bottom","left"],Wi=Math.min,dr=Math.max,Kd=Math.round,qu=Math.floor,zi=e=>({x:e,y:e}),E5={left:"right",right:"left",bottom:"top",top:"bottom"},S5={start:"end",end:"start"};function $1(e,t,n){return dr(e,Wi(t,n))}function Vs(e,t){return typeof e=="function"?e(t):e}function Hs(e){return e.split("-")[0]}function wl(e){return e.split("-")[1]}function Fp(e){return e==="x"?"y":"x"}function Up(e){return e==="y"?"height":"width"}function Vi(e){return["top","bottom"].includes(Hs(e))?"y":"x"}function Wp(e){return Fp(Vi(e))}function A5(e,t,n){n===void 0&&(n=!1);const r=wl(e),i=Wp(e),a=Up(i);let u=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(u=Qd(u)),[u,Qd(u)]}function _5(e){const t=Qd(e);return[G1(e),t,G1(t)]}function G1(e){return e.replace(/start|end/g,t=>S5[t])}function N5(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],u=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:u;default:return[]}}function T5(e,t,n,r){const i=wl(e);let a=N5(Hs(e),n==="start",r);return i&&(a=a.map(u=>u+"-"+i),t&&(a=a.concat(a.map(G1)))),a}function Qd(e){return e.replace(/left|right|bottom|top/g,t=>E5[t])}function I5(e){return{top:0,right:0,bottom:0,left:0,...e}}function jE(e){return typeof e!="number"?I5(e):{top:e,right:e,bottom:e,left:e}}function Zd(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Xw(e,t,n){let{reference:r,floating:i}=e;const a=Vi(t),u=Wp(t),m=Up(u),g=Hs(t),p=a==="y",w=r.x+r.width/2-i.width/2,v=r.y+r.height/2-i.height/2,E=r[m]/2-i[m]/2;let N;switch(g){case"top":N={x:w,y:r.y-i.height};break;case"bottom":N={x:w,y:r.y+r.height};break;case"right":N={x:r.x+r.width,y:v};break;case"left":N={x:r.x-i.width,y:v};break;default:N={x:r.x,y:r.y}}switch(wl(t)){case"start":N[u]-=E*(n&&p?-1:1);break;case"end":N[u]+=E*(n&&p?-1:1);break}return N}const R5=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:u}=n,m=a.filter(Boolean),g=await(u.isRTL==null?void 0:u.isRTL(t));let p=await u.getElementRects({reference:e,floating:t,strategy:i}),{x:w,y:v}=Xw(p,r,g),E=r,N={},P=0;for(let T=0;T<m.length;T++){const{name:k,fn:I}=m[T],{x:A,y:S,data:D,reset:W}=await I({x:w,y:v,initialPlacement:r,placement:E,strategy:i,middlewareData:N,rects:p,platform:u,elements:{reference:e,floating:t}});w=A??w,v=S??v,N={...N,[k]:{...N[k],...D}},W&&P<=50&&(P++,typeof W=="object"&&(W.placement&&(E=W.placement),W.rects&&(p=W.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:i}):W.rects),{x:w,y:v}=Xw(p,E,g)),T=-1)}return{x:w,y:v,placement:E,strategy:i,middlewareData:N}};async function kc(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:u,elements:m,strategy:g}=e,{boundary:p="clippingAncestors",rootBoundary:w="viewport",elementContext:v="floating",altBoundary:E=!1,padding:N=0}=Vs(t,e),P=jE(N),k=m[E?v==="floating"?"reference":"floating":v],I=Zd(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(k)))==null||n?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(m.floating)),boundary:p,rootBoundary:w,strategy:g})),A=v==="floating"?{x:r,y:i,width:u.floating.width,height:u.floating.height}:u.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(m.floating)),D=await(a.isElement==null?void 0:a.isElement(S))?await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1}:{x:1,y:1},W=Zd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:A,offsetParent:S,strategy:g}):A);return{top:(I.top-W.top+P.top)/D.y,bottom:(W.bottom-I.bottom+P.bottom)/D.y,left:(I.left-W.left+P.left)/D.x,right:(W.right-I.right+P.right)/D.x}}const O5=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:u,elements:m,middlewareData:g}=t,{element:p,padding:w=0}=Vs(e,t)||{};if(p==null)return{};const v=jE(w),E={x:n,y:r},N=Wp(i),P=Up(N),T=await u.getDimensions(p),k=N==="y",I=k?"top":"left",A=k?"bottom":"right",S=k?"clientHeight":"clientWidth",D=a.reference[P]+a.reference[N]-E[N]-a.floating[P],W=E[N]-a.reference[N],V=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let B=V?V[S]:0;(!B||!await(u.isElement==null?void 0:u.isElement(V)))&&(B=m.floating[S]||a.floating[P]);const L=D/2-W/2,j=B/2-T[P]/2-1,z=Wi(v[I],j),ee=Wi(v[A],j),q=z,se=B-T[P]-ee,re=B/2-T[P]/2+L,X=$1(q,re,se),fe=!g.arrow&&wl(i)!=null&&re!==X&&a.reference[P]/2-(re<q?z:ee)-T[P]/2<0,ne=fe?re<q?re-q:re-se:0;return{[N]:E[N]+ne,data:{[N]:X,centerOffset:re-X-ne,...fe&&{alignmentOffset:ne}},reset:fe}}}),k5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:u,initialPlacement:m,platform:g,elements:p}=t,{mainAxis:w=!0,crossAxis:v=!0,fallbackPlacements:E,fallbackStrategy:N="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:T=!0,...k}=Vs(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const I=Hs(i),A=Vi(m),S=Hs(m)===m,D=await(g.isRTL==null?void 0:g.isRTL(p.floating)),W=E||(S||!T?[Qd(m)]:_5(m)),V=P!=="none";!E&&V&&W.push(...T5(m,T,P,D));const B=[m,...W],L=await kc(t,k),j=[];let z=((r=a.flip)==null?void 0:r.overflows)||[];if(w&&j.push(L[I]),v){const re=A5(i,u,D);j.push(L[re[0]],L[re[1]])}if(z=[...z,{placement:i,overflows:j}],!j.every(re=>re<=0)){var ee,q;const re=(((ee=a.flip)==null?void 0:ee.index)||0)+1,X=B[re];if(X)return{data:{index:re,overflows:z},reset:{placement:X}};let fe=(q=z.filter(ne=>ne.overflows[0]<=0).sort((ne,Q)=>ne.overflows[1]-Q.overflows[1])[0])==null?void 0:q.placement;if(!fe)switch(N){case"bestFit":{var se;const ne=(se=z.filter(Q=>{if(V){const te=Vi(Q.placement);return te===A||te==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(te=>te>0).reduce((te,he)=>te+he,0)]).sort((Q,te)=>Q[1]-te[1])[0])==null?void 0:se[0];ne&&(fe=ne);break}case"initialPlacement":fe=m;break}if(i!==fe)return{reset:{placement:fe}}}return{}}}};function Yw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Kw(e){return C5.some(t=>e[t]>=0)}const P5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Vs(e,t);switch(r){case"referenceHidden":{const a=await kc(t,{...i,elementContext:"reference"}),u=Yw(a,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Kw(u)}}}case"escaped":{const a=await kc(t,{...i,altBoundary:!0}),u=Yw(a,n.floating);return{data:{escapedOffsets:u,escaped:Kw(u)}}}default:return{}}}}};async function D5(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),u=Hs(n),m=wl(n),g=Vi(n)==="y",p=["left","top"].includes(u)?-1:1,w=a&&g?-1:1,v=Vs(t,e);let{mainAxis:E,crossAxis:N,alignmentAxis:P}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return m&&typeof P=="number"&&(N=m==="end"?P*-1:P),g?{x:N*w,y:E*p}:{x:E*p,y:N*w}}const j5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:u,middlewareData:m}=t,g=await D5(t,e);return u===((n=m.offset)==null?void 0:n.placement)&&(r=m.arrow)!=null&&r.alignmentOffset?{}:{x:i+g.x,y:a+g.y,data:{...g,placement:u}}}}},M5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:u=!1,limiter:m={fn:k=>{let{x:I,y:A}=k;return{x:I,y:A}}},...g}=Vs(e,t),p={x:n,y:r},w=await kc(t,g),v=Vi(Hs(i)),E=Fp(v);let N=p[E],P=p[v];if(a){const k=E==="y"?"top":"left",I=E==="y"?"bottom":"right",A=N+w[k],S=N-w[I];N=$1(A,N,S)}if(u){const k=v==="y"?"top":"left",I=v==="y"?"bottom":"right",A=P+w[k],S=P-w[I];P=$1(A,P,S)}const T=m.fn({...t,[E]:N,[v]:P});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[E]:a,[v]:u}}}}}},L5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:u}=t,{offset:m=0,mainAxis:g=!0,crossAxis:p=!0}=Vs(e,t),w={x:n,y:r},v=Vi(i),E=Fp(v);let N=w[E],P=w[v];const T=Vs(m,t),k=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(g){const S=E==="y"?"height":"width",D=a.reference[E]-a.floating[S]+k.mainAxis,W=a.reference[E]+a.reference[S]-k.mainAxis;N<D?N=D:N>W&&(N=W)}if(p){var I,A;const S=E==="y"?"width":"height",D=["top","left"].includes(Hs(i)),W=a.reference[v]-a.floating[S]+(D&&((I=u.offset)==null?void 0:I[v])||0)+(D?0:k.crossAxis),V=a.reference[v]+a.reference[S]+(D?0:((A=u.offset)==null?void 0:A[v])||0)-(D?k.crossAxis:0);P<W?P=W:P>V&&(P=V)}return{[E]:N,[v]:P}}}},B5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:u,elements:m}=t,{apply:g=()=>{},...p}=Vs(e,t),w=await kc(t,p),v=Hs(i),E=wl(i),N=Vi(i)==="y",{width:P,height:T}=a.floating;let k,I;v==="top"||v==="bottom"?(k=v,I=E===(await(u.isRTL==null?void 0:u.isRTL(m.floating))?"start":"end")?"left":"right"):(I=v,k=E==="end"?"top":"bottom");const A=T-w.top-w.bottom,S=P-w.left-w.right,D=Wi(T-w[k],A),W=Wi(P-w[I],S),V=!t.middlewareData.shift;let B=D,L=W;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(L=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(B=A),V&&!E){const z=dr(w.left,0),ee=dr(w.right,0),q=dr(w.top,0),se=dr(w.bottom,0);N?L=P-2*(z!==0||ee!==0?z+ee:dr(w.left,w.right)):B=T-2*(q!==0||se!==0?q+se:dr(w.top,w.bottom))}await g({...t,availableWidth:L,availableHeight:B});const j=await u.getDimensions(m.floating);return P!==j.width||T!==j.height?{reset:{rects:!0}}:{}}}};function Gf(){return typeof window<"u"}function yl(e){return ME(e)?(e.nodeName||"").toLowerCase():"#document"}function pr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Cs(e){var t;return(t=(ME(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ME(e){return Gf()?e instanceof Node||e instanceof pr(e).Node:!1}function Yr(e){return Gf()?e instanceof Element||e instanceof pr(e).Element:!1}function ws(e){return Gf()?e instanceof HTMLElement||e instanceof pr(e).HTMLElement:!1}function Qw(e){return!Gf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof pr(e).ShadowRoot}function iu(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Kr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function F5(e){return["table","td","th"].includes(yl(e))}function qf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function zp(e){const t=Vp(),n=Yr(e)?Kr(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function U5(e){let t=Hi(e);for(;ws(t)&&!il(t);){if(zp(t))return t;if(qf(t))return null;t=Hi(t)}return null}function Vp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function il(e){return["html","body","#document"].includes(yl(e))}function Kr(e){return pr(e).getComputedStyle(e)}function Xf(e){return Yr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Hi(e){if(yl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Qw(e)&&e.host||Cs(e);return Qw(t)?t.host:t}function LE(e){const t=Hi(e);return il(t)?e.ownerDocument?e.ownerDocument.body:e.body:ws(t)&&iu(t)?t:LE(t)}function Pc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=LE(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),u=pr(i);if(a){const m=q1(u);return t.concat(u,u.visualViewport||[],iu(i)?i:[],m&&n?Pc(m):[])}return t.concat(i,Pc(i,[],n))}function q1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function BE(e){const t=Kr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ws(e),a=i?e.offsetWidth:n,u=i?e.offsetHeight:r,m=Kd(n)!==a||Kd(r)!==u;return m&&(n=a,r=u),{width:n,height:r,$:m}}function Hp(e){return Yr(e)?e:e.contextElement}function Da(e){const t=Hp(e);if(!ws(t))return zi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=BE(t);let u=(a?Kd(n.width):n.width)/r,m=(a?Kd(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!m||!Number.isFinite(m))&&(m=1),{x:u,y:m}}const W5=zi(0);function FE(e){const t=pr(e);return!Vp()||!t.visualViewport?W5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function z5(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==pr(e)?!1:t}function Lo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=Hp(e);let u=zi(1);t&&(r?Yr(r)&&(u=Da(r)):u=Da(e));const m=z5(a,n,r)?FE(a):zi(0);let g=(i.left+m.x)/u.x,p=(i.top+m.y)/u.y,w=i.width/u.x,v=i.height/u.y;if(a){const E=pr(a),N=r&&Yr(r)?pr(r):r;let P=E,T=q1(P);for(;T&&r&&N!==P;){const k=Da(T),I=T.getBoundingClientRect(),A=Kr(T),S=I.left+(T.clientLeft+parseFloat(A.paddingLeft))*k.x,D=I.top+(T.clientTop+parseFloat(A.paddingTop))*k.y;g*=k.x,p*=k.y,w*=k.x,v*=k.y,g+=S,p+=D,P=pr(T),T=q1(P)}}return Zd({width:w,height:v,x:g,y:p})}function V5(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",u=Cs(r),m=t?qf(t.floating):!1;if(r===u||m&&a)return n;let g={scrollLeft:0,scrollTop:0},p=zi(1);const w=zi(0),v=ws(r);if((v||!v&&!a)&&((yl(r)!=="body"||iu(u))&&(g=Xf(r)),ws(r))){const E=Lo(r);p=Da(r),w.x=E.x+r.clientLeft,w.y=E.y+r.clientTop}return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-g.scrollLeft*p.x+w.x,y:n.y*p.y-g.scrollTop*p.y+w.y}}function H5(e){return Array.from(e.getClientRects())}function X1(e,t){const n=Xf(e).scrollLeft;return t?t.left+n:Lo(Cs(e)).left+n}function $5(e){const t=Cs(e),n=Xf(e),r=e.ownerDocument.body,i=dr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=dr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let u=-n.scrollLeft+X1(e);const m=-n.scrollTop;return Kr(r).direction==="rtl"&&(u+=dr(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:u,y:m}}function G5(e,t){const n=pr(e),r=Cs(e),i=n.visualViewport;let a=r.clientWidth,u=r.clientHeight,m=0,g=0;if(i){a=i.width,u=i.height;const p=Vp();(!p||p&&t==="fixed")&&(m=i.offsetLeft,g=i.offsetTop)}return{width:a,height:u,x:m,y:g}}function q5(e,t){const n=Lo(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=ws(e)?Da(e):zi(1),u=e.clientWidth*a.x,m=e.clientHeight*a.y,g=i*a.x,p=r*a.y;return{width:u,height:m,x:g,y:p}}function Zw(e,t,n){let r;if(t==="viewport")r=G5(e,n);else if(t==="document")r=$5(Cs(e));else if(Yr(t))r=q5(t,n);else{const i=FE(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Zd(r)}function UE(e,t){const n=Hi(e);return n===t||!Yr(n)||il(n)?!1:Kr(n).position==="fixed"||UE(n,t)}function X5(e,t){const n=t.get(e);if(n)return n;let r=Pc(e,[],!1).filter(m=>Yr(m)&&yl(m)!=="body"),i=null;const a=Kr(e).position==="fixed";let u=a?Hi(e):e;for(;Yr(u)&&!il(u);){const m=Kr(u),g=zp(u);!g&&m.position==="fixed"&&(i=null),(a?!g&&!i:!g&&m.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||iu(u)&&!g&&UE(e,u))?r=r.filter(w=>w!==u):i=m,u=Hi(u)}return t.set(e,r),r}function Y5(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const u=[...n==="clippingAncestors"?qf(t)?[]:X5(t,this._c):[].concat(n),r],m=u[0],g=u.reduce((p,w)=>{const v=Zw(t,w,i);return p.top=dr(v.top,p.top),p.right=Wi(v.right,p.right),p.bottom=Wi(v.bottom,p.bottom),p.left=dr(v.left,p.left),p},Zw(t,m,i));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function K5(e){const{width:t,height:n}=BE(e);return{width:t,height:n}}function Q5(e,t,n){const r=ws(t),i=Cs(t),a=n==="fixed",u=Lo(e,!0,a,t);let m={scrollLeft:0,scrollTop:0};const g=zi(0);if(r||!r&&!a)if((yl(t)!=="body"||iu(i))&&(m=Xf(t)),r){const N=Lo(t,!0,a,t);g.x=N.x+t.clientLeft,g.y=N.y+t.clientTop}else i&&(g.x=X1(i));let p=0,w=0;if(i&&!r&&!a){const N=i.getBoundingClientRect();w=N.top+m.scrollTop,p=N.left+m.scrollLeft-X1(i,N)}const v=u.left+m.scrollLeft-g.x-p,E=u.top+m.scrollTop-g.y-w;return{x:v,y:E,width:u.width,height:u.height}}function p0(e){return Kr(e).position==="static"}function Jw(e,t){if(!ws(e)||Kr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Cs(e)===n&&(n=n.ownerDocument.body),n}function WE(e,t){const n=pr(e);if(qf(e))return n;if(!ws(e)){let i=Hi(e);for(;i&&!il(i);){if(Yr(i)&&!p0(i))return i;i=Hi(i)}return n}let r=Jw(e,t);for(;r&&F5(r)&&p0(r);)r=Jw(r,t);return r&&il(r)&&p0(r)&&!zp(r)?n:r||U5(e)||n}const Z5=async function(e){const t=this.getOffsetParent||WE,n=this.getDimensions,r=await n(e.floating);return{reference:Q5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function J5(e){return Kr(e).direction==="rtl"}const eD={convertOffsetParentRelativeRectToViewportRelativeRect:V5,getDocumentElement:Cs,getClippingRect:Y5,getOffsetParent:WE,getElementRects:Z5,getClientRects:H5,getDimensions:K5,getScale:Da,isElement:Yr,isRTL:J5};function tD(e,t){let n=null,r;const i=Cs(e);function a(){var m;clearTimeout(r),(m=n)==null||m.disconnect(),n=null}function u(m,g){m===void 0&&(m=!1),g===void 0&&(g=1),a();const{left:p,top:w,width:v,height:E}=e.getBoundingClientRect();if(m||t(),!v||!E)return;const N=qu(w),P=qu(i.clientWidth-(p+v)),T=qu(i.clientHeight-(w+E)),k=qu(p),A={rootMargin:-N+"px "+-P+"px "+-T+"px "+-k+"px",threshold:dr(0,Wi(1,g))||1};let S=!0;function D(W){const V=W[0].intersectionRatio;if(V!==g){if(!S)return u();V?u(!1,V):r=setTimeout(()=>{u(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(D,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,A)}n.observe(e)}return u(!0),a}function nD(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:g=!1}=r,p=Hp(e),w=i||a?[...p?Pc(p):[],...Pc(t)]:[];w.forEach(I=>{i&&I.addEventListener("scroll",n,{passive:!0}),a&&I.addEventListener("resize",n)});const v=p&&m?tD(p,n):null;let E=-1,N=null;u&&(N=new ResizeObserver(I=>{let[A]=I;A&&A.target===p&&N&&(N.unobserve(t),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var S;(S=N)==null||S.observe(t)})),n()}),p&&!g&&N.observe(p),N.observe(t));let P,T=g?Lo(e):null;g&&k();function k(){const I=Lo(e);T&&(I.x!==T.x||I.y!==T.y||I.width!==T.width||I.height!==T.height)&&n(),T=I,P=requestAnimationFrame(k)}return n(),()=>{var I;w.forEach(A=>{i&&A.removeEventListener("scroll",n),a&&A.removeEventListener("resize",n)}),v==null||v(),(I=N)==null||I.disconnect(),N=null,g&&cancelAnimationFrame(P)}}const rD=j5,sD=M5,iD=k5,oD=B5,aD=P5,ey=O5,lD=L5,cD=(e,t,n)=>{const r=new Map,i={platform:eD,...n},a={...i.platform,_c:r};return R5(e,t,{...i,platform:a})};var fd=typeof document<"u"?C.useLayoutEffect:C.useEffect;function Jd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Jd(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Jd(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function zE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ty(e,t){const n=zE(e);return Math.round(t*n)/n}function g0(e){const t=C.useRef(e);return fd(()=>{t.current=e}),t}function uD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:u}={},transform:m=!0,whileElementsMounted:g,open:p}=e,[w,v]=C.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[E,N]=C.useState(r);Jd(E,r)||N(r);const[P,T]=C.useState(null),[k,I]=C.useState(null),A=C.useCallback(Q=>{Q!==V.current&&(V.current=Q,T(Q))},[]),S=C.useCallback(Q=>{Q!==B.current&&(B.current=Q,I(Q))},[]),D=a||P,W=u||k,V=C.useRef(null),B=C.useRef(null),L=C.useRef(w),j=g!=null,z=g0(g),ee=g0(i),q=g0(p),se=C.useCallback(()=>{if(!V.current||!B.current)return;const Q={placement:t,strategy:n,middleware:E};ee.current&&(Q.platform=ee.current),cD(V.current,B.current,Q).then(te=>{const he={...te,isPositioned:q.current!==!1};re.current&&!Jd(L.current,he)&&(L.current=he,Wo.flushSync(()=>{v(he)}))})},[E,t,n,ee,q]);fd(()=>{p===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,v(Q=>({...Q,isPositioned:!1})))},[p]);const re=C.useRef(!1);fd(()=>(re.current=!0,()=>{re.current=!1}),[]),fd(()=>{if(D&&(V.current=D),W&&(B.current=W),D&&W){if(z.current)return z.current(D,W,se);se()}},[D,W,se,z,j]);const X=C.useMemo(()=>({reference:V,floating:B,setReference:A,setFloating:S}),[A,S]),fe=C.useMemo(()=>({reference:D,floating:W}),[D,W]),ne=C.useMemo(()=>{const Q={position:n,left:0,top:0};if(!fe.floating)return Q;const te=ty(fe.floating,w.x),he=ty(fe.floating,w.y);return m?{...Q,transform:"translate("+te+"px, "+he+"px)",...zE(fe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:he}},[n,m,fe.floating,w.x,w.y]);return C.useMemo(()=>({...w,update:se,refs:X,elements:fe,floatingStyles:ne}),[w,se,X,fe,ne])}const dD=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?ey({element:r.current,padding:i}).fn(n):{}:r?ey({element:r,padding:i}).fn(n):{}}}},fD=(e,t)=>({...rD(e),options:[e,t]}),hD=(e,t)=>({...sD(e),options:[e,t]}),mD=(e,t)=>({...lD(e),options:[e,t]}),pD=(e,t)=>({...iD(e),options:[e,t]}),gD=(e,t)=>({...oD(e),options:[e,t]}),xD=(e,t)=>({...aD(e),options:[e,t]}),wD=(e,t)=>({...dD(e),options:[e,t]});var yD="Arrow",VE=C.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return h.jsx(Ve.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});VE.displayName=yD;var vD=VE;function bD(e,t=[]){let n=[];function r(a,u){const m=C.createContext(u),g=n.length;n=[...n,u];function p(v){const{scope:E,children:N,...P}=v,T=(E==null?void 0:E[e][g])||m,k=C.useMemo(()=>P,Object.values(P));return h.jsx(T.Provider,{value:k,children:N})}function w(v,E){const N=(E==null?void 0:E[e][g])||m,P=C.useContext(N);if(P)return P;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${a}\``)}return p.displayName=a+"Provider",[p,w]}const i=()=>{const a=n.map(u=>C.createContext(u));return function(m){const g=(m==null?void 0:m[e])||a;return C.useMemo(()=>({[`__scope${e}`]:{...m,[e]:g}}),[m,g])}};return i.scopeName=e,[r,CD(i,...t)]}function CD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=r.reduce((m,{useScope:g,scopeName:p})=>{const v=g(a)[`__scope${p}`];return{...m,...v}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function $p(e){const[t,n]=C.useState(void 0);return Sn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let u,m;if("borderBoxSize"in a){const g=a.borderBoxSize,p=Array.isArray(g)?g[0]:g;u=p.inlineSize,m=p.blockSize}else u=e.offsetWidth,m=e.offsetHeight;n({width:u,height:m})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Gp="Popper",[HE,Yf]=bD(Gp),[ED,$E]=HE(Gp),GE=e=>{const{__scopePopper:t,children:n}=e,[r,i]=C.useState(null);return h.jsx(ED,{scope:t,anchor:r,onAnchorChange:i,children:n})};GE.displayName=Gp;var qE="PopperAnchor",XE=C.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=$E(qE,n),u=C.useRef(null),m=at(t,u);return C.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:h.jsx(Ve.div,{...i,ref:m})});XE.displayName=qE;var qp="PopperContent",[SD,AD]=HE(qp),YE=C.forwardRef((e,t)=>{var Ee,xe,De,Oe,pe,Te;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:u=0,arrowPadding:m=0,avoidCollisions:g=!0,collisionBoundary:p=[],collisionPadding:w=0,sticky:v="partial",hideWhenDetached:E=!1,updatePositionStrategy:N="optimized",onPlaced:P,...T}=e,k=$E(qp,n),[I,A]=C.useState(null),S=at(t,Ae=>A(Ae)),[D,W]=C.useState(null),V=$p(D),B=(V==null?void 0:V.width)??0,L=(V==null?void 0:V.height)??0,j=r+(a!=="center"?"-"+a:""),z=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},ee=Array.isArray(p)?p:[p],q=ee.length>0,se={padding:z,boundary:ee.filter(ND),altBoundary:q},{refs:re,floatingStyles:X,placement:fe,isPositioned:ne,middlewareData:Q}=uD({strategy:"fixed",placement:j,whileElementsMounted:(...Ae)=>nD(...Ae,{animationFrame:N==="always"}),elements:{reference:k.anchor},middleware:[fD({mainAxis:i+L,alignmentAxis:u}),g&&hD({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?mD():void 0,...se}),g&&pD({...se}),gD({...se,apply:({elements:Ae,rects:He,availableWidth:ze,availableHeight:Fe})=>{const{width:Ye,height:Ne}=He.reference,_e=Ae.floating.style;_e.setProperty("--radix-popper-available-width",`${ze}px`),_e.setProperty("--radix-popper-available-height",`${Fe}px`),_e.setProperty("--radix-popper-anchor-width",`${Ye}px`),_e.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),D&&wD({element:D,padding:m}),TD({arrowWidth:B,arrowHeight:L}),E&&xD({strategy:"referenceHidden",...se})]}),[te,he]=ZE(fe),ue=en(P);Sn(()=>{ne&&(ue==null||ue())},[ne,ue]);const ge=(Ee=Q.arrow)==null?void 0:Ee.x,we=(xe=Q.arrow)==null?void 0:xe.y,Re=((De=Q.arrow)==null?void 0:De.centerOffset)!==0,[st,de]=C.useState();return Sn(()=>{I&&de(window.getComputedStyle(I).zIndex)},[I]),h.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:ne?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:st,"--radix-popper-transform-origin":[(Oe=Q.transformOrigin)==null?void 0:Oe.x,(pe=Q.transformOrigin)==null?void 0:pe.y].join(" "),...((Te=Q.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:h.jsx(SD,{scope:n,placedSide:te,onArrowChange:W,arrowX:ge,arrowY:we,shouldHideArrow:Re,children:h.jsx(Ve.div,{"data-side":te,"data-align":he,...T,ref:S,style:{...T.style,animation:ne?void 0:"none"}})})})});YE.displayName=qp;var KE="PopperArrow",_D={top:"bottom",right:"left",bottom:"top",left:"right"},QE=C.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=AD(KE,r),u=_D[a.placedSide];return h.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:h.jsx(vD,{...i,ref:n,style:{...i.style,display:"block"}})})});QE.displayName=KE;function ND(e){return e!==null}var TD=e=>({name:"transformOrigin",options:e,fn(t){var k,I,A;const{placement:n,rects:r,middlewareData:i}=t,u=((k=i.arrow)==null?void 0:k.centerOffset)!==0,m=u?0:e.arrowWidth,g=u?0:e.arrowHeight,[p,w]=ZE(n),v={start:"0%",center:"50%",end:"100%"}[w],E=(((I=i.arrow)==null?void 0:I.x)??0)+m/2,N=(((A=i.arrow)==null?void 0:A.y)??0)+g/2;let P="",T="";return p==="bottom"?(P=u?v:`${E}px`,T=`${-g}px`):p==="top"?(P=u?v:`${E}px`,T=`${r.floating.height+g}px`):p==="right"?(P=`${-g}px`,T=u?v:`${N}px`):p==="left"&&(P=`${r.floating.width+g}px`,T=u?v:`${N}px`),{data:{x:P,y:T}}}});function ZE(e){const[t,n="center"]=e.split("-");return[t,n]}var JE=GE,eS=XE,tS=YE,nS=QE,[Kf,C7]=Yi("Tooltip",[Yf]),Qf=Yf(),rS="TooltipProvider",ID=700,Y1="tooltip.open",[RD,Xp]=Kf(rS),sS=e=>{const{__scopeTooltip:t,delayDuration:n=ID,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,[u,m]=C.useState(!0),g=C.useRef(!1),p=C.useRef(0);return C.useEffect(()=>{const w=p.current;return()=>window.clearTimeout(w)},[]),h.jsx(RD,{scope:t,isOpenDelayed:u,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(p.current),m(!1)},[]),onClose:C.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>m(!0),r)},[r]),isPointerInTransitRef:g,onPointerInTransitChange:C.useCallback(w=>{g.current=w},[]),disableHoverableContent:i,children:a})};sS.displayName=rS;var Zf="Tooltip",[OD,Jf]=Kf(Zf),iS=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:u,delayDuration:m}=e,g=Xp(Zf,e.__scopeTooltip),p=Qf(t),[w,v]=C.useState(null),E=Ao(),N=C.useRef(0),P=u??g.disableHoverableContent,T=m??g.delayDuration,k=C.useRef(!1),[I=!1,A]=jo({prop:r,defaultProp:i,onChange:B=>{B?(g.onOpen(),document.dispatchEvent(new CustomEvent(Y1))):g.onClose(),a==null||a(B)}}),S=C.useMemo(()=>I?k.current?"delayed-open":"instant-open":"closed",[I]),D=C.useCallback(()=>{window.clearTimeout(N.current),N.current=0,k.current=!1,A(!0)},[A]),W=C.useCallback(()=>{window.clearTimeout(N.current),N.current=0,A(!1)},[A]),V=C.useCallback(()=>{window.clearTimeout(N.current),N.current=window.setTimeout(()=>{k.current=!0,A(!0),N.current=0},T)},[T,A]);return C.useEffect(()=>()=>{N.current&&(window.clearTimeout(N.current),N.current=0)},[]),h.jsx(JE,{...p,children:h.jsx(OD,{scope:t,contentId:E,open:I,stateAttribute:S,trigger:w,onTriggerChange:v,onTriggerEnter:C.useCallback(()=>{g.isOpenDelayed?V():D()},[g.isOpenDelayed,V,D]),onTriggerLeave:C.useCallback(()=>{P?W():(window.clearTimeout(N.current),N.current=0)},[W,P]),onOpen:D,onClose:W,disableHoverableContent:P,children:n})})};iS.displayName=Zf;var K1="TooltipTrigger",oS=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Jf(K1,n),a=Xp(K1,n),u=Qf(n),m=C.useRef(null),g=at(t,m,i.onTriggerChange),p=C.useRef(!1),w=C.useRef(!1),v=C.useCallback(()=>p.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),h.jsx(eS,{asChild:!0,...u,children:h.jsx(Ve.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:g,onPointerMove:Me(e.onPointerMove,E=>{E.pointerType!=="touch"&&!w.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),w.current=!0)}),onPointerLeave:Me(e.onPointerLeave,()=>{i.onTriggerLeave(),w.current=!1}),onPointerDown:Me(e.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Me(e.onFocus,()=>{p.current||i.onOpen()}),onBlur:Me(e.onBlur,i.onClose),onClick:Me(e.onClick,i.onClose)})})});oS.displayName=K1;var kD="TooltipPortal",[E7,PD]=Kf(kD,{forceMount:void 0}),ol="TooltipContent",aS=C.forwardRef((e,t)=>{const n=PD(ol,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,u=Jf(ol,e.__scopeTooltip);return h.jsx(Qr,{present:r||u.open,children:u.disableHoverableContent?h.jsx(lS,{side:i,...a,ref:t}):h.jsx(DD,{side:i,...a,ref:t})})}),DD=C.forwardRef((e,t)=>{const n=Jf(ol,e.__scopeTooltip),r=Xp(ol,e.__scopeTooltip),i=C.useRef(null),a=at(t,i),[u,m]=C.useState(null),{trigger:g,onClose:p}=n,w=i.current,{onPointerInTransitChange:v}=r,E=C.useCallback(()=>{m(null),v(!1)},[v]),N=C.useCallback((P,T)=>{const k=P.currentTarget,I={x:P.clientX,y:P.clientY},A=BD(I,k.getBoundingClientRect()),S=FD(I,A),D=UD(T.getBoundingClientRect()),W=zD([...S,...D]);m(W),v(!0)},[v]);return C.useEffect(()=>()=>E(),[E]),C.useEffect(()=>{if(g&&w){const P=k=>N(k,w),T=k=>N(k,g);return g.addEventListener("pointerleave",P),w.addEventListener("pointerleave",T),()=>{g.removeEventListener("pointerleave",P),w.removeEventListener("pointerleave",T)}}},[g,w,N,E]),C.useEffect(()=>{if(u){const P=T=>{const k=T.target,I={x:T.clientX,y:T.clientY},A=(g==null?void 0:g.contains(k))||(w==null?void 0:w.contains(k)),S=!WD(I,u);A?E():S&&(E(),p())};return document.addEventListener("pointermove",P),()=>document.removeEventListener("pointermove",P)}},[g,w,u,p,E]),h.jsx(lS,{...e,ref:a})}),[jD,MD]=Kf(Zf,{isInside:!1}),lS=C.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:u,...m}=e,g=Jf(ol,n),p=Qf(n),{onClose:w}=g;return C.useEffect(()=>(document.addEventListener(Y1,w),()=>document.removeEventListener(Y1,w)),[w]),C.useEffect(()=>{if(g.trigger){const v=E=>{const N=E.target;N!=null&&N.contains(g.trigger)&&w()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[g.trigger,w]),h.jsx($c,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:v=>v.preventDefault(),onDismiss:w,children:h.jsxs(tS,{"data-state":g.stateAttribute,...p,...m,ref:t,style:{...m.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(op,{children:r}),h.jsx(jD,{scope:n,isInside:!0,children:h.jsx(YT,{id:g.contentId,role:"tooltip",children:i||r})})]})})});aS.displayName=ol;var cS="TooltipArrow",LD=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Qf(n);return MD(cS,n).isInside?null:h.jsx(nS,{...i,...r,ref:t})});LD.displayName=cS;function BD(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function FD(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function UD(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function WD(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,u=t.length-1;a<t.length;u=a++){const m=t[a].x,g=t[a].y,p=t[u].x,w=t[u].y;g>r!=w>r&&n<(p-m)*(r-g)/(w-g)+m&&(i=!i)}return i}function zD(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),VD(t)}function VD(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],u=t[t.length-2];if((a.x-u.x)*(i.y-u.y)>=(a.y-u.y)*(i.x-u.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],u=n[n.length-2];if((a.x-u.x)*(i.y-u.y)>=(a.y-u.y)*(i.x-u.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var HD=sS,$D=iS,GD=oS,uS=aS;const dS=HD,fS=$D,hS=GD,Yp=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>h.jsx(uS,{ref:r,sideOffset:t,className:Pe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Yp.displayName=uS.displayName;const qD=e=>e?parseFloat(e.replace(",",".")):null,XD=e=>{if(!e||e.trim()==="")return null;const t=e.trim();if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;const n=t.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/);if(n){const[,a,u,m]=n;return`${m}-${u.padStart(2,"0")}-${a.padStart(2,"0")}`}const r=t.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/);if(r){const[,a,u,m]=r;return parseInt(a)>12?`${m}-${a.padStart(2,"0")}-${u.padStart(2,"0")}`:`${m}-${a.padStart(2,"0")}-${u.padStart(2,"0")}`}try{const a=new Date(t);if(!isNaN(a.getTime()))return a.toISOString().split("T")[0]}catch{}const i=t.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})/);if(i){const[,a,u,m]=i;return`${m}-${u.padStart(2,"0")}-${a.padStart(2,"0")}`}return null},YD=e=>{const t=e==null?void 0:e.toLowerCase();return t==="manuteno"?"manuteno":t==="baixado"?"baixado":"ativo"},KD=e=>{const t=e==null?void 0:e.toLowerCase();return t==="sim"||t==="true"},QD=e=>!e.nome||!e.codigo?"Nome e cdigo so obrigatrios":null,ZD=(e,t)=>({name:e.nome,code:e.codigo,location:e.localizacao||null,status:YD(e.status),acquisition_date:XD(e.data_aquisicao),value:qD(e.valor),serial_number:e.numero_serie||null,color:e.cor||null,manufacturer:e.fabricante||null,model:e.modelo||null,capacity:e.capacidade||null,voltage:e.voltagem||null,origin:e.origem||null,condition:e.condicoes||null,inalienable:KD(e.inalienavel),holder:e.detentor||null,notes:e.observacoes||null,company_id:t}),JD=()=>{const{profile:e}=An(),{toast:t}=Hn(),n=ys();return xs({mutationFn:async r=>{if(!(e!=null&&e.company_id))throw new Error("Company ID not found");const i={success:0,errors:[]};for(let a=0;a<r.length;a++){const u=r[a],m=a+2,g=QD(u);if(g){i.errors.push({row:m,error:g,data:u});continue}try{const p=ZD(u,e.company_id),{error:w}=await qe.from("assets").insert(p);w?i.errors.push({row:m,error:w.message,data:u}):i.success++}catch(p){i.errors.push({row:m,error:p instanceof Error?p.message:"Erro desconhecido",data:u})}}return i},onSuccess:r=>{n.invalidateQueries({queryKey:["assets"]}),n.invalidateQueries({queryKey:["dashboard-stats"]}),n.invalidateQueries({queryKey:["recent-assets"]}),t({title:"Importao concluda!",description:`${r.success} ativos importados com sucesso`})},onError:r=>{t({title:"Erro na importao",description:r.message||"Erro ao importar ativos",variant:"destructive"})}})},ej=()=>{const{toast:e}=Hn(),[t,n]=C.useState(null),[r,i]=C.useState(0);return{file:t,inputKey:r,handleFileChange:g=>{var w;const p=(w=g.target.files)==null?void 0:w[0];p&&p.type==="text/csv"?n(p):e({title:"Arquivo invlido",description:"Por favor, selecione um arquivo CSV",variant:"destructive"})},removeFile:()=>{n(null),i(g=>g+1)},resetFile:()=>{n(null),i(g=>g+1)},setFile:n}},tj={nome:"nome",cdigo:"codigo",codigo:"codigo",localizao:"localizacao",localizacao:"localizacao",local:"localizacao",status:"status",aquisio:"data_aquisicao","data de aquisio":"data_aquisicao",data_aquisicao:"data_aquisicao",data:"data_aquisicao",valor:"valor",preo:"valor",preco:"valor","nmero de srie":"numero_serie",numero_serie:"numero_serie",serial:"numero_serie",cor:"cor",fabricante:"fabricante",marca:"fabricante",modelo:"modelo",capacidade:"capacidade",voltagem:"voltagem",origem:"origem",condies:"condicoes",condicoes:"condicoes",condio:"condicoes",condicao:"condicoes",inalienvel:"inalienavel",inalienavel:"inalienavel",detentor:"detentor",responsvel:"detentor",responsavel:"detentor",observaes:"observacoes",observacoes:"observacoes",obs:"observacoes",notas:"observacoes"},nj=`nome,codigo,localizacao,status,data_aquisicao,valor,numero_serie,cor,fabricante,modelo,capacidade,voltagem,origem,condicoes,inalienavel,detentor,observacoes
Notebook Dell,NB001,Sala 101,ativo,2023-01-15,2500.00,SN123456,Preto,Dell,Inspiron 15,8GB RAM,Bivolt,compra,Novo,no,Joo Silva,Notebook para desenvolvimento
Monitor Samsung,MON001,Sala 102,ativo,2023-02-10,800.00,MON789,Branco,Samsung,24 polegadas,1920x1080,110V,compra,Usado,no,Maria Santos,Monitor secundrio`,rj=e=>tj[e.toLowerCase()]||e,sj=()=>{const e=new Blob([nj],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),n=URL.createObjectURL(e);t.setAttribute("href",n),t.setAttribute("download","template_ativos.csv"),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)};function ij(e,t=[]){let n=[];function r(a,u){const m=C.createContext(u),g=n.length;n=[...n,u];function p(v){const{scope:E,children:N,...P}=v,T=(E==null?void 0:E[e][g])||m,k=C.useMemo(()=>P,Object.values(P));return h.jsx(T.Provider,{value:k,children:N})}function w(v,E){const N=(E==null?void 0:E[e][g])||m,P=C.useContext(N);if(P)return P;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${a}\``)}return p.displayName=a+"Provider",[p,w]}const i=()=>{const a=n.map(u=>C.createContext(u));return function(m){const g=(m==null?void 0:m[e])||a;return C.useMemo(()=>({[`__scope${e}`]:{...m,[e]:g}}),[m,g])}};return i.scopeName=e,[r,oj(i,...t)]}function oj(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=r.reduce((m,{useScope:g,scopeName:p})=>{const v=g(a)[`__scope${p}`];return{...m,...v}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var Kp="Progress",Qp=100,[aj,S7]=ij(Kp),[lj,cj]=aj(Kp),mS=C.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=uj,...u}=e;(i||i===0)&&!ny(i)&&console.error(dj(`${i}`,"Progress"));const m=ny(i)?i:Qp;r!==null&&!ry(r,m)&&console.error(fj(`${r}`,"Progress"));const g=ry(r,m)?r:null,p=ef(g)?a(g,m):void 0;return h.jsx(lj,{scope:n,value:g,max:m,children:h.jsx(Ve.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":ef(g)?g:void 0,"aria-valuetext":p,role:"progressbar","data-state":xS(g,m),"data-value":g??void 0,"data-max":m,...u,ref:t})})});mS.displayName=Kp;var pS="ProgressIndicator",gS=C.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=cj(pS,n);return h.jsx(Ve.div,{"data-state":xS(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});gS.displayName=pS;function uj(e,t){return`${Math.round(e/t*100)}%`}function xS(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ef(e){return typeof e=="number"}function ny(e){return ef(e)&&!isNaN(e)&&e>0}function ry(e,t){return ef(e)&&!isNaN(e)&&e<=t&&e>=0}function dj(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Qp}\`.`}function fj(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Qp} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var wS=mS,hj=gS;const tf=C.forwardRef(({className:e,value:t,...n},r)=>h.jsx(wS,{ref:r,className:Pe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:h.jsx(hj,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));tf.displayName=wS.displayName;const mj=()=>h.jsxs("div",{children:[h.jsxs(ke,{variant:"outline",onClick:sj,className:"mb-4",children:[h.jsx(Rf,{className:"h-4 w-4 mr-2"}),"Baixar Template CSV"]}),h.jsxs(Un,{children:[h.jsx(b8,{className:"h-4 w-4"}),h.jsxs(Wn,{children:["Baixe o template CSV acima para ver o formato correto dos dados. Os campos ",h.jsx("strong",{children:"nome"})," e ",h.jsx("strong",{children:"codigo"})," so obrigatrios."]})]})]}),pj=({file:e,inputKey:t,handleFileChange:n,removeFile:r,importing:i})=>h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"csvFile",children:"Arquivo CSV"}),h.jsx(pt,{id:"csvFile",type:"file",accept:".csv",onChange:n,disabled:i,className:"cursor-pointer"},t)]}),e&&h.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm text-gray-600",children:[h.jsx("strong",{children:"Arquivo selecionado:"})," ",e.name]}),h.jsxs("p",{className:"text-sm text-gray-600",children:[h.jsx("strong",{children:"Tamanho:"})," ",(e.size/1024).toFixed(2)," KB"]})]}),h.jsxs(fS,{children:[h.jsx(hS,{asChild:!0,children:h.jsx("button",{type:"button",onClick:r,className:"ml-4 text-gray-400 hover:text-red-600 text-lg font-bold focus:outline-none","aria-label":"Remover arquivo",children:""})}),h.jsx(Yp,{side:"left",align:"center",children:"Remover arquivo selecionado"})]})]})]}),gj=({progress:e})=>h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{children:"Importando ativos..."}),h.jsxs("span",{children:[Math.round(e),"%"]})]}),h.jsx(tf,{value:e})]}),xj=({result:e})=>e?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center text-green-600",children:[h.jsx(C8,{className:"h-5 w-5 mr-2"}),h.jsxs("span",{className:"font-medium",children:[e.success," ativos importados com sucesso"]})]}),e.errors.length>0&&h.jsxs("div",{children:[h.jsxs("h4",{className:"font-medium text-red-600 mb-2",children:[e.errors.length," erros encontrados:"]}),h.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:e.errors.map((t,n)=>h.jsx(Un,{variant:"destructive",children:h.jsxs(Wn,{children:[h.jsxs("strong",{children:["Linha ",t.row,":"]})," ",t.error,h.jsx("br",{}),h.jsxs("small",{children:["Dados: ",JSON.stringify(t.data)]})]})},n))})]})]}):null;function yS(){const{toast:e}=Hn(),t=JD(),{file:n,inputKey:r,handleFileChange:i,removeFile:a}=ej(),[u,m]=C.useState(!1),[g,p]=C.useState(0),[w,v]=C.useState(null),E=()=>{n&&(m(!0),p(0),v(null),b5.parse(n,{header:!0,skipEmptyLines:!0,transformHeader:rj,complete:P=>{if(m(!1),P.errors.length>0){e({title:"Erro ao processar CSV",description:"Verifique o formato do arquivo",variant:"destructive"});return}t.mutate(P.data,{onSuccess:T=>{v(T)}})},error:P=>{m(!1),e({title:"Erro ao ler arquivo",description:P.message,variant:"destructive"})}}))},N=()=>{a(),v(null)};return h.jsx(dS,{delayDuration:500,children:h.jsx("div",{className:"space-y-6",children:h.jsxs(Je,{className:"border-0 shadow-md",children:[h.jsx(St,{children:h.jsxs(Et,{className:"flex items-center",children:[h.jsx(Rf,{className:"h-5 w-5 mr-2 text-blue-600"}),"Importar Ativos por CSV"]})}),h.jsxs(tt,{className:"space-y-6",children:[h.jsx(mj,{}),h.jsx(pj,{file:n,inputKey:r,handleFileChange:i,removeFile:N,importing:u}),u&&h.jsx(gj,{progress:g}),h.jsxs(ke,{onClick:E,disabled:!n||u||t.isPending,className:"w-full",children:[h.jsx(xp,{className:"h-4 w-4 mr-2"}),u||t.isPending?"Importando...":"Importar Ativos"]}),h.jsx(xj,{result:w})]})]})})})}function wj({canEdit:e,isMobileOrTablet:t,isDesktop:n,loading:r,exportLoading:i,onScannerOpen:a,onExportCSV:u}){return e?h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Ativos"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Gerencie todos os ativos patrimoniais da empresa"})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[t&&h.jsxs(ke,{variant:"outline",onClick:a,className:"w-full sm:w-auto",children:[h.jsx(Lb,{className:"h-4 w-4 mr-2"}),"Buscar por Cdigo"]}),n&&h.jsxs(h.Fragment,{children:[h.jsxs(ke,{variant:"outline",onClick:u,className:"w-full sm:w-auto",disabled:r||i,children:[h.jsx(Rf,{className:"h-4 w-4 mr-2"}),"Exportar CSV"]}),h.jsxs(nu,{children:[h.jsx(Hf,{asChild:!0,children:h.jsxs(ke,{variant:"outline",className:"w-full sm:w-auto",children:[h.jsx(xp,{className:"h-4 w-4 mr-2"}),"Importar CSV"]})}),h.jsx(xl,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:h.jsx(yS,{})})]})]}),h.jsx(ke,{asChild:!0,className:"w-full sm:w-auto",children:h.jsxs(Mi,{to:"/assets/new",children:[h.jsx(Of,{className:"h-4 w-4 mr-2"}),"Novo Ativo"]})})]})]}):h.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Ativos"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Gerencie todos os ativos patrimoniais da empresa"})]})})}function Zp(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var yj=[" ","Enter","ArrowUp","ArrowDown"],vj=[" ","Enter"],ou="Select",[eh,th,bj]=ub(ou),[vl,A7]=Yi(ou,[bj,Yf]),nh=Yf(),[Cj,Qi]=vl(ou),[Ej,Sj]=vl(ou),vS=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:u,defaultValue:m,onValueChange:g,dir:p,name:w,autoComplete:v,disabled:E,required:N,form:P}=e,T=nh(t),[k,I]=C.useState(null),[A,S]=C.useState(null),[D,W]=C.useState(!1),V=oE(p),[B=!1,L]=jo({prop:r,defaultProp:i,onChange:a}),[j,z]=jo({prop:u,defaultProp:m,onChange:g}),ee=C.useRef(null),q=k?P||!!k.closest("form"):!0,[se,re]=C.useState(new Set),X=Array.from(se).map(fe=>fe.props.value).join(";");return h.jsx(JE,{...T,children:h.jsxs(Cj,{required:N,scope:t,trigger:k,onTriggerChange:I,valueNode:A,onValueNodeChange:S,valueNodeHasChildren:D,onValueNodeHasChildrenChange:W,contentId:Ao(),value:j,onValueChange:z,open:B,onOpenChange:L,dir:V,triggerPointerDownPosRef:ee,disabled:E,children:[h.jsx(eh.Provider,{scope:t,children:h.jsx(Ej,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(fe=>{re(ne=>new Set(ne).add(fe))},[]),onNativeOptionRemove:C.useCallback(fe=>{re(ne=>{const Q=new Set(ne);return Q.delete(fe),Q})},[]),children:n})}),q?h.jsxs($S,{"aria-hidden":!0,required:N,tabIndex:-1,name:w,autoComplete:v,value:j,onChange:fe=>z(fe.target.value),disabled:E,form:P,children:[j===void 0?h.jsx("option",{value:""}):null,Array.from(se)]},X):null]})})};vS.displayName=ou;var bS="SelectTrigger",CS=C.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=nh(n),u=Qi(bS,n),m=u.disabled||r,g=at(t,u.onTriggerChange),p=th(n),w=C.useRef("touch"),[v,E,N]=GS(T=>{const k=p().filter(S=>!S.disabled),I=k.find(S=>S.value===u.value),A=qS(k,T,I);A!==void 0&&u.onValueChange(A.value)}),P=T=>{m||(u.onOpenChange(!0),N()),T&&(u.triggerPointerDownPosRef.current={x:Math.round(T.pageX),y:Math.round(T.pageY)})};return h.jsx(eS,{asChild:!0,...a,children:h.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:m,"data-disabled":m?"":void 0,"data-placeholder":HS(u.value)?"":void 0,...i,ref:g,onClick:Me(i.onClick,T=>{T.currentTarget.focus(),w.current!=="mouse"&&P(T)}),onPointerDown:Me(i.onPointerDown,T=>{w.current=T.pointerType;const k=T.target;k.hasPointerCapture(T.pointerId)&&k.releasePointerCapture(T.pointerId),T.button===0&&T.ctrlKey===!1&&T.pointerType==="mouse"&&(P(T),T.preventDefault())}),onKeyDown:Me(i.onKeyDown,T=>{const k=v.current!=="";!(T.ctrlKey||T.altKey||T.metaKey)&&T.key.length===1&&E(T.key),!(k&&T.key===" ")&&yj.includes(T.key)&&(P(),T.preventDefault())})})})});CS.displayName=bS;var ES="SelectValue",SS=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:u="",...m}=e,g=Qi(ES,n),{onValueNodeHasChildrenChange:p}=g,w=a!==void 0,v=at(t,g.onValueNodeChange);return Sn(()=>{p(w)},[p,w]),h.jsx(Ve.span,{...m,ref:v,style:{pointerEvents:"none"},children:HS(g.value)?h.jsx(h.Fragment,{children:u}):a})});SS.displayName=ES;var Aj="SelectIcon",AS=C.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return h.jsx(Ve.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});AS.displayName=Aj;var _j="SelectPortal",_S=e=>h.jsx(Nf,{asChild:!0,...e});_S.displayName=_j;var Bo="SelectContent",NS=C.forwardRef((e,t)=>{const n=Qi(Bo,e.__scopeSelect),[r,i]=C.useState();if(Sn(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Wo.createPortal(h.jsx(TS,{scope:e.__scopeSelect,children:h.jsx(eh.Slot,{scope:e.__scopeSelect,children:h.jsx("div",{children:e.children})})}),a):null}return h.jsx(IS,{...e,ref:t})});NS.displayName=Bo;var Fr=10,[TS,Zi]=vl(Bo),Nj="SelectContentImpl",IS=C.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:u,side:m,sideOffset:g,align:p,alignOffset:w,arrowPadding:v,collisionBoundary:E,collisionPadding:N,sticky:P,hideWhenDetached:T,avoidCollisions:k,...I}=e,A=Qi(Bo,n),[S,D]=C.useState(null),[W,V]=C.useState(null),B=at(t,Ee=>D(Ee)),[L,j]=C.useState(null),[z,ee]=C.useState(null),q=th(n),[se,re]=C.useState(!1),X=C.useRef(!1);C.useEffect(()=>{if(S)return LC(S)},[S]),TC();const fe=C.useCallback(Ee=>{const[xe,...De]=q().map(Te=>Te.ref.current),[Oe]=De.slice(-1),pe=document.activeElement;for(const Te of Ee)if(Te===pe||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===xe&&W&&(W.scrollTop=0),Te===Oe&&W&&(W.scrollTop=W.scrollHeight),Te==null||Te.focus(),document.activeElement!==pe))return},[q,W]),ne=C.useCallback(()=>fe([L,S]),[fe,L,S]);C.useEffect(()=>{se&&ne()},[se,ne]);const{onOpenChange:Q,triggerPointerDownPosRef:te}=A;C.useEffect(()=>{if(S){let Ee={x:0,y:0};const xe=Oe=>{var pe,Te;Ee={x:Math.abs(Math.round(Oe.pageX)-(((pe=te.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(Oe.pageY)-(((Te=te.current)==null?void 0:Te.y)??0))}},De=Oe=>{Ee.x<=10&&Ee.y<=10?Oe.preventDefault():S.contains(Oe.target)||Q(!1),document.removeEventListener("pointermove",xe),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",De,{capture:!0})}}},[S,Q,te]),C.useEffect(()=>{const Ee=()=>Q(!1);return window.addEventListener("blur",Ee),window.addEventListener("resize",Ee),()=>{window.removeEventListener("blur",Ee),window.removeEventListener("resize",Ee)}},[Q]);const[he,ue]=GS(Ee=>{const xe=q().filter(pe=>!pe.disabled),De=xe.find(pe=>pe.ref.current===document.activeElement),Oe=qS(xe,Ee,De);Oe&&setTimeout(()=>Oe.ref.current.focus())}),ge=C.useCallback((Ee,xe,De)=>{const Oe=!X.current&&!De;(A.value!==void 0&&A.value===xe||Oe)&&(j(Ee),Oe&&(X.current=!0))},[A.value]),we=C.useCallback(()=>S==null?void 0:S.focus(),[S]),Re=C.useCallback((Ee,xe,De)=>{const Oe=!X.current&&!De;(A.value!==void 0&&A.value===xe||Oe)&&ee(Ee)},[A.value]),st=r==="popper"?Q1:RS,de=st===Q1?{side:m,sideOffset:g,align:p,alignOffset:w,arrowPadding:v,collisionBoundary:E,collisionPadding:N,sticky:P,hideWhenDetached:T,avoidCollisions:k}:{};return h.jsx(TS,{scope:n,content:S,viewport:W,onViewportChange:V,itemRefCallback:ge,selectedItem:L,onItemLeave:we,itemTextRefCallback:Re,focusSelectedItem:ne,selectedItemText:z,position:r,isPositioned:se,searchRef:he,children:h.jsx(_p,{as:Do,allowPinchZoom:!0,children:h.jsx(Ap,{asChild:!0,trapped:A.open,onMountAutoFocus:Ee=>{Ee.preventDefault()},onUnmountAutoFocus:Me(i,Ee=>{var xe;(xe=A.trigger)==null||xe.focus({preventScroll:!0}),Ee.preventDefault()}),children:h.jsx($c,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:Ee=>Ee.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:h.jsx(st,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:Ee=>Ee.preventDefault(),...I,...de,onPlaced:()=>re(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...I.style},onKeyDown:Me(I.onKeyDown,Ee=>{const xe=Ee.ctrlKey||Ee.altKey||Ee.metaKey;if(Ee.key==="Tab"&&Ee.preventDefault(),!xe&&Ee.key.length===1&&ue(Ee.key),["ArrowUp","ArrowDown","Home","End"].includes(Ee.key)){let Oe=q().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(Ee.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ee.key)){const pe=Ee.target,Te=Oe.indexOf(pe);Oe=Oe.slice(Te+1)}setTimeout(()=>fe(Oe)),Ee.preventDefault()}})})})})})})});IS.displayName=Nj;var Tj="SelectItemAlignedPosition",RS=C.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=Qi(Bo,n),u=Zi(Bo,n),[m,g]=C.useState(null),[p,w]=C.useState(null),v=at(t,B=>w(B)),E=th(n),N=C.useRef(!1),P=C.useRef(!0),{viewport:T,selectedItem:k,selectedItemText:I,focusSelectedItem:A}=u,S=C.useCallback(()=>{if(a.trigger&&a.valueNode&&m&&p&&T&&k&&I){const B=a.trigger.getBoundingClientRect(),L=p.getBoundingClientRect(),j=a.valueNode.getBoundingClientRect(),z=I.getBoundingClientRect();if(a.dir!=="rtl"){const pe=z.left-L.left,Te=j.left-pe,Ae=B.left-Te,He=B.width+Ae,ze=Math.max(He,L.width),Fe=window.innerWidth-Fr,Ye=H1(Te,[Fr,Math.max(Fr,Fe-ze)]);m.style.minWidth=He+"px",m.style.left=Ye+"px"}else{const pe=L.right-z.right,Te=window.innerWidth-j.right-pe,Ae=window.innerWidth-B.right-Te,He=B.width+Ae,ze=Math.max(He,L.width),Fe=window.innerWidth-Fr,Ye=H1(Te,[Fr,Math.max(Fr,Fe-ze)]);m.style.minWidth=He+"px",m.style.right=Ye+"px"}const ee=E(),q=window.innerHeight-Fr*2,se=T.scrollHeight,re=window.getComputedStyle(p),X=parseInt(re.borderTopWidth,10),fe=parseInt(re.paddingTop,10),ne=parseInt(re.borderBottomWidth,10),Q=parseInt(re.paddingBottom,10),te=X+fe+se+Q+ne,he=Math.min(k.offsetHeight*5,te),ue=window.getComputedStyle(T),ge=parseInt(ue.paddingTop,10),we=parseInt(ue.paddingBottom,10),Re=B.top+B.height/2-Fr,st=q-Re,de=k.offsetHeight/2,Ee=k.offsetTop+de,xe=X+fe+Ee,De=te-xe;if(xe<=Re){const pe=ee.length>0&&k===ee[ee.length-1].ref.current;m.style.bottom="0px";const Te=p.clientHeight-T.offsetTop-T.offsetHeight,Ae=Math.max(st,de+(pe?we:0)+Te+ne),He=xe+Ae;m.style.height=He+"px"}else{const pe=ee.length>0&&k===ee[0].ref.current;m.style.top="0px";const Ae=Math.max(Re,X+T.offsetTop+(pe?ge:0)+de)+De;m.style.height=Ae+"px",T.scrollTop=xe-Re+T.offsetTop}m.style.margin=`${Fr}px 0`,m.style.minHeight=he+"px",m.style.maxHeight=q+"px",r==null||r(),requestAnimationFrame(()=>N.current=!0)}},[E,a.trigger,a.valueNode,m,p,T,k,I,a.dir,r]);Sn(()=>S(),[S]);const[D,W]=C.useState();Sn(()=>{p&&W(window.getComputedStyle(p).zIndex)},[p]);const V=C.useCallback(B=>{B&&P.current===!0&&(S(),A==null||A(),P.current=!1)},[S,A]);return h.jsx(Rj,{scope:n,contentWrapper:m,shouldExpandOnScrollRef:N,onScrollButtonChange:V,children:h.jsx("div",{ref:g,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:h.jsx(Ve.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});RS.displayName=Tj;var Ij="SelectPopperPosition",Q1=C.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Fr,...a}=e,u=nh(n);return h.jsx(tS,{...u,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Q1.displayName=Ij;var[Rj,Jp]=vl(Bo,{}),Z1="SelectViewport",OS=C.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=Zi(Z1,n),u=Jp(Z1,n),m=at(t,a.onViewportChange),g=C.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(eh.Slot,{scope:n,children:h.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:m,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Me(i.onScroll,p=>{const w=p.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:E}=u;if(E!=null&&E.current&&v){const N=Math.abs(g.current-w.scrollTop);if(N>0){const P=window.innerHeight-Fr*2,T=parseFloat(v.style.minHeight),k=parseFloat(v.style.height),I=Math.max(T,k);if(I<P){const A=I+N,S=Math.min(P,A),D=A-S;v.style.height=S+"px",v.style.bottom==="0px"&&(w.scrollTop=D>0?D:0,v.style.justifyContent="flex-end")}}}g.current=w.scrollTop})})})]})});OS.displayName=Z1;var kS="SelectGroup",[Oj,kj]=vl(kS),Pj=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Ao();return h.jsx(Oj,{scope:n,id:i,children:h.jsx(Ve.div,{role:"group","aria-labelledby":i,...r,ref:t})})});Pj.displayName=kS;var PS="SelectLabel",DS=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=kj(PS,n);return h.jsx(Ve.div,{id:i.id,...r,ref:t})});DS.displayName=PS;var nf="SelectItem",[Dj,jS]=vl(nf),MS=C.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...u}=e,m=Qi(nf,n),g=Zi(nf,n),p=m.value===r,[w,v]=C.useState(a??""),[E,N]=C.useState(!1),P=at(t,A=>{var S;return(S=g.itemRefCallback)==null?void 0:S.call(g,A,r,i)}),T=Ao(),k=C.useRef("touch"),I=()=>{i||(m.onValueChange(r),m.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(Dj,{scope:n,value:r,disabled:i,textId:T,isSelected:p,onItemTextChange:C.useCallback(A=>{v(S=>S||((A==null?void 0:A.textContent)??"").trim())},[]),children:h.jsx(eh.ItemSlot,{scope:n,value:r,disabled:i,textValue:w,children:h.jsx(Ve.div,{role:"option","aria-labelledby":T,"data-highlighted":E?"":void 0,"aria-selected":p&&E,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:P,onFocus:Me(u.onFocus,()=>N(!0)),onBlur:Me(u.onBlur,()=>N(!1)),onClick:Me(u.onClick,()=>{k.current!=="mouse"&&I()}),onPointerUp:Me(u.onPointerUp,()=>{k.current==="mouse"&&I()}),onPointerDown:Me(u.onPointerDown,A=>{k.current=A.pointerType}),onPointerMove:Me(u.onPointerMove,A=>{var S;k.current=A.pointerType,i?(S=g.onItemLeave)==null||S.call(g):k.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Me(u.onPointerLeave,A=>{var S;A.currentTarget===document.activeElement&&((S=g.onItemLeave)==null||S.call(g))}),onKeyDown:Me(u.onKeyDown,A=>{var D;((D=g.searchRef)==null?void 0:D.current)!==""&&A.key===" "||(vj.includes(A.key)&&I(),A.key===" "&&A.preventDefault())})})})})});MS.displayName=nf;var Yl="SelectItemText",LS=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,u=Qi(Yl,n),m=Zi(Yl,n),g=jS(Yl,n),p=Sj(Yl,n),[w,v]=C.useState(null),E=at(t,I=>v(I),g.onItemTextChange,I=>{var A;return(A=m.itemTextRefCallback)==null?void 0:A.call(m,I,g.value,g.disabled)}),N=w==null?void 0:w.textContent,P=C.useMemo(()=>h.jsx("option",{value:g.value,disabled:g.disabled,children:N},g.value),[g.disabled,g.value,N]),{onNativeOptionAdd:T,onNativeOptionRemove:k}=p;return Sn(()=>(T(P),()=>k(P)),[T,k,P]),h.jsxs(h.Fragment,{children:[h.jsx(Ve.span,{id:g.textId,...a,ref:E}),g.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Wo.createPortal(a.children,u.valueNode):null]})});LS.displayName=Yl;var BS="SelectItemIndicator",FS=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return jS(BS,n).isSelected?h.jsx(Ve.span,{"aria-hidden":!0,...r,ref:t}):null});FS.displayName=BS;var J1="SelectScrollUpButton",US=C.forwardRef((e,t)=>{const n=Zi(J1,e.__scopeSelect),r=Jp(J1,e.__scopeSelect),[i,a]=C.useState(!1),u=at(t,r.onScrollButtonChange);return Sn(()=>{if(n.viewport&&n.isPositioned){let m=function(){const p=g.scrollTop>0;a(p)};const g=n.viewport;return m(),g.addEventListener("scroll",m),()=>g.removeEventListener("scroll",m)}},[n.viewport,n.isPositioned]),i?h.jsx(zS,{...e,ref:u,onAutoScroll:()=>{const{viewport:m,selectedItem:g}=n;m&&g&&(m.scrollTop=m.scrollTop-g.offsetHeight)}}):null});US.displayName=J1;var em="SelectScrollDownButton",WS=C.forwardRef((e,t)=>{const n=Zi(em,e.__scopeSelect),r=Jp(em,e.__scopeSelect),[i,a]=C.useState(!1),u=at(t,r.onScrollButtonChange);return Sn(()=>{if(n.viewport&&n.isPositioned){let m=function(){const p=g.scrollHeight-g.clientHeight,w=Math.ceil(g.scrollTop)<p;a(w)};const g=n.viewport;return m(),g.addEventListener("scroll",m),()=>g.removeEventListener("scroll",m)}},[n.viewport,n.isPositioned]),i?h.jsx(zS,{...e,ref:u,onAutoScroll:()=>{const{viewport:m,selectedItem:g}=n;m&&g&&(m.scrollTop=m.scrollTop+g.offsetHeight)}}):null});WS.displayName=em;var zS=C.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=Zi("SelectScrollButton",n),u=C.useRef(null),m=th(n),g=C.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return C.useEffect(()=>()=>g(),[g]),Sn(()=>{var w;const p=m().find(v=>v.ref.current===document.activeElement);(w=p==null?void 0:p.ref.current)==null||w.scrollIntoView({block:"nearest"})},[m]),h.jsx(Ve.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Me(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(r,50))}),onPointerMove:Me(i.onPointerMove,()=>{var p;(p=a.onItemLeave)==null||p.call(a),u.current===null&&(u.current=window.setInterval(r,50))}),onPointerLeave:Me(i.onPointerLeave,()=>{g()})})}),jj="SelectSeparator",VS=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return h.jsx(Ve.div,{"aria-hidden":!0,...r,ref:t})});VS.displayName=jj;var tm="SelectArrow",Mj=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=nh(n),a=Qi(tm,n),u=Zi(tm,n);return a.open&&u.position==="popper"?h.jsx(nS,{...i,...r,ref:t}):null});Mj.displayName=tm;function HS(e){return e===""||e===void 0}var $S=C.forwardRef((e,t)=>{const{value:n,...r}=e,i=C.useRef(null),a=at(t,i),u=Zp(n);return C.useEffect(()=>{const m=i.current,g=window.HTMLSelectElement.prototype,w=Object.getOwnPropertyDescriptor(g,"value").set;if(u!==n&&w){const v=new Event("change",{bubbles:!0});w.call(m,n),m.dispatchEvent(v)}},[u,n]),h.jsx(Gc,{asChild:!0,children:h.jsx("select",{...r,ref:a,defaultValue:n})})});$S.displayName="BubbleSelect";function GS(e){const t=en(e),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(u=>{const m=n.current+u;t(m),function g(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>g(""),1e3))}(m)},[t]),a=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function qS(e,t,n){const i=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let u=Lj(e,Math.max(a,0));i.length===1&&(u=u.filter(p=>p!==n));const g=u.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return g!==n?g:void 0}function Lj(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Bj=vS,XS=CS,Fj=SS,Uj=AS,Wj=_S,YS=NS,zj=OS,KS=DS,QS=MS,Vj=LS,Hj=FS,ZS=US,JS=WS,eA=VS;const rf=Bj,sf=Fj,Dc=C.forwardRef(({className:e,children:t,...n},r)=>h.jsxs(XS,{ref:r,className:Pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,h.jsx(Uj,{asChild:!0,children:h.jsx(Bb,{className:"h-4 w-4 opacity-50"})})]}));Dc.displayName=XS.displayName;const tA=C.forwardRef(({className:e,...t},n)=>h.jsx(ZS,{ref:n,className:Pe("flex cursor-default items-center justify-center py-1",e),...t,children:h.jsx(v8,{className:"h-4 w-4"})}));tA.displayName=ZS.displayName;const nA=C.forwardRef(({className:e,...t},n)=>h.jsx(JS,{ref:n,className:Pe("flex cursor-default items-center justify-center py-1",e),...t,children:h.jsx(Bb,{className:"h-4 w-4"})}));nA.displayName=JS.displayName;const jc=C.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>h.jsx(Wj,{children:h.jsxs(YS,{ref:i,className:Pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[h.jsx(tA,{}),h.jsx(zj,{className:Pe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),h.jsx(nA,{})]})}));jc.displayName=YS.displayName;const $j=C.forwardRef(({className:e,...t},n)=>h.jsx(KS,{ref:n,className:Pe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));$j.displayName=KS.displayName;const fr=C.forwardRef(({className:e,children:t,...n},r)=>h.jsxs(QS,{ref:r,className:Pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(Hj,{children:h.jsx(fp,{className:"h-4 w-4"})})}),h.jsx(Vj,{children:t})]}));fr.displayName=QS.displayName;const Gj=C.forwardRef(({className:e,...t},n)=>h.jsx(eA,{ref:n,className:Pe("-mx-1 my-1 h-px bg-muted",e),...t}));Gj.displayName=eA.displayName;function qj({search:e,statusFilter:t,locationFilter:n,locations:r,onSearchChange:i,onStatusFilterChange:a,onLocationFilterChange:u}){return h.jsxs(Je,{className:"border-0 shadow-md",children:[h.jsx(St,{children:h.jsx(Et,{className:"text-lg",children:"Filtros"})}),h.jsx(tt,{children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx(I8,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),h.jsx(pt,{placeholder:"Buscar por nome ou cdigo...",value:e,onChange:m=>i(m.target.value),className:"pl-10 pr-8"}),e&&h.jsx("button",{type:"button",onClick:()=>i(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":"Limpar busca",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),h.jsxs(rf,{value:t,onValueChange:a,children:[h.jsx(Dc,{children:h.jsx(sf,{placeholder:"Status"})}),h.jsxs(jc,{children:[h.jsx(fr,{value:"all",children:"Todos os status"}),h.jsx(fr,{value:"ativo",children:h.jsx(tn,{className:"bg-green-100 text-green-800",children:"ATIVO"})}),h.jsx(fr,{value:"manuteno",children:h.jsx(tn,{className:"bg-yellow-100 text-yellow-800",children:"MANUTENO"})}),h.jsx(fr,{value:"baixado",children:h.jsx(tn,{className:"bg-red-100 text-red-800",children:"BAIXADO"})})]})]}),h.jsxs(rf,{value:n,onValueChange:u,children:[h.jsx(Dc,{children:h.jsx(sf,{placeholder:"Localizao"})}),h.jsxs(jc,{children:[h.jsx(fr,{value:"all",children:"Todas as localizaes"}),r==null?void 0:r.map(m=>h.jsx(fr,{value:m,children:m},m))]})]})]})})]})}const Xj={ativo:"bg-green-100 text-green-800",manuteno:"bg-yellow-100 text-yellow-800",baixado:"bg-red-100 text-red-800"};function Yj({asset:e,isLast:t=!1,onIntersect:n}){const r=a=>h.jsx(tn,{className:Xj[a],children:a.toUpperCase()}),i=t?n:void 0;return h.jsx(Je,{className:"border-0 shadow-md hover:shadow-lg transition-shadow group",ref:i,children:h.jsxs(tt,{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors truncate",children:e.name}),h.jsxs("p",{className:"text-sm text-gray-500",children:["#",e.code]})]}),r(e.status)]}),h.jsxs("div",{className:"space-y-2 mb-4",children:[h.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[h.jsx(gp,{className:"h-4 w-4 mr-2 flex-shrink-0"}),h.jsx("span",{className:"truncate",children:e.location?e.location:"-"})]}),h.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[h.jsx(hp,{className:"h-4 w-4 mr-2 flex-shrink-0"}),h.jsx("span",{children:e.value?zd(e.value):"-"})]}),h.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[h.jsx(dp,{className:"h-4 w-4 mr-2 flex-shrink-0"}),h.jsx("span",{children:e.acquisition_date?"Adiquirido em: "+P1(e.acquisition_date+"T00:00:00"):"Adicionado em: "+P1(e.created_at)})]})]}),h.jsx("div",{className:"flex justify-between items-center",children:h.jsx(ke,{variant:"outline",size:"sm",asChild:!0,children:h.jsxs(Mi,{to:`/assets/${e.id}`,children:[h.jsx(Wb,{className:"h-4 w-4 mr-2"}),"Ver Detalhes"]})})})]})})}function Kj({assets:e,loading:t,loadingMore:n,hasMore:r,canEdit:i,isDesktop:a,onLoadMore:u}){const m=C.useRef(null),g=C.useRef(null),p=C.useCallback(w=>{!r||n||(m.current&&m.current.disconnect(),m.current=new IntersectionObserver(v=>{v[0].isIntersecting&&r&&!n&&u()}),w&&m.current.observe(w))},[r,n,u]);return t?h.jsx("div",{className:"col-span-full flex justify-center py-12",children:h.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),h.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[h.jsx(Bt,{className:"h-5 w-5 animate-pulse"}),h.jsx("span",{className:"text-base",children:"Carregando ativos..."})]})]})}):e.length===0?h.jsx("div",{className:"col-span-full",children:h.jsx(Je,{className:"border-0 shadow-md",children:h.jsxs(tt,{className:"text-center py-12",children:[h.jsx(Bt,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum ativo encontrado"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Comece adicionando seus primeiros ativos ao sistema"}),i&&h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[a&&h.jsxs(nu,{children:[h.jsx(Hf,{asChild:!0,children:h.jsxs(ke,{variant:"outline",children:[h.jsx(xp,{className:"h-4 w-4 mr-2"}),"Importar CSV"]})}),h.jsxs(xl,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[h.jsx(ru,{children:h.jsx(su,{children:"Importar Ativos"})}),h.jsx(yS,{})]})]}),h.jsx(ke,{asChild:!0,children:h.jsxs(Mi,{to:"/assets/new",children:[h.jsx(Of,{className:"h-4 w-4 mr-2"}),"Adicionar Primeiro Ativo"]})})]})]})})}):h.jsxs(h.Fragment,{children:[e.map((w,v)=>h.jsx(Yj,{asset:w,isLast:v===e.length-1,onIntersect:p},w.id)),r&&n&&h.jsx("div",{ref:g,className:"col-span-full flex justify-center py-8",children:h.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),h.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[h.jsx(Bt,{className:"h-4 w-4 animate-pulse"}),h.jsx("span",{className:"text-sm",children:"Carregando mais ativos..."})]})]})})]})}var Ce;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ce||(Ce={}));var sy=new Map([[Ce.QR_CODE,"QR_CODE"],[Ce.AZTEC,"AZTEC"],[Ce.CODABAR,"CODABAR"],[Ce.CODE_39,"CODE_39"],[Ce.CODE_93,"CODE_93"],[Ce.CODE_128,"CODE_128"],[Ce.DATA_MATRIX,"DATA_MATRIX"],[Ce.MAXICODE,"MAXICODE"],[Ce.ITF,"ITF"],[Ce.EAN_13,"EAN_13"],[Ce.EAN_8,"EAN_8"],[Ce.PDF_417,"PDF_417"],[Ce.RSS_14,"RSS_14"],[Ce.RSS_EXPANDED,"RSS_EXPANDED"],[Ce.UPC_A,"UPC_A"],[Ce.UPC_E,"UPC_E"],[Ce.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),iy;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(iy||(iy={}));function Qj(e){return Object.values(Ce).includes(e)}var of;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(of||(of={}));var Zj=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[of.SCAN_TYPE_CAMERA,of.SCAN_TYPE_FILE],e}(),rA=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!sy.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,sy.get(t))},e}(),oy=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),nm;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(nm||(nm={}));var Jj=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:nm.UNKWOWN_ERROR}},e}(),eM=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Ts(e){return typeof e>"u"||e===null}var ba=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),sA=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),u=Object.keys(t),m=0,g=u;m<g.length;m++){var p=g[m];if(a.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),rm={exports:{}};(function(e,t){(function(n,r){r(t)})(pn,function(n){function r(R){return R==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,s){R.__proto__=s}||function(R,s){for(var o in s)s.hasOwnProperty(o)&&(R[o]=s[o])};function a(R,s){i(R,s);function o(){this.constructor=R}R.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}function u(R,s){var o=Object.setPrototypeOf;o?o(R,s):R.__proto__=s}function m(R,s){s===void 0&&(s=R.constructor);var o=Error.captureStackTrace;o&&o(R,s)}var g=function(R){a(s,R);function s(o){var l=this.constructor,c=R.call(this,o)||this;return Object.defineProperty(c,"name",{value:l.name,enumerable:!1}),u(c,l.prototype),m(c),c}return s}(Error);class p extends g{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}p.kind="Exception";class w extends p{}w.kind="ArgumentException";class v extends p{}v.kind="IllegalArgumentException";class E{constructor(s){if(this.binarizer=s,s===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,o){return this.binarizer.getBlackRow(s,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,o,l,c){const d=this.binarizer.getLuminanceSource().crop(s,o,l,c);return new E(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class N extends p{static getChecksumInstance(){return new N}}N.kind="ChecksumException";class P{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class T{static arraycopy(s,o,l,c,d){for(;d--;)l[c++]=s[o++]}static currentTimeMillis(){return Date.now()}}class k extends p{}k.kind="IndexOutOfBoundsException";class I extends k{constructor(s=void 0,o=void 0){super(o),this.index=s,this.message=o}}I.kind="ArrayIndexOutOfBoundsException";class A{static fill(s,o){for(let l=0,c=s.length;l<c;l++)s[l]=o}static fillWithin(s,o,l,c){A.rangeCheck(s.length,o,l);for(let d=o;d<l;d++)s[d]=c}static rangeCheck(s,o,l){if(o>l)throw new v("fromIndex("+o+") > toIndex("+l+")");if(o<0)throw new I(o);if(l>s)throw new I(l)}static asList(...s){return s}static create(s,o,l){return Array.from({length:s}).map(d=>Array.from({length:o}).fill(l))}static createInt32Array(s,o,l){return Array.from({length:s}).map(d=>Int32Array.from({length:o}).fill(l))}static equals(s,o){if(!s||!o||!s.length||!o.length||s.length!==o.length)return!1;for(let l=0,c=s.length;l<c;l++)if(s[l]!==o[l])return!1;return!0}static hashCode(s){if(s===null)return 0;let o=1;for(const l of s)o=31*o+l;return o}static fillUint8Array(s,o){for(let l=0;l!==s.length;l++)s[l]=o}static copyOf(s,o){return s.slice(0,o)}static copyOfUint8Array(s,o){if(s.length<=o){const l=new Uint8Array(o);return l.set(s),l}return s.slice(0,o)}static copyOfRange(s,o,l){const c=l-o,d=new Int32Array(c);return T.arraycopy(s,o,d,0,c),d}static binarySearch(s,o,l){l===void 0&&(l=A.numberComparator);let c=0,d=s.length-1;for(;c<=d;){const f=d+c>>1,x=l(o,s[f]);if(x>0)c=f+1;else if(x<0)d=f-1;else return f}return-c-1}static numberComparator(s,o){return s-o}}class S{static numberOfTrailingZeros(s){let o;if(s===0)return 32;let l=31;return o=s<<16,o!==0&&(l-=16,s=o),o=s<<8,o!==0&&(l-=8,s=o),o=s<<4,o!==0&&(l-=4,s=o),o=s<<2,o!==0&&(l-=2,s=o),l-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let o=1;return s>>>16||(o+=16,s<<=16),s>>>24||(o+=8,s<<=8),s>>>28||(o+=4,s<<=4),s>>>30||(o+=2,s<<=2),o-=s>>>31,o}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,o){return Math.trunc(s/o)}static parseInt(s,o=void 0){return parseInt(s,o)}}S.MIN_VALUE_32_BITS=-2147483648,S.MAX_VALUE=Number.MAX_SAFE_INTEGER;class D{constructor(s,o){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,o==null?this.bits=D.makeArray(s):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const o=D.makeArray(s);T.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const o=this.size;if(s>=o)return o;const l=this.bits;let c=Math.floor(s/32),d=l[c];d&=~((1<<(s&31))-1);const f=l.length;for(;d===0;){if(++c===f)return o;d=l[c]}const x=c*32+S.numberOfTrailingZeros(d);return x>o?o:x}getNextUnset(s){const o=this.size;if(s>=o)return o;const l=this.bits;let c=Math.floor(s/32),d=~l[c];d&=~((1<<(s&31))-1);const f=l.length;for(;d===0;){if(++c===f)return o;d=~l[c]}const x=c*32+S.numberOfTrailingZeros(d);return x>o?o:x}setBulk(s,o){this.bits[Math.floor(s/32)]=o}setRange(s,o){if(o<s||s<0||o>this.size)throw new v;if(o===s)return;o--;const l=Math.floor(s/32),c=Math.floor(o/32),d=this.bits;for(let f=l;f<=c;f++){const x=f>l?0:s&31,b=(2<<(f<c?31:o&31))-(1<<x);d[f]|=b}}clear(){const s=this.bits.length,o=this.bits;for(let l=0;l<s;l++)o[l]=0}isRange(s,o,l){if(o<s||s<0||o>this.size)throw new v;if(o===s)return!0;o--;const c=Math.floor(s/32),d=Math.floor(o/32),f=this.bits;for(let x=c;x<=d;x++){const y=x>c?0:s&31,_=(2<<(x<d?31:o&31))-(1<<y)&4294967295;if((f[x]&_)!==(l?_:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,o){if(o<0||o>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let l=o;l>0;l--)this.appendBit((s>>l-1&1)===1)}appendBitArray(s){const o=s.size;this.ensureCapacity(this.size+o);for(let l=0;l<o;l++)this.appendBit(s.get(l))}xor(s){if(this.size!==s.size)throw new v("Sizes don't match");const o=this.bits;for(let l=0,c=o.length;l<c;l++)o[l]^=s.bits[l]}toBytes(s,o,l,c){for(let d=0;d<c;d++){let f=0;for(let x=0;x<8;x++)this.get(s)&&(f|=1<<7-x),s++;o[l+d]=f}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),l=o+1,c=this.bits;for(let d=0;d<l;d++){let f=c[d];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,s[o-d]=f}if(this.size!==l*32){const d=l*32-this.size;let f=s[0]>>>d;for(let x=1;x<l;x++){const y=s[x];f|=y<<32-d,s[x-1]=f,f=y>>>d}s[l-1]=f}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof D))return!1;const o=s;return this.size===o.size&&A.equals(this.bits,o.bits)}hashCode(){return 31*this.size+A.hashCode(this.bits)}toString(){let s="";for(let o=0,l=this.size;o<l;o++)o&7||(s+=" "),s+=this.get(o)?"X":".";return s}clone(){return new D(this.size,this.bits.slice())}}var W;(function(R){R[R.OTHER=0]="OTHER",R[R.PURE_BARCODE=1]="PURE_BARCODE",R[R.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",R[R.TRY_HARDER=3]="TRY_HARDER",R[R.CHARACTER_SET=4]="CHARACTER_SET",R[R.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",R[R.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",R[R.ASSUME_GS1=7]="ASSUME_GS1",R[R.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",R[R.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",R[R.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(W||(W={}));var V=W;class B extends p{static getFormatInstance(){return new B}}B.kind="FormatException";var L;(function(R){R[R.Cp437=0]="Cp437",R[R.ISO8859_1=1]="ISO8859_1",R[R.ISO8859_2=2]="ISO8859_2",R[R.ISO8859_3=3]="ISO8859_3",R[R.ISO8859_4=4]="ISO8859_4",R[R.ISO8859_5=5]="ISO8859_5",R[R.ISO8859_6=6]="ISO8859_6",R[R.ISO8859_7=7]="ISO8859_7",R[R.ISO8859_8=8]="ISO8859_8",R[R.ISO8859_9=9]="ISO8859_9",R[R.ISO8859_10=10]="ISO8859_10",R[R.ISO8859_11=11]="ISO8859_11",R[R.ISO8859_13=12]="ISO8859_13",R[R.ISO8859_14=13]="ISO8859_14",R[R.ISO8859_15=14]="ISO8859_15",R[R.ISO8859_16=15]="ISO8859_16",R[R.SJIS=16]="SJIS",R[R.Cp1250=17]="Cp1250",R[R.Cp1251=18]="Cp1251",R[R.Cp1252=19]="Cp1252",R[R.Cp1256=20]="Cp1256",R[R.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",R[R.UTF8=22]="UTF8",R[R.ASCII=23]="ASCII",R[R.Big5=24]="Big5",R[R.GB18030=25]="GB18030",R[R.EUC_KR=26]="EUC_KR"})(L||(L={}));class j{constructor(s,o,l,...c){this.valueIdentifier=s,this.name=l,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=c,j.VALUE_IDENTIFIER_TO_ECI.set(s,this),j.NAME_TO_ECI.set(l,this);const d=this.values;for(let f=0,x=d.length;f!==x;f++){const y=d[f];j.VALUES_TO_ECI.set(y,this)}for(const f of c)j.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new B("incorect value");const o=j.VALUES_TO_ECI.get(s);if(o===void 0)throw new B("incorect value");return o}static getCharacterSetECIByName(s){const o=j.NAME_TO_ECI.get(s);if(o===void 0)throw new B("incorect value");return o}equals(s){if(!(s instanceof j))return!1;const o=s;return this.getName()===o.getName()}}j.VALUE_IDENTIFIER_TO_ECI=new Map,j.VALUES_TO_ECI=new Map,j.NAME_TO_ECI=new Map,j.Cp437=new j(L.Cp437,Int32Array.from([0,2]),"Cp437"),j.ISO8859_1=new j(L.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),j.ISO8859_2=new j(L.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),j.ISO8859_3=new j(L.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),j.ISO8859_4=new j(L.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),j.ISO8859_5=new j(L.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),j.ISO8859_6=new j(L.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),j.ISO8859_7=new j(L.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),j.ISO8859_8=new j(L.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),j.ISO8859_9=new j(L.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),j.ISO8859_10=new j(L.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),j.ISO8859_11=new j(L.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),j.ISO8859_13=new j(L.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),j.ISO8859_14=new j(L.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),j.ISO8859_15=new j(L.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),j.ISO8859_16=new j(L.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),j.SJIS=new j(L.SJIS,20,"SJIS","Shift_JIS"),j.Cp1250=new j(L.Cp1250,21,"Cp1250","windows-1250"),j.Cp1251=new j(L.Cp1251,22,"Cp1251","windows-1251"),j.Cp1252=new j(L.Cp1252,23,"Cp1252","windows-1252"),j.Cp1256=new j(L.Cp1256,24,"Cp1256","windows-1256"),j.UnicodeBigUnmarked=new j(L.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),j.UTF8=new j(L.UTF8,26,"UTF8","UTF-8"),j.ASCII=new j(L.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),j.Big5=new j(L.Big5,28,"Big5"),j.GB18030=new j(L.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),j.EUC_KR=new j(L.EUC_KR,30,"EUC_KR","EUC-KR");class z extends p{}z.kind="UnsupportedOperationException";class ee{static decode(s,o){const l=this.encodingName(o);return this.customDecoder?this.customDecoder(s,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(s,l):new TextDecoder(l).decode(s)}static shouldDecodeOnFallback(s){return!ee.isBrowser()&&s==="ISO-8859-1"}static encode(s,o){const l=this.encodingName(o);return this.customEncoder?this.customEncoder(s,l):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof j?s:j.getCharacterSetECIByName(s)}static decodeFallback(s,o){const l=this.encodingCharacterSet(o);if(ee.isDecodeFallbackSupported(l)){let c="";for(let d=0,f=s.length;d<f;d++){let x=s[d].toString(16);x.length<2&&(x="0"+x),c+="%"+x}return decodeURIComponent(c)}if(l.equals(j.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new z(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(j.UTF8)||s.equals(j.ISO8859_1)||s.equals(j.ASCII)}static encodeFallback(s){const l=btoa(unescape(encodeURIComponent(s))).split(""),c=[];for(let d=0;d<l.length;d++)c.push(l[d].charCodeAt(0));return new Uint8Array(c)}}class q{static castAsNonUtf8Char(s,o=null){const l=o?o.getName():this.ISO88591;return ee.decode(new Uint8Array([s]),l)}static guessEncoding(s,o){if(o!=null&&o.get(V.CHARACTER_SET)!==void 0)return o.get(V.CHARACTER_SET).toString();const l=s.length;let c=!0,d=!0,f=!0,x=0,y=0,b=0,_=0,O=0,M=0,U=0,H=0,G=0,Y=0,J=0;const le=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let ce=0;ce<l&&(c||d||f);ce++){const oe=s[ce]&255;f&&(x>0?oe&128?x--:f=!1:oe&128&&(oe&64?(x++,oe&32?(x++,oe&16?(x++,oe&8?f=!1:_++):b++):y++):f=!1)),c&&(oe>127&&oe<160?c=!1:oe>159&&(oe<192||oe===215||oe===247)&&J++),d&&(O>0?oe<64||oe===127||oe>252?d=!1:O--:oe===128||oe===160||oe>239?d=!1:oe>160&&oe<224?(M++,H=0,U++,U>G&&(G=U)):oe>127?(O++,U=0,H++,H>Y&&(Y=H)):(U=0,H=0))}return f&&x>0&&(f=!1),d&&O>0&&(d=!1),f&&(le||y+b+_>0)?q.UTF8:d&&(q.ASSUME_SHIFT_JIS||G>=3||Y>=3)?q.SHIFT_JIS:c&&d?G===2&&M===2||J*10>=l?q.SHIFT_JIS:q.ISO88591:c?q.ISO88591:d?q.SHIFT_JIS:f?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(s,...o){let l=-1;function c(f,x,y,b,_,O){if(f==="%%")return"%";if(o[++l]===void 0)return;f=b?parseInt(b.substr(1)):void 0;let M=_?parseInt(_.substr(1)):void 0,U;switch(O){case"s":U=o[l];break;case"c":U=o[l][0];break;case"f":U=parseFloat(o[l]).toFixed(f);break;case"p":U=parseFloat(o[l]).toPrecision(f);break;case"e":U=parseFloat(o[l]).toExponential(f);break;case"x":U=parseInt(o[l]).toString(M||16);break;case"d":U=parseFloat(parseInt(o[l],M||10).toPrecision(f)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(M);let H=parseInt(y),G=y&&y[0]+""=="0"?"0":" ";for(;U.length<H;)U=x!==void 0?U+G:G+U;return U}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(d,c)}static getBytes(s,o){return ee.encode(s,o)}static getCharCode(s,o=0){return s.charCodeAt(o)}static getCharAt(s){return String.fromCharCode(s)}}q.SHIFT_JIS=j.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=j.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=j.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class se{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=q.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,o,l){for(let c=o;o<o+l;c++)this.append(s[c]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+1)}substring(s,o){return this.value.substring(s,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+o.length)}}class re{constructor(s,o,l,c){if(this.width=s,this.height=o,this.rowSize=l,this.bits=c,o==null&&(o=s),this.height=o,s<1||o<1)throw new v("Both dimensions must be greater than 0");l==null&&(l=Math.floor((s+31)/32)),this.rowSize=l,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const o=s.length,l=s[0].length,c=new re(l,o);for(let d=0;d<o;d++){const f=s[d];for(let x=0;x<l;x++)f[x]&&c.set(x,d)}return c}static parseFromString(s,o,l){if(s===null)throw new v("stringRepresentation cannot be null");const c=new Array(s.length);let d=0,f=0,x=-1,y=0,b=0;for(;b<s.length;)if(s.charAt(b)===`
`||s.charAt(b)==="\r"){if(d>f){if(x===-1)x=d-f;else if(d-f!==x)throw new v("row lengths do not match");f=d,y++}b++}else if(s.substring(b,b+o.length)===o)b+=o.length,c[d]=!0,d++;else if(s.substring(b,b+l.length)===l)b+=l.length,c[d]=!1,d++;else throw new v("illegal character encountered: "+s.substring(b));if(d>f){if(x===-1)x=d-f;else if(d-f!==x)throw new v("row lengths do not match");y++}const _=new re(x,y);for(let O=0;O<d;O++)c[O]&&_.set(Math.floor(O%x),Math.floor(O/x));return _}get(s,o){const l=o*this.rowSize+Math.floor(s/32);return(this.bits[l]>>>(s&31)&1)!==0}set(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]|=1<<(s&31)&4294967295}unset(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]&=~(1<<(s&31)&4294967295)}flip(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new v("input matrix dimensions do not match");const o=new D(Math.floor(this.width/32)+1),l=this.rowSize,c=this.bits;for(let d=0,f=this.height;d<f;d++){const x=d*l,y=s.getRow(d,o).getBitArray();for(let b=0;b<l;b++)c[x+b]^=y[b]}}clear(){const s=this.bits,o=s.length;for(let l=0;l<o;l++)s[l]=0}setRegion(s,o,l,c){if(o<0||s<0)throw new v("Left and top must be nonnegative");if(c<1||l<1)throw new v("Height and width must be at least 1");const d=s+l,f=o+c;if(f>this.height||d>this.width)throw new v("The region must fit inside the matrix");const x=this.rowSize,y=this.bits;for(let b=o;b<f;b++){const _=b*x;for(let O=s;O<d;O++)y[_+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(s,o){o==null||o.getSize()<this.width?o=new D(this.width):o.clear();const l=this.rowSize,c=this.bits,d=s*l;for(let f=0;f<l;f++)o.setBulk(f*32,c[d+f]);return o}setRow(s,o){T.arraycopy(o.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),o=this.getHeight();let l=new D(s),c=new D(s);for(let d=0,f=Math.floor((o+1)/2);d<f;d++)l=this.getRow(d,l),c=this.getRow(o-1-d,c),l.reverse(),c.reverse(),this.setRow(d,c),this.setRow(o-1-d,l)}getEnclosingRectangle(){const s=this.width,o=this.height,l=this.rowSize,c=this.bits;let d=s,f=o,x=-1,y=-1;for(let b=0;b<o;b++)for(let _=0;_<l;_++){const O=c[b*l+_];if(O!==0){if(b<f&&(f=b),b>y&&(y=b),_*32<d){let M=0;for(;!(O<<31-M&4294967295);)M++;_*32+M<d&&(d=_*32+M)}if(_*32+31>x){let M=31;for(;!(O>>>M);)M--;_*32+M>x&&(x=_*32+M)}}}return x<d||y<f?null:Int32Array.from([d,f,x-d+1,y-f+1])}getTopLeftOnBit(){const s=this.rowSize,o=this.bits;let l=0;for(;l<o.length&&o[l]===0;)l++;if(l===o.length)return null;const c=l/s;let d=l%s*32;const f=o[l];let x=0;for(;!(f<<31-x&4294967295);)x++;return d+=x,Int32Array.from([d,c])}getBottomRightOnBit(){const s=this.rowSize,o=this.bits;let l=o.length-1;for(;l>=0&&o[l]===0;)l--;if(l<0)return null;const c=Math.floor(l/s);let d=Math.floor(l%s)*32;const f=o[l];let x=31;for(;!(f>>>x);)x--;return d+=x,Int32Array.from([d,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof re))return!1;const o=s;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&A.equals(this.bits,o.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+A.hashCode(this.bits),s}toString(s="X ",o="  ",l=`
`){return this.buildToString(s,o,l)}buildToString(s,o,l){let c=new se;for(let d=0,f=this.height;d<f;d++){for(let x=0,y=this.width;x<y;x++)c.append(this.get(x,d)?s:o);c.append(l)}return c.toString()}clone(){return new re(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends p{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class fe extends P{constructor(s){super(s),this.luminances=fe.EMPTY,this.buckets=new Int32Array(fe.LUMINANCE_BUCKETS)}getBlackRow(s,o){const l=this.getLuminanceSource(),c=l.getWidth();o==null||o.getSize()<c?o=new D(c):o.clear(),this.initArrays(c);const d=l.getRow(s,this.luminances),f=this.buckets;for(let y=0;y<c;y++)f[(d[y]&255)>>fe.LUMINANCE_SHIFT]++;const x=fe.estimateBlackPoint(f);if(c<3)for(let y=0;y<c;y++)(d[y]&255)<x&&o.set(y);else{let y=d[0]&255,b=d[1]&255;for(let _=1;_<c-1;_++){const O=d[_+1]&255;(b*4-y-O)/2<x&&o.set(_),y=b,b=O}}return o}getBlackMatrix(){const s=this.getLuminanceSource(),o=s.getWidth(),l=s.getHeight(),c=new re(o,l);this.initArrays(o);const d=this.buckets;for(let y=1;y<5;y++){const b=Math.floor(l*y/5),_=s.getRow(b,this.luminances),O=Math.floor(o*4/5);for(let M=Math.floor(o/5);M<O;M++){const U=_[M]&255;d[U>>fe.LUMINANCE_SHIFT]++}}const f=fe.estimateBlackPoint(d),x=s.getMatrix();for(let y=0;y<l;y++){const b=y*o;for(let _=0;_<o;_++)(x[b+_]&255)<f&&c.set(_,y)}return c}createBinarizer(s){return new fe(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const o=this.buckets;for(let l=0;l<fe.LUMINANCE_BUCKETS;l++)o[l]=0}static estimateBlackPoint(s){const o=s.length;let l=0,c=0,d=0;for(let _=0;_<o;_++)s[_]>d&&(c=_,d=s[_]),s[_]>l&&(l=s[_]);let f=0,x=0;for(let _=0;_<o;_++){const O=_-c,M=s[_]*O*O;M>x&&(f=_,x=M)}if(c>f){const _=c;c=f,f=_}if(f-c<=o/16)throw new X;let y=f-1,b=-1;for(let _=f-1;_>c;_--){const O=_-c,M=O*O*(f-_)*(l-s[_]);M>b&&(y=_,b=M)}return y<<fe.LUMINANCE_SHIFT}}fe.LUMINANCE_BITS=5,fe.LUMINANCE_SHIFT=8-fe.LUMINANCE_BITS,fe.LUMINANCE_BUCKETS=1<<fe.LUMINANCE_BITS,fe.EMPTY=Uint8ClampedArray.from([0]);class ne extends fe{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),o=s.getWidth(),l=s.getHeight();if(o>=ne.MINIMUM_DIMENSION&&l>=ne.MINIMUM_DIMENSION){const c=s.getMatrix();let d=o>>ne.BLOCK_SIZE_POWER;o&ne.BLOCK_SIZE_MASK&&d++;let f=l>>ne.BLOCK_SIZE_POWER;l&ne.BLOCK_SIZE_MASK&&f++;const x=ne.calculateBlackPoints(c,d,f,o,l),y=new re(o,l);ne.calculateThresholdForBlock(c,d,f,o,l,x,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new ne(s)}static calculateThresholdForBlock(s,o,l,c,d,f,x){const y=d-ne.BLOCK_SIZE,b=c-ne.BLOCK_SIZE;for(let _=0;_<l;_++){let O=_<<ne.BLOCK_SIZE_POWER;O>y&&(O=y);const M=ne.cap(_,2,l-3);for(let U=0;U<o;U++){let H=U<<ne.BLOCK_SIZE_POWER;H>b&&(H=b);const G=ne.cap(U,2,o-3);let Y=0;for(let le=-2;le<=2;le++){const ce=f[M+le];Y+=ce[G-2]+ce[G-1]+ce[G]+ce[G+1]+ce[G+2]}const J=Y/25;ne.thresholdBlock(s,H,O,J,c,x)}}}static cap(s,o,l){return s<o?o:s>l?l:s}static thresholdBlock(s,o,l,c,d,f){for(let x=0,y=l*d+o;x<ne.BLOCK_SIZE;x++,y+=d)for(let b=0;b<ne.BLOCK_SIZE;b++)(s[y+b]&255)<=c&&f.set(o+b,l+x)}static calculateBlackPoints(s,o,l,c,d){const f=d-ne.BLOCK_SIZE,x=c-ne.BLOCK_SIZE,y=new Array(l);for(let b=0;b<l;b++){y[b]=new Int32Array(o);let _=b<<ne.BLOCK_SIZE_POWER;_>f&&(_=f);for(let O=0;O<o;O++){let M=O<<ne.BLOCK_SIZE_POWER;M>x&&(M=x);let U=0,H=255,G=0;for(let J=0,le=_*c+M;J<ne.BLOCK_SIZE;J++,le+=c){for(let ce=0;ce<ne.BLOCK_SIZE;ce++){const oe=s[le+ce]&255;U+=oe,oe<H&&(H=oe),oe>G&&(G=oe)}if(G-H>ne.MIN_DYNAMIC_RANGE)for(J++,le+=c;J<ne.BLOCK_SIZE;J++,le+=c)for(let ce=0;ce<ne.BLOCK_SIZE;ce++)U+=s[le+ce]&255}let Y=U>>ne.BLOCK_SIZE_POWER*2;if(G-H<=ne.MIN_DYNAMIC_RANGE&&(Y=H/2,b>0&&O>0)){const J=(y[b-1][O]+2*y[b][O-1]+y[b-1][O-1])/4;H<J&&(Y=J)}y[b][O]=Y}}return y}}ne.BLOCK_SIZE_POWER=3,ne.BLOCK_SIZE=1<<ne.BLOCK_SIZE_POWER,ne.BLOCK_SIZE_MASK=ne.BLOCK_SIZE-1,ne.MINIMUM_DIMENSION=ne.BLOCK_SIZE*5,ne.MIN_DYNAMIC_RANGE=24;class Q{constructor(s,o){this.width=s,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,o,l,c){throw new z("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new z("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new z("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let o=new se;for(let l=0;l<this.height;l++){const c=this.getRow(l,s);for(let d=0;d<this.width;d++){const f=c[d]&255;let x;f<64?x="#":f<128?x="+":f<192?x=".":x=" ",o.append(x)}o.append(`
`)}return o.toString()}}class te extends Q{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,o){const l=this.delegate.getRow(s,o),c=this.getWidth();for(let d=0;d<c;d++)l[d]=255-(l[d]&255);return l}getMatrix(){const s=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(o);for(let c=0;c<o;c++)l[c]=255-(s[c]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(s,o,l,c){return new te(this.delegate.crop(s,o,l,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new te(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new te(this.delegate.rotateCounterClockwise45())}}class he extends Q{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=he.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const o=s.getContext("2d").getImageData(0,0,s.width,s.height);return he.toGrayscaleBuffer(o.data,s.width,s.height)}static toGrayscaleBuffer(s,o,l){const c=new Uint8ClampedArray(o*l);for(let d=0,f=0,x=s.length;d<x;d+=4,f++){let y;if(s[d+3]===0)y=255;else{const _=s[d],O=s[d+1],M=s[d+2];y=306*_+601*O+117*M+512>>10}c[f]=y}return c}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const l=this.getWidth(),c=s*l;return o===null?o=this.buffer.slice(c,c+l):(o.length<l&&(o=new Uint8ClampedArray(l)),o.set(this.buffer.slice(c,c+l))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,o,l,c){return super.crop(s,o,l,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const o=this.getTempCanvasElement(),l=o.getContext("2d"),c=s*he.DEGREE_TO_RADIANS,d=this.canvas.width,f=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(c))*d+Math.abs(Math.sin(c))*f),y=Math.ceil(Math.abs(Math.sin(c))*d+Math.abs(Math.cos(c))*f);return o.width=x,o.height=y,l.translate(x/2,y/2),l.rotate(c),l.drawImage(this.canvas,d/-2,f/-2),this.buffer=he.makeBufferFromCanvasImageData(o),this}invert(){return new te(this)}}he.DEGREE_TO_RADIANS=Math.PI/180;class ue{constructor(s,o,l){this.deviceId=s,this.label=o,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ge=(globalThis||pn||self||window||void 0)&&(globalThis||pn||self||window||void 0).__awaiter||function(R,s,o,l){function c(d){return d instanceof o?d:new o(function(f){f(d)})}return new(o||(o=Promise))(function(d,f){function x(_){try{b(l.next(_))}catch(O){f(O)}}function y(_){try{b(l.throw(_))}catch(O){f(O)}}function b(_){_.done?d(_.value):c(_.value).then(x,y)}b((l=l.apply(R,s||[])).next())})};class we{constructor(s,o=500,l){this.reader=s,this.timeBetweenScansMillis=o,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return ge(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const l of s){const c=l.kind==="video"?"videoinput":l.kind;if(c!=="videoinput")continue;const d=l.deviceId||l.id,f=l.label||`Video device ${o.length+1}`,x=l.groupId,y={deviceId:d,label:f,kind:c,groupId:x};o.push(y)}return o})}getVideoInputDevices(){return ge(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new ue(o.deviceId,o.label))})}findDeviceById(s){return ge(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(l=>l.deviceId===s):null})}decodeFromInputVideoDevice(s,o){return ge(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,o)})}decodeOnceFromVideoDevice(s,o){return ge(this,void 0,void 0,function*(){this.reset();let l;s?l={deviceId:{exact:s}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeOnceFromConstraints(c,o)})}decodeOnceFromConstraints(s,o){return ge(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(l,o)})}decodeOnceFromStream(s,o){return ge(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(s,o);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(s,o,l){return ge(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,o,l)})}decodeFromVideoDevice(s,o,l){return ge(this,void 0,void 0,function*(){let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const d={video:c};return yield this.decodeFromConstraints(d,o,l)})}decodeFromConstraints(s,o,l){return ge(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(c,o,l)})}decodeFromStream(s,o,l){return ge(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,o);return yield this.decodeContinuously(c,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,o){return ge(this,void 0,void 0,function*(){const l=this.prepareVideoElement(o);return this.addVideoSource(l,s),this.videoElement=l,this.stream=s,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(s){return new Promise((o,l)=>this.playVideoOnLoad(s,()=>o()))}playVideoOnLoad(s,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",o),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return ge(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,o){const l=document.getElementById(s);if(!l)throw new w(`element with id '${s}' not found`);if(l.nodeName.toLowerCase()!==o.toLowerCase())throw new w(`element with id '${s}' must be an ${o} element`);return l}decodeFromImage(s,o){if(!s&&!o)throw new w("either imageElement with a src set or an url must be provided");return o&&!s?this.decodeFromImageUrl(o):this.decodeFromImageElement(s)}decodeFromVideo(s,o){if(!s&&!o)throw new w("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,o,l){if(s===void 0&&o===void 0)throw new w("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrlContinuously(o,l):this.decodeFromVideoElementContinuously(s,l)}decodeFromImageElement(s){if(!s)throw new w("An image element must be provided.");this.reset();const o=this.prepareImageElement(s);this.imageElement=o;let l;return this.isImageLoaded(o)?l=this.decodeOnce(o,!1,!0):l=this._decodeOnLoadImage(o),l}decodeFromVideoElement(s){const o=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(s,o){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(l,o)}_decodeFromVideoElementSetup(s){if(!s)throw new w("A video element must be provided.");this.reset();const o=this.prepareVideoElement(s);return this.videoElement=o,o}decodeFromImageUrl(s){if(!s)throw new w("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const l=this._decodeOnLoadImage(o);return o.src=s,l}decodeFromVideoUrl(s){if(!s)throw new w("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElement(o);return o.src=s,l}decodeFromVideoUrlContinuously(s,o){if(!s)throw new w("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(l,o);return l.src=s,c}_decodeOnLoadImage(s){return new Promise((o,l)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(o,l),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return ge(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,o){return ge(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,o)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let o;return typeof s>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(o=s),o}prepareVideoElement(s){let o;return!s&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(o=s),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(s,o=!0,l=!0){this._stopAsyncDecode=!1;const c=(d,f)=>{if(this._stopAsyncDecode){f(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(s);d(x)}catch(x){const y=o&&x instanceof X,_=(x instanceof N||x instanceof B)&&l;if(y||_)return setTimeout(c,this._timeBetweenDecodingAttempts,d,f);f(x)}};return new Promise((d,f)=>c(d,f))}decodeContinuously(s,o){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(s);o(c,null),setTimeout(l,this.timeBetweenScansMillis)}catch(c){o(null,c);const d=c instanceof N||c instanceof B,f=c instanceof X;(d||f)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(s){const o=this.createBinaryBitmap(s);return this.decodeBitmap(o)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,o,l){o||(o={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(s,o,l=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const o=this.getCaptureCanvas(s),l=new he(o),c=new ne(l);return new E(c)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const o=this.createCaptureCanvas(s);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let l,c;return typeof s<"u"&&(s instanceof HTMLVideoElement?(l=s.videoWidth,c=s.videoHeight):s instanceof HTMLImageElement&&(l=s.naturalWidth||s.width,c=s.naturalHeight||s.height)),o.style.width=l+"px",o.style.height=c+"px",o.width=l,o.height=c,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,o){try{s.srcObject=o}catch{s.src=URL.createObjectURL(o)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Re{constructor(s,o,l=o==null?0:8*o.length,c,d,f=T.currentTimeMillis()){this.text=s,this.rawBytes=o,this.numBits=l,this.resultPoints=c,this.format=d,this.timestamp=f,this.text=s,this.rawBytes=o,l==null?this.numBits=o==null?0:8*o.length:this.numBits=l,this.resultPoints=c,this.format=d,this.resultMetadata=null,f==null?this.timestamp=T.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,o)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const o=this.resultPoints;if(o===null)this.resultPoints=s;else if(s!==null&&s.length>0){const l=new Array(o.length+s.length);T.arraycopy(o,0,l,0,o.length),T.arraycopy(s,0,l,o.length,s.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var st;(function(R){R[R.AZTEC=0]="AZTEC",R[R.CODABAR=1]="CODABAR",R[R.CODE_39=2]="CODE_39",R[R.CODE_93=3]="CODE_93",R[R.CODE_128=4]="CODE_128",R[R.DATA_MATRIX=5]="DATA_MATRIX",R[R.EAN_8=6]="EAN_8",R[R.EAN_13=7]="EAN_13",R[R.ITF=8]="ITF",R[R.MAXICODE=9]="MAXICODE",R[R.PDF_417=10]="PDF_417",R[R.QR_CODE=11]="QR_CODE",R[R.RSS_14=12]="RSS_14",R[R.RSS_EXPANDED=13]="RSS_EXPANDED",R[R.UPC_A=14]="UPC_A",R[R.UPC_E=15]="UPC_E",R[R.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(st||(st={}));var de=st,Ee;(function(R){R[R.OTHER=0]="OTHER",R[R.ORIENTATION=1]="ORIENTATION",R[R.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",R[R.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",R[R.ISSUE_NUMBER=4]="ISSUE_NUMBER",R[R.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",R[R.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",R[R.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",R[R.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",R[R.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",R[R.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ee||(Ee={}));var xe=Ee;class De{constructor(s,o,l,c,d=-1,f=-1){this.rawBytes=s,this.text=o,this.byteSegments=l,this.ecLevel=c,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=f,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Oe{exp(s){return this.expTable[s]}log(s){if(s===0)throw new v;return this.logTable[s]}static addOrSubtract(s,o){return s^o}}class pe{constructor(s,o){if(o.length===0)throw new v;this.field=s;const l=o.length;if(l>1&&o[0]===0){let c=1;for(;c<l&&o[c]===0;)c++;c===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-c),T.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const o=this.coefficients;let l;if(s===1){l=0;for(let f=0,x=o.length;f!==x;f++){const y=o[f];l=Oe.addOrSubtract(l,y)}return l}l=o[0];const c=o.length,d=this.field;for(let f=1;f<c;f++)l=Oe.addOrSubtract(d.multiply(s,l),o[f]);return l}addOrSubtract(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,l=s.coefficients;if(o.length>l.length){const f=o;o=l,l=f}let c=new Int32Array(l.length);const d=l.length-o.length;T.arraycopy(l,0,c,0,d);for(let f=d;f<l.length;f++)c[f]=Oe.addOrSubtract(o[f-d],l[f]);return new pe(this.field,c)}multiply(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const o=this.coefficients,l=o.length,c=s.coefficients,d=c.length,f=new Int32Array(l+d-1),x=this.field;for(let y=0;y<l;y++){const b=o[y];for(let _=0;_<d;_++)f[y+_]=Oe.addOrSubtract(f[y+_],x.multiply(b,c[_]))}return new pe(x,f)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const o=this.coefficients.length,l=this.field,c=new Int32Array(o),d=this.coefficients;for(let f=0;f<o;f++)c[f]=l.multiply(d[f],s);return new pe(l,c)}multiplyByMonomial(s,o){if(s<0)throw new v;if(o===0)return this.field.getZero();const l=this.coefficients,c=l.length,d=new Int32Array(c+s),f=this.field;for(let x=0;x<c;x++)d[x]=f.multiply(l[x],o);return new pe(f,d)}divide(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new v("Divide by 0");const o=this.field;let l=o.getZero(),c=this;const d=s.getCoefficient(s.getDegree()),f=o.inverse(d);for(;c.getDegree()>=s.getDegree()&&!c.isZero();){const x=c.getDegree()-s.getDegree(),y=o.multiply(c.getCoefficient(c.getDegree()),f),b=s.multiplyByMonomial(x,y),_=o.buildMonomial(x,y);l=l.addOrSubtract(_),c=c.addOrSubtract(b)}return[l,c]}toString(){let s="";for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);if(l!==0){if(l<0?(s+=" - ",l=-l):s.length>0&&(s+=" + "),o===0||l!==1){const c=this.field.log(l);c===0?s+="1":c===1?s+="a":(s+="a^",s+=c)}o!==0&&(o===1?s+="x":(s+="x^",s+=o))}}return s}}class Te extends p{}Te.kind="ArithmeticException";class Ae extends Oe{constructor(s,o,l){super(),this.primitive=s,this.size=o,this.generatorBase=l;const c=new Int32Array(o);let d=1;for(let x=0;x<o;x++)c[x]=d,d*=2,d>=o&&(d^=s,d&=o-1);this.expTable=c;const f=new Int32Array(o);for(let x=0;x<o-1;x++)f[c[x]]=x;this.logTable=f,this.zero=new pe(this,Int32Array.from([0])),this.one=new pe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new v;if(o===0)return this.zero;const l=new Int32Array(s+1);return l[0]=o,new pe(this,l)}inverse(s){if(s===0)throw new Te;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+S.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}Ae.AZTEC_DATA_12=new Ae(4201,4096,1),Ae.AZTEC_DATA_10=new Ae(1033,1024,1),Ae.AZTEC_DATA_6=new Ae(67,64,1),Ae.AZTEC_PARAM=new Ae(19,16,1),Ae.QR_CODE_FIELD_256=new Ae(285,256,0),Ae.DATA_MATRIX_FIELD_256=new Ae(301,256,1),Ae.AZTEC_DATA_8=Ae.DATA_MATRIX_FIELD_256,Ae.MAXICODE_FIELD_64=Ae.AZTEC_DATA_6;class He extends p{}He.kind="ReedSolomonException";class ze extends p{}ze.kind="IllegalStateException";class Fe{constructor(s){this.field=s}decode(s,o){const l=this.field,c=new pe(l,s),d=new Int32Array(o);let f=!0;for(let U=0;U<o;U++){const H=c.evaluateAt(l.exp(U+l.getGeneratorBase()));d[d.length-1-U]=H,H!==0&&(f=!1)}if(f)return;const x=new pe(l,d),y=this.runEuclideanAlgorithm(l.buildMonomial(o,1),x,o),b=y[0],_=y[1],O=this.findErrorLocations(b),M=this.findErrorMagnitudes(_,O);for(let U=0;U<O.length;U++){const H=s.length-1-l.log(O[U]);if(H<0)throw new He("Bad error location");s[H]=Ae.addOrSubtract(s[H],M[U])}}runEuclideanAlgorithm(s,o,l){if(s.getDegree()<o.getDegree()){const U=s;s=o,o=U}const c=this.field;let d=s,f=o,x=c.getZero(),y=c.getOne();for(;f.getDegree()>=(l/2|0);){let U=d,H=x;if(d=f,x=y,d.isZero())throw new He("r_{i-1} was zero");f=U;let G=c.getZero();const Y=d.getCoefficient(d.getDegree()),J=c.inverse(Y);for(;f.getDegree()>=d.getDegree()&&!f.isZero();){const le=f.getDegree()-d.getDegree(),ce=c.multiply(f.getCoefficient(f.getDegree()),J);G=G.addOrSubtract(c.buildMonomial(le,ce)),f=f.addOrSubtract(d.multiplyByMonomial(le,ce))}if(y=G.multiply(x).addOrSubtract(H),f.getDegree()>=d.getDegree())throw new ze("Division algorithm failed to reduce polynomial?")}const b=y.getCoefficient(0);if(b===0)throw new He("sigmaTilde(0) was zero");const _=c.inverse(b),O=y.multiplyScalar(_),M=f.multiplyScalar(_);return[O,M]}findErrorLocations(s){const o=s.getDegree();if(o===1)return Int32Array.from([s.getCoefficient(1)]);const l=new Int32Array(o);let c=0;const d=this.field;for(let f=1;f<d.getSize()&&c<o;f++)s.evaluateAt(f)===0&&(l[c]=d.inverse(f),c++);if(c!==o)throw new He("Error locator degree does not match number of roots");return l}findErrorMagnitudes(s,o){const l=o.length,c=new Int32Array(l),d=this.field;for(let f=0;f<l;f++){const x=d.inverse(o[f]);let y=1;for(let b=0;b<l;b++)if(f!==b){const _=d.multiply(o[b],x),O=_&1?_&-2:_|1;y=d.multiply(y,O)}c[f]=d.multiply(s.evaluateAt(x),d.inverse(y)),d.getGeneratorBase()!==0&&(c[f]=d.multiply(c[f],x))}return c}}var Ye;(function(R){R[R.UPPER=0]="UPPER",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.DIGIT=3]="DIGIT",R[R.PUNCT=4]="PUNCT",R[R.BINARY=5]="BINARY"})(Ye||(Ye={}));class Ne{decode(s){this.ddata=s;let o=s.getBits(),l=this.extractBits(o),c=this.correctBits(l),d=Ne.convertBoolArrayToByteArray(c),f=Ne.getEncodedData(c),x=new De(d,f,null,null);return x.setNumBits(c.length),x}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let o=s.length,l=Ye.UPPER,c=Ye.UPPER,d="",f=0;for(;f<o;)if(c===Ye.BINARY){if(o-f<5)break;let x=Ne.readCode(s,f,5);if(f+=5,x===0){if(o-f<11)break;x=Ne.readCode(s,f,11)+31,f+=11}for(let y=0;y<x;y++){if(o-f<8){f=o;break}const b=Ne.readCode(s,f,8);d+=q.castAsNonUtf8Char(b),f+=8}c=l}else{let x=c===Ye.DIGIT?4:5;if(o-f<x)break;let y=Ne.readCode(s,f,x);f+=x;let b=Ne.getCharacter(c,y);b.startsWith("CTRL_")?(l=c,c=Ne.getTable(b.charAt(5)),b.charAt(6)==="L"&&(l=c)):(d+=b,c=l)}return d}static getTable(s){switch(s){case"L":return Ye.LOWER;case"P":return Ye.PUNCT;case"M":return Ye.MIXED;case"D":return Ye.DIGIT;case"B":return Ye.BINARY;case"U":default:return Ye.UPPER}}static getCharacter(s,o){switch(s){case Ye.UPPER:return Ne.UPPER_TABLE[o];case Ye.LOWER:return Ne.LOWER_TABLE[o];case Ye.MIXED:return Ne.MIXED_TABLE[o];case Ye.PUNCT:return Ne.PUNCT_TABLE[o];case Ye.DIGIT:return Ne.DIGIT_TABLE[o];default:throw new ze("Bad table")}}correctBits(s){let o,l;this.ddata.getNbLayers()<=2?(l=6,o=Ae.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,o=Ae.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,o=Ae.AZTEC_DATA_10):(l=12,o=Ae.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),d=s.length/l;if(d<c)throw new B;let f=s.length%l,x=new Int32Array(d);for(let M=0;M<d;M++,f+=l)x[M]=Ne.readCode(s,f,l);try{new Fe(o).decode(x,d-c)}catch(M){throw new B(M)}let y=(1<<l)-1,b=0;for(let M=0;M<c;M++){let U=x[M];if(U===0||U===y)throw new B;(U===1||U===y-1)&&b++}let _=new Array(c*l-b),O=0;for(let M=0;M<c;M++){let U=x[M];if(U===1||U===y-1)_.fill(U>1,O,O+l-1),O+=l-1;else for(let H=l-1;H>=0;--H)_[O++]=(U&1<<H)!==0}return _}extractBits(s){let o=this.ddata.isCompact(),l=this.ddata.getNbLayers(),c=(o?11:14)+l*4,d=new Int32Array(c),f=new Array(this.totalBitsInLayer(l,o));if(o)for(let x=0;x<d.length;x++)d[x]=x;else{let x=c+1+2*S.truncDivision(S.truncDivision(c,2)-1,15),y=c/2,b=S.truncDivision(x,2);for(let _=0;_<y;_++){let O=_+S.truncDivision(_,15);d[y-_-1]=b-O-1,d[y+_]=b+O+1}}for(let x=0,y=0;x<l;x++){let b=(l-x)*4+(o?9:12),_=x*2,O=c-1-_;for(let M=0;M<b;M++){let U=M*2;for(let H=0;H<2;H++)f[y+U+H]=s.get(d[_+H],d[_+M]),f[y+2*b+U+H]=s.get(d[_+M],d[O-H]),f[y+4*b+U+H]=s.get(d[O-H],d[O-M]),f[y+6*b+U+H]=s.get(d[O-M],d[_+H])}y+=b*8}return f}static readCode(s,o,l){let c=0;for(let d=o;d<o+l;d++)c<<=1,s[d]&&(c|=1);return c}static readByte(s,o){let l=s.length-o;return l>=8?Ne.readCode(s,o,8):Ne.readCode(s,o,l)<<8-l}static convertBoolArrayToByteArray(s){let o=new Uint8Array((s.length+7)/8);for(let l=0;l<o.length;l++)o[l]=Ne.readByte(s,8*l);return o}totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}Ne.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ne.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ne.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ne.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ne.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class _e{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,o,l,c){const d=s-l,f=o-c;return Math.sqrt(d*d+f*f)}static sum(s){let o=0;for(let l=0,c=s.length;l!==c;l++){const d=s[l];o+=d}return o}}class Mt{static floatToIntBits(s){return s}}Mt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ve{constructor(s,o){this.x=s,this.y=o}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof ve){const o=s;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Mt.floatToIntBits(this.x)+Mt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const o=this.distance(s[0],s[1]),l=this.distance(s[1],s[2]),c=this.distance(s[0],s[2]);let d,f,x;if(l>=o&&l>=c?(f=s[0],d=s[1],x=s[2]):c>=l&&c>=o?(f=s[1],d=s[0],x=s[2]):(f=s[2],d=s[0],x=s[1]),this.crossProductZ(d,f,x)<0){const y=d;d=x,x=y}s[0]=d,s[1]=f,s[2]=x}static distance(s,o){return _e.distance(s.x,s.y,o.x,o.y)}static crossProductZ(s,o,l){const c=o.x,d=o.y;return(l.x-c)*(s.y-d)-(l.y-d)*(s.x-c)}}class Pn{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Xs extends Pn{constructor(s,o,l,c,d){super(s,o),this.compact=l,this.nbDatablocks=c,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class _t{constructor(s,o,l,c){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),o==null&&(o=_t.INIT_SIZE),l==null&&(l=s.getWidth()/2|0),c==null&&(c=s.getHeight()/2|0);const d=o/2|0;if(this.leftInit=l-d,this.rightInit=l+d,this.upInit=c-d,this.downInit=c+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let s=this.leftInit,o=this.rightInit,l=this.upInit,c=this.downInit,d=!1,f=!0,x=!1,y=!1,b=!1,_=!1,O=!1;const M=this.width,U=this.height;for(;f;){f=!1;let H=!0;for(;(H||!y)&&o<M;)H=this.containsBlackPoint(l,c,o,!1),H?(o++,f=!0,y=!0):y||o++;if(o>=M){d=!0;break}let G=!0;for(;(G||!b)&&c<U;)G=this.containsBlackPoint(s,o,c,!0),G?(c++,f=!0,b=!0):b||c++;if(c>=U){d=!0;break}let Y=!0;for(;(Y||!_)&&s>=0;)Y=this.containsBlackPoint(l,c,s,!1),Y?(s--,f=!0,_=!0):_||s--;if(s<0){d=!0;break}let J=!0;for(;(J||!O)&&l>=0;)J=this.containsBlackPoint(s,o,l,!0),J?(l--,f=!0,O=!0):O||l--;if(l<0){d=!0;break}f&&(x=!0)}if(!d&&x){const H=o-s;let G=null;for(let ce=1;G===null&&ce<H;ce++)G=this.getBlackPointOnSegment(s,c-ce,s+ce,c);if(G==null)throw new X;let Y=null;for(let ce=1;Y===null&&ce<H;ce++)Y=this.getBlackPointOnSegment(s,l+ce,s+ce,l);if(Y==null)throw new X;let J=null;for(let ce=1;J===null&&ce<H;ce++)J=this.getBlackPointOnSegment(o,l+ce,o-ce,l);if(J==null)throw new X;let le=null;for(let ce=1;le===null&&ce<H;ce++)le=this.getBlackPointOnSegment(o,c-ce,o-ce,c);if(le==null)throw new X;return this.centerEdges(le,G,J,Y)}else throw new X}getBlackPointOnSegment(s,o,l,c){const d=_e.round(_e.distance(s,o,l,c)),f=(l-s)/d,x=(c-o)/d,y=this.image;for(let b=0;b<d;b++){const _=_e.round(s+b*f),O=_e.round(o+b*x);if(y.get(_,O))return new ve(_,O)}return null}centerEdges(s,o,l,c){const d=s.getX(),f=s.getY(),x=o.getX(),y=o.getY(),b=l.getX(),_=l.getY(),O=c.getX(),M=c.getY(),U=_t.CORR;return d<this.width/2?[new ve(O-U,M+U),new ve(x+U,y+U),new ve(b-U,_-U),new ve(d+U,f-U)]:[new ve(O+U,M+U),new ve(x+U,y-U),new ve(b-U,_+U),new ve(d-U,f-U)]}containsBlackPoint(s,o,l,c){const d=this.image;if(c){for(let f=s;f<=o;f++)if(d.get(f,l))return!0}else for(let f=s;f<=o;f++)if(d.get(l,f))return!0;return!1}}_t.INIT_SIZE=10,_t.CORR=1;class $n{static checkAndNudgePoints(s,o){const l=s.getWidth(),c=s.getHeight();let d=!0;for(let f=0;f<o.length&&d;f+=2){const x=Math.floor(o[f]),y=Math.floor(o[f+1]);if(x<-1||x>l||y<-1||y>c)throw new X;d=!1,x===-1?(o[f]=0,d=!0):x===l&&(o[f]=l-1,d=!0),y===-1?(o[f+1]=0,d=!0):y===c&&(o[f+1]=c-1,d=!0)}d=!0;for(let f=o.length-2;f>=0&&d;f-=2){const x=Math.floor(o[f]),y=Math.floor(o[f+1]);if(x<-1||x>l||y<-1||y>c)throw new X;d=!1,x===-1?(o[f]=0,d=!0):x===l&&(o[f]=l-1,d=!0),y===-1?(o[f+1]=0,d=!0):y===c&&(o[f+1]=c-1,d=!0)}}}class ht{constructor(s,o,l,c,d,f,x,y,b){this.a11=s,this.a21=o,this.a31=l,this.a12=c,this.a22=d,this.a32=f,this.a13=x,this.a23=y,this.a33=b}static quadrilateralToQuadrilateral(s,o,l,c,d,f,x,y,b,_,O,M,U,H,G,Y){const J=ht.quadrilateralToSquare(s,o,l,c,d,f,x,y);return ht.squareToQuadrilateral(b,_,O,M,U,H,G,Y).times(J)}transformPoints(s){const o=s.length,l=this.a11,c=this.a12,d=this.a13,f=this.a21,x=this.a22,y=this.a23,b=this.a31,_=this.a32,O=this.a33;for(let M=0;M<o;M+=2){const U=s[M],H=s[M+1],G=d*U+y*H+O;s[M]=(l*U+f*H+b)/G,s[M+1]=(c*U+x*H+_)/G}}transformPointsWithValues(s,o){const l=this.a11,c=this.a12,d=this.a13,f=this.a21,x=this.a22,y=this.a23,b=this.a31,_=this.a32,O=this.a33,M=s.length;for(let U=0;U<M;U++){const H=s[U],G=o[U],Y=d*H+y*G+O;s[U]=(l*H+f*G+b)/Y,o[U]=(c*H+x*G+_)/Y}}static squareToQuadrilateral(s,o,l,c,d,f,x,y){const b=s-l+d-x,_=o-c+f-y;if(b===0&&_===0)return new ht(l-s,d-l,s,c-o,f-c,o,0,0,1);{const O=l-d,M=x-d,U=c-f,H=y-f,G=O*H-M*U,Y=(b*H-M*_)/G,J=(O*_-b*U)/G;return new ht(l-s+Y*l,x-s+J*x,s,c-o+Y*c,y-o+J*y,o,Y,J,1)}}static quadrilateralToSquare(s,o,l,c,d,f,x,y){return ht.squareToQuadrilateral(s,o,l,c,d,f,x,y).buildAdjoint()}buildAdjoint(){return new ht(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new ht(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class xn extends $n{sampleGrid(s,o,l,c,d,f,x,y,b,_,O,M,U,H,G,Y,J,le,ce){const oe=ht.quadrilateralToQuadrilateral(c,d,f,x,y,b,_,O,M,U,H,G,Y,J,le,ce);return this.sampleGridWithTransform(s,o,l,oe)}sampleGridWithTransform(s,o,l,c){if(o<=0||l<=0)throw new X;const d=new re(o,l),f=new Float32Array(2*o);for(let x=0;x<l;x++){const y=f.length,b=x+.5;for(let _=0;_<y;_+=2)f[_]=_/2+.5,f[_+1]=b;c.transformPoints(f),$n.checkAndNudgePoints(s,f);try{for(let _=0;_<y;_+=2)s.get(Math.floor(f[_]),Math.floor(f[_+1]))&&d.set(_/2,x)}catch{throw new X}}return d}}class un{static setGridSampler(s){un.gridSampler=s}static getInstance(){return un.gridSampler}}un.gridSampler=new xn;class nn{constructor(s,o){this.x=s,this.y=o}toResultPoint(){return new ve(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class bl{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let o=this.getMatrixCenter(),l=this.getBullsEyeCorners(o);if(s){let f=l[0];l[0]=l[2],l[2]=f}this.extractParameters(l);let c=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),d=this.getMatrixCornerPoints(l);return new Xs(c,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new X;let o=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(s[0],s[1],o),this.sampleLine(s[1],s[2],o),this.sampleLine(s[2],s[3],o),this.sampleLine(s[3],s[0],o)]);this.shift=this.getRotation(l,o);let c=0;for(let f=0;f<4;f++){let x=l[(this.shift+f)%4];this.compact?(c<<=7,c+=x>>1&127):(c<<=10,c+=(x>>2&992)+(x>>1&31))}let d=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(d>>6)+1,this.nbDataBlocks=(d&63)+1):(this.nbLayers=(d>>11)+1,this.nbDataBlocks=(d&2047)+1)}getRotation(s,o){let l=0;s.forEach((c,d,f)=>{let x=(c>>o-2<<1)+(c&1);l=(l<<3)+x}),l=((l&1)<<11)+(l>>1);for(let c=0;c<4;c++)if(S.bitCount(l^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new X}getCorrectedParameterData(s,o){let l,c;o?(l=7,c=2):(l=10,c=4);let d=l-c,f=new Int32Array(l);for(let y=l-1;y>=0;--y)f[y]=s&15,s>>=4;try{new Fe(Ae.AZTEC_PARAM).decode(f,d)}catch{throw new X}let x=0;for(let y=0;y<c;y++)x=(x<<4)+f[y];return x}getBullsEyeCorners(s){let o=s,l=s,c=s,d=s,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(o,f,1,-1),M=this.getFirstDifferent(l,f,1,1),U=this.getFirstDifferent(c,f,-1,1),H=this.getFirstDifferent(d,f,-1,-1);if(this.nbCenterLayers>2){let G=this.distancePoint(H,O)*this.nbCenterLayers/(this.distancePoint(d,o)*(this.nbCenterLayers+2));if(G<.75||G>1.25||!this.isWhiteOrBlackRectangle(O,M,U,H))break}o=O,l=M,c=U,d=H,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let x=new ve(o.getX()+.5,o.getY()-.5),y=new ve(l.getX()+.5,l.getY()+.5),b=new ve(c.getX()-.5,c.getY()+.5),_=new ve(d.getX()-.5,d.getY()-.5);return this.expandSquare([x,y,b,_],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,o,l,c;try{let x=new _t(this.image).detect();s=x[0],o=x[1],l=x[2],c=x[3]}catch{let y=this.image.getWidth()/2,b=this.image.getHeight()/2;s=this.getFirstDifferent(new nn(y+7,b-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new nn(y+7,b+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new nn(y-7,b+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new nn(y-7,b-7),!1,-1,-1).toResultPoint()}let d=_e.round((s.getX()+c.getX()+o.getX()+l.getX())/4),f=_e.round((s.getY()+c.getY()+o.getY()+l.getY())/4);try{let x=new _t(this.image,15,d,f).detect();s=x[0],o=x[1],l=x[2],c=x[3]}catch{s=this.getFirstDifferent(new nn(d+7,f-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new nn(d+7,f+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new nn(d-7,f+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new nn(d-7,f-7),!1,-1,-1).toResultPoint()}return d=_e.round((s.getX()+c.getX()+o.getX()+l.getX())/4),f=_e.round((s.getY()+c.getY()+o.getY()+l.getY())/4),new nn(d,f)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,o,l,c,d){let f=un.getInstance(),x=this.getDimension(),y=x/2-this.nbCenterLayers,b=x/2+this.nbCenterLayers;return f.sampleGrid(s,x,x,y,y,b,y,b,b,y,b,o.getX(),o.getY(),l.getX(),l.getY(),c.getX(),c.getY(),d.getX(),d.getY())}sampleLine(s,o,l){let c=0,d=this.distanceResultPoint(s,o),f=d/l,x=s.getX(),y=s.getY(),b=f*(o.getX()-s.getX())/d,_=f*(o.getY()-s.getY())/d;for(let O=0;O<l;O++)this.image.get(_e.round(x+O*b),_e.round(y+O*_))&&(c|=1<<l-O-1);return c}isWhiteOrBlackRectangle(s,o,l,c){let d=3;s=new nn(s.getX()-d,s.getY()+d),o=new nn(o.getX()-d,o.getY()-d),l=new nn(l.getX()+d,l.getY()-d),c=new nn(c.getX()+d,c.getY()+d);let f=this.getColor(c,s);if(f===0)return!1;let x=this.getColor(s,o);return x!==f||(x=this.getColor(o,l),x!==f)?!1:(x=this.getColor(l,c),x===f)}getColor(s,o){let l=this.distancePoint(s,o),c=(o.getX()-s.getX())/l,d=(o.getY()-s.getY())/l,f=0,x=s.getX(),y=s.getY(),b=this.image.get(s.getX(),s.getY()),_=Math.ceil(l);for(let M=0;M<_;M++)x+=c,y+=d,this.image.get(_e.round(x),_e.round(y))!==b&&f++;let O=f/l;return O>.1&&O<.9?0:O<=.1===b?1:-1}getFirstDifferent(s,o,l,c){let d=s.getX()+l,f=s.getY()+c;for(;this.isValid(d,f)&&this.image.get(d,f)===o;)d+=l,f+=c;for(d-=l,f-=c;this.isValid(d,f)&&this.image.get(d,f)===o;)d+=l;for(d-=l;this.isValid(d,f)&&this.image.get(d,f)===o;)f+=c;return f-=c,new nn(d,f)}expandSquare(s,o,l){let c=l/(2*o),d=s[0].getX()-s[2].getX(),f=s[0].getY()-s[2].getY(),x=(s[0].getX()+s[2].getX())/2,y=(s[0].getY()+s[2].getY())/2,b=new ve(x+c*d,y+c*f),_=new ve(x-c*d,y-c*f);d=s[1].getX()-s[3].getX(),f=s[1].getY()-s[3].getY(),x=(s[1].getX()+s[3].getX())/2,y=(s[1].getY()+s[3].getY())/2;let O=new ve(x+c*d,y+c*f),M=new ve(x-c*d,y-c*f);return[b,O,_,M]}isValid(s,o){return s>=0&&s<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(s){let o=_e.round(s.getX()),l=_e.round(s.getY());return this.isValid(o,l)}distancePoint(s,o){return _e.distance(s.getX(),s.getY(),o.getX(),o.getY())}distanceResultPoint(s,o){return _e.distance(s.getX(),s.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(S.truncDivision(this.nbLayers-4,8)+1)+15}}class Dr{decode(s,o=null){let l=null,c=new bl(s.getBlackMatrix()),d=null,f=null;try{let _=c.detectMirror(!1);d=_.getPoints(),this.reportFoundResultPoints(o,d),f=new Ne().decode(_)}catch(_){l=_}if(f==null)try{let _=c.detectMirror(!0);d=_.getPoints(),this.reportFoundResultPoints(o,d),f=new Ne().decode(_)}catch(_){throw l??_}let x=new Re(f.getText(),f.getRawBytes(),f.getNumBits(),d,de.AZTEC,T.currentTimeMillis()),y=f.getByteSegments();y!=null&&x.putMetadata(xe.BYTE_SEGMENTS,y);let b=f.getECLevel();return b!=null&&x.putMetadata(xe.ERROR_CORRECTION_LEVEL,b),x}reportFoundResultPoints(s,o){if(s!=null){let l=s.get(V.NEED_RESULT_POINT_CALLBACK);l!=null&&o.forEach((c,d,f)=>{l.foundPossibleResultPoint(c)})}}reset(){}}class yr extends we{constructor(s=500){super(new Dr,s)}}class Nt{decode(s,o){try{return this.doDecode(s,o)}catch{if(o&&o.get(V.TRY_HARDER)===!0&&s.isRotateSupported()){const d=s.rotateCounterClockwise(),f=this.doDecode(d,o),x=f.getResultMetadata();let y=270;x!==null&&x.get(xe.ORIENTATION)===!0&&(y=y+x.get(xe.ORIENTATION)%360),f.putMetadata(xe.ORIENTATION,y);const b=f.getResultPoints();if(b!==null){const _=d.getHeight();for(let O=0;O<b.length;O++)b[O]=new ve(_-b[O].getY()-1,b[O].getX())}return f}else throw new X}}reset(){}doDecode(s,o){const l=s.getWidth(),c=s.getHeight();let d=new D(l);const f=o&&o.get(V.TRY_HARDER)===!0,x=Math.max(1,c>>(f?8:5));let y;f?y=c:y=15;const b=Math.trunc(c/2);for(let _=0;_<y;_++){const O=Math.trunc((_+1)/2),M=(_&1)===0,U=b+x*(M?O:-O);if(U<0||U>=c)break;try{d=s.getBlackRow(U,d)}catch{continue}for(let H=0;H<2;H++){if(H===1&&(d.reverse(),o&&o.get(V.NEED_RESULT_POINT_CALLBACK)===!0)){const G=new Map;o.forEach((Y,J)=>G.set(J,Y)),G.delete(V.NEED_RESULT_POINT_CALLBACK),o=G}try{const G=this.decodeRow(U,d,o);if(H===1){G.putMetadata(xe.ORIENTATION,180);const Y=G.getResultPoints();Y!==null&&(Y[0]=new ve(l-Y[0].getX()-1,Y[0].getY()),Y[1]=new ve(l-Y[1].getX()-1,Y[1].getY()))}return G}catch{}}}throw new X}static recordPattern(s,o,l){const c=l.length;for(let b=0;b<c;b++)l[b]=0;const d=s.getSize();if(o>=d)throw new X;let f=!s.get(o),x=0,y=o;for(;y<d;){if(s.get(y)!==f)l[x]++;else{if(++x===c)break;l[x]=1,f=!f}y++}if(!(x===c||x===c-1&&y===d))throw new X}static recordPatternInReverse(s,o,l){let c=l.length,d=s.get(o);for(;o>0&&c>=0;)s.get(--o)!==d&&(c--,d=!d);if(c>=0)throw new X;Nt.recordPattern(s,o+1,l)}static patternMatchVariance(s,o,l){const c=s.length;let d=0,f=0;for(let b=0;b<c;b++)d+=s[b],f+=o[b];if(d<f)return Number.POSITIVE_INFINITY;const x=d/f;l*=x;let y=0;for(let b=0;b<c;b++){const _=s[b],O=o[b]*x,M=_>O?_-O:O-_;if(M>l)return Number.POSITIVE_INFINITY;y+=M}return y/d}}class me extends Nt{static findStartPattern(s){const o=s.getSize(),l=s.getNextSet(0);let c=0,d=Int32Array.from([0,0,0,0,0,0]),f=l,x=!1;const y=6;for(let b=l;b<o;b++)if(s.get(b)!==x)d[c]++;else{if(c===y-1){let _=me.MAX_AVG_VARIANCE,O=-1;for(let M=me.CODE_START_A;M<=me.CODE_START_C;M++){const U=Nt.patternMatchVariance(d,me.CODE_PATTERNS[M],me.MAX_INDIVIDUAL_VARIANCE);U<_&&(_=U,O=M)}if(O>=0&&s.isRange(Math.max(0,f-(b-f)/2),f,!1))return Int32Array.from([f,b,O]);f+=d[0]+d[1],d=d.slice(2,d.length-1),d[c-1]=0,d[c]=0,c--}else c++;d[c]=1,x=!x}throw new X}static decodeCode(s,o,l){Nt.recordPattern(s,l,o);let c=me.MAX_AVG_VARIANCE,d=-1;for(let f=0;f<me.CODE_PATTERNS.length;f++){const x=me.CODE_PATTERNS[f],y=this.patternMatchVariance(o,x,me.MAX_INDIVIDUAL_VARIANCE);y<c&&(c=y,d=f)}if(d>=0)return d;throw new X}decodeRow(s,o,l){const c=l&&l.get(V.ASSUME_GS1)===!0,d=me.findStartPattern(o),f=d[2];let x=0;const y=new Uint8Array(20);y[x++]=f;let b;switch(f){case me.CODE_START_A:b=me.CODE_CODE_A;break;case me.CODE_START_B:b=me.CODE_CODE_B;break;case me.CODE_START_C:b=me.CODE_CODE_C;break;default:throw new B}let _=!1,O=!1,M="",U=d[0],H=d[1];const G=Int32Array.from([0,0,0,0,0,0]);let Y=0,J=0,le=f,ce=0,oe=!0,rt=!1,$e=!1;for(;!_;){const Zo=O;switch(O=!1,Y=J,J=me.decodeCode(o,G,H),y[x++]=J,J!==me.CODE_STOP&&(oe=!0),J!==me.CODE_STOP&&(ce++,le+=ce*J),U=H,H+=G.reduce((g3,x3)=>g3+x3,0),J){case me.CODE_START_A:case me.CODE_START_B:case me.CODE_START_C:throw new B}switch(b){case me.CODE_CODE_A:if(J<64)$e===rt?M+=String.fromCharCode(32+J):M+=String.fromCharCode(32+J+128),$e=!1;else if(J<96)$e===rt?M+=String.fromCharCode(J-64):M+=String.fromCharCode(J+64),$e=!1;else switch(J!==me.CODE_STOP&&(oe=!1),J){case me.CODE_FNC_1:c&&(M.length===0?M+="]C1":M+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_A:!rt&&$e?(rt=!0,$e=!1):rt&&$e?(rt=!1,$e=!1):$e=!0;break;case me.CODE_SHIFT:O=!0,b=me.CODE_CODE_B;break;case me.CODE_CODE_B:b=me.CODE_CODE_B;break;case me.CODE_CODE_C:b=me.CODE_CODE_C;break;case me.CODE_STOP:_=!0;break}break;case me.CODE_CODE_B:if(J<96)$e===rt?M+=String.fromCharCode(32+J):M+=String.fromCharCode(32+J+128),$e=!1;else switch(J!==me.CODE_STOP&&(oe=!1),J){case me.CODE_FNC_1:c&&(M.length===0?M+="]C1":M+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_B:!rt&&$e?(rt=!0,$e=!1):rt&&$e?(rt=!1,$e=!1):$e=!0;break;case me.CODE_SHIFT:O=!0,b=me.CODE_CODE_A;break;case me.CODE_CODE_A:b=me.CODE_CODE_A;break;case me.CODE_CODE_C:b=me.CODE_CODE_C;break;case me.CODE_STOP:_=!0;break}break;case me.CODE_CODE_C:if(J<100)J<10&&(M+="0"),M+=J;else switch(J!==me.CODE_STOP&&(oe=!1),J){case me.CODE_FNC_1:c&&(M.length===0?M+="]C1":M+="");break;case me.CODE_CODE_A:b=me.CODE_CODE_A;break;case me.CODE_CODE_B:b=me.CODE_CODE_B;break;case me.CODE_STOP:_=!0;break}break}Zo&&(b=b===me.CODE_CODE_A?me.CODE_CODE_B:me.CODE_CODE_A)}const Yn=H-U;if(H=o.getNextUnset(H),!o.isRange(H,Math.min(o.getSize(),H+(H-U)/2),!1))throw new X;if(le-=ce*Y,le%103!==Y)throw new N;const Mr=M.length;if(Mr===0)throw new X;Mr>0&&oe&&(b===me.CODE_CODE_C?M=M.substring(0,Mr-2):M=M.substring(0,Mr-1));const Kn=(d[1]+d[0])/2,Ct=U+Yn/2,vn=y.length,ar=new Uint8Array(vn);for(let Zo=0;Zo<vn;Zo++)ar[Zo]=y[Zo];const Qo=[new ve(Kn,s),new ve(Ct,s)];return new Re(M,ar,0,Qo,de.CODE_128,new Date().getTime())}}me.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],me.MAX_AVG_VARIANCE=.25,me.MAX_INDIVIDUAL_VARIANCE=.7,me.CODE_SHIFT=98,me.CODE_CODE_C=99,me.CODE_CODE_B=100,me.CODE_CODE_A=101,me.CODE_FNC_1=102,me.CODE_FNC_2=97,me.CODE_FNC_3=96,me.CODE_FNC_4_A=101,me.CODE_FNC_4_B=100,me.CODE_START_A=103,me.CODE_START_B=104,me.CODE_START_C=105,me.CODE_STOP=106;class rn extends Nt{constructor(s=!1,o=!1){super(),this.usingCheckDigit=s,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,o,l){let c=this.counters;c.fill(0),this.decodeRowResult="";let d=rn.findAsteriskPattern(o,c),f=o.getNextSet(d[1]),x=o.getSize(),y,b;do{rn.recordPattern(o,f,c);let G=rn.toNarrowWidePattern(c);if(G<0)throw new X;y=rn.patternToChar(G),this.decodeRowResult+=y,b=f;for(let Y of c)f+=Y;f=o.getNextSet(f)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let _=0;for(let G of c)_+=G;let O=f-b-_;if(f!==x&&O*2<_)throw new X;if(this.usingCheckDigit){let G=this.decodeRowResult.length-1,Y=0;for(let J=0;J<G;J++)Y+=rn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(J));if(this.decodeRowResult.charAt(G)!==rn.ALPHABET_STRING.charAt(Y%43))throw new N;this.decodeRowResult=this.decodeRowResult.substring(0,G)}if(this.decodeRowResult.length===0)throw new X;let M;this.extendedMode?M=rn.decodeExtended(this.decodeRowResult):M=this.decodeRowResult;let U=(d[1]+d[0])/2,H=b+_/2;return new Re(M,null,0,[new ve(U,s),new ve(H,s)],de.CODE_39,new Date().getTime())}static findAsteriskPattern(s,o){let l=s.getSize(),c=s.getNextSet(0),d=0,f=c,x=!1,y=o.length;for(let b=c;b<l;b++)if(s.get(b)!==x)o[d]++;else{if(d===y-1){if(this.toNarrowWidePattern(o)===rn.ASTERISK_ENCODING&&s.isRange(Math.max(0,f-Math.floor((b-f)/2)),f,!1))return[f,b];f+=o[0]+o[1],o.copyWithin(0,2,2+d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,x=!x}throw new X}static toNarrowWidePattern(s){let o=s.length,l=0,c;do{let d=2147483647;for(let y of s)y<d&&y>l&&(d=y);l=d,c=0;let f=0,x=0;for(let y=0;y<o;y++){let b=s[y];b>l&&(x|=1<<o-1-y,c++,f+=b)}if(c===3){for(let y=0;y<o&&c>0;y++){let b=s[y];if(b>l&&(c--,b*2>=f))return-1}return x}}while(c>3);return-1}static patternToChar(s){for(let o=0;o<rn.CHARACTER_ENCODINGS.length;o++)if(rn.CHARACTER_ENCODINGS[o]===s)return rn.ALPHABET_STRING.charAt(o);if(s===rn.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(s){let o=s.length,l="";for(let c=0;c<o;c++){let d=s.charAt(c);if(d==="+"||d==="$"||d==="%"||d==="/"){let f=s.charAt(c+1),x="\0";switch(d){case"+":if(f>="A"&&f<="Z")x=String.fromCharCode(f.charCodeAt(0)+32);else throw new B;break;case"$":if(f>="A"&&f<="Z")x=String.fromCharCode(f.charCodeAt(0)-64);else throw new B;break;case"%":if(f>="A"&&f<="E")x=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")x=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")x=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")x=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")x="\0";else if(f==="V")x="@";else if(f==="W")x="`";else if(f==="X"||f==="Y"||f==="Z")x="";else throw new B;break;case"/":if(f>="A"&&f<="O")x=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")x=":";else throw new B;break}l+=x,c++}else l+=d}return l}}rn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",rn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],rn.ASTERISK_ENCODING=148;class vt extends Nt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,o,l){let c=this.decodeStart(o),d=this.decodeEnd(o),f=new se;vt.decodeMiddle(o,c[1],d[0],f);let x=f.toString(),y=null;l!=null&&(y=l.get(V.ALLOWED_LENGTHS)),y==null&&(y=vt.DEFAULT_ALLOWED_LENGTHS);let b=x.length,_=!1,O=0;for(let H of y){if(b===H){_=!0;break}H>O&&(O=H)}if(!_&&b>O&&(_=!0),!_)throw new B;const M=[new ve(c[1],s),new ve(d[0],s)];return new Re(x,null,0,M,de.ITF,new Date().getTime())}static decodeMiddle(s,o,l,c){let d=new Int32Array(10),f=new Int32Array(5),x=new Int32Array(5);for(d.fill(0),f.fill(0),x.fill(0);o<l;){Nt.recordPattern(s,o,d);for(let b=0;b<5;b++){let _=2*b;f[b]=d[_],x[b]=d[_+1]}let y=vt.decodeDigit(f);c.append(y.toString()),y=this.decodeDigit(x),c.append(y.toString()),d.forEach(function(b){o+=b})}}decodeStart(s){let o=vt.skipWhiteSpace(s),l=vt.findGuardPattern(s,o,vt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(s,l[0]),l}validateQuietZone(s,o){let l=this.narrowLineWidth*10;l=l<o?l:o;for(let c=o-1;l>0&&c>=0&&!s.get(c);c--)l--;if(l!==0)throw new X}static skipWhiteSpace(s){const o=s.getSize(),l=s.getNextSet(0);if(l===o)throw new X;return l}decodeEnd(s){s.reverse();try{let o=vt.skipWhiteSpace(s),l;try{l=vt.findGuardPattern(s,o,vt.END_PATTERN_REVERSED[0])}catch(d){d instanceof X&&(l=vt.findGuardPattern(s,o,vt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,l[0]);let c=l[0];return l[0]=s.getSize()-l[1],l[1]=s.getSize()-c,l}finally{s.reverse()}}static findGuardPattern(s,o,l){let c=l.length,d=new Int32Array(c),f=s.getSize(),x=!1,y=0,b=o;d.fill(0);for(let _=o;_<f;_++)if(s.get(_)!==x)d[y]++;else{if(y===c-1){if(Nt.patternMatchVariance(d,l,vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return[b,_];b+=d[0]+d[1],T.arraycopy(d,2,d,0,y-1),d[y-1]=0,d[y]=0,y--}else y++;d[y]=1,x=!x}throw new X}static decodeDigit(s){let o=vt.MAX_AVG_VARIANCE,l=-1,c=vt.PATTERNS.length;for(let d=0;d<c;d++){let f=vt.PATTERNS[d],x=Nt.patternMatchVariance(s,f,vt.MAX_INDIVIDUAL_VARIANCE);x<o?(o=x,l=d):x===o&&(l=-1)}if(l>=0)return l%10;throw new X}}vt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],vt.MAX_AVG_VARIANCE=.38,vt.MAX_INDIVIDUAL_VARIANCE=.5,vt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],vt.START_PATTERN=Int32Array.from([1,1,1,1]),vt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class $t extends Nt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let o=!1,l,c=0,d=Int32Array.from([0,0,0]);for(;!o;){d=Int32Array.from([0,0,0]),l=$t.findGuardPattern(s,c,!1,this.START_END_PATTERN,d);let f=l[0];c=l[1];let x=f-(c-f);x>=0&&(o=s.isRange(x,f,!1))}return l}static checkChecksum(s){return $t.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let l=parseInt(s.charAt(o-1),10);return $t.getStandardUPCEANChecksum(s.substring(0,o-1))===l}static getStandardUPCEANChecksum(s){let o=s.length,l=0;for(let c=o-1;c>=0;c-=2){let d=s.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new B;l+=d}l*=3;for(let c=o-2;c>=0;c-=2){let d=s.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new B;l+=d}return(1e3-l)%10}static decodeEnd(s,o){return $t.findGuardPattern(s,o,!1,$t.START_END_PATTERN,new Int32Array($t.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,o,l,c){return this.findGuardPattern(s,o,l,c,new Int32Array(c.length))}static findGuardPattern(s,o,l,c,d){let f=s.getSize();o=l?s.getNextUnset(o):s.getNextSet(o);let x=0,y=o,b=c.length,_=l;for(let O=o;O<f;O++)if(s.get(O)!==_)d[x]++;else{if(x===b-1){if(Nt.patternMatchVariance(d,c,$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE)return Int32Array.from([y,O]);y+=d[0]+d[1];let M=d.slice(2,d.length-1);for(let U=0;U<x-1;U++)d[U]=M[U];d[x-1]=0,d[x]=0,x--}else x++;d[x]=1,_=!_}throw new X}static decodeDigit(s,o,l,c){this.recordPattern(s,l,o);let d=this.MAX_AVG_VARIANCE,f=-1,x=c.length;for(let y=0;y<x;y++){let b=c[y],_=Nt.patternMatchVariance(o,b,$t.MAX_INDIVIDUAL_VARIANCE);_<d&&(d=_,f=y)}if(f>=0)return f;throw new X}}$t.MAX_AVG_VARIANCE=.48,$t.MAX_INDIVIDUAL_VARIANCE=.7,$t.START_END_PATTERN=Int32Array.from([1,1,1]),$t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),$t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),$t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Cl{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,l){let c=this.decodeRowStringBuffer,d=this.decodeMiddle(o,l,c),f=c.toString(),x=Cl.parseExtensionString(f),y=[new ve((l[0]+l[1])/2,s),new ve(d,s)],b=new Re(f,null,0,y,de.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&b.putAllMetadata(x),b}decodeMiddle(s,o,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),f=o[1],x=0;for(let b=0;b<5&&f<d;b++){let _=$t.decodeDigit(s,c,f,$t.L_AND_G_PATTERNS);l+=String.fromCharCode(48+_%10);for(let O of c)f+=O;_>=10&&(x|=1<<4-b),b!==4&&(f=s.getNextSet(f),f=s.getNextUnset(f))}if(l.length!==5)throw new X;let y=this.determineCheckDigit(x);if(Cl.extensionChecksum(l.toString())!==y)throw new X;return f}static extensionChecksum(s){let o=s.length,l=0;for(let c=o-2;c>=0;c-=2)l+=s.charAt(c).charCodeAt(0)-48;l*=3;for(let c=o-1;c>=0;c-=2)l+=s.charAt(c).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(s){for(let o=0;o<10;o++)if(s===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new X}static parseExtensionString(s){if(s.length!==5)return null;let o=Cl.parseExtension5String(s);return o==null?null:new Map([[xe.SUGGESTED_PRICE,o]])}static parseExtension5String(s){let o;switch(s.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let l=parseInt(s.substring(1)),c=(l/100).toString(),d=l%100,f=d<10?"0"+d:d.toString();return o+c+"."+f}}class rh{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,l){let c=this.decodeRowStringBuffer,d=this.decodeMiddle(o,l,c),f=c.toString(),x=rh.parseExtensionString(f),y=[new ve((l[0]+l[1])/2,s),new ve(d,s)],b=new Re(f,null,0,y,de.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&b.putAllMetadata(x),b}decodeMiddle(s,o,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),f=o[1],x=0;for(let y=0;y<2&&f<d;y++){let b=$t.decodeDigit(s,c,f,$t.L_AND_G_PATTERNS);l+=String.fromCharCode(48+b%10);for(let _ of c)f+=_;b>=10&&(x|=1<<1-y),y!==1&&(f=s.getNextSet(f),f=s.getNextUnset(f))}if(l.length!==2)throw new X;if(parseInt(l.toString())%4!==x)throw new X;return f}static parseExtensionString(s){return s.length!==2?null:new Map([[xe.ISSUE_NUMBER,parseInt(s)]])}}class ug{static decodeRow(s,o,l){let c=$t.findGuardPattern(o,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Cl().decodeRow(s,o,c)}catch{return new rh().decodeRow(s,o,c)}}}ug.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class dt extends $t{constructor(){super(),this.decodeRowStringBuffer="",dt.L_AND_G_PATTERNS=dt.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let o=dt.L_PATTERNS[s-10],l=new Int32Array(o.length);for(let c=0;c<o.length;c++)l[c]=o[o.length-c-1];dt.L_AND_G_PATTERNS[s]=l}}decodeRow(s,o,l){let c=dt.findStartGuardPattern(o),d=l==null?null:l.get(V.NEED_RESULT_POINT_CALLBACK);if(d!=null){const oe=new ve((c[0]+c[1])/2,s);d.foundPossibleResultPoint(oe)}let f=this.decodeMiddle(o,c,this.decodeRowStringBuffer),x=f.rowOffset,y=f.resultString;if(d!=null){const oe=new ve(x,s);d.foundPossibleResultPoint(oe)}let b=this.decodeEnd(o,x);if(d!=null){const oe=new ve((b[0]+b[1])/2,s);d.foundPossibleResultPoint(oe)}let _=b[1],O=_+(_-b[0]);if(O>=o.getSize()||!o.isRange(_,O,!1))throw new X;let M=y.toString();if(M.length<8)throw new B;if(!dt.checkChecksum(M))throw new N;let U=(c[1]+c[0])/2,H=(b[1]+b[0])/2,G=this.getBarcodeFormat(),Y=[new ve(U,s),new ve(H,s)],J=new Re(M,null,0,Y,G,new Date().getTime()),le=0;try{let oe=ug.decodeRow(s,o,b[1]);J.putMetadata(xe.UPC_EAN_EXTENSION,oe.getText()),J.putAllMetadata(oe.getResultMetadata()),J.addResultPoints(oe.getResultPoints()),le=oe.getText().length}catch{}let ce=l==null?null:l.get(V.ALLOWED_EAN_EXTENSIONS);if(ce!=null){let oe=!1;for(let rt in ce)if(le.toString()===rt){oe=!0;break}if(!oe)throw new X}return J}decodeEnd(s,o){return dt.findGuardPattern(s,o,!1,dt.START_END_PATTERN,new Int32Array(dt.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return dt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let l=parseInt(s.charAt(o-1),10);return dt.getStandardUPCEANChecksum(s.substring(0,o-1))===l}static getStandardUPCEANChecksum(s){let o=s.length,l=0;for(let c=o-1;c>=0;c-=2){let d=s.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new B;l+=d}l*=3;for(let c=o-2;c>=0;c-=2){let d=s.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new B;l+=d}return(1e3-l)%10}}class Ji extends dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),f=o[1],x=0;for(let b=0;b<6&&f<d;b++){let _=dt.decodeDigit(s,c,f,dt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+_%10);for(let O of c)f+=O;_>=10&&(x|=1<<5-b)}l=Ji.determineFirstDigit(l,x),f=dt.findGuardPattern(s,f,!0,dt.MIDDLE_PATTERN,new Int32Array(dt.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<6&&f<d;b++){let _=dt.decodeDigit(s,c,f,dt.L_PATTERNS);l+=String.fromCharCode(48+_);for(let O of c)f+=O}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return de.EAN_13}static determineFirstDigit(s,o){for(let l=0;l<10;l++)if(o===this.FIRST_DIGIT_ENCODINGS[l])return s=String.fromCharCode(48+l)+s,s;throw new X}}Ji.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class dg extends dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,l){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),f=o[1];for(let y=0;y<4&&f<d;y++){let b=dt.decodeDigit(s,c,f,dt.L_PATTERNS);l+=String.fromCharCode(48+b);for(let _ of c)f+=_}f=dt.findGuardPattern(s,f,!0,dt.MIDDLE_PATTERN,new Int32Array(dt.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&f<d;y++){let b=dt.decodeDigit(s,c,f,dt.L_PATTERNS);l+=String.fromCharCode(48+b);for(let _ of c)f+=_}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return de.EAN_8}}class fg extends dt{constructor(){super(...arguments),this.ean13Reader=new Ji}getBarcodeFormat(){return de.UPC_A}decode(s,o){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,o,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,o,l))}decodeMiddle(s,o,l){return this.ean13Reader.decodeMiddle(s,o,l)}maybeReturnResult(s){let o=s.getText();if(o.charAt(0)==="0"){let l=new Re(o.substring(1),null,null,s.getResultPoints(),de.UPC_A);return s.getResultMetadata()!=null&&l.putAllMetadata(s.getResultMetadata()),l}else throw new X}reset(){this.ean13Reader.reset()}}class jr extends dt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,o,l){const c=this.decodeMiddleCounters.map(b=>b);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const d=s.getSize();let f=o[1],x=0;for(let b=0;b<6&&f<d;b++){const _=jr.decodeDigit(s,c,f,jr.L_AND_G_PATTERNS);l+=String.fromCharCode(48+_%10);for(let O of c)f+=O;_>=10&&(x|=1<<5-b)}let y=jr.determineNumSysAndCheckDigit(l,x);return{rowOffset:f,resultString:y}}decodeEnd(s,o){return jr.findGuardPatternWithoutCounters(s,o,!0,jr.MIDDLE_END_PATTERN)}checkChecksum(s){return dt.checkChecksum(jr.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,o){for(let l=0;l<=1;l++)for(let c=0;c<10;c++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][c]){let d=String.fromCharCode(48+l),f=String.fromCharCode(48+c);return d+s+f}throw X.getNotFoundInstance()}getBarcodeFormat(){return de.UPC_E}static convertUPCEtoUPCA(s){const o=s.slice(1,7).split("").map(d=>d.charCodeAt(0)),l=new se;l.append(s.charAt(0));let c=o[5];switch(c){case 0:case 1:case 2:l.appendChars(o,0,2),l.append(c),l.append("0000"),l.appendChars(o,2,3);break;case 3:l.appendChars(o,0,3),l.append("00000"),l.appendChars(o,3,2);break;case 4:l.appendChars(o,0,4),l.append("00000"),l.append(o[4]);break;default:l.appendChars(o,0,5),l.append("0000"),l.append(c);break}return s.length>=8&&l.append(s.charAt(7)),l.toString()}}jr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),jr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class sh extends Nt{constructor(s){super();let o=s==null?null:s.get(V.POSSIBLE_FORMATS),l=[];r(o)?(l.push(new Ji),l.push(new fg),l.push(new dg),l.push(new jr)):(o.indexOf(de.EAN_13)>-1&&l.push(new Ji),o.indexOf(de.UPC_A)>-1&&l.push(new fg),o.indexOf(de.EAN_8)>-1&&l.push(new dg),o.indexOf(de.UPC_E)>-1&&l.push(new jr)),this.readers=l}decodeRow(s,o,l){for(let c of this.readers)try{const d=c.decodeRow(s,o,l),f=d.getBarcodeFormat()===de.EAN_13&&d.getText().charAt(0)==="0",x=l==null?null:l.get(V.POSSIBLE_FORMATS),y=x==null||x.includes(de.UPC_A);if(f&&y){const b=d.getRawBytes(),_=new Re(d.getText().substring(1),b,b?b.length:null,d.getResultPoints(),de.UPC_A);return _.putAllMetadata(d.getResultMetadata()),_}return d}catch{}throw new X}reset(){for(let s of this.readers)s.reset()}}class _n extends Nt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,o){for(let l=0;l<o.length;l++)if(Nt.patternMatchVariance(s,o[l],_n.MAX_INDIVIDUAL_VARIANCE)<_n.MAX_AVG_VARIANCE)return l;throw new X}static count(s){return _e.sum(new Int32Array(s))}static increment(s,o){let l=0,c=o[0];for(let d=1;d<s.length;d++)o[d]>c&&(c=o[d],l=d);s[l]++}static decrement(s,o){let l=0,c=o[0];for(let d=1;d<s.length;d++)o[d]<c&&(c=o[d],l=d);s[l]--}static isFinderPattern(s){let o=s[0]+s[1],l=o+s[2]+s[3],c=o/l;if(c>=_n.MIN_FINDER_PATTERN_RATIO&&c<=_n.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let x of s)x>f&&(f=x),x<d&&(d=x);return f<10*d}return!1}}_n.MAX_AVG_VARIANCE=.2,_n.MAX_INDIVIDUAL_VARIANCE=.45,_n.MIN_FINDER_PATTERN_RATIO=9.5/12,_n.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ho{constructor(s,o){this.value=s,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Ho))return!1;const o=s;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class au{constructor(s,o,l,c,d){this.value=s,this.startEnd=o,this.value=s,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new ve(l,d)),this.resultPoints.push(new ve(c,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof au))return!1;const o=s;return this.value===o.value}hashCode(){return this.value}}class Jr{constructor(){}static getRSSvalue(s,o,l){let c=0;for(let y of s)c+=y;let d=0,f=0,x=s.length;for(let y=0;y<x-1;y++){let b;for(b=1,f|=1<<y;b<s[y];b++,f&=~(1<<y)){let _=Jr.combins(c-b-1,x-y-2);if(l&&f===0&&c-b-(x-y-1)>=x-y-1&&(_-=Jr.combins(c-b-(x-y),x-y-2)),x-y-1>1){let O=0;for(let M=c-b-(x-y-2);M>o;M--)O+=Jr.combins(c-b-M-1,x-y-3);_-=O*(x-1-y)}else c-b>o&&_--;d+=_}c-=b}return d}static combins(s,o){let l,c;s-o>o?(c=o,l=s-o):(c=s-o,l=o);let d=1,f=1;for(let x=s;x>l;x--)d*=x,f<=c&&(d/=f,f++);for(;f<=c;)d/=f,f++;return d}}class zA{static buildBitArray(s){let o=s.length*2-1;s[s.length-1].getRightChar()==null&&(o-=1);let l=12*o,c=new D(l),d=0,x=s[0].getRightChar().getValue();for(let y=11;y>=0;--y)x&1<<y&&c.set(d),d++;for(let y=1;y<s.length;++y){let b=s[y],_=b.getLeftChar().getValue();for(let O=11;O>=0;--O)_&1<<O&&c.set(d),d++;if(b.getRightChar()!=null){let O=b.getRightChar().getValue();for(let M=11;M>=0;--M)O&1<<M&&c.set(d),d++}}return c}}class eo{constructor(s,o){o?this.decodedInformation=null:(this.finished=s,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ih{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Gn extends ih{constructor(s,o){super(s),this.value=o}getValue(){return this.value}isFNC1(){return this.value===Gn.FNC1}}Gn.FNC1="$";class to extends ih{constructor(s,o,l){super(s),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class vr extends ih{constructor(s,o,l){if(super(s),o<0||o>10||l<0||l>10)throw new B;this.firstDigit=o,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===vr.FNC1}isSecondDigitFNC1(){return this.secondDigit===vr.FNC1}isAnyFNC1(){return this.firstDigit===vr.FNC1||this.secondDigit===vr.FNC1}}vr.FNC1=10;class be{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new X;let o=s.substring(0,2);for(let d of be.TWO_DIGIT_DATA_LENGTH)if(d[0]===o)return d[1]===be.VARIABLE_LENGTH?be.processVariableAI(2,d[2],s):be.processFixedAI(2,d[1],s);if(s.length<3)throw new X;let l=s.substring(0,3);for(let d of be.THREE_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===be.VARIABLE_LENGTH?be.processVariableAI(3,d[2],s):be.processFixedAI(3,d[1],s);for(let d of be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===be.VARIABLE_LENGTH?be.processVariableAI(4,d[2],s):be.processFixedAI(4,d[1],s);if(s.length<4)throw new X;let c=s.substring(0,4);for(let d of be.FOUR_DIGIT_DATA_LENGTH)if(d[0]===c)return d[1]===be.VARIABLE_LENGTH?be.processVariableAI(4,d[2],s):be.processFixedAI(4,d[1],s);throw new X}static processFixedAI(s,o,l){if(l.length<s)throw new X;let c=l.substring(0,s);if(l.length<s+o)throw new X;let d=l.substring(s,s+o),f=l.substring(s+o),x="("+c+")"+d,y=be.parseFieldsInGeneralPurpose(f);return y==null?x:x+y}static processVariableAI(s,o,l){let c=l.substring(0,s),d;l.length<s+o?d=l.length:d=s+o;let f=l.substring(s,d),x=l.substring(d),y="("+c+")"+f,b=be.parseFieldsInGeneralPurpose(x);return b==null?y:y+b}}be.VARIABLE_LENGTH=[],be.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",be.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",be.VARIABLE_LENGTH,20],["22",be.VARIABLE_LENGTH,29],["30",be.VARIABLE_LENGTH,8],["37",be.VARIABLE_LENGTH,8],["90",be.VARIABLE_LENGTH,30],["91",be.VARIABLE_LENGTH,30],["92",be.VARIABLE_LENGTH,30],["93",be.VARIABLE_LENGTH,30],["94",be.VARIABLE_LENGTH,30],["95",be.VARIABLE_LENGTH,30],["96",be.VARIABLE_LENGTH,30],["97",be.VARIABLE_LENGTH,3],["98",be.VARIABLE_LENGTH,30],["99",be.VARIABLE_LENGTH,30]],be.THREE_DIGIT_DATA_LENGTH=[["240",be.VARIABLE_LENGTH,30],["241",be.VARIABLE_LENGTH,30],["242",be.VARIABLE_LENGTH,6],["250",be.VARIABLE_LENGTH,30],["251",be.VARIABLE_LENGTH,30],["253",be.VARIABLE_LENGTH,17],["254",be.VARIABLE_LENGTH,20],["400",be.VARIABLE_LENGTH,30],["401",be.VARIABLE_LENGTH,30],["402",17],["403",be.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",be.VARIABLE_LENGTH,20],["421",be.VARIABLE_LENGTH,15],["422",3],["423",be.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",be.VARIABLE_LENGTH,15],["391",be.VARIABLE_LENGTH,18],["392",be.VARIABLE_LENGTH,15],["393",be.VARIABLE_LENGTH,18],["703",be.VARIABLE_LENGTH,30]],be.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",be.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",be.VARIABLE_LENGTH,20],["8003",be.VARIABLE_LENGTH,30],["8004",be.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",be.VARIABLE_LENGTH,30],["8008",be.VARIABLE_LENGTH,12],["8018",18],["8020",be.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",be.VARIABLE_LENGTH,70],["8200",be.VARIABLE_LENGTH,70]];class $o{constructor(s){this.buffer=new se,this.information=s}decodeAllCodes(s,o){let l=o,c=null;do{let d=this.decodeGeneralPurposeField(l,c),f=be.parseFieldsInGeneralPurpose(d.getNewString());if(f!=null&&s.append(f),d.isRemaining()?c=""+d.getRemainingValue():c=null,l===d.getNewPosition())break;l=d.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let o=s;o<s+3;++o)if(this.information.get(o))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(s,4);return d===0?new vr(this.information.getSize(),vr.FNC1,vr.FNC1):new vr(this.information.getSize(),d-1,vr.FNC1)}let o=this.extractNumericValueFromBitArray(s,7),l=(o-8)/11,c=(o-8)%11;return new vr(s+7,l,c)}extractNumericValueFromBitArray(s,o){return $o.extractNumericValueFromBitArray(this.information,s,o)}static extractNumericValueFromBitArray(s,o,l){let c=0;for(let d=0;d<l;++d)s.get(o+d)&&(c|=1<<l-d-1);return c}decodeGeneralPurposeField(s,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(s);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new to(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new to(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,o;do{let l=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),s=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),s=o.isFinished()):(o=this.parseNumericBlock(),s=o.isFinished()),!(l!==this.current.getPosition())&&!s)break}while(!s);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let o;return s.isSecondDigitFNC1()?o=new to(this.current.getPosition(),this.buffer.toString()):o=new to(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new eo(!0,o)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let o=new to(this.current.getPosition(),this.buffer.toString());return new eo(!0,o)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new eo(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new to(this.current.getPosition(),this.buffer.toString());return new eo(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new eo(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new to(this.current.getPosition(),this.buffer.toString());return new eo(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new eo(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<116)return!0;if(s+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,8);return c>=232&&c<253}decodeIsoIec646(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new Gn(s+5,Gn.FNC1);if(o>=5&&o<15)return new Gn(s+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<90)return new Gn(s+7,""+(l+1));if(l>=90&&l<116)return new Gn(s+7,""+(l+7));let c=this.extractNumericValueFromBitArray(s,8),d;switch(c){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new B}return new Gn(s+8,d)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,6);return l>=16&&l<63}decodeAlphanumeric(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new Gn(s+5,Gn.FNC1);if(o>=5&&o<15)return new Gn(s+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(s,6);if(l>=32&&l<58)return new Gn(s+6,""+(l+33));let c;switch(l){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new ze("Decoding invalid alphanumeric value: "+l)}return new Gn(s+6,c)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<5&&o+s<this.information.getSize();++o)if(o===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+o))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let o=s;o<s+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<4&&o+s<this.information.getSize();++o)if(this.information.get(s+o))return!1;return!0}}class oh{constructor(s){this.information=s,this.generalDecoder=new $o(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class qn extends oh{constructor(s){super(s)}encodeCompressedGtin(s,o){s.append("(01)");let l=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,o,l)}encodeCompressedGtinWithoutAI(s,o,l){for(let c=0;c<4;++c){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*c,10);d/100===0&&s.append("0"),d/10===0&&s.append("0"),s.append(d)}qn.appendCheckDigit(s,l)}static appendCheckDigit(s,o){let l=0;for(let c=0;c<13;c++){let d=s.charAt(c+o).charCodeAt(0)-48;l+=c&1?d:3*d}l=10-l%10,l===10&&(l=0),s.append(l)}}qn.GTIN_SIZE=40;class Go extends qn{constructor(s){super(s)}parseInformation(){let s=new se;s.append("(01)");let o=s.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(Go.HEADER_SIZE,4);return s.append(l),this.encodeCompressedGtinWithoutAI(s,Go.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(s,Go.HEADER_SIZE+44)}}Go.HEADER_SIZE=4;class lu extends oh{constructor(s){super(s)}parseInformation(){let s=new se;return this.getGeneralDecoder().decodeAllCodes(s,lu.HEADER_SIZE)}}lu.HEADER_SIZE=5;class cu extends qn{constructor(s){super(s)}encodeCompressedWeight(s,o,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,l);this.addWeightCode(s,c);let d=this.checkWeight(c),f=1e5;for(let x=0;x<5;++x)d/f===0&&s.append("0"),f/=10;s.append(d)}}class es extends cu{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=es.HEADER_SIZE+cu.GTIN_SIZE+es.WEIGHT_SIZE)throw new X;let s=new se;return this.encodeCompressedGtin(s,es.HEADER_SIZE),this.encodeCompressedWeight(s,es.HEADER_SIZE+cu.GTIN_SIZE,es.WEIGHT_SIZE),s.toString()}}es.HEADER_SIZE=5,es.WEIGHT_SIZE=15;class VA extends es{constructor(s){super(s)}addWeightCode(s,o){s.append("(3103)")}checkWeight(s){return s}}class HA extends es{constructor(s){super(s)}addWeightCode(s,o){o<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class ts extends qn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<ts.HEADER_SIZE+qn.GTIN_SIZE)throw new X;let s=new se;this.encodeCompressedGtin(s,ts.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(ts.HEADER_SIZE+qn.GTIN_SIZE,ts.LAST_DIGIT_SIZE);s.append("(392"),s.append(o),s.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(ts.HEADER_SIZE+qn.GTIN_SIZE+ts.LAST_DIGIT_SIZE,null);return s.append(l.getNewString()),s.toString()}}ts.HEADER_SIZE=8,ts.LAST_DIGIT_SIZE=2;class Dn extends qn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Dn.HEADER_SIZE+qn.GTIN_SIZE)throw new X;let s=new se;this.encodeCompressedGtin(s,Dn.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Dn.HEADER_SIZE+qn.GTIN_SIZE,Dn.LAST_DIGIT_SIZE);s.append("(393"),s.append(o),s.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Dn.HEADER_SIZE+qn.GTIN_SIZE+Dn.LAST_DIGIT_SIZE,Dn.FIRST_THREE_DIGITS_SIZE);l/100==0&&s.append("0"),l/10==0&&s.append("0"),s.append(l);let c=this.getGeneralDecoder().decodeGeneralPurposeField(Dn.HEADER_SIZE+qn.GTIN_SIZE+Dn.LAST_DIGIT_SIZE+Dn.FIRST_THREE_DIGITS_SIZE,null);return s.append(c.getNewString()),s.toString()}}Dn.HEADER_SIZE=8,Dn.LAST_DIGIT_SIZE=2,Dn.FIRST_THREE_DIGITS_SIZE=10;class Lt extends cu{constructor(s,o,l){super(s),this.dateCode=l,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Lt.HEADER_SIZE+Lt.GTIN_SIZE+Lt.WEIGHT_SIZE+Lt.DATE_SIZE)throw new X;let s=new se;return this.encodeCompressedGtin(s,Lt.HEADER_SIZE),this.encodeCompressedWeight(s,Lt.HEADER_SIZE+Lt.GTIN_SIZE,Lt.WEIGHT_SIZE),this.encodeCompressedDate(s,Lt.HEADER_SIZE+Lt.GTIN_SIZE+Lt.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Lt.DATE_SIZE);if(l==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let c=l%32;l/=32;let d=l%12+1;l/=12;let f=l;f/10==0&&s.append("0"),s.append(f),d/10==0&&s.append("0"),s.append(d),c/10==0&&s.append("0"),s.append(c)}addWeightCode(s,o){s.append("("),s.append(this.firstAIdigits),s.append(o/1e5),s.append(")")}checkWeight(s){return s%1e5}}Lt.HEADER_SIZE=8,Lt.WEIGHT_SIZE=20,Lt.DATE_SIZE=16;function hg(R){try{if(R.get(1))return new Go(R);if(!R.get(2))return new lu(R);switch($o.extractNumericValueFromBitArray(R,1,4)){case 4:return new VA(R);case 5:return new HA(R)}switch($o.extractNumericValueFromBitArray(R,1,5)){case 12:return new ts(R);case 13:return new Dn(R)}switch($o.extractNumericValueFromBitArray(R,1,7)){case 56:return new Lt(R,"310","11");case 57:return new Lt(R,"320","11");case 58:return new Lt(R,"310","13");case 59:return new Lt(R,"320","13");case 60:return new Lt(R,"310","15");case 61:return new Lt(R,"320","15");case 62:return new Lt(R,"310","17");case 63:return new Lt(R,"320","17")}}catch(s){throw console.log(s),new ze("unknown decoder: "+R)}}class Ys{constructor(s,o,l,c){this.leftchar=s,this.rightchar=o,this.finderpattern=l,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,o){return s instanceof Ys?Ys.equalsOrNull(s.leftchar,o.leftchar)&&Ys.equalsOrNull(s.rightchar,o.rightchar)&&Ys.equalsOrNull(s.finderpattern,o.finderpattern):!1}static equalsOrNull(s,o){return s===null?o===null:Ys.equals(s,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ah{constructor(s,o,l){this.pairs=s,this.rowNumber=o,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,o){return s instanceof ah?this.checkEqualitity(s,o)&&s.wasReversed===o.wasReversed:!1}checkEqualitity(s,o){if(!s||!o)return;let l;return s.forEach((c,d)=>{o.forEach(f=>{c.getLeftChar().getValue()===f.getLeftChar().getValue()&&c.getRightChar().getValue()===f.getRightChar().getValue()&&c.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(l=!0)})}),l}}class ie extends _n{constructor(s){super(...arguments),this.pairs=new Array(ie.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,o,l){this.pairs.length=0,this.startFromEven=!1;try{return ie.constructResult(this.decodeRow2pairs(s,o))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,ie.constructResult(this.decodeRow2pairs(s,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,o){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,s))}catch(d){if(d instanceof X){if(!this.pairs.length)throw new X;l=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(s,!1),c){let d=this.checkRowsBoolean(!1);if(d!=null||(d=this.checkRowsBoolean(!0),d!=null))return d}throw new X}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return s&&(this.rows=this.rows.reverse()),o}checkRows(s,o){for(let l=o;l<this.rows.length;l++){let c=this.rows[l];this.pairs.length=0;for(let f of s)this.pairs.push(f.getPairs());if(this.pairs.push(c.getPairs()),!ie.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(s);d.push(c);try{return this.checkRows(d,l+1)}catch(f){this.verbose&&console.log(f)}}throw new X}static isValidSequence(s){for(let o of ie.FINDER_PATTERN_SEQUENCES){if(s.length>o.length)continue;let l=!0;for(let c=0;c<s.length;c++)if(s[c].getFinderPattern().getValue()!=o[c]){l=!1;break}if(l)return!0}return!1}storeRow(s,o){let l=0,c=!1,d=!1;for(;l<this.rows.length;){let f=this.rows[l];if(f.getRowNumber()>s){d=f.isEquivalent(this.pairs);break}c=f.isEquivalent(this.pairs),l++}d||c||ie.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new ah(this.pairs,s,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,o){for(let l of o)if(l.getPairs().length!==s.length){for(let c of l.getPairs())for(let d of s)if(Ys.equals(c,d))break}}static isPartialRow(s,o){for(let l of o){let c=!0;for(let d of s){let f=!1;for(let x of l.getPairs())if(d.equals(x)){f=!0;break}if(!f){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(s){let o=zA.buildBitArray(s),c=hg(o).parseInformation(),d=s[0].getFinderPattern().getResultPoints(),f=s[s.length-1].getFinderPattern().getResultPoints(),x=[d[0],d[1],f[0],f[1]];return new Re(c,null,null,x,de.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),o=s.getLeftChar(),l=s.getRightChar();if(l==null)return!1;let c=l.getChecksumPortion(),d=2;for(let x=1;x<this.pairs.size();++x){let y=this.pairs.get(x);c+=y.getLeftChar().getChecksumPortion(),d++;let b=y.getRightChar();b!=null&&(c+=b.getChecksumPortion(),d++)}return c%=211,211*(d-4)+c==o.getValue()}static getNextSecondBar(s,o){let l;return s.get(o)?(l=s.getNextUnset(o),l=s.getNextSet(l)):(l=s.getNextSet(o),l=s.getNextUnset(l)),l}retrieveNextPair(s,o,l){let c=o.length%2==0;this.startFromEven&&(c=!c);let d,f=!0,x=-1;do this.findNextPair(s,o,x),d=this.parseFoundFinderPattern(s,l,c),d==null?x=ie.getNextSecondBar(s,this.startEnd[0]):f=!1;while(f);let y=this.decodeDataCharacter(s,d,c,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new X;let b;try{b=this.decodeDataCharacter(s,d,c,!1)}catch(_){b=null,this.verbose&&console.log(_)}return new Ys(y,b,d,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,o,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),f;l>=0?f=l:this.isEmptyPair(o)?f=0:f=o[o.length-1].getFinderPattern().getStartEnd()[1];let x=o.length%2!=0;this.startFromEven&&(x=!x);let y=!1;for(;f<d&&(y=!s.get(f),!!y);)f++;let b=0,_=f;for(let O=f;O<d;O++)if(s.get(O)!=y)c[b]++;else{if(b==3){if(x&&ie.reverseCounters(c),ie.isFinderPattern(c)){this.startEnd[0]=_,this.startEnd[1]=O;return}x&&ie.reverseCounters(c),_+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,b--}else b++;c[b]=1,y=!y}throw new X}static reverseCounters(s){let o=s.length;for(let l=0;l<o/2;++l){let c=s[l];s[l]=s[o-l-1],s[o-l-1]=c}}parseFoundFinderPattern(s,o,l){let c,d,f;if(l){let b=this.startEnd[0]-1;for(;b>=0&&!s.get(b);)b--;b++,c=this.startEnd[0]-b,d=b,f=this.startEnd[1]}else d=this.startEnd[0],f=s.getNextUnset(this.startEnd[1]+1),c=f-this.startEnd[1];let x=this.getDecodeFinderCounters();T.arraycopy(x,0,x,1,x.length-1),x[0]=c;let y;try{y=this.parseFinderValue(x,ie.FINDER_PATTERNS)}catch{return null}return new au(y,[d,f],d,f,o)}decodeDataCharacter(s,o,l,c){let d=this.getDataCharacterCounters();for(let Ct=0;Ct<d.length;Ct++)d[Ct]=0;if(c)ie.recordPatternInReverse(s,o.getStartEnd()[0],d);else{ie.recordPattern(s,o.getStartEnd()[1],d);for(let Ct=0,vn=d.length-1;Ct<vn;Ct++,vn--){let ar=d[Ct];d[Ct]=d[vn],d[vn]=ar}}let f=17,x=_e.sum(new Int32Array(d))/f,y=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(x-y)/y>.3)throw new X;let b=this.getOddCounts(),_=this.getEvenCounts(),O=this.getOddRoundingErrors(),M=this.getEvenRoundingErrors();for(let Ct=0;Ct<d.length;Ct++){let vn=1*d[Ct]/x,ar=vn+.5;if(ar<1){if(vn<.3)throw new X;ar=1}else if(ar>8){if(vn>8.7)throw new X;ar=8}let Qo=Ct/2;Ct&1?(_[Qo]=ar,M[Qo]=vn-ar):(b[Qo]=ar,O[Qo]=vn-ar)}this.adjustOddEvenCounts(f);let U=4*o.getValue()+(l?0:2)+(c?0:1)-1,H=0,G=0;for(let Ct=b.length-1;Ct>=0;Ct--){if(ie.isNotA1left(o,l,c)){let vn=ie.WEIGHTS[U][2*Ct];G+=b[Ct]*vn}H+=b[Ct]}let Y=0;for(let Ct=_.length-1;Ct>=0;Ct--)if(ie.isNotA1left(o,l,c)){let vn=ie.WEIGHTS[U][2*Ct+1];Y+=_[Ct]*vn}let J=G+Y;if(H&1||H>13||H<4)throw new X;let le=(13-H)/2,ce=ie.SYMBOL_WIDEST[le],oe=9-ce,rt=Jr.getRSSvalue(b,ce,!0),$e=Jr.getRSSvalue(_,oe,!1),Yn=ie.EVEN_TOTAL_SUBSET[le],Mr=ie.GSUM[le],Kn=rt*Yn+$e+Mr;return new Ho(Kn,J)}static isNotA1left(s,o,l){return!(s.getValue()==0&&o&&l)}adjustOddEvenCounts(s){let o=_e.sum(new Int32Array(this.getOddCounts())),l=_e.sum(new Int32Array(this.getEvenCounts())),c=!1,d=!1;o>13?d=!0:o<4&&(c=!0);let f=!1,x=!1;l>13?x=!0:l<4&&(f=!0);let y=o+l-s,b=(o&1)==1,_=(l&1)==0;if(y==1)if(b){if(_)throw new X;d=!0}else{if(!_)throw new X;x=!0}else if(y==-1)if(b){if(_)throw new X;c=!0}else{if(!_)throw new X;f=!0}else if(y==0){if(b){if(!_)throw new X;o<l?(c=!0,x=!0):(d=!0,f=!0)}else if(_)throw new X}else throw new X;if(c){if(d)throw new X;ie.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&ie.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(x)throw new X;ie.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&ie.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ie.SYMBOL_WIDEST=[7,5,4,3,1],ie.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ie.GSUM=[0,348,1388,2948,3988],ie.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ie.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ie.FINDER_PAT_A=0,ie.FINDER_PAT_B=1,ie.FINDER_PAT_C=2,ie.FINDER_PAT_D=3,ie.FINDER_PAT_E=4,ie.FINDER_PAT_F=5,ie.FINDER_PATTERN_SEQUENCES=[[ie.FINDER_PAT_A,ie.FINDER_PAT_A],[ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B],[ie.FINDER_PAT_A,ie.FINDER_PAT_C,ie.FINDER_PAT_B,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_C],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F]],ie.MAX_PAIRS=11;class $A extends Ho{constructor(s,o,l){super(s,o),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Gt extends _n{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,o,l){const c=this.decodePair(o,!1,s,l);Gt.addOrTally(this.possibleLeftPairs,c),o.reverse();let d=this.decodePair(o,!0,s,l);Gt.addOrTally(this.possibleRightPairs,d),o.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&Gt.checkChecksum(f,x))return Gt.constructResult(f,x)}throw new X}static addOrTally(s,o){if(o==null)return;let l=!1;for(let c of s)if(c.getValue()===o.getValue()){c.incrementCount(),l=!0;break}l||s.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,o){let l=4537077*s.getValue()+o.getValue(),c=new String(l).toString(),d=new se;for(let b=13-c.length;b>0;b--)d.append("0");d.append(c);let f=0;for(let b=0;b<13;b++){let _=d.charAt(b).charCodeAt(0)-48;f+=b&1?_:3*_}f=10-f%10,f===10&&(f=0),d.append(f.toString());let x=s.getFinderPattern().getResultPoints(),y=o.getFinderPattern().getResultPoints();return new Re(d.toString(),null,0,[x[0],x[1],y[0],y[1]],de.RSS_14,new Date().getTime())}static checkChecksum(s,o){let l=(s.getChecksumPortion()+16*o.getChecksumPortion())%79,c=9*s.getFinderPattern().getValue()+o.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,l===c}decodePair(s,o,l,c){try{let d=this.findFinderPattern(s,o),f=this.parseFoundFinderPattern(s,l,o,d),x=c==null?null:c.get(V.NEED_RESULT_POINT_CALLBACK);if(x!=null){let _=(d[0]+d[1])/2;o&&(_=s.getSize()-1-_),x.foundPossibleResultPoint(new ve(_,l))}let y=this.decodeDataCharacter(s,f,!0),b=this.decodeDataCharacter(s,f,!1);return new $A(1597*y.getValue()+b.getValue(),y.getChecksumPortion()+4*b.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(s,o,l){let c=this.getDataCharacterCounters();for(let Y=0;Y<c.length;Y++)c[Y]=0;if(l)Nt.recordPatternInReverse(s,o.getStartEnd()[0],c);else{Nt.recordPattern(s,o.getStartEnd()[1]+1,c);for(let Y=0,J=c.length-1;Y<J;Y++,J--){let le=c[Y];c[Y]=c[J],c[J]=le}}let d=l?16:15,f=_e.sum(new Int32Array(c))/d,x=this.getOddCounts(),y=this.getEvenCounts(),b=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors();for(let Y=0;Y<c.length;Y++){let J=c[Y]/f,le=Math.floor(J+.5);le<1?le=1:le>8&&(le=8);let ce=Math.floor(Y/2);Y&1?(y[ce]=le,_[ce]=J-le):(x[ce]=le,b[ce]=J-le)}this.adjustOddEvenCounts(l,d);let O=0,M=0;for(let Y=x.length-1;Y>=0;Y--)M*=9,M+=x[Y],O+=x[Y];let U=0,H=0;for(let Y=y.length-1;Y>=0;Y--)U*=9,U+=y[Y],H+=y[Y];let G=M+3*U;if(l){if(O&1||O>12||O<4)throw new X;let Y=(12-O)/2,J=Gt.OUTSIDE_ODD_WIDEST[Y],le=9-J,ce=Jr.getRSSvalue(x,J,!1),oe=Jr.getRSSvalue(y,le,!0),rt=Gt.OUTSIDE_EVEN_TOTAL_SUBSET[Y],$e=Gt.OUTSIDE_GSUM[Y];return new Ho(ce*rt+oe+$e,G)}else{if(H&1||H>10||H<4)throw new X;let Y=(10-H)/2,J=Gt.INSIDE_ODD_WIDEST[Y],le=9-J,ce=Jr.getRSSvalue(x,J,!0),oe=Jr.getRSSvalue(y,le,!1),rt=Gt.INSIDE_ODD_TOTAL_SUBSET[Y],$e=Gt.INSIDE_GSUM[Y];return new Ho(oe*rt+ce+$e,G)}}findFinderPattern(s,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=s.getSize(),d=!1,f=0;for(;f<c&&(d=!s.get(f),o!==d);)f++;let x=0,y=f;for(let b=f;b<c;b++)if(s.get(b)!==d)l[x]++;else{if(x===3){if(_n.isFinderPattern(l))return[y,b];y+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,x--}else x++;l[x]=1,d=!d}throw new X}parseFoundFinderPattern(s,o,l,c){let d=s.get(c[0]),f=c[0]-1;for(;f>=0&&d!==s.get(f);)f--;f++;const x=c[0]-f,y=this.getDecodeFinderCounters(),b=new Int32Array(y.length);T.arraycopy(y,0,b,1,y.length-1),b[0]=x;const _=this.parseFinderValue(b,Gt.FINDER_PATTERNS);let O=f,M=c[1];return l&&(O=s.getSize()-1-O,M=s.getSize()-1-M),new au(_,[f,c[1]],O,M,o)}adjustOddEvenCounts(s,o){let l=_e.sum(new Int32Array(this.getOddCounts())),c=_e.sum(new Int32Array(this.getEvenCounts())),d=!1,f=!1,x=!1,y=!1;s?(l>12?f=!0:l<4&&(d=!0),c>12?y=!0:c<4&&(x=!0)):(l>11?f=!0:l<5&&(d=!0),c>10?y=!0:c<4&&(x=!0));let b=l+c-o,_=(l&1)===(s?1:0),O=(c&1)===1;if(b===1)if(_){if(O)throw new X;f=!0}else{if(!O)throw new X;y=!0}else if(b===-1)if(_){if(O)throw new X;d=!0}else{if(!O)throw new X;x=!0}else if(b===0){if(_){if(!O)throw new X;l<c?(d=!0,y=!0):(f=!0,x=!0)}else if(O)throw new X}else throw new X;if(d){if(f)throw new X;_n.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&_n.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(y)throw new X;_n.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&_n.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Gt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Gt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Gt.OUTSIDE_GSUM=[0,161,961,2015,2715],Gt.INSIDE_GSUM=[0,336,1036,1516],Gt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Gt.INSIDE_ODD_WIDEST=[2,4,6,8],Gt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class qo extends Nt{constructor(s,o){super(),this.readers=[],this.verbose=o===!0;const l=s?s.get(V.POSSIBLE_FORMATS):null,c=s&&s.get(V.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(de.EAN_13)||l.includes(de.UPC_A)||l.includes(de.EAN_8)||l.includes(de.UPC_E))&&this.readers.push(new sh(s)),l.includes(de.CODE_39)&&this.readers.push(new rn(c)),l.includes(de.CODE_128)&&this.readers.push(new me),l.includes(de.ITF)&&this.readers.push(new vt),l.includes(de.RSS_14)&&this.readers.push(new Gt),l.includes(de.RSS_EXPANDED)&&this.readers.push(new ie(this.verbose))):(this.readers.push(new sh(s)),this.readers.push(new rn),this.readers.push(new sh(s)),this.readers.push(new me),this.readers.push(new vt),this.readers.push(new Gt),this.readers.push(new ie(this.verbose)))}decodeRow(s,o,l){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(s,o,l)}catch{}throw new X}reset(){this.readers.forEach(s=>s.reset())}}class GA extends we{constructor(s=500,o){super(new qo(o),s,o)}}class mt{constructor(s,o,l){this.ecCodewords=s,this.ecBlocks=[o],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ft{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class it{constructor(s,o,l,c,d,f){this.versionNumber=s,this.symbolSizeRows=o,this.symbolSizeColumns=l,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=d,this.ecBlocks=f;let x=0;const y=f.getECCodewords(),b=f.getECBlocks();for(let _ of b)x+=_.getCount()*(_.getDataCodewords()+y);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,o){if(s&1||o&1)throw new B;for(let l of it.VERSIONS)if(l.symbolSizeRows===s&&l.symbolSizeColumns===o)return l;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new it(1,10,10,8,8,new mt(5,new ft(1,3))),new it(2,12,12,10,10,new mt(7,new ft(1,5))),new it(3,14,14,12,12,new mt(10,new ft(1,8))),new it(4,16,16,14,14,new mt(12,new ft(1,12))),new it(5,18,18,16,16,new mt(14,new ft(1,18))),new it(6,20,20,18,18,new mt(18,new ft(1,22))),new it(7,22,22,20,20,new mt(20,new ft(1,30))),new it(8,24,24,22,22,new mt(24,new ft(1,36))),new it(9,26,26,24,24,new mt(28,new ft(1,44))),new it(10,32,32,14,14,new mt(36,new ft(1,62))),new it(11,36,36,16,16,new mt(42,new ft(1,86))),new it(12,40,40,18,18,new mt(48,new ft(1,114))),new it(13,44,44,20,20,new mt(56,new ft(1,144))),new it(14,48,48,22,22,new mt(68,new ft(1,174))),new it(15,52,52,24,24,new mt(42,new ft(2,102))),new it(16,64,64,14,14,new mt(56,new ft(2,140))),new it(17,72,72,16,16,new mt(36,new ft(4,92))),new it(18,80,80,18,18,new mt(48,new ft(4,114))),new it(19,88,88,20,20,new mt(56,new ft(4,144))),new it(20,96,96,22,22,new mt(68,new ft(4,174))),new it(21,104,104,24,24,new mt(56,new ft(6,136))),new it(22,120,120,18,18,new mt(68,new ft(6,175))),new it(23,132,132,20,20,new mt(62,new ft(8,163))),new it(24,144,144,22,22,new mt(62,new ft(8,156),new ft(2,155))),new it(25,8,18,6,16,new mt(7,new ft(1,5))),new it(26,8,32,6,14,new mt(11,new ft(1,10))),new it(27,12,26,10,24,new mt(14,new ft(1,16))),new it(28,12,36,10,16,new mt(18,new ft(1,22))),new it(29,16,36,14,16,new mt(24,new ft(1,32))),new it(30,16,48,14,22,new mt(28,new ft(1,49)))]}}it.VERSIONS=it.buildVersions();class lh{constructor(s){const o=s.getHeight();if(o<8||o>144||o&1)throw new B;this.version=lh.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new re(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const o=s.getHeight(),l=s.getWidth();return it.getVersionForDimensions(o,l)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let o=0,l=4,c=0;const d=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let x=!1,y=!1,b=!1,_=!1;do if(l===d&&c===0&&!x)s[o++]=this.readCorner1(d,f)&255,l-=2,c+=2,x=!0;else if(l===d-2&&c===0&&f&3&&!y)s[o++]=this.readCorner2(d,f)&255,l-=2,c+=2,y=!0;else if(l===d+4&&c===2&&!(f&7)&&!b)s[o++]=this.readCorner3(d,f)&255,l-=2,c+=2,b=!0;else if(l===d-2&&c===0&&(f&7)===4&&!_)s[o++]=this.readCorner4(d,f)&255,l-=2,c+=2,_=!0;else{do l<d&&c>=0&&!this.readMappingMatrix.get(c,l)&&(s[o++]=this.readUtah(l,c,d,f)&255),l-=2,c+=2;while(l>=0&&c<f);l+=1,c+=3;do l>=0&&c<f&&!this.readMappingMatrix.get(c,l)&&(s[o++]=this.readUtah(l,c,d,f)&255),l+=2,c-=2;while(l<d&&c>=0);l+=3,c+=1}while(l<d||c<f);if(o!==this.version.getTotalCodewords())throw new B;return s}readModule(s,o,l,c){return s<0&&(s+=l,o+=4-(l+4&7)),o<0&&(o+=c,s+=4-(c+4&7)),this.readMappingMatrix.set(o,s),this.mappingBitMatrix.get(o,s)}readUtah(s,o,l,c){let d=0;return this.readModule(s-2,o-2,l,c)&&(d|=1),d<<=1,this.readModule(s-2,o-1,l,c)&&(d|=1),d<<=1,this.readModule(s-1,o-2,l,c)&&(d|=1),d<<=1,this.readModule(s-1,o-1,l,c)&&(d|=1),d<<=1,this.readModule(s-1,o,l,c)&&(d|=1),d<<=1,this.readModule(s,o-2,l,c)&&(d|=1),d<<=1,this.readModule(s,o-1,l,c)&&(d|=1),d<<=1,this.readModule(s,o,l,c)&&(d|=1),d}readCorner1(s,o){let l=0;return this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,1,s,o)&&(l|=1),l<<=1,this.readModule(s-1,2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(2,o-1,s,o)&&(l|=1),l<<=1,this.readModule(3,o-1,s,o)&&(l|=1),l}readCorner2(s,o){let l=0;return this.readModule(s-3,0,s,o)&&(l|=1),l<<=1,this.readModule(s-2,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(0,o-4,s,o)&&(l|=1),l<<=1,this.readModule(0,o-3,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l}readCorner3(s,o){let l=0;return this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(0,o-3,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-3,s,o)&&(l|=1),l<<=1,this.readModule(1,o-2,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l}readCorner4(s,o){let l=0;return this.readModule(s-3,0,s,o)&&(l|=1),l<<=1,this.readModule(s-2,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(2,o-1,s,o)&&(l|=1),l<<=1,this.readModule(3,o-1,s,o)&&(l|=1),l}extractDataRegion(s){const o=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(s.getHeight()!==o)throw new v("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),f=o/c|0,x=l/d|0,y=f*c,b=x*d,_=new re(b,y);for(let O=0;O<f;++O){const M=O*c;for(let U=0;U<x;++U){const H=U*d;for(let G=0;G<c;++G){const Y=O*(c+2)+1+G,J=M+G;for(let le=0;le<d;++le){const ce=U*(d+2)+1+le;if(s.get(ce,Y)){const oe=H+le;_.set(oe,J)}}}}}return _}}class ch{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o){const l=o.getECBlocks();let c=0;const d=l.getECBlocks();for(let G of d)c+=G.getCount();const f=new Array(c);let x=0;for(let G of d)for(let Y=0;Y<G.getCount();Y++){const J=G.getDataCodewords(),le=l.getECCodewords()+J;f[x++]=new ch(J,new Uint8Array(le))}const b=f[0].codewords.length-l.getECCodewords(),_=b-1;let O=0;for(let G=0;G<_;G++)for(let Y=0;Y<x;Y++)f[Y].codewords[G]=s[O++];const M=o.getVersionNumber()===24,U=M?8:x;for(let G=0;G<U;G++)f[G].codewords[b-1]=s[O++];const H=f[0].codewords.length;for(let G=b;G<H;G++)for(let Y=0;Y<x;Y++){const J=M?(Y+8)%x:Y,le=M&&J>7?G-1:G;f[J].codewords[le]=s[O++]}if(O!==s.length)throw new v;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class uh{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new v(""+s);let o=0,l=this.bitOffset,c=this.byteOffset;const d=this.bytes;if(l>0){const f=8-l,x=s<f?s:f,y=f-x,b=255>>8-x<<y;o=(d[c]&b)>>y,s-=x,l+=x,l===8&&(l=0,c++)}if(s>0){for(;s>=8;)o=o<<8|d[c]&255,c++,s-=8;if(s>0){const f=8-s,x=255>>f<<f;o=o<<s|(d[c]&x)>>f,l+=s}}return this.bitOffset=l,this.byteOffset=c,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var sn;(function(R){R[R.PAD_ENCODE=0]="PAD_ENCODE",R[R.ASCII_ENCODE=1]="ASCII_ENCODE",R[R.C40_ENCODE=2]="C40_ENCODE",R[R.TEXT_ENCODE=3]="TEXT_ENCODE",R[R.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",R[R.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",R[R.BASE256_ENCODE=6]="BASE256_ENCODE"})(sn||(sn={}));class Ks{static decode(s){const o=new uh(s),l=new se,c=new se,d=new Array;let f=sn.ASCII_ENCODE;do if(f===sn.ASCII_ENCODE)f=this.decodeAsciiSegment(o,l,c);else{switch(f){case sn.C40_ENCODE:this.decodeC40Segment(o,l);break;case sn.TEXT_ENCODE:this.decodeTextSegment(o,l);break;case sn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,l);break;case sn.EDIFACT_ENCODE:this.decodeEdifactSegment(o,l);break;case sn.BASE256_ENCODE:this.decodeBase256Segment(o,l,d);break;default:throw new B}f=sn.ASCII_ENCODE}while(f!==sn.PAD_ENCODE&&o.available()>0);return c.length()>0&&l.append(c.toString()),new De(s,l.toString(),d.length===0?null:d,null)}static decodeAsciiSegment(s,o,l){let c=!1;do{let d=s.readBits(8);if(d===0)throw new B;if(d<=128)return c&&(d+=128),o.append(String.fromCharCode(d-1)),sn.ASCII_ENCODE;if(d===129)return sn.PAD_ENCODE;if(d<=229){const f=d-130;f<10&&o.append("0"),o.append(""+f)}else switch(d){case 230:return sn.C40_ENCODE;case 231:return sn.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:o.append("[)>05"),l.insert(0,"");break;case 237:o.append("[)>06"),l.insert(0,"");break;case 238:return sn.ANSIX12_ENCODE;case 239:return sn.TEXT_ENCODE;case 240:return sn.EDIFACT_ENCODE;case 241:break;default:if(d!==254||s.available()!==0)throw new B;break}}while(s.available()>0);return sn.ASCII_ENCODE}static decodeC40Segment(s,o){let l=!1;const c=[];let d=0;do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let x=0;x<3;x++){const y=c[x];switch(d){case 0:if(y<3)d=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const b=this.C40_BASIC_SET_CHARS[y];l?(o.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):o.append(b)}else throw new B;break;case 1:l?(o.append(String.fromCharCode(y+128)),l=!1):o.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const b=this.C40_SHIFT2_SET_CHARS[y];l?(o.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):o.append(b)}else switch(y){case 27:o.append("");break;case 30:l=!0;break;default:throw new B}d=0;break;case 3:l?(o.append(String.fromCharCode(y+224)),l=!1):o.append(String.fromCharCode(y+96)),d=0;break;default:throw new B}}}while(s.available()>0)}static decodeTextSegment(s,o){let l=!1,c=[],d=0;do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let x=0;x<3;x++){const y=c[x];switch(d){case 0:if(y<3)d=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const b=this.TEXT_BASIC_SET_CHARS[y];l?(o.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):o.append(b)}else throw new B;break;case 1:l?(o.append(String.fromCharCode(y+128)),l=!1):o.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const b=this.TEXT_SHIFT2_SET_CHARS[y];l?(o.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):o.append(b)}else switch(y){case 27:o.append("");break;case 30:l=!0;break;default:throw new B}d=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const b=this.TEXT_SHIFT3_SET_CHARS[y];l?(o.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):o.append(b),d=0}else throw new B;break;default:throw new B}}}while(s.available()>0)}static decodeAnsiX12Segment(s,o){const l=[];do{if(s.available()===8)return;const c=s.readBits(8);if(c===254)return;this.parseTwoBytes(c,s.readBits(8),l);for(let d=0;d<3;d++){const f=l[d];switch(f){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(f<14)o.append(String.fromCharCode(f+44));else if(f<40)o.append(String.fromCharCode(f+51));else throw new B;break}}}while(s.available()>0)}static parseTwoBytes(s,o,l){let c=(s<<8)+o-1,d=Math.floor(c/1600);l[0]=d,c-=d*1600,d=Math.floor(c/40),l[1]=d,l[2]=c-d*40}static decodeEdifactSegment(s,o){do{if(s.available()<=16)return;for(let l=0;l<4;l++){let c=s.readBits(6);if(c===31){const d=8-s.getBitOffset();d!==8&&s.readBits(d);return}c&32||(c|=64),o.append(String.fromCharCode(c))}}while(s.available()>0)}static decodeBase256Segment(s,o,l){let c=1+s.getByteOffset();const d=this.unrandomize255State(s.readBits(8),c++);let f;if(d===0?f=s.available()/8|0:d<250?f=d:f=250*(d-249)+this.unrandomize255State(s.readBits(8),c++),f<0)throw new B;const x=new Uint8Array(f);for(let y=0;y<f;y++){if(s.available()<8)throw new B;x[y]=this.unrandomize255State(s.readBits(8),c++)}l.push(x);try{o.append(ee.decode(x,q.ISO88591))}catch(y){throw new ze("Platform does not support required encoding: "+y.message)}}static unrandomize255State(s,o){const l=149*o%255+1,c=s-l;return c>=0?c:c+256}}Ks.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ks.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ks.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ks.TEXT_SHIFT2_SET_CHARS=Ks.C40_SHIFT2_SET_CHARS,Ks.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class qA{constructor(){this.rsDecoder=new Fe(Ae.DATA_MATRIX_FIELD_256)}decode(s){const o=new lh(s),l=o.getVersion(),c=o.readCodewords(),d=ch.getDataBlocks(c,l);let f=0;for(let b of d)f+=b.getNumDataCodewords();const x=new Uint8Array(f),y=d.length;for(let b=0;b<y;b++){const _=d[b],O=_.getCodewords(),M=_.getNumDataCodewords();this.correctErrors(O,M);for(let U=0;U<M;U++)x[U*y+b]=O[U]}return Ks.decode(x)}correctErrors(s,o){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-o)}catch{throw new N}for(let c=0;c<o;c++)s[c]=l[c]}}class Kt{constructor(s){this.image=s,this.rectangleDetector=new _t(this.image)}detect(){const s=this.rectangleDetector.detect();let o=this.detectSolid1(s);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new X;o=this.shiftToModuleCenter(o);const l=o[0],c=o[1],d=o[2],f=o[3];let x=this.transitionsBetween(l,f)+1,y=this.transitionsBetween(d,f)+1;(x&1)===1&&(x+=1),(y&1)===1&&(y+=1),4*x<7*y&&4*y<7*x&&(x=y=Math.max(x,y));let b=Kt.sampleGrid(this.image,l,c,d,f,x,y);return new Pn(b,[l,c,d,f])}static shiftPoint(s,o,l){let c=(o.getX()-s.getX())/(l+1),d=(o.getY()-s.getY())/(l+1);return new ve(s.getX()+c,s.getY()+d)}static moveAway(s,o,l){let c=s.getX(),d=s.getY();return c<o?c-=1:c+=1,d<l?d-=1:d+=1,new ve(c,d)}detectSolid1(s){let o=s[0],l=s[1],c=s[3],d=s[2],f=this.transitionsBetween(o,l),x=this.transitionsBetween(l,c),y=this.transitionsBetween(c,d),b=this.transitionsBetween(d,o),_=f,O=[d,o,l,c];return _>x&&(_=x,O[0]=o,O[1]=l,O[2]=c,O[3]=d),_>y&&(_=y,O[0]=l,O[1]=c,O[2]=d,O[3]=o),_>b&&(O[0]=c,O[1]=d,O[2]=o,O[3]=l),O}detectSolid2(s){let o=s[0],l=s[1],c=s[2],d=s[3],f=this.transitionsBetween(o,d),x=Kt.shiftPoint(l,c,(f+1)*4),y=Kt.shiftPoint(c,l,(f+1)*4),b=this.transitionsBetween(x,o),_=this.transitionsBetween(y,d);return b<_?(s[0]=o,s[1]=l,s[2]=c,s[3]=d):(s[0]=l,s[1]=c,s[2]=d,s[3]=o),s}correctTopRight(s){let o=s[0],l=s[1],c=s[2],d=s[3],f=this.transitionsBetween(o,d),x=this.transitionsBetween(l,d),y=Kt.shiftPoint(o,l,(x+1)*4),b=Kt.shiftPoint(c,l,(f+1)*4);f=this.transitionsBetween(y,d),x=this.transitionsBetween(b,d);let _=new ve(d.getX()+(c.getX()-l.getX())/(f+1),d.getY()+(c.getY()-l.getY())/(f+1)),O=new ve(d.getX()+(o.getX()-l.getX())/(x+1),d.getY()+(o.getY()-l.getY())/(x+1));if(!this.isValid(_))return this.isValid(O)?O:null;if(!this.isValid(O))return _;let M=this.transitionsBetween(y,_)+this.transitionsBetween(b,_),U=this.transitionsBetween(y,O)+this.transitionsBetween(b,O);return M>U?_:O}shiftToModuleCenter(s){let o=s[0],l=s[1],c=s[2],d=s[3],f=this.transitionsBetween(o,d)+1,x=this.transitionsBetween(c,d)+1,y=Kt.shiftPoint(o,l,x*4),b=Kt.shiftPoint(c,l,f*4);f=this.transitionsBetween(y,d)+1,x=this.transitionsBetween(b,d)+1,(f&1)===1&&(f+=1),(x&1)===1&&(x+=1);let _=(o.getX()+l.getX()+c.getX()+d.getX())/4,O=(o.getY()+l.getY()+c.getY()+d.getY())/4;o=Kt.moveAway(o,_,O),l=Kt.moveAway(l,_,O),c=Kt.moveAway(c,_,O),d=Kt.moveAway(d,_,O);let M,U;return y=Kt.shiftPoint(o,l,x*4),y=Kt.shiftPoint(y,d,f*4),M=Kt.shiftPoint(l,o,x*4),M=Kt.shiftPoint(M,c,f*4),b=Kt.shiftPoint(c,d,x*4),b=Kt.shiftPoint(b,l,f*4),U=Kt.shiftPoint(d,c,x*4),U=Kt.shiftPoint(U,o,f*4),[y,M,b,U]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,o,l,c,d,f,x){return un.getInstance().sampleGrid(s,f,x,.5,.5,f-.5,.5,f-.5,x-.5,.5,x-.5,o.getX(),o.getY(),d.getX(),d.getY(),c.getX(),c.getY(),l.getX(),l.getY())}transitionsBetween(s,o){let l=Math.trunc(s.getX()),c=Math.trunc(s.getY()),d=Math.trunc(o.getX()),f=Math.trunc(o.getY()),x=Math.abs(f-c)>Math.abs(d-l);if(x){let G=l;l=c,c=G,G=d,d=f,f=G}let y=Math.abs(d-l),b=Math.abs(f-c),_=-y/2,O=c<f?1:-1,M=l<d?1:-1,U=0,H=this.image.get(x?c:l,x?l:c);for(let G=l,Y=c;G!==d;G+=M){let J=this.image.get(x?Y:G,x?G:Y);if(J!==H&&(U++,H=J),_+=b,_>0){if(Y===f)break;Y+=O,_-=y}}return U}}class Qs{constructor(){this.decoder=new qA}decode(s,o=null){let l,c;if(o!=null&&o.has(V.PURE_BARCODE)){const b=Qs.extractPureBits(s.getBlackMatrix());l=this.decoder.decode(b),c=Qs.NO_POINTS}else{const b=new Kt(s.getBlackMatrix()).detect();l=this.decoder.decode(b.getBits()),c=b.getPoints()}const d=l.getRawBytes(),f=new Re(l.getText(),d,8*d.length,c,de.DATA_MATRIX,T.currentTimeMillis()),x=l.getByteSegments();x!=null&&f.putMetadata(xe.BYTE_SEGMENTS,x);const y=l.getECLevel();return y!=null&&f.putMetadata(xe.ERROR_CORRECTION_LEVEL,y),f}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(o==null||l==null)throw new X;const c=this.moduleSize(o,s);let d=o[1];const f=l[1];let x=o[0];const b=(l[0]-x+1)/c,_=(f-d+1)/c;if(b<=0||_<=0)throw new X;const O=c/2;d+=O,x+=O;const M=new re(b,_);for(let U=0;U<_;U++){const H=d+U*c;for(let G=0;G<b;G++)s.get(x+G*c,H)&&M.set(G,U)}return M}static moduleSize(s,o){const l=o.getWidth();let c=s[0];const d=s[1];for(;c<l&&o.get(c,d);)c++;if(c===l)throw new X;const f=c-s[0];if(f===0)throw new X;return f}}Qs.NO_POINTS=[];class XA extends we{constructor(s=500){super(new Qs,s)}}var Xo;(function(R){R[R.L=0]="L",R[R.M=1]="M",R[R.Q=2]="Q",R[R.H=3]="H"})(Xo||(Xo={}));class Tt{constructor(s,o,l){this.value=s,this.stringValue=o,this.bits=l,Tt.FOR_BITS.set(l,this),Tt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Tt.L;case"M":return Tt.M;case"Q":return Tt.Q;case"H":return Tt.H;default:throw new w(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Tt))return!1;const o=s;return this.value===o.value}static forBits(s){if(s<0||s>=Tt.FOR_BITS.size)throw new v;return Tt.FOR_BITS.get(s)}}Tt.FOR_BITS=new Map,Tt.FOR_VALUE=new Map,Tt.L=new Tt(Xo.L,"L",1),Tt.M=new Tt(Xo.M,"M",0),Tt.Q=new Tt(Xo.Q,"Q",3),Tt.H=new Tt(Xo.H,"H",2);class Nn{constructor(s){this.errorCorrectionLevel=Tt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,o){return S.bitCount(s^o)}static decodeFormatInformation(s,o){const l=Nn.doDecodeFormatInformation(s,o);return l!==null?l:Nn.doDecodeFormatInformation(s^Nn.FORMAT_INFO_MASK_QR,o^Nn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,o){let l=Number.MAX_SAFE_INTEGER,c=0;for(const d of Nn.FORMAT_INFO_DECODE_LOOKUP){const f=d[0];if(f===s||f===o)return new Nn(d[1]);let x=Nn.numBitsDiffering(s,f);x<l&&(c=d[1],l=x),s!==o&&(x=Nn.numBitsDiffering(o,f),x<l&&(c=d[1],l=x))}return l<=3?new Nn(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof Nn))return!1;const o=s;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}Nn.FORMAT_INFO_MASK_QR=21522,Nn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class K{constructor(s,...o){this.ecCodewordsPerBlock=s,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const o=this.ecBlocks;for(const l of o)s+=l.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class F{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ie{constructor(s,o,...l){this.versionNumber=s,this.alignmentPatternCenters=o,this.ecBlocks=l;let c=0;const d=l[0].getECCodewordsPerBlock(),f=l[0].getECBlocks();for(const x of f)c+=x.getCount()*(x.getDataCodewords()+d);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new B;try{return this.getVersionForNumber((s-17)/4)}catch{throw new B}}static getVersionForNumber(s){if(s<1||s>40)throw new v;return Ie.VERSIONS[s-1]}static decodeVersionInformation(s){let o=Number.MAX_SAFE_INTEGER,l=0;for(let c=0;c<Ie.VERSION_DECODE_INFO.length;c++){const d=Ie.VERSION_DECODE_INFO[c];if(d===s)return Ie.getVersionForNumber(c+7);const f=Nn.numBitsDiffering(s,d);f<o&&(l=c+7,o=f)}return o<=3?Ie.getVersionForNumber(l):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),o=new re(s);o.setRegion(0,0,9,9),o.setRegion(s-8,0,8,9),o.setRegion(0,s-8,9,8);const l=this.alignmentPatternCenters.length;for(let c=0;c<l;c++){const d=this.alignmentPatternCenters[c]-2;for(let f=0;f<l;f++)c===0&&(f===0||f===l-1)||c===l-1&&f===0||o.setRegion(this.alignmentPatternCenters[f]-2,d,5,5)}return o.setRegion(6,9,1,s-17),o.setRegion(9,6,s-17,1),this.versionNumber>6&&(o.setRegion(s-11,0,3,6),o.setRegion(0,s-11,6,3)),o}toString(){return""+this.versionNumber}}Ie.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ie.VERSIONS=[new Ie(1,new Int32Array(0),new K(7,new F(1,19)),new K(10,new F(1,16)),new K(13,new F(1,13)),new K(17,new F(1,9))),new Ie(2,Int32Array.from([6,18]),new K(10,new F(1,34)),new K(16,new F(1,28)),new K(22,new F(1,22)),new K(28,new F(1,16))),new Ie(3,Int32Array.from([6,22]),new K(15,new F(1,55)),new K(26,new F(1,44)),new K(18,new F(2,17)),new K(22,new F(2,13))),new Ie(4,Int32Array.from([6,26]),new K(20,new F(1,80)),new K(18,new F(2,32)),new K(26,new F(2,24)),new K(16,new F(4,9))),new Ie(5,Int32Array.from([6,30]),new K(26,new F(1,108)),new K(24,new F(2,43)),new K(18,new F(2,15),new F(2,16)),new K(22,new F(2,11),new F(2,12))),new Ie(6,Int32Array.from([6,34]),new K(18,new F(2,68)),new K(16,new F(4,27)),new K(24,new F(4,19)),new K(28,new F(4,15))),new Ie(7,Int32Array.from([6,22,38]),new K(20,new F(2,78)),new K(18,new F(4,31)),new K(18,new F(2,14),new F(4,15)),new K(26,new F(4,13),new F(1,14))),new Ie(8,Int32Array.from([6,24,42]),new K(24,new F(2,97)),new K(22,new F(2,38),new F(2,39)),new K(22,new F(4,18),new F(2,19)),new K(26,new F(4,14),new F(2,15))),new Ie(9,Int32Array.from([6,26,46]),new K(30,new F(2,116)),new K(22,new F(3,36),new F(2,37)),new K(20,new F(4,16),new F(4,17)),new K(24,new F(4,12),new F(4,13))),new Ie(10,Int32Array.from([6,28,50]),new K(18,new F(2,68),new F(2,69)),new K(26,new F(4,43),new F(1,44)),new K(24,new F(6,19),new F(2,20)),new K(28,new F(6,15),new F(2,16))),new Ie(11,Int32Array.from([6,30,54]),new K(20,new F(4,81)),new K(30,new F(1,50),new F(4,51)),new K(28,new F(4,22),new F(4,23)),new K(24,new F(3,12),new F(8,13))),new Ie(12,Int32Array.from([6,32,58]),new K(24,new F(2,92),new F(2,93)),new K(22,new F(6,36),new F(2,37)),new K(26,new F(4,20),new F(6,21)),new K(28,new F(7,14),new F(4,15))),new Ie(13,Int32Array.from([6,34,62]),new K(26,new F(4,107)),new K(22,new F(8,37),new F(1,38)),new K(24,new F(8,20),new F(4,21)),new K(22,new F(12,11),new F(4,12))),new Ie(14,Int32Array.from([6,26,46,66]),new K(30,new F(3,115),new F(1,116)),new K(24,new F(4,40),new F(5,41)),new K(20,new F(11,16),new F(5,17)),new K(24,new F(11,12),new F(5,13))),new Ie(15,Int32Array.from([6,26,48,70]),new K(22,new F(5,87),new F(1,88)),new K(24,new F(5,41),new F(5,42)),new K(30,new F(5,24),new F(7,25)),new K(24,new F(11,12),new F(7,13))),new Ie(16,Int32Array.from([6,26,50,74]),new K(24,new F(5,98),new F(1,99)),new K(28,new F(7,45),new F(3,46)),new K(24,new F(15,19),new F(2,20)),new K(30,new F(3,15),new F(13,16))),new Ie(17,Int32Array.from([6,30,54,78]),new K(28,new F(1,107),new F(5,108)),new K(28,new F(10,46),new F(1,47)),new K(28,new F(1,22),new F(15,23)),new K(28,new F(2,14),new F(17,15))),new Ie(18,Int32Array.from([6,30,56,82]),new K(30,new F(5,120),new F(1,121)),new K(26,new F(9,43),new F(4,44)),new K(28,new F(17,22),new F(1,23)),new K(28,new F(2,14),new F(19,15))),new Ie(19,Int32Array.from([6,30,58,86]),new K(28,new F(3,113),new F(4,114)),new K(26,new F(3,44),new F(11,45)),new K(26,new F(17,21),new F(4,22)),new K(26,new F(9,13),new F(16,14))),new Ie(20,Int32Array.from([6,34,62,90]),new K(28,new F(3,107),new F(5,108)),new K(26,new F(3,41),new F(13,42)),new K(30,new F(15,24),new F(5,25)),new K(28,new F(15,15),new F(10,16))),new Ie(21,Int32Array.from([6,28,50,72,94]),new K(28,new F(4,116),new F(4,117)),new K(26,new F(17,42)),new K(28,new F(17,22),new F(6,23)),new K(30,new F(19,16),new F(6,17))),new Ie(22,Int32Array.from([6,26,50,74,98]),new K(28,new F(2,111),new F(7,112)),new K(28,new F(17,46)),new K(30,new F(7,24),new F(16,25)),new K(24,new F(34,13))),new Ie(23,Int32Array.from([6,30,54,78,102]),new K(30,new F(4,121),new F(5,122)),new K(28,new F(4,47),new F(14,48)),new K(30,new F(11,24),new F(14,25)),new K(30,new F(16,15),new F(14,16))),new Ie(24,Int32Array.from([6,28,54,80,106]),new K(30,new F(6,117),new F(4,118)),new K(28,new F(6,45),new F(14,46)),new K(30,new F(11,24),new F(16,25)),new K(30,new F(30,16),new F(2,17))),new Ie(25,Int32Array.from([6,32,58,84,110]),new K(26,new F(8,106),new F(4,107)),new K(28,new F(8,47),new F(13,48)),new K(30,new F(7,24),new F(22,25)),new K(30,new F(22,15),new F(13,16))),new Ie(26,Int32Array.from([6,30,58,86,114]),new K(28,new F(10,114),new F(2,115)),new K(28,new F(19,46),new F(4,47)),new K(28,new F(28,22),new F(6,23)),new K(30,new F(33,16),new F(4,17))),new Ie(27,Int32Array.from([6,34,62,90,118]),new K(30,new F(8,122),new F(4,123)),new K(28,new F(22,45),new F(3,46)),new K(30,new F(8,23),new F(26,24)),new K(30,new F(12,15),new F(28,16))),new Ie(28,Int32Array.from([6,26,50,74,98,122]),new K(30,new F(3,117),new F(10,118)),new K(28,new F(3,45),new F(23,46)),new K(30,new F(4,24),new F(31,25)),new K(30,new F(11,15),new F(31,16))),new Ie(29,Int32Array.from([6,30,54,78,102,126]),new K(30,new F(7,116),new F(7,117)),new K(28,new F(21,45),new F(7,46)),new K(30,new F(1,23),new F(37,24)),new K(30,new F(19,15),new F(26,16))),new Ie(30,Int32Array.from([6,26,52,78,104,130]),new K(30,new F(5,115),new F(10,116)),new K(28,new F(19,47),new F(10,48)),new K(30,new F(15,24),new F(25,25)),new K(30,new F(23,15),new F(25,16))),new Ie(31,Int32Array.from([6,30,56,82,108,134]),new K(30,new F(13,115),new F(3,116)),new K(28,new F(2,46),new F(29,47)),new K(30,new F(42,24),new F(1,25)),new K(30,new F(23,15),new F(28,16))),new Ie(32,Int32Array.from([6,34,60,86,112,138]),new K(30,new F(17,115)),new K(28,new F(10,46),new F(23,47)),new K(30,new F(10,24),new F(35,25)),new K(30,new F(19,15),new F(35,16))),new Ie(33,Int32Array.from([6,30,58,86,114,142]),new K(30,new F(17,115),new F(1,116)),new K(28,new F(14,46),new F(21,47)),new K(30,new F(29,24),new F(19,25)),new K(30,new F(11,15),new F(46,16))),new Ie(34,Int32Array.from([6,34,62,90,118,146]),new K(30,new F(13,115),new F(6,116)),new K(28,new F(14,46),new F(23,47)),new K(30,new F(44,24),new F(7,25)),new K(30,new F(59,16),new F(1,17))),new Ie(35,Int32Array.from([6,30,54,78,102,126,150]),new K(30,new F(12,121),new F(7,122)),new K(28,new F(12,47),new F(26,48)),new K(30,new F(39,24),new F(14,25)),new K(30,new F(22,15),new F(41,16))),new Ie(36,Int32Array.from([6,24,50,76,102,128,154]),new K(30,new F(6,121),new F(14,122)),new K(28,new F(6,47),new F(34,48)),new K(30,new F(46,24),new F(10,25)),new K(30,new F(2,15),new F(64,16))),new Ie(37,Int32Array.from([6,28,54,80,106,132,158]),new K(30,new F(17,122),new F(4,123)),new K(28,new F(29,46),new F(14,47)),new K(30,new F(49,24),new F(10,25)),new K(30,new F(24,15),new F(46,16))),new Ie(38,Int32Array.from([6,32,58,84,110,136,162]),new K(30,new F(4,122),new F(18,123)),new K(28,new F(13,46),new F(32,47)),new K(30,new F(48,24),new F(14,25)),new K(30,new F(42,15),new F(32,16))),new Ie(39,Int32Array.from([6,26,54,82,110,138,166]),new K(30,new F(20,117),new F(4,118)),new K(28,new F(40,47),new F(7,48)),new K(30,new F(43,24),new F(22,25)),new K(30,new F(10,15),new F(67,16))),new Ie(40,Int32Array.from([6,30,58,86,114,142,170]),new K(30,new F(19,118),new F(6,119)),new K(28,new F(18,47),new F(31,48)),new K(30,new F(34,24),new F(34,25)),new K(30,new F(20,15),new F(61,16)))];var dn;(function(R){R[R.DATA_MASK_000=0]="DATA_MASK_000",R[R.DATA_MASK_001=1]="DATA_MASK_001",R[R.DATA_MASK_010=2]="DATA_MASK_010",R[R.DATA_MASK_011=3]="DATA_MASK_011",R[R.DATA_MASK_100=4]="DATA_MASK_100",R[R.DATA_MASK_101=5]="DATA_MASK_101",R[R.DATA_MASK_110=6]="DATA_MASK_110",R[R.DATA_MASK_111=7]="DATA_MASK_111"})(dn||(dn={}));class br{constructor(s,o){this.value=s,this.isMasked=o}unmaskBitMatrix(s,o){for(let l=0;l<o;l++)for(let c=0;c<o;c++)this.isMasked(l,c)&&s.flip(c,l)}}br.values=new Map([[dn.DATA_MASK_000,new br(dn.DATA_MASK_000,(R,s)=>(R+s&1)===0)],[dn.DATA_MASK_001,new br(dn.DATA_MASK_001,(R,s)=>(R&1)===0)],[dn.DATA_MASK_010,new br(dn.DATA_MASK_010,(R,s)=>s%3===0)],[dn.DATA_MASK_011,new br(dn.DATA_MASK_011,(R,s)=>(R+s)%3===0)],[dn.DATA_MASK_100,new br(dn.DATA_MASK_100,(R,s)=>(Math.floor(R/2)+Math.floor(s/3)&1)===0)],[dn.DATA_MASK_101,new br(dn.DATA_MASK_101,(R,s)=>R*s%6===0)],[dn.DATA_MASK_110,new br(dn.DATA_MASK_110,(R,s)=>R*s%6<3)],[dn.DATA_MASK_111,new br(dn.DATA_MASK_111,(R,s)=>(R+s+R*s%3&1)===0)]]);class YA{constructor(s){const o=s.getHeight();if(o<21||(o&3)!==1)throw new B;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let d=0;d<6;d++)s=this.copyBit(d,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let d=5;d>=0;d--)s=this.copyBit(8,d,s);const o=this.bitMatrix.getHeight();let l=0;const c=o-7;for(let d=o-1;d>=c;d--)l=this.copyBit(8,d,l);for(let d=o-8;d<o;d++)l=this.copyBit(d,8,l);if(this.parsedFormatInfo=Nn.decodeFormatInformation(s,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),o=Math.floor((s-17)/4);if(o<=6)return Ie.getVersionForNumber(o);let l=0;const c=s-11;for(let f=5;f>=0;f--)for(let x=s-9;x>=c;x--)l=this.copyBit(x,f,l);let d=Ie.decodeVersionInformation(l);if(d!==null&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;l=0;for(let f=5;f>=0;f--)for(let x=s-9;x>=c;x--)l=this.copyBit(f,x,l);if(d=Ie.decodeVersionInformation(l),d!==null&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;throw new B}copyBit(s,o,l){return(this.isMirror?this.bitMatrix.get(o,s):this.bitMatrix.get(s,o))?l<<1|1:l<<1}readCodewords(){const s=this.readFormatInformation(),o=this.readVersion(),l=br.values.get(s.getDataMask()),c=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,c);const d=o.buildFunctionPattern();let f=!0;const x=new Uint8Array(o.getTotalCodewords());let y=0,b=0,_=0;for(let O=c-1;O>0;O-=2){O===6&&O--;for(let M=0;M<c;M++){const U=f?c-1-M:M;for(let H=0;H<2;H++)d.get(O-H,U)||(_++,b<<=1,this.bitMatrix.get(O-H,U)&&(b|=1),_===8&&(x[y++]=b,_=0,b=0))}f=!f}if(y!==o.getTotalCodewords())throw new B;return x}remask(){if(this.parsedFormatInfo===null)return;const s=br.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let o=0,l=s.getWidth();o<l;o++)for(let c=o+1,d=s.getHeight();c<d;c++)s.get(o,c)!==s.get(c,o)&&(s.flip(c,o),s.flip(o,c))}}class dh{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o,l){if(s.length!==o.getTotalCodewords())throw new v;const c=o.getECBlocksForLevel(l);let d=0;const f=c.getECBlocks();for(const H of f)d+=H.getCount();const x=new Array(d);let y=0;for(const H of f)for(let G=0;G<H.getCount();G++){const Y=H.getDataCodewords(),J=c.getECCodewordsPerBlock()+Y;x[y++]=new dh(Y,new Uint8Array(J))}const b=x[0].codewords.length;let _=x.length-1;for(;_>=0&&x[_].codewords.length!==b;)_--;_++;const O=b-c.getECCodewordsPerBlock();let M=0;for(let H=0;H<O;H++)for(let G=0;G<y;G++)x[G].codewords[H]=s[M++];for(let H=_;H<y;H++)x[H].codewords[O]=s[M++];const U=x[0].codewords.length;for(let H=O;H<U;H++)for(let G=0;G<y;G++){const Y=G<_?H:H+1;x[G].codewords[Y]=s[M++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Cr;(function(R){R[R.TERMINATOR=0]="TERMINATOR",R[R.NUMERIC=1]="NUMERIC",R[R.ALPHANUMERIC=2]="ALPHANUMERIC",R[R.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",R[R.BYTE=4]="BYTE",R[R.ECI=5]="ECI",R[R.KANJI=6]="KANJI",R[R.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",R[R.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",R[R.HANZI=9]="HANZI"})(Cr||(Cr={}));class je{constructor(s,o,l,c){this.value=s,this.stringValue=o,this.characterCountBitsForVersions=l,this.bits=c,je.FOR_BITS.set(c,this),je.FOR_VALUE.set(s,this)}static forBits(s){const o=je.FOR_BITS.get(s);if(o===void 0)throw new v;return o}getCharacterCountBits(s){const o=s.getVersionNumber();let l;return o<=9?l=0:o<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof je))return!1;const o=s;return this.value===o.value}toString(){return this.stringValue}}je.FOR_BITS=new Map,je.FOR_VALUE=new Map,je.TERMINATOR=new je(Cr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),je.NUMERIC=new je(Cr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),je.ALPHANUMERIC=new je(Cr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),je.STRUCTURED_APPEND=new je(Cr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),je.BYTE=new je(Cr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),je.ECI=new je(Cr.ECI,"ECI",Int32Array.from([0,0,0]),7),je.KANJI=new je(Cr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),je.FNC1_FIRST_POSITION=new je(Cr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),je.FNC1_SECOND_POSITION=new je(Cr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),je.HANZI=new je(Cr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ut{static decode(s,o,l,c){const d=new uh(s);let f=new se;const x=new Array;let y=-1,b=-1;try{let _=null,O=!1,M;do{if(d.available()<4)M=je.TERMINATOR;else{const U=d.readBits(4);M=je.forBits(U)}switch(M){case je.TERMINATOR:break;case je.FNC1_FIRST_POSITION:case je.FNC1_SECOND_POSITION:O=!0;break;case je.STRUCTURED_APPEND:if(d.available()<16)throw new B;y=d.readBits(8),b=d.readBits(8);break;case je.ECI:const U=Ut.parseECIValue(d);if(_=j.getCharacterSetECIByValue(U),_===null)throw new B;break;case je.HANZI:const H=d.readBits(4),G=d.readBits(M.getCharacterCountBits(o));H===Ut.GB2312_SUBSET&&Ut.decodeHanziSegment(d,f,G);break;default:const Y=d.readBits(M.getCharacterCountBits(o));switch(M){case je.NUMERIC:Ut.decodeNumericSegment(d,f,Y);break;case je.ALPHANUMERIC:Ut.decodeAlphanumericSegment(d,f,Y,O);break;case je.BYTE:Ut.decodeByteSegment(d,f,Y,_,x,c);break;case je.KANJI:Ut.decodeKanjiSegment(d,f,Y);break;default:throw new B}break}}while(M!==je.TERMINATOR)}catch{throw new B}return new De(s,f.toString(),x.length===0?null:x,l===null?null:l.toString(),y,b)}static decodeHanziSegment(s,o,l){if(l*13>s.available())throw new B;const c=new Uint8Array(2*l);let d=0;for(;l>0;){const f=s.readBits(13);let x=f/96<<8&4294967295|f%96;x<959?x+=41377:x+=42657,c[d]=x>>8&255,c[d+1]=x&255,d+=2,l--}try{o.append(ee.decode(c,q.GB2312))}catch(f){throw new B(f)}}static decodeKanjiSegment(s,o,l){if(l*13>s.available())throw new B;const c=new Uint8Array(2*l);let d=0;for(;l>0;){const f=s.readBits(13);let x=f/192<<8&4294967295|f%192;x<7936?x+=33088:x+=49472,c[d]=x>>8,c[d+1]=x,d+=2,l--}try{o.append(ee.decode(c,q.SHIFT_JIS))}catch(f){throw new B(f)}}static decodeByteSegment(s,o,l,c,d,f){if(8*l>s.available())throw new B;const x=new Uint8Array(l);for(let b=0;b<l;b++)x[b]=s.readBits(8);let y;c===null?y=q.guessEncoding(x,f):y=c.getName();try{o.append(ee.decode(x,y))}catch(b){throw new B(b)}d.push(x)}static toAlphaNumericChar(s){if(s>=Ut.ALPHANUMERIC_CHARS.length)throw new B;return Ut.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,o,l,c){const d=o.length();for(;l>1;){if(s.available()<11)throw new B;const f=s.readBits(11);o.append(Ut.toAlphaNumericChar(Math.floor(f/45))),o.append(Ut.toAlphaNumericChar(f%45)),l-=2}if(l===1){if(s.available()<6)throw new B;o.append(Ut.toAlphaNumericChar(s.readBits(6)))}if(c)for(let f=d;f<o.length();f++)o.charAt(f)==="%"&&(f<o.length()-1&&o.charAt(f+1)==="%"?o.deleteCharAt(f+1):o.setCharAt(f,""))}static decodeNumericSegment(s,o,l){for(;l>=3;){if(s.available()<10)throw new B;const c=s.readBits(10);if(c>=1e3)throw new B;o.append(Ut.toAlphaNumericChar(Math.floor(c/100))),o.append(Ut.toAlphaNumericChar(Math.floor(c/10)%10)),o.append(Ut.toAlphaNumericChar(c%10)),l-=3}if(l===2){if(s.available()<7)throw new B;const c=s.readBits(7);if(c>=100)throw new B;o.append(Ut.toAlphaNumericChar(Math.floor(c/10))),o.append(Ut.toAlphaNumericChar(c%10))}else if(l===1){if(s.available()<4)throw new B;const c=s.readBits(4);if(c>=10)throw new B;o.append(Ut.toAlphaNumericChar(c))}}static parseECIValue(s){const o=s.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const l=s.readBits(8);return(o&63)<<8&4294967295|l}if((o&224)===192){const l=s.readBits(16);return(o&31)<<16&4294967295|l}throw new B}}Ut.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ut.GB2312_SUBSET=1;class mg{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const o=s[0];s[0]=s[2],s[2]=o}}class KA{constructor(){this.rsDecoder=new Fe(Ae.QR_CODE_FIELD_256)}decodeBooleanArray(s,o){return this.decodeBitMatrix(re.parseFromBooleanArray(s),o)}decodeBitMatrix(s,o){const l=new YA(s);let c=null;try{return this.decodeBitMatrixParser(l,o)}catch(d){c=d}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const d=this.decodeBitMatrixParser(l,o);return d.setOther(new mg(!0)),d}catch(d){throw c!==null?c:d}}decodeBitMatrixParser(s,o){const l=s.readVersion(),c=s.readFormatInformation().getErrorCorrectionLevel(),d=s.readCodewords(),f=dh.getDataBlocks(d,l,c);let x=0;for(const _ of f)x+=_.getNumDataCodewords();const y=new Uint8Array(x);let b=0;for(const _ of f){const O=_.getCodewords(),M=_.getNumDataCodewords();this.correctErrors(O,M);for(let U=0;U<M;U++)y[b++]=O[U]}return Ut.decode(y,l,c,o)}correctErrors(s,o){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-o)}catch{throw new N}for(let c=0;c<o;c++)s[c]=l[c]}}class fh extends ve{constructor(s,o,l){super(s,o),this.estimatedModuleSize=l}aboutEquals(s,o,l){if(Math.abs(o-this.getY())<=s&&Math.abs(l-this.getX())<=s){const c=Math.abs(s-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(s,o,l){const c=(this.getX()+o)/2,d=(this.getY()+s)/2,f=(this.estimatedModuleSize+l)/2;return new fh(c,d,f)}}class uu{constructor(s,o,l,c,d,f,x){this.image=s,this.startX=o,this.startY=l,this.width=c,this.height=d,this.moduleSize=f,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,o=this.height,l=this.width,c=s+l,d=this.startY+o/2,f=new Int32Array(3),x=this.image;for(let y=0;y<o;y++){const b=d+(y&1?-Math.floor((y+1)/2):Math.floor((y+1)/2));f[0]=0,f[1]=0,f[2]=0;let _=s;for(;_<c&&!x.get(_,b);)_++;let O=0;for(;_<c;){if(x.get(_,b))if(O===1)f[1]++;else if(O===2){if(this.foundPatternCross(f)){const M=this.handlePossibleCenter(f,b,_);if(M!==null)return M}f[0]=f[2],f[1]=1,f[2]=0,O=1}else f[++O]++;else O===1&&O++,f[O]++;_++}if(this.foundPatternCross(f)){const M=this.handlePossibleCenter(f,b,c);if(M!==null)return M}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(s,o){return o-s[2]-s[1]/2}foundPatternCross(s){const o=this.moduleSize,l=o/2;for(let c=0;c<3;c++)if(Math.abs(o-s[c])>=l)return!1;return!0}crossCheckVertical(s,o,l,c){const d=this.image,f=d.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let y=s;for(;y>=0&&d.get(o,y)&&x[1]<=l;)x[1]++,y--;if(y<0||x[1]>l)return NaN;for(;y>=0&&!d.get(o,y)&&x[0]<=l;)x[0]++,y--;if(x[0]>l)return NaN;for(y=s+1;y<f&&d.get(o,y)&&x[1]<=l;)x[1]++,y++;if(y===f||x[1]>l)return NaN;for(;y<f&&!d.get(o,y)&&x[2]<=l;)x[2]++,y++;if(x[2]>l)return NaN;const b=x[0]+x[1]+x[2];return 5*Math.abs(b-c)>=2*c?NaN:this.foundPatternCross(x)?uu.centerFromEnd(x,y):NaN}handlePossibleCenter(s,o,l){const c=s[0]+s[1]+s[2],d=uu.centerFromEnd(s,l),f=this.crossCheckVertical(o,d,2*s[1],c);if(!isNaN(f)){const x=(s[0]+s[1]+s[2])/3;for(const b of this.possibleCenters)if(b.aboutEquals(x,f,d))return b.combineEstimate(f,d,x);const y=new fh(d,f,x);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class hh extends ve{constructor(s,o,l,c){super(s,o),this.estimatedModuleSize=l,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,o,l){if(Math.abs(o-this.getY())<=s&&Math.abs(l-this.getX())<=s){const c=Math.abs(s-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(s,o,l){const c=this.count+1,d=(this.count*this.getX()+o)/c,f=(this.count*this.getY()+s)/c,x=(this.count*this.estimatedModuleSize+l)/c;return new hh(d,f,x,c)}}class QA{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class fn{constructor(s,o){this.image=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const o=s!=null&&s.get(V.TRY_HARDER)!==void 0,l=s!=null&&s.get(V.PURE_BARCODE)!==void 0,c=this.image,d=c.getHeight(),f=c.getWidth();let x=Math.floor(3*d/(4*fn.MAX_MODULES));(x<fn.MIN_SKIP||o)&&(x=fn.MIN_SKIP);let y=!1;const b=new Int32Array(5);for(let O=x-1;O<d&&!y;O+=x){b[0]=0,b[1]=0,b[2]=0,b[3]=0,b[4]=0;let M=0;for(let U=0;U<f;U++)if(c.get(U,O))(M&1)===1&&M++,b[M]++;else if(M&1)b[M]++;else if(M===4)if(fn.foundPatternCross(b)){if(this.handlePossibleCenter(b,O,U,l)===!0)if(x=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const G=this.findRowSkip();G>b[2]&&(O+=G-b[2]-x,U=f-1)}else{b[0]=b[2],b[1]=b[3],b[2]=b[4],b[3]=1,b[4]=0,M=3;continue}M=0,b[0]=0,b[1]=0,b[2]=0,b[3]=0,b[4]=0}else b[0]=b[2],b[1]=b[3],b[2]=b[4],b[3]=1,b[4]=0,M=3;else b[++M]++;fn.foundPatternCross(b)&&this.handlePossibleCenter(b,O,f,l)===!0&&(x=b[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const _=this.selectBestPatterns();return ve.orderBestPatterns(_),new QA(_)}static centerFromEnd(s,o){return o-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let o=0;for(let d=0;d<5;d++){const f=s[d];if(f===0)return!1;o+=f}if(o<7)return!1;const l=o/7,c=l/2;return Math.abs(l-s[0])<c&&Math.abs(l-s[1])<c&&Math.abs(3*l-s[2])<3*c&&Math.abs(l-s[3])<c&&Math.abs(l-s[4])<c}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,o,l,c){const d=this.getCrossCheckStateCount();let f=0;const x=this.image;for(;s>=f&&o>=f&&x.get(o-f,s-f);)d[2]++,f++;if(s<f||o<f)return!1;for(;s>=f&&o>=f&&!x.get(o-f,s-f)&&d[1]<=l;)d[1]++,f++;if(s<f||o<f||d[1]>l)return!1;for(;s>=f&&o>=f&&x.get(o-f,s-f)&&d[0]<=l;)d[0]++,f++;if(d[0]>l)return!1;const y=x.getHeight(),b=x.getWidth();for(f=1;s+f<y&&o+f<b&&x.get(o+f,s+f);)d[2]++,f++;if(s+f>=y||o+f>=b)return!1;for(;s+f<y&&o+f<b&&!x.get(o+f,s+f)&&d[3]<l;)d[3]++,f++;if(s+f>=y||o+f>=b||d[3]>=l)return!1;for(;s+f<y&&o+f<b&&x.get(o+f,s+f)&&d[4]<l;)d[4]++,f++;if(d[4]>=l)return!1;const _=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(_-c)<2*c&&fn.foundPatternCross(d)}crossCheckVertical(s,o,l,c){const d=this.image,f=d.getHeight(),x=this.getCrossCheckStateCount();let y=s;for(;y>=0&&d.get(o,y);)x[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(o,y)&&x[1]<=l;)x[1]++,y--;if(y<0||x[1]>l)return NaN;for(;y>=0&&d.get(o,y)&&x[0]<=l;)x[0]++,y--;if(x[0]>l)return NaN;for(y=s+1;y<f&&d.get(o,y);)x[2]++,y++;if(y===f)return NaN;for(;y<f&&!d.get(o,y)&&x[3]<l;)x[3]++,y++;if(y===f||x[3]>=l)return NaN;for(;y<f&&d.get(o,y)&&x[4]<l;)x[4]++,y++;if(x[4]>=l)return NaN;const b=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(b-c)>=2*c?NaN:fn.foundPatternCross(x)?fn.centerFromEnd(x,y):NaN}crossCheckHorizontal(s,o,l,c){const d=this.image,f=d.getWidth(),x=this.getCrossCheckStateCount();let y=s;for(;y>=0&&d.get(y,o);)x[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(y,o)&&x[1]<=l;)x[1]++,y--;if(y<0||x[1]>l)return NaN;for(;y>=0&&d.get(y,o)&&x[0]<=l;)x[0]++,y--;if(x[0]>l)return NaN;for(y=s+1;y<f&&d.get(y,o);)x[2]++,y++;if(y===f)return NaN;for(;y<f&&!d.get(y,o)&&x[3]<l;)x[3]++,y++;if(y===f||x[3]>=l)return NaN;for(;y<f&&d.get(y,o)&&x[4]<l;)x[4]++,y++;if(x[4]>=l)return NaN;const b=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(b-c)>=c?NaN:fn.foundPatternCross(x)?fn.centerFromEnd(x,y):NaN}handlePossibleCenter(s,o,l,c){const d=s[0]+s[1]+s[2]+s[3]+s[4];let f=fn.centerFromEnd(s,l),x=this.crossCheckVertical(o,Math.floor(f),s[2],d);if(!isNaN(x)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(x),s[2],d),!isNaN(f)&&(!c||this.crossCheckDiagonal(Math.floor(x),Math.floor(f),s[2],d)))){const y=d/7;let b=!1;const _=this.possibleCenters;for(let O=0,M=_.length;O<M;O++){const U=_[O];if(U.aboutEquals(y,x,f)){_[O]=U.combineEstimate(x,f,y),b=!0;break}}if(!b){const O=new hh(f,x,y);_.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const l of this.possibleCenters)if(l.getCount()>=fn.CENTER_QUORUM)if(o==null)o=l;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-l.getX())-Math.abs(o.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,o=0;const l=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=fn.CENTER_QUORUM&&(s++,o+=f.getEstimatedModuleSize());if(s<3)return!1;const c=o/l;let d=0;for(const f of this.possibleCenters)d+=Math.abs(f.getEstimatedModuleSize()-c);return d<=.05*o}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new X;const o=this.possibleCenters;let l;if(s>3){let c=0,d=0;for(const y of this.possibleCenters){const b=y.getEstimatedModuleSize();c+=b,d+=b*b}l=c/s;let f=Math.sqrt(d/s-l*l);o.sort((y,b)=>{const _=Math.abs(b.getEstimatedModuleSize()-l),O=Math.abs(y.getEstimatedModuleSize()-l);return _<O?-1:_>O?1:0});const x=Math.max(.2*l,f);for(let y=0;y<o.length&&o.length>3;y++){const b=o[y];Math.abs(b.getEstimatedModuleSize()-l)>x&&(o.splice(y,1),y--)}}if(o.length>3){let c=0;for(const d of o)c+=d.getEstimatedModuleSize();l=c/o.length,o.sort((d,f)=>{if(f.getCount()===d.getCount()){const x=Math.abs(f.getEstimatedModuleSize()-l),y=Math.abs(d.getEstimatedModuleSize()-l);return x<y?1:x>y?-1:0}else return f.getCount()-d.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}fn.CENTER_QUORUM=2,fn.MIN_SKIP=3,fn.MAX_MODULES=57;class El{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(V.NEED_RESULT_POINT_CALLBACK);const l=new fn(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(l)}processFinderPatternInfo(s){const o=s.getTopLeft(),l=s.getTopRight(),c=s.getBottomLeft(),d=this.calculateModuleSize(o,l,c);if(d<1)throw new X("No pattern found in proccess finder.");const f=El.computeDimension(o,l,c,d),x=Ie.getProvisionalVersionForDimension(f),y=x.getDimensionForVersion()-7;let b=null;if(x.getAlignmentPatternCenters().length>0){const U=l.getX()-o.getX()+c.getX(),H=l.getY()-o.getY()+c.getY(),G=1-3/y,Y=Math.floor(o.getX()+G*(U-o.getX())),J=Math.floor(o.getY()+G*(H-o.getY()));for(let le=4;le<=16;le<<=1)try{b=this.findAlignmentInRegion(d,Y,J,le);break}catch(ce){if(!(ce instanceof X))throw ce}}const _=El.createTransform(o,l,c,b,f),O=El.sampleGrid(this.image,_,f);let M;return b===null?M=[c,o,l]:M=[c,o,l,b],new Pn(O,M)}static createTransform(s,o,l,c,d){const f=d-3.5;let x,y,b,_;return c!==null?(x=c.getX(),y=c.getY(),b=f-3,_=b):(x=o.getX()-s.getX()+l.getX(),y=o.getY()-s.getY()+l.getY(),b=f,_=f),ht.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,b,_,3.5,f,s.getX(),s.getY(),o.getX(),o.getY(),x,y,l.getX(),l.getY())}static sampleGrid(s,o,l){return un.getInstance().sampleGridWithTransform(s,l,l,o)}static computeDimension(s,o,l,c){const d=_e.round(ve.distance(s,o)/c),f=_e.round(ve.distance(s,l)/c);let x=Math.floor((d+f)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new X("Dimensions could be not found.")}return x}calculateModuleSize(s,o,l){return(this.calculateModuleSizeOneWay(s,o)+this.calculateModuleSizeOneWay(s,l))/2}calculateModuleSizeOneWay(s,o){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(o.getX()),Math.floor(o.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(l)?c/7:isNaN(c)?l/7:(l+c)/14}sizeOfBlackWhiteBlackRunBothWays(s,o,l,c){let d=this.sizeOfBlackWhiteBlackRun(s,o,l,c),f=1,x=s-(l-s);x<0?(f=s/(s-x),x=0):x>=this.image.getWidth()&&(f=(this.image.getWidth()-1-s)/(x-s),x=this.image.getWidth()-1);let y=Math.floor(o-(c-o)*f);return f=1,y<0?(f=o/(o-y),y=0):y>=this.image.getHeight()&&(f=(this.image.getHeight()-1-o)/(y-o),y=this.image.getHeight()-1),x=Math.floor(s+(x-s)*f),d+=this.sizeOfBlackWhiteBlackRun(s,o,x,y),d-1}sizeOfBlackWhiteBlackRun(s,o,l,c){const d=Math.abs(c-o)>Math.abs(l-s);if(d){let U=s;s=o,o=U,U=l,l=c,c=U}const f=Math.abs(l-s),x=Math.abs(c-o);let y=-f/2;const b=s<l?1:-1,_=o<c?1:-1;let O=0;const M=l+b;for(let U=s,H=o;U!==M;U+=b){const G=d?H:U,Y=d?U:H;if(O===1===this.image.get(G,Y)){if(O===2)return _e.distance(U,H,s,o);O++}if(y+=x,y>0){if(H===c)break;H+=_,y-=f}}return O===2?_e.distance(l+b,c,s,o):NaN}findAlignmentInRegion(s,o,l,c){const d=Math.floor(c*s),f=Math.max(0,o-d),x=Math.min(this.image.getWidth()-1,o+d);if(x-f<s*3)throw new X("Alignment top exceeds estimated module size.");const y=Math.max(0,l-d),b=Math.min(this.image.getHeight()-1,l+d);if(b-y<s*3)throw new X("Alignment bottom exceeds estimated module size.");return new uu(this.image,f,y,x-f,b-y,s,this.resultPointCallback).find()}}class Zs{constructor(){this.decoder=new KA}getDecoder(){return this.decoder}decode(s,o){let l,c;if(o!=null&&o.get(V.PURE_BARCODE)!==void 0){const y=Zs.extractPureBits(s.getBlackMatrix());l=this.decoder.decodeBitMatrix(y,o),c=Zs.NO_POINTS}else{const y=new El(s.getBlackMatrix()).detect(o);l=this.decoder.decodeBitMatrix(y.getBits(),o),c=y.getPoints()}l.getOther()instanceof mg&&l.getOther().applyMirroredCorrection(c);const d=new Re(l.getText(),l.getRawBytes(),void 0,c,de.QR_CODE,void 0),f=l.getByteSegments();f!==null&&d.putMetadata(xe.BYTE_SEGMENTS,f);const x=l.getECLevel();return x!==null&&d.putMetadata(xe.ERROR_CORRECTION_LEVEL,x),l.hasStructuredAppend()&&(d.putMetadata(xe.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),d.putMetadata(xe.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),d}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(o===null||l===null)throw new X;const c=this.moduleSize(o,s);let d=o[1],f=l[1],x=o[0],y=l[0];if(x>=y||d>=f)throw new X;if(f-d!==y-x&&(y=x+(f-d),y>=s.getWidth()))throw new X;const b=Math.round((y-x+1)/c),_=Math.round((f-d+1)/c);if(b<=0||_<=0)throw new X;if(_!==b)throw new X;const O=Math.floor(c/2);d+=O,x+=O;const M=x+Math.floor((b-1)*c)-y;if(M>0){if(M>O)throw new X;x-=M}const U=d+Math.floor((_-1)*c)-f;if(U>0){if(U>O)throw new X;d-=U}const H=new re(b,_);for(let G=0;G<_;G++){const Y=d+Math.floor(G*c);for(let J=0;J<b;J++)s.get(x+Math.floor(J*c),Y)&&H.set(J,G)}return H}static moduleSize(s,o){const l=o.getHeight(),c=o.getWidth();let d=s[0],f=s[1],x=!0,y=0;for(;d<c&&f<l;){if(x!==o.get(d,f)){if(++y===5)break;x=!x}d++,f++}if(d===c||f===l)throw new X;return(d-s[0])/7}}Zs.NO_POINTS=new Array;class Ue{PDF417Common(){}static getBitCountSum(s){return _e.sum(s)}static toIntArray(s){if(s==null||!s.length)return Ue.EMPTY_INT_ARRAY;const o=new Int32Array(s.length);let l=0;for(const c of s)o[l++]=c;return o}static getCodeword(s){const o=A.binarySearch(Ue.SYMBOL_TABLE,s&262143);return o<0?-1:(Ue.CODEWORD_TABLE[o]-1)%Ue.NUMBER_OF_CODEWORDS}}Ue.NUMBER_OF_CODEWORDS=929,Ue.MAX_CODEWORDS_IN_BARCODE=Ue.NUMBER_OF_CODEWORDS-1,Ue.MIN_ROWS_IN_BARCODE=3,Ue.MAX_ROWS_IN_BARCODE=90,Ue.MODULES_IN_CODEWORD=17,Ue.MODULES_IN_STOP_PATTERN=18,Ue.BARS_IN_MODULE=8,Ue.EMPTY_INT_ARRAY=new Int32Array([]),Ue.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ue.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ZA{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Ke{static detectMultiple(s,o,l){let c=s.getBlackMatrix(),d=Ke.detect(l,c);return d.length||(c=c.clone(),c.rotate180(),d=Ke.detect(l,c)),new ZA(c,d)}static detect(s,o){const l=new Array;let c=0,d=0,f=!1;for(;c<o.getHeight();){const x=Ke.findVertices(o,c,d);if(x[0]==null&&x[3]==null){if(!f)break;f=!1,d=0;for(const y of l)y[1]!=null&&(c=Math.trunc(Math.max(c,y[1].getY()))),y[3]!=null&&(c=Math.max(c,Math.trunc(y[3].getY())));c+=Ke.ROW_STEP;continue}if(f=!0,l.push(x),!s)break;x[2]!=null?(d=Math.trunc(x[2].getX()),c=Math.trunc(x[2].getY())):(d=Math.trunc(x[4].getX()),c=Math.trunc(x[4].getY()))}return l}static findVertices(s,o,l){const c=s.getHeight(),d=s.getWidth(),f=new Array(8);return Ke.copyToResult(f,Ke.findRowsWithPattern(s,c,d,o,l,Ke.START_PATTERN),Ke.INDEXES_START_PATTERN),f[4]!=null&&(l=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY())),Ke.copyToResult(f,Ke.findRowsWithPattern(s,c,d,o,l,Ke.STOP_PATTERN),Ke.INDEXES_STOP_PATTERN),f}static copyToResult(s,o,l){for(let c=0;c<l.length;c++)s[l[c]]=o[c]}static findRowsWithPattern(s,o,l,c,d,f){const x=new Array(4);let y=!1;const b=new Int32Array(f.length);for(;c<o;c+=Ke.ROW_STEP){let O=Ke.findGuardPattern(s,d,c,l,!1,f,b);if(O!=null){for(;c>0;){const M=Ke.findGuardPattern(s,d,--c,l,!1,f,b);if(M!=null)O=M;else{c++;break}}x[0]=new ve(O[0],c),x[1]=new ve(O[1],c),y=!0;break}}let _=c+1;if(y){let O=0,M=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;_<o;_++){const U=Ke.findGuardPattern(s,M[0],_,l,!1,f,b);if(U!=null&&Math.abs(M[0]-U[0])<Ke.MAX_PATTERN_DRIFT&&Math.abs(M[1]-U[1])<Ke.MAX_PATTERN_DRIFT)M=U,O=0;else{if(O>Ke.SKIPPED_ROW_COUNT_MAX)break;O++}}_-=O+1,x[2]=new ve(M[0],_),x[3]=new ve(M[1],_)}return _-c<Ke.BARCODE_MIN_HEIGHT&&A.fill(x,null),x}static findGuardPattern(s,o,l,c,d,f,x){A.fillWithin(x,0,x.length,0);let y=o,b=0;for(;s.get(y,l)&&y>0&&b++<Ke.MAX_PIXEL_DRIFT;)y--;let _=y,O=0,M=f.length;for(let U=d;_<c;_++)if(s.get(_,l)!==U)x[O]++;else{if(O===M-1){if(Ke.patternMatchVariance(x,f,Ke.MAX_INDIVIDUAL_VARIANCE)<Ke.MAX_AVG_VARIANCE)return new Int32Array([y,_]);y+=x[0]+x[1],T.arraycopy(x,2,x,0,O-1),x[O-1]=0,x[O]=0,O--}else O++;x[O]=1,U=!U}return O===M-1&&Ke.patternMatchVariance(x,f,Ke.MAX_INDIVIDUAL_VARIANCE)<Ke.MAX_AVG_VARIANCE?new Int32Array([y,_-1]):null}static patternMatchVariance(s,o,l){let c=s.length,d=0,f=0;for(let b=0;b<c;b++)d+=s[b],f+=o[b];if(d<f)return 1/0;let x=d/f;l*=x;let y=0;for(let b=0;b<c;b++){let _=s[b],O=o[b]*x,M=_>O?_-O:O-_;if(M>l)return 1/0;y+=M}return y/d}}Ke.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ke.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ke.MAX_AVG_VARIANCE=.42,Ke.MAX_INDIVIDUAL_VARIANCE=.8,Ke.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ke.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ke.MAX_PIXEL_DRIFT=3,Ke.MAX_PATTERN_DRIFT=5,Ke.SKIPPED_ROW_COUNT_MAX=25,Ke.ROW_STEP=5,Ke.BARCODE_MIN_HEIGHT=10;class wn{constructor(s,o){if(o.length===0)throw new v;this.field=s;let l=o.length;if(l>1&&o[0]===0){let c=1;for(;c<l&&o[c]===0;)c++;c===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-c),T.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let c=0;for(let d of this.coefficients)c=this.field.add(c,d);return c}let o=this.coefficients[0],l=this.coefficients.length;for(let c=1;c<l;c++)o=this.field.add(this.field.multiply(s,o),this.coefficients[c]);return o}add(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,l=s.coefficients;if(o.length>l.length){let f=o;o=l,l=f}let c=new Int32Array(l.length),d=l.length-o.length;T.arraycopy(l,0,c,0,d);for(let f=d;f<l.length;f++)c[f]=this.field.add(o[f-d],l[f]);return new wn(this.field,c)}subtract(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof wn?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new wn(this.field,new Int32Array([0]));let o=this.coefficients,l=o.length,c=s.coefficients,d=c.length,f=new Int32Array(l+d-1);for(let x=0;x<l;x++){let y=o[x];for(let b=0;b<d;b++)f[x+b]=this.field.add(f[x+b],this.field.multiply(y,c[b]))}return new wn(this.field,f)}negative(){let s=this.coefficients.length,o=new Int32Array(s);for(let l=0;l<s;l++)o[l]=this.field.subtract(0,this.coefficients[l]);return new wn(this.field,o)}multiplyScalar(s){if(s===0)return new wn(this.field,new Int32Array([0]));if(s===1)return this;let o=this.coefficients.length,l=new Int32Array(o);for(let c=0;c<o;c++)l[c]=this.field.multiply(this.coefficients[c],s);return new wn(this.field,l)}multiplyByMonomial(s,o){if(s<0)throw new v;if(o===0)return new wn(this.field,new Int32Array([0]));let l=this.coefficients.length,c=new Int32Array(l+s);for(let d=0;d<l;d++)c[d]=this.field.multiply(this.coefficients[d],o);return new wn(this.field,c)}toString(){let s=new se;for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);l!==0&&(l<0?(s.append(" - "),l=-l):s.length()>0&&s.append(" + "),(o===0||l!==1)&&s.append(l),o!==0&&(o===1?s.append("x"):(s.append("x^"),s.append(o))))}return s.toString()}}class JA{add(s,o){return(s+o)%this.modulus}subtract(s,o){return(this.modulus+s-o)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new v;return this.logTable[s]}inverse(s){if(s===0)throw new Te;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class mh extends JA{constructor(s,o){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let l=1;for(let c=0;c<s;c++)this.expTable[c]=l,l=l*o%s;for(let c=0;c<s-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new wn(this,new Int32Array([0])),this.one=new wn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new v;if(o===0)return this.zero;let l=new Int32Array(s+1);return l[0]=o,new wn(this,l)}}mh.PDF417_GF=new mh(Ue.NUMBER_OF_CODEWORDS,3);class pg{constructor(){this.field=mh.PDF417_GF}decode(s,o,l){let c=new wn(this.field,s),d=new Int32Array(o),f=!1;for(let H=o;H>0;H--){let G=c.evaluateAt(this.field.exp(H));d[o-H]=G,G!==0&&(f=!0)}if(!f)return 0;let x=this.field.getOne();if(l!=null)for(const H of l){let G=this.field.exp(s.length-1-H),Y=new wn(this.field,new Int32Array([this.field.subtract(0,G),1]));x=x.multiply(Y)}let y=new wn(this.field,d),b=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),y,o),_=b[0],O=b[1],M=this.findErrorLocations(_),U=this.findErrorMagnitudes(O,_,M);for(let H=0;H<M.length;H++){let G=s.length-1-this.field.log(M[H]);if(G<0)throw N.getChecksumInstance();s[G]=this.field.subtract(s[G],U[H])}return M.length}runEuclideanAlgorithm(s,o,l){if(s.getDegree()<o.getDegree()){let M=s;s=o,o=M}let c=s,d=o,f=this.field.getZero(),x=this.field.getOne();for(;d.getDegree()>=Math.round(l/2);){let M=c,U=f;if(c=d,f=x,c.isZero())throw N.getChecksumInstance();d=M;let H=this.field.getZero(),G=c.getCoefficient(c.getDegree()),Y=this.field.inverse(G);for(;d.getDegree()>=c.getDegree()&&!d.isZero();){let J=d.getDegree()-c.getDegree(),le=this.field.multiply(d.getCoefficient(d.getDegree()),Y);H=H.add(this.field.buildMonomial(J,le)),d=d.subtract(c.multiplyByMonomial(J,le))}x=H.multiply(f).subtract(U).negative()}let y=x.getCoefficient(0);if(y===0)throw N.getChecksumInstance();let b=this.field.inverse(y),_=x.multiply(b),O=d.multiply(b);return[_,O]}findErrorLocations(s){let o=s.getDegree(),l=new Int32Array(o),c=0;for(let d=1;d<this.field.getSize()&&c<o;d++)s.evaluateAt(d)===0&&(l[c]=this.field.inverse(d),c++);if(c!==o)throw N.getChecksumInstance();return l}findErrorMagnitudes(s,o,l){let c=o.getDegree(),d=new Int32Array(c);for(let b=1;b<=c;b++)d[c-b]=this.field.multiply(b,o.getCoefficient(b));let f=new wn(this.field,d),x=l.length,y=new Int32Array(x);for(let b=0;b<x;b++){let _=this.field.inverse(l[b]),O=this.field.subtract(0,s.evaluateAt(_)),M=this.field.inverse(f.evaluateAt(_));y[b]=this.field.multiply(O,M)}return y}}class no{constructor(s,o,l,c,d){s instanceof no?this.constructor_2(s):this.constructor_1(s,o,l,c,d)}constructor_1(s,o,l,c,d){const f=o==null||l==null,x=c==null||d==null;if(f&&x)throw new X;f?(o=new ve(0,c.getY()),l=new ve(0,d.getY())):x&&(c=new ve(s.getWidth()-1,o.getY()),d=new ve(s.getWidth()-1,l.getY())),this.image=s,this.topLeft=o,this.bottomLeft=l,this.topRight=c,this.bottomRight=d,this.minX=Math.trunc(Math.min(o.getX(),l.getX())),this.maxX=Math.trunc(Math.max(c.getX(),d.getX())),this.minY=Math.trunc(Math.min(o.getY(),c.getY())),this.maxY=Math.trunc(Math.max(l.getY(),d.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,o){return s==null?o:o==null?s:new no(s.image,s.topLeft,s.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(s,o,l){let c=this.topLeft,d=this.bottomLeft,f=this.topRight,x=this.bottomRight;if(s>0){let y=l?this.topLeft:this.topRight,b=Math.trunc(y.getY()-s);b<0&&(b=0);let _=new ve(y.getX(),b);l?c=_:f=_}if(o>0){let y=l?this.bottomLeft:this.bottomRight,b=Math.trunc(y.getY()+o);b>=this.image.getHeight()&&(b=this.image.getHeight()-1);let _=new ve(y.getX(),b);l?d=_:x=_}return new no(this.image,c,d,f,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class e3{constructor(s,o,l,c){this.columnCount=s,this.errorCorrectionLevel=c,this.rowCountUpperPart=o,this.rowCountLowerPart=l,this.rowCount=o+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Sl{constructor(){this.buffer=""}static form(s,o){let l=-1;function c(f,x,y,b,_,O){if(f==="%%")return"%";if(o[++l]===void 0)return;f=b?parseInt(b.substr(1)):void 0;let M=_?parseInt(_.substr(1)):void 0,U;switch(O){case"s":U=o[l];break;case"c":U=o[l][0];break;case"f":U=parseFloat(o[l]).toFixed(f);break;case"p":U=parseFloat(o[l]).toPrecision(f);break;case"e":U=parseFloat(o[l]).toExponential(f);break;case"x":U=parseInt(o[l]).toString(M||16);break;case"d":U=parseFloat(parseInt(o[l],M||10).toPrecision(f)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(M);let H=parseInt(y),G=y&&y[0]+""=="0"?"0":" ";for(;U.length<H;)U=x!==void 0?U+G:G+U;return U}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(d,c)}format(s,...o){this.buffer+=Sl.form(s,o)}toString(){return this.buffer}}class Al{constructor(s){this.boundingBox=new no(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let o=this.getCodeword(s);if(o!=null)return o;for(let l=1;l<Al.MAX_NEARBY_DISTANCE;l++){let c=this.imageRowToCodewordIndex(s)-l;if(c>=0&&(o=this.codewords[c],o!=null)||(c=this.imageRowToCodewordIndex(s)+l,c<this.codewords.length&&(o=this.codewords[c],o!=null)))return o}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,o){this.codewords[this.imageRowToCodewordIndex(s)]=o}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Sl;let o=0;for(const l of this.codewords){if(l==null){s.format("%3d:    |   %n",o++);continue}s.format("%3d: %3d|%3d%n",o++,l.getRowNumber(),l.getValue())}return s.toString()}}Al.MAX_NEARBY_DISTANCE=5;class _l{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let o=this.values.get(s);o==null&&(o=0),o++,this.values.set(s,o)}getValue(){let s=-1,o=new Array;for(const[l,c]of this.values.entries()){const d={getKey:()=>l,getValue:()=>c};d.getValue()>s?(s=d.getValue(),o=[],o.push(d.getKey())):d.getValue()===s&&o.push(d.getKey())}return Ue.toIntArray(o)}getConfidence(s){return this.values.get(s)}}class gg extends Al{constructor(s,o){super(s),this._isLeft=o}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,s);let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),d=this._isLeft?l.getBottomLeft():l.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),x=this.imageRowToCodewordIndex(Math.trunc(d.getY())),y=-1,b=1,_=0;for(let O=f;O<x;O++){if(o[O]==null)continue;let M=o[O],U=M.getRowNumber()-y;if(U===0)_++;else if(U===1)b=Math.max(b,_),_=1,y=M.getRowNumber();else if(U<0||M.getRowNumber()>=s.getRowCount()||U>O)o[O]=null;else{let H;b>2?H=(b-2)*U:H=U;let G=H>=O;for(let Y=1;Y<=H&&!G;Y++)G=o[O-Y]!=null;G?o[O]=null:(y=M.getRowNumber(),_=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let o=new Int32Array(s.getRowCount());for(let l of this.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=o.length)continue;o[c]++}return o}adjustIncompleteIndicatorColumnRowNumbers(s){let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),x=this.getCodewords(),y=-1;for(let b=d;b<f;b++){if(x[b]==null)continue;let _=x[b];_.setRowNumberAsRowIndicatorColumn();let O=_.getRowNumber()-y;O===0||(O===1?y=_.getRowNumber():_.getRowNumber()>=s.getRowCount()?x[b]=null:y=_.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),o=new _l,l=new _l,c=new _l,d=new _l;for(let x of s){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let y=x.getValue()%30,b=x.getRowNumber();switch(this._isLeft||(b+=2),b%3){case 0:l.setValue(y*3+1);break;case 1:d.setValue(y/3),c.setValue(y%3);break;case 2:o.setValue(y+1);break}}if(o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||d.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+c.getValue()[0]<Ue.MIN_ROWS_IN_BARCODE||l.getValue()[0]+c.getValue()[0]>Ue.MAX_ROWS_IN_BARCODE)return null;let f=new e3(o.getValue()[0],l.getValue()[0],c.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(s,f),f}removeIncorrectCodewords(s,o){for(let l=0;l<s.length;l++){let c=s[l];if(s[l]==null)continue;let d=c.getValue()%30,f=c.getRowNumber();if(f>o.getRowCount()){s[l]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:d*3+1!==o.getRowCountUpperPart()&&(s[l]=null);break;case 1:(Math.trunc(d/3)!==o.getErrorCorrectionLevel()||d%3!==o.getRowCountLowerPart())&&(s[l]=null);break;case 2:d+1!==o.getColumnCount()&&(s[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Nl{constructor(s,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Ue.MAX_CODEWORDS_IN_BARCODE,o;do o=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let l=this.detectionResultColumns[o].getCodewords();for(let c=0;c<l.length;c++)l[c]!=null&&(l[c].hasValidRowNumber()||this.adjustRowNumbers(o,c,l))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++)if(s[l]!=null&&o[l]!=null&&s[l].getRowNumber()===o[l].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let d=this.detectionResultColumns[c].getCodewords()[l];d!=null&&(d.setRowNumber(s[l].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let c=o[l].getRowNumber(),d=0;for(let f=this.barcodeColumnCount+1;f>0&&d<this.ADJUST_ROW_NUMBER_SKIP;f--){let x=this.detectionResultColumns[f].getCodewords()[l];x!=null&&(d=Nl.adjustRowNumberIfValid(c,d,x),x.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,o=this.detectionResultColumns[0].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let c=o[l].getRowNumber(),d=0;for(let f=1;f<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;f++){let x=this.detectionResultColumns[f].getCodewords()[l];x!=null&&(d=Nl.adjustRowNumberIfValid(c,d,x),x.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,o,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(s)?(l.setRowNumber(s),o=0):++o),o}adjustRowNumbers(s,o,l){if(!this.detectionResultColumns[s-1])return;let c=l[o],d=this.detectionResultColumns[s-1].getCodewords(),f=d;this.detectionResultColumns[s+1]!=null&&(f=this.detectionResultColumns[s+1].getCodewords());let x=new Array(14);x[2]=d[o],x[3]=f[o],o>0&&(x[0]=l[o-1],x[4]=d[o-1],x[5]=f[o-1]),o>1&&(x[8]=l[o-2],x[10]=d[o-2],x[11]=f[o-2]),o<l.length-1&&(x[1]=l[o+1],x[6]=d[o+1],x[7]=f[o+1]),o<l.length-2&&(x[9]=l[o+2],x[12]=d[o+2],x[13]=f[o+2]);for(let y of x)if(Nl.adjustRowNumber(c,y))return}static adjustRowNumber(s,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===s.getBucket()?(s.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,o){this.detectionResultColumns[s]=o}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Sl;for(let l=0;l<s.getCodewords().length;l++){o.format("CW %3d:",l);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){o.format("    |   ");continue}let d=this.detectionResultColumns[c].getCodewords()[l];if(d==null){o.format("    |   ");continue}o.format(" %3d|%3d",d.getRowNumber(),d.getValue())}o.format("%n")}return o.toString()}}class Tl{constructor(s,o,l,c){this.rowNumber=Tl.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(o),this.bucket=Math.trunc(l),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==Tl.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}Tl.BARCODE_ROW_UNKNOWN=-1;class Xn{static initialize(){for(let s=0;s<Ue.SYMBOL_TABLE.length;s++){let o=Ue.SYMBOL_TABLE[s],l=o&1;for(let c=0;c<Ue.BARS_IN_MODULE;c++){let d=0;for(;(o&1)===l;)d+=1,o>>=1;l=o&1,Xn.RATIOS_TABLE[s]||(Xn.RATIOS_TABLE[s]=new Array(Ue.BARS_IN_MODULE)),Xn.RATIOS_TABLE[s][Ue.BARS_IN_MODULE-c-1]=Math.fround(d/Ue.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let o=Xn.getDecodedCodewordValue(Xn.sampleBitCounts(s));return o!==-1?o:Xn.getClosestDecodedValue(s)}static sampleBitCounts(s){let o=_e.sum(s),l=new Int32Array(Ue.BARS_IN_MODULE),c=0,d=0;for(let f=0;f<Ue.MODULES_IN_CODEWORD;f++){let x=o/(2*Ue.MODULES_IN_CODEWORD)+f*o/Ue.MODULES_IN_CODEWORD;d+s[c]<=x&&(d+=s[c],c++),l[c]++}return l}static getDecodedCodewordValue(s){let o=Xn.getBitValue(s);return Ue.getCodeword(o)===-1?-1:o}static getBitValue(s){let o=0;for(let l=0;l<s.length;l++)for(let c=0;c<s[l];c++)o=o<<1|(l%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(s){let o=_e.sum(s),l=new Array(Ue.BARS_IN_MODULE);if(o>1)for(let f=0;f<l.length;f++)l[f]=Math.fround(s[f]/o);let c=Mt.MAX_VALUE,d=-1;this.bSymbolTableReady||Xn.initialize();for(let f=0;f<Xn.RATIOS_TABLE.length;f++){let x=0,y=Xn.RATIOS_TABLE[f];for(let b=0;b<Ue.BARS_IN_MODULE;b++){let _=Math.fround(y[b]-l[b]);if(x+=Math.fround(_*_),x>=c)break}x<c&&(c=x,d=Ue.SYMBOL_TABLE[f])}return d}}Xn.bSymbolTableReady=!1,Xn.RATIOS_TABLE=new Array(Ue.SYMBOL_TABLE.length).map(R=>new Array(Ue.BARS_IN_MODULE));class xg{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class wg{static parseLong(s,o=void 0){return parseInt(s,o)}}class yg extends p{}yg.kind="NullPointerException";class t3{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,o,l){if(s==null)throw new yg;if(o<0||o>s.length||l<0||o+l>s.length||o+l<0)throw new k;if(l===0)return;for(let c=0;c<l;c++)this.write(s[o+c])}flush(){}close(){}}class n3 extends p{}class r3 extends t3{constructor(s=32){if(super(),this.count=0,s<0)throw new v("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let l=this.buf.length<<1;if(l-s<0&&(l=s),l<0){if(s<0)throw new n3;l=S.MAX_VALUE}this.buf=A.copyOfUint8Array(this.buf,l)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,o,l){if(o<0||o>s.length||l<0||o+l-s.length>0)throw new k;this.ensureCapacity(this.count+l),T.arraycopy(s,o,this.buf,this.count,l),this.count+=l}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return A.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var yt;(function(R){R[R.ALPHA=0]="ALPHA",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.PUNCT=3]="PUNCT",R[R.ALPHA_SHIFT=4]="ALPHA_SHIFT",R[R.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(yt||(yt={}));function vg(){if(typeof window<"u")return window.BigInt||null;if(typeof pn<"u")return pn.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let du;function Js(R){if(typeof du>"u"&&(du=vg()),du===null)throw new Error("BigInt is not supported!");return du(R)}function s3(){let R=[];R[0]=Js(1);let s=Js(900);R[1]=s;for(let o=2;o<16;o++)R[o]=R[o-1]*s;return R}class Z{static decode(s,o){let l=new se(""),c=j.ISO8859_1;l.enableDecoding(c);let d=1,f=s[d++],x=new xg;for(;d<s[0];){switch(f){case Z.TEXT_COMPACTION_MODE_LATCH:d=Z.textCompaction(s,d,l);break;case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:d=Z.byteCompaction(f,s,c,d,l);break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[d++]);break;case Z.NUMERIC_COMPACTION_MODE_LATCH:d=Z.numericCompaction(s,d,l);break;case Z.ECI_CHARSET:j.getCharacterSetECIByValue(s[d++]);break;case Z.ECI_GENERAL_PURPOSE:d+=2;break;case Z.ECI_USER_DEFINED:d++;break;case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=Z.decodeMacroBlock(s,d,x);break;case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:throw new B;default:d--,d=Z.textCompaction(s,d,l);break}if(d<s.length)f=s[d++];else throw B.getFormatInstance()}if(l.length()===0)throw B.getFormatInstance();let y=new De(null,l.toString(),null,o);return y.setOther(x),y}static decodeMacroBlock(s,o,l){if(o+Z.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw B.getFormatInstance();let c=new Int32Array(Z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<Z.NUMBER_OF_SEQUENCE_CODEWORDS;x++,o++)c[x]=s[o];l.setSegmentIndex(S.parseInt(Z.decodeBase900toBase10(c,Z.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new se;o=Z.textCompaction(s,o,d),l.setFileId(d.toString());let f=-1;for(s[o]===Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=o+1);o<s[0];)switch(s[o]){case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,s[o]){case Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new se;o=Z.textCompaction(s,o+1,x),l.setFileName(x.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new se;o=Z.textCompaction(s,o+1,y),l.setSender(y.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let b=new se;o=Z.textCompaction(s,o+1,b),l.setAddressee(b.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let _=new se;o=Z.numericCompaction(s,o+1,_),l.setSegmentCount(S.parseInt(_.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new se;o=Z.numericCompaction(s,o+1,O),l.setTimestamp(wg.parseLong(O.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let M=new se;o=Z.numericCompaction(s,o+1,M),l.setChecksum(S.parseInt(M.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let U=new se;o=Z.numericCompaction(s,o+1,U),l.setFileSize(wg.parseLong(U.toString()));break;default:throw B.getFormatInstance()}break;case Z.MACRO_PDF417_TERMINATOR:o++,l.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(f!==-1){let x=o-f;l.isLastSegment()&&x--,l.setOptionalData(A.copyOfRange(s,f,f+x))}return o}static textCompaction(s,o,l){let c=new Int32Array((s[0]-o)*2),d=new Int32Array((s[0]-o)*2),f=0,x=!1;for(;o<s[0]&&!x;){let y=s[o++];if(y<Z.TEXT_COMPACTION_MODE_LATCH)c[f]=y/30,c[f+1]=y%30,f+=2;else switch(y){case Z.TEXT_COMPACTION_MODE_LATCH:c[f++]=Z.TEXT_COMPACTION_MODE_LATCH;break;case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:o--,x=!0;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[f]=Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=s[o++],d[f]=y,f++;break}}return Z.decodeTextCompaction(c,d,f,l),o}static decodeTextCompaction(s,o,l,c){let d=yt.ALPHA,f=yt.ALPHA,x=0;for(;x<l;){let y=s[x],b="";switch(d){case yt.ALPHA:if(y<26)b=String.fromCharCode(65+y);else switch(y){case 26:b=" ";break;case Z.LL:d=yt.LOWER;break;case Z.ML:d=yt.MIXED;break;case Z.PS:f=d,d=yt.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case Z.TEXT_COMPACTION_MODE_LATCH:d=yt.ALPHA;break}break;case yt.LOWER:if(y<26)b=String.fromCharCode(97+y);else switch(y){case 26:b=" ";break;case Z.AS:f=d,d=yt.ALPHA_SHIFT;break;case Z.ML:d=yt.MIXED;break;case Z.PS:f=d,d=yt.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case Z.TEXT_COMPACTION_MODE_LATCH:d=yt.ALPHA;break}break;case yt.MIXED:if(y<Z.PL)b=Z.MIXED_CHARS[y];else switch(y){case Z.PL:d=yt.PUNCT;break;case 26:b=" ";break;case Z.LL:d=yt.LOWER;break;case Z.AL:d=yt.ALPHA;break;case Z.PS:f=d,d=yt.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case Z.TEXT_COMPACTION_MODE_LATCH:d=yt.ALPHA;break}break;case yt.PUNCT:if(y<Z.PAL)b=Z.PUNCT_CHARS[y];else switch(y){case Z.PAL:d=yt.ALPHA;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case Z.TEXT_COMPACTION_MODE_LATCH:d=yt.ALPHA;break}break;case yt.ALPHA_SHIFT:if(d=f,y<26)b=String.fromCharCode(65+y);else switch(y){case 26:b=" ";break;case Z.TEXT_COMPACTION_MODE_LATCH:d=yt.ALPHA;break}break;case yt.PUNCT_SHIFT:if(d=f,y<Z.PAL)b=Z.PUNCT_CHARS[y];else switch(y){case Z.PAL:d=yt.ALPHA;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case Z.TEXT_COMPACTION_MODE_LATCH:d=yt.ALPHA;break}break}b!==""&&c.append(b),x++}}static byteCompaction(s,o,l,c,d){let f=new r3,x=0,y=0,b=!1;switch(s){case Z.BYTE_COMPACTION_MODE_LATCH:let _=new Int32Array(6),O=o[c++];for(;c<o[0]&&!b;)switch(_[x++]=O,y=900*y+O,O=o[c++],O){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:c--,b=!0;break;default:if(x%5===0&&x>0){for(let M=0;M<6;++M)f.write(Number(Js(y)>>Js(8*(5-M))));y=0,x=0}break}c===o[0]&&O<Z.TEXT_COMPACTION_MODE_LATCH&&(_[x++]=O);for(let M=0;M<x;M++)f.write(_[M]);break;case Z.BYTE_COMPACTION_MODE_LATCH_6:for(;c<o[0]&&!b;){let M=o[c++];if(M<Z.TEXT_COMPACTION_MODE_LATCH)x++,y=900*y+M;else switch(M){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:c--,b=!0;break}if(x%5===0&&x>0){for(let U=0;U<6;++U)f.write(Number(Js(y)>>Js(8*(5-U))));y=0,x=0}}break}return d.append(ee.decode(f.toByteArray(),l)),c}static numericCompaction(s,o,l){let c=0,d=!1,f=new Int32Array(Z.MAX_NUMERIC_CODEWORDS);for(;o<s[0]&&!d;){let x=s[o++];if(o===s[0]&&(d=!0),x<Z.TEXT_COMPACTION_MODE_LATCH)f[c]=x,c++;else switch(x){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:o--,d=!0;break}(c%Z.MAX_NUMERIC_CODEWORDS===0||x===Z.NUMERIC_COMPACTION_MODE_LATCH||d)&&c>0&&(l.append(Z.decodeBase900toBase10(f,c)),c=0)}return o}static decodeBase900toBase10(s,o){let l=Js(0);for(let d=0;d<o;d++)l+=Z.EXP900[o-d-1]*Js(s[d]);let c=l.toString();if(c.charAt(0)!=="1")throw new B;return c.substring(1)}}Z.TEXT_COMPACTION_MODE_LATCH=900,Z.BYTE_COMPACTION_MODE_LATCH=901,Z.NUMERIC_COMPACTION_MODE_LATCH=902,Z.BYTE_COMPACTION_MODE_LATCH_6=924,Z.ECI_USER_DEFINED=925,Z.ECI_GENERAL_PURPOSE=926,Z.ECI_CHARSET=927,Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Z.MACRO_PDF417_TERMINATOR=922,Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Z.MAX_NUMERIC_CODEWORDS=15,Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Z.PL=25,Z.LL=27,Z.AS=27,Z.ML=28,Z.AL=28,Z.PS=29,Z.PAL=29,Z.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Z.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Z.EXP900=vg()?s3():[],Z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ze{constructor(){}static decode(s,o,l,c,d,f,x){let y=new no(s,o,l,c,d),b=null,_=null,O;for(let H=!0;;H=!1){if(o!=null&&(b=Ze.getRowIndicatorColumn(s,y,o,!0,f,x)),c!=null&&(_=Ze.getRowIndicatorColumn(s,y,c,!1,f,x)),O=Ze.merge(b,_),O==null)throw X.getNotFoundInstance();let G=O.getBoundingBox();if(H&&G!=null&&(G.getMinY()<y.getMinY()||G.getMaxY()>y.getMaxY()))y=G;else break}O.setBoundingBox(y);let M=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,b),O.setDetectionResultColumn(M,_);let U=b!=null;for(let H=1;H<=M;H++){let G=U?H:M-H;if(O.getDetectionResultColumn(G)!==void 0)continue;let Y;G===0||G===M?Y=new gg(y,G===0):Y=new Al(y),O.setDetectionResultColumn(G,Y);let J=-1,le=J;for(let ce=y.getMinY();ce<=y.getMaxY();ce++){if(J=Ze.getStartColumn(O,G,ce,U),J<0||J>y.getMaxX()){if(le===-1)continue;J=le}let oe=Ze.detectCodeword(s,y.getMinX(),y.getMaxX(),U,J,ce,f,x);oe!=null&&(Y.setCodeword(ce,oe),le=J,f=Math.min(f,oe.getWidth()),x=Math.max(x,oe.getWidth()))}}return Ze.createDecoderResult(O)}static merge(s,o){if(s==null&&o==null)return null;let l=Ze.getBarcodeMetadata(s,o);if(l==null)return null;let c=no.merge(Ze.adjustBoundingBox(s),Ze.adjustBoundingBox(o));return new Nl(l,c)}static adjustBoundingBox(s){if(s==null)return null;let o=s.getRowHeights();if(o==null)return null;let l=Ze.getMax(o),c=0;for(let x of o)if(c+=l-x,x>0)break;let d=s.getCodewords();for(let x=0;c>0&&d[x]==null;x++)c--;let f=0;for(let x=o.length-1;x>=0&&(f+=l-o[x],!(o[x]>0));x--);for(let x=d.length-1;f>0&&d[x]==null;x--)f--;return s.getBoundingBox().addMissingRows(c,f,s.isLeft())}static getMax(s){let o=-1;for(let l of s)o=Math.max(o,l);return o}static getBarcodeMetadata(s,o){let l;if(s==null||(l=s.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let c;return o==null||(c=o.getBarcodeMetadata())==null?l:l.getColumnCount()!==c.getColumnCount()&&l.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&l.getRowCount()!==c.getRowCount()?null:l}static getRowIndicatorColumn(s,o,l,c,d,f){let x=new gg(o,c);for(let y=0;y<2;y++){let b=y===0?1:-1,_=Math.trunc(Math.trunc(l.getX()));for(let O=Math.trunc(Math.trunc(l.getY()));O<=o.getMaxY()&&O>=o.getMinY();O+=b){let M=Ze.detectCodeword(s,0,s.getWidth(),c,_,O,d,f);M!=null&&(x.setCodeword(O,M),c?_=M.getStartX():_=M.getEndX())}}return x}static adjustCodewordCount(s,o){let l=o[0][1],c=l.getValue(),d=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Ze.getNumberOfECCodeWords(s.getBarcodeECLevel());if(c.length===0){if(d<1||d>Ue.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();l.setValue(d)}else c[0]!==d&&l.setValue(d)}static createDecoderResult(s){let o=Ze.createBarcodeMatrix(s);Ze.adjustCodewordCount(s,o);let l=new Array,c=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),d=[],f=new Array;for(let y=0;y<s.getBarcodeRowCount();y++)for(let b=0;b<s.getBarcodeColumnCount();b++){let _=o[y][b+1].getValue(),O=y*s.getBarcodeColumnCount()+b;_.length===0?l.push(O):_.length===1?c[O]=_[0]:(f.push(O),d.push(_))}let x=new Array(d.length);for(let y=0;y<x.length;y++)x[y]=d[y];return Ze.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),c,Ue.toIntArray(l),Ue.toIntArray(f),x)}static createDecoderResultFromAmbiguousValues(s,o,l,c,d){let f=new Int32Array(c.length),x=100;for(;x-- >0;){for(let y=0;y<f.length;y++)o[c[y]]=d[y][f[y]];try{return Ze.decodeCodewords(o,s,l)}catch(y){if(!(y instanceof N))throw y}if(f.length===0)throw N.getChecksumInstance();for(let y=0;y<f.length;y++)if(f[y]<d[y].length-1){f[y]++;break}else if(f[y]=0,y===f.length-1)throw N.getChecksumInstance()}throw N.getChecksumInstance()}static createBarcodeMatrix(s){let o=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let c=0;c<o.length;c++)for(let d=0;d<o[c].length;d++)o[c][d]=new _l;let l=0;for(let c of s.getDetectionResultColumns()){if(c!=null){for(let d of c.getCodewords())if(d!=null){let f=d.getRowNumber();if(f>=0){if(f>=o.length)continue;o[f][l].setValue(d.getValue())}}}l++}return o}static isValidBarcodeColumn(s,o){return o>=0&&o<=s.getBarcodeColumnCount()+1}static getStartColumn(s,o,l,c){let d=c?1:-1,f=null;if(Ze.isValidBarcodeColumn(s,o-d)&&(f=s.getDetectionResultColumn(o-d).getCodeword(l)),f!=null)return c?f.getEndX():f.getStartX();if(f=s.getDetectionResultColumn(o).getCodewordNearby(l),f!=null)return c?f.getStartX():f.getEndX();if(Ze.isValidBarcodeColumn(s,o-d)&&(f=s.getDetectionResultColumn(o-d).getCodewordNearby(l)),f!=null)return c?f.getEndX():f.getStartX();let x=0;for(;Ze.isValidBarcodeColumn(s,o-d);){o-=d;for(let y of s.getDetectionResultColumn(o).getCodewords())if(y!=null)return(c?y.getEndX():y.getStartX())+d*x*(y.getEndX()-y.getStartX());x++}return c?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,o,l,c,d,f,x,y){d=Ze.adjustCodewordStartColumn(s,o,l,c,d,f);let b=Ze.getModuleBitCount(s,o,l,c,d,f);if(b==null)return null;let _,O=_e.sum(b);if(c)_=d+O;else{for(let H=0;H<b.length/2;H++){let G=b[H];b[H]=b[b.length-1-H],b[b.length-1-H]=G}_=d,d=_-O}if(!Ze.checkCodewordSkew(O,x,y))return null;let M=Xn.getDecodedValue(b),U=Ue.getCodeword(M);return U===-1?null:new Tl(d,_,Ze.getCodewordBucketNumber(M),U)}static getModuleBitCount(s,o,l,c,d,f){let x=d,y=new Int32Array(8),b=0,_=c?1:-1,O=c;for(;(c?x<l:x>=o)&&b<y.length;)s.get(x,f)===O?(y[b]++,x+=_):(b++,O=!O);return b===y.length||x===(c?l:o)&&b===y.length-1?y:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,o,l,c,d,f){let x=d,y=c?-1:1;for(let b=0;b<2;b++){for(;(c?x>=o:x<l)&&c===s.get(x,f);){if(Math.abs(d-x)>Ze.CODEWORD_SKEW_SIZE)return d;x+=y}y=-y,c=!c}return x}static checkCodewordSkew(s,o,l){return o-Ze.CODEWORD_SKEW_SIZE<=s&&s<=l+Ze.CODEWORD_SKEW_SIZE}static decodeCodewords(s,o,l){if(s.length===0)throw B.getFormatInstance();let c=1<<o+1,d=Ze.correctErrors(s,l,c);Ze.verifyCodewordCount(s,c);let f=Z.decode(s,""+o);return f.setErrorsCorrected(d),f.setErasures(l.length),f}static correctErrors(s,o,l){if(o!=null&&o.length>l/2+Ze.MAX_ERRORS||l<0||l>Ze.MAX_EC_CODEWORDS)throw N.getChecksumInstance();return Ze.errorCorrection.decode(s,l,o)}static verifyCodewordCount(s,o){if(s.length<4)throw B.getFormatInstance();let l=s[0];if(l>s.length)throw B.getFormatInstance();if(l===0)if(o<s.length)s[0]=s.length-o;else throw B.getFormatInstance()}static getBitCountForCodeword(s){let o=new Int32Array(8),l=0,c=o.length-1;for(;!((s&1)!==l&&(l=s&1,c--,c<0));)o[c]++,s>>=1;return o}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Ze.getCodewordBucketNumber(Ze.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let o=new Sl;for(let l=0;l<s.length;l++){o.format("Row %2d: ",l);for(let c=0;c<s[l].length;c++){let d=s[l][c];d.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}o.format("%n")}return o.toString()}}Ze.CODEWORD_SKEW_SIZE=2,Ze.MAX_ERRORS=3,Ze.MAX_EC_CODEWORDS=512,Ze.errorCorrection=new pg;class yn{decode(s,o=null){let l=yn.decode(s,o,!1);if(l==null||l.length===0||l[0]==null)throw X.getNotFoundInstance();return l[0]}decodeMultiple(s,o=null){try{return yn.decode(s,o,!0)}catch(l){throw l instanceof B||l instanceof N?X.getNotFoundInstance():l}}static decode(s,o,l){const c=new Array,d=Ke.detectMultiple(s,o,l);for(const f of d.getPoints()){const x=Ze.decode(d.getBits(),f[4],f[5],f[6],f[7],yn.getMinCodewordWidth(f),yn.getMaxCodewordWidth(f)),y=new Re(x.getText(),x.getRawBytes(),void 0,f,de.PDF_417);y.putMetadata(xe.ERROR_CORRECTION_LEVEL,x.getECLevel());const b=x.getOther();b!=null&&y.putMetadata(xe.PDF417_EXTRA_METADATA,b),c.push(y)}return c.map(f=>f)}static getMaxWidth(s,o){return s==null||o==null?0:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMinWidth(s,o){return s==null||o==null?S.MAX_VALUE:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(yn.getMaxWidth(s[0],s[4]),yn.getMaxWidth(s[6],s[2])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN),Math.max(yn.getMaxWidth(s[1],s[5]),yn.getMaxWidth(s[7],s[3])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(yn.getMinWidth(s[0],s[4]),yn.getMinWidth(s[6],s[2])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN),Math.min(yn.getMinWidth(s[1],s[5]),yn.getMinWidth(s[7],s[3])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN)))}reset(){}}class fu extends p{}fu.kind="ReaderException";class bg{constructor(s,o){this.verbose=s===!0,o&&this.setHints(o)}decode(s,o){return o&&this.setHints(o),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const o=!r(s)&&s.get(V.TRY_HARDER)===!0,l=r(s)?null:s.get(V.POSSIBLE_FORMATS),c=new Array;if(!r(l)){const d=l.some(f=>f===de.UPC_A||f===de.UPC_E||f===de.EAN_13||f===de.EAN_8||f===de.CODABAR||f===de.CODE_39||f===de.CODE_93||f===de.CODE_128||f===de.ITF||f===de.RSS_14||f===de.RSS_EXPANDED);d&&!o&&c.push(new qo(s,this.verbose)),l.includes(de.QR_CODE)&&c.push(new Zs),l.includes(de.DATA_MATRIX)&&c.push(new Qs),l.includes(de.AZTEC)&&c.push(new Dr),l.includes(de.PDF_417)&&c.push(new yn),d&&o&&c.push(new qo(s,this.verbose))}c.length===0&&(o||c.push(new qo(s,this.verbose)),c.push(new Zs),c.push(new Qs),c.push(new Dr),c.push(new yn),o&&c.push(new qo(s,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new fu("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(s,this.hints)}catch(l){if(l instanceof fu)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class i3 extends we{constructor(s=null,o=500){const l=new bg;l.setHints(s),super(l,o)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class o3 extends we{constructor(s=500){super(new yn,s)}}class a3 extends we{constructor(s=500){super(new Zs,s)}}var ph;(function(R){R[R.ERROR_CORRECTION=0]="ERROR_CORRECTION",R[R.CHARACTER_SET=1]="CHARACTER_SET",R[R.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",R[R.MIN_SIZE=3]="MIN_SIZE",R[R.MAX_SIZE=4]="MAX_SIZE",R[R.MARGIN=5]="MARGIN",R[R.PDF417_COMPACT=6]="PDF417_COMPACT",R[R.PDF417_COMPACTION=7]="PDF417_COMPACTION",R[R.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",R[R.AZTEC_LAYERS=9]="AZTEC_LAYERS",R[R.QR_VERSION=10]="QR_VERSION"})(ph||(ph={}));var on=ph;class gh{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new pe(s,Int32Array.from([1])))}buildGenerator(s){const o=this.cachedGenerators;if(s>=o.length){let l=o[o.length-1];const c=this.field;for(let d=o.length;d<=s;d++){const f=l.multiply(new pe(c,Int32Array.from([1,c.exp(d-1+c.getGeneratorBase())])));o.push(f),l=f}}return o[s]}encode(s,o){if(o===0)throw new v("No error correction bytes");const l=s.length-o;if(l<=0)throw new v("No data bytes provided");const c=this.buildGenerator(o),d=new Int32Array(l);T.arraycopy(s,0,d,0,l);let f=new pe(this.field,d);f=f.multiplyByMonomial(o,1);const y=f.divide(c)[1].getCoefficients(),b=o-y.length;for(let _=0;_<b;_++)s[l+_]=0;T.arraycopy(y,0,s,l+b,y.length)}}class qt{constructor(){}static applyMaskPenaltyRule1(s){return qt.applyMaskPenaltyRule1Internal(s,!0)+qt.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let o=0;const l=s.getArray(),c=s.getWidth(),d=s.getHeight();for(let f=0;f<d-1;f++){const x=l[f];for(let y=0;y<c-1;y++){const b=x[y];b===x[y+1]&&b===l[f+1][y]&&b===l[f+1][y+1]&&o++}}return qt.N2*o}static applyMaskPenaltyRule3(s){let o=0;const l=s.getArray(),c=s.getWidth(),d=s.getHeight();for(let f=0;f<d;f++)for(let x=0;x<c;x++){const y=l[f];x+6<c&&y[x]===1&&y[x+1]===0&&y[x+2]===1&&y[x+3]===1&&y[x+4]===1&&y[x+5]===0&&y[x+6]===1&&(qt.isWhiteHorizontal(y,x-4,x)||qt.isWhiteHorizontal(y,x+7,x+11))&&o++,f+6<d&&l[f][x]===1&&l[f+1][x]===0&&l[f+2][x]===1&&l[f+3][x]===1&&l[f+4][x]===1&&l[f+5][x]===0&&l[f+6][x]===1&&(qt.isWhiteVertical(l,x,f-4,f)||qt.isWhiteVertical(l,x,f+7,f+11))&&o++}return o*qt.N3}static isWhiteHorizontal(s,o,l){o=Math.max(o,0),l=Math.min(l,s.length);for(let c=o;c<l;c++)if(s[c]===1)return!1;return!0}static isWhiteVertical(s,o,l,c){l=Math.max(l,0),c=Math.min(c,s.length);for(let d=l;d<c;d++)if(s[d][o]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let o=0;const l=s.getArray(),c=s.getWidth(),d=s.getHeight();for(let y=0;y<d;y++){const b=l[y];for(let _=0;_<c;_++)b[_]===1&&o++}const f=s.getHeight()*s.getWidth();return Math.floor(Math.abs(o*2-f)*10/f)*qt.N4}static getDataMaskBit(s,o,l){let c,d;switch(s){case 0:c=l+o&1;break;case 1:c=l&1;break;case 2:c=o%3;break;case 3:c=(l+o)%3;break;case 4:c=Math.floor(l/2)+Math.floor(o/3)&1;break;case 5:d=l*o,c=(d&1)+d%3;break;case 6:d=l*o,c=(d&1)+d%3&1;break;case 7:d=l*o,c=d%3+(l+o&1)&1;break;default:throw new v("Invalid mask pattern: "+s)}return c===0}static applyMaskPenaltyRule1Internal(s,o){let l=0;const c=o?s.getHeight():s.getWidth(),d=o?s.getWidth():s.getHeight(),f=s.getArray();for(let x=0;x<c;x++){let y=0,b=-1;for(let _=0;_<d;_++){const O=o?f[x][_]:f[_][x];O===b?y++:(y>=5&&(l+=qt.N1+(y-5)),y=1,b=O)}y>=5&&(l+=qt.N1+(y-5))}return l}}qt.N1=3,qt.N2=3,qt.N3=40,qt.N4=10;class hu{constructor(s,o){this.width=s,this.height=o;const l=new Array(o);for(let c=0;c!==o;c++)l[c]=new Uint8Array(s);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(s,o){return this.bytes[o][s]}getArray(){return this.bytes}setNumber(s,o,l){this.bytes[o][s]=l}setBoolean(s,o,l){this.bytes[o][s]=l?1:0}clear(s){for(const o of this.bytes)A.fill(o,s)}equals(s){if(!(s instanceof hu))return!1;const o=s;if(this.width!==o.width||this.height!==o.height)return!1;for(let l=0,c=this.height;l<c;++l){const d=this.bytes[l],f=o.bytes[l];for(let x=0,y=this.width;x<y;++x)if(d[x]!==f[x])return!1}return!0}toString(){const s=new se;for(let o=0,l=this.height;o<l;++o){const c=this.bytes[o];for(let d=0,f=this.width;d<f;++d)switch(c[d]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class ro{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new se;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<ro.NUM_MASK_PATTERNS}}ro.NUM_MASK_PATTERNS=8;class bt extends p{}bt.kind="WriterException";class Le{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,o,l,c,d){Le.clearMatrix(d),Le.embedBasicPatterns(l,d),Le.embedTypeInfo(o,c,d),Le.maybeEmbedVersionInfo(l,d),Le.embedDataBits(s,c,d)}static embedBasicPatterns(s,o){Le.embedPositionDetectionPatternsAndSeparators(o),Le.embedDarkDotAtLeftBottomCorner(o),Le.maybeEmbedPositionAdjustmentPatterns(s,o),Le.embedTimingPatterns(o)}static embedTypeInfo(s,o,l){const c=new D;Le.makeTypeInfoBits(s,o,c);for(let d=0,f=c.getSize();d<f;++d){const x=c.get(c.getSize()-1-d),y=Le.TYPE_INFO_COORDINATES[d],b=y[0],_=y[1];if(l.setBoolean(b,_,x),d<8){const O=l.getWidth()-d-1;l.setBoolean(O,8,x)}else{const M=l.getHeight()-7+(d-8);l.setBoolean(8,M,x)}}}static maybeEmbedVersionInfo(s,o){if(s.getVersionNumber()<7)return;const l=new D;Le.makeVersionInfoBits(s,l);let c=6*3-1;for(let d=0;d<6;++d)for(let f=0;f<3;++f){const x=l.get(c);c--,o.setBoolean(d,o.getHeight()-11+f,x),o.setBoolean(o.getHeight()-11+f,d,x)}}static embedDataBits(s,o,l){let c=0,d=-1,f=l.getWidth()-1,x=l.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);x>=0&&x<l.getHeight();){for(let y=0;y<2;++y){const b=f-y;if(!Le.isEmpty(l.get(b,x)))continue;let _;c<s.getSize()?(_=s.get(c),++c):_=!1,o!==255&&qt.getDataMaskBit(o,b,x)&&(_=!_),l.setBoolean(b,x,_)}x+=d}d=-d,x+=d,f-=2}if(c!==s.getSize())throw new bt("Not all bits consumed: "+c+"/"+s.getSize())}static findMSBSet(s){return 32-S.numberOfLeadingZeros(s)}static calculateBCHCode(s,o){if(o===0)throw new v("0 polynomial");const l=Le.findMSBSet(o);for(s<<=l-1;Le.findMSBSet(s)>=l;)s^=o<<Le.findMSBSet(s)-l;return s}static makeTypeInfoBits(s,o,l){if(!ro.isValidMaskPattern(o))throw new bt("Invalid mask pattern");const c=s.getBits()<<3|o;l.appendBits(c,5);const d=Le.calculateBCHCode(c,Le.TYPE_INFO_POLY);l.appendBits(d,10);const f=new D;if(f.appendBits(Le.TYPE_INFO_MASK_PATTERN,15),l.xor(f),l.getSize()!==15)throw new bt("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(s,o){o.appendBits(s.getVersionNumber(),6);const l=Le.calculateBCHCode(s.getVersionNumber(),Le.VERSION_INFO_POLY);if(o.appendBits(l,12),o.getSize()!==18)throw new bt("should not happen but we got: "+o.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let o=8;o<s.getWidth()-8;++o){const l=(o+1)%2;Le.isEmpty(s.get(o,6))&&s.setNumber(o,6,l),Le.isEmpty(s.get(6,o))&&s.setNumber(6,o,l)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new bt;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,o,l){for(let c=0;c<8;++c){if(!Le.isEmpty(l.get(s+c,o)))throw new bt;l.setNumber(s+c,o,0)}}static embedVerticalSeparationPattern(s,o,l){for(let c=0;c<7;++c){if(!Le.isEmpty(l.get(s,o+c)))throw new bt;l.setNumber(s,o+c,0)}}static embedPositionAdjustmentPattern(s,o,l){for(let c=0;c<5;++c){const d=Le.POSITION_ADJUSTMENT_PATTERN[c];for(let f=0;f<5;++f)l.setNumber(s+f,o+c,d[f])}}static embedPositionDetectionPattern(s,o,l){for(let c=0;c<7;++c){const d=Le.POSITION_DETECTION_PATTERN[c];for(let f=0;f<7;++f)l.setNumber(s+f,o+c,d[f])}}static embedPositionDetectionPatternsAndSeparators(s){const o=Le.POSITION_DETECTION_PATTERN[0].length;Le.embedPositionDetectionPattern(0,0,s),Le.embedPositionDetectionPattern(s.getWidth()-o,0,s),Le.embedPositionDetectionPattern(0,s.getWidth()-o,s);const l=8;Le.embedHorizontalSeparationPattern(0,l-1,s),Le.embedHorizontalSeparationPattern(s.getWidth()-l,l-1,s),Le.embedHorizontalSeparationPattern(0,s.getWidth()-l,s);const c=7;Le.embedVerticalSeparationPattern(c,0,s),Le.embedVerticalSeparationPattern(s.getHeight()-c-1,0,s),Le.embedVerticalSeparationPattern(c,s.getHeight()-c,s)}static maybeEmbedPositionAdjustmentPatterns(s,o){if(s.getVersionNumber()<2)return;const l=s.getVersionNumber()-1,c=Le.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let d=0,f=c.length;d!==f;d++){const x=c[d];if(x>=0)for(let y=0;y!==f;y++){const b=c[y];b>=0&&Le.isEmpty(o.get(b,x))&&Le.embedPositionAdjustmentPattern(b-2,x-2,o)}}}}Le.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Le.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Le.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Le.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Le.VERSION_INFO_POLY=7973,Le.TYPE_INFO_POLY=1335,Le.TYPE_INFO_MASK_PATTERN=21522;class l3{constructor(s,o){this.dataBytes=s,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ot{constructor(){}static calculateMaskPenalty(s){return qt.applyMaskPenaltyRule1(s)+qt.applyMaskPenaltyRule2(s)+qt.applyMaskPenaltyRule3(s)+qt.applyMaskPenaltyRule4(s)}static encode(s,o,l=null){let c=Ot.DEFAULT_BYTE_MODE_ENCODING;const d=l!==null&&l.get(on.CHARACTER_SET)!==void 0;d&&(c=l.get(on.CHARACTER_SET).toString());const f=this.chooseMode(s,c),x=new D;if(f===je.BYTE&&(d||Ot.DEFAULT_BYTE_MODE_ENCODING!==c)){const ce=j.getCharacterSetECIByName(c);ce!==void 0&&this.appendECI(ce,x)}this.appendModeInfo(f,x);const y=new D;this.appendBytes(s,f,y,c);let b;if(l!==null&&l.get(on.QR_VERSION)!==void 0){const ce=Number.parseInt(l.get(on.QR_VERSION).toString(),10);b=Ie.getVersionForNumber(ce);const oe=this.calculateBitsNeeded(f,x,y,b);if(!this.willFit(oe,b,o))throw new bt("Data too big for requested version")}else b=this.recommendVersion(o,f,x,y);const _=new D;_.appendBitArray(x);const O=f===je.BYTE?y.getSizeInBytes():s.length;this.appendLengthInfo(O,b,f,_),_.appendBitArray(y);const M=b.getECBlocksForLevel(o),U=b.getTotalCodewords()-M.getTotalECCodewords();this.terminateBits(U,_);const H=this.interleaveWithECBytes(_,b.getTotalCodewords(),U,M.getNumBlocks()),G=new ro;G.setECLevel(o),G.setMode(f),G.setVersion(b);const Y=b.getDimensionForVersion(),J=new hu(Y,Y),le=this.chooseMaskPattern(H,o,b,J);return G.setMaskPattern(le),Le.buildMatrix(H,o,b,le,J),G.setMatrix(J),G}static recommendVersion(s,o,l,c){const d=this.calculateBitsNeeded(o,l,c,Ie.getVersionForNumber(1)),f=this.chooseVersion(d,s),x=this.calculateBitsNeeded(o,l,c,f);return this.chooseVersion(x,s)}static calculateBitsNeeded(s,o,l,c){return o.getSize()+s.getCharacterCountBits(c)+l.getSize()}static getAlphanumericCode(s){return s<Ot.ALPHANUMERIC_TABLE.length?Ot.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,o=null){if(j.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(s))return je.KANJI;let l=!1,c=!1;for(let d=0,f=s.length;d<f;++d){const x=s.charAt(d);if(Ot.isDigit(x))l=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)c=!0;else return je.BYTE}return c?je.ALPHANUMERIC:l?je.NUMERIC:je.BYTE}static isOnlyDoubleByteKanji(s){let o;try{o=ee.encode(s,j.SJIS)}catch{return!1}const l=o.length;if(l%2!==0)return!1;for(let c=0;c<l;c+=2){const d=o[c]&255;if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(s,o,l,c){let d=Number.MAX_SAFE_INTEGER,f=-1;for(let x=0;x<ro.NUM_MASK_PATTERNS;x++){Le.buildMatrix(s,o,l,x,c);let y=this.calculateMaskPenalty(c);y<d&&(d=y,f=x)}return f}static chooseVersion(s,o){for(let l=1;l<=40;l++){const c=Ie.getVersionForNumber(l);if(Ot.willFit(s,c,o))return c}throw new bt("Data too big")}static willFit(s,o,l){const c=o.getTotalCodewords(),f=o.getECBlocksForLevel(l).getTotalECCodewords(),x=c-f,y=(s+7)/8;return x>=y}static terminateBits(s,o){const l=s*8;if(o.getSize()>l)throw new bt("data bits cannot fit in the QR Code"+o.getSize()+" > "+l);for(let f=0;f<4&&o.getSize()<l;++f)o.appendBit(!1);const c=o.getSize()&7;if(c>0)for(let f=c;f<8;f++)o.appendBit(!1);const d=s-o.getSizeInBytes();for(let f=0;f<d;++f)o.appendBits(f&1?17:236,8);if(o.getSize()!==l)throw new bt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,o,l,c,d,f){if(c>=l)throw new bt("Block ID too large");const x=s%l,y=l-x,b=Math.floor(s/l),_=b+1,O=Math.floor(o/l),M=O+1,U=b-O,H=_-M;if(U!==H)throw new bt("EC bytes mismatch");if(l!==y+x)throw new bt("RS blocks mismatch");if(s!==(O+U)*y+(M+H)*x)throw new bt("Total bytes mismatch");c<y?(d[0]=O,f[0]=U):(d[0]=M,f[0]=H)}static interleaveWithECBytes(s,o,l,c){if(s.getSizeInBytes()!==l)throw new bt("Number of bits and data bytes does not match");let d=0,f=0,x=0;const y=new Array;for(let _=0;_<c;++_){const O=new Int32Array(1),M=new Int32Array(1);Ot.getNumDataBytesAndNumECBytesForBlockID(o,l,c,_,O,M);const U=O[0],H=new Uint8Array(U);s.toBytes(8*d,H,0,U);const G=Ot.generateECBytes(H,M[0]);y.push(new l3(H,G)),f=Math.max(f,U),x=Math.max(x,G.length),d+=O[0]}if(l!==d)throw new bt("Data bytes does not match offset");const b=new D;for(let _=0;_<f;++_)for(const O of y){const M=O.getDataBytes();_<M.length&&b.appendBits(M[_],8)}for(let _=0;_<x;++_)for(const O of y){const M=O.getErrorCorrectionBytes();_<M.length&&b.appendBits(M[_],8)}if(o!==b.getSizeInBytes())throw new bt("Interleaving error: "+o+" and "+b.getSizeInBytes()+" differ.");return b}static generateECBytes(s,o){const l=s.length,c=new Int32Array(l+o);for(let f=0;f<l;f++)c[f]=s[f]&255;new gh(Ae.QR_CODE_FIELD_256).encode(c,o);const d=new Uint8Array(o);for(let f=0;f<o;f++)d[f]=c[l+f];return d}static appendModeInfo(s,o){o.appendBits(s.getBits(),4)}static appendLengthInfo(s,o,l,c){const d=l.getCharacterCountBits(o);if(s>=1<<d)throw new bt(s+" is bigger than "+((1<<d)-1));c.appendBits(s,d)}static appendBytes(s,o,l,c){switch(o){case je.NUMERIC:Ot.appendNumericBytes(s,l);break;case je.ALPHANUMERIC:Ot.appendAlphanumericBytes(s,l);break;case je.BYTE:Ot.append8BitBytes(s,l,c);break;case je.KANJI:Ot.appendKanjiBytes(s,l);break;default:throw new bt("Invalid mode: "+o)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const o=Ot.getDigit(s);return o>=0&&o<=9}static appendNumericBytes(s,o){const l=s.length;let c=0;for(;c<l;){const d=Ot.getDigit(s.charAt(c));if(c+2<l){const f=Ot.getDigit(s.charAt(c+1)),x=Ot.getDigit(s.charAt(c+2));o.appendBits(d*100+f*10+x,10),c+=3}else if(c+1<l){const f=Ot.getDigit(s.charAt(c+1));o.appendBits(d*10+f,7),c+=2}else o.appendBits(d,4),c++}}static appendAlphanumericBytes(s,o){const l=s.length;let c=0;for(;c<l;){const d=Ot.getAlphanumericCode(s.charCodeAt(c));if(d===-1)throw new bt;if(c+1<l){const f=Ot.getAlphanumericCode(s.charCodeAt(c+1));if(f===-1)throw new bt;o.appendBits(d*45+f,11),c+=2}else o.appendBits(d,6),c++}}static append8BitBytes(s,o,l){let c;try{c=ee.encode(s,l)}catch(d){throw new bt(d)}for(let d=0,f=c.length;d!==f;d++){const x=c[d];o.appendBits(x,8)}}static appendKanjiBytes(s,o){let l;try{l=ee.encode(s,j.SJIS)}catch(d){throw new bt(d)}const c=l.length;for(let d=0;d<c;d+=2){const f=l[d]&255,x=l[d+1]&255,y=f<<8&4294967295|x;let b=-1;if(y>=33088&&y<=40956?b=y-33088:y>=57408&&y<=60351&&(b=y-49472),b===-1)throw new bt("Invalid byte sequence");const _=(b>>8)*192+(b&255);o.appendBits(_,13)}}static appendECI(s,o){o.appendBits(je.ECI.getBits(),4),o.appendBits(s.getValue(),8)}}Ot.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ot.DEFAULT_BYTE_MODE_ENCODING=j.UTF8.getName();class so{write(s,o,l,c=null){if(s.length===0)throw new v("Found empty contents");if(o<0||l<0)throw new v("Requested dimensions are too small: "+o+"x"+l);let d=Tt.L,f=so.QUIET_ZONE_SIZE;c!==null&&(c.get(on.ERROR_CORRECTION)!==void 0&&(d=Tt.fromString(c.get(on.ERROR_CORRECTION).toString())),c.get(on.MARGIN)!==void 0&&(f=Number.parseInt(c.get(on.MARGIN).toString(),10)));const x=Ot.encode(s,d,c);return this.renderResult(x,o,l,f)}writeToDom(s,o,l,c,d=null){typeof s=="string"&&(s=document.querySelector(s));const f=this.write(o,l,c,d);s&&s.appendChild(f)}renderResult(s,o,l,c){const d=s.getMatrix();if(d===null)throw new ze;const f=d.getWidth(),x=d.getHeight(),y=f+c*2,b=x+c*2,_=Math.max(o,y),O=Math.max(l,b),M=Math.min(Math.floor(_/y),Math.floor(O/b)),U=Math.floor((_-f*M)/2),H=Math.floor((O-x*M)/2),G=this.createSVGElement(_,O);for(let Y=0,J=H;Y<x;Y++,J+=M)for(let le=0,ce=U;le<f;le++,ce+=M)if(d.get(le,Y)===1){const oe=this.createSvgRectElement(ce,J,M,M);G.appendChild(oe)}return G}createSVGElement(s,o){const l=document.createElementNS(so.SVG_NS,"svg");return l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",o.toString()),l}createSvgRectElement(s,o,l,c){const d=document.createElementNS(so.SVG_NS,"rect");return d.setAttributeNS(null,"x",s.toString()),d.setAttributeNS(null,"y",o.toString()),d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",c.toString()),d.setAttributeNS(null,"fill","#000000"),d}}so.QUIET_ZONE_SIZE=4,so.SVG_NS="http://www.w3.org/2000/svg";class Yo{encode(s,o,l,c,d){if(s.length===0)throw new v("Found empty contents");if(o!==de.QR_CODE)throw new v("Can only encode QR_CODE, but got "+o);if(l<0||c<0)throw new v(`Requested dimensions are too small: ${l}x${c}`);let f=Tt.L,x=Yo.QUIET_ZONE_SIZE;d!==null&&(d.get(on.ERROR_CORRECTION)!==void 0&&(f=Tt.fromString(d.get(on.ERROR_CORRECTION).toString())),d.get(on.MARGIN)!==void 0&&(x=Number.parseInt(d.get(on.MARGIN).toString(),10)));const y=Ot.encode(s,f,d);return Yo.renderResult(y,l,c,x)}static renderResult(s,o,l,c){const d=s.getMatrix();if(d===null)throw new ze;const f=d.getWidth(),x=d.getHeight(),y=f+c*2,b=x+c*2,_=Math.max(o,y),O=Math.max(l,b),M=Math.min(Math.floor(_/y),Math.floor(O/b)),U=Math.floor((_-f*M)/2),H=Math.floor((O-x*M)/2),G=new re(_,O);for(let Y=0,J=H;Y<x;Y++,J+=M)for(let le=0,ce=U;le<f;le++,ce+=M)d.get(le,Y)===1&&G.setRegion(ce,J,M,M);return G}}Yo.QUIET_ZONE_SIZE=4;class c3{encode(s,o,l,c,d){let f;switch(o){case de.QR_CODE:f=new Yo;break;default:throw new v("No encoder available for format "+o)}return f.encode(s,o,l,c,d)}}class ns extends Q{constructor(s,o,l,c,d,f,x,y){if(super(f,x),this.yuvData=s,this.dataWidth=o,this.dataHeight=l,this.left=c,this.top=d,c+f>o||d+x>l)throw new v("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(f,x)}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const c=(s+this.top)*this.dataWidth+this.left;return T.arraycopy(this.yuvData,c,o,0,l),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.yuvData;const l=s*o,c=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return T.arraycopy(this.yuvData,d,c,0,l),c;for(let f=0;f<o;f++){const x=f*s;T.arraycopy(this.yuvData,d,c,x,s),d+=this.dataWidth}return c}isCropSupported(){return!0}crop(s,o,l,c){return new ns(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+o,l,c,!1)}renderThumbnail(){const s=this.getWidth()/ns.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/ns.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(s*o),c=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let f=0;f<o;f++){const x=f*s;for(let y=0;y<s;y++){const b=c[d+y*ns.THUMBNAIL_SCALE_FACTOR]&255;l[x+y]=4278190080|b*65793}d+=this.dataWidth*ns.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/ns.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ns.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,o){const l=this.yuvData;for(let c=0,d=this.top*this.dataWidth+this.left;c<o;c++,d+=this.dataWidth){const f=d+s/2;for(let x=d,y=d+s-1;x<f;x++,y--){const b=l[x];l[x]=l[y],l[y]=b}}}invert(){return new te(this)}}ns.THUMBNAIL_SCALE_FACTOR=2;class xh extends Q{constructor(s,o,l,c,d,f,x){if(super(o,l),this.dataWidth=c,this.dataHeight=d,this.left=f,this.top=x,s.BYTES_PER_ELEMENT===4){const y=o*l,b=new Uint8ClampedArray(y);for(let _=0;_<y;_++){const O=s[_],M=O>>16&255,U=O>>7&510,H=O&255;b[_]=(M+U+H)/4&255}this.luminances=b}else this.luminances=s;if(c===void 0&&(this.dataWidth=o),d===void 0&&(this.dataHeight=l),f===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+l>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const c=(s+this.top)*this.dataWidth+this.left;return T.arraycopy(this.luminances,c,o,0,l),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.luminances;const l=s*o,c=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return T.arraycopy(this.luminances,d,c,0,l),c;for(let f=0;f<o;f++){const x=f*s;T.arraycopy(this.luminances,d,c,x,s),d+=this.dataWidth}return c}isCropSupported(){return!0}crop(s,o,l,c){return new xh(this.luminances,l,c,this.dataWidth,this.dataHeight,this.left+s,this.top+o)}invert(){return new te(this)}}class Cg extends j{static forName(s){return this.getCharacterSetECIByName(s)}}class wh{}wh.ISO_8859_1=j.ISO8859_1;class Eg{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Sg{static singletonList(s){return[s]}static min(s,o){return s.sort(o)[0]}}class u3{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Ko extends u3{constructor(s,o,l){super(s),this.value=o,this.bitCount=l}appendTo(s,o){s.appendBits(this.value,this.bitCount)}add(s,o){return new Ko(this,s,o)}addBinaryShift(s,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ko(this,s,o)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+S.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class yh extends Ko{constructor(s,o,l){super(s,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=l}appendTo(s,o){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):l===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(o[this.binaryShiftStart+l],8)}addBinaryShift(s,o){return new yh(this,s,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function d3(R,s,o){return new yh(R,s,o)}function Il(R,s,o){return new Ko(R,s,o)}const f3=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ei=0,mu=1,Er=2,Ag=3,rs=4,h3=new Ko(null,0,0),vh=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function m3(R){for(let s of R)A.fill(s,-1);return R[ei][rs]=0,R[mu][rs]=0,R[mu][ei]=28,R[Ag][rs]=0,R[Er][rs]=0,R[Er][ei]=15,R}const _g=m3(A.createInt32Array(6,6));class ss{constructor(s,o,l,c){this.token=s,this.mode=o,this.binaryShiftByteCount=l,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,o){let l=this.bitCount,c=this.token;if(s!==this.mode){let f=vh[this.mode][s];c=Il(c,f&65535,f>>16),l+=f>>16}let d=s===Er?4:5;return c=Il(c,o,d),new ss(c,s,0,l+d)}shiftAndAppend(s,o){let l=this.token,c=this.mode===Er?4:5;return l=Il(l,_g[this.mode][s],c),l=Il(l,o,5),new ss(l,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(s){let o=this.token,l=this.mode,c=this.bitCount;if(this.mode===rs||this.mode===Er){let x=vh[l][ei];o=Il(o,x&65535,x>>16),c+=x>>16,l=ei}let d=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new ss(o,l,this.binaryShiftByteCount+1,c+d);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(s+1)),f}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=d3(o,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new ss(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let o=this.bitCount+(vh[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?o+=ss.calculateBinaryShiftCost(s)-ss.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(o+=10),o<=s.bitCount}toBitArray(s){let o=[];for(let c=this.endBinaryShift(s.length).token;c!==null;c=c.getPrevious())o.unshift(c);let l=new D;for(const c of o)c.appendTo(l,s);return l}toString(){return q.format("%s bits=%d bytes=%d",f3[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}ss.INITIAL_STATE=new ss(h3,ei,0,0);function p3(R){const s=q.getCharCode(" "),o=q.getCharCode("."),l=q.getCharCode(",");R[ei][s]=1;const c=q.getCharCode("Z"),d=q.getCharCode("A");for(let M=d;M<=c;M++)R[ei][M]=M-d+2;R[mu][s]=1;const f=q.getCharCode("z"),x=q.getCharCode("a");for(let M=x;M<=f;M++)R[mu][M]=M-x+2;R[Er][s]=1;const y=q.getCharCode("9"),b=q.getCharCode("0");for(let M=b;M<=y;M++)R[Er][M]=M-b+2;R[Er][l]=12,R[Er][o]=13;const _=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let M=0;M<_.length;M++)R[Ag][q.getCharCode(_[M])]=M;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let M=0;M<O.length;M++)q.getCharCode(O[M])>0&&(R[rs][q.getCharCode(O[M])]=M);return R}const bh=p3(A.createInt32Array(5,256));class Rl{constructor(s){this.text=s}encode(){const s=q.getCharCode(" "),o=q.getCharCode(`
`);let l=Sg.singletonList(ss.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let f,x=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case q.getCharCode("\r"):f=x===o?2:0;break;case q.getCharCode("."):f=x===s?3:0;break;case q.getCharCode(","):f=x===s?4:0;break;case q.getCharCode(":"):f=x===s?5:0;break;default:f=0}f>0?(l=Rl.updateStateListForPair(l,d,f),d++):l=this.updateStateListForChar(l,d)}return Sg.min(l,(d,f)=>d.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,o){const l=[];for(let c of s)this.updateStateForChar(c,o,l);return Rl.simplifyStates(l)}updateStateForChar(s,o,l){let c=this.text[o]&255,d=bh[s.getMode()][c]>0,f=null;for(let x=0;x<=rs;x++){let y=bh[x][c];if(y>0){if(f==null&&(f=s.endBinaryShift(o)),!d||x===s.getMode()||x===Er){const b=f.latchAndAppend(x,y);l.push(b)}if(!d&&_g[s.getMode()][x]>=0){const b=f.shiftAndAppend(x,y);l.push(b)}}}if(s.getBinaryShiftByteCount()>0||bh[s.getMode()][c]===0){let x=s.addBinaryShiftChar(o);l.push(x)}}static updateStateListForPair(s,o,l){const c=[];for(let d of s)this.updateStateForPair(d,o,l,c);return this.simplifyStates(c)}static updateStateForPair(s,o,l,c){let d=s.endBinaryShift(o);if(c.push(d.latchAndAppend(rs,l)),s.getMode()!==rs&&c.push(d.shiftAndAppend(rs,l)),l===3||l===4){let f=d.latchAndAppend(Er,16-l).latchAndAppend(Er,1);c.push(f)}if(s.getBinaryShiftByteCount()>0){let f=s.addBinaryShiftChar(o).addBinaryShiftChar(o+1);c.push(f)}}static simplifyStates(s){let o=[];for(const l of s){let c=!0;for(const d of o){if(d.isBetterThanOrEqualTo(l)){c=!1;break}l.isBetterThanOrEqualTo(d)&&(o=o.filter(f=>f!==d))}c&&o.push(l)}return o}}class lt{constructor(){}static encodeBytes(s){return lt.encode(s,lt.DEFAULT_EC_PERCENT,lt.DEFAULT_AZTEC_LAYERS)}static encode(s,o,l){let c=new Rl(s).encode(),d=S.truncDivision(c.getSize()*o,100)+11,f=c.getSize()+d,x,y,b,_,O;if(l!==lt.DEFAULT_AZTEC_LAYERS){if(x=l<0,y=Math.abs(l),y>(x?lt.MAX_NB_BITS_COMPACT:lt.MAX_NB_BITS))throw new v(q.format("Illegal value %s for layers",l));b=lt.totalBitsInLayer(y,x),_=lt.WORD_SIZE[y];let oe=b-b%_;if(O=lt.stuffBits(c,_),O.getSize()+d>oe)throw new v("Data to large for user specified layer");if(x&&O.getSize()>_*64)throw new v("Data to large for user specified layer")}else{_=0,O=null;for(let oe=0;;oe++){if(oe>lt.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(x=oe<=3,y=x?oe+1:oe,b=lt.totalBitsInLayer(y,x),f>b)continue;(O==null||_!==lt.WORD_SIZE[y])&&(_=lt.WORD_SIZE[y],O=lt.stuffBits(c,_));let rt=b-b%_;if(!(x&&O.getSize()>_*64)&&O.getSize()+d<=rt)break}}let M=lt.generateCheckWords(O,b,_),U=O.getSize()/_,H=lt.generateModeMessage(x,y,U),G=(x?11:14)+y*4,Y=new Int32Array(G),J;if(x){J=G;for(let oe=0;oe<Y.length;oe++)Y[oe]=oe}else{J=G+1+2*S.truncDivision(S.truncDivision(G,2)-1,15);let oe=S.truncDivision(G,2),rt=S.truncDivision(J,2);for(let $e=0;$e<oe;$e++){let Yn=$e+S.truncDivision($e,15);Y[oe-$e-1]=rt-Yn-1,Y[oe+$e]=rt+Yn+1}}let le=new re(J);for(let oe=0,rt=0;oe<y;oe++){let $e=(y-oe)*4+(x?9:12);for(let Yn=0;Yn<$e;Yn++){let Mr=Yn*2;for(let Kn=0;Kn<2;Kn++)M.get(rt+Mr+Kn)&&le.set(Y[oe*2+Kn],Y[oe*2+Yn]),M.get(rt+$e*2+Mr+Kn)&&le.set(Y[oe*2+Yn],Y[G-1-oe*2-Kn]),M.get(rt+$e*4+Mr+Kn)&&le.set(Y[G-1-oe*2-Kn],Y[G-1-oe*2-Yn]),M.get(rt+$e*6+Mr+Kn)&&le.set(Y[G-1-oe*2-Yn],Y[oe*2+Kn])}rt+=$e*8}if(lt.drawModeMessage(le,x,J,H),x)lt.drawBullsEye(le,S.truncDivision(J,2),5);else{lt.drawBullsEye(le,S.truncDivision(J,2),7);for(let oe=0,rt=0;oe<S.truncDivision(G,2)-1;oe+=15,rt+=16)for(let $e=S.truncDivision(J,2)&1;$e<J;$e+=2)le.set(S.truncDivision(J,2)-rt,$e),le.set(S.truncDivision(J,2)+rt,$e),le.set($e,S.truncDivision(J,2)-rt),le.set($e,S.truncDivision(J,2)+rt)}let ce=new Eg;return ce.setCompact(x),ce.setSize(J),ce.setLayers(y),ce.setCodeWords(U),ce.setMatrix(le),ce}static drawBullsEye(s,o,l){for(let c=0;c<l;c+=2)for(let d=o-c;d<=o+c;d++)s.set(d,o-c),s.set(d,o+c),s.set(o-c,d),s.set(o+c,d);s.set(o-l,o-l),s.set(o-l+1,o-l),s.set(o-l,o-l+1),s.set(o+l,o-l),s.set(o+l,o-l+1),s.set(o+l,o+l-1)}static generateModeMessage(s,o,l){let c=new D;return s?(c.appendBits(o-1,2),c.appendBits(l-1,6),c=lt.generateCheckWords(c,28,4)):(c.appendBits(o-1,5),c.appendBits(l-1,11),c=lt.generateCheckWords(c,40,4)),c}static drawModeMessage(s,o,l,c){let d=S.truncDivision(l,2);if(o)for(let f=0;f<7;f++){let x=d-3+f;c.get(f)&&s.set(x,d-5),c.get(f+7)&&s.set(d+5,x),c.get(20-f)&&s.set(x,d+5),c.get(27-f)&&s.set(d-5,x)}else for(let f=0;f<10;f++){let x=d-5+f+S.truncDivision(f,5);c.get(f)&&s.set(x,d-7),c.get(f+10)&&s.set(d+7,x),c.get(29-f)&&s.set(x,d+7),c.get(39-f)&&s.set(d-7,x)}}static generateCheckWords(s,o,l){let c=s.getSize()/l,d=new gh(lt.getGF(l)),f=S.truncDivision(o,l),x=lt.bitsToWords(s,l,f);d.encode(x,f-c);let y=o%l,b=new D;b.appendBits(0,y);for(const _ of Array.from(x))b.appendBits(_,l);return b}static bitsToWords(s,o,l){let c=new Int32Array(l),d,f;for(d=0,f=s.getSize()/o;d<f;d++){let x=0;for(let y=0;y<o;y++)x|=s.get(d*o+y)?1<<o-y-1:0;c[d]=x}return c}static getGF(s){switch(s){case 4:return Ae.AZTEC_PARAM;case 6:return Ae.AZTEC_DATA_6;case 8:return Ae.AZTEC_DATA_8;case 10:return Ae.AZTEC_DATA_10;case 12:return Ae.AZTEC_DATA_12;default:throw new v("Unsupported word size "+s)}}static stuffBits(s,o){let l=new D,c=s.getSize(),d=(1<<o)-2;for(let f=0;f<c;f+=o){let x=0;for(let y=0;y<o;y++)(f+y>=c||s.get(f+y))&&(x|=1<<o-1-y);(x&d)===d?(l.appendBits(x&d,o),f--):x&d?l.appendBits(x,o):(l.appendBits(x|1,o),f--)}return l}static totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}lt.DEFAULT_EC_PERCENT=33,lt.DEFAULT_AZTEC_LAYERS=0,lt.MAX_NB_BITS=32,lt.MAX_NB_BITS_COMPACT=4,lt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class pu{encode(s,o,l,c){return this.encodeWithHints(s,o,l,c,null)}encodeWithHints(s,o,l,c,d){let f=wh.ISO_8859_1,x=lt.DEFAULT_EC_PERCENT,y=lt.DEFAULT_AZTEC_LAYERS;return d!=null&&(d.has(on.CHARACTER_SET)&&(f=Cg.forName(d.get(on.CHARACTER_SET).toString())),d.has(on.ERROR_CORRECTION)&&(x=S.parseInt(d.get(on.ERROR_CORRECTION).toString())),d.has(on.AZTEC_LAYERS)&&(y=S.parseInt(d.get(on.AZTEC_LAYERS).toString()))),pu.encodeLayers(s,o,l,c,f,x,y)}static encodeLayers(s,o,l,c,d,f,x){if(o!==de.AZTEC)throw new v("Can only encode AZTEC, but got "+o);let y=lt.encode(q.getBytes(s,d),f,x);return pu.renderResult(y,l,c)}static renderResult(s,o,l){let c=s.getMatrix();if(c==null)throw new ze;let d=c.getWidth(),f=c.getHeight(),x=Math.max(o,d),y=Math.max(l,f),b=Math.min(x/d,y/f),_=(x-d*b)/2,O=(y-f*b)/2,M=new re(x,y);for(let U=0,H=O;U<f;U++,H+=b)for(let G=0,Y=_;G<d;G++,Y+=b)c.get(G,U)&&M.setRegion(Y,H,b,b);return M}}n.AbstractExpandedDecoder=oh,n.ArgumentException=w,n.ArithmeticException=Te,n.AztecCode=Eg,n.AztecCodeReader=Dr,n.AztecCodeWriter=pu,n.AztecDecoder=Ne,n.AztecDetector=bl,n.AztecDetectorResult=Xs,n.AztecEncoder=lt,n.AztecHighLevelEncoder=Rl,n.AztecPoint=nn,n.BarcodeFormat=de,n.Binarizer=P,n.BinaryBitmap=E,n.BitArray=D,n.BitMatrix=re,n.BitSource=uh,n.BrowserAztecCodeReader=yr,n.BrowserBarcodeReader=GA,n.BrowserCodeReader=we,n.BrowserDatamatrixCodeReader=XA,n.BrowserMultiFormatReader=i3,n.BrowserPDF417Reader=o3,n.BrowserQRCodeReader=a3,n.BrowserQRCodeSvgWriter=so,n.CharacterSetECI=j,n.ChecksumException=N,n.Code128Reader=me,n.Code39Reader=rn,n.DataMatrixDecodedBitStreamParser=Ks,n.DataMatrixReader=Qs,n.DecodeHintType=V,n.DecoderResult=De,n.DefaultGridSampler=xn,n.DetectorResult=Pn,n.EAN13Reader=Ji,n.EncodeHintType=on,n.Exception=p,n.FormatException=B,n.GenericGF=Ae,n.GenericGFPoly=pe,n.GlobalHistogramBinarizer=fe,n.GridSampler=$n,n.GridSamplerInstance=un,n.HTMLCanvasElementLuminanceSource=he,n.HybridBinarizer=ne,n.ITFReader=vt,n.IllegalArgumentException=v,n.IllegalStateException=ze,n.InvertedLuminanceSource=te,n.LuminanceSource=Q,n.MathUtils=_e,n.MultiFormatOneDReader=qo,n.MultiFormatReader=bg,n.MultiFormatWriter=c3,n.NotFoundException=X,n.OneDReader=Nt,n.PDF417DecodedBitStreamParser=Z,n.PDF417DecoderErrorCorrection=pg,n.PDF417Reader=yn,n.PDF417ResultMetadata=xg,n.PerspectiveTransform=ht,n.PlanarYUVLuminanceSource=ns,n.QRCodeByteMatrix=hu,n.QRCodeDataMask=br,n.QRCodeDecodedBitStreamParser=Ut,n.QRCodeDecoderErrorCorrectionLevel=Tt,n.QRCodeDecoderFormatInformation=Nn,n.QRCodeEncoder=Ot,n.QRCodeEncoderQRCode=ro,n.QRCodeMaskUtil=qt,n.QRCodeMatrixUtil=Le,n.QRCodeMode=je,n.QRCodeReader=Zs,n.QRCodeVersion=Ie,n.QRCodeWriter=Yo,n.RGBLuminanceSource=xh,n.RSS14Reader=Gt,n.RSSExpandedReader=ie,n.ReaderException=fu,n.ReedSolomonDecoder=Fe,n.ReedSolomonEncoder=gh,n.ReedSolomonException=He,n.Result=Re,n.ResultMetadataType=xe,n.ResultPoint=ve,n.StringUtils=q,n.UnsupportedOperationException=z,n.VideoInputDevice=ue,n.WhiteRectangleDetector=_t,n.WriterException=bt,n.ZXingArrays=A,n.ZXingCharset=Cg,n.ZXingInteger=S,n.ZXingStandardCharsets=wh,n.ZXingStringBuilder=se,n.ZXingStringEncoding=ee,n.ZXingSystem=T,n.createAbstractExpandedDecoder=hg,Object.defineProperty(n,"__esModule",{value:!0})})})(rm,rm.exports);var Dt=rm.exports;const tM=cf(Dt),nM=Sy({__proto__:null,default:tM},[Dt]);var ay=function(){function e(t,n,r){if(this.formatMap=new Map([[Ce.QR_CODE,Dt.BarcodeFormat.QR_CODE],[Ce.AZTEC,Dt.BarcodeFormat.AZTEC],[Ce.CODABAR,Dt.BarcodeFormat.CODABAR],[Ce.CODE_39,Dt.BarcodeFormat.CODE_39],[Ce.CODE_93,Dt.BarcodeFormat.CODE_93],[Ce.CODE_128,Dt.BarcodeFormat.CODE_128],[Ce.DATA_MATRIX,Dt.BarcodeFormat.DATA_MATRIX],[Ce.MAXICODE,Dt.BarcodeFormat.MAXICODE],[Ce.ITF,Dt.BarcodeFormat.ITF],[Ce.EAN_13,Dt.BarcodeFormat.EAN_13],[Ce.EAN_8,Dt.BarcodeFormat.EAN_8],[Ce.PDF_417,Dt.BarcodeFormat.PDF_417],[Ce.RSS_14,Dt.BarcodeFormat.RSS_14],[Ce.RSS_EXPANDED,Dt.BarcodeFormat.RSS_EXPANDED],[Ce.UPC_A,Dt.BarcodeFormat.UPC_A],[Ce.UPC_E,Dt.BarcodeFormat.UPC_E],[Ce.UPC_EAN_EXTENSION,Dt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!nM)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),a=new Map;a.set(Dt.DecodeHintType.POSSIBLE_FORMATS,i),a.set(Dt.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var n=new Dt.MultiFormatReader(this.verbose,this.hints),r=new Dt.HTMLCanvasElementLuminanceSource(t),i=new Dt.BinaryBitmap(new Dt.HybridBinarizer(r)),a=n.decode(i);return{text:a.text,format:rA.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),rM=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function m(w){try{p(r.next(w))}catch(v){u(v)}}function g(w){try{p(r.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((r=r.apply(e,t||[])).next())})},sM=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function m(p){return function(w){return g([p,w])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],i=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},ly=function(){function e(t,n,r){if(this.formatMap=new Map([[Ce.QR_CODE,"qr_code"],[Ce.AZTEC,"aztec"],[Ce.CODABAR,"codabar"],[Ce.CODE_39,"code_39"],[Ce.CODE_93,"code_93"],[Ce.CODE_128,"code_128"],[Ce.DATA_MATRIX,"data_matrix"],[Ce.ITF,"itf"],[Ce.EAN_13,"ean_13"],[Ce.EAN_8,"ean_8"],[Ce.PDF_417,"pdf417"],[Ce.UPC_A,"upc_a"],[Ce.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return rM(this,void 0,void 0,function(){var n,r;return sM(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:rA.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,a=t;i<a.length;i++){var u=a[i],m=u.boundingBox.width*u.boundingBox.height;m>r&&(r=m,n=u)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),cy=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function m(w){try{p(r.next(w))}catch(v){u(v)}}function g(w){try{p(r.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((r=r.apply(e,t||[])).next())})},uy=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function m(p){return function(w){return g([p,w])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],i=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},iM=function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&ly.isSupported()?(this.primaryDecoder=new ly(t,r,i),this.secondaryDecoder=new ay(t,r,i)):this.primaryDecoder=new ay(t,r,i)}return e.prototype.decodeAsync=function(t){return cy(this,void 0,void 0,function(){var n;return uy(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return cy(this,void 0,void 0,function(){var n,r;return uy(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),eg=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),af=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function m(w){try{p(r.next(w))}catch(v){u(v)}}function g(w){try{p(r.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((r=r.apply(e,t||[])).next())})},lf=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function m(p){return function(w){return g([p,w])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],i=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},iA=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),oM=function(e){eg(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(iA),aM=function(e){eg(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(oM),lM=function(e){eg(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(iA),cM=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new aM(this.track)},e.prototype.torchFeature=function(){return new lM(this.track)},e}(),uM=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return af(this,void 0,void 0,function(){var a,u;return lf(this,function(m){switch(m.label){case 0:return a=new e(t,n,i),r.aspectRatio?(u={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(u)]):[3,2];case 1:m.sent(),m.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return af(this,void 0,void 0,function(){return lf(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),a=i.length,u=0;t.mediaStream.getVideoTracks().forEach(function(m){t.mediaStream.removeTrack(m),m.stop(),++u,u>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new cM(this.getFirstTrackOrFail())},e}(),dM=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return af(this,void 0,void 0,function(){return lf(this,function(i){return[2,uM.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return af(this,void 0,void 0,function(){var n,r;return lf(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e}(),dy=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function m(w){try{p(r.next(w))}catch(v){u(v)}}function g(w){try{p(r.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((r=r.apply(e,t||[])).next())})},fy=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function m(p){return function(w){return g([p,w])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],i=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},fM=function(){function e(){}return e.failIfNotSupported=function(){return dy(this,void 0,void 0,function(){return fy(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return dy(this,void 0,void 0,function(){return fy(this,function(n){return[2,dM.create(t)]})})},e}(),hM=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function m(w){try{p(r.next(w))}catch(v){u(v)}}function g(w){try{p(r.throw(w))}catch(v){u(v)}}function p(w){w.done?a(w.value):i(w.value).then(m,g)}p((r=r.apply(e,t||[])).next())})},mM=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function m(p){return function(w){return g([p,w])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],i=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},pM=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=ba.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=ba.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return hM(this,void 0,void 0,function(){var t,n,r,i,a,u,m;return mM(this,function(g){switch(g.label){case 0:return t=function(p){for(var w=p.getVideoTracks(),v=0,E=w;v<E.length;v++){var N=E[v];N.enabled=!1,N.stop(),p.removeTrack(N)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=g.sent(),i=[],a=0,u=r;a<u.length;a++)m=u[a],m.kind==="videoinput"&&i.push({id:m.deviceId,label:m.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(a){for(var u=[],m=0,g=a;m<g.length;m++){var p=g[m];p.kind==="video"&&u.push({id:p.id,label:p.label})}t(u)},i=MediaStreamTrack;i.getSources(r)})},e}(),Wt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Wt||(Wt={}));var gM=function(){function e(){this.state=Wt.NOT_STARTED,this.onGoingTransactionNewState=Wt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Wt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Wt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Wt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Wt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Wt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Wt.UNKNOWN:throw"Transition from unknown is not allowed";case Wt.NOT_STARTED:this.failIfNewStateIs(t,[Wt.PAUSED]);break;case Wt.SCANNING:break;case Wt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),xM=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Wt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Wt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Wt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Wt.PAUSED},e}(),wM=function(){function e(){}return e.create=function(){return new xM(new gM)},e}(),yM=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lr=function(e){yM(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Zj),vM=function(){function e(t,n){this.logger=n,this.fps=lr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=lr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?sA.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Ts(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),bM=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new eM(this.verbose),this.qrcode=new iM(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=wM.create()}return e.prototype.start=function(t,n,r,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var u;i?u=i:u=this.verbose?this.logger.log:function(){};var m=vM.create(n,this.logger);this.clearElement();var g=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=g,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:lr.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var v=this,E=this.stateManagerProxy.startTransition(Wt.SCANNING);return new Promise(function(N,P){var T=p?m.videoConstraints:v.createVideoConstraints(t);if(!T){E.cancel(),P("videoConstraints should be defined");return}var k={};(!p||m.aspectRatio)&&(k.aspectRatio=m.aspectRatio);var I={onRenderSurfaceReady:function(A,S){v.setupUi(A,S,m),v.isScanning=!0,v.foreverScan(m,r,u)}};fM.failIfNotSupported().then(function(A){A.create(T).then(function(S){return S.render(a.element,k,I).then(function(D){v.renderedCamera=D,E.execute(),N(null)}).catch(function(D){E.cancel(),P(D)})}).catch(function(S){E.cancel(),P(ba.errorGettingUserMedia(S))})}).catch(function(A){E.cancel(),P(ba.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Wt.PAUSED),this.showPausedState(),(Ts(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Wt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Wt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById(lr.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ts(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var u=new Image;u.onload=function(){var m=u.width,g=u.height,p=document.getElementById(r.elementId),w=p.clientWidth?p.clientWidth:lr.DEFAULT_WIDTH,v=Math.max(p.clientHeight?p.clientHeight:g,lr.FILE_SCAN_MIN_HEIGHT),E=r.computeCanvasDrawConfig(m,g,w,v);if(n){var N=r.createCanvasElement(w,v,"qr-canvas-visible");N.style.display="inline-block",p.appendChild(N);var P=N.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=w,P.canvas.height=v,P.drawImage(u,0,0,m,g,E.x,E.y,E.width,E.height)}var T=lr.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(u.width,E.width),I=Math.max(u.height,E.height),A=k+2*T,S=I+2*T,D=r.createCanvasElement(A,S);p.appendChild(D);var W=D.getContext("2d");if(!W)throw"Unable to get 2d context from canvas";W.canvas.width=A,W.canvas.height=S,W.drawImage(u,0,0,m,g,T,T,k,I);try{r.qrcode.decodeRobustlyAsync(D).then(function(V){i(oy.createFromQrcodeResult(V))}).catch(a)}catch(V){a("QR code parse error, error = ".concat(V))}},u.onerror=a,u.onabort=a,u.onstalled=a,u.onsuspend=a,u.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return pM.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!sA.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Ce.QR_CODE,Ce.AZTEC,Ce.CODABAR,Ce.CODE_39,Ce.CODE_93,Ce.CODE_128,Ce.DATA_MATRIX,Ce.MAXICODE,Ce.ITF,Ce.EAN_13,Ce.EAN_8,Ce.PDF_417,Ce.RSS_14,Ce.RSS_EXPANDED,Ce.UPC_A,Ce.UPC_E,Ce.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=t.formatsToSupport;i<a.length;i++){var u=a[i];Qj(u)?r.push(u):this.logger.warn("Invalid format: ".concat(u," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Ts(t))return!0;if(!Ts(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Ts(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return Ts(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,a=r.qrbox;this.validateQrboxConfig(a);var u=this.toQrdimensions(t,n,a),m=function(p){if(p<lr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(lr.MIN_QR_BOX_SIZE,"px.")},g=function(p){return p>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};m(u.width),m(u.height),u.width=g(u.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=Ts(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,n,i);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var u=r.isShadedBoxEnabled()&&a.height<=n,m={x:0,y:0,width:t,height:n},g=u?this.getShadedRegionBounds(t,n,a):m,p=this.createCanvasElement(g.width,g.height),w={willReadFrequently:!0},v=p.getContext("2d",w);v.canvas.width=g.width,v.canvas.height=g.height,this.element.append(p),u&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=v,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=ba.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,oy.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=ba.codeParseError(i);return n(a,Jj.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),u=a.videoWidth/a.clientWidth,m=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*u,p=this.qrRegion.height*m,w=this.qrRegion.x*u,v=this.qrRegion.y*m;this.context.drawImage(a,w,v,g,p,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(N){!N&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){E()})):E()}).catch(function(N){i.logger.logError("Error happend while scanning context",N),E()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",u=function(P){if(P in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(P,"'")},m=Object.keys(t);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var g=Object.keys(t)[0];if(g!==n&&g!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(g===n){var p=t.facingMode;if(typeof p=="string"){if(u(p))return{facingMode:p}}else if(typeof p=="object")if(a in p){if(u(p["".concat(a)]))return{facingMode:{exact:p["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var w=typeof p;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(a in v)return{deviceId:{exact:v["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var E=typeof v;throw"Invalid type of 'deviceId' = ".concat(E)}}}var N=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(N)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var a=(r-t)/2,u=(i-n)/2;return{x:a,y:u,width:t,height:n}}else{var m=t,g=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(g)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?lr.BORDER_SHADER_MATCH_COLOR:lr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,a=n,u=document.createElement("canvas");return u.style.width="".concat(i,"px"),u.style.height="".concat(a,"px"),u.style.display="none",u.id=Ts(r)?"qr-canvas":r,u},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var u=(n-i.width)/2,m=(r-i.height)/2;if(a.style.borderLeft="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(lr.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var g=5,p=40;this.insertShaderBorders(a,p,g,-g,null,0,!0),this.insertShaderBorders(a,p,g,-g,null,0,!1),this.insertShaderBorders(a,p,g,null,-g,0,!0),this.insertShaderBorders(a,p,g,null,-g,0,!1),this.insertShaderBorders(a,g,p+g,-g,null,-g,!0),this.insertShaderBorders(a,g,p+g,null,-g,-g,!0),this.insertShaderBorders(a,g,p+g,-g,null,-g,!1),this.insertShaderBorders(a,g,p+g,null,-g,-g,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,i,a,u,m){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=lr.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(n,"px"),g.style.height="".concat(r,"px"),i!==null&&(g.style.top="".concat(i,"px")),a!==null&&(g.style.bottom="".concat(a,"px")),m?g.style.left="".concat(u,"px"):g.style.right="".concat(u,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),t.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),hy;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(hy||(hy={}));function CM({isOpen:e,onClose:t,onScan:n}){const r=C.useRef(null),i="html5qr-code-full-region",[a,u]=C.useState(null),m=async()=>{if(!r.current)try{r.current=new bM(i),await r.current.start({facingMode:"environment"},{fps:10},p=>{n(p),g(),t()},p=>{})}catch(p){console.error(p),u("No foi possvel acessar a cmera.")}},g=async()=>{var p,w,v;((p=r.current)==null?void 0:p.getState())===Wt.SCANNING&&await((w=r.current)==null?void 0:w.stop()),(v=r.current)==null||v.clear(),r.current=null};return C.useEffect(()=>{let p;const w=()=>{document.getElementById(i)?m():p=requestAnimationFrame(w)};return e?w():g(),()=>{cancelAnimationFrame(p),g()}},[e]),h.jsx(nu,{open:e,onOpenChange:t,children:h.jsxs(xl,{className:"max-w-md",children:[h.jsxs(ru,{children:[h.jsxs(su,{className:"flex items-center gap-2",children:[h.jsx(Lb,{className:"h-5 w-5"}),"Escanear Cdigo"]}),h.jsx($f,{children:"Suporta QR code e cdigos de barras comuns."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{id:i,className:"relative aspect-square bg-black rounded-lg overflow-hidden"}),a&&h.jsx("p",{className:"text-sm text-red-600 bg-red-50 p-3 rounded",children:a}),h.jsxs(ke,{variant:"outline",onClick:()=>{g(),t()},className:"w-full flex items-center justify-center gap-2",children:[h.jsx(zo,{className:"h-4 w-4"}),"Fechar"]})]})]})})}function EM(){const{profile:e,company:t}=An(),{isMobileOrTablet:n,isDesktop:r}=PE(),i=C.useContext(TE),[a,u]=C.useState(""),[m,g]=C.useState("all"),[p,w]=C.useState("all"),[v,E]=C.useState(!1),{assets:N,loading:P,loadingMore:T,hasMore:k,loadMore:I,locations:A}=g5({search:a,statusFilter:m,locationFilter:p}),{exportLoading:S,exportToCSV:D}=w5(),{showScrollToTop:W,scrollToTop:V}=y5(i==null?void 0:i.current),B=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="editor",L=z=>{u(z)},j=()=>{D({search:a,statusFilter:m,locationFilter:p,companyName:t.name})};return h.jsxs("div",{id:"assets-scroll-container",className:"space-y-6 pb-10 overflow-y-auto",children:[S&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",children:h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600"})}),h.jsx(wj,{canEdit:B,isMobileOrTablet:n,isDesktop:r,loading:P,exportLoading:S,onScannerOpen:()=>E(!0),onExportCSV:j}),h.jsx(qj,{search:a,statusFilter:m,locationFilter:p,locations:A,onSearchChange:u,onStatusFilterChange:g,onLocationFilterChange:w}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:h.jsx(Kj,{assets:N,loading:P,loadingMore:T,hasMore:k,canEdit:B,isDesktop:r,onLoadMore:I})}),W&&h.jsx(ke,{onClick:V,className:"fixed bottom-6 right-6 z-50 rounded-full w-12 h-12 shadow-lg hover:shadow-xl transition-all duration-200",size:"icon",children:h.jsx(x8,{className:"h-5 w-5"})}),h.jsx(CM,{isOpen:v,onClose:()=>E(!1),onScan:L})]})}var oA="AlertDialog",[SM,_7]=Yi(oA,[FC]),qs=FC(),aA=e=>{const{__scopeAlertDialog:t,...n}=e,r=qs(t);return h.jsx(Op,{...r,...n,modal:!0})};aA.displayName=oA;var AM="AlertDialogTrigger",lA=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=qs(n);return h.jsx(kp,{...i,...r,ref:t})});lA.displayName=AM;var _M="AlertDialogPortal",cA=e=>{const{__scopeAlertDialog:t,...n}=e,r=qs(t);return h.jsx(Pp,{...r,...n})};cA.displayName=_M;var NM="AlertDialogOverlay",uA=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=qs(n);return h.jsx(Kc,{...i,...r,ref:t})});uA.displayName=NM;var ja="AlertDialogContent",[TM,IM]=SM(ja),dA=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,a=qs(n),u=C.useRef(null),m=at(t,u),g=C.useRef(null);return h.jsx(jO,{contentName:ja,titleName:fA,docsSlug:"alert-dialog",children:h.jsx(TM,{scope:n,cancelRef:g,children:h.jsxs(Qc,{role:"alertdialog",...a,...i,ref:m,onOpenAutoFocus:Me(i.onOpenAutoFocus,p=>{var w;p.preventDefault(),(w=g.current)==null||w.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[h.jsx(op,{children:r}),h.jsx(OM,{contentRef:u})]})})})});dA.displayName=ja;var fA="AlertDialogTitle",hA=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=qs(n);return h.jsx(Zc,{...i,...r,ref:t})});hA.displayName=fA;var mA="AlertDialogDescription",pA=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=qs(n);return h.jsx(Jc,{...i,...r,ref:t})});pA.displayName=mA;var RM="AlertDialogAction",gA=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=qs(n);return h.jsx(Uf,{...i,...r,ref:t})});gA.displayName=RM;var xA="AlertDialogCancel",wA=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=IM(xA,n),a=qs(n),u=at(t,i);return h.jsx(Uf,{...a,...r,ref:u})});wA.displayName=xA;var OM=({contentRef:e})=>{const t=`\`${ja}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ja}\` by passing a \`${mA}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ja}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return C.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},kM=aA,PM=lA,DM=cA,yA=uA,vA=dA,bA=gA,CA=wA,EA=hA,SA=pA;const AA=kM,_A=PM,jM=DM,NA=C.forwardRef(({className:e,...t},n)=>h.jsx(yA,{className:Pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));NA.displayName=yA.displayName;const tg=C.forwardRef(({className:e,...t},n)=>h.jsxs(jM,{children:[h.jsx(NA,{}),h.jsx(vA,{ref:n,className:Pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));tg.displayName=vA.displayName;const ng=({className:e,...t})=>h.jsx("div",{className:Pe("flex flex-col space-y-2 text-center sm:text-left",e),...t});ng.displayName="AlertDialogHeader";const rg=({className:e,...t})=>h.jsx("div",{className:Pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});rg.displayName="AlertDialogFooter";const sg=C.forwardRef(({className:e,...t},n)=>h.jsx(EA,{ref:n,className:Pe("text-lg font-semibold",e),...t}));sg.displayName=EA.displayName;const ig=C.forwardRef(({className:e,...t},n)=>h.jsx(SA,{ref:n,className:Pe("text-sm text-muted-foreground",e),...t}));ig.displayName=SA.displayName;const og=C.forwardRef(({className:e,...t},n)=>h.jsx(bA,{ref:n,className:Pe(Sp(),e),...t}));og.displayName=bA.displayName;const ag=C.forwardRef(({className:e,...t},n)=>h.jsx(CA,{ref:n,className:Pe(Sp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ag.displayName=CA.displayName;function MM(){const{id:e}=ib(),t=kr(),{profile:n}=An(),{toast:r}=Hn(),i=ys(),{data:a,isLoading:u}=zs({queryKey:["asset",e],queryFn:async()=>{if(!e)throw new Error("Asset ID is required");const{data:N,error:P}=await qe.from("assets").select("*").eq("id",e).single();if(P)throw P;return N},enabled:!!e}),m=xs({mutationFn:async()=>{if(!e)throw new Error("Asset ID is required");const{error:N}=await qe.from("assets").delete().eq("id",e);if(N)throw N},onSuccess:()=>{i.invalidateQueries({queryKey:["assets"]}),i.invalidateQueries({queryKey:["dashboard-stats"]}),i.invalidateQueries({queryKey:["recent-assets"]}),r({title:"Ativo deletado com sucesso!",description:"O ativo foi removido do sistema"}),t("/assets")},onError:N=>{r({title:"Erro ao deletar ativo",description:N.message||"Erro ao deletar o ativo",variant:"destructive"})}}),g=()=>{m.mutate()},p=N=>{const P={ativo:"bg-green-100 text-green-800",manuteno:"bg-yellow-100 text-yellow-800",baixado:"bg-red-100 text-red-800"};return h.jsx(tn,{className:P[N],children:N.toLocaleUpperCase()})},w=N=>{switch(N){case"ativo":return h.jsx(Bt,{className:"h-5 w-5 text-green-600"});case"manuteno":return h.jsx(Ic,{className:"h-5 w-5 text-yellow-600"});case"baixado":return h.jsx(Bt,{className:"h-5 w-5 text-red-600"});default:return h.jsx(Bt,{className:"h-5 w-5 text-gray-600"})}},v=(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="editor",E=(n==null?void 0:n.role)==="admin";return u?h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"flex items-center space-x-4",children:h.jsxs(ke,{variant:"ghost",onClick:()=>t("/assets"),children:[h.jsx(So,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),h.jsx("div",{className:"animate-pulse max-w-4xl",children:h.jsx(Je,{className:"border-0 shadow-md",children:h.jsxs(tt,{className:"p-8",children:[h.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),h.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-8"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[h.jsx("div",{className:"space-y-4",children:Array.from({length:4}).map((N,P)=>h.jsx("div",{className:"h-12 bg-gray-200 rounded"},P))}),h.jsx("div",{className:"space-y-4",children:Array.from({length:4}).map((N,P)=>h.jsx("div",{className:"h-12 bg-gray-200 rounded"},P))})]})]})})})]}):a?h.jsxs("div",{className:"space-y-6 max-w-6xl pb-10",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs(ke,{variant:"ghost",onClick:()=>t("/assets"),children:[h.jsx(So,{className:"h-4 w-4 mr-2"}),"Voltar"]}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:a.name}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Detalhes do ativo"})]})]}),v&&h.jsxs("div",{className:"flex gap-2",children:[h.jsx(ke,{asChild:!0,children:h.jsxs(Mi,{to:`/assets/${a.id}/edit`,children:[h.jsx(Vb,{className:"h-4 w-4 mr-2"}),"Editar"]})}),E&&h.jsxs(AA,{children:[h.jsx(_A,{asChild:!0,children:h.jsx(ke,{variant:"destructive",size:"default",className:"flex items-center justify-center",children:h.jsx(Hb,{className:"h-4 w-4"})})}),h.jsxs(tg,{children:[h.jsxs(ng,{children:[h.jsx(sg,{children:"Confirmar excluso"}),h.jsxs(ig,{children:['Tem certeza que deseja apagar o ativo "',a.name,'"? Esta ao no pode ser desfeita e todos os dados do ativo sero perdidos permanentemente.']})]}),h.jsxs(rg,{children:[h.jsx(ag,{children:"Cancelar"}),h.jsx(og,{onClick:g,className:"bg-red-600 hover:bg-red-700",disabled:m.isPending,children:m.isPending?"Deletando...":"Apagar Ativo"})]})]})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[h.jsxs(Je,{className:"border-0 shadow-md",children:[h.jsx(St,{children:h.jsxs(Et,{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[w(a.status),h.jsx("span",{className:"ml-3",children:"Informaes Bsicas"})]}),p(a.status)]})}),h.jsxs(tt,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(lw,{className:"h-5 w-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Cdigo"}),h.jsx("p",{className:"text-lg text-gray-900",children:a.code})]})]}),a.serial_number&&h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(lw,{className:"h-5 w-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Nmero de Srie"}),h.jsx("p",{className:"text-lg text-gray-900",children:a.serial_number})]})]}),a.location&&h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(gp,{className:"h-5 w-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Localizao"}),h.jsx("p",{className:"text-lg text-gray-900",children:a.location})]})]}),a.holder&&h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(R8,{className:"h-5 w-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Detentor"}),h.jsx("p",{className:"text-lg text-gray-900",children:a.holder})]})]})]})]}),(a.manufacturer||a.model||a.color||a.capacity||a.voltage||a.condition)&&h.jsxs(Je,{className:"border-0 shadow-md",children:[h.jsx(St,{children:h.jsxs(Et,{className:"flex items-center",children:[h.jsx(aw,{className:"h-5 w-5 mr-3 text-blue-600"}),"Especificaes Tcnicas"]})}),h.jsxs(tt,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.manufacturer&&h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(Bt,{className:"h-5 w-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Fabricante"}),h.jsx("p",{className:"text-lg text-gray-900",children:a.manufacturer})]})]}),a.model&&h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(Bt,{className:"h-5 w-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Modelo"}),h.jsx("p",{className:"text-lg text-gray-900",children:a.model})]})]}),a.color&&h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(T8,{className:"h-5 w-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Cor"}),h.jsx("p",{className:"text-lg text-gray-900",children:a.color})]})]}),a.capacity&&h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(aw,{className:"h-5 w-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Capacidade"}),h.jsx("p",{className:"text-lg text-gray-900",children:a.capacity})]})]}),a.voltage&&h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(k8,{className:"h-5 w-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Voltagem"}),h.jsx("p",{className:"text-lg text-gray-900",children:a.voltage})]})]}),a.condition&&h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(Bt,{className:"h-5 w-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Condies"}),h.jsx("p",{className:"text-lg text-gray-900",children:a.condition})]})]})]})]}),a.notes&&h.jsxs(Je,{className:"border-0 shadow-md",children:[h.jsx(St,{children:h.jsxs(Et,{className:"flex items-center",children:[h.jsx(Rf,{className:"h-5 w-5 mr-3 text-blue-600"}),"Observaes"]})}),h.jsx(tt,{children:h.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:a.notes})})]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Je,{className:"border-0 shadow-md",children:[h.jsx(St,{children:h.jsxs(Et,{className:"flex items-center",children:[h.jsx(hp,{className:"h-5 w-5 mr-3 text-green-600"}),"Informaes Financeiras"]})}),h.jsxs(tt,{className:"space-y-4",children:[a.value&&h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor"}),h.jsx("p",{className:"text-2xl font-semibold text-green-700",children:zd(a.value)})]}),a.origin&&h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Origem"}),h.jsx("p",{className:"text-lg text-gray-900 capitalize",children:a.origin})]}),a.inalienable&&h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Ic,{className:"h-5 w-5 text-orange-500"}),h.jsx("span",{className:"text-sm font-medium text-orange-700",children:"Inalienvel"})]})]})]}),h.jsxs(Je,{className:"border-0 shadow-md",children:[h.jsx(St,{children:h.jsxs(Et,{className:"flex items-center",children:[h.jsx(dp,{className:"h-5 w-5 mr-3 text-blue-600"}),"Datas"]})}),h.jsxs(tt,{className:"space-y-4",children:[a.acquisition_date&&h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Data de Aquisio"}),h.jsx("p",{className:"text-lg text-gray-900",children:Pa(new Date(a.acquisition_date+"T00:00:00"),"dd/MM/yyyy",{locale:_o})})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Adicionado em"}),h.jsx("p",{className:"text-lg text-gray-900",children:Pa(new Date(a.created_at),"dd/MM/yyyy HH:mm",{locale:_o})})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"ltima atualizao"}),h.jsx("p",{className:"text-lg text-gray-900",children:Pa(new Date(a.updated_at),"dd/MM/yyyy HH:mm",{locale:_o})})]}),a.updated_by_user_name&&h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Modificado por"}),h.jsx("p",{className:"text-sm text-gray-900",children:a.updated_by_user_name})]})]})]})]})]})]}):h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"flex items-center space-x-4",children:h.jsxs(ke,{variant:"ghost",onClick:()=>t("/assets"),children:[h.jsx(So,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),h.jsx(Je,{className:"border-0 shadow-md",children:h.jsxs(tt,{className:"text-center py-12",children:[h.jsx(Bt,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ativo no encontrado"}),h.jsx("p",{className:"text-gray-600",children:"O ativo solicitado no existe ou foi removido"})]})})]})}const TA=C.forwardRef(({className:e,...t},n)=>h.jsx("textarea",{className:Pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));TA.displayName="Textarea";var lg="Checkbox",[LM,N7]=Yi(lg),[BM,FM]=LM(lg),IA=C.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:u,disabled:m,value:g="on",onCheckedChange:p,form:w,...v}=e,[E,N]=C.useState(null),P=at(t,D=>N(D)),T=C.useRef(!1),k=E?w||!!E.closest("form"):!0,[I=!1,A]=jo({prop:i,defaultProp:a,onChange:p}),S=C.useRef(I);return C.useEffect(()=>{const D=E==null?void 0:E.form;if(D){const W=()=>A(S.current);return D.addEventListener("reset",W),()=>D.removeEventListener("reset",W)}},[E,A]),h.jsxs(BM,{scope:n,state:I,disabled:m,children:[h.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":Li(I)?"mixed":I,"aria-required":u,"data-state":kA(I),"data-disabled":m?"":void 0,disabled:m,value:g,...v,ref:P,onKeyDown:Me(e.onKeyDown,D=>{D.key==="Enter"&&D.preventDefault()}),onClick:Me(e.onClick,D=>{A(W=>Li(W)?!0:!W),k&&(T.current=D.isPropagationStopped(),T.current||D.stopPropagation())})}),k&&h.jsx(UM,{control:E,bubbles:!T.current,name:r,value:g,checked:I,required:u,disabled:m,form:w,style:{transform:"translateX(-100%)"},defaultChecked:Li(a)?!1:a})]})});IA.displayName=lg;var RA="CheckboxIndicator",OA=C.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,a=FM(RA,n);return h.jsx(Qr,{present:r||Li(a.state)||a.state===!0,children:h.jsx(Ve.span,{"data-state":kA(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});OA.displayName=RA;var UM=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:i,...a}=e,u=C.useRef(null),m=Zp(n),g=$p(t);C.useEffect(()=>{const w=u.current,v=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(v,"checked").set;if(m!==n&&N){const P=new Event("click",{bubbles:r});w.indeterminate=Li(n),N.call(w,Li(n)?!1:n),w.dispatchEvent(P)}},[m,n,r]);const p=C.useRef(Li(n)?!1:n);return h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??p.current,...a,tabIndex:-1,ref:u,style:{...e.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Li(e){return e==="indeterminate"}function kA(e){return Li(e)?"indeterminate":e?"checked":"unchecked"}var PA=IA,WM=OA;const DA=C.forwardRef(({className:e,...t},n)=>h.jsx(PA,{ref:n,className:Pe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:h.jsx(WM,{className:Pe("flex items-center justify-center text-current"),children:h.jsx(fp,{className:"h-4 w-4"})})}));DA.displayName=PA.displayName;function jA({asset:e,onSubmit:t,isSubmitting:n,submitLabel:r,disabled:i=!1}){var p;const[a,u]=C.useState({name:(e==null?void 0:e.name)||"",code:(e==null?void 0:e.code)||"",location:(e==null?void 0:e.location)||"",status:(e==null?void 0:e.status)||"ativo",acquisition_date:(e==null?void 0:e.acquisition_date)||"",value:((p=e==null?void 0:e.value)==null?void 0:p.toString())||"",serial_number:(e==null?void 0:e.serial_number)||"",color:(e==null?void 0:e.color)||"",manufacturer:(e==null?void 0:e.manufacturer)||"",model:(e==null?void 0:e.model)||"",capacity:(e==null?void 0:e.capacity)||"",voltage:(e==null?void 0:e.voltage)||"",origin:(e==null?void 0:e.origin)||"",condition:(e==null?void 0:e.condition)||"",inalienable:(e==null?void 0:e.inalienable)||!1,holder:(e==null?void 0:e.holder)||"",notes:(e==null?void 0:e.notes)||""}),m=w=>{w.preventDefault(),t(a)},g=(w,v)=>{u(E=>({...E,[w]:v}))};return h.jsxs("form",{onSubmit:m,className:"space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaes Bsicas"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"name",children:"Nome do Ativo *"}),h.jsx(pt,{id:"name",value:a.name,onChange:w=>g("name",w.target.value),placeholder:"Ex: Notebook Dell",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"code",children:"Cdigo do Ativo *"}),h.jsx(pt,{id:"code",value:a.code,onChange:w=>g("code",w.target.value),placeholder:"Ex: NB001",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"serial_number",children:"Nmero de Srie"}),h.jsx(pt,{id:"serial_number",value:a.serial_number,onChange:w=>g("serial_number",w.target.value),placeholder:"Ex: SN123456789"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"status",children:"Status"}),h.jsxs(rf,{value:a.status,onValueChange:w=>g("status",w),children:[h.jsx(Dc,{children:h.jsx(sf,{})}),h.jsxs(jc,{children:[h.jsx(fr,{value:"ativo",children:h.jsx(tn,{className:"bg-green-100 text-green-800",children:"ATIVO"})}),h.jsx(fr,{value:"manuteno",children:h.jsx(tn,{className:"bg-yellow-100 text-yellow-800",children:"MANUTENO"})}),h.jsx(fr,{value:"baixado",children:h.jsx(tn,{className:"bg-red-100 text-red-800",children:"BAIXADO"})})]})]})]})]})]}),h.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Especificaes Tcnicas"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"manufacturer",children:"Fabricante"}),h.jsx(pt,{id:"manufacturer",value:a.manufacturer,onChange:w=>g("manufacturer",w.target.value),placeholder:"Ex: Dell, HP, Samsung"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"model",children:"Modelo"}),h.jsx(pt,{id:"model",value:a.model,onChange:w=>g("model",w.target.value),placeholder:"Ex: Inspiron 15 3000"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"color",children:"Cor"}),h.jsx(pt,{id:"color",value:a.color,onChange:w=>g("color",w.target.value),placeholder:"Ex: Preto, Branco, Prata"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"capacity",children:"Capacidade"}),h.jsx(pt,{id:"capacity",value:a.capacity,onChange:w=>g("capacity",w.target.value),placeholder:"Ex: 500GB, 8GB RAM"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"voltage",children:"Voltagem"}),h.jsx(pt,{id:"voltage",value:a.voltage,onChange:w=>g("voltage",w.target.value),placeholder:"Ex: 110V, 220V, Bivolt"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"condition",children:"Condies"}),h.jsx(pt,{id:"condition",value:a.condition,onChange:w=>g("condition",w.target.value),placeholder:"Ex: Novo, Usado, Bom estado"})]})]})]}),h.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Localizao e Patrimnio"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"location",children:"Localizao"}),h.jsx(pt,{id:"location",value:a.location,onChange:w=>g("location",w.target.value),placeholder:"Ex: Sala 201, Almoxarifado"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"holder",children:"Detentor"}),h.jsx(pt,{id:"holder",value:a.holder,onChange:w=>g("holder",w.target.value),placeholder:"Ex: Joo Silva, Setor TI"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"origin",children:"Origem"}),h.jsx(pt,{id:"origin",value:a.origin,onChange:w=>g("origin",w.target.value),placeholder:"Ex: Compra, Doao, Transferncia"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"acquisition_date",children:"Data de Aquisio"}),h.jsx(pt,{id:"acquisition_date",type:"date",value:a.acquisition_date,onChange:w=>g("acquisition_date",w.target.value)})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"value",children:"Valor (R$)"}),h.jsx(pt,{id:"value",type:"number",step:"0.01",value:a.value,onChange:w=>g("value",w.target.value),placeholder:"0,00"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(DA,{id:"inalienable",checked:a.inalienable,onCheckedChange:w=>g("inalienable",w)}),h.jsx(ct,{htmlFor:"inalienable",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Inalienvel"})]})]})]}),h.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Observaes"}),h.jsx("div",{className:"space-y-2",children:h.jsx(TA,{id:"notes",value:a.notes,onChange:w=>g("notes",w.target.value),placeholder:"Observaes adicionais sobre o ativo...",rows:4})})]}),h.jsx("div",{className:"flex space-x-4",children:h.jsx(ke,{type:"submit",disabled:n||i,className:"flex-1",children:n?"Salvando...":r})})]})}function zM(){const e=kr(),{profile:t}=An(),{toast:n}=Hn(),r=ys(),[i,a]=C.useState(""),{data:u}=eu(),m=xs({mutationFn:async p=>{if(!(t!=null&&t.company_id))throw new Error("Company ID not found");if(u!=null&&u.isAssetsLimitReached)throw new Error("Limite de ativos do seu plano foi atingido. Faa upgrade para adicionar mais ativos.");const{error:w}=await qe.from("assets").insert({name:p.name,code:p.code,location:p.location||null,status:p.status,acquisition_date:p.acquisition_date||null,value:p.value?parseFloat(p.value):null,serial_number:p.serial_number||null,color:p.color||null,manufacturer:p.manufacturer||null,model:p.model||null,capacity:p.capacity||null,voltage:p.voltage||null,origin:p.origin&&p.origin!=="nao_informado"?p.origin:null,condition:p.condition||null,inalienable:p.inalienable,holder:p.holder||null,notes:p.notes||null,company_id:t.company_id});if(w)throw w},onSuccess:()=>{r.invalidateQueries({queryKey:["assets"]}),r.invalidateQueries({queryKey:["dashboard-stats"]}),r.invalidateQueries({queryKey:["recent-assets"]}),r.invalidateQueries({queryKey:["plan-limits"]}),n({title:"Ativo criado com sucesso!",description:"O ativo foi adicionado ao sistema"}),u!=null&&u.isAssetsLimitWarning&&!(u!=null&&u.isAssetsLimitReached)&&n({title:"Aproximando do limite",description:"Voc est prximo do limite de ativos do seu plano. Considere fazer upgrade.",variant:"destructive"}),e("/assets")},onError:p=>{a(p.message||"Erro ao criar ativo")}}),g=p=>{if(a(""),!p.name||!p.code){a("Nome e cdigo so obrigatrios");return}m.mutate(p)};return h.jsxs("div",{className:"space-y-6 pb-10",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs(ke,{variant:"ghost",onClick:()=>e("/assets"),children:[h.jsx(So,{className:"h-4 w-4 mr-2"}),"Voltar"]}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Novo Ativo"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Adicionar um novo ativo ao patrimnio da empresa"})]})]}),h.jsxs("div",{className:"max-w-4xl",children:[i&&h.jsx(Un,{variant:"destructive",className:"mb-6",children:h.jsx(Wn,{children:i})}),(u==null?void 0:u.isAssetsLimitReached)&&h.jsx(Un,{className:"mb-6",children:h.jsxs(Wn,{children:["Voc atingiu o limite de ativos do seu plano atual (",u.assetsCount,"/",u.assetsLimit,").",h.jsx(ke,{variant:"link",className:"p-0 h-auto font-semibold ml-1",onClick:()=>e("/meu-plano"),children:"Faa upgrade do seu plano"}),"para adicionar mais ativos."]})}),h.jsx(jA,{onSubmit:g,isSubmitting:m.isPending,submitLabel:"Salvar Ativo",disabled:u==null?void 0:u.isAssetsLimitReached})]})]})}function VM(){const{id:e}=ib(),t=kr(),{profile:n}=An(),{toast:r}=Hn(),i=ys(),[a,u]=C.useState(""),{data:m,isLoading:g}=zs({queryKey:["asset",e],queryFn:async()=>{if(!e)throw new Error("Asset ID is required");const{data:v,error:E}=await qe.from("assets").select("*").eq("id",e).single();if(E)throw E;return v},enabled:!!e}),p=xs({mutationFn:async v=>{if(!e)throw new Error("Asset ID is required");if(!(n!=null&&n.company_id))throw new Error("Company ID not found");const{error:E}=await qe.from("assets").update({name:v.name,code:v.code,location:v.location||null,status:v.status,acquisition_date:v.acquisition_date||null,value:v.value?parseFloat(v.value):null,serial_number:v.serial_number||null,color:v.color||null,manufacturer:v.manufacturer||null,model:v.model||null,capacity:v.capacity||null,voltage:v.voltage||null,origin:v.origin||null,condition:v.condition||null,inalienable:v.inalienable,holder:v.holder||null,notes:v.notes||null}).eq("id",e);if(E)throw E},onSuccess:()=>{i.invalidateQueries({queryKey:["asset",e]}),i.invalidateQueries({queryKey:["assets"]}),i.invalidateQueries({queryKey:["dashboard-stats"]}),i.invalidateQueries({queryKey:["recent-assets"]}),r({title:"Ativo atualizado com sucesso!",description:"As alteraes foram salvas"}),t(`/assets/${e}`)},onError:v=>{u(v.message||"Erro ao atualizar ativo")}}),w=v=>{if(u(""),!v.name||!v.code){u("Nome e cdigo so obrigatrios");return}p.mutate(v)};return g?h.jsxs("div",{className:"space-y-6 pb-10",children:[h.jsx("div",{className:"flex items-center space-x-4",children:h.jsxs(ke,{variant:"ghost",onClick:()=>t("/assets"),children:[h.jsx(So,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),h.jsxs("div",{className:"animate-pulse max-w-4xl",children:[h.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),h.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-8"}),h.jsx("div",{className:"space-y-4",children:Array.from({length:6}).map((v,E)=>h.jsx("div",{className:"h-12 bg-gray-200 rounded"},E))})]})]}):m?h.jsxs("div",{className:"space-y-6 pb-10",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs(ke,{variant:"ghost",onClick:()=>t(`/assets/${e}`),children:[h.jsx(So,{className:"h-4 w-4 mr-2"}),"Voltar"]}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Editar Ativo"}),h.jsxs("p",{className:"mt-2 text-gray-600",children:["Modificar informaes de ",h.jsx("strong",{children:m.name})]})]})]}),h.jsxs("div",{className:"max-w-4xl",children:[a&&h.jsx(Un,{variant:"destructive",className:"mb-6",children:h.jsx(Wn,{children:a})}),h.jsx(jA,{asset:m,onSubmit:w,isSubmitting:p.isPending,submitLabel:"Salvar Alteraes"})]})]}):h.jsxs("div",{className:"space-y-6 pb-10",children:[h.jsx("div",{className:"flex items-center space-x-4",children:h.jsxs(ke,{variant:"ghost",onClick:()=>t("/assets"),children:[h.jsx(So,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),h.jsx(Un,{variant:"destructive",children:h.jsx(Wn,{children:"Ativo no encontrado"})})]})}function HM({user:e,onEdit:t,profile:n,onDelete:r}){const i=u=>{const m={admin:"bg-red-100 text-red-800",editor:"bg-yellow-100 text-yellow-800",viewer:"bg-green-100 text-green-800"},g={admin:"Administrador",editor:"Editor",viewer:"Visualizador"};return h.jsx(tn,{className:m[u],children:g[u]})},a=u=>h.jsx(tn,{className:u?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:u?"Ativo":"Inativo"});return h.jsx(Je,{className:"border-0 shadow-md hover:shadow-lg transition-shadow",children:h.jsxs(tt,{className:"p-6",children:[h.jsx("div",{className:"flex justify-between items-start mb-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),h.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[h.jsx(pp,{className:"h-3 w-3 mr-1"}),e.email]}),h.jsxs("div",{className:"flex flex-row gap-2 mt-2 justify-center",children:[i(e.role),a(e.is_active??!0)]})]})}),h.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-4",children:[h.jsx(dp,{className:"h-4 w-4 mr-2"}),"Desde ",P1(e.created_at)]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs(ke,{variant:"outline",size:"sm",onClick:()=>t(e),className:"flex-1",children:[h.jsx(Vb,{className:"h-3 w-3 mr-1"}),"Editar"]}),(n==null?void 0:n.role)==="admin"&&e.role!=="admin"&&h.jsxs(AA,{children:[h.jsxs(fS,{children:[h.jsx(hS,{asChild:!0,children:h.jsx(_A,{asChild:!0,children:h.jsx(ke,{variant:"destructive",size:"sm",className:"flex items-center justify-center",children:h.jsx(Hb,{className:"h-4 w-4"})})})}),h.jsx(Yp,{children:"Apagar usurio"})]}),h.jsxs(tg,{children:[h.jsxs(ng,{children:[h.jsx(sg,{children:"Confirmar excluso"}),h.jsxs(ig,{children:['Tem certeza que deseja apagar o usurio "',e.name,'"? Esta ao no pode ser desfeita.']})]}),h.jsxs(rg,{children:[h.jsx(ag,{children:"Cancelar"}),h.jsx(og,{onClick:()=>r(e),className:"bg-red-600 hover:bg-red-700",children:"Apagar usurio"})]})]})]})]})]})})}function $M({users:e,isLoading:t,onEdit:n,onCreateUser:r,profile:i,onDelete:a}){if(t)return h.jsx("div",{className:"col-span-full flex justify-center py-12",children:h.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),h.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[h.jsx(nl,{className:"h-5 w-5 animate-pulse"}),h.jsx("span",{className:"text-base",children:"Carregando usurios..."})]})]})});if(!e||e.length===0)return h.jsx("div",{className:"col-span-full",children:h.jsx(Je,{className:"border-0 shadow-md",children:h.jsxs(tt,{className:"text-center py-12",children:[h.jsx(nl,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum usurio encontrado"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Comece adicionando usurios  sua empresa"}),h.jsxs(ke,{onClick:r,children:[h.jsx(Of,{className:"h-4 w-4 mr-2"}),"Adicionar Primeiro Usurio"]})]})})});const u=m=>{a(m)};return h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:e.filter(m=>m.id!==(i==null?void 0:i.id)).map(m=>h.jsx(HM,{user:m,onEdit:n,profile:i,onDelete:u},m.id))})}var cg="Switch",[GM,T7]=Yi(cg),[qM,XM]=GM(cg),MA=C.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:u,disabled:m,value:g="on",onCheckedChange:p,form:w,...v}=e,[E,N]=C.useState(null),P=at(t,S=>N(S)),T=C.useRef(!1),k=E?w||!!E.closest("form"):!0,[I=!1,A]=jo({prop:i,defaultProp:a,onChange:p});return h.jsxs(qM,{scope:n,checked:I,disabled:m,children:[h.jsx(Ve.button,{type:"button",role:"switch","aria-checked":I,"aria-required":u,"data-state":FA(I),"data-disabled":m?"":void 0,disabled:m,value:g,...v,ref:P,onClick:Me(e.onClick,S=>{A(D=>!D),k&&(T.current=S.isPropagationStopped(),T.current||S.stopPropagation())})}),k&&h.jsx(YM,{control:E,bubbles:!T.current,name:r,value:g,checked:I,required:u,disabled:m,form:w,style:{transform:"translateX(-100%)"}})]})});MA.displayName=cg;var LA="SwitchThumb",BA=C.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=XM(LA,n);return h.jsx(Ve.span,{"data-state":FA(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});BA.displayName=LA;var YM=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,a=C.useRef(null),u=Zp(n),m=$p(t);return C.useEffect(()=>{const g=a.current,p=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==n&&v){const E=new Event("click",{bubbles:r});v.call(g,n),g.dispatchEvent(E)}},[u,n,r]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...e.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function FA(e){return e?"checked":"unchecked"}var UA=MA,KM=BA;const WA=C.forwardRef(({className:e,...t},n)=>h.jsx(UA,{className:Pe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:h.jsx(KM,{className:Pe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));WA.displayName=UA.displayName;function QM({formData:e,setFormData:t,onSubmit:n,onCancel:r,error:i,isLoading:a,isEditing:u,isEditingSelf:m,disabled:g=!1}){return h.jsxs("form",{onSubmit:n,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"name",children:"Nome *"}),h.jsx(pt,{id:"name",value:e.name,onChange:p=>t(w=>({...w,name:p.target.value})),placeholder:"Nome completo",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"email",children:"Email *"}),h.jsx(pt,{id:"email",type:"email",value:e.email,onChange:p=>t(w=>({...w,email:p.target.value})),placeholder:"email@exemplo.com",required:!0,disabled:u}),u&&h.jsx("p",{className:"text-xs text-gray-500",children:"O email no pode ser alterado"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"role",children:"Papel"}),h.jsxs(rf,{value:e.role,onValueChange:p=>t(w=>({...w,role:p})),children:[h.jsx(Dc,{children:h.jsx(sf,{})}),h.jsxs(jc,{children:[h.jsx(fr,{value:"viewer",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(tn,{className:"bg-green-100 text-green-800",children:"Visualizador"}),h.jsx("span",{className:"text-xs text-gray-600",children:"Apenas visualiza dados"})]})}),h.jsx(fr,{value:"editor",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(tn,{className:"bg-yellow-100 text-yellow-800",children:"Editor"}),h.jsx("span",{className:"text-xs text-gray-600",children:"Pode criar e editar"})]})}),h.jsx(fr,{value:"admin",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(tn,{className:"bg-red-100 text-red-800",children:"Administrador"}),h.jsx("span",{className:"text-xs text-gray-600",children:"Controle total"})]})})]})]})]}),!m&&h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(WA,{id:"is_active",checked:e.is_active,onCheckedChange:p=>t(w=>({...w,is_active:p}))}),h.jsx(ct,{htmlFor:"is_active",children:"Usurio ativo"})]}),m&&h.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:h.jsx("p",{className:"text-sm text-blue-700",children:"Voc no pode alterar o status de ativao da sua prpria conta."})}),i&&h.jsx(Un,{variant:"destructive",children:h.jsx(Wn,{children:i})}),h.jsxs("div",{className:"flex space-x-4",children:[h.jsx(ke,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:"Cancelar"}),h.jsx(ke,{type:"submit",disabled:a||g,className:"flex-1",children:a?"Salvando...":u?"Salvar Alteraes":"Criar Usurio"})]})]})}function ZM(){const{profile:e}=An(),{toast:t}=Hn(),n=ys(),r=xs({mutationFn:async a=>{const{data:u,error:m}=await qe.auth.signUp({email:a.email,password:Math.random().toString(36).slice(-12),options:{data:{name:a.name,company_id:e==null?void 0:e.company_id}}});if(m)throw m;if(u.user){const{error:g}=await qe.from("profiles").update({role:a.role,company_id:e==null?void 0:e.company_id,is_active:a.is_active}).eq("id",u.user.id);if(g)throw g}return u},onSuccess:()=>{n.invalidateQueries({queryKey:["company-users"]}),t({title:"Usurio criado com sucesso!",description:"O usurio foi adicionado ao sistema. Ele receber um email de confirmao."})}}),i=xs({mutationFn:async({userId:a,updates:u})=>{const{error:m}=await qe.rpc("admin_update_user_profile",{user_id:a,new_name:u.name,new_role:u.role,new_is_active:u.is_active});if(m)throw m},onSuccess:()=>{n.invalidateQueries({queryKey:["company-users"]}),t({title:"Usurio atualizado com sucesso!",description:"As alteraes foram salvas"})}});return{createUserMutation:r,updateUserMutation:i}}function JM(){const{profile:e}=An(),{createUserMutation:t,updateUserMutation:n}=ZM(),{data:r}=eu(),{toast:i}=Hn(),{isMobile:a,isMobileOrTablet:u}=PE(),m=ys(),[g,p]=C.useState(!1),[w,v]=C.useState(null),[E,N]=C.useState({email:"",name:"",role:"viewer",is_active:!0}),[P,T]=C.useState(""),{data:k,isLoading:I}=zs({queryKey:["company-users"],queryFn:async()=>{const{data:j,error:z}=await qe.from("profiles").select("*").eq("company_id",e==null?void 0:e.company_id).order("created_at",{ascending:!1});if(z)throw console.error("Error fetching users:",z),z;return j||[]},enabled:!!(e!=null&&e.company_id)}),A=()=>{N({email:"",name:"",role:"viewer",is_active:!0}),T("")},S=j=>{v(j),N({email:j.email,name:j.name,role:j.role,is_active:j.is_active??!0}),p(!0)},D=j=>{if(j.preventDefault(),T(""),!E.name||!E.email){T("Nome e email so obrigatrios");return}if(!w&&(r!=null&&r.isUsersLimitReached)){T("Limite de usurios do seu plano foi atingido. Faa upgrade para adicionar mais usurios.");return}w?n.mutate({userId:w.id,updates:{name:E.name,role:E.role,is_active:E.is_active}},{onSuccess:()=>{p(!1),v(null),A()},onError:z=>{console.error("Error updating user:",z),T(z.message||"Erro ao atualizar usurio")}}):t.mutate({email:E.email,name:E.name,role:E.role,is_active:E.is_active},{onSuccess:()=>{p(!1),A(),r!=null&&r.isUsersLimitWarning&&!(r!=null&&r.isUsersLimitReached)&&i({title:"Aproximando do limite",description:"Voc est prximo do limite de usurios do seu plano. Considere fazer upgrade.",variant:"destructive"})},onError:z=>{console.error("Error creating user:",z),T(z.message||"Erro ao criar usurio")}})},W=()=>{p(!1),v(null),A()},V=()=>{A(),v(null),p(!0)},B=w&&w.id===(e==null?void 0:e.id),L=async j=>{if(!window.confirm(`Tem certeza que deseja deletar o usurio ${j.name}?`))return;const{error:z}=await qe.from("profiles").delete().eq("id",j.id);z?i({title:"Erro ao deletar usurio",description:z.message,variant:"destructive"}):(i({title:"Usurio deletado com sucesso"}),m.invalidateQueries({queryKey:["company-users"]}))};return h.jsx(dS,{children:h.jsxs("div",{className:"space-y-6 pb-10",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Usurios"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Gerencie os usurios da sua empresa"})]}),h.jsxs(nu,{open:g,onOpenChange:p,children:[h.jsx(Hf,{asChild:!0,children:h.jsxs(ke,{onClick:V,size:a?"icon":void 0,disabled:r==null?void 0:r.isUsersLimitReached,children:[h.jsx(Of,{className:"h-4 w-4"}),!a&&h.jsx("span",{className:"ml-2",children:"Novo Usurio"})]})}),h.jsxs(xl,{children:[h.jsxs(ru,{children:[h.jsx(su,{children:w?"Editar Usurio":"Novo Usurio"}),h.jsx($f,{children:w?"Modifique as informaes do usurio":"Adicione um novo usurio  empresa. O usurio receber um convite por email."})]}),(r==null?void 0:r.isUsersLimitReached)&&!w&&h.jsx(Un,{children:h.jsxs(Wn,{children:["Voc atingiu o limite de usurios do seu plano atual (",r.usersCount,"/",r.usersLimit,").",h.jsx(ke,{variant:"link",className:"p-0 h-auto font-semibold ml-1",onClick:()=>window.location.href="/meu-plano",children:"Faa upgrade do seu plano"}),"para adicionar mais usurios."]})}),h.jsx(QM,{formData:E,setFormData:N,onSubmit:D,onCancel:W,error:P,isLoading:t.isPending||n.isPending,isEditing:!!w,isEditingSelf:B,disabled:(r==null?void 0:r.isUsersLimitReached)&&!w})]})]})]}),h.jsx($M,{users:k,isLoading:I,onEdit:S,onCreateUser:V,profile:e,onDelete:L})]})})}function e7(){const{profile:e,company:t,user:n,updatePassword:r}=An(),{toast:i}=Hn(),a=ys(),[u,m]=C.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||""}),[g,p]=C.useState({newPassword:"",confirmPassword:""}),[w,v]=C.useState({profile:"",password:""}),E=xs({mutationFn:async S=>{if(!(e!=null&&e.id))throw new Error("Profile ID not found");const{error:D}=await qe.from("profiles").update({name:S.name,email:S.email}).eq("id",e.id);if(D)throw D},onSuccess:()=>{a.invalidateQueries({queryKey:["profile"]}),i({title:"Perfil atualizado!",description:"Suas informaes foram salvas com sucesso"}),v(S=>({...S,profile:""}))},onError:S=>{v(D=>({...D,profile:S.message||"Erro ao atualizar perfil"}))}}),N=xs({mutationFn:async S=>{const D=await r(S);if(!D.success)throw new Error(D.error||"Erro ao alterar senha");return D},onSuccess:()=>{i({title:"Senha alterada!",description:"Sua senha foi alterada com sucesso"}),p({newPassword:"",confirmPassword:""}),v(S=>({...S,password:""}))},onError:S=>{v(D=>({...D,password:S.message||"Erro ao alterar senha"}))}}),P=S=>{if(S.preventDefault(),v(D=>({...D,profile:""})),!u.name.trim()){v(D=>({...D,profile:"Nome  obrigatrio"}));return}if(!u.email.trim()){v(D=>({...D,profile:"Email  obrigatrio"}));return}E.mutate(u)},T=S=>{if(S.preventDefault(),v(D=>({...D,password:""})),!g.newPassword){v(D=>({...D,password:"Nova senha  obrigatria"}));return}if(g.newPassword.length<6){v(D=>({...D,password:"Nova senha deve ter pelo menos 6 caracteres"}));return}if(g.newPassword!==g.confirmPassword){v(D=>({...D,password:"Senhas no coincidem"}));return}N.mutate(g.newPassword)},k=(S,D)=>{m(W=>({...W,[S]:D}))},I=(S,D)=>{p(W=>({...W,[S]:D}))},A=S=>{switch(S){case"admin":return"Administrador";case"editor":return"Editor";case"viewer":return"Visualizador";default:return S}};return e?h.jsxs("div",{className:"space-y-6 max-w-4xl pb-10",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl m d:text-3xl font-bold text-gray-900",children:"Perfil"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Gerencie suas informaes pessoais e configuraes da conta"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[h.jsxs(Je,{className:"border-0 shadow-md",children:[h.jsx(St,{children:h.jsxs(Et,{className:"flex items-center",children:[h.jsx(Wd,{className:"h-5 w-5 mr-3 text-blue-600"}),"Informaes Pessoais"]})}),h.jsx(tt,{children:h.jsxs("form",{onSubmit:P,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"name",children:"Nome"}),h.jsx(pt,{id:"name",value:u.name,onChange:S=>k("name",S.target.value),placeholder:"Seu nome completo"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"email",children:"Email"}),h.jsx(pt,{disabled:!0,id:"email",type:"email",value:u.email,onChange:S=>k("email",S.target.value),placeholder:"seu@email.com"})]})]}),w.profile&&h.jsx(Un,{variant:"destructive",children:h.jsx(Wn,{children:w.profile})}),h.jsx(ke,{type:"submit",disabled:E.isPending,className:"w-full sm:w-auto",children:E.isPending?"Salvando...":"Salvar Alteraes"})]})})]}),h.jsxs(Je,{className:"border-0 shadow-md",children:[h.jsx(St,{children:h.jsxs(Et,{className:"flex items-center",children:[h.jsx(A8,{className:"h-5 w-5 mr-3 text-blue-600"}),"Alterar Senha"]})}),h.jsx(tt,{children:h.jsxs("form",{onSubmit:T,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"newPassword",children:"Nova Senha"}),h.jsx(pt,{id:"newPassword",type:"password",value:g.newPassword,onChange:S=>I("newPassword",S.target.value),placeholder:"Digite a nova senha"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{htmlFor:"confirmPassword",children:"Confirmar Senha"}),h.jsx(pt,{id:"confirmPassword",type:"password",value:g.confirmPassword,onChange:S=>I("confirmPassword",S.target.value),placeholder:"Confirme a nova senha"})]})]}),w.password&&h.jsx(Un,{variant:"destructive",children:h.jsx(Wn,{children:w.password})}),h.jsx(ke,{type:"submit",disabled:N.isPending,className:"w-full sm:w-auto",children:N.isPending?"Alterando...":"Alterar Senha"})]})})]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Je,{className:"border-0 shadow-md",children:[h.jsx(St,{children:h.jsxs(Et,{className:"flex items-center",children:[h.jsx(uw,{className:"h-5 w-5 mr-3 text-green-600"}),"Informaes da Conta"]})}),h.jsxs(tt,{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(pp,{className:"h-5 w-5 text-gray-400"}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),h.jsx("p",{className:"text-sm text-gray-900 truncate",children:e.email})]})]}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(uw,{className:"h-5 w-5 text-gray-400"}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Funo"}),h.jsx("p",{className:"text-sm text-gray-900",children:A(e.role)})]})]}),t&&h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(up,{className:"h-5 w-5 text-gray-400"}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Empresa"}),h.jsx("p",{className:"text-sm text-gray-900 break-words",children:t.name})]})]})]})]}),h.jsxs(Je,{className:"border-0 shadow-md",children:[h.jsx(St,{children:h.jsxs(Et,{className:"flex items-center",children:[h.jsx(Fb,{className:"h-5 w-5 mr-3 text-blue-600"}),"Histrico"]})}),h.jsxs(tt,{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Conta criada em"}),h.jsx("p",{className:"text-sm text-gray-900",children:Pa(new Date(e.created_at),"dd/MM/yyyy HH:mm",{locale:_o})})]}),e.updated_by_user_name&&h.jsxs(h.Fragment,{children:[h.jsx(Wf,{}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:"ltima modificao"}),h.jsx("p",{className:"text-sm text-gray-900",children:e.updated_by_user_name}),h.jsx("p",{className:"text-sm text-gray-900",children:Pa(new Date(e.updated_at),"dd/MM/yyyy HH:mm",{locale:_o})})]})]})]})]})]})]})]}):h.jsxs("div",{className:"space-y-6 pb-10",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Perfil"}),h.jsx(Je,{className:"border-0 shadow-md",children:h.jsxs(tt,{className:"text-center py-12",children:[h.jsx(Wd,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Perfil no encontrado"}),h.jsx("p",{className:"text-gray-600",children:"No foi possvel carregar as informaes do perfil"})]})})]})}function t7(){const{data:e,isLoading:t,error:n}=eu(),{profile:r,company:i}=An();if(t)return h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Meu Plano"})}),h.jsx("div",{className:"grid gap-6",children:h.jsxs(Je,{children:[h.jsx(St,{children:h.jsxs("div",{className:"animate-pulse",children:[h.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-2"}),h.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})}),h.jsx(tt,{children:h.jsxs("div",{className:"animate-pulse space-y-4",children:[h.jsx("div",{className:"h-4 bg-gray-200 rounded"}),h.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),h.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})]})})]});if(n||!e)return h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Meu Plano"})}),h.jsx(Je,{children:h.jsx(tt,{className:"pt-6",children:h.jsx("p",{className:"text-red-600",children:"Erro ao carregar informaes do plano."})})})]});const a=u=>u>=100?"bg-red-100":u>=80?"bg-yellow-100":"bg-green-100";return h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Meu Plano"})}),h.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[h.jsxs(Je,{className:e.isAssetsLimitReached||e.isUsersLimitReached?"border-red-500 bg-red-50":e.isAssetsLimitWarning||e.isUsersLimitWarning?"border-yellow-500 bg-yellow-50":"",children:[h.jsxs(St,{children:[h.jsxs(Et,{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-2xl",children:e.planInfo.icon}),"Plano ",e.planInfo.name]}),h.jsx(js,{children:"Seu plano atual e benefcios"})]}),h.jsxs(tt,{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(cw,{className:"h-4 w-4 text-gray-500"}),h.jsx("span",{className:"text-sm text-gray-600",children:e.currentPlan==="premium"?"Suporte: WhatsApp (at 24h) ou E-mail (at 24h)":`Suporte: ${e.planInfo.support}`})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Bt,{className:"h-4 w-4 text-gray-500"}),h.jsxs("span",{className:"text-sm text-gray-600",children:["Ativos: At ",e.planInfo.maxAssets]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(nl,{className:"h-4 w-4 text-gray-500"}),h.jsxs("span",{className:"text-sm text-gray-600",children:["Usurios: At ",e.planInfo.maxUsers]})]})]})]}),h.jsxs(Je,{children:[h.jsxs(St,{children:[h.jsx(Et,{children:"Uso Atual"}),h.jsx(js,{children:"Como voc est usando seu plano"})]}),h.jsxs(tt,{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Bt,{className:"h-4 w-4 text-gray-500"}),h.jsx("span",{className:"text-sm font-medium",children:"Ativos"})]}),h.jsxs("span",{className:"text-sm text-gray-600",children:[e.assetsCount," / ",e.assetsLimit]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx(tf,{value:e.assetsUsage,className:`h-2 ${a(e.assetsUsage)}`}),h.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[h.jsxs("span",{children:[e.assetsUsage,"% usado"]}),e.isAssetsLimitWarning&&h.jsx(tn,{variant:"destructive",className:"text-xs",children:e.isAssetsLimitReached?"Limite atingido":"Aproximando do limite"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(nl,{className:"h-4 w-4 text-gray-500"}),h.jsx("span",{className:"text-sm font-medium",children:"Usurios"})]}),h.jsxs("span",{className:"text-sm text-gray-600",children:[e.usersCount," / ",e.usersLimit]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx(tf,{value:e.usersUsage,className:`h-2 ${a(e.usersUsage)}`}),h.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[h.jsxs("span",{children:[e.usersUsage,"% usado"]}),e.isUsersLimitWarning&&h.jsx(tn,{variant:"destructive",className:"text-xs",children:e.isUsersLimitReached?"Limite atingido":"Aproximando do limite"})]})]})]})]})]}),h.jsxs(Je,{children:[h.jsxs(St,{children:[h.jsxs(Et,{className:"flex items-center gap-2 justify-center text-center",children:[h.jsx(cw,{className:"h-5 w-5 text-blue-600"}),"Fale com o Suporte"]}),h.jsx(js,{className:"text-center",children:"Entre em contato conforme o seu plano"})]}),h.jsxs(tt,{className:"space-y-4 flex flex-col items-center justify-center",children:[h.jsxs("div",{className:"flex flex-col items-center gap-1 w-full",children:[h.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[h.jsx(pp,{className:"h-4 w-4 text-blue-600"}),h.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"E-mail"})]}),h.jsx("a",{href:"mailto:suporte.microfocuspro@gmail.com?subject=Suporte%20Armazena%20App",className:"text-blue-700 font-medium hover:underline break-all text-center",target:"_blank",rel:"noopener noreferrer",children:"suporte.microfocuspro@gmail.com"})]}),e.currentPlan==="premium"&&h.jsxs("div",{className:"flex flex-col items-center gap-2 w-full mt-2",children:[h.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[h.jsx(N8,{className:"h-4 w-4 text-green-600"}),h.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"WhatsApp"})]}),h.jsx(ke,{asChild:!0,className:"w-full bg-green-500 hover:bg-green-600 text-white",size:"lg",children:h.jsx("a",{href:`https://wa.me/5543988448558?text=${encodeURIComponent(`Preciso de suporte no Armazena App. Meu nome  ${(r==null?void 0:r.name)||""} da empresa ${(i==null?void 0:i.name)||""}`)}`,target:"_blank",rel:"noopener noreferrer",children:"Falar no WhatsApp"})})]})]})]})]}),e.currentPlan!=="premium"&&h.jsxs(Je,{children:[h.jsxs(St,{children:[h.jsx(Et,{children:"Prximos Planos"}),h.jsx(js,{children:"Conhea os benefcios dos outros planos"})]}),h.jsx(tt,{children:h.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:Object.entries(Dp).map(([u,m])=>{if(u===e.currentPlan||u==="enterprise"||e.currentPlan==="basic"&&u==="free")return null;let g="";return u==="basic"?g="https://www.mercadopago.com.br/subscriptions/checkout?preapproval_plan_id=2c93808497ad02ae0197c173507007c2":u==="premium"&&(g="https://www.mercadopago.com.br/subscriptions/checkout?preapproval_plan_id=2c93808497b74ff10197c174c6fe0343"),h.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-xl",children:m.icon}),h.jsx("h3",{className:"font-semibold",children:m.name})]}),h.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[h.jsxs("div",{children:["At ",m.maxAssets," ativos"]}),h.jsxs("div",{children:["At ",m.maxUsers," usurios"]}),h.jsx("div",{children:m.support})]}),g?h.jsx(ke,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:h.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",children:"Fazer Upgrade"})}):h.jsx(ke,{variant:"outline",size:"sm",className:"w-full",disabled:!0,children:"Fazer Upgrade"})]},u)})})})]})]})}function n7(){const{signOut:e}=An();return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center p-4",children:h.jsxs(Je,{className:"max-w-md w-full",children:[h.jsxs(St,{className:"text-center",children:[h.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:h.jsx(Ic,{className:"h-8 w-8 text-red-600"})}),h.jsx(Et,{className:"text-xl text-gray-900",children:"Acesso Negado"})]}),h.jsxs(tt,{className:"text-center space-y-4",children:[h.jsx("p",{className:"text-gray-600",children:"Sua conta foi desativada ou no est mais vinculada a uma empresa. Entre em contato com o administrador da sua empresa."}),h.jsxs(ke,{onClick:e,className:"w-full",children:[h.jsx(mp,{className:"h-4 w-4 mr-2"}),"Fazer Login com Outra Conta"]})]})]})})}function r7(){const{hash:e,pathname:t}=vs(),n=kr();return C.useEffect(()=>{if(!(e!=null&&e.startsWith("#access_token")))return;const r=new URLSearchParams(e.substring(1)),i=r.get("access_token"),a=r.get("refresh_token"),u=r.get("type");i&&a&&qe.auth.setSession({access_token:i,refresh_token:a}).then(()=>{u==="recovery"?n("/reset-password",{replace:!0}):u==="signup"?n("/set-password",{replace:!0}):n("/dashboard",{replace:!0})})},[e,t,n]),null}function s7(){const[e,t]=C.useState(""),[n,r]=C.useState(""),[i,a]=C.useState(!1),[u,m]=C.useState(""),{toast:g}=Hn(),p=kr(),w=async()=>{if(m(""),e!==n){m("As senhas no coincidem.");return}if(e.length<6){m("A senha deve ter pelo menos 6 caracteres.");return}a(!0);const{error:v}=await qe.auth.updateUser({password:e});if(a(!1),v){m(v.message);return}g({title:"Senha redefinida!",description:"Voc ser redirecionado para o login."}),setTimeout(()=>{p("/login",{replace:!0})},3e3)};return h.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50 px-4",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:h.jsx(Bt,{className:"h-8 w-8 text-white"})})}),h.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Armazena App"}),h.jsx("p",{className:"mt-2 text-xl font-semibold text-gray-900",children:"Definir nova senha"})]}),h.jsxs(Je,{className:"shadow-lg border-0",children:[h.jsxs(St,{children:[h.jsx(Et,{className:"text-2xl text-center",children:"Nova senha"}),h.jsx(js,{className:"text-center",children:"Digite e confirme sua nova senha"})]}),h.jsxs(tt,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{children:"Nova senha"}),h.jsx(pt,{type:"password",value:e,onChange:v=>t(v.target.value),placeholder:"Mnimo 6 caracteres",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{children:"Confirmar senha"}),h.jsx(pt,{type:"password",value:n,onChange:v=>r(v.target.value),required:!0})]}),u&&h.jsx(Un,{variant:"destructive",children:h.jsx(Wn,{children:u})}),h.jsx(ke,{className:"w-full h-11",onClick:w,disabled:i,children:i?"Salvando":"Salvar"})]})]})]})})}function i7(){const[e,t]=C.useState(""),[n,r]=C.useState(""),[i,a]=C.useState(!1),[u,m]=C.useState(""),{toast:g}=Hn(),p=kr(),w=async()=>{if(m(""),e!==n){m("As senhas no coincidem.");return}if(e.length<6){m("A senha deve ter pelo menos 6 caracteres.");return}a(!0);const{error:v}=await qe.auth.updateUser({password:e});if(a(!1),v){m(v.message);return}g({title:"Senha cadastrada!",description:"Voc ser redirecionado para o login."}),setTimeout(()=>{p("/login",{replace:!0})},3e3)};return h.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50 px-4",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:h.jsx(Bt,{className:"h-8 w-8 text-white"})})}),h.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Armazena App"}),h.jsx("p",{className:"mt-2 text-xl font-semibold text-gray-900",children:"Definir senha de acesso"})]}),h.jsxs(Je,{className:"shadow-lg border-0",children:[h.jsxs(St,{children:[h.jsx(Et,{className:"text-2xl text-center",children:"Criar senha"}),h.jsx(js,{className:"text-center",children:"Digite e confirme sua senha para ativar seu acesso"})]}),h.jsxs(tt,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{children:"Senha"}),h.jsx(pt,{type:"password",value:e,onChange:v=>t(v.target.value),placeholder:"Mnimo 6 caracteres",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ct,{children:"Confirmar senha"}),h.jsx(pt,{type:"password",value:n,onChange:v=>r(v.target.value),required:!0})]}),u&&h.jsx(Un,{variant:"destructive",children:h.jsx(Wn,{children:u})}),h.jsx(ke,{className:"w-full h-11",onClick:w,disabled:i,children:i?"Salvando":"Salvar"})]})]})]})})}const o7=new i4;function a7(){return h.jsx(u4,{client:o7,children:h.jsxs(gT,{children:[h.jsx(r7,{}),h.jsxs(PR,{children:[h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:h.jsxs(cT,{children:[h.jsx(Zn,{path:"/reset-password",element:h.jsx(s7,{})}),h.jsx(Zn,{path:"/login",element:h.jsx(m5,{})}),h.jsx(Zn,{path:"/acesso-negado",element:h.jsx(n7,{})}),h.jsx(Zn,{path:"/",element:h.jsx(Ss,{children:h.jsx(As,{children:h.jsx(E1,{to:"/dashboard",replace:!0})})})}),h.jsx(Zn,{path:"/dashboard",element:h.jsx(Ss,{children:h.jsx(As,{children:h.jsx(p5,{})})})}),h.jsx(Zn,{path:"/assets",element:h.jsx(Ss,{children:h.jsx(As,{children:h.jsx(EM,{})})})}),h.jsx(Zn,{path:"/assets/new",element:h.jsx(Ss,{children:h.jsx(As,{children:h.jsx(zM,{})})})}),h.jsx(Zn,{path:"/assets/:id",element:h.jsx(Ss,{children:h.jsx(As,{children:h.jsx(MM,{})})})}),h.jsx(Zn,{path:"/assets/:id/edit",element:h.jsx(Ss,{children:h.jsx(As,{children:h.jsx(VM,{})})})}),h.jsx(Zn,{path:"/users",element:h.jsx(Ss,{requiredRole:"admin",children:h.jsx(As,{children:h.jsx(JM,{})})})}),h.jsx(Zn,{path:"/profile",element:h.jsx(Ss,{children:h.jsx(As,{children:h.jsx(e7,{})})})}),h.jsx(Zn,{path:"/my-plan",element:h.jsx(Ss,{requiredRole:"admin",children:h.jsx(As,{children:h.jsx(t7,{})})})}),h.jsx(Zn,{path:"/set-password",element:h.jsx(i7,{})})]})}),h.jsx(u5,{}),h.jsx(a5,{}),h.jsx(i5,{}),h.jsx(mI,{})]})]})})}B2(document.getElementById("root")).render(h.jsx(a7,{}));
