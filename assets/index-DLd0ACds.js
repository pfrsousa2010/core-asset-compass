var gm=e=>{throw TypeError(e)};var vh=(e,t,n)=>t.has(e)||gm("Cannot "+n);var $=(e,t,n)=>(vh(e,t,"read from private field"),n?n.call(e):t.get(e)),Le=(e,t,n)=>t.has(e)?gm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ye=(e,t,n,r)=>(vh(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ke=(e,t,n)=>(vh(e,t,"access private method"),n);var hu=(e,t,n,r)=>({set _(i){ye(e,t,i,n)},get _(){return $(e,t,r)}});function dy(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function of(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function a3(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var fy={exports:{}},af={},hy={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bc=Symbol.for("react.element"),l3=Symbol.for("react.portal"),c3=Symbol.for("react.fragment"),u3=Symbol.for("react.strict_mode"),d3=Symbol.for("react.profiler"),f3=Symbol.for("react.provider"),h3=Symbol.for("react.context"),p3=Symbol.for("react.forward_ref"),g3=Symbol.for("react.suspense"),m3=Symbol.for("react.memo"),x3=Symbol.for("react.lazy"),mm=Symbol.iterator;function w3(e){return e===null||typeof e!="object"?null:(e=mm&&e[mm]||e["@@iterator"],typeof e=="function"?e:null)}var py={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gy=Object.assign,my={};function il(e,t,n){this.props=e,this.context=t,this.refs=my,this.updater=n||py}il.prototype.isReactComponent={};il.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};il.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xy(){}xy.prototype=il.prototype;function np(e,t,n){this.props=e,this.context=t,this.refs=my,this.updater=n||py}var rp=np.prototype=new xy;rp.constructor=np;gy(rp,il.prototype);rp.isPureReactComponent=!0;var xm=Array.isArray,wy=Object.prototype.hasOwnProperty,sp={current:null},yy={key:!0,ref:!0,__self:!0,__source:!0};function vy(e,t,n){var r,i={},a=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(a=""+t.key),t)wy.call(t,r)&&!yy.hasOwnProperty(r)&&(i[r]=t[r]);var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){for(var m=Array(h),p=0;p<h;p++)m[p]=arguments[p+2];i.children=m}if(e&&e.defaultProps)for(r in h=e.defaultProps,h)i[r]===void 0&&(i[r]=h[r]);return{$$typeof:Bc,type:e,key:a,ref:u,props:i,_owner:sp.current}}function y3(e,t){return{$$typeof:Bc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ip(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bc}function v3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wm=/\/+/g;function bh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?v3(""+e.key):t.toString(36)}function $u(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case Bc:case l3:u=!0}}if(u)return u=e,i=i(u),e=r===""?"."+bh(u,0):r,xm(i)?(n="",e!=null&&(n=e.replace(wm,"$&/")+"/"),$u(i,t,n,"",function(p){return p})):i!=null&&(ip(i)&&(i=y3(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(wm,"$&/")+"/")+e)),t.push(i)),1;if(u=0,r=r===""?".":r+":",xm(e))for(var h=0;h<e.length;h++){a=e[h];var m=r+bh(a,h);u+=$u(a,t,n,m,i)}else if(m=w3(e),typeof m=="function")for(e=m.call(e),h=0;!(a=e.next()).done;)a=a.value,m=r+bh(a,h++),u+=$u(a,t,n,m,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function pu(e,t,n){if(e==null)return e;var r=[],i=0;return $u(e,r,"","",function(a){return t.call(n,a,i++)}),r}function b3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bn={current:null},Gu={transition:null},C3={ReactCurrentDispatcher:Bn,ReactCurrentBatchConfig:Gu,ReactCurrentOwner:sp};function by(){throw Error("act(...) is not supported in production builds of React.")}et.Children={map:pu,forEach:function(e,t,n){pu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pu(e,function(){t++}),t},toArray:function(e){return pu(e,function(t){return t})||[]},only:function(e){if(!ip(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};et.Component=il;et.Fragment=c3;et.Profiler=d3;et.PureComponent=np;et.StrictMode=u3;et.Suspense=g3;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C3;et.act=by;et.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=gy({},e.props),i=e.key,a=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,u=sp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(m in t)wy.call(t,m)&&!yy.hasOwnProperty(m)&&(r[m]=t[m]===void 0&&h!==void 0?h[m]:t[m])}var m=arguments.length-2;if(m===1)r.children=n;else if(1<m){h=Array(m);for(var p=0;p<m;p++)h[p]=arguments[p+2];r.children=h}return{$$typeof:Bc,type:e.type,key:i,ref:a,props:r,_owner:u}};et.createContext=function(e){return e={$$typeof:h3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:f3,_context:e},e.Consumer=e};et.createElement=vy;et.createFactory=function(e){var t=vy.bind(null,e);return t.type=e,t};et.createRef=function(){return{current:null}};et.forwardRef=function(e){return{$$typeof:p3,render:e}};et.isValidElement=ip;et.lazy=function(e){return{$$typeof:x3,_payload:{_status:-1,_result:e},_init:b3}};et.memo=function(e,t){return{$$typeof:m3,type:e,compare:t===void 0?null:t}};et.startTransition=function(e){var t=Gu.transition;Gu.transition={};try{e()}finally{Gu.transition=t}};et.unstable_act=by;et.useCallback=function(e,t){return Bn.current.useCallback(e,t)};et.useContext=function(e){return Bn.current.useContext(e)};et.useDebugValue=function(){};et.useDeferredValue=function(e){return Bn.current.useDeferredValue(e)};et.useEffect=function(e,t){return Bn.current.useEffect(e,t)};et.useId=function(){return Bn.current.useId()};et.useImperativeHandle=function(e,t,n){return Bn.current.useImperativeHandle(e,t,n)};et.useInsertionEffect=function(e,t){return Bn.current.useInsertionEffect(e,t)};et.useLayoutEffect=function(e,t){return Bn.current.useLayoutEffect(e,t)};et.useMemo=function(e,t){return Bn.current.useMemo(e,t)};et.useReducer=function(e,t,n){return Bn.current.useReducer(e,t,n)};et.useRef=function(e){return Bn.current.useRef(e)};et.useState=function(e){return Bn.current.useState(e)};et.useSyncExternalStore=function(e,t,n){return Bn.current.useSyncExternalStore(e,t,n)};et.useTransition=function(){return Bn.current.useTransition()};et.version="18.3.1";hy.exports=et;var C=hy.exports;const ri=of(C),Cy=dy({__proto__:null,default:ri},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E3=C,S3=Symbol.for("react.element"),A3=Symbol.for("react.fragment"),_3=Object.prototype.hasOwnProperty,N3=E3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T3={key:!0,ref:!0,__self:!0,__source:!0};function Ey(e,t,n){var r,i={},a=null,u=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)_3.call(t,r)&&!T3.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:S3,type:e,key:a,ref:u,props:i,_owner:N3.current}}af.Fragment=A3;af.jsx=Ey;af.jsxs=Ey;fy.exports=af;var g=fy.exports,Sy={exports:{}},hr={},Ay={exports:{}},_y={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Q,te){var he=Q.length;Q.push(te);e:for(;0<he;){var ue=he-1>>>1,me=Q[ue];if(0<i(me,te))Q[ue]=te,Q[he]=me,he=ue;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var te=Q[0],he=Q.pop();if(he!==te){Q[0]=he;e:for(var ue=0,me=Q.length,we=me>>>1;ue<we;){var Re=2*(ue+1)-1,nt=Q[Re],de=Re+1,Ee=Q[de];if(0>i(nt,he))de<me&&0>i(Ee,nt)?(Q[ue]=Ee,Q[de]=he,ue=de):(Q[ue]=nt,Q[Re]=he,ue=Re);else if(de<me&&0>i(Ee,he))Q[ue]=Ee,Q[de]=he,ue=de;else break e}}return te}function i(Q,te){var he=Q.sortIndex-te.sortIndex;return he!==0?he:Q.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();e.unstable_now=function(){return u.now()-h}}var m=[],p=[],y=1,v=null,E=3,N=!1,P=!1,T=!1,O=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Q){for(var te=n(p);te!==null;){if(te.callback===null)r(p);else if(te.startTime<=Q)r(p),te.sortIndex=te.expirationTime,t(m,te);else break;te=n(p)}}function D(Q){if(T=!1,S(Q),!P)if(n(m)!==null)P=!0,fe(W);else{var te=n(p);te!==null&&ne(D,te.startTime-Q)}}function W(Q,te){P=!1,T&&(T=!1,I(L),L=-1),N=!0;var he=E;try{for(S(te),v=n(m);v!==null&&(!(v.expirationTime>te)||Q&&!ee());){var ue=v.callback;if(typeof ue=="function"){v.callback=null,E=v.priorityLevel;var me=ue(v.expirationTime<=te);te=e.unstable_now(),typeof me=="function"?v.callback=me:v===n(m)&&r(m),S(te)}else r(m);v=n(m)}if(v!==null)var we=!0;else{var Re=n(p);Re!==null&&ne(D,Re.startTime-te),we=!1}return we}finally{v=null,E=he,N=!1}}var V=!1,F=null,L=-1,M=5,H=-1;function ee(){return!(e.unstable_now()-H<M)}function q(){if(F!==null){var Q=e.unstable_now();H=Q;var te=!0;try{te=F(!0,Q)}finally{te?se():(V=!1,F=null)}}else V=!1}var se;if(typeof _=="function")se=function(){_(q)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,X=re.port2;re.port1.onmessage=q,se=function(){X.postMessage(null)}}else se=function(){O(q,0)};function fe(Q){F=Q,V||(V=!0,se())}function ne(Q,te){L=O(function(){Q(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){P||N||(P=!0,fe(W))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return n(m)},e.unstable_next=function(Q){switch(E){case 1:case 2:case 3:var te=3;break;default:te=E}var he=E;E=te;try{return Q()}finally{E=he}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,te){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var he=E;E=Q;try{return te()}finally{E=he}},e.unstable_scheduleCallback=function(Q,te,he){var ue=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ue+he:ue):he=ue,Q){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=he+me,Q={id:y++,callback:te,priorityLevel:Q,startTime:he,expirationTime:me,sortIndex:-1},he>ue?(Q.sortIndex=he,t(p,Q),n(m)===null&&Q===n(p)&&(T?(I(L),L=-1):T=!0,ne(D,he-ue))):(Q.sortIndex=me,t(m,Q),P||N||(P=!0,fe(W))),Q},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(Q){var te=E;return function(){var he=E;E=te;try{return Q.apply(this,arguments)}finally{E=he}}}})(_y);Ay.exports=_y;var I3=Ay.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R3=C,fr=I3;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ny=new Set,ac={};function Bo(e,t){Xa(e,t),Xa(e+"Capture",t)}function Xa(e,t){for(ac[e]=t,e=0;e<t.length;e++)Ny.add(t[e])}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g0=Object.prototype.hasOwnProperty,O3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ym={},vm={};function k3(e){return g0.call(vm,e)?!0:g0.call(ym,e)?!1:O3.test(e)?vm[e]=!0:(ym[e]=!0,!1)}function P3(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function D3(e,t,n,r){if(t===null||typeof t>"u"||P3(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fn(e,t,n,r,i,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var Cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Cn[e]=new Fn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Cn[t]=new Fn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Cn[e]=new Fn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Cn[e]=new Fn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Cn[e]=new Fn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Cn[e]=new Fn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Cn[e]=new Fn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Cn[e]=new Fn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Cn[e]=new Fn(e,5,!1,e.toLowerCase(),null,!1,!1)});var op=/[\-:]([a-z])/g;function ap(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(op,ap);Cn[t]=new Fn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(op,ap);Cn[t]=new Fn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(op,ap);Cn[t]=new Fn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Cn[e]=new Fn(e,1,!1,e.toLowerCase(),null,!1,!1)});Cn.xlinkHref=new Fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Cn[e]=new Fn(e,1,!1,e.toLowerCase(),null,!0,!0)});function lp(e,t,n,r){var i=Cn.hasOwnProperty(t)?Cn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(D3(t,n,i,r)&&(n=null),r||i===null?k3(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Fs=R3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gu=Symbol.for("react.element"),la=Symbol.for("react.portal"),ca=Symbol.for("react.fragment"),cp=Symbol.for("react.strict_mode"),m0=Symbol.for("react.profiler"),Ty=Symbol.for("react.provider"),Iy=Symbol.for("react.context"),up=Symbol.for("react.forward_ref"),x0=Symbol.for("react.suspense"),w0=Symbol.for("react.suspense_list"),dp=Symbol.for("react.memo"),ai=Symbol.for("react.lazy"),Ry=Symbol.for("react.offscreen"),bm=Symbol.iterator;function Il(e){return e===null||typeof e!="object"?null:(e=bm&&e[bm]||e["@@iterator"],typeof e=="function"?e:null)}var Wt=Object.assign,Ch;function Ul(e){if(Ch===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ch=t&&t[1]||""}return`
`+Ch+e}var Eh=!1;function Sh(e,t){if(!e||Eh)return"";Eh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),a=r.stack.split(`
`),u=i.length-1,h=a.length-1;1<=u&&0<=h&&i[u]!==a[h];)h--;for(;1<=u&&0<=h;u--,h--)if(i[u]!==a[h]){if(u!==1||h!==1)do if(u--,h--,0>h||i[u]!==a[h]){var m=`
`+i[u].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=u&&0<=h);break}}}finally{Eh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ul(e):""}function M3(e){switch(e.tag){case 5:return Ul(e.type);case 16:return Ul("Lazy");case 13:return Ul("Suspense");case 19:return Ul("SuspenseList");case 0:case 2:case 15:return e=Sh(e.type,!1),e;case 11:return e=Sh(e.type.render,!1),e;case 1:return e=Sh(e.type,!0),e;default:return""}}function y0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ca:return"Fragment";case la:return"Portal";case m0:return"Profiler";case cp:return"StrictMode";case x0:return"Suspense";case w0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Iy:return(e.displayName||"Context")+".Consumer";case Ty:return(e._context.displayName||"Context")+".Provider";case up:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dp:return t=e.displayName||null,t!==null?t:y0(e.type)||"Memo";case ai:t=e._payload,e=e._init;try{return y0(e(t))}catch{}}return null}function j3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return y0(t);case 8:return t===cp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function L3(e){var t=Oy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mu(e){e._valueTracker||(e._valueTracker=L3(e))}function ky(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Oy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ud(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function v0(e,t){var n=t.checked;return Wt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Cm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Mi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Py(e,t){t=t.checked,t!=null&&lp(e,"checked",t,!1)}function b0(e,t){Py(e,t);var n=Mi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?C0(e,t.type,n):t.hasOwnProperty("defaultValue")&&C0(e,t.type,Mi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Em(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function C0(e,t,n){(t!=="number"||ud(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Wl=Array.isArray;function ba(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Mi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function E0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Wt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ae(92));if(Wl(n)){if(1<n.length)throw Error(ae(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Mi(n)}}function Dy(e,t){var n=Mi(t.value),r=Mi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Am(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function My(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function S0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?My(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xu,jy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xu=xu||document.createElement("div"),xu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B3=["Webkit","ms","Moz","O"];Object.keys(Xl).forEach(function(e){B3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xl[t]=Xl[e]})});function Ly(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xl.hasOwnProperty(e)&&Xl[e]?(""+t).trim():t+"px"}function By(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ly(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var F3=Wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function A0(e,t){if(t){if(F3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function _0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N0=null;function fp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var T0=null,Ca=null,Ea=null;function _m(e){if(e=Wc(e)){if(typeof T0!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=ff(t),T0(e.stateNode,e.type,t))}}function Fy(e){Ca?Ea?Ea.push(e):Ea=[e]:Ca=e}function Uy(){if(Ca){var e=Ca,t=Ea;if(Ea=Ca=null,_m(e),t)for(e=0;e<t.length;e++)_m(t[e])}}function Wy(e,t){return e(t)}function Vy(){}var Ah=!1;function zy(e,t,n){if(Ah)return e(t,n);Ah=!0;try{return Wy(e,t,n)}finally{Ah=!1,(Ca!==null||Ea!==null)&&(Vy(),Uy())}}function cc(e,t){var n=e.stateNode;if(n===null)return null;var r=ff(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ae(231,t,typeof n));return n}var I0=!1;if(Ps)try{var Rl={};Object.defineProperty(Rl,"passive",{get:function(){I0=!0}}),window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{I0=!1}function U3(e,t,n,r,i,a,u,h,m){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(y){this.onError(y)}}var Yl=!1,dd=null,fd=!1,R0=null,W3={onError:function(e){Yl=!0,dd=e}};function V3(e,t,n,r,i,a,u,h,m){Yl=!1,dd=null,U3.apply(W3,arguments)}function z3(e,t,n,r,i,a,u,h,m){if(V3.apply(this,arguments),Yl){if(Yl){var p=dd;Yl=!1,dd=null}else throw Error(ae(198));fd||(fd=!0,R0=p)}}function Fo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nm(e){if(Fo(e)!==e)throw Error(ae(188))}function H3(e){var t=e.alternate;if(!t){if(t=Fo(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Nm(i),e;if(a===r)return Nm(i),t;a=a.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,h=i.child;h;){if(h===n){u=!0,n=i,r=a;break}if(h===r){u=!0,r=i,n=a;break}h=h.sibling}if(!u){for(h=a.child;h;){if(h===n){u=!0,n=a,r=i;break}if(h===r){u=!0,r=a,n=i;break}h=h.sibling}if(!u)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?e:t}function $y(e){return e=H3(e),e!==null?Gy(e):null}function Gy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gy(e);if(t!==null)return t;e=e.sibling}return null}var qy=fr.unstable_scheduleCallback,Tm=fr.unstable_cancelCallback,$3=fr.unstable_shouldYield,G3=fr.unstable_requestPaint,Kt=fr.unstable_now,q3=fr.unstable_getCurrentPriorityLevel,hp=fr.unstable_ImmediatePriority,Xy=fr.unstable_UserBlockingPriority,hd=fr.unstable_NormalPriority,X3=fr.unstable_LowPriority,Yy=fr.unstable_IdlePriority,lf=null,ps=null;function Y3(e){if(ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(lf,e,void 0,(e.current.flags&128)===128)}catch{}}var $r=Math.clz32?Math.clz32:Z3,K3=Math.log,Q3=Math.LN2;function Z3(e){return e>>>=0,e===0?32:31-(K3(e)/Q3|0)|0}var wu=64,yu=4194304;function Vl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,u=n&268435455;if(u!==0){var h=u&~i;h!==0?r=Vl(h):(a&=u,a!==0&&(r=Vl(a)))}else u=n&~i,u!==0?r=Vl(u):a!==0&&(r=Vl(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$r(t),i=1<<n,r|=e[n],t&=~i;return r}function J3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-$r(a),h=1<<u,m=i[u];m===-1?(!(h&n)||h&r)&&(i[u]=J3(h,t)):m<=t&&(e.expiredLanes|=h),a&=~h}}function O0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ky(){var e=wu;return wu<<=1,!(wu&4194240)&&(wu=64),e}function _h(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$r(t),e[t]=n}function t_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-$r(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function pp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$r(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xt=0;function Qy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zy,gp,Jy,ev,tv,k0=!1,vu=[],Ai=null,_i=null,Ni=null,uc=new Map,dc=new Map,ui=[],n_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Im(e,t){switch(e){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":uc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(t.pointerId)}}function Ol(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Wc(t),t!==null&&gp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function r_(e,t,n,r,i){switch(t){case"focusin":return Ai=Ol(Ai,e,t,n,r,i),!0;case"dragenter":return _i=Ol(_i,e,t,n,r,i),!0;case"mouseover":return Ni=Ol(Ni,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return uc.set(a,Ol(uc.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,dc.set(a,Ol(dc.get(a)||null,e,t,n,r,i)),!0}return!1}function nv(e){var t=co(e.target);if(t!==null){var n=Fo(t);if(n!==null){if(t=n.tag,t===13){if(t=Hy(n),t!==null){e.blockedOn=t,tv(e.priority,function(){Jy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=P0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);N0=r,n.target.dispatchEvent(r),N0=null}else return t=Wc(n),t!==null&&gp(t),e.blockedOn=n,!1;t.shift()}return!0}function Rm(e,t,n){qu(e)&&n.delete(t)}function s_(){k0=!1,Ai!==null&&qu(Ai)&&(Ai=null),_i!==null&&qu(_i)&&(_i=null),Ni!==null&&qu(Ni)&&(Ni=null),uc.forEach(Rm),dc.forEach(Rm)}function kl(e,t){e.blockedOn===t&&(e.blockedOn=null,k0||(k0=!0,fr.unstable_scheduleCallback(fr.unstable_NormalPriority,s_)))}function fc(e){function t(i){return kl(i,e)}if(0<vu.length){kl(vu[0],e);for(var n=1;n<vu.length;n++){var r=vu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ai!==null&&kl(Ai,e),_i!==null&&kl(_i,e),Ni!==null&&kl(Ni,e),uc.forEach(t),dc.forEach(t),n=0;n<ui.length;n++)r=ui[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ui.length&&(n=ui[0],n.blockedOn===null);)nv(n),n.blockedOn===null&&ui.shift()}var Sa=Fs.ReactCurrentBatchConfig,gd=!0;function i_(e,t,n,r){var i=xt,a=Sa.transition;Sa.transition=null;try{xt=1,mp(e,t,n,r)}finally{xt=i,Sa.transition=a}}function o_(e,t,n,r){var i=xt,a=Sa.transition;Sa.transition=null;try{xt=4,mp(e,t,n,r)}finally{xt=i,Sa.transition=a}}function mp(e,t,n,r){if(gd){var i=P0(e,t,n,r);if(i===null)jh(e,t,r,md,n),Im(e,r);else if(r_(i,e,t,n,r))r.stopPropagation();else if(Im(e,r),t&4&&-1<n_.indexOf(e)){for(;i!==null;){var a=Wc(i);if(a!==null&&Zy(a),a=P0(e,t,n,r),a===null&&jh(e,t,r,md,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else jh(e,t,r,null,n)}}var md=null;function P0(e,t,n,r){if(md=null,e=fp(r),e=co(e),e!==null)if(t=Fo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return md=e,null}function rv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q3()){case hp:return 1;case Xy:return 4;case hd:case X3:return 16;case Yy:return 536870912;default:return 16}default:return 16}}var Ci=null,xp=null,Xu=null;function sv(){if(Xu)return Xu;var e,t=xp,n=t.length,r,i="value"in Ci?Ci.value:Ci.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===i[a-r];r++);return Xu=i.slice(e,1<r?1-r:void 0)}function Yu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bu(){return!0}function Om(){return!1}function pr(e){function t(n,r,i,a,u){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(n=e[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?bu:Om,this.isPropagationStopped=Om,this}return Wt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bu)},persist:function(){},isPersistent:bu}),t}var ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wp=pr(ol),Uc=Wt({},ol,{view:0,detail:0}),a_=pr(Uc),Nh,Th,Pl,cf=Wt({},Uc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pl&&(Pl&&e.type==="mousemove"?(Nh=e.screenX-Pl.screenX,Th=e.screenY-Pl.screenY):Th=Nh=0,Pl=e),Nh)},movementY:function(e){return"movementY"in e?e.movementY:Th}}),km=pr(cf),l_=Wt({},cf,{dataTransfer:0}),c_=pr(l_),u_=Wt({},Uc,{relatedTarget:0}),Ih=pr(u_),d_=Wt({},ol,{animationName:0,elapsedTime:0,pseudoElement:0}),f_=pr(d_),h_=Wt({},ol,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),p_=pr(h_),g_=Wt({},ol,{data:0}),Pm=pr(g_),m_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=w_[e])?!!t[e]:!1}function yp(){return y_}var v_=Wt({},Uc,{key:function(e){if(e.key){var t=m_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?x_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yp,charCode:function(e){return e.type==="keypress"?Yu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),b_=pr(v_),C_=Wt({},cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dm=pr(C_),E_=Wt({},Uc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yp}),S_=pr(E_),A_=Wt({},ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),__=pr(A_),N_=Wt({},cf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),T_=pr(N_),I_=[9,13,27,32],vp=Ps&&"CompositionEvent"in window,Kl=null;Ps&&"documentMode"in document&&(Kl=document.documentMode);var R_=Ps&&"TextEvent"in window&&!Kl,iv=Ps&&(!vp||Kl&&8<Kl&&11>=Kl),Mm=" ",jm=!1;function ov(e,t){switch(e){case"keyup":return I_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function av(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function O_(e,t){switch(e){case"compositionend":return av(t);case"keypress":return t.which!==32?null:(jm=!0,Mm);case"textInput":return e=t.data,e===Mm&&jm?null:e;default:return null}}function k_(e,t){if(ua)return e==="compositionend"||!vp&&ov(e,t)?(e=sv(),Xu=xp=Ci=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iv&&t.locale!=="ko"?null:t.data;default:return null}}var P_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!P_[e.type]:t==="textarea"}function lv(e,t,n,r){Fy(r),t=xd(t,"onChange"),0<t.length&&(n=new wp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ql=null,hc=null;function D_(e){yv(e,0)}function uf(e){var t=ha(e);if(ky(t))return e}function M_(e,t){if(e==="change")return t}var cv=!1;if(Ps){var Rh;if(Ps){var Oh="oninput"in document;if(!Oh){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),Oh=typeof Bm.oninput=="function"}Rh=Oh}else Rh=!1;cv=Rh&&(!document.documentMode||9<document.documentMode)}function Fm(){Ql&&(Ql.detachEvent("onpropertychange",uv),hc=Ql=null)}function uv(e){if(e.propertyName==="value"&&uf(hc)){var t=[];lv(t,hc,e,fp(e)),zy(D_,t)}}function j_(e,t,n){e==="focusin"?(Fm(),Ql=t,hc=n,Ql.attachEvent("onpropertychange",uv)):e==="focusout"&&Fm()}function L_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uf(hc)}function B_(e,t){if(e==="click")return uf(t)}function F_(e,t){if(e==="input"||e==="change")return uf(t)}function U_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qr=typeof Object.is=="function"?Object.is:U_;function pc(e,t){if(qr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!g0.call(t,i)||!qr(e[i],t[i]))return!1}return!0}function Um(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wm(e,t){var n=Um(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Um(n)}}function dv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fv(){for(var e=window,t=ud();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ud(e.document)}return t}function bp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function W_(e){var t=fv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dv(n.ownerDocument.documentElement,n)){if(r!==null&&bp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Wm(n,a);var u=Wm(n,r);i&&u&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var V_=Ps&&"documentMode"in document&&11>=document.documentMode,da=null,D0=null,Zl=null,M0=!1;function Vm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;M0||da==null||da!==ud(r)||(r=da,"selectionStart"in r&&bp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zl&&pc(Zl,r)||(Zl=r,r=xd(D0,"onSelect"),0<r.length&&(t=new wp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=da)))}function Cu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fa={animationend:Cu("Animation","AnimationEnd"),animationiteration:Cu("Animation","AnimationIteration"),animationstart:Cu("Animation","AnimationStart"),transitionend:Cu("Transition","TransitionEnd")},kh={},hv={};Ps&&(hv=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function df(e){if(kh[e])return kh[e];if(!fa[e])return e;var t=fa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hv)return kh[e]=t[n];return e}var pv=df("animationend"),gv=df("animationiteration"),mv=df("animationstart"),xv=df("transitionend"),wv=new Map,zm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(e,t){wv.set(e,t),Bo(t,[e])}for(var Ph=0;Ph<zm.length;Ph++){var Dh=zm[Ph],z_=Dh.toLowerCase(),H_=Dh[0].toUpperCase()+Dh.slice(1);zi(z_,"on"+H_)}zi(pv,"onAnimationEnd");zi(gv,"onAnimationIteration");zi(mv,"onAnimationStart");zi("dblclick","onDoubleClick");zi("focusin","onFocus");zi("focusout","onBlur");zi(xv,"onTransitionEnd");Xa("onMouseEnter",["mouseout","mouseover"]);Xa("onMouseLeave",["mouseout","mouseover"]);Xa("onPointerEnter",["pointerout","pointerover"]);Xa("onPointerLeave",["pointerout","pointerover"]);Bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$_=new Set("cancel close invalid load scroll toggle".split(" ").concat(zl));function Hm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,z3(r,t,void 0,e),e.currentTarget=null}function yv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var u=r.length-1;0<=u;u--){var h=r[u],m=h.instance,p=h.currentTarget;if(h=h.listener,m!==a&&i.isPropagationStopped())break e;Hm(i,h,p),a=m}else for(u=0;u<r.length;u++){if(h=r[u],m=h.instance,p=h.currentTarget,h=h.listener,m!==a&&i.isPropagationStopped())break e;Hm(i,h,p),a=m}}}if(fd)throw e=R0,fd=!1,R0=null,e}function Ot(e,t){var n=t[U0];n===void 0&&(n=t[U0]=new Set);var r=e+"__bubble";n.has(r)||(vv(t,e,2,!1),n.add(r))}function Mh(e,t,n){var r=0;t&&(r|=4),vv(n,e,r,t)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function gc(e){if(!e[Eu]){e[Eu]=!0,Ny.forEach(function(n){n!=="selectionchange"&&($_.has(n)||Mh(n,!1,e),Mh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Eu]||(t[Eu]=!0,Mh("selectionchange",!1,t))}}function vv(e,t,n,r){switch(rv(t)){case 1:var i=i_;break;case 4:i=o_;break;default:i=mp}n=i.bind(null,t,n,e),i=void 0,!I0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jh(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var h=r.stateNode.containerInfo;if(h===i||h.nodeType===8&&h.parentNode===i)break;if(u===4)for(u=r.return;u!==null;){var m=u.tag;if((m===3||m===4)&&(m=u.stateNode.containerInfo,m===i||m.nodeType===8&&m.parentNode===i))return;u=u.return}for(;h!==null;){if(u=co(h),u===null)return;if(m=u.tag,m===5||m===6){r=a=u;continue e}h=h.parentNode}}r=r.return}zy(function(){var p=a,y=fp(n),v=[];e:{var E=wv.get(e);if(E!==void 0){var N=wp,P=e;switch(e){case"keypress":if(Yu(n)===0)break e;case"keydown":case"keyup":N=b_;break;case"focusin":P="focus",N=Ih;break;case"focusout":P="blur",N=Ih;break;case"beforeblur":case"afterblur":N=Ih;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=km;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=c_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=S_;break;case pv:case gv:case mv:N=f_;break;case xv:N=__;break;case"scroll":N=a_;break;case"wheel":N=T_;break;case"copy":case"cut":case"paste":N=p_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Dm}var T=(t&4)!==0,O=!T&&e==="scroll",I=T?E!==null?E+"Capture":null:E;T=[];for(var _=p,S;_!==null;){S=_;var D=S.stateNode;if(S.tag===5&&D!==null&&(S=D,I!==null&&(D=cc(_,I),D!=null&&T.push(mc(_,D,S)))),O)break;_=_.return}0<T.length&&(E=new N(E,P,null,n,y),v.push({event:E,listeners:T}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",E&&n!==N0&&(P=n.relatedTarget||n.fromElement)&&(co(P)||P[Ds]))break e;if((N||E)&&(E=y.window===y?y:(E=y.ownerDocument)?E.defaultView||E.parentWindow:window,N?(P=n.relatedTarget||n.toElement,N=p,P=P?co(P):null,P!==null&&(O=Fo(P),P!==O||P.tag!==5&&P.tag!==6)&&(P=null)):(N=null,P=p),N!==P)){if(T=km,D="onMouseLeave",I="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(T=Dm,D="onPointerLeave",I="onPointerEnter",_="pointer"),O=N==null?E:ha(N),S=P==null?E:ha(P),E=new T(D,_+"leave",N,n,y),E.target=O,E.relatedTarget=S,D=null,co(y)===p&&(T=new T(I,_+"enter",P,n,y),T.target=S,T.relatedTarget=O,D=T),O=D,N&&P)t:{for(T=N,I=P,_=0,S=T;S;S=Zo(S))_++;for(S=0,D=I;D;D=Zo(D))S++;for(;0<_-S;)T=Zo(T),_--;for(;0<S-_;)I=Zo(I),S--;for(;_--;){if(T===I||I!==null&&T===I.alternate)break t;T=Zo(T),I=Zo(I)}T=null}else T=null;N!==null&&$m(v,E,N,T,!1),P!==null&&O!==null&&$m(v,O,P,T,!0)}}e:{if(E=p?ha(p):window,N=E.nodeName&&E.nodeName.toLowerCase(),N==="select"||N==="input"&&E.type==="file")var W=M_;else if(Lm(E))if(cv)W=F_;else{W=L_;var V=j_}else(N=E.nodeName)&&N.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(W=B_);if(W&&(W=W(e,p))){lv(v,W,n,y);break e}V&&V(e,E,p),e==="focusout"&&(V=E._wrapperState)&&V.controlled&&E.type==="number"&&C0(E,"number",E.value)}switch(V=p?ha(p):window,e){case"focusin":(Lm(V)||V.contentEditable==="true")&&(da=V,D0=p,Zl=null);break;case"focusout":Zl=D0=da=null;break;case"mousedown":M0=!0;break;case"contextmenu":case"mouseup":case"dragend":M0=!1,Vm(v,n,y);break;case"selectionchange":if(V_)break;case"keydown":case"keyup":Vm(v,n,y)}var F;if(vp)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else ua?ov(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(iv&&n.locale!=="ko"&&(ua||L!=="onCompositionStart"?L==="onCompositionEnd"&&ua&&(F=sv()):(Ci=y,xp="value"in Ci?Ci.value:Ci.textContent,ua=!0)),V=xd(p,L),0<V.length&&(L=new Pm(L,e,null,n,y),v.push({event:L,listeners:V}),F?L.data=F:(F=av(n),F!==null&&(L.data=F)))),(F=R_?O_(e,n):k_(e,n))&&(p=xd(p,"onBeforeInput"),0<p.length&&(y=new Pm("onBeforeInput","beforeinput",null,n,y),v.push({event:y,listeners:p}),y.data=F))}yv(v,t)})}function mc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=cc(e,n),a!=null&&r.unshift(mc(e,a,i)),a=cc(e,t),a!=null&&r.push(mc(e,a,i))),e=e.return}return r}function Zo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $m(e,t,n,r,i){for(var a=t._reactName,u=[];n!==null&&n!==r;){var h=n,m=h.alternate,p=h.stateNode;if(m!==null&&m===r)break;h.tag===5&&p!==null&&(h=p,i?(m=cc(n,a),m!=null&&u.unshift(mc(n,m,h))):i||(m=cc(n,a),m!=null&&u.push(mc(n,m,h)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var G_=/\r\n?/g,q_=/\u0000|\uFFFD/g;function Gm(e){return(typeof e=="string"?e:""+e).replace(G_,`
`).replace(q_,"")}function Su(e,t,n){if(t=Gm(t),Gm(e)!==t&&n)throw Error(ae(425))}function wd(){}var j0=null,L0=null;function B0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var F0=typeof setTimeout=="function"?setTimeout:void 0,X_=typeof clearTimeout=="function"?clearTimeout:void 0,qm=typeof Promise=="function"?Promise:void 0,Y_=typeof queueMicrotask=="function"?queueMicrotask:typeof qm<"u"?function(e){return qm.resolve(null).then(e).catch(K_)}:F0;function K_(e){setTimeout(function(){throw e})}function Lh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),fc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fc(t)}function Ti(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var al=Math.random().toString(36).slice(2),us="__reactFiber$"+al,xc="__reactProps$"+al,Ds="__reactContainer$"+al,U0="__reactEvents$"+al,Q_="__reactListeners$"+al,Z_="__reactHandles$"+al;function co(e){var t=e[us];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ds]||n[us]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xm(e);e!==null;){if(n=e[us])return n;e=Xm(e)}return t}e=n,n=e.parentNode}return null}function Wc(e){return e=e[us]||e[Ds],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ha(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function ff(e){return e[xc]||null}var W0=[],pa=-1;function Hi(e){return{current:e}}function Pt(e){0>pa||(e.current=W0[pa],W0[pa]=null,pa--)}function Tt(e,t){pa++,W0[pa]=e.current,e.current=t}var ji={},Rn=Hi(ji),Jn=Hi(!1),Ao=ji;function Ya(e,t){var n=e.type.contextTypes;if(!n)return ji;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function er(e){return e=e.childContextTypes,e!=null}function yd(){Pt(Jn),Pt(Rn)}function Ym(e,t,n){if(Rn.current!==ji)throw Error(ae(168));Tt(Rn,t),Tt(Jn,n)}function bv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ae(108,j3(e)||"Unknown",i));return Wt({},n,r)}function vd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ji,Ao=Rn.current,Tt(Rn,e),Tt(Jn,Jn.current),!0}function Km(e,t,n){var r=e.stateNode;if(!r)throw Error(ae(169));n?(e=bv(e,t,Ao),r.__reactInternalMemoizedMergedChildContext=e,Pt(Jn),Pt(Rn),Tt(Rn,e)):Pt(Jn),Tt(Jn,n)}var Ns=null,hf=!1,Bh=!1;function Cv(e){Ns===null?Ns=[e]:Ns.push(e)}function J_(e){hf=!0,Cv(e)}function $i(){if(!Bh&&Ns!==null){Bh=!0;var e=0,t=xt;try{var n=Ns;for(xt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ns=null,hf=!1}catch(i){throw Ns!==null&&(Ns=Ns.slice(e+1)),qy(hp,$i),i}finally{xt=t,Bh=!1}}return null}var ga=[],ma=0,bd=null,Cd=0,Er=[],Sr=0,_o=null,Is=1,Rs="";function so(e,t){ga[ma++]=Cd,ga[ma++]=bd,bd=e,Cd=t}function Ev(e,t,n){Er[Sr++]=Is,Er[Sr++]=Rs,Er[Sr++]=_o,_o=e;var r=Is;e=Rs;var i=32-$r(r)-1;r&=~(1<<i),n+=1;var a=32-$r(t)+i;if(30<a){var u=i-i%5;a=(r&(1<<u)-1).toString(32),r>>=u,i-=u,Is=1<<32-$r(t)+i|n<<i|r,Rs=a+e}else Is=1<<a|n<<i|r,Rs=e}function Cp(e){e.return!==null&&(so(e,1),Ev(e,1,0))}function Ep(e){for(;e===bd;)bd=ga[--ma],ga[ma]=null,Cd=ga[--ma],ga[ma]=null;for(;e===_o;)_o=Er[--Sr],Er[Sr]=null,Rs=Er[--Sr],Er[Sr]=null,Is=Er[--Sr],Er[Sr]=null}var ur=null,cr=null,jt=!1,zr=null;function Sv(e,t){var n=Ar(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ur=e,cr=Ti(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ur=e,cr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_o!==null?{id:Is,overflow:Rs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ar(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ur=e,cr=null,!0):!1;default:return!1}}function V0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function z0(e){if(jt){var t=cr;if(t){var n=t;if(!Qm(e,t)){if(V0(e))throw Error(ae(418));t=Ti(n.nextSibling);var r=ur;t&&Qm(e,t)?Sv(r,n):(e.flags=e.flags&-4097|2,jt=!1,ur=e)}}else{if(V0(e))throw Error(ae(418));e.flags=e.flags&-4097|2,jt=!1,ur=e}}}function Zm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ur=e}function Au(e){if(e!==ur)return!1;if(!jt)return Zm(e),jt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!B0(e.type,e.memoizedProps)),t&&(t=cr)){if(V0(e))throw Av(),Error(ae(418));for(;t;)Sv(e,t),t=Ti(t.nextSibling)}if(Zm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){cr=Ti(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}cr=null}}else cr=ur?Ti(e.stateNode.nextSibling):null;return!0}function Av(){for(var e=cr;e;)e=Ti(e.nextSibling)}function Ka(){cr=ur=null,jt=!1}function Sp(e){zr===null?zr=[e]:zr.push(e)}var e4=Fs.ReactCurrentBatchConfig;function Dl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(u){var h=i.refs;u===null?delete h[a]:h[a]=u},t._stringRef=a,t)}if(typeof e!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,e))}return e}function _u(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jm(e){var t=e._init;return t(e._payload)}function _v(e){function t(I,_){if(e){var S=I.deletions;S===null?(I.deletions=[_],I.flags|=16):S.push(_)}}function n(I,_){if(!e)return null;for(;_!==null;)t(I,_),_=_.sibling;return null}function r(I,_){for(I=new Map;_!==null;)_.key!==null?I.set(_.key,_):I.set(_.index,_),_=_.sibling;return I}function i(I,_){return I=ki(I,_),I.index=0,I.sibling=null,I}function a(I,_,S){return I.index=S,e?(S=I.alternate,S!==null?(S=S.index,S<_?(I.flags|=2,_):S):(I.flags|=2,_)):(I.flags|=1048576,_)}function u(I){return e&&I.alternate===null&&(I.flags|=2),I}function h(I,_,S,D){return _===null||_.tag!==6?(_=$h(S,I.mode,D),_.return=I,_):(_=i(_,S),_.return=I,_)}function m(I,_,S,D){var W=S.type;return W===ca?y(I,_,S.props.children,D,S.key):_!==null&&(_.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ai&&Jm(W)===_.type)?(D=i(_,S.props),D.ref=Dl(I,_,S),D.return=I,D):(D=nd(S.type,S.key,S.props,null,I.mode,D),D.ref=Dl(I,_,S),D.return=I,D)}function p(I,_,S,D){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Gh(S,I.mode,D),_.return=I,_):(_=i(_,S.children||[]),_.return=I,_)}function y(I,_,S,D,W){return _===null||_.tag!==7?(_=bo(S,I.mode,D,W),_.return=I,_):(_=i(_,S),_.return=I,_)}function v(I,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=$h(""+_,I.mode,S),_.return=I,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case gu:return S=nd(_.type,_.key,_.props,null,I.mode,S),S.ref=Dl(I,null,_),S.return=I,S;case la:return _=Gh(_,I.mode,S),_.return=I,_;case ai:var D=_._init;return v(I,D(_._payload),S)}if(Wl(_)||Il(_))return _=bo(_,I.mode,S,null),_.return=I,_;_u(I,_)}return null}function E(I,_,S,D){var W=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return W!==null?null:h(I,_,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case gu:return S.key===W?m(I,_,S,D):null;case la:return S.key===W?p(I,_,S,D):null;case ai:return W=S._init,E(I,_,W(S._payload),D)}if(Wl(S)||Il(S))return W!==null?null:y(I,_,S,D,null);_u(I,S)}return null}function N(I,_,S,D,W){if(typeof D=="string"&&D!==""||typeof D=="number")return I=I.get(S)||null,h(_,I,""+D,W);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case gu:return I=I.get(D.key===null?S:D.key)||null,m(_,I,D,W);case la:return I=I.get(D.key===null?S:D.key)||null,p(_,I,D,W);case ai:var V=D._init;return N(I,_,S,V(D._payload),W)}if(Wl(D)||Il(D))return I=I.get(S)||null,y(_,I,D,W,null);_u(_,D)}return null}function P(I,_,S,D){for(var W=null,V=null,F=_,L=_=0,M=null;F!==null&&L<S.length;L++){F.index>L?(M=F,F=null):M=F.sibling;var H=E(I,F,S[L],D);if(H===null){F===null&&(F=M);break}e&&F&&H.alternate===null&&t(I,F),_=a(H,_,L),V===null?W=H:V.sibling=H,V=H,F=M}if(L===S.length)return n(I,F),jt&&so(I,L),W;if(F===null){for(;L<S.length;L++)F=v(I,S[L],D),F!==null&&(_=a(F,_,L),V===null?W=F:V.sibling=F,V=F);return jt&&so(I,L),W}for(F=r(I,F);L<S.length;L++)M=N(F,I,L,S[L],D),M!==null&&(e&&M.alternate!==null&&F.delete(M.key===null?L:M.key),_=a(M,_,L),V===null?W=M:V.sibling=M,V=M);return e&&F.forEach(function(ee){return t(I,ee)}),jt&&so(I,L),W}function T(I,_,S,D){var W=Il(S);if(typeof W!="function")throw Error(ae(150));if(S=W.call(S),S==null)throw Error(ae(151));for(var V=W=null,F=_,L=_=0,M=null,H=S.next();F!==null&&!H.done;L++,H=S.next()){F.index>L?(M=F,F=null):M=F.sibling;var ee=E(I,F,H.value,D);if(ee===null){F===null&&(F=M);break}e&&F&&ee.alternate===null&&t(I,F),_=a(ee,_,L),V===null?W=ee:V.sibling=ee,V=ee,F=M}if(H.done)return n(I,F),jt&&so(I,L),W;if(F===null){for(;!H.done;L++,H=S.next())H=v(I,H.value,D),H!==null&&(_=a(H,_,L),V===null?W=H:V.sibling=H,V=H);return jt&&so(I,L),W}for(F=r(I,F);!H.done;L++,H=S.next())H=N(F,I,L,H.value,D),H!==null&&(e&&H.alternate!==null&&F.delete(H.key===null?L:H.key),_=a(H,_,L),V===null?W=H:V.sibling=H,V=H);return e&&F.forEach(function(q){return t(I,q)}),jt&&so(I,L),W}function O(I,_,S,D){if(typeof S=="object"&&S!==null&&S.type===ca&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case gu:e:{for(var W=S.key,V=_;V!==null;){if(V.key===W){if(W=S.type,W===ca){if(V.tag===7){n(I,V.sibling),_=i(V,S.props.children),_.return=I,I=_;break e}}else if(V.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ai&&Jm(W)===V.type){n(I,V.sibling),_=i(V,S.props),_.ref=Dl(I,V,S),_.return=I,I=_;break e}n(I,V);break}else t(I,V);V=V.sibling}S.type===ca?(_=bo(S.props.children,I.mode,D,S.key),_.return=I,I=_):(D=nd(S.type,S.key,S.props,null,I.mode,D),D.ref=Dl(I,_,S),D.return=I,I=D)}return u(I);case la:e:{for(V=S.key;_!==null;){if(_.key===V)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(I,_.sibling),_=i(_,S.children||[]),_.return=I,I=_;break e}else{n(I,_);break}else t(I,_);_=_.sibling}_=Gh(S,I.mode,D),_.return=I,I=_}return u(I);case ai:return V=S._init,O(I,_,V(S._payload),D)}if(Wl(S))return P(I,_,S,D);if(Il(S))return T(I,_,S,D);_u(I,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(I,_.sibling),_=i(_,S),_.return=I,I=_):(n(I,_),_=$h(S,I.mode,D),_.return=I,I=_),u(I)):n(I,_)}return O}var Qa=_v(!0),Nv=_v(!1),Ed=Hi(null),Sd=null,xa=null,Ap=null;function _p(){Ap=xa=Sd=null}function Np(e){var t=Ed.current;Pt(Ed),e._currentValue=t}function H0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Aa(e,t){Sd=e,Ap=xa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Zn=!0),e.firstContext=null)}function Nr(e){var t=e._currentValue;if(Ap!==e)if(e={context:e,memoizedValue:t,next:null},xa===null){if(Sd===null)throw Error(ae(308));xa=e,Sd.dependencies={lanes:0,firstContext:e}}else xa=xa.next=e;return t}var uo=null;function Tp(e){uo===null?uo=[e]:uo.push(e)}function Tv(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Tp(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ms(e,r)}function Ms(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var li=!1;function Ip(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Iv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ii(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,at&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ms(e,n)}return i=r.interleaved,i===null?(t.next=t,Tp(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ms(e,n)}function Ku(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pp(e,n)}}function ex(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ad(e,t,n,r){var i=e.updateQueue;li=!1;var a=i.firstBaseUpdate,u=i.lastBaseUpdate,h=i.shared.pending;if(h!==null){i.shared.pending=null;var m=h,p=m.next;m.next=null,u===null?a=p:u.next=p,u=m;var y=e.alternate;y!==null&&(y=y.updateQueue,h=y.lastBaseUpdate,h!==u&&(h===null?y.firstBaseUpdate=p:h.next=p,y.lastBaseUpdate=m))}if(a!==null){var v=i.baseState;u=0,y=p=m=null,h=a;do{var E=h.lane,N=h.eventTime;if((r&E)===E){y!==null&&(y=y.next={eventTime:N,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var P=e,T=h;switch(E=t,N=n,T.tag){case 1:if(P=T.payload,typeof P=="function"){v=P.call(N,v,E);break e}v=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=T.payload,E=typeof P=="function"?P.call(N,v,E):P,E==null)break e;v=Wt({},v,E);break e;case 2:li=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,E=i.effects,E===null?i.effects=[h]:E.push(h))}else N={eventTime:N,lane:E,tag:h.tag,payload:h.payload,callback:h.callback,next:null},y===null?(p=y=N,m=v):y=y.next=N,u|=E;if(h=h.next,h===null){if(h=i.shared.pending,h===null)break;E=h,h=E.next,E.next=null,i.lastBaseUpdate=E,i.shared.pending=null}}while(!0);if(y===null&&(m=v),i.baseState=m,i.firstBaseUpdate=p,i.lastBaseUpdate=y,t=i.shared.interleaved,t!==null){i=t;do u|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);To|=u,e.lanes=u,e.memoizedState=v}}function tx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var Vc={},gs=Hi(Vc),wc=Hi(Vc),yc=Hi(Vc);function fo(e){if(e===Vc)throw Error(ae(174));return e}function Rp(e,t){switch(Tt(yc,t),Tt(wc,e),Tt(gs,Vc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:S0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=S0(t,e)}Pt(gs),Tt(gs,t)}function Za(){Pt(gs),Pt(wc),Pt(yc)}function Rv(e){fo(yc.current);var t=fo(gs.current),n=S0(t,e.type);t!==n&&(Tt(wc,e),Tt(gs,n))}function Op(e){wc.current===e&&(Pt(gs),Pt(wc))}var Ft=Hi(0);function _d(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fh=[];function kp(){for(var e=0;e<Fh.length;e++)Fh[e]._workInProgressVersionPrimary=null;Fh.length=0}var Qu=Fs.ReactCurrentDispatcher,Uh=Fs.ReactCurrentBatchConfig,No=0,Ut=null,on=null,hn=null,Nd=!1,Jl=!1,vc=0,t4=0;function _n(){throw Error(ae(321))}function Pp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qr(e[n],t[n]))return!1;return!0}function Dp(e,t,n,r,i,a){if(No=a,Ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qu.current=e===null||e.memoizedState===null?i4:o4,e=n(r,i),Jl){a=0;do{if(Jl=!1,vc=0,25<=a)throw Error(ae(301));a+=1,hn=on=null,t.updateQueue=null,Qu.current=a4,e=n(r,i)}while(Jl)}if(Qu.current=Td,t=on!==null&&on.next!==null,No=0,hn=on=Ut=null,Nd=!1,t)throw Error(ae(300));return e}function Mp(){var e=vc!==0;return vc=0,e}function is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Ut.memoizedState=hn=e:hn=hn.next=e,hn}function Tr(){if(on===null){var e=Ut.alternate;e=e!==null?e.memoizedState:null}else e=on.next;var t=hn===null?Ut.memoizedState:hn.next;if(t!==null)hn=t,on=e;else{if(e===null)throw Error(ae(310));on=e,e={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},hn===null?Ut.memoizedState=hn=e:hn=hn.next=e}return hn}function bc(e,t){return typeof t=="function"?t(e):t}function Wh(e){var t=Tr(),n=t.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=e;var r=on,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var h=u=null,m=null,p=a;do{var y=p.lane;if((No&y)===y)m!==null&&(m=m.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var v={lane:y,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};m===null?(h=m=v,u=r):m=m.next=v,Ut.lanes|=y,To|=y}p=p.next}while(p!==null&&p!==a);m===null?u=r:m.next=h,qr(r,t.memoizedState)||(Zn=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=m,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Ut.lanes|=a,To|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vh(e){var t=Tr(),n=t.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var u=i=i.next;do a=e(a,u.action),u=u.next;while(u!==i);qr(a,t.memoizedState)||(Zn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ov(){}function kv(e,t){var n=Ut,r=Tr(),i=t(),a=!qr(r.memoizedState,i);if(a&&(r.memoizedState=i,Zn=!0),r=r.queue,jp(Mv.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||hn!==null&&hn.memoizedState.tag&1){if(n.flags|=2048,Cc(9,Dv.bind(null,n,r,i,t),void 0,null),gn===null)throw Error(ae(349));No&30||Pv(n,t,i)}return i}function Pv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ut.updateQueue,t===null?(t={lastEffect:null,stores:null},Ut.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Dv(e,t,n,r){t.value=n,t.getSnapshot=r,jv(t)&&Lv(e)}function Mv(e,t,n){return n(function(){jv(t)&&Lv(e)})}function jv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qr(e,n)}catch{return!0}}function Lv(e){var t=Ms(e,1);t!==null&&Gr(t,e,1,-1)}function nx(e){var t=is();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bc,lastRenderedState:e},t.queue=e,e=e.dispatch=s4.bind(null,Ut,e),[t.memoizedState,e]}function Cc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ut.updateQueue,t===null?(t={lastEffect:null,stores:null},Ut.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Bv(){return Tr().memoizedState}function Zu(e,t,n,r){var i=is();Ut.flags|=e,i.memoizedState=Cc(1|t,n,void 0,r===void 0?null:r)}function pf(e,t,n,r){var i=Tr();r=r===void 0?null:r;var a=void 0;if(on!==null){var u=on.memoizedState;if(a=u.destroy,r!==null&&Pp(r,u.deps)){i.memoizedState=Cc(t,n,a,r);return}}Ut.flags|=e,i.memoizedState=Cc(1|t,n,a,r)}function rx(e,t){return Zu(8390656,8,e,t)}function jp(e,t){return pf(2048,8,e,t)}function Fv(e,t){return pf(4,2,e,t)}function Uv(e,t){return pf(4,4,e,t)}function Wv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vv(e,t,n){return n=n!=null?n.concat([e]):null,pf(4,4,Wv.bind(null,t,e),n)}function Lp(){}function zv(e,t){var n=Tr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hv(e,t){var n=Tr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $v(e,t,n){return No&21?(qr(n,t)||(n=Ky(),Ut.lanes|=n,To|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zn=!0),e.memoizedState=n)}function n4(e,t){var n=xt;xt=n!==0&&4>n?n:4,e(!0);var r=Uh.transition;Uh.transition={};try{e(!1),t()}finally{xt=n,Uh.transition=r}}function Gv(){return Tr().memoizedState}function r4(e,t,n){var r=Oi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qv(e))Xv(t,n);else if(n=Tv(e,t,n,r),n!==null){var i=Ln();Gr(n,e,r,i),Yv(n,t,r)}}function s4(e,t,n){var r=Oi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qv(e))Xv(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,h=a(u,n);if(i.hasEagerState=!0,i.eagerState=h,qr(h,u)){var m=t.interleaved;m===null?(i.next=i,Tp(t)):(i.next=m.next,m.next=i),t.interleaved=i;return}}catch{}finally{}n=Tv(e,t,i,r),n!==null&&(i=Ln(),Gr(n,e,r,i),Yv(n,t,r))}}function qv(e){var t=e.alternate;return e===Ut||t!==null&&t===Ut}function Xv(e,t){Jl=Nd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pp(e,n)}}var Td={readContext:Nr,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},i4={readContext:Nr,useCallback:function(e,t){return is().memoizedState=[e,t===void 0?null:t],e},useContext:Nr,useEffect:rx,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zu(4194308,4,Wv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zu(4,2,e,t)},useMemo:function(e,t){var n=is();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=is();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=r4.bind(null,Ut,e),[r.memoizedState,e]},useRef:function(e){var t=is();return e={current:e},t.memoizedState=e},useState:nx,useDebugValue:Lp,useDeferredValue:function(e){return is().memoizedState=e},useTransition:function(){var e=nx(!1),t=e[0];return e=n4.bind(null,e[1]),is().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ut,i=is();if(jt){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=t(),gn===null)throw Error(ae(349));No&30||Pv(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,rx(Mv.bind(null,r,a,e),[e]),r.flags|=2048,Cc(9,Dv.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=is(),t=gn.identifierPrefix;if(jt){var n=Rs,r=Is;n=(r&~(1<<32-$r(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=vc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=t4++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},o4={readContext:Nr,useCallback:zv,useContext:Nr,useEffect:jp,useImperativeHandle:Vv,useInsertionEffect:Fv,useLayoutEffect:Uv,useMemo:Hv,useReducer:Wh,useRef:Bv,useState:function(){return Wh(bc)},useDebugValue:Lp,useDeferredValue:function(e){var t=Tr();return $v(t,on.memoizedState,e)},useTransition:function(){var e=Wh(bc)[0],t=Tr().memoizedState;return[e,t]},useMutableSource:Ov,useSyncExternalStore:kv,useId:Gv,unstable_isNewReconciler:!1},a4={readContext:Nr,useCallback:zv,useContext:Nr,useEffect:jp,useImperativeHandle:Vv,useInsertionEffect:Fv,useLayoutEffect:Uv,useMemo:Hv,useReducer:Vh,useRef:Bv,useState:function(){return Vh(bc)},useDebugValue:Lp,useDeferredValue:function(e){var t=Tr();return on===null?t.memoizedState=e:$v(t,on.memoizedState,e)},useTransition:function(){var e=Vh(bc)[0],t=Tr().memoizedState;return[e,t]},useMutableSource:Ov,useSyncExternalStore:kv,useId:Gv,unstable_isNewReconciler:!1};function Fr(e,t){if(e&&e.defaultProps){t=Wt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Wt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gf={isMounted:function(e){return(e=e._reactInternals)?Fo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ln(),i=Oi(e),a=Os(r,i);a.payload=t,n!=null&&(a.callback=n),t=Ii(e,a,i),t!==null&&(Gr(t,e,i,r),Ku(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ln(),i=Oi(e),a=Os(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ii(e,a,i),t!==null&&(Gr(t,e,i,r),Ku(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ln(),r=Oi(e),i=Os(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ii(e,i,r),t!==null&&(Gr(t,e,r,n),Ku(t,e,r))}};function sx(e,t,n,r,i,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,u):t.prototype&&t.prototype.isPureReactComponent?!pc(n,r)||!pc(i,a):!0}function Kv(e,t,n){var r=!1,i=ji,a=t.contextType;return typeof a=="object"&&a!==null?a=Nr(a):(i=er(t)?Ao:Rn.current,r=t.contextTypes,a=(r=r!=null)?Ya(e,i):ji),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ix(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gf.enqueueReplaceState(t,t.state,null)}function G0(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ip(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Nr(a):(a=er(t)?Ao:Rn.current,i.context=Ya(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($0(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&gf.enqueueReplaceState(i,i.state,null),Ad(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ja(e,t){try{var n="",r=t;do n+=M3(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function zh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function q0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var l4=typeof WeakMap=="function"?WeakMap:Map;function Qv(e,t,n){n=Os(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rd||(Rd=!0,r1=r),q0(e,t)},n}function Zv(e,t,n){n=Os(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){q0(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){q0(e,t),typeof r!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function ox(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new l4;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=C4.bind(null,e,t,n),t.then(e,e))}function ax(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lx(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Os(-1,1),t.tag=2,Ii(n,t,1))),n.lanes|=1),e)}var c4=Fs.ReactCurrentOwner,Zn=!1;function jn(e,t,n,r){t.child=e===null?Nv(t,null,n,r):Qa(t,e.child,n,r)}function cx(e,t,n,r,i){n=n.render;var a=t.ref;return Aa(t,i),r=Dp(e,t,n,r,a,i),n=Mp(),e!==null&&!Zn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,js(e,t,i)):(jt&&n&&Cp(t),t.flags|=1,jn(e,t,r,i),t.child)}function ux(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!$p(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Jv(e,t,a,r,i)):(e=nd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:pc,n(u,r)&&e.ref===t.ref)return js(e,t,i)}return t.flags|=1,e=ki(a,r),e.ref=t.ref,e.return=t,t.child=e}function Jv(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(pc(a,r)&&e.ref===t.ref)if(Zn=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Zn=!0);else return t.lanes=e.lanes,js(e,t,i)}return X0(e,t,n,r,i)}function e2(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(ya,or),or|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Tt(ya,or),or|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Tt(ya,or),or|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Tt(ya,or),or|=r;return jn(e,t,i,n),t.child}function t2(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function X0(e,t,n,r,i){var a=er(n)?Ao:Rn.current;return a=Ya(t,a),Aa(t,i),n=Dp(e,t,n,r,a,i),r=Mp(),e!==null&&!Zn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,js(e,t,i)):(jt&&r&&Cp(t),t.flags|=1,jn(e,t,n,i),t.child)}function dx(e,t,n,r,i){if(er(n)){var a=!0;vd(t)}else a=!1;if(Aa(t,i),t.stateNode===null)Ju(e,t),Kv(t,n,r),G0(t,n,r,i),r=!0;else if(e===null){var u=t.stateNode,h=t.memoizedProps;u.props=h;var m=u.context,p=n.contextType;typeof p=="object"&&p!==null?p=Nr(p):(p=er(n)?Ao:Rn.current,p=Ya(t,p));var y=n.getDerivedStateFromProps,v=typeof y=="function"||typeof u.getSnapshotBeforeUpdate=="function";v||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==r||m!==p)&&ix(t,u,r,p),li=!1;var E=t.memoizedState;u.state=E,Ad(t,r,u,i),m=t.memoizedState,h!==r||E!==m||Jn.current||li?(typeof y=="function"&&($0(t,n,y,r),m=t.memoizedState),(h=li||sx(t,n,h,r,E,m,p))?(v||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=m),u.props=r,u.state=m,u.context=p,r=h):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,Iv(e,t),h=t.memoizedProps,p=t.type===t.elementType?h:Fr(t.type,h),u.props=p,v=t.pendingProps,E=u.context,m=n.contextType,typeof m=="object"&&m!==null?m=Nr(m):(m=er(n)?Ao:Rn.current,m=Ya(t,m));var N=n.getDerivedStateFromProps;(y=typeof N=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==v||E!==m)&&ix(t,u,r,m),li=!1,E=t.memoizedState,u.state=E,Ad(t,r,u,i);var P=t.memoizedState;h!==v||E!==P||Jn.current||li?(typeof N=="function"&&($0(t,n,N,r),P=t.memoizedState),(p=li||sx(t,n,p,r,E,P,m)||!1)?(y||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,P,m),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,P,m)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=P),u.props=r,u.state=P,u.context=m,r=p):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),r=!1)}return Y0(e,t,n,r,a,i)}function Y0(e,t,n,r,i,a){t2(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return i&&Km(t,n,!1),js(e,t,a);r=t.stateNode,c4.current=t;var h=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=Qa(t,e.child,null,a),t.child=Qa(t,null,h,a)):jn(e,t,h,a),t.memoizedState=r.state,i&&Km(t,n,!0),t.child}function n2(e){var t=e.stateNode;t.pendingContext?Ym(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ym(e,t.context,!1),Rp(e,t.containerInfo)}function fx(e,t,n,r,i){return Ka(),Sp(i),t.flags|=256,jn(e,t,n,r),t.child}var K0={dehydrated:null,treeContext:null,retryLane:0};function Q0(e){return{baseLanes:e,cachePool:null,transitions:null}}function r2(e,t,n){var r=t.pendingProps,i=Ft.current,a=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(i&2)!==0),h?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Tt(Ft,i&1),e===null)return z0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=r.children,e=r.fallback,a?(r=t.mode,a=t.child,u={mode:"hidden",children:u},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=wf(u,r,0,null),e=bo(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Q0(n),t.memoizedState=K0,e):Bp(t,u));if(i=e.memoizedState,i!==null&&(h=i.dehydrated,h!==null))return u4(e,t,u,r,h,i,n);if(a){a=r.fallback,u=t.mode,i=e.child,h=i.sibling;var m={mode:"hidden",children:r.children};return!(u&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=m,t.deletions=null):(r=ki(i,m),r.subtreeFlags=i.subtreeFlags&14680064),h!==null?a=ki(h,a):(a=bo(a,u,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,u=e.child.memoizedState,u=u===null?Q0(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=K0,r}return a=e.child,e=a.sibling,r=ki(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Bp(e,t){return t=wf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nu(e,t,n,r){return r!==null&&Sp(r),Qa(t,e.child,null,n),e=Bp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function u4(e,t,n,r,i,a,u){if(n)return t.flags&256?(t.flags&=-257,r=zh(Error(ae(422))),Nu(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=wf({mode:"visible",children:r.children},i,0,null),a=bo(a,i,u,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Qa(t,e.child,null,u),t.child.memoizedState=Q0(u),t.memoizedState=K0,a);if(!(t.mode&1))return Nu(e,t,u,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(ae(419)),r=zh(a,r,void 0),Nu(e,t,u,r)}if(h=(u&e.childLanes)!==0,Zn||h){if(r=gn,r!==null){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|u)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ms(e,i),Gr(r,e,i,-1))}return Hp(),r=zh(Error(ae(421))),Nu(e,t,u,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=E4.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,cr=Ti(i.nextSibling),ur=t,jt=!0,zr=null,e!==null&&(Er[Sr++]=Is,Er[Sr++]=Rs,Er[Sr++]=_o,Is=e.id,Rs=e.overflow,_o=t),t=Bp(t,r.children),t.flags|=4096,t)}function hx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),H0(e.return,t,n)}function Hh(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function s2(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jn(e,t,r.children,n),r=Ft.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hx(e,n,t);else if(e.tag===19)hx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Tt(Ft,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&_d(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hh(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&_d(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hh(t,!0,n,null,a);break;case"together":Hh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ju(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function js(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),To|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,n=ki(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ki(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function d4(e,t,n){switch(t.tag){case 3:n2(t),Ka();break;case 5:Rv(t);break;case 1:er(t.type)&&vd(t);break;case 4:Rp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Tt(Ed,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Tt(Ft,Ft.current&1),t.flags|=128,null):n&t.child.childLanes?r2(e,t,n):(Tt(Ft,Ft.current&1),e=js(e,t,n),e!==null?e.sibling:null);Tt(Ft,Ft.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return s2(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Tt(Ft,Ft.current),r)break;return null;case 22:case 23:return t.lanes=0,e2(e,t,n)}return js(e,t,n)}var i2,Z0,o2,a2;i2=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Z0=function(){};o2=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,fo(gs.current);var a=null;switch(n){case"input":i=v0(e,i),r=v0(e,r),a=[];break;case"select":i=Wt({},i,{value:void 0}),r=Wt({},r,{value:void 0}),a=[];break;case"textarea":i=E0(e,i),r=E0(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=wd)}A0(n,r);var u;n=null;for(p in i)if(!r.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var h=i[p];for(u in h)h.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(ac.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var m=r[p];if(h=i!=null?i[p]:void 0,r.hasOwnProperty(p)&&m!==h&&(m!=null||h!=null))if(p==="style")if(h){for(u in h)!h.hasOwnProperty(u)||m&&m.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in m)m.hasOwnProperty(u)&&h[u]!==m[u]&&(n||(n={}),n[u]=m[u])}else n||(a||(a=[]),a.push(p,n)),n=m;else p==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,h=h?h.__html:void 0,m!=null&&h!==m&&(a=a||[]).push(p,m)):p==="children"?typeof m!="string"&&typeof m!="number"||(a=a||[]).push(p,""+m):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(ac.hasOwnProperty(p)?(m!=null&&p==="onScroll"&&Ot("scroll",e),a||h===m||(a=[])):(a=a||[]).push(p,m))}n&&(a=a||[]).push("style",n);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};a2=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ml(e,t){if(!jt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Nn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function f4(e,t,n){var r=t.pendingProps;switch(Ep(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(t),null;case 1:return er(t.type)&&yd(),Nn(t),null;case 3:return r=t.stateNode,Za(),Pt(Jn),Pt(Rn),kp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Au(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zr!==null&&(o1(zr),zr=null))),Z0(e,t),Nn(t),null;case 5:Op(t);var i=fo(yc.current);if(n=t.type,e!==null&&t.stateNode!=null)o2(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ae(166));return Nn(t),null}if(e=fo(gs.current),Au(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[us]=t,r[xc]=a,e=(t.mode&1)!==0,n){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(i=0;i<zl.length;i++)Ot(zl[i],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Cm(r,a),Ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ot("invalid",r);break;case"textarea":Sm(r,a),Ot("invalid",r)}A0(n,a),i=null;for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];u==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&Su(r.textContent,h,e),i=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&Su(r.textContent,h,e),i=["children",""+h]):ac.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&Ot("scroll",r)}switch(n){case"input":mu(r),Em(r,a,!0);break;case"textarea":mu(r),Am(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=wd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=My(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[us]=t,e[xc]=r,i2(e,t,!1,!1),t.stateNode=e;e:{switch(u=_0(n,r),n){case"dialog":Ot("cancel",e),Ot("close",e),i=r;break;case"iframe":case"object":case"embed":Ot("load",e),i=r;break;case"video":case"audio":for(i=0;i<zl.length;i++)Ot(zl[i],e);i=r;break;case"source":Ot("error",e),i=r;break;case"img":case"image":case"link":Ot("error",e),Ot("load",e),i=r;break;case"details":Ot("toggle",e),i=r;break;case"input":Cm(e,r),i=v0(e,r),Ot("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Wt({},r,{value:void 0}),Ot("invalid",e);break;case"textarea":Sm(e,r),i=E0(e,r),Ot("invalid",e);break;default:i=r}A0(n,i),h=i;for(a in h)if(h.hasOwnProperty(a)){var m=h[a];a==="style"?By(e,m):a==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&jy(e,m)):a==="children"?typeof m=="string"?(n!=="textarea"||m!=="")&&lc(e,m):typeof m=="number"&&lc(e,""+m):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ac.hasOwnProperty(a)?m!=null&&a==="onScroll"&&Ot("scroll",e):m!=null&&lp(e,a,m,u))}switch(n){case"input":mu(e),Em(e,r,!1);break;case"textarea":mu(e),Am(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Mi(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ba(e,!!r.multiple,a,!1):r.defaultValue!=null&&ba(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=wd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nn(t),null;case 6:if(e&&t.stateNode!=null)a2(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ae(166));if(n=fo(yc.current),fo(gs.current),Au(t)){if(r=t.stateNode,n=t.memoizedProps,r[us]=t,(a=r.nodeValue!==n)&&(e=ur,e!==null))switch(e.tag){case 3:Su(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Su(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[us]=t,t.stateNode=r}return Nn(t),null;case 13:if(Pt(Ft),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(jt&&cr!==null&&t.mode&1&&!(t.flags&128))Av(),Ka(),t.flags|=98560,a=!1;else if(a=Au(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ae(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ae(317));a[us]=t}else Ka(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nn(t),a=!1}else zr!==null&&(o1(zr),zr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ft.current&1?ln===0&&(ln=3):Hp())),t.updateQueue!==null&&(t.flags|=4),Nn(t),null);case 4:return Za(),Z0(e,t),e===null&&gc(t.stateNode.containerInfo),Nn(t),null;case 10:return Np(t.type._context),Nn(t),null;case 17:return er(t.type)&&yd(),Nn(t),null;case 19:if(Pt(Ft),a=t.memoizedState,a===null)return Nn(t),null;if(r=(t.flags&128)!==0,u=a.rendering,u===null)if(r)Ml(a,!1);else{if(ln!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=_d(e),u!==null){for(t.flags|=128,Ml(a,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Tt(Ft,Ft.current&1|2),t.child}e=e.sibling}a.tail!==null&&Kt()>el&&(t.flags|=128,r=!0,Ml(a,!1),t.lanes=4194304)}else{if(!r)if(e=_d(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ml(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!jt)return Nn(t),null}else 2*Kt()-a.renderingStartTime>el&&n!==1073741824&&(t.flags|=128,r=!0,Ml(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(n=a.last,n!==null?n.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Kt(),t.sibling=null,n=Ft.current,Tt(Ft,r?n&1|2:n&1),t):(Nn(t),null);case 22:case 23:return zp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?or&1073741824&&(Nn(t),t.subtreeFlags&6&&(t.flags|=8192)):Nn(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function h4(e,t){switch(Ep(t),t.tag){case 1:return er(t.type)&&yd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Za(),Pt(Jn),Pt(Rn),kp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Op(t),null;case 13:if(Pt(Ft),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));Ka()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pt(Ft),null;case 4:return Za(),null;case 10:return Np(t.type._context),null;case 22:case 23:return zp(),null;case 24:return null;default:return null}}var Tu=!1,In=!1,p4=typeof WeakSet=="function"?WeakSet:Set,Se=null;function wa(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gt(e,t,r)}else n.current=null}function J0(e,t,n){try{n()}catch(r){Gt(e,t,r)}}var px=!1;function g4(e,t){if(j0=gd,e=fv(),bp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,h=-1,m=-1,p=0,y=0,v=e,E=null;t:for(;;){for(var N;v!==n||i!==0&&v.nodeType!==3||(h=u+i),v!==a||r!==0&&v.nodeType!==3||(m=u+r),v.nodeType===3&&(u+=v.nodeValue.length),(N=v.firstChild)!==null;)E=v,v=N;for(;;){if(v===e)break t;if(E===n&&++p===i&&(h=u),E===a&&++y===r&&(m=u),(N=v.nextSibling)!==null)break;v=E,E=v.parentNode}v=N}n=h===-1||m===-1?null:{start:h,end:m}}else n=null}n=n||{start:0,end:0}}else n=null;for(L0={focusedElem:e,selectionRange:n},gd=!1,Se=t;Se!==null;)if(t=Se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Se=e;else for(;Se!==null;){t=Se;try{var P=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var T=P.memoizedProps,O=P.memoizedState,I=t.stateNode,_=I.getSnapshotBeforeUpdate(t.elementType===t.type?T:Fr(t.type,T),O);I.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(D){Gt(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,Se=e;break}Se=t.return}return P=px,px=!1,P}function ec(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&J0(t,n,a)}i=i.next}while(i!==r)}}function mf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function e1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function l2(e){var t=e.alternate;t!==null&&(e.alternate=null,l2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[us],delete t[xc],delete t[U0],delete t[Q_],delete t[Z_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function c2(e){return e.tag===5||e.tag===3||e.tag===4}function gx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||c2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function t1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wd));else if(r!==4&&(e=e.child,e!==null))for(t1(e,t,n),e=e.sibling;e!==null;)t1(e,t,n),e=e.sibling}function n1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(n1(e,t,n),e=e.sibling;e!==null;)n1(e,t,n),e=e.sibling}var vn=null,Wr=!1;function Qs(e,t,n){for(n=n.child;n!==null;)u2(e,t,n),n=n.sibling}function u2(e,t,n){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(lf,n)}catch{}switch(n.tag){case 5:In||wa(n,t);case 6:var r=vn,i=Wr;vn=null,Qs(e,t,n),vn=r,Wr=i,vn!==null&&(Wr?(e=vn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vn.removeChild(n.stateNode));break;case 18:vn!==null&&(Wr?(e=vn,n=n.stateNode,e.nodeType===8?Lh(e.parentNode,n):e.nodeType===1&&Lh(e,n),fc(e)):Lh(vn,n.stateNode));break;case 4:r=vn,i=Wr,vn=n.stateNode.containerInfo,Wr=!0,Qs(e,t,n),vn=r,Wr=i;break;case 0:case 11:case 14:case 15:if(!In&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&J0(n,t,u),i=i.next}while(i!==r)}Qs(e,t,n);break;case 1:if(!In&&(wa(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){Gt(n,t,h)}Qs(e,t,n);break;case 21:Qs(e,t,n);break;case 22:n.mode&1?(In=(r=In)||n.memoizedState!==null,Qs(e,t,n),In=r):Qs(e,t,n);break;default:Qs(e,t,n)}}function mx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new p4),t.forEach(function(r){var i=S4.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,u=t,h=u;e:for(;h!==null;){switch(h.tag){case 5:vn=h.stateNode,Wr=!1;break e;case 3:vn=h.stateNode.containerInfo,Wr=!0;break e;case 4:vn=h.stateNode.containerInfo,Wr=!0;break e}h=h.return}if(vn===null)throw Error(ae(160));u2(a,u,i),vn=null,Wr=!1;var m=i.alternate;m!==null&&(m.return=null),i.return=null}catch(p){Gt(i,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)d2(t,e),t=t.sibling}function d2(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jr(t,e),ss(e),r&4){try{ec(3,e,e.return),mf(3,e)}catch(T){Gt(e,e.return,T)}try{ec(5,e,e.return)}catch(T){Gt(e,e.return,T)}}break;case 1:jr(t,e),ss(e),r&512&&n!==null&&wa(n,n.return);break;case 5:if(jr(t,e),ss(e),r&512&&n!==null&&wa(n,n.return),e.flags&32){var i=e.stateNode;try{lc(i,"")}catch(T){Gt(e,e.return,T)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,u=n!==null?n.memoizedProps:a,h=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&Py(i,a),_0(h,u);var p=_0(h,a);for(u=0;u<m.length;u+=2){var y=m[u],v=m[u+1];y==="style"?By(i,v):y==="dangerouslySetInnerHTML"?jy(i,v):y==="children"?lc(i,v):lp(i,y,v,p)}switch(h){case"input":b0(i,a);break;case"textarea":Dy(i,a);break;case"select":var E=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var N=a.value;N!=null?ba(i,!!a.multiple,N,!1):E!==!!a.multiple&&(a.defaultValue!=null?ba(i,!!a.multiple,a.defaultValue,!0):ba(i,!!a.multiple,a.multiple?[]:"",!1))}i[xc]=a}catch(T){Gt(e,e.return,T)}}break;case 6:if(jr(t,e),ss(e),r&4){if(e.stateNode===null)throw Error(ae(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(T){Gt(e,e.return,T)}}break;case 3:if(jr(t,e),ss(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fc(t.containerInfo)}catch(T){Gt(e,e.return,T)}break;case 4:jr(t,e),ss(e);break;case 13:jr(t,e),ss(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Wp=Kt())),r&4&&mx(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(In=(p=In)||y,jr(t,e),In=p):jr(t,e),ss(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!y&&e.mode&1)for(Se=e,y=e.child;y!==null;){for(v=Se=y;Se!==null;){switch(E=Se,N=E.child,E.tag){case 0:case 11:case 14:case 15:ec(4,E,E.return);break;case 1:wa(E,E.return);var P=E.stateNode;if(typeof P.componentWillUnmount=="function"){r=E,n=E.return;try{t=r,P.props=t.memoizedProps,P.state=t.memoizedState,P.componentWillUnmount()}catch(T){Gt(r,n,T)}}break;case 5:wa(E,E.return);break;case 22:if(E.memoizedState!==null){wx(v);continue}}N!==null?(N.return=E,Se=N):wx(v)}y=y.sibling}e:for(y=null,v=e;;){if(v.tag===5){if(y===null){y=v;try{i=v.stateNode,p?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=v.stateNode,m=v.memoizedProps.style,u=m!=null&&m.hasOwnProperty("display")?m.display:null,h.style.display=Ly("display",u))}catch(T){Gt(e,e.return,T)}}}else if(v.tag===6){if(y===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(T){Gt(e,e.return,T)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;y===v&&(y=null),v=v.return}y===v&&(y=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:jr(t,e),ss(e),r&4&&mx(e);break;case 21:break;default:jr(t,e),ss(e)}}function ss(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(c2(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(lc(i,""),r.flags&=-33);var a=gx(e);n1(e,a,i);break;case 3:case 4:var u=r.stateNode.containerInfo,h=gx(e);t1(e,h,u);break;default:throw Error(ae(161))}}catch(m){Gt(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function m4(e,t,n){Se=e,f2(e)}function f2(e,t,n){for(var r=(e.mode&1)!==0;Se!==null;){var i=Se,a=i.child;if(i.tag===22&&r){var u=i.memoizedState!==null||Tu;if(!u){var h=i.alternate,m=h!==null&&h.memoizedState!==null||In;h=Tu;var p=In;if(Tu=u,(In=m)&&!p)for(Se=i;Se!==null;)u=Se,m=u.child,u.tag===22&&u.memoizedState!==null?yx(i):m!==null?(m.return=u,Se=m):yx(i);for(;a!==null;)Se=a,f2(a),a=a.sibling;Se=i,Tu=h,In=p}xx(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Se=a):xx(e)}}function xx(e){for(;Se!==null;){var t=Se;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:In||mf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!In)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Fr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&tx(t,a,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tx(t,u,n)}break;case 5:var h=t.stateNode;if(n===null&&t.flags&4){n=h;var m=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&n.focus();break;case"img":m.src&&(n.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var y=p.memoizedState;if(y!==null){var v=y.dehydrated;v!==null&&fc(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}In||t.flags&512&&e1(t)}catch(E){Gt(t,t.return,E)}}if(t===e){Se=null;break}if(n=t.sibling,n!==null){n.return=t.return,Se=n;break}Se=t.return}}function wx(e){for(;Se!==null;){var t=Se;if(t===e){Se=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Se=n;break}Se=t.return}}function yx(e){for(;Se!==null;){var t=Se;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{mf(4,t)}catch(m){Gt(t,n,m)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(m){Gt(t,i,m)}}var a=t.return;try{e1(t)}catch(m){Gt(t,a,m)}break;case 5:var u=t.return;try{e1(t)}catch(m){Gt(t,u,m)}}}catch(m){Gt(t,t.return,m)}if(t===e){Se=null;break}var h=t.sibling;if(h!==null){h.return=t.return,Se=h;break}Se=t.return}}var x4=Math.ceil,Id=Fs.ReactCurrentDispatcher,Fp=Fs.ReactCurrentOwner,_r=Fs.ReactCurrentBatchConfig,at=0,gn=null,Jt=null,bn=0,or=0,ya=Hi(0),ln=0,Ec=null,To=0,xf=0,Up=0,tc=null,Kn=null,Wp=0,el=1/0,As=null,Rd=!1,r1=null,Ri=null,Iu=!1,Ei=null,Od=0,nc=0,s1=null,ed=-1,td=0;function Ln(){return at&6?Kt():ed!==-1?ed:ed=Kt()}function Oi(e){return e.mode&1?at&2&&bn!==0?bn&-bn:e4.transition!==null?(td===0&&(td=Ky()),td):(e=xt,e!==0||(e=window.event,e=e===void 0?16:rv(e.type)),e):1}function Gr(e,t,n,r){if(50<nc)throw nc=0,s1=null,Error(ae(185));Fc(e,n,r),(!(at&2)||e!==gn)&&(e===gn&&(!(at&2)&&(xf|=n),ln===4&&di(e,bn)),tr(e,r),n===1&&at===0&&!(t.mode&1)&&(el=Kt()+500,hf&&$i()))}function tr(e,t){var n=e.callbackNode;e_(e,t);var r=pd(e,e===gn?bn:0);if(r===0)n!==null&&Tm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Tm(n),t===1)e.tag===0?J_(vx.bind(null,e)):Cv(vx.bind(null,e)),Y_(function(){!(at&6)&&$i()}),n=null;else{switch(Qy(r)){case 1:n=hp;break;case 4:n=Xy;break;case 16:n=hd;break;case 536870912:n=Yy;break;default:n=hd}n=v2(n,h2.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function h2(e,t){if(ed=-1,td=0,at&6)throw Error(ae(327));var n=e.callbackNode;if(_a()&&e.callbackNode!==n)return null;var r=pd(e,e===gn?bn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=kd(e,r);else{t=r;var i=at;at|=2;var a=g2();(gn!==e||bn!==t)&&(As=null,el=Kt()+500,vo(e,t));do try{v4();break}catch(h){p2(e,h)}while(!0);_p(),Id.current=a,at=i,Jt!==null?t=0:(gn=null,bn=0,t=ln)}if(t!==0){if(t===2&&(i=O0(e),i!==0&&(r=i,t=i1(e,i))),t===1)throw n=Ec,vo(e,0),di(e,r),tr(e,Kt()),n;if(t===6)di(e,r);else{if(i=e.current.alternate,!(r&30)&&!w4(i)&&(t=kd(e,r),t===2&&(a=O0(e),a!==0&&(r=a,t=i1(e,a))),t===1))throw n=Ec,vo(e,0),di(e,r),tr(e,Kt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ae(345));case 2:io(e,Kn,As);break;case 3:if(di(e,r),(r&130023424)===r&&(t=Wp+500-Kt(),10<t)){if(pd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ln(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=F0(io.bind(null,e,Kn,As),t);break}io(e,Kn,As);break;case 4:if(di(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-$r(r);a=1<<u,u=t[u],u>i&&(i=u),r&=~a}if(r=i,r=Kt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*x4(r/1960))-r,10<r){e.timeoutHandle=F0(io.bind(null,e,Kn,As),r);break}io(e,Kn,As);break;case 5:io(e,Kn,As);break;default:throw Error(ae(329))}}}return tr(e,Kt()),e.callbackNode===n?h2.bind(null,e):null}function i1(e,t){var n=tc;return e.current.memoizedState.isDehydrated&&(vo(e,t).flags|=256),e=kd(e,t),e!==2&&(t=Kn,Kn=n,t!==null&&o1(t)),e}function o1(e){Kn===null?Kn=e:Kn.push.apply(Kn,e)}function w4(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!qr(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function di(e,t){for(t&=~Up,t&=~xf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$r(t),r=1<<n;e[n]=-1,t&=~r}}function vx(e){if(at&6)throw Error(ae(327));_a();var t=pd(e,0);if(!(t&1))return tr(e,Kt()),null;var n=kd(e,t);if(e.tag!==0&&n===2){var r=O0(e);r!==0&&(t=r,n=i1(e,r))}if(n===1)throw n=Ec,vo(e,0),di(e,t),tr(e,Kt()),n;if(n===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,io(e,Kn,As),tr(e,Kt()),null}function Vp(e,t){var n=at;at|=1;try{return e(t)}finally{at=n,at===0&&(el=Kt()+500,hf&&$i())}}function Io(e){Ei!==null&&Ei.tag===0&&!(at&6)&&_a();var t=at;at|=1;var n=_r.transition,r=xt;try{if(_r.transition=null,xt=1,e)return e()}finally{xt=r,_r.transition=n,at=t,!(at&6)&&$i()}}function zp(){or=ya.current,Pt(ya)}function vo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,X_(n)),Jt!==null)for(n=Jt.return;n!==null;){var r=n;switch(Ep(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yd();break;case 3:Za(),Pt(Jn),Pt(Rn),kp();break;case 5:Op(r);break;case 4:Za();break;case 13:Pt(Ft);break;case 19:Pt(Ft);break;case 10:Np(r.type._context);break;case 22:case 23:zp()}n=n.return}if(gn=e,Jt=e=ki(e.current,null),bn=or=t,ln=0,Ec=null,Up=xf=To=0,Kn=tc=null,uo!==null){for(t=0;t<uo.length;t++)if(n=uo[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=i,r.next=u}n.pending=r}uo=null}return e}function p2(e,t){do{var n=Jt;try{if(_p(),Qu.current=Td,Nd){for(var r=Ut.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nd=!1}if(No=0,hn=on=Ut=null,Jl=!1,vc=0,Fp.current=null,n===null||n.return===null){ln=1,Ec=t,Jt=null;break}e:{var a=e,u=n.return,h=n,m=t;if(t=bn,h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var p=m,y=h,v=y.tag;if(!(y.mode&1)&&(v===0||v===11||v===15)){var E=y.alternate;E?(y.updateQueue=E.updateQueue,y.memoizedState=E.memoizedState,y.lanes=E.lanes):(y.updateQueue=null,y.memoizedState=null)}var N=ax(u);if(N!==null){N.flags&=-257,lx(N,u,h,a,t),N.mode&1&&ox(a,p,t),t=N,m=p;var P=t.updateQueue;if(P===null){var T=new Set;T.add(m),t.updateQueue=T}else P.add(m);break e}else{if(!(t&1)){ox(a,p,t),Hp();break e}m=Error(ae(426))}}else if(jt&&h.mode&1){var O=ax(u);if(O!==null){!(O.flags&65536)&&(O.flags|=256),lx(O,u,h,a,t),Sp(Ja(m,h));break e}}a=m=Ja(m,h),ln!==4&&(ln=2),tc===null?tc=[a]:tc.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var I=Qv(a,m,t);ex(a,I);break e;case 1:h=m;var _=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ri===null||!Ri.has(S)))){a.flags|=65536,t&=-t,a.lanes|=t;var D=Zv(a,h,t);ex(a,D);break e}}a=a.return}while(a!==null)}x2(n)}catch(W){t=W,Jt===n&&n!==null&&(Jt=n=n.return);continue}break}while(!0)}function g2(){var e=Id.current;return Id.current=Td,e===null?Td:e}function Hp(){(ln===0||ln===3||ln===2)&&(ln=4),gn===null||!(To&268435455)&&!(xf&268435455)||di(gn,bn)}function kd(e,t){var n=at;at|=2;var r=g2();(gn!==e||bn!==t)&&(As=null,vo(e,t));do try{y4();break}catch(i){p2(e,i)}while(!0);if(_p(),at=n,Id.current=r,Jt!==null)throw Error(ae(261));return gn=null,bn=0,ln}function y4(){for(;Jt!==null;)m2(Jt)}function v4(){for(;Jt!==null&&!$3();)m2(Jt)}function m2(e){var t=y2(e.alternate,e,or);e.memoizedProps=e.pendingProps,t===null?x2(e):Jt=t,Fp.current=null}function x2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=h4(n,t),n!==null){n.flags&=32767,Jt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ln=6,Jt=null;return}}else if(n=f4(n,t,or),n!==null){Jt=n;return}if(t=t.sibling,t!==null){Jt=t;return}Jt=t=e}while(t!==null);ln===0&&(ln=5)}function io(e,t,n){var r=xt,i=_r.transition;try{_r.transition=null,xt=1,b4(e,t,n,r)}finally{_r.transition=i,xt=r}return null}function b4(e,t,n,r){do _a();while(Ei!==null);if(at&6)throw Error(ae(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(t_(e,a),e===gn&&(Jt=gn=null,bn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Iu||(Iu=!0,v2(hd,function(){return _a(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=_r.transition,_r.transition=null;var u=xt;xt=1;var h=at;at|=4,Fp.current=null,g4(e,n),d2(n,e),W_(L0),gd=!!j0,L0=j0=null,e.current=n,m4(n),G3(),at=h,xt=u,_r.transition=a}else e.current=n;if(Iu&&(Iu=!1,Ei=e,Od=i),a=e.pendingLanes,a===0&&(Ri=null),Y3(n.stateNode),tr(e,Kt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Rd)throw Rd=!1,e=r1,r1=null,e;return Od&1&&e.tag!==0&&_a(),a=e.pendingLanes,a&1?e===s1?nc++:(nc=0,s1=e):nc=0,$i(),null}function _a(){if(Ei!==null){var e=Qy(Od),t=_r.transition,n=xt;try{if(_r.transition=null,xt=16>e?16:e,Ei===null)var r=!1;else{if(e=Ei,Ei=null,Od=0,at&6)throw Error(ae(331));var i=at;for(at|=4,Se=e.current;Se!==null;){var a=Se,u=a.child;if(Se.flags&16){var h=a.deletions;if(h!==null){for(var m=0;m<h.length;m++){var p=h[m];for(Se=p;Se!==null;){var y=Se;switch(y.tag){case 0:case 11:case 15:ec(8,y,a)}var v=y.child;if(v!==null)v.return=y,Se=v;else for(;Se!==null;){y=Se;var E=y.sibling,N=y.return;if(l2(y),y===p){Se=null;break}if(E!==null){E.return=N,Se=E;break}Se=N}}}var P=a.alternate;if(P!==null){var T=P.child;if(T!==null){P.child=null;do{var O=T.sibling;T.sibling=null,T=O}while(T!==null)}}Se=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,Se=u;else e:for(;Se!==null;){if(a=Se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ec(9,a,a.return)}var I=a.sibling;if(I!==null){I.return=a.return,Se=I;break e}Se=a.return}}var _=e.current;for(Se=_;Se!==null;){u=Se;var S=u.child;if(u.subtreeFlags&2064&&S!==null)S.return=u,Se=S;else e:for(u=_;Se!==null;){if(h=Se,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:mf(9,h)}}catch(W){Gt(h,h.return,W)}if(h===u){Se=null;break e}var D=h.sibling;if(D!==null){D.return=h.return,Se=D;break e}Se=h.return}}if(at=i,$i(),ps&&typeof ps.onPostCommitFiberRoot=="function")try{ps.onPostCommitFiberRoot(lf,e)}catch{}r=!0}return r}finally{xt=n,_r.transition=t}}return!1}function bx(e,t,n){t=Ja(n,t),t=Qv(e,t,1),e=Ii(e,t,1),t=Ln(),e!==null&&(Fc(e,1,t),tr(e,t))}function Gt(e,t,n){if(e.tag===3)bx(e,e,n);else for(;t!==null;){if(t.tag===3){bx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ri===null||!Ri.has(r))){e=Ja(n,e),e=Zv(t,e,1),t=Ii(t,e,1),e=Ln(),t!==null&&(Fc(t,1,e),tr(t,e));break}}t=t.return}}function C4(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ln(),e.pingedLanes|=e.suspendedLanes&n,gn===e&&(bn&n)===n&&(ln===4||ln===3&&(bn&130023424)===bn&&500>Kt()-Wp?vo(e,0):Up|=n),tr(e,t)}function w2(e,t){t===0&&(e.mode&1?(t=yu,yu<<=1,!(yu&130023424)&&(yu=4194304)):t=1);var n=Ln();e=Ms(e,t),e!==null&&(Fc(e,t,n),tr(e,n))}function E4(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),w2(e,n)}function S4(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(t),w2(e,n)}var y2;y2=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Jn.current)Zn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Zn=!1,d4(e,t,n);Zn=!!(e.flags&131072)}else Zn=!1,jt&&t.flags&1048576&&Ev(t,Cd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ju(e,t),e=t.pendingProps;var i=Ya(t,Rn.current);Aa(t,n),i=Dp(null,t,r,e,i,n);var a=Mp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,er(r)?(a=!0,vd(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ip(t),i.updater=gf,t.stateNode=i,i._reactInternals=t,G0(t,r,e,n),t=Y0(null,t,r,!0,a,n)):(t.tag=0,jt&&a&&Cp(t),jn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ju(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=_4(r),e=Fr(r,e),i){case 0:t=X0(null,t,r,e,n);break e;case 1:t=dx(null,t,r,e,n);break e;case 11:t=cx(null,t,r,e,n);break e;case 14:t=ux(null,t,r,Fr(r.type,e),n);break e}throw Error(ae(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fr(r,i),X0(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fr(r,i),dx(e,t,r,i,n);case 3:e:{if(n2(t),e===null)throw Error(ae(387));r=t.pendingProps,a=t.memoizedState,i=a.element,Iv(e,t),Ad(t,r,null,n);var u=t.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Ja(Error(ae(423)),t),t=fx(e,t,r,n,i);break e}else if(r!==i){i=Ja(Error(ae(424)),t),t=fx(e,t,r,n,i);break e}else for(cr=Ti(t.stateNode.containerInfo.firstChild),ur=t,jt=!0,zr=null,n=Nv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ka(),r===i){t=js(e,t,n);break e}jn(e,t,r,n)}t=t.child}return t;case 5:return Rv(t),e===null&&z0(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,u=i.children,B0(r,i)?u=null:a!==null&&B0(r,a)&&(t.flags|=32),t2(e,t),jn(e,t,u,n),t.child;case 6:return e===null&&z0(t),null;case 13:return r2(e,t,n);case 4:return Rp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qa(t,null,r,n):jn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fr(r,i),cx(e,t,r,i,n);case 7:return jn(e,t,t.pendingProps,n),t.child;case 8:return jn(e,t,t.pendingProps.children,n),t.child;case 12:return jn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,u=i.value,Tt(Ed,r._currentValue),r._currentValue=u,a!==null)if(qr(a.value,u)){if(a.children===i.children&&!Jn.current){t=js(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var h=a.dependencies;if(h!==null){u=a.child;for(var m=h.firstContext;m!==null;){if(m.context===r){if(a.tag===1){m=Os(-1,n&-n),m.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var y=p.pending;y===null?m.next=m:(m.next=y.next,y.next=m),p.pending=m}}a.lanes|=n,m=a.alternate,m!==null&&(m.lanes|=n),H0(a.return,n,t),h.lanes|=n;break}m=m.next}}else if(a.tag===10)u=a.type===t.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(ae(341));u.lanes|=n,h=u.alternate,h!==null&&(h.lanes|=n),H0(u,n,t),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}jn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Aa(t,n),i=Nr(i),r=r(i),t.flags|=1,jn(e,t,r,n),t.child;case 14:return r=t.type,i=Fr(r,t.pendingProps),i=Fr(r.type,i),ux(e,t,r,i,n);case 15:return Jv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fr(r,i),Ju(e,t),t.tag=1,er(r)?(e=!0,vd(t)):e=!1,Aa(t,n),Kv(t,r,i),G0(t,r,i,n),Y0(null,t,r,!0,e,n);case 19:return s2(e,t,n);case 22:return e2(e,t,n)}throw Error(ae(156,t.tag))};function v2(e,t){return qy(e,t)}function A4(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(e,t,n,r){return new A4(e,t,n,r)}function $p(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _4(e){if(typeof e=="function")return $p(e)?1:0;if(e!=null){if(e=e.$$typeof,e===up)return 11;if(e===dp)return 14}return 2}function ki(e,t){var n=e.alternate;return n===null?(n=Ar(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nd(e,t,n,r,i,a){var u=2;if(r=e,typeof e=="function")$p(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case ca:return bo(n.children,i,a,t);case cp:u=8,i|=8;break;case m0:return e=Ar(12,n,t,i|2),e.elementType=m0,e.lanes=a,e;case x0:return e=Ar(13,n,t,i),e.elementType=x0,e.lanes=a,e;case w0:return e=Ar(19,n,t,i),e.elementType=w0,e.lanes=a,e;case Ry:return wf(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ty:u=10;break e;case Iy:u=9;break e;case up:u=11;break e;case dp:u=14;break e;case ai:u=16,r=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=Ar(u,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function bo(e,t,n,r){return e=Ar(7,e,r,t),e.lanes=n,e}function wf(e,t,n,r){return e=Ar(22,e,r,t),e.elementType=Ry,e.lanes=n,e.stateNode={isHidden:!1},e}function $h(e,t,n){return e=Ar(6,e,null,t),e.lanes=n,e}function Gh(e,t,n){return t=Ar(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function N4(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_h(0),this.expirationTimes=_h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_h(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gp(e,t,n,r,i,a,u,h,m){return e=new N4(e,t,n,h,m),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ar(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ip(a),e}function T4(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:la,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function b2(e){if(!e)return ji;e=e._reactInternals;e:{if(Fo(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(er(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var n=e.type;if(er(n))return bv(e,n,t)}return t}function C2(e,t,n,r,i,a,u,h,m){return e=Gp(n,r,!0,e,i,a,u,h,m),e.context=b2(null),n=e.current,r=Ln(),i=Oi(n),a=Os(r,i),a.callback=t??null,Ii(n,a,i),e.current.lanes=i,Fc(e,i,r),tr(e,r),e}function yf(e,t,n,r){var i=t.current,a=Ln(),u=Oi(i);return n=b2(n),t.context===null?t.context=n:t.pendingContext=n,t=Os(a,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ii(i,t,u),e!==null&&(Gr(e,i,u,a),Ku(e,i,u)),u}function Pd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qp(e,t){Cx(e,t),(e=e.alternate)&&Cx(e,t)}function I4(){return null}var E2=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xp(e){this._internalRoot=e}vf.prototype.render=Xp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));yf(e,t,null,null)};vf.prototype.unmount=Xp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Io(function(){yf(null,e,null,null)}),t[Ds]=null}};function vf(e){this._internalRoot=e}vf.prototype.unstable_scheduleHydration=function(e){if(e){var t=ev();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ui.length&&t!==0&&t<ui[n].priority;n++);ui.splice(n,0,e),n===0&&nv(e)}};function Yp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ex(){}function R4(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var p=Pd(u);a.call(p)}}var u=C2(t,r,e,0,null,!1,!1,"",Ex);return e._reactRootContainer=u,e[Ds]=u.current,gc(e.nodeType===8?e.parentNode:e),Io(),u}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var h=r;r=function(){var p=Pd(m);h.call(p)}}var m=Gp(e,0,!1,null,null,!1,!1,"",Ex);return e._reactRootContainer=m,e[Ds]=m.current,gc(e.nodeType===8?e.parentNode:e),Io(function(){yf(t,m,n,r)}),m}function Cf(e,t,n,r,i){var a=n._reactRootContainer;if(a){var u=a;if(typeof i=="function"){var h=i;i=function(){var m=Pd(u);h.call(m)}}yf(t,u,e,i)}else u=R4(n,t,e,i,r);return Pd(u)}Zy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Vl(t.pendingLanes);n!==0&&(pp(t,n|1),tr(t,Kt()),!(at&6)&&(el=Kt()+500,$i()))}break;case 13:Io(function(){var r=Ms(e,1);if(r!==null){var i=Ln();Gr(r,e,1,i)}}),qp(e,1)}};gp=function(e){if(e.tag===13){var t=Ms(e,134217728);if(t!==null){var n=Ln();Gr(t,e,134217728,n)}qp(e,134217728)}};Jy=function(e){if(e.tag===13){var t=Oi(e),n=Ms(e,t);if(n!==null){var r=Ln();Gr(n,e,t,r)}qp(e,t)}};ev=function(){return xt};tv=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}};T0=function(e,t,n){switch(t){case"input":if(b0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ff(r);if(!i)throw Error(ae(90));ky(r),b0(r,i)}}}break;case"textarea":Dy(e,n);break;case"select":t=n.value,t!=null&&ba(e,!!n.multiple,t,!1)}};Wy=Vp;Vy=Io;var O4={usingClientEntryPoint:!1,Events:[Wc,ha,ff,Fy,Uy,Vp]},jl={findFiberByHostInstance:co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k4={bundleType:jl.bundleType,version:jl.version,rendererPackageName:jl.rendererPackageName,rendererConfig:jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$y(e),e===null?null:e.stateNode},findFiberByHostInstance:jl.findFiberByHostInstance||I4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{lf=Ru.inject(k4),ps=Ru}catch{}}hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O4;hr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yp(t))throw Error(ae(200));return T4(e,t,null,n)};hr.createRoot=function(e,t){if(!Yp(e))throw Error(ae(299));var n=!1,r="",i=E2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Gp(e,1,!1,null,null,n,!1,r,i),e[Ds]=t.current,gc(e.nodeType===8?e.parentNode:e),new Xp(t)};hr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=$y(t),e=e===null?null:e.stateNode,e};hr.flushSync=function(e){return Io(e)};hr.hydrate=function(e,t,n){if(!bf(t))throw Error(ae(200));return Cf(null,e,t,!0,n)};hr.hydrateRoot=function(e,t,n){if(!Yp(e))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",u=E2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=C2(t,null,e,1,n??null,i,!1,a,u),e[Ds]=t.current,gc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new vf(t)};hr.render=function(e,t,n){if(!bf(t))throw Error(ae(200));return Cf(null,e,t,!1,n)};hr.unmountComponentAtNode=function(e){if(!bf(e))throw Error(ae(40));return e._reactRootContainer?(Io(function(){Cf(null,null,e,!1,function(){e._reactRootContainer=null,e[Ds]=null})}),!0):!1};hr.unstable_batchedUpdates=Vp;hr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bf(n))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return Cf(e,t,n,!1,r)};hr.version="18.3.1-next-f1338f8080-20240426";function S2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S2)}catch(e){console.error(e)}}S2(),Sy.exports=hr;var Uo=Sy.exports;const P4=of(Uo);var A2,Sx=Uo;A2=Sx.createRoot,Sx.hydrateRoot;var ll=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ro=typeof window>"u"||"Deno"in globalThis;function Cr(){}function D4(e,t){return typeof e=="function"?e(t):e}function a1(e){return typeof e=="number"&&e>=0&&e!==1/0}function _2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Na(e,t){return typeof e=="function"?e(t):e}function Hr(e,t){return typeof e=="function"?e(t):e}function Ax(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:u,stale:h}=e;if(u){if(r){if(t.queryHash!==Kp(u,t.options))return!1}else if(!Sc(t.queryKey,u))return!1}if(n!=="all"){const m=t.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof h=="boolean"&&t.isStale()!==h||i&&i!==t.state.fetchStatus||a&&!a(t))}function _x(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Oo(t.options.mutationKey)!==Oo(a))return!1}else if(!Sc(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Kp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Oo)(e)}function Oo(e){return JSON.stringify(e,(t,n)=>l1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Sc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Sc(e[n],t[n])):!1}function N2(e,t){if(e===t)return e;const n=Nx(e)&&Nx(t);if(n||l1(e)&&l1(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),u=a.length,h=n?[]:{};let m=0;for(let p=0;p<u;p++){const y=n?p:a[p];(!n&&r.includes(y)||n)&&e[y]===void 0&&t[y]===void 0?(h[y]=void 0,m++):(h[y]=N2(e[y],t[y]),h[y]===e[y]&&e[y]!==void 0&&m++)}return i===u&&m===i?e:h}return t}function Dd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Nx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function l1(e){if(!Tx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Tx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Tx(e){return Object.prototype.toString.call(e)==="[object Object]"}function M4(e){return new Promise(t=>{setTimeout(t,e)})}function c1(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?N2(e,t):t}function j4(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function L4(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Qp=Symbol();function T2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Qp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ho,hi,Ma,ty,B4=(ty=class extends ll{constructor(){super();Le(this,ho);Le(this,hi);Le(this,Ma);ye(this,Ma,t=>{if(!Ro&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,hi)||this.setEventListener($(this,Ma))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,hi))==null||t.call(this),ye(this,hi,void 0))}setEventListener(t){var n;ye(this,Ma,t),(n=$(this,hi))==null||n.call(this),ye(this,hi,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){$(this,ho)!==t&&(ye(this,ho,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof $(this,ho)=="boolean"?$(this,ho):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ho=new WeakMap,hi=new WeakMap,Ma=new WeakMap,ty),Zp=new B4,ja,pi,La,ny,F4=(ny=class extends ll{constructor(){super();Le(this,ja,!0);Le(this,pi);Le(this,La);ye(this,La,t=>{if(!Ro&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,pi)||this.setEventListener($(this,La))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,pi))==null||t.call(this),ye(this,pi,void 0))}setEventListener(t){var n;ye(this,La,t),(n=$(this,pi))==null||n.call(this),ye(this,pi,t(this.setOnline.bind(this)))}setOnline(t){$(this,ja)!==t&&(ye(this,ja,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return $(this,ja)}},ja=new WeakMap,pi=new WeakMap,La=new WeakMap,ny),Md=new F4;function u1(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function U4(e){return Math.min(1e3*2**e,3e4)}function I2(e){return(e??"online")==="online"?Md.isOnline():!0}var R2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function qh(e){return e instanceof R2}function O2(e){let t=!1,n=0,r=!1,i;const a=u1(),u=T=>{var O;r||(E(new R2(T)),(O=e.abort)==null||O.call(e))},h=()=>{t=!0},m=()=>{t=!1},p=()=>Zp.isFocused()&&(e.networkMode==="always"||Md.isOnline())&&e.canRun(),y=()=>I2(e.networkMode)&&e.canRun(),v=T=>{var O;r||(r=!0,(O=e.onSuccess)==null||O.call(e,T),i==null||i(),a.resolve(T))},E=T=>{var O;r||(r=!0,(O=e.onError)==null||O.call(e,T),i==null||i(),a.reject(T))},N=()=>new Promise(T=>{var O;i=I=>{(r||p())&&T(I)},(O=e.onPause)==null||O.call(e)}).then(()=>{var T;i=void 0,r||(T=e.onContinue)==null||T.call(e)}),P=()=>{if(r)return;let T;const O=n===0?e.initialPromise:void 0;try{T=O??e.fn()}catch(I){T=Promise.reject(I)}Promise.resolve(T).then(v).catch(I=>{var V;if(r)return;const _=e.retry??(Ro?0:3),S=e.retryDelay??U4,D=typeof S=="function"?S(n,I):S,W=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,I);if(t||!W){E(I);return}n++,(V=e.onFail)==null||V.call(e,n,I),M4(D).then(()=>p()?void 0:N()).then(()=>{t?E(I):P()})})};return{promise:a,cancel:u,continue:()=>(i==null||i(),a),cancelRetry:h,continueRetry:m,canStart:y,start:()=>(y()?P():N().then(P),a)}}function W4(){let e=[],t=0,n=h=>{h()},r=h=>{h()},i=h=>setTimeout(h,0);const a=h=>{t?e.push(h):i(()=>{n(h)})},u=()=>{const h=e;e=[],h.length&&i(()=>{r(()=>{h.forEach(m=>{n(m)})})})};return{batch:h=>{let m;t++;try{m=h()}finally{t--,t||u()}return m},batchCalls:h=>(...m)=>{a(()=>{h(...m)})},schedule:a,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{i=h}}}var an=W4(),po,ry,k2=(ry=class{constructor(){Le(this,po)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),a1(this.gcTime)&&ye(this,po,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ro?1/0:5*60*1e3))}clearGcTimeout(){$(this,po)&&(clearTimeout($(this,po)),ye(this,po,void 0))}},po=new WeakMap,ry),Ba,Fa,br,Tn,Dc,go,Ur,Cs,sy,V4=(sy=class extends k2{constructor(t){super();Le(this,Ur);Le(this,Ba);Le(this,Fa);Le(this,br);Le(this,Tn);Le(this,Dc);Le(this,go);ye(this,go,!1),ye(this,Dc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,br,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,Ba,z4(this.options)),this.state=t.state??$(this,Ba),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=$(this,Tn))==null?void 0:t.promise}setOptions(t){this.options={...$(this,Dc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,br).remove(this)}setData(t,n){const r=c1(this.state.data,t,this.options);return Ke(this,Ur,Cs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ke(this,Ur,Cs).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=$(this,Tn))==null?void 0:r.promise;return(i=$(this,Tn))==null||i.cancel(t),n?n.then(Cr).catch(Cr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Ba))}isActive(){return this.observers.some(t=>Hr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!_2(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=$(this,Tn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=$(this,Tn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),$(this,br).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||($(this,Tn)&&($(this,go)?$(this,Tn).cancel({revert:!0}):$(this,Tn).cancelRetry()),this.scheduleGc()),$(this,br).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ke(this,Ur,Cs).call(this,{type:"invalidate"})}fetch(t,n){var m,p,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if($(this,Tn))return $(this,Tn).continueRetry(),$(this,Tn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const v=this.observers.find(E=>E.options.queryFn);v&&this.setOptions(v.options)}const r=new AbortController,i=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(ye(this,go,!0),r.signal)})},a=()=>{const v=T2(this.options,n),E={queryKey:this.queryKey,meta:this.meta};return i(E),ye(this,go,!1),this.options.persister?this.options.persister(v,E,this):v(E)},u={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(u),(m=this.options.behavior)==null||m.onFetch(u,this),ye(this,Fa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&Ke(this,Ur,Cs).call(this,{type:"fetch",meta:(y=u.fetchOptions)==null?void 0:y.meta});const h=v=>{var E,N,P,T;qh(v)&&v.silent||Ke(this,Ur,Cs).call(this,{type:"error",error:v}),qh(v)||((N=(E=$(this,br).config).onError)==null||N.call(E,v,this),(T=(P=$(this,br).config).onSettled)==null||T.call(P,this.state.data,v,this)),this.scheduleGc()};return ye(this,Tn,O2({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:v=>{var E,N,P,T;if(v===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(O){h(O);return}(N=(E=$(this,br).config).onSuccess)==null||N.call(E,v,this),(T=(P=$(this,br).config).onSettled)==null||T.call(P,v,this.state.error,this),this.scheduleGc()},onError:h,onFail:(v,E)=>{Ke(this,Ur,Cs).call(this,{type:"failed",failureCount:v,error:E})},onPause:()=>{Ke(this,Ur,Cs).call(this,{type:"pause"})},onContinue:()=>{Ke(this,Ur,Cs).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),$(this,Tn).start()}},Ba=new WeakMap,Fa=new WeakMap,br=new WeakMap,Tn=new WeakMap,Dc=new WeakMap,go=new WeakMap,Ur=new WeakSet,Cs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...P2(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return qh(i)&&i.revert&&$(this,Fa)?{...$(this,Fa),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),an.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),$(this,br).notify({query:this,type:"updated",action:t})})},sy);function P2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:I2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function z4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var os,iy,H4=(iy=class extends ll{constructor(t={}){super();Le(this,os);this.config=t,ye(this,os,new Map)}build(t,n,r){const i=n.queryKey,a=n.queryHash??Kp(i,n);let u=this.get(a);return u||(u=new V4({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(u)),u}add(t){$(this,os).has(t.queryHash)||($(this,os).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=$(this,os).get(t.queryHash);n&&(t.destroy(),n===t&&$(this,os).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){an.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return $(this,os).get(t)}getAll(){return[...$(this,os).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Ax(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Ax(t,r)):n}notify(t){an.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){an.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){an.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},os=new WeakMap,iy),as,Dn,mo,ls,si,oy,$4=(oy=class extends k2{constructor(t){super();Le(this,ls);Le(this,as);Le(this,Dn);Le(this,mo);this.mutationId=t.mutationId,ye(this,Dn,t.mutationCache),ye(this,as,[]),this.state=t.state||D2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){$(this,as).includes(t)||($(this,as).push(t),this.clearGcTimeout(),$(this,Dn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,as,$(this,as).filter(n=>n!==t)),this.scheduleGc(),$(this,Dn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){$(this,as).length||(this.state.status==="pending"?this.scheduleGc():$(this,Dn).remove(this))}continue(){var t;return((t=$(this,mo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,u,h,m,p,y,v,E,N,P,T,O,I,_,S,D,W,V,F;ye(this,mo,O2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(L,M)=>{Ke(this,ls,si).call(this,{type:"failed",failureCount:L,error:M})},onPause:()=>{Ke(this,ls,si).call(this,{type:"pause"})},onContinue:()=>{Ke(this,ls,si).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Dn).canRun(this)}));const n=this.state.status==="pending",r=!$(this,mo).canStart();try{if(!n){Ke(this,ls,si).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(i=$(this,Dn).config).onMutate)==null?void 0:a.call(i,t,this));const M=await((h=(u=this.options).onMutate)==null?void 0:h.call(u,t));M!==this.state.context&&Ke(this,ls,si).call(this,{type:"pending",context:M,variables:t,isPaused:r})}const L=await $(this,mo).start();return await((p=(m=$(this,Dn).config).onSuccess)==null?void 0:p.call(m,L,t,this.state.context,this)),await((v=(y=this.options).onSuccess)==null?void 0:v.call(y,L,t,this.state.context)),await((N=(E=$(this,Dn).config).onSettled)==null?void 0:N.call(E,L,null,this.state.variables,this.state.context,this)),await((T=(P=this.options).onSettled)==null?void 0:T.call(P,L,null,t,this.state.context)),Ke(this,ls,si).call(this,{type:"success",data:L}),L}catch(L){try{throw await((I=(O=$(this,Dn).config).onError)==null?void 0:I.call(O,L,t,this.state.context,this)),await((S=(_=this.options).onError)==null?void 0:S.call(_,L,t,this.state.context)),await((W=(D=$(this,Dn).config).onSettled)==null?void 0:W.call(D,void 0,L,this.state.variables,this.state.context,this)),await((F=(V=this.options).onSettled)==null?void 0:F.call(V,void 0,L,t,this.state.context)),L}finally{Ke(this,ls,si).call(this,{type:"error",error:L})}}finally{$(this,Dn).runNext(this)}}},as=new WeakMap,Dn=new WeakMap,mo=new WeakMap,ls=new WeakSet,si=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),an.batch(()=>{$(this,as).forEach(r=>{r.onMutationUpdate(t)}),$(this,Dn).notify({mutation:this,type:"updated",action:t})})},oy);function D2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ir,Mc,ay,G4=(ay=class extends ll{constructor(t={}){super();Le(this,ir);Le(this,Mc);this.config=t,ye(this,ir,new Map),ye(this,Mc,Date.now())}build(t,n,r){const i=new $4({mutationCache:this,mutationId:++hu(this,Mc)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=Ou(t),r=$(this,ir).get(n)??[];r.push(t),$(this,ir).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Ou(t);if($(this,ir).has(n)){const i=(r=$(this,ir).get(n))==null?void 0:r.filter(a=>a!==t);i&&(i.length===0?$(this,ir).delete(n):$(this,ir).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=$(this,ir).get(Ou(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=$(this,ir).get(Ou(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){an.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...$(this,ir).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>_x(n,r))}findAll(t={}){return this.getAll().filter(n=>_x(t,n))}notify(t){an.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return an.batch(()=>Promise.all(t.map(n=>n.continue().catch(Cr))))}},ir=new WeakMap,Mc=new WeakMap,ay);function Ou(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Ix(e){return{onFetch:(t,n)=>{var y,v,E,N,P;const r=t.options,i=(E=(v=(y=t.fetchOptions)==null?void 0:y.meta)==null?void 0:v.fetchMore)==null?void 0:E.direction,a=((N=t.state.data)==null?void 0:N.pages)||[],u=((P=t.state.data)==null?void 0:P.pageParams)||[];let h={pages:[],pageParams:[]},m=0;const p=async()=>{let T=!1;const O=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?T=!0:t.signal.addEventListener("abort",()=>{T=!0}),t.signal)})},I=T2(t.options,t.fetchOptions),_=async(S,D,W)=>{if(T)return Promise.reject();if(D==null&&S.pages.length)return Promise.resolve(S);const V={queryKey:t.queryKey,pageParam:D,direction:W?"backward":"forward",meta:t.options.meta};O(V);const F=await I(V),{maxPages:L}=t.options,M=W?L4:j4;return{pages:M(S.pages,F,L),pageParams:M(S.pageParams,D,L)}};if(i&&a.length){const S=i==="backward",D=S?q4:Rx,W={pages:a,pageParams:u},V=D(r,W);h=await _(W,V,S)}else{const S=e??a.length;do{const D=m===0?u[0]??r.initialPageParam:Rx(r,h);if(m>0&&D==null)break;h=await _(h,D),m++}while(m<S)}return h};t.options.persister?t.fetchFn=()=>{var T,O;return(O=(T=t.options).persister)==null?void 0:O.call(T,p,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function Rx(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function q4(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var $t,gi,mi,Ua,Wa,xi,Va,za,ly,X4=(ly=class{constructor(e={}){Le(this,$t);Le(this,gi);Le(this,mi);Le(this,Ua);Le(this,Wa);Le(this,xi);Le(this,Va);Le(this,za);ye(this,$t,e.queryCache||new H4),ye(this,gi,e.mutationCache||new G4),ye(this,mi,e.defaultOptions||{}),ye(this,Ua,new Map),ye(this,Wa,new Map),ye(this,xi,0)}mount(){hu(this,xi)._++,$(this,xi)===1&&(ye(this,Va,Zp.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,$t).onFocus())})),ye(this,za,Md.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,$t).onOnline())})))}unmount(){var e,t;hu(this,xi)._--,$(this,xi)===0&&((e=$(this,Va))==null||e.call(this),ye(this,Va,void 0),(t=$(this,za))==null||t.call(this),ye(this,za,void 0))}isFetching(e){return $(this,$t).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return $(this,gi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=$(this,$t).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=$(this,$t).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Na(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return $(this,$t).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=$(this,$t).get(r.queryHash),a=i==null?void 0:i.state.data,u=D4(t,a);if(u!==void 0)return $(this,$t).build(this,r).setData(u,{...n,manual:!0})}setQueriesData(e,t,n){return an.batch(()=>$(this,$t).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=$(this,$t).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=$(this,$t);an.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=$(this,$t),r={type:"active",...e};return an.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=an.batch(()=>$(this,$t).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Cr).catch(Cr)}invalidateQueries(e={},t={}){return an.batch(()=>{if($(this,$t).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=an.batch(()=>$(this,$t).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Cr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Cr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=$(this,$t).build(this,t);return n.isStaleByTime(Na(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Cr).catch(Cr)}fetchInfiniteQuery(e){return e.behavior=Ix(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Cr).catch(Cr)}ensureInfiniteQueryData(e){return e.behavior=Ix(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Md.isOnline()?$(this,gi).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,$t)}getMutationCache(){return $(this,gi)}getDefaultOptions(){return $(this,mi)}setDefaultOptions(e){ye(this,mi,e)}setQueryDefaults(e,t){$(this,Ua).set(Oo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...$(this,Ua).values()];let n={};return t.forEach(r=>{Sc(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){$(this,Wa).set(Oo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...$(this,Wa).values()];let n={};return t.forEach(r=>{Sc(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...$(this,mi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Kp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Qp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...$(this,mi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){$(this,$t).clear(),$(this,gi).clear()}},$t=new WeakMap,gi=new WeakMap,mi=new WeakMap,Ua=new WeakMap,Wa=new WeakMap,xi=new WeakMap,Va=new WeakMap,za=new WeakMap,ly),Xn,st,jc,Mn,xo,Ha,wi,cs,Lc,$a,Ga,wo,yo,yi,qa,gt,Hl,d1,f1,h1,p1,g1,m1,x1,M2,cy,Y4=(cy=class extends ll{constructor(t,n){super();Le(this,gt);Le(this,Xn);Le(this,st);Le(this,jc);Le(this,Mn);Le(this,xo);Le(this,Ha);Le(this,wi);Le(this,cs);Le(this,Lc);Le(this,$a);Le(this,Ga);Le(this,wo);Le(this,yo);Le(this,yi);Le(this,qa,new Set);this.options=n,ye(this,Xn,t),ye(this,cs,null),ye(this,wi,u1()),this.options.experimental_prefetchInRender||$(this,wi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,st).addObserver(this),Ox($(this,st),this.options)?Ke(this,gt,Hl).call(this):this.updateResult(),Ke(this,gt,p1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return w1($(this,st),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return w1($(this,st),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ke(this,gt,g1).call(this),Ke(this,gt,m1).call(this),$(this,st).removeObserver(this)}setOptions(t,n){const r=this.options,i=$(this,st);if(this.options=$(this,Xn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Hr(this.options.enabled,$(this,st))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ke(this,gt,x1).call(this),$(this,st).setOptions(this.options),r._defaulted&&!Dd(this.options,r)&&$(this,Xn).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,st),observer:this});const a=this.hasListeners();a&&kx($(this,st),i,this.options,r)&&Ke(this,gt,Hl).call(this),this.updateResult(n),a&&($(this,st)!==i||Hr(this.options.enabled,$(this,st))!==Hr(r.enabled,$(this,st))||Na(this.options.staleTime,$(this,st))!==Na(r.staleTime,$(this,st)))&&Ke(this,gt,d1).call(this);const u=Ke(this,gt,f1).call(this);a&&($(this,st)!==i||Hr(this.options.enabled,$(this,st))!==Hr(r.enabled,$(this,st))||u!==$(this,yi))&&Ke(this,gt,h1).call(this,u)}getOptimisticResult(t){const n=$(this,Xn).getQueryCache().build($(this,Xn),t),r=this.createResult(n,t);return Q4(this,r)&&(ye(this,Mn,r),ye(this,Ha,this.options),ye(this,xo,$(this,st).state)),r}getCurrentResult(){return $(this,Mn)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){$(this,qa).add(t)}getCurrentQuery(){return $(this,st)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=$(this,Xn).defaultQueryOptions(t),r=$(this,Xn).getQueryCache().build($(this,Xn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Ke(this,gt,Hl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,Mn)))}createResult(t,n){var L;const r=$(this,st),i=this.options,a=$(this,Mn),u=$(this,xo),h=$(this,Ha),p=t!==r?t.state:$(this,jc),{state:y}=t;let v={...y},E=!1,N;if(n._optimisticResults){const M=this.hasListeners(),H=!M&&Ox(t,n),ee=M&&kx(t,r,n,i);(H||ee)&&(v={...v,...P2(y.data,t.options)}),n._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:P,errorUpdatedAt:T,status:O}=v;if(n.select&&v.data!==void 0)if(a&&v.data===(u==null?void 0:u.data)&&n.select===$(this,Lc))N=$(this,$a);else try{ye(this,Lc,n.select),N=n.select(v.data),N=c1(a==null?void 0:a.data,N,n),ye(this,$a,N),ye(this,cs,null)}catch(M){ye(this,cs,M)}else N=v.data;if(n.placeholderData!==void 0&&N===void 0&&O==="pending"){let M;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(h==null?void 0:h.placeholderData))M=a.data;else if(M=typeof n.placeholderData=="function"?n.placeholderData((L=$(this,Ga))==null?void 0:L.state.data,$(this,Ga)):n.placeholderData,n.select&&M!==void 0)try{M=n.select(M),ye(this,cs,null)}catch(H){ye(this,cs,H)}M!==void 0&&(O="success",N=c1(a==null?void 0:a.data,M,n),E=!0)}$(this,cs)&&(P=$(this,cs),N=$(this,$a),T=Date.now(),O="error");const I=v.fetchStatus==="fetching",_=O==="pending",S=O==="error",D=_&&I,W=N!==void 0,F={status:O,fetchStatus:v.fetchStatus,isPending:_,isSuccess:O==="success",isError:S,isInitialLoading:D,isLoading:D,data:N,dataUpdatedAt:v.dataUpdatedAt,error:P,errorUpdatedAt:T,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>p.dataUpdateCount||v.errorUpdateCount>p.errorUpdateCount,isFetching:I,isRefetching:I&&!_,isLoadingError:S&&!W,isPaused:v.fetchStatus==="paused",isPlaceholderData:E,isRefetchError:S&&W,isStale:Jp(t,n),refetch:this.refetch,promise:$(this,wi)};if(this.options.experimental_prefetchInRender){const M=q=>{F.status==="error"?q.reject(F.error):F.data!==void 0&&q.resolve(F.data)},H=()=>{const q=ye(this,wi,F.promise=u1());M(q)},ee=$(this,wi);switch(ee.status){case"pending":t.queryHash===r.queryHash&&M(ee);break;case"fulfilled":(F.status==="error"||F.data!==ee.value)&&H();break;case"rejected":(F.status!=="error"||F.error!==ee.reason)&&H();break}}return F}updateResult(t){const n=$(this,Mn),r=this.createResult($(this,st),this.options);if(ye(this,xo,$(this,st).state),ye(this,Ha,this.options),$(this,xo).data!==void 0&&ye(this,Ga,$(this,st)),Dd(r,n))return;ye(this,Mn,r);const i={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:u}=this.options,h=typeof u=="function"?u():u;if(h==="all"||!h&&!$(this,qa).size)return!0;const m=new Set(h??$(this,qa));return this.options.throwOnError&&m.add("error"),Object.keys($(this,Mn)).some(p=>{const y=p;return $(this,Mn)[y]!==n[y]&&m.has(y)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),Ke(this,gt,M2).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ke(this,gt,p1).call(this)}},Xn=new WeakMap,st=new WeakMap,jc=new WeakMap,Mn=new WeakMap,xo=new WeakMap,Ha=new WeakMap,wi=new WeakMap,cs=new WeakMap,Lc=new WeakMap,$a=new WeakMap,Ga=new WeakMap,wo=new WeakMap,yo=new WeakMap,yi=new WeakMap,qa=new WeakMap,gt=new WeakSet,Hl=function(t){Ke(this,gt,x1).call(this);let n=$(this,st).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Cr)),n},d1=function(){Ke(this,gt,g1).call(this);const t=Na(this.options.staleTime,$(this,st));if(Ro||$(this,Mn).isStale||!a1(t))return;const r=_2($(this,Mn).dataUpdatedAt,t)+1;ye(this,wo,setTimeout(()=>{$(this,Mn).isStale||this.updateResult()},r))},f1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,st)):this.options.refetchInterval)??!1},h1=function(t){Ke(this,gt,m1).call(this),ye(this,yi,t),!(Ro||Hr(this.options.enabled,$(this,st))===!1||!a1($(this,yi))||$(this,yi)===0)&&ye(this,yo,setInterval(()=>{(this.options.refetchIntervalInBackground||Zp.isFocused())&&Ke(this,gt,Hl).call(this)},$(this,yi)))},p1=function(){Ke(this,gt,d1).call(this),Ke(this,gt,h1).call(this,Ke(this,gt,f1).call(this))},g1=function(){$(this,wo)&&(clearTimeout($(this,wo)),ye(this,wo,void 0))},m1=function(){$(this,yo)&&(clearInterval($(this,yo)),ye(this,yo,void 0))},x1=function(){const t=$(this,Xn).getQueryCache().build($(this,Xn),this.options);if(t===$(this,st))return;const n=$(this,st);ye(this,st,t),ye(this,jc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},M2=function(t){an.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n($(this,Mn))}),$(this,Xn).getQueryCache().notify({query:$(this,st),type:"observerResultsUpdated"})})},cy);function K4(e,t){return Hr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ox(e,t){return K4(e,t)||e.state.data!==void 0&&w1(e,t,t.refetchOnMount)}function w1(e,t,n){if(Hr(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Jp(e,t)}return!1}function kx(e,t,n,r){return(e!==t||Hr(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Jp(e,n)}function Jp(e,t){return Hr(t.enabled,e)!==!1&&e.isStaleByTime(Na(t.staleTime,e))}function Q4(e,t){return!Dd(e.getCurrentResult(),t)}var vi,bi,Yn,Ts,ks,rd,y1,uy,Z4=(uy=class extends ll{constructor(n,r){super();Le(this,ks);Le(this,vi);Le(this,bi);Le(this,Yn);Le(this,Ts);ye(this,vi,n),this.setOptions(r),this.bindMethods(),Ke(this,ks,rd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=$(this,vi).defaultMutationOptions(n),Dd(this.options,r)||$(this,vi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:$(this,Yn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Oo(r.mutationKey)!==Oo(this.options.mutationKey)?this.reset():((i=$(this,Yn))==null?void 0:i.state.status)==="pending"&&$(this,Yn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=$(this,Yn))==null||n.removeObserver(this)}onMutationUpdate(n){Ke(this,ks,rd).call(this),Ke(this,ks,y1).call(this,n)}getCurrentResult(){return $(this,bi)}reset(){var n;(n=$(this,Yn))==null||n.removeObserver(this),ye(this,Yn,void 0),Ke(this,ks,rd).call(this),Ke(this,ks,y1).call(this)}mutate(n,r){var i;return ye(this,Ts,r),(i=$(this,Yn))==null||i.removeObserver(this),ye(this,Yn,$(this,vi).getMutationCache().build($(this,vi),this.options)),$(this,Yn).addObserver(this),$(this,Yn).execute(n)}},vi=new WeakMap,bi=new WeakMap,Yn=new WeakMap,Ts=new WeakMap,ks=new WeakSet,rd=function(){var r;const n=((r=$(this,Yn))==null?void 0:r.state)??D2();ye(this,bi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},y1=function(n){an.batch(()=>{var r,i,a,u,h,m,p,y;if($(this,Ts)&&this.hasListeners()){const v=$(this,bi).variables,E=$(this,bi).context;(n==null?void 0:n.type)==="success"?((i=(r=$(this,Ts)).onSuccess)==null||i.call(r,n.data,v,E),(u=(a=$(this,Ts)).onSettled)==null||u.call(a,n.data,null,v,E)):(n==null?void 0:n.type)==="error"&&((m=(h=$(this,Ts)).onError)==null||m.call(h,n.error,v,E),(y=(p=$(this,Ts)).onSettled)==null||y.call(p,void 0,n.error,v,E))}this.listeners.forEach(v=>{v($(this,bi))})})},uy),j2=C.createContext(void 0),Us=e=>{const t=C.useContext(j2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},J4=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),g.jsx(j2.Provider,{value:e,children:t})),L2=C.createContext(!1),eN=()=>C.useContext(L2);L2.Provider;function tN(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var nN=C.createContext(tN()),rN=()=>C.useContext(nN);function B2(e,t){return typeof e=="function"?e(...t):!!e}function F2(){}var sN=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},iN=e=>{C.useEffect(()=>{e.clearReset()},[e])},oN=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&B2(n,[e.error,r]),aN=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},lN=(e,t)=>e.isLoading&&e.isFetching&&!t,cN=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Px=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function uN(e,t,n){var y,v,E,N,P;const r=Us(),i=eN(),a=rN(),u=r.defaultQueryOptions(e);(v=(y=r.getDefaultOptions().queries)==null?void 0:y._experimental_beforeQuery)==null||v.call(y,u),u._optimisticResults=i?"isRestoring":"optimistic",aN(u),sN(u,a),iN(a);const h=!r.getQueryCache().get(u.queryHash),[m]=C.useState(()=>new t(r,u)),p=m.getOptimisticResult(u);if(C.useSyncExternalStore(C.useCallback(T=>{const O=i?()=>{}:m.subscribe(an.batchCalls(T));return m.updateResult(),O},[m,i]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),C.useEffect(()=>{m.setOptions(u,{listeners:!1})},[u,m]),cN(u,p))throw Px(u,m,a);if(oN({result:p,errorResetBoundary:a,throwOnError:u.throwOnError,query:r.getQueryCache().get(u.queryHash)}))throw p.error;if((N=(E=r.getDefaultOptions().queries)==null?void 0:E._experimental_afterQuery)==null||N.call(E,u,p),u.experimental_prefetchInRender&&!Ro&&lN(p,i)){const T=h?Px(u,m,a):(P=r.getQueryCache().get(u.queryHash))==null?void 0:P.promise;T==null||T.catch(F2).finally(()=>{m.updateResult()})}return u.notifyOnChangeProps?p:m.trackResult(p)}function Li(e,t){return uN(e,Y4)}function ms(e,t){const n=Us(),[r]=C.useState(()=>new Z4(n,e));C.useEffect(()=>{r.setOptions(e)},[r,e]);const i=C.useSyncExternalStore(C.useCallback(u=>r.subscribe(an.batchCalls(u)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=C.useCallback((u,h)=>{r.mutate(u,h).catch(F2)},[r]);if(i.error&&B2(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ac(){return Ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ac.apply(this,arguments)}var Si;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Si||(Si={}));const Dx="popstate";function dN(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:u,hash:h}=r.location;return v1("",{pathname:a,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:jd(i)}return hN(t,n,null,e)}function Zt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function U2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fN(){return Math.random().toString(36).substr(2,8)}function Mx(e,t){return{usr:e.state,key:e.key,idx:t}}function v1(e,t,n,r){return n===void 0&&(n=null),Ac({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?cl(t):t,{state:n,key:t&&t.key||r||fN()})}function jd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function cl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function hN(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,u=i.history,h=Si.Pop,m=null,p=y();p==null&&(p=0,u.replaceState(Ac({},u.state,{idx:p}),""));function y(){return(u.state||{idx:null}).idx}function v(){h=Si.Pop;let O=y(),I=O==null?null:O-p;p=O,m&&m({action:h,location:T.location,delta:I})}function E(O,I){h=Si.Push;let _=v1(T.location,O,I);p=y()+1;let S=Mx(_,p),D=T.createHref(_);try{u.pushState(S,"",D)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(D)}a&&m&&m({action:h,location:T.location,delta:1})}function N(O,I){h=Si.Replace;let _=v1(T.location,O,I);p=y();let S=Mx(_,p),D=T.createHref(_);u.replaceState(S,"",D),a&&m&&m({action:h,location:T.location,delta:0})}function P(O){let I=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof O=="string"?O:jd(O);return _=_.replace(/ $/,"%20"),Zt(I,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,I)}let T={get action(){return h},get location(){return e(i,u)},listen(O){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(Dx,v),m=O,()=>{i.removeEventListener(Dx,v),m=null}},createHref(O){return t(i,O)},createURL:P,encodeLocation(O){let I=P(O);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:E,replace:N,go(O){return u.go(O)}};return T}var jx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(jx||(jx={}));function pN(e,t,n){return n===void 0&&(n="/"),gN(e,t,n,!1)}function gN(e,t,n,r){let i=typeof t=="string"?cl(t):t,a=eg(i.pathname||"/",n);if(a==null)return null;let u=W2(e);mN(u);let h=null;for(let m=0;h==null&&m<u.length;++m){let p=NN(a);h=AN(u[m],p,r)}return h}function W2(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,u,h)=>{let m={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};m.relativePath.startsWith("/")&&(Zt(m.relativePath.startsWith(r),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(r.length));let p=Pi([r,m.relativePath]),y=n.concat(m);a.children&&a.children.length>0&&(Zt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),W2(a.children,t,y,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:EN(p,a.index),routesMeta:y})};return e.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))i(a,u);else for(let m of V2(a.path))i(a,u,m)}),t}function V2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let u=V2(r.join("/")),h=[];return h.push(...u.map(m=>m===""?a:[a,m].join("/"))),i&&h.push(...u),h.map(m=>e.startsWith("/")&&m===""?"/":m)}function mN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:SN(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xN=/^:[\w-]+$/,wN=3,yN=2,vN=1,bN=10,CN=-2,Lx=e=>e==="*";function EN(e,t){let n=e.split("/"),r=n.length;return n.some(Lx)&&(r+=CN),t&&(r+=yN),n.filter(i=>!Lx(i)).reduce((i,a)=>i+(xN.test(a)?wN:a===""?vN:bN),r)}function SN(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function AN(e,t,n){let{routesMeta:r}=e,i={},a="/",u=[];for(let h=0;h<r.length;++h){let m=r[h],p=h===r.length-1,y=a==="/"?t:t.slice(a.length)||"/",v=Bx({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=Bx({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(i,v.params),u.push({params:i,pathname:Pi([a,v.pathname]),pathnameBase:ON(Pi([a,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(a=Pi([a,v.pathnameBase]))}return u}function Bx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_N(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((p,y,v)=>{let{paramName:E,isOptional:N}=y;if(E==="*"){let T=h[v]||"";u=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const P=h[v];return N&&!P?p[E]=void 0:p[E]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:e}}function _N(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),U2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,m)=>(r.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function NN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return U2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function eg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function TN(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?cl(e):e;return{pathname:n?n.startsWith("/")?n:IN(n,t):t,search:kN(r),hash:PN(i)}}function IN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Xh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function tg(e,t){let n=RN(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ng(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=cl(e):(i=Ac({},e),Zt(!i.pathname||!i.pathname.includes("?"),Xh("?","pathname","search",i)),Zt(!i.pathname||!i.pathname.includes("#"),Xh("#","pathname","hash",i)),Zt(!i.search||!i.search.includes("#"),Xh("#","search","hash",i)));let a=e===""||i.pathname==="",u=a?"/":i.pathname,h;if(u==null)h=n;else{let v=t.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),v-=1;i.pathname=E.join("/")}h=v>=0?t[v]:"/"}let m=TN(i,h),p=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}const Pi=e=>e.join("/").replace(/\/\/+/g,"/"),ON=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,PN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function DN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const z2=["post","put","patch","delete"];new Set(z2);const MN=["get",...z2];new Set(MN);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_c.apply(this,arguments)}const rg=C.createContext(null),jN=C.createContext(null),Gi=C.createContext(null),Ef=C.createContext(null),Ws=C.createContext({outlet:null,matches:[],isDataRoute:!1}),H2=C.createContext(null);function LN(e,t){let{relative:n}=t===void 0?{}:t;ul()||Zt(!1);let{basename:r,navigator:i}=C.useContext(Gi),{hash:a,pathname:u,search:h}=q2(e,{relative:n}),m=u;return r!=="/"&&(m=u==="/"?r:Pi([r,u])),i.createHref({pathname:m,search:h,hash:a})}function ul(){return C.useContext(Ef)!=null}function ws(){return ul()||Zt(!1),C.useContext(Ef).location}function $2(e){C.useContext(Gi).static||C.useLayoutEffect(e)}function Vs(){let{isDataRoute:e}=C.useContext(Ws);return e?KN():BN()}function BN(){ul()||Zt(!1);let e=C.useContext(rg),{basename:t,future:n,navigator:r}=C.useContext(Gi),{matches:i}=C.useContext(Ws),{pathname:a}=ws(),u=JSON.stringify(tg(i,n.v7_relativeSplatPath)),h=C.useRef(!1);return $2(()=>{h.current=!0}),C.useCallback(function(p,y){if(y===void 0&&(y={}),!h.current)return;if(typeof p=="number"){r.go(p);return}let v=ng(p,JSON.parse(u),a,y.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Pi([t,v.pathname])),(y.replace?r.replace:r.push)(v,y.state,y)},[t,r,u,a,e])}function G2(){let{matches:e}=C.useContext(Ws),t=e[e.length-1];return t?t.params:{}}function q2(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=C.useContext(Gi),{matches:i}=C.useContext(Ws),{pathname:a}=ws(),u=JSON.stringify(tg(i,r.v7_relativeSplatPath));return C.useMemo(()=>ng(e,JSON.parse(u),a,n==="path"),[e,u,a,n])}function FN(e,t){return UN(e,t)}function UN(e,t,n,r){ul()||Zt(!1);let{navigator:i}=C.useContext(Gi),{matches:a}=C.useContext(Ws),u=a[a.length-1],h=u?u.params:{};u&&u.pathname;let m=u?u.pathnameBase:"/";u&&u.route;let p=ws(),y;if(t){var v;let O=typeof t=="string"?cl(t):t;m==="/"||(v=O.pathname)!=null&&v.startsWith(m)||Zt(!1),y=O}else y=p;let E=y.pathname||"/",N=E;if(m!=="/"){let O=m.replace(/^\//,"").split("/");N="/"+E.replace(/^\//,"").split("/").slice(O.length).join("/")}let P=pN(e,{pathname:N}),T=$N(P&&P.map(O=>Object.assign({},O,{params:Object.assign({},h,O.params),pathname:Pi([m,i.encodeLocation?i.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?m:Pi([m,i.encodeLocation?i.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),a,n,r);return t&&T?C.createElement(Ef.Provider,{value:{location:_c({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Si.Pop}},T):T}function WN(){let e=YN(),t=DN(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:i},n):null,null)}const VN=C.createElement(WN,null);class zN extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?C.createElement(Ws.Provider,{value:this.props.routeContext},C.createElement(H2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HN(e){let{routeContext:t,match:n,children:r}=e,i=C.useContext(rg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Ws.Provider,{value:t},r)}function $N(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,h=(i=n)==null?void 0:i.errors;if(h!=null){let y=u.findIndex(v=>v.route.id&&(h==null?void 0:h[v.route.id])!==void 0);y>=0||Zt(!1),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<u.length;y++){let v=u[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:E,errors:N}=n,P=v.route.loader&&E[v.route.id]===void 0&&(!N||N[v.route.id]===void 0);if(v.route.lazy||P){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,v,E)=>{let N,P=!1,T=null,O=null;n&&(N=h&&v.route.id?h[v.route.id]:void 0,T=v.route.errorElement||VN,m&&(p<0&&E===0?(P=!0,O=null):p===E&&(P=!0,O=v.route.hydrateFallbackElement||null)));let I=t.concat(u.slice(0,E+1)),_=()=>{let S;return N?S=T:P?S=O:v.route.Component?S=C.createElement(v.route.Component,null):v.route.element?S=v.route.element:S=y,C.createElement(HN,{match:v,routeContext:{outlet:y,matches:I,isDataRoute:n!=null},children:S})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?C.createElement(zN,{location:n.location,revalidation:n.revalidation,component:T,error:N,children:_(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):_()},null)}var X2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(X2||{}),Ld=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ld||{});function GN(e){let t=C.useContext(rg);return t||Zt(!1),t}function qN(e){let t=C.useContext(jN);return t||Zt(!1),t}function XN(e){let t=C.useContext(Ws);return t||Zt(!1),t}function Y2(e){let t=XN(),n=t.matches[t.matches.length-1];return n.route.id||Zt(!1),n.route.id}function YN(){var e;let t=C.useContext(H2),n=qN(Ld.UseRouteError),r=Y2(Ld.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function KN(){let{router:e}=GN(X2.UseNavigateStable),t=Y2(Ld.UseNavigateStable),n=C.useRef(!1);return $2(()=>{n.current=!0}),C.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,_c({fromRouteId:t},a)))},[e,t])}function b1(e){let{to:t,replace:n,state:r,relative:i}=e;ul()||Zt(!1);let{future:a,static:u}=C.useContext(Gi),{matches:h}=C.useContext(Ws),{pathname:m}=ws(),p=Vs(),y=ng(t,tg(h,a.v7_relativeSplatPath),m,i==="path"),v=JSON.stringify(y);return C.useEffect(()=>p(JSON.parse(v),{replace:n,state:r,relative:i}),[p,v,i,n,r]),null}function vr(e){Zt(!1)}function QN(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Si.Pop,navigator:a,static:u=!1,future:h}=e;ul()&&Zt(!1);let m=t.replace(/^\/*/,"/"),p=C.useMemo(()=>({basename:m,navigator:a,static:u,future:_c({v7_relativeSplatPath:!1},h)}),[m,h,a,u]);typeof r=="string"&&(r=cl(r));let{pathname:y="/",search:v="",hash:E="",state:N=null,key:P="default"}=r,T=C.useMemo(()=>{let O=eg(y,m);return O==null?null:{location:{pathname:O,search:v,hash:E,state:N,key:P},navigationType:i}},[m,y,v,E,N,P,i]);return T==null?null:C.createElement(Gi.Provider,{value:p},C.createElement(Ef.Provider,{children:n,value:T}))}function ZN(e){let{children:t,location:n}=e;return FN(C1(t),n)}new Promise(()=>{});function C1(e,t){t===void 0&&(t=[]);let n=[];return C.Children.forEach(e,(r,i)=>{if(!C.isValidElement(r))return;let a=[...t,i];if(r.type===C.Fragment){n.push.apply(n,C1(r.props.children,a));return}r.type!==vr&&Zt(!1),!r.props.index||!r.props.children||Zt(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=C1(r.props.children,a)),n.push(u)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function E1(){return E1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E1.apply(this,arguments)}function JN(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function eT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tT(e,t){return e.button===0&&(!t||t==="_self")&&!eT(e)}const nT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rT="6";try{window.__reactRouterVersion=rT}catch{}const sT="startTransition",Fx=Cy[sT];function iT(e){let{basename:t,children:n,future:r,window:i}=e,a=C.useRef();a.current==null&&(a.current=dN({window:i,v5Compat:!0}));let u=a.current,[h,m]=C.useState({action:u.action,location:u.location}),{v7_startTransition:p}=r||{},y=C.useCallback(v=>{p&&Fx?Fx(()=>m(v)):m(v)},[m,p]);return C.useLayoutEffect(()=>u.listen(y),[u,y]),C.createElement(QN,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:u,future:r})}const oT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ko=C.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:u,state:h,target:m,to:p,preventScrollReset:y,viewTransition:v}=t,E=JN(t,nT),{basename:N}=C.useContext(Gi),P,T=!1;if(typeof p=="string"&&aT.test(p)&&(P=p,oT))try{let S=new URL(window.location.href),D=p.startsWith("//")?new URL(S.protocol+p):new URL(p),W=eg(D.pathname,N);D.origin===S.origin&&W!=null?p=W+D.search+D.hash:T=!0}catch{}let O=LN(p,{relative:i}),I=lT(p,{replace:u,state:h,target:m,preventScrollReset:y,relative:i,viewTransition:v});function _(S){r&&r(S),S.defaultPrevented||I(S)}return C.createElement("a",E1({},E,{href:P||O,onClick:T||a?r:_,ref:n,target:m}))});var Ux;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ux||(Ux={}));var Wx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Wx||(Wx={}));function lT(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:u,viewTransition:h}=t===void 0?{}:t,m=Vs(),p=ws(),y=q2(e,{relative:u});return C.useCallback(v=>{if(tT(v,n)){v.preventDefault();let E=r!==void 0?r:jd(p)===jd(y);m(e,{replace:E,state:i,preventScrollReset:a,relative:u,viewTransition:h})}},[p,m,y,r,i,n,e,a,u,h])}const cT=1,uT=1e6;let Yh=0;function dT(){return Yh=(Yh+1)%Number.MAX_SAFE_INTEGER,Yh.toString()}const Kh=new Map,Vx=e=>{if(Kh.has(e))return;const t=setTimeout(()=>{Kh.delete(e),rc({type:"REMOVE_TOAST",toastId:e})},uT);Kh.set(e,t)},fT=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,cT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Vx(n):e.toasts.forEach(r=>{Vx(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},sd=[];let id={toasts:[]};function rc(e){id=fT(id,e),sd.forEach(t=>{t(id)})}function hT({...e}){const t=dT(),n=i=>rc({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>rc({type:"DISMISS_TOAST",toastId:t});return rc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Or(){const[e,t]=C.useState(id);return C.useEffect(()=>(sd.push(t),()=>{const n=sd.indexOf(t);n>-1&&sd.splice(n,1)}),[e]),{...e,toast:hT,dismiss:n=>rc({type:"DISMISS_TOAST",toastId:n})}}function Me(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function pT(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function K2(...e){return t=>e.forEach(n=>pT(n,t))}function it(...e){return C.useCallback(K2(...e),e)}function gT(e,t=[]){let n=[];function r(a,u){const h=C.createContext(u),m=n.length;n=[...n,u];function p(v){const{scope:E,children:N,...P}=v,T=(E==null?void 0:E[e][m])||h,O=C.useMemo(()=>P,Object.values(P));return g.jsx(T.Provider,{value:O,children:N})}function y(v,E){const N=(E==null?void 0:E[e][m])||h,P=C.useContext(N);if(P)return P;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${a}\``)}return p.displayName=a+"Provider",[p,y]}const i=()=>{const a=n.map(u=>C.createContext(u));return function(h){const m=(h==null?void 0:h[e])||a;return C.useMemo(()=>({[`__scope${e}`]:{...h,[e]:m}}),[h,m])}};return i.scopeName=e,[r,mT(i,...t)]}function mT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=r.reduce((h,{useScope:m,scopeName:p})=>{const v=m(a)[`__scope${p}`];return{...h,...v}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var Po=C.forwardRef((e,t)=>{const{children:n,...r}=e,i=C.Children.toArray(n),a=i.find(xT);if(a){const u=a.props.children,h=i.map(m=>m===a?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:m);return g.jsx(S1,{...r,ref:t,children:C.isValidElement(u)?C.cloneElement(u,void 0,h):null})}return g.jsx(S1,{...r,ref:t,children:n})});Po.displayName="Slot";var S1=C.forwardRef((e,t)=>{const{children:n,...r}=e;if(C.isValidElement(n)){const i=yT(n);return C.cloneElement(n,{...wT(r,n.props),ref:t?K2(t,i):i})}return C.Children.count(n)>1?C.Children.only(null):null});S1.displayName="SlotClone";var sg=({children:e})=>g.jsx(g.Fragment,{children:e});function xT(e){return C.isValidElement(e)&&e.type===sg}function wT(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...h)=>{a(...h),i(...h)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function yT(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Q2(e){const t=e+"CollectionProvider",[n,r]=gT(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=N=>{const{scope:P,children:T}=N,O=ri.useRef(null),I=ri.useRef(new Map).current;return g.jsx(i,{scope:P,itemMap:I,collectionRef:O,children:T})};u.displayName=t;const h=e+"CollectionSlot",m=ri.forwardRef((N,P)=>{const{scope:T,children:O}=N,I=a(h,T),_=it(P,I.collectionRef);return g.jsx(Po,{ref:_,children:O})});m.displayName=h;const p=e+"CollectionItemSlot",y="data-radix-collection-item",v=ri.forwardRef((N,P)=>{const{scope:T,children:O,...I}=N,_=ri.useRef(null),S=it(P,_),D=a(p,T);return ri.useEffect(()=>(D.itemMap.set(_,{ref:_,...I}),()=>void D.itemMap.delete(_))),g.jsx(Po,{[y]:"",ref:S,children:O})});v.displayName=p;function E(N){const P=a(e+"CollectionConsumer",N);return ri.useCallback(()=>{const O=P.collectionRef.current;if(!O)return[];const I=Array.from(O.querySelectorAll(`[${y}]`));return Array.from(P.itemMap.values()).sort((D,W)=>I.indexOf(D.ref.current)-I.indexOf(W.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:u,Slot:m,ItemSlot:v},E,r]}function vT(e,t){const n=C.createContext(t),r=a=>{const{children:u,...h}=a,m=C.useMemo(()=>h,Object.values(h));return g.jsx(n.Provider,{value:m,children:u})};r.displayName=e+"Provider";function i(a){const u=C.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function qi(e,t=[]){let n=[];function r(a,u){const h=C.createContext(u),m=n.length;n=[...n,u];const p=v=>{var I;const{scope:E,children:N,...P}=v,T=((I=E==null?void 0:E[e])==null?void 0:I[m])||h,O=C.useMemo(()=>P,Object.values(P));return g.jsx(T.Provider,{value:O,children:N})};p.displayName=a+"Provider";function y(v,E){var T;const N=((T=E==null?void 0:E[e])==null?void 0:T[m])||h,P=C.useContext(N);if(P)return P;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[p,y]}const i=()=>{const a=n.map(u=>C.createContext(u));return function(h){const m=(h==null?void 0:h[e])||a;return C.useMemo(()=>({[`__scope${e}`]:{...h,[e]:m}}),[h,m])}};return i.scopeName=e,[r,bT(i,...t)]}function bT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=r.reduce((h,{useScope:m,scopeName:p})=>{const v=m(a)[`__scope${p}`];return{...h,...v}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var CT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ve=CT.reduce((e,t)=>{const n=C.forwardRef((r,i)=>{const{asChild:a,...u}=r,h=a?Po:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(h,{...u,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Z2(e,t){e&&Uo.flushSync(()=>e.dispatchEvent(t))}function en(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function ET(e,t=globalThis==null?void 0:globalThis.document){const n=en(e);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var ST="DismissableLayer",A1="dismissableLayer.update",AT="dismissableLayer.pointerDownOutside",_T="dismissableLayer.focusOutside",zx,J2=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zc=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:u,onDismiss:h,...m}=e,p=C.useContext(J2),[y,v]=C.useState(null),E=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,N]=C.useState({}),P=it(t,F=>v(F)),T=Array.from(p.layers),[O]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),I=T.indexOf(O),_=y?T.indexOf(y):-1,S=p.layersWithOutsidePointerEventsDisabled.size>0,D=_>=I,W=TT(F=>{const L=F.target,M=[...p.branches].some(H=>H.contains(L));!D||M||(i==null||i(F),u==null||u(F),F.defaultPrevented||h==null||h())},E),V=IT(F=>{const L=F.target;[...p.branches].some(H=>H.contains(L))||(a==null||a(F),u==null||u(F),F.defaultPrevented||h==null||h())},E);return ET(F=>{_===p.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&h&&(F.preventDefault(),h()))},E),C.useEffect(()=>{if(y)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(zx=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),Hx(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=zx)}},[y,E,n,p]),C.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),Hx())},[y,p]),C.useEffect(()=>{const F=()=>N({});return document.addEventListener(A1,F),()=>document.removeEventListener(A1,F)},[]),g.jsx(Ve.div,{...m,ref:P,style:{pointerEvents:S?D?"auto":"none":void 0,...e.style},onFocusCapture:Me(e.onFocusCapture,V.onFocusCapture),onBlurCapture:Me(e.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Me(e.onPointerDownCapture,W.onPointerDownCapture)})});zc.displayName=ST;var NT="DismissableLayerBranch",eb=C.forwardRef((e,t)=>{const n=C.useContext(J2),r=C.useRef(null),i=it(t,r);return C.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),g.jsx(Ve.div,{...e,ref:i})});eb.displayName=NT;function TT(e,t=globalThis==null?void 0:globalThis.document){const n=en(e),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const a=h=>{if(h.target&&!r.current){let m=function(){tb(AT,n,p,{discrete:!0})};const p={originalEvent:h};h.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=m,t.addEventListener("click",i.current,{once:!0})):m()}else t.removeEventListener("click",i.current);r.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function IT(e,t=globalThis==null?void 0:globalThis.document){const n=en(e),r=C.useRef(!1);return C.useEffect(()=>{const i=a=>{a.target&&!r.current&&tb(_T,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Hx(){const e=new CustomEvent(A1);document.dispatchEvent(e)}function tb(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Z2(i,a):i.dispatchEvent(a)}var RT=zc,OT=eb,En=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},kT="Portal",Sf=C.forwardRef((e,t)=>{var h;const{container:n,...r}=e,[i,a]=C.useState(!1);En(()=>a(!0),[]);const u=n||i&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return u?P4.createPortal(g.jsx(Ve.div,{...r,ref:t}),u):null});Sf.displayName=kT;function PT(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var Kr=e=>{const{present:t,children:n}=e,r=DT(t),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),a=it(r.ref,MT(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:a}):null};Kr.displayName="Presence";function DT(e){const[t,n]=C.useState(),r=C.useRef({}),i=C.useRef(e),a=C.useRef("none"),u=e?"mounted":"unmounted",[h,m]=PT(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const p=ku(r.current);a.current=h==="mounted"?p:"none"},[h]),En(()=>{const p=r.current,y=i.current;if(y!==e){const E=a.current,N=ku(p);e?m("MOUNT"):N==="none"||(p==null?void 0:p.display)==="none"?m("UNMOUNT"):m(y&&E!==N?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,m]),En(()=>{if(t){let p;const y=t.ownerDocument.defaultView??window,v=N=>{const T=ku(r.current).includes(N.animationName);if(N.target===t&&T&&(m("ANIMATION_END"),!i.current)){const O=t.style.animationFillMode;t.style.animationFillMode="forwards",p=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=O)})}},E=N=>{N.target===t&&(a.current=ku(r.current))};return t.addEventListener("animationstart",E),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{y.clearTimeout(p),t.removeEventListener("animationstart",E),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:C.useCallback(p=>{p&&(r.current=getComputedStyle(p)),n(p)},[])}}function ku(e){return(e==null?void 0:e.animationName)||"none"}function MT(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Do({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=jT({defaultProp:t,onChange:n}),a=e!==void 0,u=a?e:r,h=en(n),m=C.useCallback(p=>{if(a){const v=typeof p=="function"?p(e):p;v!==e&&h(v)}else i(p)},[a,e,i,h]);return[u,m]}function jT({defaultProp:e,onChange:t}){const n=C.useState(e),[r]=n,i=C.useRef(r),a=en(t);return C.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var LT="VisuallyHidden",Hc=C.forwardRef((e,t)=>g.jsx(Ve.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Hc.displayName=LT;var BT=Hc,ig="ToastProvider",[og,FT,UT]=Q2("Toast"),[nb,nj]=qi("Toast",[UT]),[WT,Af]=nb(ig),rb=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:u}=e,[h,m]=C.useState(null),[p,y]=C.useState(0),v=C.useRef(!1),E=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ig}\`. Expected non-empty \`string\`.`),g.jsx(og.Provider,{scope:t,children:g.jsx(WT,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:p,viewport:h,onViewportChange:m,onToastAdd:C.useCallback(()=>y(N=>N+1),[]),onToastRemove:C.useCallback(()=>y(N=>N-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:E,children:u})})};rb.displayName=ig;var sb="ToastViewport",VT=["F8"],_1="toast.viewportPause",N1="toast.viewportResume",ib=C.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=VT,label:i="Notifications ({hotkey})",...a}=e,u=Af(sb,n),h=FT(n),m=C.useRef(null),p=C.useRef(null),y=C.useRef(null),v=C.useRef(null),E=it(t,v,u.onViewportChange),N=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=u.toastCount>0;C.useEffect(()=>{const O=I=>{var S;r.length!==0&&r.every(D=>I[D]||I.code===D)&&((S=v.current)==null||S.focus())};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[r]),C.useEffect(()=>{const O=m.current,I=v.current;if(P&&O&&I){const _=()=>{if(!u.isClosePausedRef.current){const V=new CustomEvent(_1);I.dispatchEvent(V),u.isClosePausedRef.current=!0}},S=()=>{if(u.isClosePausedRef.current){const V=new CustomEvent(N1);I.dispatchEvent(V),u.isClosePausedRef.current=!1}},D=V=>{!O.contains(V.relatedTarget)&&S()},W=()=>{O.contains(document.activeElement)||S()};return O.addEventListener("focusin",_),O.addEventListener("focusout",D),O.addEventListener("pointermove",_),O.addEventListener("pointerleave",W),window.addEventListener("blur",_),window.addEventListener("focus",S),()=>{O.removeEventListener("focusin",_),O.removeEventListener("focusout",D),O.removeEventListener("pointermove",_),O.removeEventListener("pointerleave",W),window.removeEventListener("blur",_),window.removeEventListener("focus",S)}}},[P,u.isClosePausedRef]);const T=C.useCallback(({tabbingDirection:O})=>{const _=h().map(S=>{const D=S.ref.current,W=[D,...t8(D)];return O==="forwards"?W:W.reverse()});return(O==="forwards"?_.reverse():_).flat()},[h]);return C.useEffect(()=>{const O=v.current;if(O){const I=_=>{var W,V,F;const S=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!S){const L=document.activeElement,M=_.shiftKey;if(_.target===O&&M){(W=p.current)==null||W.focus();return}const q=T({tabbingDirection:M?"backwards":"forwards"}),se=q.findIndex(re=>re===L);Qh(q.slice(se+1))?_.preventDefault():M?(V=p.current)==null||V.focus():(F=y.current)==null||F.focus()}};return O.addEventListener("keydown",I),()=>O.removeEventListener("keydown",I)}},[h,T]),g.jsxs(OT,{ref:m,role:"region","aria-label":i.replace("{hotkey}",N),tabIndex:-1,style:{pointerEvents:P?void 0:"none"},children:[P&&g.jsx(T1,{ref:p,onFocusFromOutsideViewport:()=>{const O=T({tabbingDirection:"forwards"});Qh(O)}}),g.jsx(og.Slot,{scope:n,children:g.jsx(Ve.ol,{tabIndex:-1,...a,ref:E})}),P&&g.jsx(T1,{ref:y,onFocusFromOutsideViewport:()=>{const O=T({tabbingDirection:"backwards"});Qh(O)}})]})});ib.displayName=sb;var ob="ToastFocusProxy",T1=C.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=Af(ob,n);return g.jsx(Hc,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:u=>{var p;const h=u.relatedTarget;!((p=a.viewport)!=null&&p.contains(h))&&r()}})});T1.displayName=ob;var _f="Toast",zT="toast.swipeStart",HT="toast.swipeMove",$T="toast.swipeCancel",GT="toast.swipeEnd",ab=C.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...u}=e,[h=!0,m]=Do({prop:r,defaultProp:i,onChange:a});return g.jsx(Kr,{present:n||h,children:g.jsx(YT,{open:h,...u,ref:t,onClose:()=>m(!1),onPause:en(e.onPause),onResume:en(e.onResume),onSwipeStart:Me(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Me(e.onSwipeMove,p=>{const{x:y,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:Me(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Me(e.onSwipeEnd,p=>{const{x:y,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),m(!1)})})})});ab.displayName=_f;var[qT,XT]=nb(_f,{onClose(){}}),YT=C.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:u,onEscapeKeyDown:h,onPause:m,onResume:p,onSwipeStart:y,onSwipeMove:v,onSwipeCancel:E,onSwipeEnd:N,...P}=e,T=Af(_f,n),[O,I]=C.useState(null),_=it(t,re=>I(re)),S=C.useRef(null),D=C.useRef(null),W=i||T.duration,V=C.useRef(0),F=C.useRef(W),L=C.useRef(0),{onToastAdd:M,onToastRemove:H}=T,ee=en(()=>{var X;(O==null?void 0:O.contains(document.activeElement))&&((X=T.viewport)==null||X.focus()),u()}),q=C.useCallback(re=>{!re||re===1/0||(window.clearTimeout(L.current),V.current=new Date().getTime(),L.current=window.setTimeout(ee,re))},[ee]);C.useEffect(()=>{const re=T.viewport;if(re){const X=()=>{q(F.current),p==null||p()},fe=()=>{const ne=new Date().getTime()-V.current;F.current=F.current-ne,window.clearTimeout(L.current),m==null||m()};return re.addEventListener(_1,fe),re.addEventListener(N1,X),()=>{re.removeEventListener(_1,fe),re.removeEventListener(N1,X)}}},[T.viewport,W,m,p,q]),C.useEffect(()=>{a&&!T.isClosePausedRef.current&&q(W)},[a,W,T.isClosePausedRef,q]),C.useEffect(()=>(M(),()=>H()),[M,H]);const se=C.useMemo(()=>O?pb(O):null,[O]);return T.viewport?g.jsxs(g.Fragment,{children:[se&&g.jsx(KT,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:se}),g.jsx(qT,{scope:n,onClose:ee,children:Uo.createPortal(g.jsx(og.ItemSlot,{scope:n,children:g.jsx(RT,{asChild:!0,onEscapeKeyDown:Me(h,()=>{T.isFocusedToastEscapeKeyDownRef.current||ee(),T.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":T.swipeDirection,...P,ref:_,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Me(e.onKeyDown,re=>{re.key==="Escape"&&(h==null||h(re.nativeEvent),re.nativeEvent.defaultPrevented||(T.isFocusedToastEscapeKeyDownRef.current=!0,ee()))}),onPointerDown:Me(e.onPointerDown,re=>{re.button===0&&(S.current={x:re.clientX,y:re.clientY})}),onPointerMove:Me(e.onPointerMove,re=>{if(!S.current)return;const X=re.clientX-S.current.x,fe=re.clientY-S.current.y,ne=!!D.current,Q=["left","right"].includes(T.swipeDirection),te=["left","up"].includes(T.swipeDirection)?Math.min:Math.max,he=Q?te(0,X):0,ue=Q?0:te(0,fe),me=re.pointerType==="touch"?10:2,we={x:he,y:ue},Re={originalEvent:re,delta:we};ne?(D.current=we,Pu(HT,v,Re,{discrete:!1})):$x(we,T.swipeDirection,me)?(D.current=we,Pu(zT,y,Re,{discrete:!1}),re.target.setPointerCapture(re.pointerId)):(Math.abs(X)>me||Math.abs(fe)>me)&&(S.current=null)}),onPointerUp:Me(e.onPointerUp,re=>{const X=D.current,fe=re.target;if(fe.hasPointerCapture(re.pointerId)&&fe.releasePointerCapture(re.pointerId),D.current=null,S.current=null,X){const ne=re.currentTarget,Q={originalEvent:re,delta:X};$x(X,T.swipeDirection,T.swipeThreshold)?Pu(GT,N,Q,{discrete:!0}):Pu($T,E,Q,{discrete:!0}),ne.addEventListener("click",te=>te.preventDefault(),{once:!0})}})})})}),T.viewport)})]}):null}),KT=e=>{const{__scopeToast:t,children:n,...r}=e,i=Af(_f,t),[a,u]=C.useState(!1),[h,m]=C.useState(!1);return JT(()=>u(!0)),C.useEffect(()=>{const p=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(p)},[]),h?null:g.jsx(Sf,{asChild:!0,children:g.jsx(Hc,{...r,children:a&&g.jsxs(g.Fragment,{children:[i.label," ",n]})})})},QT="ToastTitle",lb=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return g.jsx(Ve.div,{...r,ref:t})});lb.displayName=QT;var ZT="ToastDescription",cb=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return g.jsx(Ve.div,{...r,ref:t})});cb.displayName=ZT;var ub="ToastAction",db=C.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?g.jsx(hb,{altText:n,asChild:!0,children:g.jsx(ag,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ub}\`. Expected non-empty \`string\`.`),null)});db.displayName=ub;var fb="ToastClose",ag=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=XT(fb,n);return g.jsx(hb,{asChild:!0,children:g.jsx(Ve.button,{type:"button",...r,ref:t,onClick:Me(e.onClick,i.onClose)})})});ag.displayName=fb;var hb=C.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return g.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function pb(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),e8(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const u=r.dataset.radixToastAnnounceAlt;u&&t.push(u)}else t.push(...pb(r))}}),t}function Pu(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Z2(i,a):i.dispatchEvent(a)}var $x=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function JT(e=()=>{}){const t=en(e);En(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function e8(e){return e.nodeType===e.ELEMENT_NODE}function t8(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Qh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var n8=rb,gb=ib,mb=ab,xb=lb,wb=cb,yb=db,vb=ag;function bb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=bb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Cb(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=bb(e))&&(r&&(r+=" "),r+=t);return r}const Gx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,qx=Cb,dl=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return qx(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,u=Object.keys(i).map(p=>{const y=n==null?void 0:n[p],v=a==null?void 0:a[p];if(y===null)return null;const E=Gx(y)||Gx(v);return i[p][E]}),h=n&&Object.entries(n).reduce((p,y)=>{let[v,E]=y;return E===void 0||(p[v]=E),p},{}),m=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:v,className:E,...N}=y;return Object.entries(N).every(P=>{let[T,O]=P;return Array.isArray(O)?O.includes({...a,...h}[T]):{...a,...h}[T]===O})?[...p,v,E]:p},[]);return qx(e,u,m,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Eb=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:u,...h},m)=>C.createElement("svg",{ref:m,...s8,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Eb("lucide",i),...h},[...u.map(([p,y])=>C.createElement(p,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const n=C.forwardRef(({className:r,...i},a)=>C.createElement(i8,{ref:a,iconNode:t,className:Eb(`lucide-${r8(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=ze("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=ze("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=ze("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=ze("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=ze("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=ze("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=ze("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=ze("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=ze("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=ze("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=ze("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=ze("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=ze("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=ze("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=ze("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=ze("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=ze("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=ze("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=ze("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),gg="-",C8=e=>{const t=S8(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:u=>{const h=u.split(gg);return h[0]===""&&h.length!==1&&h.shift(),Ob(h,t)||E8(u)},getConflictingClassGroupIds:(u,h)=>{const m=n[u]||[];return h&&r[u]?[...m,...r[u]]:m}}},Ob=(e,t)=>{var u;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?Ob(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(gg);return(u=t.validators.find(({validator:h})=>h(a)))==null?void 0:u.classGroupId},Jx=/^\[(.+)\]$/,E8=e=>{if(Jx.test(e)){const t=Jx.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},S8=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return _8(Object.entries(e.classGroups),n).forEach(([a,u])=>{R1(u,r,a,t)}),r},R1=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:ew(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(A8(i)){R1(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,u])=>{R1(u,ew(t,a),n,r)})})},ew=(e,t)=>{let n=e;return t.split(gg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},A8=e=>e.isThemeGetter,_8=(e,t)=>t?e.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,h])=>[t+u,h])):a);return[n,i]}):e,N8=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(a,u)=>{n.set(a,u),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let u=n.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return i(a,u),u},set(a,u){n.has(a)?n.set(a,u):i(a,u)}}},kb="!",T8=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],a=t.length,u=h=>{const m=[];let p=0,y=0,v;for(let O=0;O<h.length;O++){let I=h[O];if(p===0){if(I===i&&(r||h.slice(O,O+a)===t)){m.push(h.slice(y,O)),y=O+a;continue}if(I==="/"){v=O;continue}}I==="["?p++:I==="]"&&p--}const E=m.length===0?h:h.substring(y),N=E.startsWith(kb),P=N?E.substring(1):E,T=v&&v>y?v-y:void 0;return{modifiers:m,hasImportantModifier:N,baseClassName:P,maybePostfixModifierPosition:T}};return n?h=>n({className:h,parseClassName:u}):u},I8=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},R8=e=>({cache:N8(e.cacheSize),parseClassName:T8(e),...C8(e)}),O8=/\s+/,k8=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],u=e.trim().split(O8);let h="";for(let m=u.length-1;m>=0;m-=1){const p=u[m],{modifiers:y,hasImportantModifier:v,baseClassName:E,maybePostfixModifierPosition:N}=n(p);let P=!!N,T=r(P?E.substring(0,N):E);if(!T){if(!P){h=p+(h.length>0?" "+h:h);continue}if(T=r(E),!T){h=p+(h.length>0?" "+h:h);continue}P=!1}const O=I8(y).join(":"),I=v?O+kb:O,_=I+T;if(a.includes(_))continue;a.push(_);const S=i(T,P);for(let D=0;D<S.length;++D){const W=S[D];a.push(I+W)}h=p+(h.length>0?" "+h:h)}return h};function P8(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Pb(t))&&(r&&(r+=" "),r+=n);return r}const Pb=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Pb(e[r]))&&(n&&(n+=" "),n+=t);return n};function D8(e,...t){let n,r,i,a=u;function u(m){const p=t.reduce((y,v)=>v(y),e());return n=R8(p),r=n.cache.get,i=n.cache.set,a=h,h(m)}function h(m){const p=r(m);if(p)return p;const y=k8(m,n);return i(m,y),y}return function(){return a(P8.apply(null,arguments))}}const Rt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Db=/^\[(?:([a-z-]+):)?(.+)\]$/i,M8=/^\d+\/\d+$/,j8=new Set(["px","full","screen"]),L8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,B8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,F8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,U8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,W8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bs=e=>Ta(e)||j8.has(e)||M8.test(e),Zs=e=>fl(e,"length",Y8),Ta=e=>!!e&&!Number.isNaN(Number(e)),Zh=e=>fl(e,"number",Ta),Ll=e=>!!e&&Number.isInteger(Number(e)),V8=e=>e.endsWith("%")&&Ta(e.slice(0,-1)),qe=e=>Db.test(e),Js=e=>L8.test(e),z8=new Set(["length","size","percentage"]),H8=e=>fl(e,z8,Mb),$8=e=>fl(e,"position",Mb),G8=new Set(["image","url"]),q8=e=>fl(e,G8,Q8),X8=e=>fl(e,"",K8),Bl=()=>!0,fl=(e,t,n)=>{const r=Db.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Y8=e=>B8.test(e)&&!F8.test(e),Mb=()=>!1,K8=e=>U8.test(e),Q8=e=>W8.test(e),Z8=()=>{const e=Rt("colors"),t=Rt("spacing"),n=Rt("blur"),r=Rt("brightness"),i=Rt("borderColor"),a=Rt("borderRadius"),u=Rt("borderSpacing"),h=Rt("borderWidth"),m=Rt("contrast"),p=Rt("grayscale"),y=Rt("hueRotate"),v=Rt("invert"),E=Rt("gap"),N=Rt("gradientColorStops"),P=Rt("gradientColorStopPositions"),T=Rt("inset"),O=Rt("margin"),I=Rt("opacity"),_=Rt("padding"),S=Rt("saturate"),D=Rt("scale"),W=Rt("sepia"),V=Rt("skew"),F=Rt("space"),L=Rt("translate"),M=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto",qe,t],q=()=>[qe,t],se=()=>["",bs,Zs],re=()=>["auto",Ta,qe],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],fe=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",qe],he=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>[Ta,qe];return{cacheSize:500,separator:":",theme:{colors:[Bl],spacing:[bs,Zs],blur:["none","",Js,qe],brightness:ue(),borderColor:[e],borderRadius:["none","","full",Js,qe],borderSpacing:q(),borderWidth:se(),contrast:ue(),grayscale:te(),hueRotate:ue(),invert:te(),gap:q(),gradientColorStops:[e],gradientColorStopPositions:[V8,Zs],inset:ee(),margin:ee(),opacity:ue(),padding:q(),saturate:ue(),scale:ue(),sepia:te(),skew:ue(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[Js]}],"break-after":[{"break-after":he()}],"break-before":[{"break-before":he()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),qe]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[T]}],"inset-x":[{"inset-x":[T]}],"inset-y":[{"inset-y":[T]}],start:[{start:[T]}],end:[{end:[T]}],top:[{top:[T]}],right:[{right:[T]}],bottom:[{bottom:[T]}],left:[{left:[T]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ll,qe]}],basis:[{basis:ee()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",Ll,qe]}],"grid-cols":[{"grid-cols":[Bl]}],"col-start-end":[{col:["auto",{span:["full",Ll,qe]},qe]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[Bl]}],"row-start-end":[{row:["auto",{span:[Ll,qe]},qe]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[O]}],mx:[{mx:[O]}],my:[{my:[O]}],ms:[{ms:[O]}],me:[{me:[O]}],mt:[{mt:[O]}],mr:[{mr:[O]}],mb:[{mb:[O]}],ml:[{ml:[O]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,t]}],"min-w":[{"min-w":[qe,t,"min","max","fit"]}],"max-w":[{"max-w":[qe,t,"none","full","min","max","fit","prose",{screen:[Js]},Js]}],h:[{h:[qe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Js,Zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zh]}],"font-family":[{font:[Bl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",Ta,Zh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bs,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[I]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[I]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bs,Zs]}],"underline-offset":[{"underline-offset":["auto",bs,qe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[I]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),$8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",H8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},q8]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[N]}],"gradient-via":[{via:[N]}],"gradient-to":[{to:[N]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[I]}],"border-style":[{border:[...fe(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[I]}],"divide-style":[{divide:fe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...fe()]}],"outline-offset":[{"outline-offset":[bs,qe]}],"outline-w":[{outline:[bs,Zs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[I]}],"ring-offset-w":[{"ring-offset":[bs,Zs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Js,X8]}],"shadow-color":[{shadow:[Bl]}],opacity:[{opacity:[I]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",Js,qe]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[v]}],saturate:[{saturate:[S]}],sepia:[{sepia:[W]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[I]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[W]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:ue()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Ll,qe]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[bs,Zs,Zh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},J8=D8(Z8);function ke(...e){return J8(Cb(e))}function Ud(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function O1(e){return new Intl.DateTimeFormat("pt-BR").format(new Date(e))}const eI=n8,jb=C.forwardRef(({className:e,...t},n)=>g.jsx(gb,{ref:n,className:ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));jb.displayName=gb.displayName;const tI=dl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Lb=C.forwardRef(({className:e,variant:t,...n},r)=>g.jsx(mb,{ref:r,className:ke(tI({variant:t}),e),...n}));Lb.displayName=mb.displayName;const nI=C.forwardRef(({className:e,...t},n)=>g.jsx(yb,{ref:n,className:ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));nI.displayName=yb.displayName;const Bb=C.forwardRef(({className:e,...t},n)=>g.jsx(vb,{ref:n,className:ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:g.jsx(Wo,{className:"h-4 w-4"})}));Bb.displayName=vb.displayName;const Fb=C.forwardRef(({className:e,...t},n)=>g.jsx(xb,{ref:n,className:ke("text-sm font-semibold",e),...t}));Fb.displayName=xb.displayName;const Ub=C.forwardRef(({className:e,...t},n)=>g.jsx(wb,{ref:n,className:ke("text-sm opacity-90",e),...t}));Ub.displayName=wb.displayName;function rI(){const{toasts:e}=Or();return g.jsxs(eI,{children:[e.map(function({id:t,title:n,description:r,action:i,...a}){return g.jsxs(Lb,{...a,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx(Fb,{children:n}),r&&g.jsx(Ub,{children:r})]}),i,g.jsx(Bb,{})]},t)}),g.jsx(jb,{})]})}const sI="modulepreload",iI=function(e){return"/"+e},tw={},$c=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=Promise.allSettled(n.map(m=>{if(m=iI(m),m in tw)return;tw[m]=!0;const p=m.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":sI,p||(v.as="script"),v.crossOrigin="",v.href=m,h&&v.setAttribute("nonce",h),document.head.appendChild(v),p)return new Promise((E,N)=>{v.addEventListener("load",E),v.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return i.then(u=>{for(const h of u||[])h.status==="rejected"&&a(h.reason);return t().catch(a)})},oI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$c(async()=>{const{default:r}=await Promise.resolve().then(()=>hl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class mg extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class aI extends mg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class lI extends mg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class cI extends mg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var k1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(k1||(k1={}));var uI=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{p(r.next(y))}catch(v){u(v)}}function m(y){try{p(r.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):i(y.value).then(h,m)}p((r=r.apply(e,t||[])).next())})};class dI{constructor(t,{headers:n={},customFetch:r,region:i=k1.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=oI(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return uI(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:u}=n;let h={},{region:m}=n;m||(m=this.region),m&&m!=="any"&&(h["x-region"]=m);let p;u&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)));const y=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),i),body:p}).catch(P=>{throw new aI(P)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new lI(y);if(!y.ok)throw new cI(y);let E=((r=y.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),N;return E==="application/json"?N=yield y.json():E==="application/octet-stream"?N=yield y.blob():E==="text/event-stream"?N=y:E==="multipart/form-data"?N=yield y.formData():N=yield y.text(),{data:N,error:null}}catch(i){return{data:null,error:i}}})}}var Qn={},xg={},If={},Gc={},Rf={},Of={},fI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},tl=fI();const hI=tl.fetch,Wb=tl.fetch.bind(tl),Vb=tl.Headers,pI=tl.Request,gI=tl.Response,hl=Object.freeze(Object.defineProperty({__proto__:null,Headers:Vb,Request:pI,Response:gI,default:Wb,fetch:hI},Symbol.toStringTag,{value:"Module"})),mI=a3(hl);var kf={};Object.defineProperty(kf,"__esModule",{value:!0});let xI=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};kf.default=xI;var zb=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Of,"__esModule",{value:!0});const wI=zb(mI),yI=zb(kf);let vI=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=wI.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var u,h,m;let p=null,y=null,v=null,E=a.status,N=a.statusText;if(a.ok){if(this.method!=="HEAD"){const I=await a.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=I:y=JSON.parse(I))}const T=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),O=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");T&&O&&O.length>1&&(v=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(p={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,v=null,E=406,N="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const T=await a.text();try{p=JSON.parse(T),Array.isArray(p)&&a.status===404&&(y=[],p=null,E=200,N="OK")}catch{a.status===404&&T===""?(E=204,N="No Content"):p={message:T}}if(p&&this.isMaybeSingle&&(!((m=p==null?void 0:p.details)===null||m===void 0)&&m.includes("0 rows"))&&(p=null,E=200,N="OK"),p&&this.shouldThrowOnError)throw new yI.default(p)}return{error:p,data:y,count:v,status:E,statusText:N}});return this.shouldThrowOnError||(i=i.catch(a=>{var u,h,m;return{error:{message:`${(u=a==null?void 0:a.name)!==null&&u!==void 0?u:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(h=a==null?void 0:a.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=a==null?void 0:a.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Of.default=vI;var bI=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rf,"__esModule",{value:!0});const CI=bI(Of);let EI=class extends CI.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const u=a?`${a}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,u=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(u,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:u="text"}={}){var h;const m=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${p}"; options=${m};`,u==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Rf.default=EI;var SI=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gc,"__esModule",{value:!0});const AI=SI(Rf);let _I=class extends AI.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${u}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Gc.default=_I;var NI=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(If,"__esModule",{value:!0});const Fl=NI(Gc);let TI=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const u=(t??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",u),r&&(this.headers.Prefer=`count=${r}`),new Fl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const u=t.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(u.length>0){const h=[...new Set(u)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new Fl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){const u="POST",h=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&h.push(this.headers.Prefer),i&&h.push(`count=${i}`),a||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(t)){const m=t.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(m.length>0){const p=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",p.join(","))}}return new Fl.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Fl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Fl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};If.default=TI;var Pf={},Df={};Object.defineProperty(Df,"__esModule",{value:!0});Df.version=void 0;Df.version="0.0.0-automated";Object.defineProperty(Pf,"__esModule",{value:!0});Pf.DEFAULT_HEADERS=void 0;const II=Df;Pf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${II.version}`};var Hb=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xg,"__esModule",{value:!0});const RI=Hb(If),OI=Hb(Gc),kI=Pf;let PI=class $b{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},kI.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new RI.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $b(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:a}={}){let u;const h=new URL(`${this.url}/rpc/${t}`);let m;r||i?(u=r?"HEAD":"GET",Object.entries(n).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{h.searchParams.append(y,v)})):(u="POST",m=n);const p=Object.assign({},this.headers);return a&&(p.Prefer=`count=${a}`),new OI.default({method:u,url:h,headers:p,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}};xg.default=PI;var pl=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.PostgrestError=Qn.PostgrestBuilder=Qn.PostgrestTransformBuilder=Qn.PostgrestFilterBuilder=Qn.PostgrestQueryBuilder=Qn.PostgrestClient=void 0;const Gb=pl(xg);Qn.PostgrestClient=Gb.default;const qb=pl(If);Qn.PostgrestQueryBuilder=qb.default;const Xb=pl(Gc);Qn.PostgrestFilterBuilder=Xb.default;const Yb=pl(Rf);Qn.PostgrestTransformBuilder=Yb.default;const Kb=pl(Of);Qn.PostgrestBuilder=Kb.default;const Qb=pl(kf);Qn.PostgrestError=Qb.default;var DI=Qn.default={PostgrestClient:Gb.default,PostgrestQueryBuilder:qb.default,PostgrestFilterBuilder:Xb.default,PostgrestTransformBuilder:Yb.default,PostgrestBuilder:Kb.default,PostgrestError:Qb.default};const{PostgrestClient:MI,PostgrestQueryBuilder:lj,PostgrestFilterBuilder:cj,PostgrestTransformBuilder:uj,PostgrestBuilder:dj,PostgrestError:fj}=DI;let P1;typeof window>"u"?P1=require("ws"):P1=window.WebSocket;const jI=P1,LI="2.11.10",BI={"X-Client-Info":`realtime-js/${LI}`},FI="1.0.0",Zb=1e4,UI=1e3;var Ia;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ia||(Ia={}));var Pn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pn||(Pn={}));var Vr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Vr||(Vr={}));var D1;(function(e){e.websocket="websocket"})(D1||(D1={}));var lo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(lo||(lo={}));class WI{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=r.decode(t.slice(u,u+i));u=u+i;const m=r.decode(t.slice(u,u+a));u=u+a;const p=JSON.parse(r.decode(t.slice(u,t.byteLength)));return{ref:null,topic:h,event:m,payload:p}}}class Jb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Nt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Nt||(Nt={}));const nw=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,u)=>(a[u]=VI(u,e,t,i),a),{})},VI=(e,t,n,r)=>{const i=t.find(h=>h.name===e),a=i==null?void 0:i.type,u=n[e];return a&&!r.includes(a)?eC(a,u):M1(u)},eC=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return GI(t,n)}switch(e){case Nt.bool:return zI(t);case Nt.float4:case Nt.float8:case Nt.int2:case Nt.int4:case Nt.int8:case Nt.numeric:case Nt.oid:return HI(t);case Nt.json:case Nt.jsonb:return $I(t);case Nt.timestamp:return qI(t);case Nt.abstime:case Nt.date:case Nt.daterange:case Nt.int4range:case Nt.int8range:case Nt.money:case Nt.reltime:case Nt.text:case Nt.time:case Nt.timestamptz:case Nt.timetz:case Nt.tsrange:case Nt.tstzrange:return M1(t);default:return M1(t)}},M1=e=>e,zI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},HI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$I=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},GI=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const u=e.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(h=>eC(t,h))}return e},qI=e=>typeof e=="string"?e.replace(" ","T"):e,tC=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Jh{constructor(t,n,r={},i=Zb){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var rw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(rw||(rw={}));class sc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=sc.syncState(this.state,i,a,u),this.pendingDiffs.forEach(m=>{this.state=sc.syncDiff(this.state,m,a,u)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=sc.syncDiff(this.state,i,a,u),h())}),this.onJoin((i,a,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:u})}),this.onLeave((i,a,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),u=this.transformState(n),h={},m={};return this.map(a,(p,y)=>{u[p]||(m[p]=y)}),this.map(u,(p,y)=>{const v=a[p];if(v){const E=y.map(O=>O.presence_ref),N=v.map(O=>O.presence_ref),P=y.filter(O=>N.indexOf(O.presence_ref)<0),T=v.filter(O=>E.indexOf(O.presence_ref)<0);P.length>0&&(h[p]=P),T.length>0&&(m[p]=T)}else h[p]=y}),this.syncDiff(a,{joins:h,leaves:m},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(h,m)=>{var p;const y=(p=t[h])!==null&&p!==void 0?p:[];if(t[h]=this.cloneDeep(m),y.length>0){const v=t[h].map(N=>N.presence_ref),E=y.filter(N=>v.indexOf(N.presence_ref)<0);t[h].unshift(...E)}r(h,y,m)}),this.map(u,(h,m)=>{let p=t[h];if(!p)return;const y=m.map(v=>v.presence_ref);p=p.filter(v=>y.indexOf(v.presence_ref)<0),t[h]=p,i(h,p,m),p.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(sw||(sw={}));var iw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(iw||(iw={}));var _s;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(_s||(_s={}));class wg{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Jh(this,Vr.join,this.params,this.timeout),this.rejoinTimer=new Jb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new sc(this),this.broadcastEndpointURL=tC(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:u,private:h}}=this.params;this._onError(y=>t==null?void 0:t(_s.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(_s.CLOSED));const m={},p={broadcast:a,presence:u,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],private:h};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var v;if(this.socket.setAuth(),y===void 0){t==null||t(_s.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,N=(v=E==null?void 0:E.length)!==null&&v!==void 0?v:0,P=[];for(let T=0;T<N;T++){const O=E[T],{filter:{event:I,schema:_,table:S,filter:D}}=O,W=y&&y[T];if(W&&W.event===I&&W.schema===_&&W.table===S&&W.filter===D)P.push(Object.assign(Object.assign({},O),{id:W.id}));else{this.unsubscribe(),this.state=Pn.errored,t==null||t(_s.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,t&&t(_s.SUBSCRIBED);return}}).receive("error",y=>{this.state=Pn.errored,t==null||t(_s.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(_s.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:u}=t,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=p.body)===null||i===void 0?void 0:i.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,h,m;const p=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const i=new Jh(this,Vr.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),u}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Jh(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const u=t.toLocaleLowerCase(),{close:h,error:m,leave:p,join:y}=Vr;if(r&&[h,m,p,y].indexOf(u)>=0&&r!==this._joinRef())return;let E=this._onMessage(u,n,r);if(n&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(N=>{var P,T,O;return((P=N.filter)===null||P===void 0?void 0:P.event)==="*"||((O=(T=N.filter)===null||T===void 0?void 0:T.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===u}).map(N=>N.callback(E,r)):(a=this.bindings[u])===null||a===void 0||a.filter(N=>{var P,T,O,I,_,S;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in N){const D=N.id,W=(P=N.filter)===null||P===void 0?void 0:P.event;return D&&((T=n.ids)===null||T===void 0?void 0:T.includes(D))&&(W==="*"||(W==null?void 0:W.toLocaleLowerCase())===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const D=(_=(I=N==null?void 0:N.filter)===null||I===void 0?void 0:I.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return D==="*"||D===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===u}).map(N=>{if(typeof E=="object"&&"ids"in E){const P=E.data,{schema:T,table:O,commit_timestamp:I,type:_,errors:S}=P;E=Object.assign(Object.assign({},{schema:T,table:O,commit_timestamp:I,eventType:_,new:{},old:{},errors:S}),this._getPayloadRecords(P))}N.callback(E,r)})}_isClosed(){return this.state===Pn.closed}_isJoined(){return this.state===Pn.joined}_isJoining(){return this.state===Pn.joining}_isLeaving(){return this.state===Pn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&wg.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Vr.close,{},t)}_onError(t){this._on(Vr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=nw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=nw(t.columns,t.old_record)),n}}const ow=()=>{},XI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class YI{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=BI,this.params={},this.timeout=Zb,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ow,this.ref=0,this.logger=ow,this.conn=null,this.sendBuffer=[],this.serializer=new WI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let u;return a?u=a:typeof fetch>"u"?u=(...h)=>$c(async()=>{const{default:m}=await Promise.resolve().then(()=>hl);return{default:m}},void 0).then(({default:m})=>m(...h)):u=fetch,(...h)=>u(...h)},this.endPoint=`${t}/${D1.websocket}`,this.httpEndpoint=tC(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,u)=>u(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Jb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=jI),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new KI(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:FI}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ia.connecting:return lo.Connecting;case Ia.open:return lo.Open;case Ia.closing:return lo.Closing;default:return lo.Closed}}isConnected(){return this.connectionState()===lo.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new wg(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,u=()=>{this.encode(t,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Vr.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(UI,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:a,ref:u}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${i} ${u&&"("+u+")"||""}`,a),Array.from(this.channels).filter(h=>h._isMember(r)).forEach(h=>h._trigger(i,a,u)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Vr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([XI],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class KI{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ia.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class yg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function fn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class QI extends yg{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class j1 extends yg{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var ZI=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{p(r.next(y))}catch(v){u(v)}}function m(y){try{p(r.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):i(y.value).then(h,m)}p((r=r.apply(e,t||[])).next())})};const nC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$c(async()=>{const{default:r}=await Promise.resolve().then(()=>hl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},JI=()=>ZI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $c(()=>Promise.resolve().then(()=>hl),void 0)).Response:Response}),L1=e=>{if(Array.isArray(e))return e.map(n=>L1(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=L1(r)}),t};var Vo=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{p(r.next(y))}catch(v){u(v)}}function m(y){try{p(r.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):i(y.value).then(h,m)}p((r=r.apply(e,t||[])).next())})};const e0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),e6=(e,t,n)=>Vo(void 0,void 0,void 0,function*(){const r=yield JI();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new QI(e0(i),e.status||500))}).catch(i=>{t(new j1(e0(i),i))}):t(new j1(e0(e),e))}),t6=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function qc(e,t,n,r,i,a){return Vo(this,void 0,void 0,function*(){return new Promise((u,h)=>{e(n,t6(t,r,i,a)).then(m=>{if(!m.ok)throw m;return r!=null&&r.noResolveJson?m:m.json()}).then(m=>u(m)).catch(m=>e6(m,h,r))})})}function Wd(e,t,n,r){return Vo(this,void 0,void 0,function*(){return qc(e,"GET",t,n,r)})}function ci(e,t,n,r,i){return Vo(this,void 0,void 0,function*(){return qc(e,"POST",t,r,i,n)})}function n6(e,t,n,r,i){return Vo(this,void 0,void 0,function*(){return qc(e,"PUT",t,r,i,n)})}function r6(e,t,n,r){return Vo(this,void 0,void 0,function*(){return qc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function rC(e,t,n,r,i){return Vo(this,void 0,void 0,function*(){return qc(e,"DELETE",t,r,i,n)})}var qn=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{p(r.next(y))}catch(v){u(v)}}function m(y){try{p(r.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):i(y.value).then(h,m)}p((r=r.apply(e,t||[])).next())})};const s6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},aw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class i6{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=nC(i)}uploadOrUpdate(t,n,r,i){return qn(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},aw),i);let h=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const m=u.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),m&&a.append("metadata",this.encodeMetadata(m)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl),m&&a.append("metadata",this.encodeMetadata(m))):(a=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),i!=null&&i.headers&&(h=Object.assign(Object.assign({},h),i.headers));const p=this._removeEmptyFolders(n),y=this._getFinalPath(p),v=yield this.fetch(`${this.url}/object/${y}`,Object.assign({method:t,body:a,headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{})),E=yield v.json();return v.ok?{data:{path:p,id:E.Id,fullPath:E.Key},error:null}:{data:null,error:E}}catch(a){if(fn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return qn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return qn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),u=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let m;const p=Object.assign({upsert:aw.upsert},i),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",p.cacheControl)):(m=r,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const v=yield this.fetch(h.toString(),{method:"PUT",body:m,headers:y}),E=yield v.json();return v.ok?{data:{path:a,fullPath:E.Key},error:null}:{data:null,error:E}}catch(m){if(fn(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(t,n){return qn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield ci(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),u=new URL(this.url+a.url),h=u.searchParams.get("token");if(!h)throw new yg("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:h},error:null}}catch(r){if(fn(r))return{data:null,error:r};throw r}})}update(t,n,r){return qn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return qn(this,void 0,void 0,function*(){try{return{data:yield ci(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(fn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return qn(this,void 0,void 0,function*(){try{return{data:{path:(yield ci(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(fn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return qn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield ci(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(i){if(fn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return qn(this,void 0,void 0,function*(){try{const i=yield ci(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(i){if(fn(i))return{data:null,error:i};throw i}})}download(t,n){return qn(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=a?`?${a}`:"";try{const h=this._getFinalPath(t);return{data:yield(yield Wd(this.fetch,`${this.url}/${i}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(fn(h))return{data:null,error:h};throw h}})}info(t){return qn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Wd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:L1(r),error:null}}catch(r){if(fn(r))return{data:null,error:r};throw r}})}exists(t){return qn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield r6(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(fn(r)&&r instanceof j1){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&i.push(m);let p=i.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}remove(t){return qn(this,void 0,void 0,function*(){try{return{data:yield rC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(fn(n))return{data:null,error:n};throw n}})}list(t,n,r){return qn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},s6),n),{prefix:t||""});return{data:yield ci(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(fn(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const o6="2.7.1",a6={"X-Client-Info":`storage-js/${o6}`};var Jo=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{p(r.next(y))}catch(v){u(v)}}function m(y){try{p(r.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):i(y.value).then(h,m)}p((r=r.apply(e,t||[])).next())})};class l6{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},a6),n),this.fetch=nC(r)}listBuckets(){return Jo(this,void 0,void 0,function*(){try{return{data:yield Wd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(fn(t))return{data:null,error:t};throw t}})}getBucket(t){return Jo(this,void 0,void 0,function*(){try{return{data:yield Wd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(fn(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Jo(this,void 0,void 0,function*(){try{return{data:yield ci(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(fn(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Jo(this,void 0,void 0,function*(){try{return{data:yield n6(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(fn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Jo(this,void 0,void 0,function*(){try{return{data:yield ci(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(fn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Jo(this,void 0,void 0,function*(){try{return{data:yield rC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(fn(n))return{data:null,error:n};throw n}})}}class c6 extends l6{constructor(t,n={},r){super(t,n,r)}from(t){return new i6(this.url,this.headers,t,this.fetch)}}const u6="2.50.0";let Gl="";typeof Deno<"u"?Gl="deno":typeof document<"u"?Gl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gl="react-native":Gl="node";const d6={"X-Client-Info":`supabase-js-${Gl}/${u6}`},f6={headers:d6},h6={schema:"public"},p6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},g6={};var m6=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{p(r.next(y))}catch(v){u(v)}}function m(y){try{p(r.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):i(y.value).then(h,m)}p((r=r.apply(e,t||[])).next())})};const x6=e=>{let t;return e?t=e:typeof fetch>"u"?t=Wb:t=fetch,(...n)=>t(...n)},w6=()=>typeof Headers>"u"?Vb:Headers,y6=(e,t,n)=>{const r=x6(n),i=w6();return(a,u)=>m6(void 0,void 0,void 0,function*(){var h;const m=(h=yield t())!==null&&h!==void 0?h:e;let p=new i(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),r(a,Object.assign(Object.assign({},u),{headers:p}))})};var v6=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{p(r.next(y))}catch(v){u(v)}}function m(y){try{p(r.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):i(y.value).then(h,m)}p((r=r.apply(e,t||[])).next())})};function b6(e){return e.endsWith("/")?e:e+"/"}function C6(e,t){var n,r;const{db:i,auth:a,realtime:u,global:h}=e,{db:m,auth:p,realtime:y,global:v}=t,E={db:Object.assign(Object.assign({},m),i),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},y),u),global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>v6(this,void 0,void 0,function*(){return""})};return e.accessToken?E.accessToken=e.accessToken:delete E.accessToken,E}const sC="2.70.0",aa=30*1e3,B1=3,t0=B1*aa,E6="http://localhost:9999",S6="supabase.auth.token",A6={"X-Client-Info":`gotrue-js/${sC}`},F1="X-Supabase-Api-Version",iC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,N6=6e5;class vg extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class T6 extends vg{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function I6(e){return Ge(e)&&e.name==="AuthApiError"}class oC extends vg{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Xi extends vg{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class ii extends Xi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function R6(e){return Ge(e)&&e.name==="AuthSessionMissingError"}class Du extends Xi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mu extends Xi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ju extends Xi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function O6(e){return Ge(e)&&e.name==="AuthImplicitGrantRedirectError"}class lw extends Xi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class U1 extends Xi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function n0(e){return Ge(e)&&e.name==="AuthRetryableFetchError"}class cw extends Xi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ic extends Xi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uw=` 	
\r=`.split(""),k6=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<uw.length;t+=1)e[uw[t].charCodeAt(0)]=-2;for(let t=0;t<Vd.length;t+=1)e[Vd[t].charCodeAt(0)]=t;return e})();function dw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Vd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Vd[r]),t.queuedBits-=6}}function aC(e,t,n){const r=k6[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function fw(e){const t=[],n=u=>{t.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=u=>{M6(u,r,n)};for(let u=0;u<e.length;u+=1)aC(e.charCodeAt(u),i,a);return t.join("")}function P6(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function D6(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}P6(r,t)}}function M6(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function j6(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)aC(e.charCodeAt(i),n,r);return new Uint8Array(t)}function L6(e){const t=[];return D6(e,n=>t.push(n)),new Uint8Array(t)}function B6(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>dw(i,n,r)),dw(null,n,r),t.join("")}function F6(e){return Math.round(Date.now()/1e3)+e}function U6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Lr=()=>typeof window<"u"&&typeof document<"u",ro={tested:!1,writable:!1},oc=()=>{if(!Lr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ro.tested)return ro.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ro.tested=!0,ro.writable=!0}catch{ro.tested=!0,ro.writable=!1}return ro.writable};function W6(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const lC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$c(async()=>{const{default:r}=await Promise.resolve().then(()=>hl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},V6=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",cC=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Lu=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Bu=async(e,t)=>{await e.removeItem(t)};class Mf{constructor(){this.promise=new Mf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Mf.promiseConstructor=Promise;function r0(e){const t=e.split(".");if(t.length!==3)throw new ic("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!_6.test(t[r]))throw new ic("JWT not in base64url format");return{header:JSON.parse(fw(t[0])),payload:JSON.parse(fw(t[1])),signature:j6(t[2]),raw:{header:t[0],payload:t[1]}}}async function z6(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function H6(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await e(a);if(!t(a,null,u)){r(u);return}}catch(u){if(!t(a,u)){i(u);return}}})()})}function $6(e){return("0"+e.toString(16)).substr(-2)}function G6(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,$6).join("")}async function q6(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function X6(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await q6(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ea(e,t,n=!1){const r=G6();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await cC(e,`${t}-code-verifier`,i);const a=await X6(r);return[a,r===a?"plain":"s256"]}const Y6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function K6(e){const t=e.headers.get(F1);if(!t||!t.match(Y6))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Q6(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Z6(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const J6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ta(e){if(!J6.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var eR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const oo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tR=[502,503,504];async function hw(e){var t;if(!V6(e))throw new U1(oo(e),0);if(tR.includes(e.status))throw new U1(oo(e),e.status);let n;try{n=await e.json()}catch(a){throw new oC(oo(a),a)}let r;const i=K6(e);if(i&&i.getTime()>=iC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new cw(oo(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ii}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new cw(oo(n),e.status,n.weak_password.reasons);throw new T6(oo(n),e.status||500,r)}const nR=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Je(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[F1]||(a[F1]=iC["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const u=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",m=await rR(e,t,n+h,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(m):{data:Object.assign({},m),error:null}}async function rR(e,t,n,r,i,a){const u=nR(t,r,i,a);let h;try{h=await e(n,Object.assign({},u))}catch(m){throw console.error(m),new U1(oo(m),0)}if(h.ok||await hw(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(m){await hw(m)}}function Es(e){var t;let n=null;aR(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=F6(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function pw(e){const t=Es(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function sR(e){return{data:e,error:null}}function iR(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,u=eR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},m=Object.assign({},u);return{data:{properties:h,user:m},error:null}}function oR(e){return e}function aR(e){return e.access_token&&e.refresh_token&&e.expires_in}const s0=["global","local","others"];var lR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class cR{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=lC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=s0[0]){if(s0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${s0.join(", ")}`);try{return await Je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fi})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=lR(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:iR,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fi})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,u,h,m;try{const p={nextPage:null,lastPage:0,total:0},y=await Je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:oR});if(y.error)throw y.error;const v=await y.json(),E=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,N=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return N.length>0&&(N.forEach(P=>{const T=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(P.split(";")[1].split("=")[1]);p[`${O}Page`]=T}),p.total=parseInt(E)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(Ge(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){ta(t);try{return await Je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fi})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ta(t);try{return await Je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:fi})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ta(t);try{return await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:fi})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ta(t.userId);try{const{data:n,error:r}=await Je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ta(t.userId),ta(t.id);try{return{data:await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}}const uR={getItem:e=>oc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{oc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{oc()&&globalThis.localStorage.removeItem(e)}};function gw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function dR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const na={debug:!!(globalThis&&oc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class uC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class fR extends uC{}async function hR(e,t,n){na.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),na.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){na.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{na.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw na.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new fR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(na.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}dR();const pR={url:E6,storageKey:S6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:A6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function mw(e,t,n){return await n()}class Tc{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Tc.nextInstanceID,Tc.nextInstanceID+=1,this.instanceID>0&&Lr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},pR),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new cR({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=lC(i.fetch),this.lock=i.lock||mw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Lr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=hR:this.lock=mw,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:oc()?this.storage=uR:(this.memoryStorage={},this.storage=gw(this.memoryStorage)):(this.memoryStorage={},this.storage=gw(this.memoryStorage)),Lr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=W6(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Lr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),O6(a)){const m=(t=a.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:h}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ge(n)?{error:n}:{error:new oC("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Es}),{data:u,error:h}=a;if(h||!u)return{data:{user:null,session:null},error:h};const m=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(a){if(Ge(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:y,password:v,options:E}=t;let N=null,P=null;this.flowType==="pkce"&&([N,P]=await ea(this.storage,this.storageKey)),a=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:y,password:v,data:(n=E==null?void 0:E.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:N,code_challenge_method:P},xform:Es})}else if("phone"in t){const{phone:y,password:v,options:E}=t;a=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(r=E==null?void 0:E.data)!==null&&r!==void 0?r:{},channel:(i=E==null?void 0:E.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:Es})}else throw new Mu("You must provide either an email or phone number and a password");const{data:u,error:h}=a;if(h||!u)return{data:{user:null,session:null},error:h};const m=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(a){if(Ge(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:u,options:h}=t;n=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:pw})}else if("phone"in t){const{phone:a,password:u,options:h}=t;n=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:pw})}else throw new Mu("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Du}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,a,u,h,m,p,y,v,E,N;let P,T;if("message"in t)P=t.message,T=t.signature;else{const{chain:O,wallet:I,statement:_,options:S}=t;let D;if(Lr())if(typeof I=="object")D=I;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))D=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=I}const W=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const V=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:W.host,uri:W.href}),_?{statement:_}:null));let F;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")F=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)F=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)P=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),T=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${W.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${W.href}`,`Issued At: ${(i=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((h=S==null?void 0:S.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((m=S==null?void 0:S.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((p=S==null?void 0:S.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((v=(y=S==null?void 0:S.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...S.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const V=await D.signMessage(new TextEncoder().encode(P),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=V}}try{const{data:O,error:I}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:B6(T)},!((E=t.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(N=t.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:Es});if(I)throw I;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new Du}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:I})}catch(O){if(Ge(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(t){const n=await Lu(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:u}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Es});if(await Bu(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Du}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:u})}catch(a){if(Ge(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:u}=t,h=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Es}),{data:m,error:p}=h;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Du}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:p})}catch(n){if(Ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,a,u;try{if("email"in t){const{email:h,options:m}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await ea(this.storage,this.storageKey));const{error:v}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(r=m==null?void 0:m.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:h,options:m}=t,{data:p,error:y}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(i=m==null?void 0:m.data)!==null&&i!==void 0?i:{},create_user:(a=m==null?void 0:m.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(u=m==null?void 0:m.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y}}throw new Mu("You must provide either an email or phone number.")}catch(h){if(Ge(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:h}=await Je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Es});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const m=u.session,p=u.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(i){if(Ge(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let a=null,u=null;return this.flowType==="pkce"&&([a,u]=await ea(this.storage,this.storageKey)),await Je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:sR})}catch(a){if(Ge(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ii;const{error:i}=await Je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ge(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:u}=await Je(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:u,error:h}=await Je(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Mu("You must provide either an email or phone number and a type")}catch(n){if(Ge(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Lu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<t0:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(m,p,y)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,p,y))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fi}):await this._useSession(async n=>{var r,i,a;const{data:u,error:h}=n;if(h)throw h;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ii}:await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:fi})})}catch(n){if(Ge(n))return R6(n)&&(await this._removeSession(),await Bu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ii;const u=i.session;let h=null,m=null;this.flowType==="pkce"&&t.email!=null&&([h,m]=await ea(this.storage,this.storageKey));const{data:p,error:y}=await Je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:m}),jwt:u.access_token,xform:fi});if(y)throw y;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ii;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:u}=r0(t.access_token);if(u.exp&&(r=u.exp,i=r<=n),i){const{session:h,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:m}=await this._getUser(t.access_token);if(m)throw m;a={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Ge(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:u,error:h}=n;if(h)throw h;t=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ii;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ge(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Lr())throw new ju("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ju(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new lw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ju("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new lw("No code detected.");const{data:_,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:u,expires_in:h,expires_at:m,token_type:p}=t;if(!a||!h||!u||!p)throw new ju("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(h);let E=y+v;m&&(E=parseInt(m));const N=E-y;N*1e3<=aa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${v}s`);const P=E-v;y-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,E,y):y-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,E,y);const{data:T,error:O}=await this._getUser(a);if(O)throw O;const I={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:v,expires_at:E,refresh_token:u,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:t.type},error:null}}catch(r){if(Ge(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Lu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const u=(r=i.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:h}=await this.admin.signOut(u,t);if(h&&!(I6(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return t!=="others"&&(await this._removeSession(),await Bu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=U6(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ea(this.storage,this.storageKey,!0));try{return await Je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Ge(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var u,h,m,p,y;const{data:v,error:E}=a;if(E)throw E;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Je(this.fetch,"GET",N,{headers:this.headers,jwt:(y=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(i)throw i;return Lr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ge(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:u}=n;if(u)throw u;return await Je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await H6(async i=>(i>0&&await z6(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Es})),(i,a)=>{const u=200*Math.pow(2,i);return a&&n0(a)&&Date.now()+u-r<aa})}catch(r){if(this._debug(n,"error",r),Ge(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Lr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Lu(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<t0;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${t0}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),n0(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ii;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Mf;const{data:a,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!a.session)throw new ii;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={session:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(i,"error",a),Ge(a)){const u={session:null,error:a};return n0(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(m){a.push(m)}});if(await Promise.all(u),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await cC(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Bu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Lr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),aa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/aa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${aa}ms, refresh threshold is ${B1} ticks`),i<=B1&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof uC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,u]=await ea(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(h.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:u}=n;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:m,error:p}=await Je(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&(!((i=m==null?void 0:m.totp)===null||i===void 0)&&i.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:u,error:h}=await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(u=>u.factor_type==="totp"&&u.status==="verified"),a=r.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=r0(i.access_token);let h=null;u.aal&&(h=u.aal);let m=h;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const y=u.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r||(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+N6>Date.now()))return r;const{data:i,error:a}=await Je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new ic("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(u=>u.kid===t),!r)throw new ic("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:N,error:P}=await this.getSession();if(P||!N.session)return{data:null,error:P};r=N.session.access_token}const{header:i,payload:a,signature:u,raw:{header:h,payload:m}}=r0(r);if(Q6(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:N}=await this.getUser(r);if(N)throw N;return{data:{claims:a,header:i,signature:u},error:null}}const p=Z6(i.alg),y=await this.fetchJwk(i.kid,n),v=await crypto.subtle.importKey("jwk",y,p,!0,["verify"]);if(!await crypto.subtle.verify(p,v,u,L6(`${h}.${m}`)))throw new ic("Invalid JWT signature");return{data:{claims:a,header:i,signature:u},error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}}Tc.nextInstanceID=0;const gR=Tc;class mR extends gR{constructor(t){super(t)}}var xR=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{p(r.next(y))}catch(v){u(v)}}function m(y){try{p(r.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):i(y.value).then(h,m)}p((r=r.apply(e,t||[])).next())})};class wR{constructor(t,n,r){var i,a,u;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=b6(t),m=new URL(h);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,y={db:h6,realtime:g6,auth:Object.assign(Object.assign({},p6),{storageKey:p}),global:f6},v=C6(r??{},y);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=v.global.headers)!==null&&a!==void 0?a:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(E,N)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(N)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=y6(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new MI(new URL("rest/v1",m).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new dI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new c6(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return xR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:a,flowType:u,lock:h,debug:m},p,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mR({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:u,lock:h,debug:m,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new YI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yR=(e,t,n)=>new wR(e,t,n),vR="https://nvwscxburlixyqkbhfux.supabase.co",bR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im52d3NjeGJ1cmxpeHlxa2JoZnV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA1Mjk1MTEsImV4cCI6MjA2NjEwNTUxMX0.ppBJapu82yVC7wBeXqZlkgceMGLpPt9VA58AOSmUlhI",Ze=yR(vR,bR),dC=C.createContext(void 0);function CR({children:e}){const[t,n]=C.useState(null),[r,i]=C.useState(null),[a,u]=C.useState(null),[h,m]=C.useState(!0),p=Vs(),y=()=>{n(null),i(null),u(null),localStorage.removeItem("supabase.auth.token")},v=async _=>{try{const{data:S,error:D}=await Ze.from("profiles").select("*").eq("id",_.id).single();if(D){if(console.error("Erro ao carregar perfil:",D),D.code==="PGRST116"){await T();return}throw D}if((S==null?void 0:S.is_active)===!1){p("/acesso-negado",{replace:!0});return}if(i(S),S!=null&&S.company_id){const{data:W,error:V}=await Ze.from("companies").select("*").eq("id",S.company_id).single();V?console.error("Erro ao carregar empresa:",V):u(W)}}catch(S){console.error("Erro ao carregar dados do usuário:",S),await T()}},E=async()=>{var _;try{const{data:{session:S},error:D}=await Ze.auth.getSession();if(D){console.error("Erro ao verificar sessão:",D),y(),m(!1);return}if(S!=null&&S.user){const{error:W}=await Ze.from("profiles").select("id").limit(1);if(W&&(W.code==="invalid_token"||(_=W.message)!=null&&_.includes("JWT"))){await T();return}n(S.user),await v(S.user)}else y()}catch(S){console.error("Erro ao verificar sessão:",S),y()}finally{m(!1)}},N=async(_,S)=>{const{data:D,error:W}=await Ze.auth.signInWithPassword({email:_,password:S});if(W)throw new Error("Email ou senha inválidos.");if(D.user){const{data:V,error:F}=await Ze.from("profiles").select("is_active").eq("id",D.user.id).single();return F||!(V!=null&&V.is_active)?(await Ze.auth.signOut(),"inactive"):(n(D.user),await v(D.user),"success")}throw new Error("Erro inesperado.")},P=async(_,S,D)=>{const W=`${window.location.origin}/`,{data:V,error:F}=await Ze.auth.signUp({email:_,password:S,options:{emailRedirectTo:W,data:{name:D}}});if(F)throw F;if(V.user){const{error:L}=await Ze.from("profiles").insert({id:V.user.id,name:D,email:_,role:"viewer",company_id:""});if(L)throw console.error("Erro ao criar perfil:",L),L}},T=async()=>{try{m(!0),await Ze.auth.signOut(),y(),p("/login",{replace:!0})}catch(_){console.error("Erro ao fazer logout:",_),y(),p("/login",{replace:!0})}finally{m(!1)}},O=async _=>{try{const{error:S}=await Ze.auth.updateUser({password:_});return S?{success:!1,error:S.message}:{success:!0}}catch(S){return{success:!1,error:S instanceof Error?S.message:"Erro desconhecido"}}};C.useEffect(()=>{E();const{data:{subscription:_}}=Ze.auth.onAuthStateChange(async(S,D)=>{S==="SIGNED_IN"&&(D!=null&&D.user)?(n(D.user),setTimeout(()=>{v(D.user)},0)):S==="SIGNED_OUT"?y():S==="TOKEN_REFRESHED"&&(D!=null&&D.user)&&(n(D.user),setTimeout(()=>{v(D.user)},0))});return()=>_.unsubscribe()},[]);const I={user:t,profile:r,company:a,loading:h,signIn:N,signUp:P,signOut:T,updatePassword:O};return g.jsx(dC.Provider,{value:I,children:e})}function Un(){const e=C.useContext(dC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function ei({children:e,requiredRole:t}){const{user:n,profile:r,loading:i}=Un(),a=ws();return i?g.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n?r?r.is_active===!1?g.jsx(b1,{to:"/acesso-negado",replace:!0}):t&&r.role!==t&&r.role!=="admin"?g.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Acesso Negado"}),g.jsx("p",{className:"text-gray-600 mt-2",children:"Você não tem permissão para acessar esta página"})]})}):g.jsx(g.Fragment,{children:e}):g.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Carregando perfil..."}),g.jsx("p",{className:"text-gray-600 mt-2",children:"Configurando sua conta"})]})}):g.jsx(b1,{to:"/login",state:{from:a},replace:!0})}function ER(){const{profile:e}=Un(),t=ws(),n=[{name:"Dashboard",href:"/dashboard",icon:Tb},{name:"Ativos",href:"/assets",icon:Yt},...(e==null?void 0:e.role)==="admin"?[{name:"Usuários",href:"/users",icon:Fd}]:[],{name:"Meu Perfil",href:"/profile",icon:Bd}];return g.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:g.jsxs("div",{className:"flex flex-col flex-grow pt-5 bg-white border-r border-gray-200 overflow-y-auto",children:[g.jsx("div",{className:"flex items-center flex-shrink-0 px-6 pb-4",children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-600 rounded-lg",children:g.jsx(Yt,{className:"h-6 w-6 text-white"})}),g.jsx("div",{children:g.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Armazena App"})})]})}),g.jsx("div",{className:"mt-5 flex-grow flex flex-col",children:g.jsx("nav",{className:"flex-1 px-4 space-y-2",children:n.map(r=>{const i=t.pathname===r.href;return g.jsxs(ko,{to:r.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[g.jsx(r.icon,{className:`mr-3 flex-shrink-0 h-5 w-5 ${i?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}`}),r.name]},r.name)})})})]})})}var SR={};function fC(){const{user:e,profile:t}=Un(),{toast:n}=Or(),r=Us(),[i,a]=C.useState(!1),{data:u=[],isLoading:h}=Li({queryKey:["notifications"],queryFn:async()=>{const{data:_,error:S}=await Ze.from("notifications").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1}).limit(50);if(S)throw S;return _},enabled:!!e}),{data:m}=Li({queryKey:["push-subscription"],queryFn:async()=>{const{data:_,error:S}=await Ze.from("push_subscriptions").select("*").eq("user_id",e==null?void 0:e.id).single();if(S&&S.code!=="PGRST116")throw S;return _},enabled:!!e});C.useEffect(()=>{a(!!m)},[m]);const p=u.filter(_=>!_.read_at).length,y=C.useCallback(async()=>"Notification"in window?Notification.permission==="granted"?!0:Notification.permission==="denied"?(n({title:"Permissão negada",description:"As notificações foram bloqueadas. Habilite-as nas configurações do navegador.",variant:"destructive"}),!1):await Notification.requestPermission()==="granted":(n({title:"Notificações não suportadas",description:"Seu navegador não suporta notificações push.",variant:"destructive"}),!1),[n]),v=C.useCallback(async()=>{if(!("serviceWorker"in navigator))return null;try{const _=await navigator.serviceWorker.register("/sw.js");return await navigator.serviceWorker.ready,_}catch(_){return console.error("Erro ao registrar service worker:",_),null}},[]),E=C.useCallback(async()=>{if(e)try{if(!await y())return;const S=await v();if(!S){n({title:"Erro",description:"Não foi possível registrar o service worker.",variant:"destructive"});return}const D=await S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:AR(SR.VITE_VAPID_PUBLIC_KEY||"")}),{error:W}=await Ze.from("push_subscriptions").upsert({user_id:e.id,endpoint:D.endpoint,p256dh:btoa(String.fromCharCode.apply(null,new Uint8Array(D.getKey("p256dh")||new ArrayBuffer(0)))),auth:btoa(String.fromCharCode.apply(null,new Uint8Array(D.getKey("auth")||new ArrayBuffer(0))))});if(W)throw W;r.invalidateQueries({queryKey:["push-subscription"]}),n({title:"Notificações ativadas",description:"Você receberá notificações sobre mudanças nos ativos."})}catch(_){console.error("Erro ao inscrever para notificações:",_),n({title:"Erro",description:"Não foi possível ativar as notificações.",variant:"destructive"})}},[e,y,v,r,n]),N=C.useCallback(async()=>{if(e)try{const S=await(await navigator.serviceWorker.ready).pushManager.getSubscription();S&&await S.unsubscribe();const{error:D}=await Ze.from("push_subscriptions").delete().eq("user_id",e.id);if(D)throw D;r.invalidateQueries({queryKey:["push-subscription"]}),n({title:"Notificações desativadas",description:"Você não receberá mais notificações push."})}catch(_){console.error("Erro ao cancelar inscrição:",_),n({title:"Erro",description:"Não foi possível desativar as notificações.",variant:"destructive"})}},[e,r,n]),P=ms({mutationFn:async _=>{const{error:S}=await Ze.from("notifications").update({read_at:new Date().toISOString()}).eq("id",_);if(S)throw S},onSuccess:()=>{r.invalidateQueries({queryKey:["notifications"]})}}),T=ms({mutationFn:async()=>{const{error:_}=await Ze.from("notifications").update({read_at:new Date().toISOString()}).eq("user_id",e==null?void 0:e.id).is("read_at",null);if(_)throw _},onSuccess:()=>{r.invalidateQueries({queryKey:["notifications"]}),n({title:"Notificações marcadas como lidas"})}}),O=C.useCallback(_=>P.mutateAsync(_),[P]),I=C.useCallback(()=>T.mutateAsync(),[T]);return{notifications:u,unreadCount:p,loading:h,subscribeToPush:E,unsubscribeFromPush:N,markAsRead:O,markAllAsRead:I,isSubscribed:i}}function AR(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(n),i=new Uint8Array(r.length);for(let a=0;a<r.length;++a)i[a]=r.charCodeAt(a);return i}const bg=dl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ue=C.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const u=r?Po:"button";return g.jsx(u,{className:ke(bg({variant:t,size:n,className:e})),ref:a,...i})});Ue.displayName="Button";var _R=Cy.useId||(()=>{}),NR=0;function Eo(e){const[t,n]=C.useState(_R());return En(()=>{n(r=>r??String(NR++))},[e]),t?`radix-${t}`:""}var i0="focusScope.autoFocusOnMount",o0="focusScope.autoFocusOnUnmount",xw={bubbles:!1,cancelable:!0},TR="FocusScope",Cg=C.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...u}=e,[h,m]=C.useState(null),p=en(i),y=en(a),v=C.useRef(null),E=it(t,T=>m(T)),N=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let T=function(S){if(N.paused||!h)return;const D=S.target;h.contains(D)?v.current=D:oi(v.current,{select:!0})},O=function(S){if(N.paused||!h)return;const D=S.relatedTarget;D!==null&&(h.contains(D)||oi(v.current,{select:!0}))},I=function(S){if(document.activeElement===document.body)for(const W of S)W.removedNodes.length>0&&oi(h)};document.addEventListener("focusin",T),document.addEventListener("focusout",O);const _=new MutationObserver(I);return h&&_.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",O),_.disconnect()}}},[r,h,N.paused]),C.useEffect(()=>{if(h){yw.add(N);const T=document.activeElement;if(!h.contains(T)){const I=new CustomEvent(i0,xw);h.addEventListener(i0,p),h.dispatchEvent(I),I.defaultPrevented||(IR(DR(hC(h)),{select:!0}),document.activeElement===T&&oi(h))}return()=>{h.removeEventListener(i0,p),setTimeout(()=>{const I=new CustomEvent(o0,xw);h.addEventListener(o0,y),h.dispatchEvent(I),I.defaultPrevented||oi(T??document.body,{select:!0}),h.removeEventListener(o0,y),yw.remove(N)},0)}}},[h,p,y,N]);const P=C.useCallback(T=>{if(!n&&!r||N.paused)return;const O=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,I=document.activeElement;if(O&&I){const _=T.currentTarget,[S,D]=RR(_);S&&D?!T.shiftKey&&I===D?(T.preventDefault(),n&&oi(S,{select:!0})):T.shiftKey&&I===S&&(T.preventDefault(),n&&oi(D,{select:!0})):I===_&&T.preventDefault()}},[n,r,N.paused]);return g.jsx(Ve.div,{tabIndex:-1,...u,ref:E,onKeyDown:P})});Cg.displayName=TR;function IR(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(oi(r,{select:t}),document.activeElement!==n)return}function RR(e){const t=hC(e),n=ww(t,e),r=ww(t.reverse(),e);return[n,r]}function hC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ww(e,t){for(const n of e)if(!OR(n,{upTo:t}))return n}function OR(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function kR(e){return e instanceof HTMLInputElement&&"select"in e}function oi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&kR(e)&&t&&e.select()}}var yw=PR();function PR(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=vw(e,t),e.unshift(t)},remove(t){var n;e=vw(e,t),(n=e[0])==null||n.resume()}}}function vw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function DR(e){return e.filter(t=>t.tagName!=="A")}var a0=0;function pC(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??bw()),document.body.insertAdjacentElement("beforeend",e[1]??bw()),a0++,()=>{a0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),a0--}},[])}function bw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ds=function(){return ds=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ds.apply(this,arguments)};function gC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function MR(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var od="right-scroll-bar-position",ad="width-before-scroll-bar",jR="with-scroll-bars-hidden",LR="--removed-body-scroll-bar-size";function l0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function BR(e,t){var n=C.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var FR=typeof window<"u"?C.useLayoutEffect:C.useEffect,Cw=new WeakMap;function UR(e,t){var n=BR(null,function(r){return e.forEach(function(i){return l0(i,r)})});return FR(function(){var r=Cw.get(n);if(r){var i=new Set(r),a=new Set(e),u=n.current;i.forEach(function(h){a.has(h)||l0(h,null)}),a.forEach(function(h){i.has(h)||l0(h,u)})}Cw.set(n,e)},[e]),n}function WR(e){return e}function VR(e,t){t===void 0&&(t=WR);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var u=t(a,r);return n.push(u),function(){n=n.filter(function(h){return h!==u})}},assignSyncMedium:function(a){for(r=!0;n.length;){var u=n;n=[],u.forEach(a)}n={push:function(h){return a(h)},filter:function(){return n}}},assignMedium:function(a){r=!0;var u=[];if(n.length){var h=n;n=[],h.forEach(a),u=n}var m=function(){var y=u;u=[],y.forEach(a)},p=function(){return Promise.resolve().then(m)};p(),n={push:function(y){u.push(y),p()},filter:function(y){return u=u.filter(y),n}}}};return i}function zR(e){e===void 0&&(e={});var t=VR(null);return t.options=ds({async:!0,ssr:!1},e),t}var mC=function(e){var t=e.sideCar,n=gC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,ds({},n))};mC.isSideCarExport=!0;function HR(e,t){return e.useMedium(t),mC}var xC=zR(),c0=function(){},jf=C.forwardRef(function(e,t){var n=C.useRef(null),r=C.useState({onScrollCapture:c0,onWheelCapture:c0,onTouchMoveCapture:c0}),i=r[0],a=r[1],u=e.forwardProps,h=e.children,m=e.className,p=e.removeScrollBar,y=e.enabled,v=e.shards,E=e.sideCar,N=e.noIsolation,P=e.inert,T=e.allowPinchZoom,O=e.as,I=O===void 0?"div":O,_=e.gapMode,S=gC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=E,W=UR([n,t]),V=ds(ds({},S),i);return C.createElement(C.Fragment,null,y&&C.createElement(D,{sideCar:xC,removeScrollBar:p,shards:v,noIsolation:N,inert:P,setCallbacks:a,allowPinchZoom:!!T,lockRef:n,gapMode:_}),u?C.cloneElement(C.Children.only(h),ds(ds({},V),{ref:W})):C.createElement(I,ds({},V,{className:m,ref:W}),h))});jf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jf.classNames={fullWidth:ad,zeroRight:od};var $R=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function GR(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=$R();return t&&e.setAttribute("nonce",t),e}function qR(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function XR(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var YR=function(){var e=0,t=null;return{add:function(n){e==0&&(t=GR())&&(qR(t,n),XR(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},KR=function(){var e=YR();return function(t,n){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},wC=function(){var e=KR(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},QR={left:0,top:0,right:0,gap:0},u0=function(e){return parseInt(e||"",10)||0},ZR=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[u0(n),u0(r),u0(i)]},JR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return QR;var t=ZR(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},eO=wC(),Ra="data-scroll-locked",tO=function(e,t,n,r){var i=e.left,a=e.top,u=e.right,h=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(jR,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(h,"px ").concat(r,`;
  }
  body[`).concat(Ra,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(h,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(od,` {
    right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(ad,` {
    margin-right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(od," .").concat(od,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ad," .").concat(ad,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ra,`] {
    `).concat(LR,": ").concat(h,`px;
  }
`)},Ew=function(){var e=parseInt(document.body.getAttribute(Ra)||"0",10);return isFinite(e)?e:0},nO=function(){C.useEffect(function(){return document.body.setAttribute(Ra,(Ew()+1).toString()),function(){var e=Ew()-1;e<=0?document.body.removeAttribute(Ra):document.body.setAttribute(Ra,e.toString())}},[])},rO=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;nO();var a=C.useMemo(function(){return JR(i)},[i]);return C.createElement(eO,{styles:tO(a,!t,i,n?"":"!important")})},W1=!1;if(typeof window<"u")try{var Fu=Object.defineProperty({},"passive",{get:function(){return W1=!0,!0}});window.addEventListener("test",Fu,Fu),window.removeEventListener("test",Fu,Fu)}catch{W1=!1}var ra=W1?{passive:!1}:!1,sO=function(e){return e.tagName==="TEXTAREA"},yC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!sO(e)&&n[t]==="visible")},iO=function(e){return yC(e,"overflowY")},oO=function(e){return yC(e,"overflowX")},Sw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=vC(e,r);if(i){var a=bC(e,r),u=a[1],h=a[2];if(u>h)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},aO=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},lO=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},vC=function(e,t){return e==="v"?iO(t):oO(t)},bC=function(e,t){return e==="v"?aO(t):lO(t)},cO=function(e,t){return e==="h"&&t==="rtl"?-1:1},uO=function(e,t,n,r,i){var a=cO(e,window.getComputedStyle(t).direction),u=a*r,h=n.target,m=t.contains(h),p=!1,y=u>0,v=0,E=0;do{var N=bC(e,h),P=N[0],T=N[1],O=N[2],I=T-O-a*P;(P||I)&&vC(e,h)&&(v+=I,E+=P),h instanceof ShadowRoot?h=h.host:h=h.parentNode}while(!m&&h!==document.body||m&&(t.contains(h)||t===h));return(y&&(Math.abs(v)<1||!i)||!y&&(Math.abs(E)<1||!i))&&(p=!0),p},Uu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Aw=function(e){return[e.deltaX,e.deltaY]},_w=function(e){return e&&"current"in e?e.current:e},dO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},fO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},hO=0,sa=[];function pO(e){var t=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(hO++)[0],a=C.useState(wC)[0],u=C.useRef(e);C.useEffect(function(){u.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var T=MR([e.lockRef.current],(e.shards||[]).map(_w),!0).filter(Boolean);return T.forEach(function(O){return O.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),T.forEach(function(O){return O.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var h=C.useCallback(function(T,O){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!u.current.allowPinchZoom;var I=Uu(T),_=n.current,S="deltaX"in T?T.deltaX:_[0]-I[0],D="deltaY"in T?T.deltaY:_[1]-I[1],W,V=T.target,F=Math.abs(S)>Math.abs(D)?"h":"v";if("touches"in T&&F==="h"&&V.type==="range")return!1;var L=Sw(F,V);if(!L)return!0;if(L?W=F:(W=F==="v"?"h":"v",L=Sw(F,V)),!L)return!1;if(!r.current&&"changedTouches"in T&&(S||D)&&(r.current=W),!W)return!0;var M=r.current||W;return uO(M,O,T,M==="h"?S:D,!0)},[]),m=C.useCallback(function(T){var O=T;if(!(!sa.length||sa[sa.length-1]!==a)){var I="deltaY"in O?Aw(O):Uu(O),_=t.current.filter(function(W){return W.name===O.type&&(W.target===O.target||O.target===W.shadowParent)&&dO(W.delta,I)})[0];if(_&&_.should){O.cancelable&&O.preventDefault();return}if(!_){var S=(u.current.shards||[]).map(_w).filter(Boolean).filter(function(W){return W.contains(O.target)}),D=S.length>0?h(O,S[0]):!u.current.noIsolation;D&&O.cancelable&&O.preventDefault()}}},[]),p=C.useCallback(function(T,O,I,_){var S={name:T,delta:O,target:I,should:_,shadowParent:gO(I)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(D){return D!==S})},1)},[]),y=C.useCallback(function(T){n.current=Uu(T),r.current=void 0},[]),v=C.useCallback(function(T){p(T.type,Aw(T),T.target,h(T,e.lockRef.current))},[]),E=C.useCallback(function(T){p(T.type,Uu(T),T.target,h(T,e.lockRef.current))},[]);C.useEffect(function(){return sa.push(a),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:E}),document.addEventListener("wheel",m,ra),document.addEventListener("touchmove",m,ra),document.addEventListener("touchstart",y,ra),function(){sa=sa.filter(function(T){return T!==a}),document.removeEventListener("wheel",m,ra),document.removeEventListener("touchmove",m,ra),document.removeEventListener("touchstart",y,ra)}},[]);var N=e.removeScrollBar,P=e.inert;return C.createElement(C.Fragment,null,P?C.createElement(a,{styles:fO(i)}):null,N?C.createElement(rO,{gapMode:e.gapMode}):null)}function gO(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const mO=HR(xC,pO);var Eg=C.forwardRef(function(e,t){return C.createElement(jf,ds({},e,{ref:t,sideCar:mO}))});Eg.classNames=jf.classNames;var xO=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ia=new WeakMap,Wu=new WeakMap,Vu={},d0=0,CC=function(e){return e&&(e.host||CC(e.parentNode))},wO=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=CC(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},yO=function(e,t,n,r){var i=wO(t,Array.isArray(e)?e:[e]);Vu[n]||(Vu[n]=new WeakMap);var a=Vu[n],u=[],h=new Set,m=new Set(i),p=function(v){!v||h.has(v)||(h.add(v),p(v.parentNode))};i.forEach(p);var y=function(v){!v||m.has(v)||Array.prototype.forEach.call(v.children,function(E){if(h.has(E))y(E);else try{var N=E.getAttribute(r),P=N!==null&&N!=="false",T=(ia.get(E)||0)+1,O=(a.get(E)||0)+1;ia.set(E,T),a.set(E,O),u.push(E),T===1&&P&&Wu.set(E,!0),O===1&&E.setAttribute(n,"true"),P||E.setAttribute(r,"true")}catch(I){console.error("aria-hidden: cannot operate on ",E,I)}})};return y(t),h.clear(),d0++,function(){u.forEach(function(v){var E=ia.get(v)-1,N=a.get(v)-1;ia.set(v,E),a.set(v,N),E||(Wu.has(v)||v.removeAttribute(r),Wu.delete(v)),N||v.removeAttribute(n)}),d0--,d0||(ia=new WeakMap,ia=new WeakMap,Wu=new WeakMap,Vu={})}},EC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=xO(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),yO(r,i,n,"aria-hidden")):function(){return null}},Sg="Dialog",[SC,AC]=qi(Sg),[vO,Qr]=SC(Sg),_C=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:u=!0}=e,h=C.useRef(null),m=C.useRef(null),[p=!1,y]=Do({prop:r,defaultProp:i,onChange:a});return g.jsx(vO,{scope:t,triggerRef:h,contentRef:m,contentId:Eo(),titleId:Eo(),descriptionId:Eo(),open:p,onOpenChange:y,onOpenToggle:C.useCallback(()=>y(v=>!v),[y]),modal:u,children:n})};_C.displayName=Sg;var NC="DialogTrigger",TC=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Qr(NC,n),a=it(t,i.triggerRef);return g.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Ng(i.open),...r,ref:a,onClick:Me(e.onClick,i.onOpenToggle)})});TC.displayName=NC;var Ag="DialogPortal",[bO,IC]=SC(Ag,{forceMount:void 0}),RC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=Qr(Ag,t);return g.jsx(bO,{scope:t,forceMount:n,children:C.Children.map(r,u=>g.jsx(Kr,{present:n||a.open,children:g.jsx(Sf,{asChild:!0,container:i,children:u})}))})};RC.displayName=Ag;var zd="DialogOverlay",OC=C.forwardRef((e,t)=>{const n=IC(zd,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Qr(zd,e.__scopeDialog);return a.modal?g.jsx(Kr,{present:r||a.open,children:g.jsx(CO,{...i,ref:t})}):null});OC.displayName=zd;var CO=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Qr(zd,n);return g.jsx(Eg,{as:Po,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(Ve.div,{"data-state":Ng(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Mo="DialogContent",kC=C.forwardRef((e,t)=>{const n=IC(Mo,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Qr(Mo,e.__scopeDialog);return g.jsx(Kr,{present:r||a.open,children:a.modal?g.jsx(EO,{...i,ref:t}):g.jsx(SO,{...i,ref:t})})});kC.displayName=Mo;var EO=C.forwardRef((e,t)=>{const n=Qr(Mo,e.__scopeDialog),r=C.useRef(null),i=it(t,n.contentRef,r);return C.useEffect(()=>{const a=r.current;if(a)return EC(a)},[]),g.jsx(PC,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(e.onCloseAutoFocus,a=>{var u;a.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Me(e.onPointerDownOutside,a=>{const u=a.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0;(u.button===2||h)&&a.preventDefault()}),onFocusOutside:Me(e.onFocusOutside,a=>a.preventDefault())})}),SO=C.forwardRef((e,t)=>{const n=Qr(Mo,e.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return g.jsx(PC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var u,h;(u=e.onCloseAutoFocus)==null||u.call(e,a),a.defaultPrevented||(r.current||(h=n.triggerRef.current)==null||h.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var m,p;(m=e.onInteractOutside)==null||m.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=a.target;((p=n.triggerRef.current)==null?void 0:p.contains(u))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),PC=C.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...u}=e,h=Qr(Mo,n),m=C.useRef(null),p=it(t,m);return pC(),g.jsxs(g.Fragment,{children:[g.jsx(Cg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:g.jsx(zc,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":Ng(h.open),...u,ref:p,onDismiss:()=>h.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(_O,{titleId:h.titleId}),g.jsx(TO,{contentRef:m,descriptionId:h.descriptionId})]})]})}),_g="DialogTitle",DC=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Qr(_g,n);return g.jsx(Ve.h2,{id:i.titleId,...r,ref:t})});DC.displayName=_g;var MC="DialogDescription",jC=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Qr(MC,n);return g.jsx(Ve.p,{id:i.descriptionId,...r,ref:t})});jC.displayName=MC;var LC="DialogClose",BC=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Qr(LC,n);return g.jsx(Ve.button,{type:"button",...r,ref:t,onClick:Me(e.onClick,()=>i.onOpenChange(!1))})});BC.displayName=LC;function Ng(e){return e?"open":"closed"}var FC="DialogTitleWarning",[AO,UC]=vT(FC,{contentName:Mo,titleName:_g,docsSlug:"dialog"}),_O=({titleId:e})=>{const t=UC(FC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},NO="DialogDescriptionWarning",TO=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${UC(NO).contentName}}.`;return C.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Tg=_C,Ig=TC,Rg=RC,Xc=OC,Yc=kC,Kc=DC,Qc=jC,Lf=BC;const IO=Tg,RO=Ig,OO=Rg,WC=C.forwardRef(({className:e,...t},n)=>g.jsx(Xc,{className:ke("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));WC.displayName=Xc.displayName;const kO=dl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),VC=C.forwardRef(({side:e="right",className:t,children:n,...r},i)=>g.jsxs(OO,{children:[g.jsx(WC,{}),g.jsxs(Yc,{ref:i,className:ke(kO({side:e}),t),...r,children:[n,g.jsxs(Lf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[g.jsx(Wo,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));VC.displayName=Yc.displayName;const PO=C.forwardRef(({className:e,...t},n)=>g.jsx(Kc,{ref:n,className:ke("text-lg font-semibold text-foreground",e),...t}));PO.displayName=Kc.displayName;const DO=C.forwardRef(({className:e,...t},n)=>g.jsx(Qc,{ref:n,className:ke("text-sm text-muted-foreground",e),...t}));DO.displayName=Qc.displayName;var MO="Separator",Nw="horizontal",jO=["horizontal","vertical"],zC=C.forwardRef((e,t)=>{const{decorative:n,orientation:r=Nw,...i}=e,a=LO(r)?r:Nw,h=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return g.jsx(Ve.div,{"data-orientation":a,...h,...i,ref:t})});zC.displayName=MO;function LO(e){return jO.includes(e)}var HC=zC;const Bf=C.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>g.jsx(HC,{ref:i,decorative:n,orientation:t,className:ke("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Bf.displayName=HC.displayName;function BO(){const{profile:e,company:t,signOut:n}=Un(),r=ws(),[i,a]=C.useState(!1),u=[{name:"Dashboard",href:"/dashboard",icon:Tb},{name:"Ativos",href:"/assets",icon:Yt},...(e==null?void 0:e.role)==="admin"?[{name:"Usuários",href:"/users",icon:Fd}]:[]],h=()=>{a(!1)},m=async()=>{a(!1),await n()};return g.jsxs(IO,{open:i,onOpenChange:a,children:[g.jsx(RO,{asChild:!0,children:g.jsx(Ue,{variant:"ghost",size:"icon",className:"lg:hidden !w-14 !h-14 [&_svg]:!w-8 [&_svg]:!h-8",children:g.jsx(g8,{})})}),g.jsx(VC,{side:"left",className:"w-72 p-0",children:g.jsxs("div",{className:"flex flex-col h-full",children:[g.jsx("div",{className:"p-6 border-b",children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-600 rounded-lg",children:g.jsx(Yt,{className:"h-6 w-6 text-white"})}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Armazena App"}),t&&g.jsxs("div",{className:"flex items-start text-sm text-gray-600 mt-1",children:[g.jsx(lg,{className:"h-3 w-3 mr-1 mt-0.5 flex-shrink-0"}),g.jsx("span",{className:"break-words leading-tight",children:t.name})]})]})]})}),g.jsx("nav",{className:"flex-1 p-4 space-y-2",children:u.map(p=>{const y=r.pathname===p.href;return g.jsxs(ko,{to:p.href,onClick:h,className:`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${y?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[g.jsx(p.icon,{className:"mr-3 h-5 w-5"}),p.name]},p.name)})}),g.jsx(Bf,{}),g.jsxs("div",{className:"p-4 space-y-2",children:[g.jsxs(ko,{to:"/profile",onClick:h,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-50 hover:text-gray-900 transition-colors",children:[g.jsx(Bd,{className:"mr-3 h-5 w-5"}),"Perfil"]}),g.jsxs(Ue,{variant:"ghost",onClick:m,className:"w-full justify-start px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:[g.jsx(fg,{className:"mr-3 h-5 w-5"}),"Sair"]})]}),e&&g.jsx("div",{className:"p-4 border-t bg-gray-50",children:g.jsxs("div",{className:"text-xs text-gray-500",children:[g.jsx("p",{className:"font-medium break-words",children:e.name}),g.jsx("p",{className:"break-words",children:e.email}),g.jsx("p",{className:"capitalize mt-1",children:e.role==="admin"?"Administrador":e.role==="editor"?"Editor":"Visualizador"})]})})]})})]})}const dt=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:ke("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));dt.displayName="Card";const Qt=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:ke("flex flex-col space-y-1.5 p-6",e),...t}));Qt.displayName="CardHeader";const qt=C.forwardRef(({className:e,...t},n)=>g.jsx("h3",{ref:n,className:ke("text-2xl font-semibold leading-none tracking-tight",e),...t}));qt.displayName="CardTitle";const Ff=C.forwardRef(({className:e,...t},n)=>g.jsx("p",{ref:n,className:ke("text-sm text-muted-foreground",e),...t}));Ff.displayName="CardDescription";const pt=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:ke("p-6 pt-0",e),...t}));pt.displayName="CardContent";const FO=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:ke("flex items-center p-6 pt-0",e),...t}));FO.displayName="CardFooter";const UO=dl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function nr({className:e,variant:t,...n}){return g.jsx("div",{className:ke(UO({variant:t}),e),...n})}var WO=C.createContext(void 0);function $C(e){const t=C.useContext(WO);return e||t||"ltr"}function V1(e,[t,n]){return Math.min(n,Math.max(t,e))}function VO(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var Og="ScrollArea",[GC,hj]=qi(Og),[zO,kr]=GC(Og),qC=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...u}=e,[h,m]=C.useState(null),[p,y]=C.useState(null),[v,E]=C.useState(null),[N,P]=C.useState(null),[T,O]=C.useState(null),[I,_]=C.useState(0),[S,D]=C.useState(0),[W,V]=C.useState(!1),[F,L]=C.useState(!1),M=it(t,ee=>m(ee)),H=$C(i);return g.jsx(zO,{scope:n,type:r,dir:H,scrollHideDelay:a,scrollArea:h,viewport:p,onViewportChange:y,content:v,onContentChange:E,scrollbarX:N,onScrollbarXChange:P,scrollbarXEnabled:W,onScrollbarXEnabledChange:V,scrollbarY:T,onScrollbarYChange:O,scrollbarYEnabled:F,onScrollbarYEnabledChange:L,onCornerWidthChange:_,onCornerHeightChange:D,children:g.jsx(Ve.div,{dir:H,...u,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":I+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});qC.displayName=Og;var XC="ScrollAreaViewport",YC=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:a,...u}=e,h=kr(XC,n),m=C.useRef(null),p=it(t,m,h.onViewportChange);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),g.jsx(Ve.div,{"data-radix-scroll-area-viewport":"",...u,asChild:i,ref:p,style:{overflowX:h.scrollbarXEnabled?"scroll":"hidden",overflowY:h.scrollbarYEnabled?"scroll":"hidden",...e.style},children:JO({asChild:i,children:r},y=>g.jsx("div",{"data-radix-scroll-area-content":"",ref:h.onContentChange,style:{minWidth:h.scrollbarXEnabled?"fit-content":void 0},children:y}))})]})});YC.displayName=XC;var ys="ScrollAreaScrollbar",kg=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=kr(ys,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:u}=i,h=e.orientation==="horizontal";return C.useEffect(()=>(h?a(!0):u(!0),()=>{h?a(!1):u(!1)}),[h,a,u]),i.type==="hover"?g.jsx(HO,{...r,ref:t,forceMount:n}):i.type==="scroll"?g.jsx($O,{...r,ref:t,forceMount:n}):i.type==="auto"?g.jsx(KC,{...r,ref:t,forceMount:n}):i.type==="always"?g.jsx(Pg,{...r,ref:t}):null});kg.displayName=ys;var HO=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=kr(ys,e.__scopeScrollArea),[a,u]=C.useState(!1);return C.useEffect(()=>{const h=i.scrollArea;let m=0;if(h){const p=()=>{window.clearTimeout(m),u(!0)},y=()=>{m=window.setTimeout(()=>u(!1),i.scrollHideDelay)};return h.addEventListener("pointerenter",p),h.addEventListener("pointerleave",y),()=>{window.clearTimeout(m),h.removeEventListener("pointerenter",p),h.removeEventListener("pointerleave",y)}}},[i.scrollArea,i.scrollHideDelay]),g.jsx(Kr,{present:n||a,children:g.jsx(KC,{"data-state":a?"visible":"hidden",...r,ref:t})})}),$O=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=kr(ys,e.__scopeScrollArea),a=e.orientation==="horizontal",u=Wf(()=>m("SCROLL_END"),100),[h,m]=VO("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(h==="idle"){const p=window.setTimeout(()=>m("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(p)}},[h,i.scrollHideDelay,m]),C.useEffect(()=>{const p=i.viewport,y=a?"scrollLeft":"scrollTop";if(p){let v=p[y];const E=()=>{const N=p[y];v!==N&&(m("SCROLL"),u()),v=N};return p.addEventListener("scroll",E),()=>p.removeEventListener("scroll",E)}},[i.viewport,a,m,u]),g.jsx(Kr,{present:n||h!=="hidden",children:g.jsx(Pg,{"data-state":h==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Me(e.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:Me(e.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),KC=C.forwardRef((e,t)=>{const n=kr(ys,e.__scopeScrollArea),{forceMount:r,...i}=e,[a,u]=C.useState(!1),h=e.orientation==="horizontal",m=Wf(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,y=n.viewport.offsetHeight<n.viewport.scrollHeight;u(h?p:y)}},10);return nl(n.viewport,m),nl(n.content,m),g.jsx(Kr,{present:r||a,children:g.jsx(Pg,{"data-state":a?"visible":"hidden",...i,ref:t})})}),Pg=C.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=kr(ys,e.__scopeScrollArea),a=C.useRef(null),u=C.useRef(0),[h,m]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=tE(h.viewport,h.content),y={...r,sizes:h,onSizesChange:m,hasThumb:p>0&&p<1,onThumbChange:E=>a.current=E,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:E=>u.current=E};function v(E,N){return QO(E,u.current,h,N)}return n==="horizontal"?g.jsx(GO,{...y,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const E=i.viewport.scrollLeft,N=Tw(E,h,i.dir);a.current.style.transform=`translate3d(${N}px, 0, 0)`}},onWheelScroll:E=>{i.viewport&&(i.viewport.scrollLeft=E)},onDragScroll:E=>{i.viewport&&(i.viewport.scrollLeft=v(E,i.dir))}}):n==="vertical"?g.jsx(qO,{...y,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const E=i.viewport.scrollTop,N=Tw(E,h);a.current.style.transform=`translate3d(0, ${N}px, 0)`}},onWheelScroll:E=>{i.viewport&&(i.viewport.scrollTop=E)},onDragScroll:E=>{i.viewport&&(i.viewport.scrollTop=v(E))}}):null}),GO=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=kr(ys,e.__scopeScrollArea),[u,h]=C.useState(),m=C.useRef(null),p=it(t,m,a.onScrollbarXChange);return C.useEffect(()=>{m.current&&h(getComputedStyle(m.current))},[m]),g.jsx(ZC,{"data-orientation":"horizontal",...i,ref:p,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Uf(n)+"px",...e.style},onThumbPointerDown:y=>e.onThumbPointerDown(y.x),onDragScroll:y=>e.onDragScroll(y.x),onWheelScroll:(y,v)=>{if(a.viewport){const E=a.viewport.scrollLeft+y.deltaX;e.onWheelScroll(E),rE(E,v)&&y.preventDefault()}},onResize:()=>{m.current&&a.viewport&&u&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:m.current.clientWidth,paddingStart:$d(u.paddingLeft),paddingEnd:$d(u.paddingRight)}})}})}),qO=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=kr(ys,e.__scopeScrollArea),[u,h]=C.useState(),m=C.useRef(null),p=it(t,m,a.onScrollbarYChange);return C.useEffect(()=>{m.current&&h(getComputedStyle(m.current))},[m]),g.jsx(ZC,{"data-orientation":"vertical",...i,ref:p,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Uf(n)+"px",...e.style},onThumbPointerDown:y=>e.onThumbPointerDown(y.y),onDragScroll:y=>e.onDragScroll(y.y),onWheelScroll:(y,v)=>{if(a.viewport){const E=a.viewport.scrollTop+y.deltaY;e.onWheelScroll(E),rE(E,v)&&y.preventDefault()}},onResize:()=>{m.current&&a.viewport&&u&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:m.current.clientHeight,paddingStart:$d(u.paddingTop),paddingEnd:$d(u.paddingBottom)}})}})}),[XO,QC]=GC(ys),ZC=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:u,onThumbPointerDown:h,onThumbPositionChange:m,onDragScroll:p,onWheelScroll:y,onResize:v,...E}=e,N=kr(ys,n),[P,T]=C.useState(null),O=it(t,M=>T(M)),I=C.useRef(null),_=C.useRef(""),S=N.viewport,D=r.content-r.viewport,W=en(y),V=en(m),F=Wf(v,10);function L(M){if(I.current){const H=M.clientX-I.current.left,ee=M.clientY-I.current.top;p({x:H,y:ee})}}return C.useEffect(()=>{const M=H=>{const ee=H.target;(P==null?void 0:P.contains(ee))&&W(H,D)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[S,P,D,W]),C.useEffect(V,[r,V]),nl(P,F),nl(N.content,F),g.jsx(XO,{scope:n,scrollbar:P,hasThumb:i,onThumbChange:en(a),onThumbPointerUp:en(u),onThumbPositionChange:V,onThumbPointerDown:en(h),children:g.jsx(Ve.div,{...E,ref:O,style:{position:"absolute",...E.style},onPointerDown:Me(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),I.current=P.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",N.viewport&&(N.viewport.style.scrollBehavior="auto"),L(M))}),onPointerMove:Me(e.onPointerMove,L),onPointerUp:Me(e.onPointerUp,M=>{const H=M.target;H.hasPointerCapture(M.pointerId)&&H.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=_.current,N.viewport&&(N.viewport.style.scrollBehavior=""),I.current=null})})})}),Hd="ScrollAreaThumb",JC=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=QC(Hd,e.__scopeScrollArea);return g.jsx(Kr,{present:n||i.hasThumb,children:g.jsx(YO,{ref:t,...r})})}),YO=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,a=kr(Hd,n),u=QC(Hd,n),{onThumbPositionChange:h}=u,m=it(t,v=>u.onThumbChange(v)),p=C.useRef(),y=Wf(()=>{p.current&&(p.current(),p.current=void 0)},100);return C.useEffect(()=>{const v=a.viewport;if(v){const E=()=>{if(y(),!p.current){const N=ZO(v,h);p.current=N,h()}};return h(),v.addEventListener("scroll",E),()=>v.removeEventListener("scroll",E)}},[a.viewport,y,h]),g.jsx(Ve.div,{"data-state":u.hasThumb?"visible":"hidden",...i,ref:m,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Me(e.onPointerDownCapture,v=>{const N=v.target.getBoundingClientRect(),P=v.clientX-N.left,T=v.clientY-N.top;u.onThumbPointerDown({x:P,y:T})}),onPointerUp:Me(e.onPointerUp,u.onThumbPointerUp)})});JC.displayName=Hd;var Dg="ScrollAreaCorner",eE=C.forwardRef((e,t)=>{const n=kr(Dg,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?g.jsx(KO,{...e,ref:t}):null});eE.displayName=Dg;var KO=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=kr(Dg,n),[a,u]=C.useState(0),[h,m]=C.useState(0),p=!!(a&&h);return nl(i.scrollbarX,()=>{var v;const y=((v=i.scrollbarX)==null?void 0:v.offsetHeight)||0;i.onCornerHeightChange(y),m(y)}),nl(i.scrollbarY,()=>{var v;const y=((v=i.scrollbarY)==null?void 0:v.offsetWidth)||0;i.onCornerWidthChange(y),u(y)}),p?g.jsx(Ve.div,{...r,ref:t,style:{width:a,height:h,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function $d(e){return e?parseInt(e,10):0}function tE(e,t){const n=e/t;return isNaN(n)?0:n}function Uf(e){const t=tE(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function QO(e,t,n,r="ltr"){const i=Uf(n),a=i/2,u=t||a,h=i-u,m=n.scrollbar.paddingStart+u,p=n.scrollbar.size-n.scrollbar.paddingEnd-h,y=n.content-n.viewport,v=r==="ltr"?[0,y]:[y*-1,0];return nE([m,p],v)(e)}function Tw(e,t,n="ltr"){const r=Uf(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,u=t.content-t.viewport,h=a-r,m=n==="ltr"?[0,u]:[u*-1,0],p=V1(e,m);return nE([0,u],[0,h])(p)}function nE(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function rE(e,t){return e>0&&e<t}var ZO=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},u=n.left!==a.left,h=n.top!==a.top;(u||h)&&t(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Wf(e,t){const n=en(e),r=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),C.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function nl(e,t){const n=en(t);En(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}function JO(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const i=C.Children.only(r);return C.cloneElement(i,{children:typeof t=="function"?t(i.props.children):t})}var sE=qC,ek=YC,tk=eE;const iE=C.forwardRef(({className:e,children:t,...n},r)=>g.jsxs(sE,{ref:r,className:ke("relative overflow-hidden",e),...n,children:[g.jsx(ek,{className:"h-full w-full rounded-[inherit]",children:t}),g.jsx(oE,{}),g.jsx(tk,{})]}));iE.displayName=sE.displayName;const oE=C.forwardRef(({className:e,orientation:t="vertical",...n},r)=>g.jsx(kg,{ref:r,orientation:t,className:ke("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:g.jsx(JC,{className:"relative flex-1 rounded-full bg-border"})}));oE.displayName=kg.displayName;function Et(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Bi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const aE=6048e5,nk=864e5,zu=43200,Iw=1440;let rk={};function Zc(){return rk}function Ic(e,t){var h,m,p,y;const n=Zc(),r=(t==null?void 0:t.weekStartsOn)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((y=(p=n.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??0,i=Et(e),a=i.getDay(),u=(a<r?7:0)+a-r;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function Gd(e){return Ic(e,{weekStartsOn:1})}function lE(e){const t=Et(e),n=t.getFullYear(),r=Bi(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Gd(r),a=Bi(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const u=Gd(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}function Rw(e){const t=Et(e);return t.setHours(0,0,0,0),t}function qd(e){const t=Et(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function sk(e,t){const n=Rw(e),r=Rw(t),i=+n-qd(n),a=+r-qd(r);return Math.round((i-a)/nk)}function ik(e){const t=lE(e),n=Bi(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Gd(n)}function ld(e,t){const n=Et(e),r=Et(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function ok(e){return Bi(e,Date.now())}function ak(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function lk(e){if(!ak(e)&&typeof e!="number")return!1;const t=Et(e);return!isNaN(Number(t))}function ck(e,t){const n=Et(e),r=Et(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function uk(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function dk(e,t){return+Et(e)-+Et(t)}function fk(e){const t=Et(e);return t.setHours(23,59,59,999),t}function hk(e){const t=Et(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function pk(e){const t=Et(e);return+fk(t)==+hk(t)}function gk(e,t){const n=Et(e),r=Et(t),i=ld(n,r),a=Math.abs(ck(n,r));let u;if(a<1)u=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);let h=ld(n,r)===-i;pk(Et(e))&&a===1&&ld(e,r)===1&&(h=!1),u=i*(a-Number(h))}return u===0?0:u}function mk(e,t,n){const r=dk(e,t)/1e3;return uk(n==null?void 0:n.roundingMethod)(r)}function xk(e){const t=Et(e),n=Bi(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const wk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yk=(e,t,n)=>{let r;const i=wk[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Oa(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const vk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ck={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ek={date:Oa({formats:vk,defaultWidth:"full"}),time:Oa({formats:bk,defaultWidth:"full"}),dateTime:Oa({formats:Ck,defaultWidth:"full"})},Sk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ak=(e,t,n,r)=>Sk[e];function fs(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const u=e.defaultFormattingWidth||e.defaultWidth,h=n!=null&&n.width?String(n.width):u;i=e.formattingValues[h]||e.formattingValues[u]}else{const u=e.defaultWidth,h=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[h]||e.values[u]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const _k={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Nk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Tk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ik={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Rk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ok={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kk=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Pk={ordinalNumber:kk,era:fs({values:_k,defaultWidth:"wide"}),quarter:fs({values:Nk,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fs({values:Tk,defaultWidth:"wide"}),day:fs({values:Ik,defaultWidth:"wide"}),dayPeriod:fs({values:Rk,defaultWidth:"wide",formattingValues:Ok,defaultFormattingWidth:"wide"})};function hs(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const u=a[0],h=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(h)?Mk(h,v=>v.test(u)):Dk(h,v=>v.test(u));let p;p=e.valueCallback?e.valueCallback(m):m,p=n.valueCallback?n.valueCallback(p):p;const y=t.slice(u.length);return{value:p,rest:y}}}function Dk(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Mk(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function cE(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let u=e.valueCallback?e.valueCallback(a[0]):a[0];u=n.valueCallback?n.valueCallback(u):u;const h=t.slice(i.length);return{value:u,rest:h}}}const jk=/^(\d+)(th|st|nd|rd)?/i,Lk=/\d+/i,Bk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Fk={any:[/^b/i,/^(a|c)/i]},Uk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Wk={any:[/1/i,/2/i,/3/i,/4/i]},Vk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Hk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$k={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Xk={ordinalNumber:cE({matchPattern:jk,parsePattern:Lk,valueCallback:e=>parseInt(e,10)}),era:hs({matchPatterns:Bk,defaultMatchWidth:"wide",parsePatterns:Fk,defaultParseWidth:"any"}),quarter:hs({matchPatterns:Uk,defaultMatchWidth:"wide",parsePatterns:Wk,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hs({matchPatterns:Vk,defaultMatchWidth:"wide",parsePatterns:zk,defaultParseWidth:"any"}),day:hs({matchPatterns:Hk,defaultMatchWidth:"wide",parsePatterns:$k,defaultParseWidth:"any"}),dayPeriod:hs({matchPatterns:Gk,defaultMatchWidth:"any",parsePatterns:qk,defaultParseWidth:"any"})},uE={code:"en-US",formatDistance:yk,formatLong:Ek,formatRelative:Ak,localize:Pk,match:Xk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Yk(e){const t=Et(e);return sk(t,xk(t))+1}function Kk(e){const t=Et(e),n=+Gd(t)-+ik(t);return Math.round(n/aE)+1}function dE(e,t){var y,v,E,N;const n=Et(e),r=n.getFullYear(),i=Zc(),a=(t==null?void 0:t.firstWeekContainsDate)??((v=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??i.firstWeekContainsDate??((N=(E=i.locale)==null?void 0:E.options)==null?void 0:N.firstWeekContainsDate)??1,u=Bi(e,0);u.setFullYear(r+1,0,a),u.setHours(0,0,0,0);const h=Ic(u,t),m=Bi(e,0);m.setFullYear(r,0,a),m.setHours(0,0,0,0);const p=Ic(m,t);return n.getTime()>=h.getTime()?r+1:n.getTime()>=p.getTime()?r:r-1}function Qk(e,t){var h,m,p,y;const n=Zc(),r=(t==null?void 0:t.firstWeekContainsDate)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(p=n.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??1,i=dE(e,t),a=Bi(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Ic(a,t)}function Zk(e,t){const n=Et(e),r=+Ic(n,t)-+Qk(n,t);return Math.round(r/aE)+1}function mt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ti={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return mt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):mt(n+1,2)},d(e,t){return mt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return mt(e.getHours()%12||12,t.length)},H(e,t){return mt(e.getHours(),t.length)},m(e,t){return mt(e.getMinutes(),t.length)},s(e,t){return mt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return mt(i,t.length)}},oa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ow={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ti.y(e,t)},Y:function(e,t,n,r){const i=dE(e,r),a=i>0?i:1-i;if(t==="YY"){const u=a%100;return mt(u,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):mt(a,t.length)},R:function(e,t){const n=lE(e);return mt(n,t.length)},u:function(e,t){const n=e.getFullYear();return mt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return mt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return mt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ti.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return mt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=Zk(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):mt(i,t.length)},I:function(e,t,n){const r=Kk(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):mt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ti.d(e,t)},D:function(e,t,n){const r=Yk(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):mt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return mt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return mt(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return mt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=oa.noon:r===0?i=oa.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=oa.evening:r>=12?i=oa.afternoon:r>=4?i=oa.morning:i=oa.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ti.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ti.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):mt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):mt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ti.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ti.s(e,t)},S:function(e,t){return ti.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Pw(r);case"XXXX":case"XX":return ao(r);case"XXXXX":case"XXX":default:return ao(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Pw(r);case"xxxx":case"xx":return ao(r);case"xxxxx":case"xxx":default:return ao(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+kw(r,":");case"OOOO":default:return"GMT"+ao(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+kw(r,":");case"zzzz":default:return"GMT"+ao(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return mt(r,t.length)},T:function(e,t,n){const r=e.getTime();return mt(r,t.length)}};function kw(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+mt(a,2)}function Pw(e,t){return e%60===0?(e>0?"-":"+")+mt(Math.abs(e)/60,2):ao(e,t)}function ao(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=mt(Math.trunc(r/60),2),a=mt(r%60,2);return n+i+t+a}const Dw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},fE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Jk=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Dw(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Dw(r,t)).replace("{{time}}",fE(i,t))},eP={p:fE,P:Jk},tP=/^D+$/,nP=/^Y+$/,rP=["D","DD","YY","YYYY"];function sP(e){return tP.test(e)}function iP(e){return nP.test(e)}function oP(e,t,n){const r=aP(e,t,n);if(console.warn(r),rP.includes(e))throw new RangeError(r)}function aP(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uP=/^'([^]*?)'?$/,dP=/''/g,fP=/[a-zA-Z]/;function ka(e,t,n){var y,v,E,N,P,T,O,I;const r=Zc(),i=(n==null?void 0:n.locale)??r.locale??uE,a=(n==null?void 0:n.firstWeekContainsDate)??((v=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((N=(E=r.locale)==null?void 0:E.options)==null?void 0:N.firstWeekContainsDate)??1,u=(n==null?void 0:n.weekStartsOn)??((T=(P=n==null?void 0:n.locale)==null?void 0:P.options)==null?void 0:T.weekStartsOn)??r.weekStartsOn??((I=(O=r.locale)==null?void 0:O.options)==null?void 0:I.weekStartsOn)??0,h=Et(e);if(!lk(h))throw new RangeError("Invalid time value");let m=t.match(cP).map(_=>{const S=_[0];if(S==="p"||S==="P"){const D=eP[S];return D(_,i.formatLong)}return _}).join("").match(lP).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const S=_[0];if(S==="'")return{isToken:!1,value:hP(_)};if(Ow[S])return{isToken:!0,value:_};if(S.match(fP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(m=i.localize.preprocessor(h,m));const p={firstWeekContainsDate:a,weekStartsOn:u,locale:i};return m.map(_=>{if(!_.isToken)return _.value;const S=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&iP(S)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&sP(S))&&oP(S,t,String(e));const D=Ow[S[0]];return D(h,S,i.localize,p)}).join("")}function hP(e){const t=e.match(uP);return t?t[1].replace(dP,"'"):e}function pP(e,t,n){const r=Zc(),i=(n==null?void 0:n.locale)??r.locale??uE,a=2520,u=ld(e,t);if(isNaN(u))throw new RangeError("Invalid time value");const h=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:u});let m,p;u>0?(m=Et(t),p=Et(e)):(m=Et(e),p=Et(t));const y=mk(p,m),v=(qd(p)-qd(m))/1e3,E=Math.round((y-v)/60);let N;if(E<2)return n!=null&&n.includeSeconds?y<5?i.formatDistance("lessThanXSeconds",5,h):y<10?i.formatDistance("lessThanXSeconds",10,h):y<20?i.formatDistance("lessThanXSeconds",20,h):y<40?i.formatDistance("halfAMinute",0,h):y<60?i.formatDistance("lessThanXMinutes",1,h):i.formatDistance("xMinutes",1,h):E===0?i.formatDistance("lessThanXMinutes",1,h):i.formatDistance("xMinutes",E,h);if(E<45)return i.formatDistance("xMinutes",E,h);if(E<90)return i.formatDistance("aboutXHours",1,h);if(E<Iw){const P=Math.round(E/60);return i.formatDistance("aboutXHours",P,h)}else{if(E<a)return i.formatDistance("xDays",1,h);if(E<zu){const P=Math.round(E/Iw);return i.formatDistance("xDays",P,h)}else if(E<zu*2)return N=Math.round(E/zu),i.formatDistance("aboutXMonths",N,h)}if(N=gk(p,m),N<12){const P=Math.round(E/zu);return i.formatDistance("xMonths",P,h)}else{const P=N%12,T=Math.trunc(N/12);return P<3?i.formatDistance("aboutXYears",T,h):P<9?i.formatDistance("overXYears",T,h):i.formatDistance("almostXYears",T+1,h)}}function gP(e,t){return pP(e,ok(e),t)}const mP={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},xP=(e,t,n)=>{let r;const i=mP[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+r:"há "+r:r},wP={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},yP={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},vP={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bP={date:Oa({formats:wP,defaultWidth:"full"}),time:Oa({formats:yP,defaultWidth:"full"}),dateTime:Oa({formats:vP,defaultWidth:"full"})},CP={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},EP=(e,t,n,r)=>{const i=CP[e];return typeof i=="function"?i(t):i},SP={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},AP={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},_P={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},NP={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},TP={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},IP={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},RP=(e,t)=>{const n=Number(e);return(t==null?void 0:t.unit)==="week"?n+"ª":n+"º"},OP={ordinalNumber:RP,era:fs({values:SP,defaultWidth:"wide"}),quarter:fs({values:AP,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fs({values:_P,defaultWidth:"wide"}),day:fs({values:NP,defaultWidth:"wide"}),dayPeriod:fs({values:TP,defaultWidth:"wide",formattingValues:IP,defaultFormattingWidth:"wide"})},kP=/^(\d+)[ºªo]?/i,PP=/\d+/i,DP={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},MP={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},jP={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},LP={any:[/1/i,/2/i,/3/i,/4/i]},BP={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},FP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},UP={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},WP={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},VP={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},zP={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},HP={ordinalNumber:cE({matchPattern:kP,parsePattern:PP,valueCallback:e=>parseInt(e,10)}),era:hs({matchPatterns:DP,defaultMatchWidth:"wide",parsePatterns:MP,defaultParseWidth:"any"}),quarter:hs({matchPatterns:jP,defaultMatchWidth:"wide",parsePatterns:LP,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hs({matchPatterns:BP,defaultMatchWidth:"wide",parsePatterns:FP,defaultParseWidth:"any"}),day:hs({matchPatterns:UP,defaultMatchWidth:"wide",parsePatterns:WP,defaultParseWidth:"any"}),dayPeriod:hs({matchPatterns:VP,defaultMatchWidth:"any",parsePatterns:zP,defaultParseWidth:"any"})},So={code:"pt-BR",formatDistance:xP,formatLong:bP,formatRelative:EP,localize:OP,match:HP,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $P({isOpen:e,onClose:t}){const{notifications:n,unreadCount:r,loading:i,subscribeToPush:a,unsubscribeFromPush:u,markAsRead:h,markAllAsRead:m,isSubscribed:p}=fC(),[y,v]=C.useState(!1),E=async()=>{v(!0);try{await a()}finally{v(!1)}},N=async()=>{v(!0);try{await u()}finally{v(!1)}},P=O=>{switch(O){case"asset_created":case"asset_updated":case"asset_deleted":return g.jsx(Yt,{className:"h-4 w-4"});case"app_update":return g.jsx(I1,{className:"h-4 w-4"});default:return g.jsx($l,{className:"h-4 w-4"})}},T=O=>{switch(O){case"asset_created":return"text-green-600 bg-green-50";case"asset_updated":return"text-blue-600 bg-blue-50";case"asset_deleted":return"text-red-600 bg-red-50";case"app_update":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}};return e?g.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-start justify-end p-4",children:g.jsxs(dt,{className:"w-full max-w-md h-[80vh] flex flex-col",children:[g.jsxs(Qt,{className:"flex-shrink-0",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs(qt,{className:"flex items-center gap-2",children:[g.jsx($l,{className:"h-5 w-5"}),"Notificações",r>0&&g.jsx(nr,{variant:"destructive",className:"ml-2",children:r})]}),g.jsx(Ue,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0",children:g.jsx(Wo,{className:"h-4 w-4"})})]}),g.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[p?g.jsxs(Ue,{size:"sm",variant:"outline",onClick:N,disabled:y,className:"flex-1",children:[g.jsx(a8,{className:"h-4 w-4 mr-2"}),y?"Desativando...":"Desativar Notificações"]}):g.jsxs(Ue,{size:"sm",onClick:E,disabled:y,className:"flex-1",children:[g.jsx($l,{className:"h-4 w-4 mr-2"}),y?"Ativando...":"Ativar Notificações"]}),r>0&&g.jsx(Ue,{size:"sm",variant:"ghost",onClick:m,className:"px-2",children:g.jsx(l8,{className:"h-4 w-4"})})]})]}),g.jsx(Bf,{}),g.jsx(iE,{className:"flex-1 p-4",children:i?g.jsx("div",{className:"flex items-center justify-center h-32",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-gray-500",children:[g.jsx($l,{className:"h-12 w-12 mb-2 opacity-50"}),g.jsx("p",{className:"text-sm",children:"Nenhuma notificação"})]}):g.jsx("div",{className:"space-y-3",children:n.map(O=>g.jsx("div",{className:`p-3 rounded-lg border transition-colors ${O.read_at?"bg-gray-50 border-gray-200":"bg-white border-blue-200 shadow-sm"}`,children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:`p-2 rounded-full ${T(O.type)}`,children:P(O.type)}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-start justify-between gap-2",children:[g.jsx("h4",{className:"font-medium text-sm text-gray-900",children:O.title}),!O.read_at&&g.jsx(Ue,{size:"sm",variant:"ghost",onClick:()=>h(O.id),className:"h-6 w-6 p-0",children:g.jsx(ug,{className:"h-3 w-3"})})]}),g.jsx("p",{className:"text-sm text-gray-600 mt-1",children:O.body}),g.jsx("p",{className:"text-xs text-gray-400 mt-2",children:gP(new Date(O.created_at),{addSuffix:!0,locale:So})})]})]})},O.id))})})]})}):null}function GP(){const{profile:e,company:t,signOut:n}=Un(),{unreadCount:r}=fC(),[i,a]=C.useState(!1),u=h=>{const m={admin:"bg-red-100 text-red-800",editor:"bg-yellow-100 text-yellow-800",viewer:"bg-green-100 text-green-800"},p={admin:"Administrador",editor:"Editor",viewer:"Visualizador"};return g.jsx(nr,{className:m[h],children:p[h]})};return g.jsxs(g.Fragment,{children:[g.jsx("header",{className:"bg-white border-b border-gray-200 px-0 py-0 sm:px-2 sm:py-2 md:px-6 md:py-4",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-4 min-w-0 flex-1",children:[g.jsx(BO,{}),t&&g.jsxs("div",{className:"hidden lg:flex items-center text-gray-600 min-w-0",children:[g.jsx(lg,{className:"h-4 w-4 mr-2 flex-shrink-0"}),g.jsx("span",{className:"text-sm font-medium break-words",children:t.name})]})]}),g.jsxs("div",{className:"flex items-center space-x-4 flex-shrink-0",children:[g.jsxs(Ue,{variant:"ghost",size:"sm",onClick:()=>a(!0),className:"relative",children:[g.jsx($l,{className:"h-4 w-4"}),r>0&&g.jsx(nr,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:r>9?"9+":r})]}),e&&g.jsxs("div",{className:"hidden md:block text-right",children:[g.jsx("p",{className:"text-sm font-medium text-gray-900 break-words",children:e.name}),u(e.role)]}),g.jsxs(Ue,{variant:"ghost",size:"sm",onClick:n,className:"hidden md:flex",children:[g.jsx(fg,{className:"h-4 w-4 mr-2"}),"Sair"]})]})]})}),g.jsx($P,{isOpen:i,onClose:()=>a(!1)})]})}const hE=C.createContext(null);function ni({children:e}){const t=C.useRef(null);return g.jsx(hE.Provider,{value:t,children:g.jsxs("div",{className:"flex h-screen bg-gray-50",children:[g.jsx(ER,{}),g.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[g.jsx(GP,{}),g.jsx("main",{ref:t,className:"flex-1 overflow-y-auto bg-gray-50 px-4 md:px-6 pt-6 pb-20",children:g.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]})})}function qP(){const[e,t]=C.useState(!1),[n,r]=C.useState(!1),[i,a]=C.useState(!1),[u,h]=C.useState(null);return C.useEffect(()=>{const p=()=>{window.matchMedia("(display-mode: standalone)").matches&&(r(!0),t(!1))},y=N=>{N.preventDefault(),h(N),t(!0),a(!0)},v=()=>{r(!0),t(!1),a(!1),h(null)},E=async()=>{if("serviceWorker"in navigator)try{const N=await navigator.serviceWorker.register("/sw.js");console.log("Service Worker registrado com sucesso:",N)}catch(N){console.error("Erro ao registrar Service Worker:",N)}};return p(),E(),window.addEventListener("beforeinstallprompt",y),window.addEventListener("appinstalled",v),()=>{window.removeEventListener("beforeinstallprompt",y),window.removeEventListener("appinstalled",v)}},[]),{isInstallable:e,isInstalled:n,installApp:async()=>{if(!u){console.log("Prompt de instalação não disponível");return}try{await u.prompt();const{outcome:p}=await u.userChoice;p==="accepted"?(console.log("Usuário aceitou a instalação"),r(!0),t(!1),a(!1)):console.log("Usuário recusou a instalação"),h(null)}catch(p){console.error("Erro durante a instalação:",p)}},showInstallPrompt:i,setShowInstallPrompt:a}}function XP(){const{isInstallable:e,showInstallPrompt:t,setShowInstallPrompt:n,installApp:r}=qP();return!e||!t?null:g.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-4 md:right-auto md:w-80",children:g.jsx(dt,{className:"shadow-lg border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:g.jsx(pt,{className:"p-4",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"bg-blue-600 p-2 rounded-full flex-shrink-0",children:g.jsx(Yt,{className:"h-5 w-5 text-white"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Instalar Armazena"}),g.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Instale o app na tela inicial para acesso rápido e funcionalidade offline"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs(Ue,{onClick:r,size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[g.jsx(f8,{className:"h-4 w-4 mr-2"}),"Instalar"]}),g.jsx(Ue,{onClick:()=>n(!1),variant:"outline",size:"sm",className:"px-3",children:g.jsx(Wo,{className:"h-4 w-4"})})]})]})]})})})})}async function YP(){try{const{error:e}=await Ze.rpc("create_app_update_notification");if(e)throw e;console.log("Notificação de atualização do app criada")}catch(e){console.error("Erro ao enviar notificação de atualização:",e)}}function KP(){const[e,t]=C.useState(!1);C.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",()=>{t(!0),YP()})},[]);const n=()=>{window.location.reload()};return e?g.jsx("div",{className:"fixed top-4 left-4 right-4 z-50 md:left-4 md:right-auto md:w-80",children:g.jsx(dt,{className:"shadow-lg border-green-200 bg-gradient-to-r from-green-50 to-emerald-50",children:g.jsx(pt,{className:"p-4",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"bg-green-600 p-2 rounded-full flex-shrink-0",children:g.jsx(I1,{className:"h-5 w-5 text-white"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Nova versão disponível"}),g.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Uma nova versão do Armazena está disponível. Atualize para obter as últimas funcionalidades."}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs(Ue,{onClick:n,size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",children:[g.jsx(I1,{className:"h-4 w-4 mr-2"}),"Atualizar"]}),g.jsx(Ue,{onClick:()=>t(!1),variant:"outline",size:"sm",className:"px-3",children:g.jsx(Wo,{className:"h-4 w-4"})})]})]})]})})})}):null}const QP=dl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ir=C.forwardRef(({className:e,variant:t,...n},r)=>g.jsx("div",{ref:r,role:"alert",className:ke(QP({variant:t}),e),...n}));Ir.displayName="Alert";const ZP=C.forwardRef(({className:e,...t},n)=>g.jsx("h5",{ref:n,className:ke("mb-1 font-medium leading-none tracking-tight",e),...t}));ZP.displayName="AlertTitle";const Rr=C.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:ke("text-sm [&_p]:leading-relaxed",e),...t}));Rr.displayName="AlertDescription";function JP(){const[e,t]=C.useState(navigator.onLine);return C.useEffect(()=>{const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),e?null:g.jsx("div",{className:"fixed top-4 left-4 right-4 z-50 md:left-4 md:right-auto md:w-80",children:g.jsxs(Ir,{className:"border-orange-200 bg-orange-50",children:[g.jsx(v8,{className:"h-4 w-4 text-orange-600"}),g.jsx(Rr,{className:"text-orange-800",children:"Você está offline. Algumas funcionalidades podem não estar disponíveis."})]})})}const yt=C.forwardRef(({className:e,type:t,...n},r)=>g.jsx("input",{type:t,className:ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));yt.displayName="Input";var e5="Label",pE=C.forwardRef((e,t)=>g.jsx(Ve.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));pE.displayName=e5;var gE=pE;const t5=dl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ut=C.forwardRef(({className:e,...t},n)=>g.jsx(gE,{ref:n,className:ke(t5(),e),...t}));ut.displayName=gE.displayName;const Jc=Tg,Vf=Ig,n5=Rg,mE=C.forwardRef(({className:e,...t},n)=>g.jsx(Xc,{ref:n,className:ke("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));mE.displayName=Xc.displayName;const gl=C.forwardRef(({className:e,children:t,...n},r)=>g.jsxs(n5,{children:[g.jsx(mE,{}),g.jsxs(Yc,{ref:r,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,g.jsxs(Lf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[g.jsx(Wo,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gl.displayName=Yc.displayName;const eu=({className:e,...t})=>g.jsx("div",{className:ke("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});eu.displayName="DialogHeader";const xE=({className:e,...t})=>g.jsx("div",{className:ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});xE.displayName="DialogFooter";const tu=C.forwardRef(({className:e,...t},n)=>g.jsx(Kc,{ref:n,className:ke("text-lg font-semibold leading-none tracking-tight",e),...t}));tu.displayName=Kc.displayName;const zf=C.forwardRef(({className:e,...t},n)=>g.jsx(Qc,{ref:n,className:ke("text-sm text-muted-foreground",e),...t}));zf.displayName=Qc.displayName;function r5(){var F,L;const[e,t]=C.useState(""),[n,r]=C.useState(""),[i,a]=C.useState(!1),[u,h]=C.useState(!1),[m,p]=C.useState(""),[y,v]=C.useState(""),[E,N]=C.useState(!1),[P,T]=C.useState(!1),{signIn:O}=Un(),I=Vs(),_=ws(),{toast:S}=Or(),D=((L=(F=_.state)==null?void 0:F.from)==null?void 0:L.pathname)||"/dashboard",W=async M=>{M.preventDefault(),p(""),h(!0);try{if(await O(e,n)==="inactive"){I("/acesso-negado",{replace:!0});return}S({title:"Login realizado com sucesso!",description:"Bem-vindo ao Armazena"}),I(D,{replace:!0})}catch(H){p(H.message||"Erro ao fazer login")}finally{h(!1)}},V=async M=>{M.preventDefault(),N(!0);try{const{error:H}=await Ze.auth.resetPasswordForEmail(y,{redirectTo:`${window.location.origin}/login`});if(H)throw H;S({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir sua senha."}),T(!1),v("")}catch(H){S({title:"Erro ao enviar email",description:H.message||"Erro ao enviar email de redefinição",variant:"destructive"})}finally{N(!1)}};return g.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50 px-4",children:g.jsxs("div",{className:"max-w-md w-full space-y-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"flex justify-center",children:g.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:g.jsx(Yt,{className:"h-8 w-8 text-white"})})}),g.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Armazena App"}),g.jsx("p",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Sistema de Gestão de Ativos"})]}),g.jsxs(dt,{className:"shadow-lg border-0",children:[g.jsxs(Qt,{className:"space-y-1",children:[g.jsx(qt,{className:"text-2xl text-center",children:"Entrar"}),g.jsx(Ff,{className:"text-center",children:"Digite suas credenciais para acessar o sistema"})]}),g.jsxs(pt,{children:[g.jsxs("form",{onSubmit:W,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"email",children:"Email"}),g.jsx(yt,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:M=>t(M.target.value),required:!0,className:"h-11"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"password",children:"Senha"}),g.jsxs("div",{className:"relative",children:[g.jsx(yt,{id:"password",type:i?"text":"password",placeholder:"Sua senha",value:n,onChange:M=>r(M.target.value),required:!0,className:"h-11 pr-10"}),g.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!i),children:i?g.jsx(h8,{className:"h-4 w-4 text-gray-400"}):g.jsx(Nb,{className:"h-4 w-4 text-gray-400"})})]})]}),m&&g.jsx(Ir,{variant:"destructive",children:g.jsx(Rr,{children:m})}),g.jsx(Ue,{type:"submit",className:"w-full h-11",disabled:u,children:u?"Entrando...":"Entrar"})]}),g.jsx("div",{className:"text-center mt-4",children:g.jsxs(Jc,{open:P,onOpenChange:T,children:[g.jsx(Vf,{asChild:!0,children:g.jsx(Ue,{variant:"link",className:"text-sm text-blue-600 hover:text-blue-800",children:"Esqueci minha senha"})}),g.jsxs(gl,{className:"sm:max-w-[425px]",children:[g.jsxs(eu,{children:[g.jsx(tu,{children:"Redefinir senha"}),g.jsx(zf,{children:"Digite seu email para receber um link de redefinição de senha."})]}),g.jsxs("form",{onSubmit:V,children:[g.jsx("div",{className:"grid gap-4 py-4",children:g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"resetEmail",children:"Email"}),g.jsx(yt,{id:"resetEmail",type:"email",placeholder:"seu@email.com",value:y,onChange:M=>v(M.target.value),required:!0})]})}),g.jsxs(xE,{children:[g.jsx(Ue,{type:"button",variant:"outline",onClick:()=>T(!1),children:"Cancelar"}),g.jsx(Ue,{type:"submit",disabled:E,children:E?"Enviando...":"Enviar email"})]})]})]})]})})]})]})]})})}function s5(){const{data:e}=Li({queryKey:["dashboard-stats"],queryFn:async()=>{const{data:i}=await Ze.from("assets").select("*");if(!i)return null;const a=i.length,u=i.filter(v=>v.status==="ativo").length,h=i.filter(v=>v.status==="manutenção").length,m=i.filter(v=>v.status==="baixado").length,p=i.reduce((v,E)=>v+(E.value||0),0),y=i.filter(v=>v.status==="ativo").reduce((v,E)=>v+(E.value||0),0);return{totalAssets:a,activeAssets:u,maintenanceAssets:h,deactivatedAssets:m,totalValue:p,activeValue:y}}}),{data:t}=Li({queryKey:["recent-assets"],queryFn:async()=>{const{data:i}=await Ze.from("assets").select("*").order("created_at",{ascending:!1}).limit(5);return i||[]}}),n=i=>{const a={ativo:"bg-green-100 text-green-800",manutenção:"bg-yellow-100 text-yellow-800",baixado:"bg-red-100 text-red-800"};return g.jsx(nr,{className:a[i],children:i.toUpperCase()})},r=i=>{switch(i){case"ativo":return g.jsx(Zx,{className:"h-4 w-4 text-green-600"});case"manutenção":return g.jsx(Nc,{className:"h-4 w-4 text-yellow-600"});case"baixado":return g.jsx(Xx,{className:"h-4 w-4 text-red-600"});default:return g.jsx(Yt,{className:"h-4 w-4 text-gray-600"})}};return g.jsxs("div",{className:"space-y-8 pb-10",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),g.jsx("p",{className:"mt-2 text-gray-600",children:"Visão geral dos seus ativos patrimoniais"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[g.jsxs(dt,{className:"border-0 shadow-md",children:[g.jsxs(Qt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[g.jsx(qt,{className:"text-sm font-medium text-gray-600",children:"Total"}),g.jsx(Yt,{className:"h-4 w-4 text-blue-600"})]}),g.jsxs(pt,{children:[g.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(e==null?void 0:e.totalAssets)||0}),g.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Todos os ativos cadastrados"})]})]}),g.jsxs(dt,{className:"border-0 shadow-md",children:[g.jsxs(Qt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[g.jsx(qt,{className:"text-sm font-medium text-gray-600",children:"Ativos"}),g.jsx(Zx,{className:"h-4 w-4 text-green-600"})]}),g.jsxs(pt,{children:[g.jsx("div",{className:"text-2xl font-bold text-green-700",children:(e==null?void 0:e.activeAssets)||0}),g.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Em operação normal"})]})]}),g.jsxs(dt,{className:"border-0 shadow-md",children:[g.jsxs(Qt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[g.jsx(qt,{className:"text-sm font-medium text-gray-600",children:"Manutenção"}),g.jsx(Nc,{className:"h-4 w-4 text-yellow-600"})]}),g.jsxs(pt,{children:[g.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:(e==null?void 0:e.maintenanceAssets)||0}),g.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Em manutenção"})]})]}),g.jsxs(dt,{className:"border-0 shadow-md",children:[g.jsxs(Qt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[g.jsx(qt,{className:"text-sm font-medium text-gray-600",children:"Baixados"}),g.jsx(Xx,{className:"h-4 w-4 text-red-600"})]}),g.jsxs(pt,{children:[g.jsx("div",{className:"text-2xl font-bold text-red-700",children:(e==null?void 0:e.deactivatedAssets)||0}),g.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Fora de operação"})]})]})]}),g.jsx("div",{className:"w-full",children:g.jsx(dt,{className:"border-0 shadow-md",children:g.jsxs(pt,{className:"flex items-center justify-between p-6",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(qt,{className:"text-sm font-medium text-gray-600",children:"Valor Total"}),g.jsx(dg,{className:"h-4 w-4 text-blue-600"})]}),g.jsx("div",{className:"text-2xl font-bold text-blue-700 break-words",children:Ud((e==null?void 0:e.totalValue)||0)})]})})}),g.jsxs(dt,{className:"border-0 shadow-md",children:[g.jsxs(Qt,{children:[g.jsxs(qt,{className:"flex items-center",children:[g.jsx(_b,{className:"h-5 w-5 mr-2 text-blue-600"}),"Ativos Recentes"]}),g.jsx(Ff,{children:"Últimos ativos adicionados ao sistema"})]}),g.jsx(pt,{children:t&&t.length>0?g.jsx("div",{className:"space-y-4",children:t.map(i=>g.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[g.jsxs("div",{className:"flex items-center space-x-4",children:[r(i.status),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-gray-900",children:i.name}),g.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[g.jsxs("span",{children:["#",i.code]}),i.location&&g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"•"}),g.jsx(hg,{className:"h-3 w-3"}),g.jsx("span",{children:i.location})]})]})]})]}),g.jsxs("div",{className:"flex flex-col md:flex-row items-center md:space-x-3 space-y-2 md:space-y-0 mt-2 md:mt-0",children:[i.value&&g.jsx("span",{className:"text-sm font-medium text-gray-900",children:Ud(i.value)}),n(i.status),g.jsx("span",{className:"text-xs text-gray-500",children:i.acquisition_date?ka(new Date(i.acquisition_date),"dd/MM/yyyy",{locale:So}):"-"})]})]},i.id))}):g.jsxs("div",{className:"text-center py-8",children:[g.jsx(Yt,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum ativo cadastrado"}),g.jsx("p",{className:"text-gray-600",children:"Comece adicionando seus primeiros ativos ao sistema"})]})})]})]})}function wE(){const[e,t]=C.useState(!1),[n,r]=C.useState(!1),[i,a]=C.useState(!1);return C.useEffect(()=>{const u=()=>{const h=window.innerWidth,m=navigator.userAgent,p=h<768,y=h>=768&&h<=1024,v=h>1024,E=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(m);t(p||E&&!y),r(y),a(v&&!E)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),{isMobile:e,isTablet:n,isDesktop:i,isMobileOrTablet:e||n}}const f0=20;function i5(e){const[t,n]=C.useState([]),[r,i]=C.useState(1),[a,u]=C.useState(!0),[h,m]=C.useState(!1),[p,y]=C.useState(!1),v=C.useCallback(async O=>{let I=Ze.from("assets").select("*").order("created_at",{ascending:!1});e.search&&(I=I.or(`name.ilike.%${e.search}%,code.ilike.%${e.search}%`)),e.statusFilter!=="all"&&(I=I.eq("status",e.statusFilter)),e.locationFilter!=="all"&&(I=I.eq("location",e.locationFilter));const _=(O-1)*f0,S=_+f0-1,{data:D,error:W}=await I.range(_,S);if(W)throw W;return D||[]},[e.search,e.statusFilter,e.locationFilter]),E=C.useCallback(async O=>{const I=O===1;I?m(!0):y(!0);try{const _=await v(O);n(S=>I?_:[...S,..._]),u(_.length===f0)}finally{I&&m(!1),y(!1)}},[v]),N=C.useCallback(()=>{n([]),i(1),u(!0),y(!1)},[]),P=C.useCallback(()=>{if(!a||p)return;const O=r+1;i(O),E(O)},[a,p,r,E]);C.useEffect(()=>{N()},[e.search,e.statusFilter,e.locationFilter,N]),C.useEffect(()=>{E(r)},[r,E]);const{data:T}=Li({queryKey:["asset-locations"],queryFn:async()=>{const{data:O}=await Ze.from("assets").select("location").not("location","is",null);return[...new Set(O==null?void 0:O.map(_=>_.location).filter(Boolean))]}});return{assets:t,loading:h,loadingMore:p,hasMore:a,currentPage:r,resetFilters:N,loadMore:P,locations:T}}const o5=["Nome","Código","Status","Localização","Valor","Data de Aquisição","Fabricante","Modelo","Cor","Número de Série","Capacidade","Voltagem","Condições","Detentor","Origem","Inalienável","Observações"];function a5(){const[e,t]=C.useState(!1),n=m=>{let p=Ze.from("assets").select("*").order("created_at",{ascending:!1});return m.search&&(p=p.or(`name.ilike.%${m.search}%,code.ilike.%${m.search}%`)),m.statusFilter!=="all"&&(p=p.eq("status",m.statusFilter)),m.locationFilter!=="all"&&(p=p.eq("location",m.locationFilter)),p},r=m=>{if(m==null)return"";const p=String(m);return p.includes(",")?`"${p.replace(/"/g,'""')}"`:p},i=m=>{const p=m.map(y=>[y.name,y.code,y.status,y.location||"",y.value||"",y.acquisition_date||"",y.manufacturer||"",y.model||"",y.color||"",y.serial_number||"",y.capacity||"",y.voltage||"",y.condition||"",y.holder||"",y.origin||"",y.inalienable?"Sim":"Não",y.notes||""].map(r));return[o5.join(","),...p.map(y=>y.join(","))].join(`
`)},a=m=>{const p=new Date,v=new Date(p.getTime()-3*60*60*1e3).toISOString().replace("T","_").slice(0,16).replace(":","")+"h";return`ativos_${m}_${v}.csv`},u=(m,p)=>{const y=new Blob([m],{type:"text/csv;charset=utf-8;"}),v=document.createElement("a"),E=URL.createObjectURL(y);v.setAttribute("href",E),v.setAttribute("download",p),v.style.visibility="hidden",document.body.appendChild(v),v.click(),document.body.removeChild(v)};return{exportLoading:e,exportToCSV:async m=>{t(!0);try{const p=n(m),{data:y,error:v}=await p;if(v||!y||y.length===0)throw new Error("Nenhum ativo encontrado para exportar");const E=i(y),N=a(m.companyName);u(E,N)}finally{t(!1)}}}}function l5(e){const[t,n]=C.useState(!1),r=C.useCallback(()=>{e&&n(e.scrollTop>300)},[e]),i=C.useCallback(()=>{e==null||e.scrollTo({top:0,behavior:"smooth"})},[e]);return C.useEffect(()=>{if(e)return e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)},[e,r]),{showScrollToTop:t,scrollToTop:i}}var yE={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(pn,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,a=!r.document&&!!r.postMessage,u=r.IS_PAPA_WORKER||!1,h={},m=0,p={};function y(L){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(M){var H=W(M);H.chunkSize=parseInt(H.chunkSize),M.step||M.chunk||(H.chunkSize=null),this._handle=new T(H),(this._handle.streamer=this)._config=H}).call(this,L),this.parseChunk=function(M,H){var ee=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<ee){let se=this._config.newline;se||(q=this._config.quoteChar||'"',se=this._handle.guessLineEndings(M,q)),M=[...M.split(se).slice(ee)].join(se)}this.isFirstChunk&&F(this._config.beforeFirstChunk)&&(q=this._config.beforeFirstChunk(M))!==void 0&&(M=q),this.isFirstChunk=!1,this._halted=!1;var ee=this._partialLine+M,q=(this._partialLine="",this._handle.parse(ee,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(M=q.meta.cursor,ee=(this._finished||(this._partialLine=ee.substring(M-this._baseIndex),this._baseIndex=M),q&&q.data&&(this._rowCount+=q.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),u)r.postMessage({results:q,workerId:p.WORKER_ID,finished:ee});else if(F(this._config.chunk)&&!H){if(this._config.chunk(q,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=q=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(q.data),this._completeResults.errors=this._completeResults.errors.concat(q.errors),this._completeResults.meta=q.meta),this._completed||!ee||!F(this._config.complete)||q&&q.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ee||q&&q.meta.paused||this._nextChunk(),q}this._halted=!0},this._sendError=function(M){F(this._config.error)?this._config.error(M):u&&this._config.error&&r.postMessage({workerId:p.WORKER_ID,error:M,finished:!1})}}function v(L){var M;(L=L||{}).chunkSize||(L.chunkSize=p.RemoteChunkSize),y.call(this,L),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(H){this._input=H,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(M=new XMLHttpRequest,this._config.withCredentials&&(M.withCredentials=this._config.withCredentials),a||(M.onload=V(this._chunkLoaded,this),M.onerror=V(this._chunkError,this)),M.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var H,ee=this._config.downloadRequestHeaders;for(H in ee)M.setRequestHeader(H,ee[H])}var q;this._config.chunkSize&&(q=this._start+this._config.chunkSize-1,M.setRequestHeader("Range","bytes="+this._start+"-"+q));try{M.send(this._config.downloadRequestBody)}catch(se){this._chunkError(se.message)}a&&M.status===0&&this._chunkError()}},this._chunkLoaded=function(){M.readyState===4&&(M.status<200||400<=M.status?this._chunkError():(this._start+=this._config.chunkSize||M.responseText.length,this._finished=!this._config.chunkSize||this._start>=(H=>(H=H.getResponseHeader("Content-Range"))!==null?parseInt(H.substring(H.lastIndexOf("/")+1)):-1)(M),this.parseChunk(M.responseText)))},this._chunkError=function(H){H=M.statusText||H,this._sendError(new Error(H))}}function E(L){(L=L||{}).chunkSize||(L.chunkSize=p.LocalChunkSize),y.call(this,L);var M,H,ee=typeof FileReader<"u";this.stream=function(q){this._input=q,H=q.slice||q.webkitSlice||q.mozSlice,ee?((M=new FileReader).onload=V(this._chunkLoaded,this),M.onerror=V(this._chunkError,this)):M=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var q=this._input,se=(this._config.chunkSize&&(se=Math.min(this._start+this._config.chunkSize,this._input.size),q=H.call(q,this._start,se)),M.readAsText(q,this._config.encoding));ee||this._chunkLoaded({target:{result:se}})},this._chunkLoaded=function(q){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(q.target.result)},this._chunkError=function(){this._sendError(M.error)}}function N(L){var M;y.call(this,L=L||{}),this.stream=function(H){return M=H,this._nextChunk()},this._nextChunk=function(){var H,ee;if(!this._finished)return H=this._config.chunkSize,M=H?(ee=M.substring(0,H),M.substring(H)):(ee=M,""),this._finished=!M,this.parseChunk(ee)}}function P(L){y.call(this,L=L||{});var M=[],H=!0,ee=!1;this.pause=function(){y.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){y.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(q){this._input=q,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){ee&&M.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),M.length?this.parseChunk(M.shift()):H=!0},this._streamData=V(function(q){try{M.push(typeof q=="string"?q:q.toString(this._config.encoding)),H&&(H=!1,this._checkIsFinished(),this.parseChunk(M.shift()))}catch(se){this._streamError(se)}},this),this._streamError=V(function(q){this._streamCleanUp(),this._sendError(q)},this),this._streamEnd=V(function(){this._streamCleanUp(),ee=!0,this._streamData("")},this),this._streamCleanUp=V(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function T(L){var M,H,ee,q,se=Math.pow(2,53),re=-se,X=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,fe=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ne=this,Q=0,te=0,he=!1,ue=!1,me=[],we={data:[],errors:[],meta:{}};function Re(xe){return L.skipEmptyLines==="greedy"?xe.join("").trim()==="":xe.length===1&&xe[0].length===0}function nt(){if(we&&ee&&(Ee("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),ee=!1),L.skipEmptyLines&&(we.data=we.data.filter(function(Te){return!Re(Te)})),de()){let Te=function(Ae,He){F(L.transformHeader)&&(Ae=L.transformHeader(Ae,He)),me.push(Ae)};var ge=Te;if(we)if(Array.isArray(we.data[0])){for(var xe=0;de()&&xe<we.data.length;xe++)we.data[xe].forEach(Te);we.data.splice(0,1)}else we.data.forEach(Te)}function Pe(Te,Ae){for(var He=L.header?{}:[],We=0;We<Te.length;We++){var Be=We,Xe=Te[We],Xe=((Ne,_e)=>(Dt=>(L.dynamicTypingFunction&&L.dynamicTyping[Dt]===void 0&&(L.dynamicTyping[Dt]=L.dynamicTypingFunction(Dt)),(L.dynamicTyping[Dt]||L.dynamicTyping)===!0))(Ne)?_e==="true"||_e==="TRUE"||_e!=="false"&&_e!=="FALSE"&&((Dt=>{if(X.test(Dt)&&(Dt=parseFloat(Dt),re<Dt&&Dt<se))return 1})(_e)?parseFloat(_e):fe.test(_e)?new Date(_e):_e===""?null:_e):_e)(Be=L.header?We>=me.length?"__parsed_extra":me[We]:Be,Xe=L.transform?L.transform(Xe,Be):Xe);Be==="__parsed_extra"?(He[Be]=He[Be]||[],He[Be].push(Xe)):He[Be]=Xe}return L.header&&(We>me.length?Ee("FieldMismatch","TooManyFields","Too many fields: expected "+me.length+" fields but parsed "+We,te+Ae):We<me.length&&Ee("FieldMismatch","TooFewFields","Too few fields: expected "+me.length+" fields but parsed "+We,te+Ae)),He}var Oe;we&&(L.header||L.dynamicTyping||L.transform)&&(Oe=1,!we.data.length||Array.isArray(we.data[0])?(we.data=we.data.map(Pe),Oe=we.data.length):we.data=Pe(we.data,0),L.header&&we.meta&&(we.meta.fields=me),te+=Oe)}function de(){return L.header&&me.length===0}function Ee(xe,Pe,Oe,ge){xe={type:xe,code:Pe,message:Oe},ge!==void 0&&(xe.row=ge),we.errors.push(xe)}F(L.step)&&(q=L.step,L.step=function(xe){we=xe,de()?nt():(nt(),we.data.length!==0&&(Q+=xe.data.length,L.preview&&Q>L.preview?H.abort():(we.data=we.data[0],q(we,ne))))}),this.parse=function(xe,Pe,Oe){var ge=L.quoteChar||'"',ge=(L.newline||(L.newline=this.guessLineEndings(xe,ge)),ee=!1,L.delimiter?F(L.delimiter)&&(L.delimiter=L.delimiter(xe),we.meta.delimiter=L.delimiter):((ge=((Te,Ae,He,We,Be)=>{var Xe,Ne,_e,Dt;Be=Be||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var ve=0;ve<Be.length;ve++){for(var On,Hs=Be[ve],St=0,Wn=0,ft=0,mn=(_e=void 0,new I({comments:We,delimiter:Hs,newline:Ae,preview:10}).parse(Te)),cn=0;cn<mn.data.length;cn++)He&&Re(mn.data[cn])?ft++:(On=mn.data[cn].length,Wn+=On,_e===void 0?_e=On:0<On&&(St+=Math.abs(On-_e),_e=On));0<mn.data.length&&(Wn/=mn.data.length-ft),(Ne===void 0||St<=Ne)&&(Dt===void 0||Dt<Wn)&&1.99<Wn&&(Ne=St,Xe=Hs,Dt=Wn)}return{successful:!!(L.delimiter=Xe),bestDelimiter:Xe}})(xe,L.newline,L.skipEmptyLines,L.comments,L.delimitersToGuess)).successful?L.delimiter=ge.bestDelimiter:(ee=!0,L.delimiter=p.DefaultDelimiter),we.meta.delimiter=L.delimiter),W(L));return L.preview&&L.header&&ge.preview++,M=xe,H=new I(ge),we=H.parse(M,Pe,Oe),nt(),he?{meta:{paused:!0}}:we||{meta:{paused:!1}}},this.paused=function(){return he},this.pause=function(){he=!0,H.abort(),M=F(L.chunk)?"":M.substring(H.getCharIndex())},this.resume=function(){ne.streamer._halted?(he=!1,ne.streamer.parseChunk(M,!0)):setTimeout(ne.resume,3)},this.aborted=function(){return ue},this.abort=function(){ue=!0,H.abort(),we.meta.aborted=!0,F(L.complete)&&L.complete(we),M=""},this.guessLineEndings=function(Te,ge){Te=Te.substring(0,1048576);var ge=new RegExp(O(ge)+"([^]*?)"+O(ge),"gm"),Oe=(Te=Te.replace(ge,"")).split("\r"),ge=Te.split(`
`),Te=1<ge.length&&ge[0].length<Oe[0].length;if(Oe.length===1||Te)return`
`;for(var Ae=0,He=0;He<Oe.length;He++)Oe[He][0]===`
`&&Ae++;return Ae>=Oe.length/2?`\r
`:"\r"}}function O(L){return L.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function I(L){var M=(L=L||{}).delimiter,H=L.newline,ee=L.comments,q=L.step,se=L.preview,re=L.fastMode,X=null,fe=!1,ne=L.quoteChar==null?'"':L.quoteChar,Q=ne;if(L.escapeChar!==void 0&&(Q=L.escapeChar),(typeof M!="string"||-1<p.BAD_DELIMITERS.indexOf(M))&&(M=","),ee===M)throw new Error("Comment character same as delimiter");ee===!0?ee="#":(typeof ee!="string"||-1<p.BAD_DELIMITERS.indexOf(ee))&&(ee=!1),H!==`
`&&H!=="\r"&&H!==`\r
`&&(H=`
`);var te=0,he=!1;this.parse=function(ue,me,we){if(typeof ue!="string")throw new Error("Input must be a string");var Re=ue.length,nt=M.length,de=H.length,Ee=ee.length,xe=F(q),Pe=[],Oe=[],ge=[],Te=te=0;if(!ue)return St();if(re||re!==!1&&ue.indexOf(ne)===-1){for(var Ae=ue.split(H),He=0;He<Ae.length;He++){if(ge=Ae[He],te+=ge.length,He!==Ae.length-1)te+=H.length;else if(we)return St();if(!ee||ge.substring(0,Ee)!==ee){if(xe){if(Pe=[],Dt(ge.split(M)),Wn(),he)return St()}else Dt(ge.split(M));if(se&&se<=He)return Pe=Pe.slice(0,se),St(!0)}}return St()}for(var We=ue.indexOf(M,te),Be=ue.indexOf(H,te),Xe=new RegExp(O(Q)+O(ne),"g"),Ne=ue.indexOf(ne,te);;)if(ue[te]===ne)for(Ne=te,te++;;){if((Ne=ue.indexOf(ne,Ne+1))===-1)return we||Oe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Pe.length,index:te}),On();if(Ne===Re-1)return On(ue.substring(te,Ne).replace(Xe,ne));if(ne===Q&&ue[Ne+1]===Q)Ne++;else if(ne===Q||Ne===0||ue[Ne-1]!==Q){We!==-1&&We<Ne+1&&(We=ue.indexOf(M,Ne+1));var _e=ve((Be=Be!==-1&&Be<Ne+1?ue.indexOf(H,Ne+1):Be)===-1?We:Math.min(We,Be));if(ue.substr(Ne+1+_e,nt)===M){ge.push(ue.substring(te,Ne).replace(Xe,ne)),ue[te=Ne+1+_e+nt]!==ne&&(Ne=ue.indexOf(ne,te)),We=ue.indexOf(M,te),Be=ue.indexOf(H,te);break}if(_e=ve(Be),ue.substring(Ne+1+_e,Ne+1+_e+de)===H){if(ge.push(ue.substring(te,Ne).replace(Xe,ne)),Hs(Ne+1+_e+de),We=ue.indexOf(M,te),Ne=ue.indexOf(ne,te),xe&&(Wn(),he))return St();if(se&&Pe.length>=se)return St(!0);break}Oe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Pe.length,index:te}),Ne++}}else if(ee&&ge.length===0&&ue.substring(te,te+Ee)===ee){if(Be===-1)return St();te=Be+de,Be=ue.indexOf(H,te),We=ue.indexOf(M,te)}else if(We!==-1&&(We<Be||Be===-1))ge.push(ue.substring(te,We)),te=We+nt,We=ue.indexOf(M,te);else{if(Be===-1)break;if(ge.push(ue.substring(te,Be)),Hs(Be+de),xe&&(Wn(),he))return St();if(se&&Pe.length>=se)return St(!0)}return On();function Dt(ft){Pe.push(ft),Te=te}function ve(ft){var mn=0;return mn=ft!==-1&&(ft=ue.substring(Ne+1,ft))&&ft.trim()===""?ft.length:mn}function On(ft){return we||(ft===void 0&&(ft=ue.substring(te)),ge.push(ft),te=Re,Dt(ge),xe&&Wn()),St()}function Hs(ft){te=ft,Dt(ge),ge=[],Be=ue.indexOf(H,te)}function St(ft){if(L.header&&!me&&Pe.length&&!fe){var mn=Pe[0],cn=Object.create(null),tn=new Set(mn);let yl=!1;for(let Pr=0;Pr<mn.length;Pr++){let gr=mn[Pr];if(cn[gr=F(L.transformHeader)?L.transformHeader(gr,Pr):gr]){let At,pe=cn[gr];for(;At=gr+"_"+pe,pe++,tn.has(At););tn.add(At),mn[Pr]=At,cn[gr]++,yl=!0,(X=X===null?{}:X)[At]=gr}else cn[gr]=1,mn[Pr]=gr;tn.add(gr)}yl&&console.warn("Duplicate headers found and renamed."),fe=!0}return{data:Pe,errors:Oe,meta:{delimiter:M,linebreak:H,aborted:he,truncated:!!ft,cursor:Te+(me||0),renamedHeaders:X}}}function Wn(){q(St()),Pe=[],Oe=[]}},this.abort=function(){he=!0},this.getCharIndex=function(){return te}}function _(L){var M=L.data,H=h[M.workerId],ee=!1;if(M.error)H.userError(M.error,M.file);else if(M.results&&M.results.data){var q={abort:function(){ee=!0,S(M.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:D,resume:D};if(F(H.userStep)){for(var se=0;se<M.results.data.length&&(H.userStep({data:M.results.data[se],errors:M.results.errors,meta:M.results.meta},q),!ee);se++);delete M.results}else F(H.userChunk)&&(H.userChunk(M.results,q,M.file),delete M.results)}M.finished&&!ee&&S(M.workerId,M.results)}function S(L,M){var H=h[L];F(H.userComplete)&&H.userComplete(M),H.terminate(),delete h[L]}function D(){throw new Error("Not implemented.")}function W(L){if(typeof L!="object"||L===null)return L;var M,H=Array.isArray(L)?[]:{};for(M in L)H[M]=W(L[M]);return H}function V(L,M){return function(){L.apply(M,arguments)}}function F(L){return typeof L=="function"}return p.parse=function(L,M){var H=(M=M||{}).dynamicTyping||!1;if(F(H)&&(M.dynamicTypingFunction=H,H={}),M.dynamicTyping=H,M.transform=!!F(M.transform)&&M.transform,!M.worker||!p.WORKERS_SUPPORTED)return H=null,p.NODE_STREAM_INPUT,typeof L=="string"?(L=(ee=>ee.charCodeAt(0)!==65279?ee:ee.slice(1))(L),H=new(M.download?v:N)(M)):L.readable===!0&&F(L.read)&&F(L.on)?H=new P(M):(r.File&&L instanceof File||L instanceof Object)&&(H=new E(M)),H.stream(L);(H=(()=>{var ee;return!!p.WORKERS_SUPPORTED&&(ee=(()=>{var q=r.URL||r.webkitURL||null,se=n.toString();return p.BLOB_URL||(p.BLOB_URL=q.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",se,")();"],{type:"text/javascript"})))})(),(ee=new r.Worker(ee)).onmessage=_,ee.id=m++,h[ee.id]=ee)})()).userStep=M.step,H.userChunk=M.chunk,H.userComplete=M.complete,H.userError=M.error,M.step=F(M.step),M.chunk=F(M.chunk),M.complete=F(M.complete),M.error=F(M.error),delete M.worker,H.postMessage({input:L,config:M,workerId:H.id})},p.unparse=function(L,M){var H=!1,ee=!0,q=",",se=`\r
`,re='"',X=re+re,fe=!1,ne=null,Q=!1,te=((()=>{if(typeof M=="object"){if(typeof M.delimiter!="string"||p.BAD_DELIMITERS.filter(function(me){return M.delimiter.indexOf(me)!==-1}).length||(q=M.delimiter),typeof M.quotes!="boolean"&&typeof M.quotes!="function"&&!Array.isArray(M.quotes)||(H=M.quotes),typeof M.skipEmptyLines!="boolean"&&typeof M.skipEmptyLines!="string"||(fe=M.skipEmptyLines),typeof M.newline=="string"&&(se=M.newline),typeof M.quoteChar=="string"&&(re=M.quoteChar),typeof M.header=="boolean"&&(ee=M.header),Array.isArray(M.columns)){if(M.columns.length===0)throw new Error("Option columns is empty");ne=M.columns}M.escapeChar!==void 0&&(X=M.escapeChar+re),M.escapeFormulae instanceof RegExp?Q=M.escapeFormulae:typeof M.escapeFormulae=="boolean"&&M.escapeFormulae&&(Q=/^[=+\-@\t\r].*$/)}})(),new RegExp(O(re),"g"));if(typeof L=="string"&&(L=JSON.parse(L)),Array.isArray(L)){if(!L.length||Array.isArray(L[0]))return he(null,L,fe);if(typeof L[0]=="object")return he(ne||Object.keys(L[0]),L,fe)}else if(typeof L=="object")return typeof L.data=="string"&&(L.data=JSON.parse(L.data)),Array.isArray(L.data)&&(L.fields||(L.fields=L.meta&&L.meta.fields||ne),L.fields||(L.fields=Array.isArray(L.data[0])?L.fields:typeof L.data[0]=="object"?Object.keys(L.data[0]):[]),Array.isArray(L.data[0])||typeof L.data[0]=="object"||(L.data=[L.data])),he(L.fields||[],L.data||[],fe);throw new Error("Unable to serialize unrecognized input");function he(me,we,Re){var nt="",de=(typeof me=="string"&&(me=JSON.parse(me)),typeof we=="string"&&(we=JSON.parse(we)),Array.isArray(me)&&0<me.length),Ee=!Array.isArray(we[0]);if(de&&ee){for(var xe=0;xe<me.length;xe++)0<xe&&(nt+=q),nt+=ue(me[xe],xe);0<we.length&&(nt+=se)}for(var Pe=0;Pe<we.length;Pe++){var Oe=(de?me:we[Pe]).length,ge=!1,Te=de?Object.keys(we[Pe]).length===0:we[Pe].length===0;if(Re&&!de&&(ge=Re==="greedy"?we[Pe].join("").trim()==="":we[Pe].length===1&&we[Pe][0].length===0),Re==="greedy"&&de){for(var Ae=[],He=0;He<Oe;He++){var We=Ee?me[He]:He;Ae.push(we[Pe][We])}ge=Ae.join("").trim()===""}if(!ge){for(var Be=0;Be<Oe;Be++){0<Be&&!Te&&(nt+=q);var Xe=de&&Ee?me[Be]:Be;nt+=ue(we[Pe][Xe],Be)}Pe<we.length-1&&(!Re||0<Oe&&!Te)&&(nt+=se)}}return nt}function ue(me,we){var Re,nt;return me==null?"":me.constructor===Date?JSON.stringify(me).slice(1,25):(nt=!1,Q&&typeof me=="string"&&Q.test(me)&&(me="'"+me,nt=!0),Re=me.toString().replace(te,X),(nt=nt||H===!0||typeof H=="function"&&H(me,we)||Array.isArray(H)&&H[we]||((de,Ee)=>{for(var xe=0;xe<Ee.length;xe++)if(-1<de.indexOf(Ee[xe]))return!0;return!1})(Re,p.BAD_DELIMITERS)||-1<Re.indexOf(q)||Re.charAt(0)===" "||Re.charAt(Re.length-1)===" ")?re+Re+re:Re)}},p.RECORD_SEP="",p.UNIT_SEP="",p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!a&&!!r.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=I,p.ParserHandle=T,p.NetworkStreamer=v,p.FileStreamer=E,p.StringStreamer=N,p.ReadableStreamStreamer=P,r.jQuery&&((i=r.jQuery).fn.parse=function(L){var M=L.config||{},H=[];return this.each(function(se){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var re=0;re<this.files.length;re++)H.push({file:this.files[re],inputElem:this,instanceConfig:i.extend({},M)})}),ee(),this;function ee(){if(H.length===0)F(L.complete)&&L.complete();else{var se,re,X,fe,ne=H[0];if(F(L.before)){var Q=L.before(ne.file,ne.inputElem);if(typeof Q=="object"){if(Q.action==="abort")return se="AbortError",re=ne.file,X=ne.inputElem,fe=Q.reason,void(F(L.error)&&L.error({name:se},re,X,fe));if(Q.action==="skip")return void q();typeof Q.config=="object"&&(ne.instanceConfig=i.extend(ne.instanceConfig,Q.config))}else if(Q==="skip")return void q()}var te=ne.instanceConfig.complete;ne.instanceConfig.complete=function(he){F(te)&&te(he,ne.file,ne.inputElem),q()},p.parse(ne.file,ne.instanceConfig)}}function q(){H.splice(0,1),ee()}}),u&&(r.onmessage=function(L){L=L.data,p.WORKER_ID===void 0&&L&&(p.WORKER_ID=L.workerId),typeof L.input=="string"?r.postMessage({workerId:p.WORKER_ID,results:p.parse(L.input,L.config),finished:!0}):(r.File&&L.input instanceof File||L.input instanceof Object)&&(L=p.parse(L.input,L.config))&&r.postMessage({workerId:p.WORKER_ID,results:L,finished:!0})}),(v.prototype=Object.create(y.prototype)).constructor=v,(E.prototype=Object.create(y.prototype)).constructor=E,(N.prototype=Object.create(N.prototype)).constructor=N,(P.prototype=Object.create(y.prototype)).constructor=P,p})})(yE);var c5=yE.exports;const u5=of(c5),d5=["top","right","bottom","left"],Fi=Math.min,ar=Math.max,Xd=Math.round,Hu=Math.floor,Ui=e=>({x:e,y:e}),f5={left:"right",right:"left",bottom:"top",top:"bottom"},h5={start:"end",end:"start"};function z1(e,t,n){return ar(e,Fi(t,n))}function Ls(e,t){return typeof e=="function"?e(t):e}function Bs(e){return e.split("-")[0]}function ml(e){return e.split("-")[1]}function Mg(e){return e==="x"?"y":"x"}function jg(e){return e==="y"?"height":"width"}function Wi(e){return["top","bottom"].includes(Bs(e))?"y":"x"}function Lg(e){return Mg(Wi(e))}function p5(e,t,n){n===void 0&&(n=!1);const r=ml(e),i=Lg(e),a=jg(i);let u=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(u=Yd(u)),[u,Yd(u)]}function g5(e){const t=Yd(e);return[H1(e),t,H1(t)]}function H1(e){return e.replace(/start|end/g,t=>h5[t])}function m5(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],u=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:u;default:return[]}}function x5(e,t,n,r){const i=ml(e);let a=m5(Bs(e),n==="start",r);return i&&(a=a.map(u=>u+"-"+i),t&&(a=a.concat(a.map(H1)))),a}function Yd(e){return e.replace(/left|right|bottom|top/g,t=>f5[t])}function w5(e){return{top:0,right:0,bottom:0,left:0,...e}}function vE(e){return typeof e!="number"?w5(e):{top:e,right:e,bottom:e,left:e}}function Kd(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Mw(e,t,n){let{reference:r,floating:i}=e;const a=Wi(t),u=Lg(t),h=jg(u),m=Bs(t),p=a==="y",y=r.x+r.width/2-i.width/2,v=r.y+r.height/2-i.height/2,E=r[h]/2-i[h]/2;let N;switch(m){case"top":N={x:y,y:r.y-i.height};break;case"bottom":N={x:y,y:r.y+r.height};break;case"right":N={x:r.x+r.width,y:v};break;case"left":N={x:r.x-i.width,y:v};break;default:N={x:r.x,y:r.y}}switch(ml(t)){case"start":N[u]-=E*(n&&p?-1:1);break;case"end":N[u]+=E*(n&&p?-1:1);break}return N}const y5=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:u}=n,h=a.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(t));let p=await u.getElementRects({reference:e,floating:t,strategy:i}),{x:y,y:v}=Mw(p,r,m),E=r,N={},P=0;for(let T=0;T<h.length;T++){const{name:O,fn:I}=h[T],{x:_,y:S,data:D,reset:W}=await I({x:y,y:v,initialPlacement:r,placement:E,strategy:i,middlewareData:N,rects:p,platform:u,elements:{reference:e,floating:t}});y=_??y,v=S??v,N={...N,[O]:{...N[O],...D}},W&&P<=50&&(P++,typeof W=="object"&&(W.placement&&(E=W.placement),W.rects&&(p=W.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:i}):W.rects),{x:y,y:v}=Mw(p,E,m)),T=-1)}return{x:y,y:v,placement:E,strategy:i,middlewareData:N}};async function Rc(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:u,elements:h,strategy:m}=e,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:E=!1,padding:N=0}=Ls(t,e),P=vE(N),O=h[E?v==="floating"?"reference":"floating":v],I=Kd(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(O)))==null||n?O:O.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:p,rootBoundary:y,strategy:m})),_=v==="floating"?{x:r,y:i,width:u.floating.width,height:u.floating.height}:u.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),D=await(a.isElement==null?void 0:a.isElement(S))?await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1}:{x:1,y:1},W=Kd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:_,offsetParent:S,strategy:m}):_);return{top:(I.top-W.top+P.top)/D.y,bottom:(W.bottom-I.bottom+P.bottom)/D.y,left:(I.left-W.left+P.left)/D.x,right:(W.right-I.right+P.right)/D.x}}const v5=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:u,elements:h,middlewareData:m}=t,{element:p,padding:y=0}=Ls(e,t)||{};if(p==null)return{};const v=vE(y),E={x:n,y:r},N=Lg(i),P=jg(N),T=await u.getDimensions(p),O=N==="y",I=O?"top":"left",_=O?"bottom":"right",S=O?"clientHeight":"clientWidth",D=a.reference[P]+a.reference[N]-E[N]-a.floating[P],W=E[N]-a.reference[N],V=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let F=V?V[S]:0;(!F||!await(u.isElement==null?void 0:u.isElement(V)))&&(F=h.floating[S]||a.floating[P]);const L=D/2-W/2,M=F/2-T[P]/2-1,H=Fi(v[I],M),ee=Fi(v[_],M),q=H,se=F-T[P]-ee,re=F/2-T[P]/2+L,X=z1(q,re,se),fe=!m.arrow&&ml(i)!=null&&re!==X&&a.reference[P]/2-(re<q?H:ee)-T[P]/2<0,ne=fe?re<q?re-q:re-se:0;return{[N]:E[N]+ne,data:{[N]:X,centerOffset:re-X-ne,...fe&&{alignmentOffset:ne}},reset:fe}}}),b5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:u,initialPlacement:h,platform:m,elements:p}=t,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:E,fallbackStrategy:N="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:T=!0,...O}=Ls(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const I=Bs(i),_=Wi(h),S=Bs(h)===h,D=await(m.isRTL==null?void 0:m.isRTL(p.floating)),W=E||(S||!T?[Yd(h)]:g5(h)),V=P!=="none";!E&&V&&W.push(...x5(h,T,P,D));const F=[h,...W],L=await Rc(t,O),M=[];let H=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&M.push(L[I]),v){const re=p5(i,u,D);M.push(L[re[0]],L[re[1]])}if(H=[...H,{placement:i,overflows:M}],!M.every(re=>re<=0)){var ee,q;const re=(((ee=a.flip)==null?void 0:ee.index)||0)+1,X=F[re];if(X)return{data:{index:re,overflows:H},reset:{placement:X}};let fe=(q=H.filter(ne=>ne.overflows[0]<=0).sort((ne,Q)=>ne.overflows[1]-Q.overflows[1])[0])==null?void 0:q.placement;if(!fe)switch(N){case"bestFit":{var se;const ne=(se=H.filter(Q=>{if(V){const te=Wi(Q.placement);return te===_||te==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(te=>te>0).reduce((te,he)=>te+he,0)]).sort((Q,te)=>Q[1]-te[1])[0])==null?void 0:se[0];ne&&(fe=ne);break}case"initialPlacement":fe=h;break}if(i!==fe)return{reset:{placement:fe}}}return{}}}};function jw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Lw(e){return d5.some(t=>e[t]>=0)}const C5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Ls(e,t);switch(r){case"referenceHidden":{const a=await Rc(t,{...i,elementContext:"reference"}),u=jw(a,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Lw(u)}}}case"escaped":{const a=await Rc(t,{...i,altBoundary:!0}),u=jw(a,n.floating);return{data:{escapedOffsets:u,escaped:Lw(u)}}}default:return{}}}}};async function E5(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),u=Bs(n),h=ml(n),m=Wi(n)==="y",p=["left","top"].includes(u)?-1:1,y=a&&m?-1:1,v=Ls(t,e);let{mainAxis:E,crossAxis:N,alignmentAxis:P}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return h&&typeof P=="number"&&(N=h==="end"?P*-1:P),m?{x:N*y,y:E*p}:{x:E*p,y:N*y}}const S5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:u,middlewareData:h}=t,m=await E5(t,e);return u===((n=h.offset)==null?void 0:n.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:i+m.x,y:a+m.y,data:{...m,placement:u}}}}},A5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:u=!1,limiter:h={fn:O=>{let{x:I,y:_}=O;return{x:I,y:_}}},...m}=Ls(e,t),p={x:n,y:r},y=await Rc(t,m),v=Wi(Bs(i)),E=Mg(v);let N=p[E],P=p[v];if(a){const O=E==="y"?"top":"left",I=E==="y"?"bottom":"right",_=N+y[O],S=N-y[I];N=z1(_,N,S)}if(u){const O=v==="y"?"top":"left",I=v==="y"?"bottom":"right",_=P+y[O],S=P-y[I];P=z1(_,P,S)}const T=h.fn({...t,[E]:N,[v]:P});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[E]:a,[v]:u}}}}}},_5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:u}=t,{offset:h=0,mainAxis:m=!0,crossAxis:p=!0}=Ls(e,t),y={x:n,y:r},v=Wi(i),E=Mg(v);let N=y[E],P=y[v];const T=Ls(h,t),O=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(m){const S=E==="y"?"height":"width",D=a.reference[E]-a.floating[S]+O.mainAxis,W=a.reference[E]+a.reference[S]-O.mainAxis;N<D?N=D:N>W&&(N=W)}if(p){var I,_;const S=E==="y"?"width":"height",D=["top","left"].includes(Bs(i)),W=a.reference[v]-a.floating[S]+(D&&((I=u.offset)==null?void 0:I[v])||0)+(D?0:O.crossAxis),V=a.reference[v]+a.reference[S]+(D?0:((_=u.offset)==null?void 0:_[v])||0)-(D?O.crossAxis:0);P<W?P=W:P>V&&(P=V)}return{[E]:N,[v]:P}}}},N5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:u,elements:h}=t,{apply:m=()=>{},...p}=Ls(e,t),y=await Rc(t,p),v=Bs(i),E=ml(i),N=Wi(i)==="y",{width:P,height:T}=a.floating;let O,I;v==="top"||v==="bottom"?(O=v,I=E===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(I=v,O=E==="end"?"top":"bottom");const _=T-y.top-y.bottom,S=P-y.left-y.right,D=Fi(T-y[O],_),W=Fi(P-y[I],S),V=!t.middlewareData.shift;let F=D,L=W;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(L=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(F=_),V&&!E){const H=ar(y.left,0),ee=ar(y.right,0),q=ar(y.top,0),se=ar(y.bottom,0);N?L=P-2*(H!==0||ee!==0?H+ee:ar(y.left,y.right)):F=T-2*(q!==0||se!==0?q+se:ar(y.top,y.bottom))}await m({...t,availableWidth:L,availableHeight:F});const M=await u.getDimensions(h.floating);return P!==M.width||T!==M.height?{reset:{rects:!0}}:{}}}};function Hf(){return typeof window<"u"}function xl(e){return bE(e)?(e.nodeName||"").toLowerCase():"#document"}function dr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vs(e){var t;return(t=(bE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function bE(e){return Hf()?e instanceof Node||e instanceof dr(e).Node:!1}function Xr(e){return Hf()?e instanceof Element||e instanceof dr(e).Element:!1}function xs(e){return Hf()?e instanceof HTMLElement||e instanceof dr(e).HTMLElement:!1}function Bw(e){return!Hf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof dr(e).ShadowRoot}function nu(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Yr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function T5(e){return["table","td","th"].includes(xl(e))}function $f(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Bg(e){const t=Fg(),n=Xr(e)?Yr(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function I5(e){let t=Vi(e);for(;xs(t)&&!rl(t);){if(Bg(t))return t;if($f(t))return null;t=Vi(t)}return null}function Fg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function rl(e){return["html","body","#document"].includes(xl(e))}function Yr(e){return dr(e).getComputedStyle(e)}function Gf(e){return Xr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Vi(e){if(xl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Bw(e)&&e.host||vs(e);return Bw(t)?t.host:t}function CE(e){const t=Vi(e);return rl(t)?e.ownerDocument?e.ownerDocument.body:e.body:xs(t)&&nu(t)?t:CE(t)}function Oc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=CE(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),u=dr(i);if(a){const h=$1(u);return t.concat(u,u.visualViewport||[],nu(i)?i:[],h&&n?Oc(h):[])}return t.concat(i,Oc(i,[],n))}function $1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function EE(e){const t=Yr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=xs(e),a=i?e.offsetWidth:n,u=i?e.offsetHeight:r,h=Xd(n)!==a||Xd(r)!==u;return h&&(n=a,r=u),{width:n,height:r,$:h}}function Ug(e){return Xr(e)?e:e.contextElement}function Pa(e){const t=Ug(e);if(!xs(t))return Ui(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=EE(t);let u=(a?Xd(n.width):n.width)/r,h=(a?Xd(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const R5=Ui(0);function SE(e){const t=dr(e);return!Fg()||!t.visualViewport?R5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function O5(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==dr(e)?!1:t}function jo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=Ug(e);let u=Ui(1);t&&(r?Xr(r)&&(u=Pa(r)):u=Pa(e));const h=O5(a,n,r)?SE(a):Ui(0);let m=(i.left+h.x)/u.x,p=(i.top+h.y)/u.y,y=i.width/u.x,v=i.height/u.y;if(a){const E=dr(a),N=r&&Xr(r)?dr(r):r;let P=E,T=$1(P);for(;T&&r&&N!==P;){const O=Pa(T),I=T.getBoundingClientRect(),_=Yr(T),S=I.left+(T.clientLeft+parseFloat(_.paddingLeft))*O.x,D=I.top+(T.clientTop+parseFloat(_.paddingTop))*O.y;m*=O.x,p*=O.y,y*=O.x,v*=O.y,m+=S,p+=D,P=dr(T),T=$1(P)}}return Kd({width:y,height:v,x:m,y:p})}function k5(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",u=vs(r),h=t?$f(t.floating):!1;if(r===u||h&&a)return n;let m={scrollLeft:0,scrollTop:0},p=Ui(1);const y=Ui(0),v=xs(r);if((v||!v&&!a)&&((xl(r)!=="body"||nu(u))&&(m=Gf(r)),xs(r))){const E=jo(r);p=Pa(r),y.x=E.x+r.clientLeft,y.y=E.y+r.clientTop}return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-m.scrollLeft*p.x+y.x,y:n.y*p.y-m.scrollTop*p.y+y.y}}function P5(e){return Array.from(e.getClientRects())}function G1(e,t){const n=Gf(e).scrollLeft;return t?t.left+n:jo(vs(e)).left+n}function D5(e){const t=vs(e),n=Gf(e),r=e.ownerDocument.body,i=ar(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=ar(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let u=-n.scrollLeft+G1(e);const h=-n.scrollTop;return Yr(r).direction==="rtl"&&(u+=ar(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:u,y:h}}function M5(e,t){const n=dr(e),r=vs(e),i=n.visualViewport;let a=r.clientWidth,u=r.clientHeight,h=0,m=0;if(i){a=i.width,u=i.height;const p=Fg();(!p||p&&t==="fixed")&&(h=i.offsetLeft,m=i.offsetTop)}return{width:a,height:u,x:h,y:m}}function j5(e,t){const n=jo(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=xs(e)?Pa(e):Ui(1),u=e.clientWidth*a.x,h=e.clientHeight*a.y,m=i*a.x,p=r*a.y;return{width:u,height:h,x:m,y:p}}function Fw(e,t,n){let r;if(t==="viewport")r=M5(e,n);else if(t==="document")r=D5(vs(e));else if(Xr(t))r=j5(t,n);else{const i=SE(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Kd(r)}function AE(e,t){const n=Vi(e);return n===t||!Xr(n)||rl(n)?!1:Yr(n).position==="fixed"||AE(n,t)}function L5(e,t){const n=t.get(e);if(n)return n;let r=Oc(e,[],!1).filter(h=>Xr(h)&&xl(h)!=="body"),i=null;const a=Yr(e).position==="fixed";let u=a?Vi(e):e;for(;Xr(u)&&!rl(u);){const h=Yr(u),m=Bg(u);!m&&h.position==="fixed"&&(i=null),(a?!m&&!i:!m&&h.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||nu(u)&&!m&&AE(e,u))?r=r.filter(y=>y!==u):i=h,u=Vi(u)}return t.set(e,r),r}function B5(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const u=[...n==="clippingAncestors"?$f(t)?[]:L5(t,this._c):[].concat(n),r],h=u[0],m=u.reduce((p,y)=>{const v=Fw(t,y,i);return p.top=ar(v.top,p.top),p.right=Fi(v.right,p.right),p.bottom=Fi(v.bottom,p.bottom),p.left=ar(v.left,p.left),p},Fw(t,h,i));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function F5(e){const{width:t,height:n}=EE(e);return{width:t,height:n}}function U5(e,t,n){const r=xs(t),i=vs(t),a=n==="fixed",u=jo(e,!0,a,t);let h={scrollLeft:0,scrollTop:0};const m=Ui(0);if(r||!r&&!a)if((xl(t)!=="body"||nu(i))&&(h=Gf(t)),r){const N=jo(t,!0,a,t);m.x=N.x+t.clientLeft,m.y=N.y+t.clientTop}else i&&(m.x=G1(i));let p=0,y=0;if(i&&!r&&!a){const N=i.getBoundingClientRect();y=N.top+h.scrollTop,p=N.left+h.scrollLeft-G1(i,N)}const v=u.left+h.scrollLeft-m.x-p,E=u.top+h.scrollTop-m.y-y;return{x:v,y:E,width:u.width,height:u.height}}function h0(e){return Yr(e).position==="static"}function Uw(e,t){if(!xs(e)||Yr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return vs(e)===n&&(n=n.ownerDocument.body),n}function _E(e,t){const n=dr(e);if($f(e))return n;if(!xs(e)){let i=Vi(e);for(;i&&!rl(i);){if(Xr(i)&&!h0(i))return i;i=Vi(i)}return n}let r=Uw(e,t);for(;r&&T5(r)&&h0(r);)r=Uw(r,t);return r&&rl(r)&&h0(r)&&!Bg(r)?n:r||I5(e)||n}const W5=async function(e){const t=this.getOffsetParent||_E,n=this.getDimensions,r=await n(e.floating);return{reference:U5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function V5(e){return Yr(e).direction==="rtl"}const z5={convertOffsetParentRelativeRectToViewportRelativeRect:k5,getDocumentElement:vs,getClippingRect:B5,getOffsetParent:_E,getElementRects:W5,getClientRects:P5,getDimensions:F5,getScale:Pa,isElement:Xr,isRTL:V5};function H5(e,t){let n=null,r;const i=vs(e);function a(){var h;clearTimeout(r),(h=n)==null||h.disconnect(),n=null}function u(h,m){h===void 0&&(h=!1),m===void 0&&(m=1),a();const{left:p,top:y,width:v,height:E}=e.getBoundingClientRect();if(h||t(),!v||!E)return;const N=Hu(y),P=Hu(i.clientWidth-(p+v)),T=Hu(i.clientHeight-(y+E)),O=Hu(p),_={rootMargin:-N+"px "+-P+"px "+-T+"px "+-O+"px",threshold:ar(0,Fi(1,m))||1};let S=!0;function D(W){const V=W[0].intersectionRatio;if(V!==m){if(!S)return u();V?u(!1,V):r=setTimeout(()=>{u(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(D,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,_)}n.observe(e)}return u(!0),a}function $5(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:m=!1}=r,p=Ug(e),y=i||a?[...p?Oc(p):[],...Oc(t)]:[];y.forEach(I=>{i&&I.addEventListener("scroll",n,{passive:!0}),a&&I.addEventListener("resize",n)});const v=p&&h?H5(p,n):null;let E=-1,N=null;u&&(N=new ResizeObserver(I=>{let[_]=I;_&&_.target===p&&N&&(N.unobserve(t),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var S;(S=N)==null||S.observe(t)})),n()}),p&&!m&&N.observe(p),N.observe(t));let P,T=m?jo(e):null;m&&O();function O(){const I=jo(e);T&&(I.x!==T.x||I.y!==T.y||I.width!==T.width||I.height!==T.height)&&n(),T=I,P=requestAnimationFrame(O)}return n(),()=>{var I;y.forEach(_=>{i&&_.removeEventListener("scroll",n),a&&_.removeEventListener("resize",n)}),v==null||v(),(I=N)==null||I.disconnect(),N=null,m&&cancelAnimationFrame(P)}}const G5=S5,q5=A5,X5=b5,Y5=N5,K5=C5,Ww=v5,Q5=_5,Z5=(e,t,n)=>{const r=new Map,i={platform:z5,...n},a={...i.platform,_c:r};return y5(e,t,{...i,platform:a})};var cd=typeof document<"u"?C.useLayoutEffect:C.useEffect;function Qd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Qd(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Qd(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function NE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Vw(e,t){const n=NE(e);return Math.round(t*n)/n}function p0(e){const t=C.useRef(e);return cd(()=>{t.current=e}),t}function J5(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:u}={},transform:h=!0,whileElementsMounted:m,open:p}=e,[y,v]=C.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[E,N]=C.useState(r);Qd(E,r)||N(r);const[P,T]=C.useState(null),[O,I]=C.useState(null),_=C.useCallback(Q=>{Q!==V.current&&(V.current=Q,T(Q))},[]),S=C.useCallback(Q=>{Q!==F.current&&(F.current=Q,I(Q))},[]),D=a||P,W=u||O,V=C.useRef(null),F=C.useRef(null),L=C.useRef(y),M=m!=null,H=p0(m),ee=p0(i),q=p0(p),se=C.useCallback(()=>{if(!V.current||!F.current)return;const Q={placement:t,strategy:n,middleware:E};ee.current&&(Q.platform=ee.current),Z5(V.current,F.current,Q).then(te=>{const he={...te,isPositioned:q.current!==!1};re.current&&!Qd(L.current,he)&&(L.current=he,Uo.flushSync(()=>{v(he)}))})},[E,t,n,ee,q]);cd(()=>{p===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,v(Q=>({...Q,isPositioned:!1})))},[p]);const re=C.useRef(!1);cd(()=>(re.current=!0,()=>{re.current=!1}),[]),cd(()=>{if(D&&(V.current=D),W&&(F.current=W),D&&W){if(H.current)return H.current(D,W,se);se()}},[D,W,se,H,M]);const X=C.useMemo(()=>({reference:V,floating:F,setReference:_,setFloating:S}),[_,S]),fe=C.useMemo(()=>({reference:D,floating:W}),[D,W]),ne=C.useMemo(()=>{const Q={position:n,left:0,top:0};if(!fe.floating)return Q;const te=Vw(fe.floating,y.x),he=Vw(fe.floating,y.y);return h?{...Q,transform:"translate("+te+"px, "+he+"px)",...NE(fe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:he}},[n,h,fe.floating,y.x,y.y]);return C.useMemo(()=>({...y,update:se,refs:X,elements:fe,floatingStyles:ne}),[y,se,X,fe,ne])}const eD=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Ww({element:r.current,padding:i}).fn(n):{}:r?Ww({element:r,padding:i}).fn(n):{}}}},tD=(e,t)=>({...G5(e),options:[e,t]}),nD=(e,t)=>({...q5(e),options:[e,t]}),rD=(e,t)=>({...Q5(e),options:[e,t]}),sD=(e,t)=>({...X5(e),options:[e,t]}),iD=(e,t)=>({...Y5(e),options:[e,t]}),oD=(e,t)=>({...K5(e),options:[e,t]}),aD=(e,t)=>({...eD(e),options:[e,t]});var lD="Arrow",TE=C.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return g.jsx(Ve.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});TE.displayName=lD;var cD=TE;function uD(e,t=[]){let n=[];function r(a,u){const h=C.createContext(u),m=n.length;n=[...n,u];function p(v){const{scope:E,children:N,...P}=v,T=(E==null?void 0:E[e][m])||h,O=C.useMemo(()=>P,Object.values(P));return g.jsx(T.Provider,{value:O,children:N})}function y(v,E){const N=(E==null?void 0:E[e][m])||h,P=C.useContext(N);if(P)return P;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${a}\``)}return p.displayName=a+"Provider",[p,y]}const i=()=>{const a=n.map(u=>C.createContext(u));return function(h){const m=(h==null?void 0:h[e])||a;return C.useMemo(()=>({[`__scope${e}`]:{...h,[e]:m}}),[h,m])}};return i.scopeName=e,[r,dD(i,...t)]}function dD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=r.reduce((h,{useScope:m,scopeName:p})=>{const v=m(a)[`__scope${p}`];return{...h,...v}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function Wg(e){const[t,n]=C.useState(void 0);return En(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let u,h;if("borderBoxSize"in a){const m=a.borderBoxSize,p=Array.isArray(m)?m[0]:m;u=p.inlineSize,h=p.blockSize}else u=e.offsetWidth,h=e.offsetHeight;n({width:u,height:h})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Vg="Popper",[IE,qf]=uD(Vg),[fD,RE]=IE(Vg),OE=e=>{const{__scopePopper:t,children:n}=e,[r,i]=C.useState(null);return g.jsx(fD,{scope:t,anchor:r,onAnchorChange:i,children:n})};OE.displayName=Vg;var kE="PopperAnchor",PE=C.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=RE(kE,n),u=C.useRef(null),h=it(t,u);return C.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:g.jsx(Ve.div,{...i,ref:h})});PE.displayName=kE;var zg="PopperContent",[hD,pD]=IE(zg),DE=C.forwardRef((e,t)=>{var Ee,xe,Pe,Oe,ge,Te;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:v="partial",hideWhenDetached:E=!1,updatePositionStrategy:N="optimized",onPlaced:P,...T}=e,O=RE(zg,n),[I,_]=C.useState(null),S=it(t,Ae=>_(Ae)),[D,W]=C.useState(null),V=Wg(D),F=(V==null?void 0:V.width)??0,L=(V==null?void 0:V.height)??0,M=r+(a!=="center"?"-"+a:""),H=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},ee=Array.isArray(p)?p:[p],q=ee.length>0,se={padding:H,boundary:ee.filter(mD),altBoundary:q},{refs:re,floatingStyles:X,placement:fe,isPositioned:ne,middlewareData:Q}=J5({strategy:"fixed",placement:M,whileElementsMounted:(...Ae)=>$5(...Ae,{animationFrame:N==="always"}),elements:{reference:O.anchor},middleware:[tD({mainAxis:i+L,alignmentAxis:u}),m&&nD({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?rD():void 0,...se}),m&&sD({...se}),iD({...se,apply:({elements:Ae,rects:He,availableWidth:We,availableHeight:Be})=>{const{width:Xe,height:Ne}=He.reference,_e=Ae.floating.style;_e.setProperty("--radix-popper-available-width",`${We}px`),_e.setProperty("--radix-popper-available-height",`${Be}px`),_e.setProperty("--radix-popper-anchor-width",`${Xe}px`),_e.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),D&&aD({element:D,padding:h}),xD({arrowWidth:F,arrowHeight:L}),E&&oD({strategy:"referenceHidden",...se})]}),[te,he]=LE(fe),ue=en(P);En(()=>{ne&&(ue==null||ue())},[ne,ue]);const me=(Ee=Q.arrow)==null?void 0:Ee.x,we=(xe=Q.arrow)==null?void 0:xe.y,Re=((Pe=Q.arrow)==null?void 0:Pe.centerOffset)!==0,[nt,de]=C.useState();return En(()=>{I&&de(window.getComputedStyle(I).zIndex)},[I]),g.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:ne?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:nt,"--radix-popper-transform-origin":[(Oe=Q.transformOrigin)==null?void 0:Oe.x,(ge=Q.transformOrigin)==null?void 0:ge.y].join(" "),...((Te=Q.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:g.jsx(hD,{scope:n,placedSide:te,onArrowChange:W,arrowX:me,arrowY:we,shouldHideArrow:Re,children:g.jsx(Ve.div,{"data-side":te,"data-align":he,...T,ref:S,style:{...T.style,animation:ne?void 0:"none"}})})})});DE.displayName=zg;var ME="PopperArrow",gD={top:"bottom",right:"left",bottom:"top",left:"right"},jE=C.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=pD(ME,r),u=gD[a.placedSide];return g.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:g.jsx(cD,{...i,ref:n,style:{...i.style,display:"block"}})})});jE.displayName=ME;function mD(e){return e!==null}var xD=e=>({name:"transformOrigin",options:e,fn(t){var O,I,_;const{placement:n,rects:r,middlewareData:i}=t,u=((O=i.arrow)==null?void 0:O.centerOffset)!==0,h=u?0:e.arrowWidth,m=u?0:e.arrowHeight,[p,y]=LE(n),v={start:"0%",center:"50%",end:"100%"}[y],E=(((I=i.arrow)==null?void 0:I.x)??0)+h/2,N=(((_=i.arrow)==null?void 0:_.y)??0)+m/2;let P="",T="";return p==="bottom"?(P=u?v:`${E}px`,T=`${-m}px`):p==="top"?(P=u?v:`${E}px`,T=`${r.floating.height+m}px`):p==="right"?(P=`${-m}px`,T=u?v:`${N}px`):p==="left"&&(P=`${r.floating.width+m}px`,T=u?v:`${N}px`),{data:{x:P,y:T}}}});function LE(e){const[t,n="center"]=e.split("-");return[t,n]}var BE=OE,FE=PE,UE=DE,WE=jE,[Xf,pj]=qi("Tooltip",[qf]),Yf=qf(),VE="TooltipProvider",wD=700,q1="tooltip.open",[yD,Hg]=Xf(VE),zE=e=>{const{__scopeTooltip:t,delayDuration:n=wD,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,[u,h]=C.useState(!0),m=C.useRef(!1),p=C.useRef(0);return C.useEffect(()=>{const y=p.current;return()=>window.clearTimeout(y)},[]),g.jsx(yD,{scope:t,isOpenDelayed:u,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(p.current),h(!1)},[]),onClose:C.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>h(!0),r)},[r]),isPointerInTransitRef:m,onPointerInTransitChange:C.useCallback(y=>{m.current=y},[]),disableHoverableContent:i,children:a})};zE.displayName=VE;var Kf="Tooltip",[vD,Qf]=Xf(Kf),HE=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:u,delayDuration:h}=e,m=Hg(Kf,e.__scopeTooltip),p=Yf(t),[y,v]=C.useState(null),E=Eo(),N=C.useRef(0),P=u??m.disableHoverableContent,T=h??m.delayDuration,O=C.useRef(!1),[I=!1,_]=Do({prop:r,defaultProp:i,onChange:F=>{F?(m.onOpen(),document.dispatchEvent(new CustomEvent(q1))):m.onClose(),a==null||a(F)}}),S=C.useMemo(()=>I?O.current?"delayed-open":"instant-open":"closed",[I]),D=C.useCallback(()=>{window.clearTimeout(N.current),N.current=0,O.current=!1,_(!0)},[_]),W=C.useCallback(()=>{window.clearTimeout(N.current),N.current=0,_(!1)},[_]),V=C.useCallback(()=>{window.clearTimeout(N.current),N.current=window.setTimeout(()=>{O.current=!0,_(!0),N.current=0},T)},[T,_]);return C.useEffect(()=>()=>{N.current&&(window.clearTimeout(N.current),N.current=0)},[]),g.jsx(BE,{...p,children:g.jsx(vD,{scope:t,contentId:E,open:I,stateAttribute:S,trigger:y,onTriggerChange:v,onTriggerEnter:C.useCallback(()=>{m.isOpenDelayed?V():D()},[m.isOpenDelayed,V,D]),onTriggerLeave:C.useCallback(()=>{P?W():(window.clearTimeout(N.current),N.current=0)},[W,P]),onOpen:D,onClose:W,disableHoverableContent:P,children:n})})};HE.displayName=Kf;var X1="TooltipTrigger",$E=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Qf(X1,n),a=Hg(X1,n),u=Yf(n),h=C.useRef(null),m=it(t,h,i.onTriggerChange),p=C.useRef(!1),y=C.useRef(!1),v=C.useCallback(()=>p.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),g.jsx(FE,{asChild:!0,...u,children:g.jsx(Ve.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:m,onPointerMove:Me(e.onPointerMove,E=>{E.pointerType!=="touch"&&!y.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),y.current=!0)}),onPointerLeave:Me(e.onPointerLeave,()=>{i.onTriggerLeave(),y.current=!1}),onPointerDown:Me(e.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Me(e.onFocus,()=>{p.current||i.onOpen()}),onBlur:Me(e.onBlur,i.onClose),onClick:Me(e.onClick,i.onClose)})})});$E.displayName=X1;var bD="TooltipPortal",[gj,CD]=Xf(bD,{forceMount:void 0}),sl="TooltipContent",GE=C.forwardRef((e,t)=>{const n=CD(sl,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,u=Qf(sl,e.__scopeTooltip);return g.jsx(Kr,{present:r||u.open,children:u.disableHoverableContent?g.jsx(qE,{side:i,...a,ref:t}):g.jsx(ED,{side:i,...a,ref:t})})}),ED=C.forwardRef((e,t)=>{const n=Qf(sl,e.__scopeTooltip),r=Hg(sl,e.__scopeTooltip),i=C.useRef(null),a=it(t,i),[u,h]=C.useState(null),{trigger:m,onClose:p}=n,y=i.current,{onPointerInTransitChange:v}=r,E=C.useCallback(()=>{h(null),v(!1)},[v]),N=C.useCallback((P,T)=>{const O=P.currentTarget,I={x:P.clientX,y:P.clientY},_=ND(I,O.getBoundingClientRect()),S=TD(I,_),D=ID(T.getBoundingClientRect()),W=OD([...S,...D]);h(W),v(!0)},[v]);return C.useEffect(()=>()=>E(),[E]),C.useEffect(()=>{if(m&&y){const P=O=>N(O,y),T=O=>N(O,m);return m.addEventListener("pointerleave",P),y.addEventListener("pointerleave",T),()=>{m.removeEventListener("pointerleave",P),y.removeEventListener("pointerleave",T)}}},[m,y,N,E]),C.useEffect(()=>{if(u){const P=T=>{const O=T.target,I={x:T.clientX,y:T.clientY},_=(m==null?void 0:m.contains(O))||(y==null?void 0:y.contains(O)),S=!RD(I,u);_?E():S&&(E(),p())};return document.addEventListener("pointermove",P),()=>document.removeEventListener("pointermove",P)}},[m,y,u,p,E]),g.jsx(qE,{...e,ref:a})}),[SD,AD]=Xf(Kf,{isInside:!1}),qE=C.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:u,...h}=e,m=Qf(sl,n),p=Yf(n),{onClose:y}=m;return C.useEffect(()=>(document.addEventListener(q1,y),()=>document.removeEventListener(q1,y)),[y]),C.useEffect(()=>{if(m.trigger){const v=E=>{const N=E.target;N!=null&&N.contains(m.trigger)&&y()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[m.trigger,y]),g.jsx(zc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:v=>v.preventDefault(),onDismiss:y,children:g.jsxs(UE,{"data-state":m.stateAttribute,...p,...h,ref:t,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(sg,{children:r}),g.jsx(SD,{scope:n,isInside:!0,children:g.jsx(BT,{id:m.contentId,role:"tooltip",children:i||r})})]})})});GE.displayName=sl;var XE="TooltipArrow",_D=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Yf(n);return AD(XE,n).isInside?null:g.jsx(WE,{...i,...r,ref:t})});_D.displayName=XE;function ND(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function TD(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function ID(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function RD(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,u=t.length-1;a<t.length;u=a++){const h=t[a].x,m=t[a].y,p=t[u].x,y=t[u].y;m>r!=y>r&&n<(p-h)*(r-m)/(y-m)+h&&(i=!i)}return i}function OD(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),kD(t)}function kD(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],u=t[t.length-2];if((a.x-u.x)*(i.y-u.y)>=(a.y-u.y)*(i.x-u.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],u=n[n.length-2];if((a.x-u.x)*(i.y-u.y)>=(a.y-u.y)*(i.x-u.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var PD=zE,DD=HE,MD=$E,YE=GE;const jD=PD,LD=DD,BD=MD,KE=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>g.jsx(YE,{ref:r,sideOffset:t,className:ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));KE.displayName=YE.displayName;const FD=e=>e?parseFloat(e.replace(",",".")):null,UD=e=>{if(!e||e.trim()==="")return null;const t=e.trim();if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;const n=t.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/);if(n){const[,a,u,h]=n;return`${h}-${u.padStart(2,"0")}-${a.padStart(2,"0")}`}const r=t.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/);if(r){const[,a,u,h]=r;return parseInt(a)>12?`${h}-${a.padStart(2,"0")}-${u.padStart(2,"0")}`:`${h}-${a.padStart(2,"0")}-${u.padStart(2,"0")}`}try{const a=new Date(t);if(!isNaN(a.getTime()))return a.toISOString().split("T")[0]}catch{}const i=t.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})/);if(i){const[,a,u,h]=i;return`${h}-${u.padStart(2,"0")}-${a.padStart(2,"0")}`}return null},WD=e=>{const t=e==null?void 0:e.toLowerCase();return t==="manutenção"?"manutenção":t==="baixado"?"baixado":"ativo"},VD=e=>{const t=e==null?void 0:e.toLowerCase();return t==="sim"||t==="true"},zD=e=>!e.nome||!e.codigo?"Nome e código são obrigatórios":null,HD=(e,t)=>({name:e.nome,code:e.codigo,location:e.localizacao||null,status:WD(e.status),acquisition_date:UD(e.data_aquisicao),value:FD(e.valor),serial_number:e.numero_serie||null,color:e.cor||null,manufacturer:e.fabricante||null,model:e.modelo||null,capacity:e.capacidade||null,voltage:e.voltagem||null,origin:e.origem||null,condition:e.condicoes||null,inalienable:VD(e.inalienavel),holder:e.detentor||null,notes:e.observacoes||null,company_id:t}),$D=()=>{const{profile:e}=Un(),{toast:t}=Or(),n=Us();return ms({mutationFn:async r=>{if(!(e!=null&&e.company_id))throw new Error("Company ID not found");const i={success:0,errors:[]};for(let a=0;a<r.length;a++){const u=r[a],h=a+2,m=zD(u);if(m){i.errors.push({row:h,error:m,data:u});continue}try{const p=HD(u,e.company_id),{error:y}=await Ze.from("assets").insert(p);y?i.errors.push({row:h,error:y.message,data:u}):i.success++}catch(p){i.errors.push({row:h,error:p instanceof Error?p.message:"Erro desconhecido",data:u})}}return i},onSuccess:r=>{n.invalidateQueries({queryKey:["assets"]}),n.invalidateQueries({queryKey:["dashboard-stats"]}),n.invalidateQueries({queryKey:["recent-assets"]}),t({title:"Importação concluída!",description:`${r.success} ativos importados com sucesso`})},onError:r=>{t({title:"Erro na importação",description:r.message||"Erro ao importar ativos",variant:"destructive"})}})},GD=()=>{const{toast:e}=Or(),[t,n]=C.useState(null),[r,i]=C.useState(0);return{file:t,inputKey:r,handleFileChange:m=>{var y;const p=(y=m.target.files)==null?void 0:y[0];p&&p.type==="text/csv"?n(p):e({title:"Arquivo inválido",description:"Por favor, selecione um arquivo CSV",variant:"destructive"})},removeFile:()=>{n(null),i(m=>m+1)},resetFile:()=>{n(null),i(m=>m+1)},setFile:n}},qD={nome:"nome",código:"codigo",codigo:"codigo",localização:"localizacao",localizacao:"localizacao",local:"localizacao",status:"status",aquisição:"data_aquisicao","data de aquisição":"data_aquisicao",data_aquisicao:"data_aquisicao",data:"data_aquisicao",valor:"valor",preço:"valor",preco:"valor","número de série":"numero_serie",numero_serie:"numero_serie",serial:"numero_serie",cor:"cor",fabricante:"fabricante",marca:"fabricante",modelo:"modelo",capacidade:"capacidade",voltagem:"voltagem",origem:"origem",condições:"condicoes",condicoes:"condicoes",condição:"condicoes",condicao:"condicoes",inalienável:"inalienavel",inalienavel:"inalienavel",detentor:"detentor",responsável:"detentor",responsavel:"detentor",observações:"observacoes",observacoes:"observacoes",obs:"observacoes",notas:"observacoes"},XD=`nome,codigo,localizacao,status,data_aquisicao,valor,numero_serie,cor,fabricante,modelo,capacidade,voltagem,origem,condicoes,inalienavel,detentor,observacoes
Notebook Dell,NB001,Sala 101,ativo,2023-01-15,2500.00,SN123456,Preto,Dell,Inspiron 15,8GB RAM,Bivolt,compra,Novo,não,João Silva,Notebook para desenvolvimento
Monitor Samsung,MON001,Sala 102,ativo,2023-02-10,800.00,MON789,Branco,Samsung,24 polegadas,1920x1080,110V,compra,Usado,não,Maria Santos,Monitor secundário`,YD=e=>qD[e.toLowerCase()]||e,KD=()=>{const e=new Blob([XD],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),n=URL.createObjectURL(e);t.setAttribute("href",n),t.setAttribute("download","template_ativos.csv"),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)};function QD(e,t=[]){let n=[];function r(a,u){const h=C.createContext(u),m=n.length;n=[...n,u];function p(v){const{scope:E,children:N,...P}=v,T=(E==null?void 0:E[e][m])||h,O=C.useMemo(()=>P,Object.values(P));return g.jsx(T.Provider,{value:O,children:N})}function y(v,E){const N=(E==null?void 0:E[e][m])||h,P=C.useContext(N);if(P)return P;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${a}\``)}return p.displayName=a+"Provider",[p,y]}const i=()=>{const a=n.map(u=>C.createContext(u));return function(h){const m=(h==null?void 0:h[e])||a;return C.useMemo(()=>({[`__scope${e}`]:{...h,[e]:m}}),[h,m])}};return i.scopeName=e,[r,ZD(i,...t)]}function ZD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=r.reduce((h,{useScope:m,scopeName:p})=>{const v=m(a)[`__scope${p}`];return{...h,...v}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var $g="Progress",Gg=100,[JD,mj]=QD($g),[eM,tM]=JD($g),QE=C.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=nM,...u}=e;(i||i===0)&&!zw(i)&&console.error(rM(`${i}`,"Progress"));const h=zw(i)?i:Gg;r!==null&&!Hw(r,h)&&console.error(sM(`${r}`,"Progress"));const m=Hw(r,h)?r:null,p=Zd(m)?a(m,h):void 0;return g.jsx(eM,{scope:n,value:m,max:h,children:g.jsx(Ve.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":Zd(m)?m:void 0,"aria-valuetext":p,role:"progressbar","data-state":eS(m,h),"data-value":m??void 0,"data-max":h,...u,ref:t})})});QE.displayName=$g;var ZE="ProgressIndicator",JE=C.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=tM(ZE,n);return g.jsx(Ve.div,{"data-state":eS(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});JE.displayName=ZE;function nM(e,t){return`${Math.round(e/t*100)}%`}function eS(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Zd(e){return typeof e=="number"}function zw(e){return Zd(e)&&!isNaN(e)&&e>0}function Hw(e,t){return Zd(e)&&!isNaN(e)&&e<=t&&e>=0}function rM(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Gg}\`.`}function sM(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Gg} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var tS=QE,iM=JE;const nS=C.forwardRef(({className:e,value:t,...n},r)=>g.jsx(tS,{ref:r,className:ke("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:g.jsx(iM,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));nS.displayName=tS.displayName;const oM=()=>g.jsxs("div",{children:[g.jsxs(Ue,{variant:"outline",onClick:KD,className:"mb-4",children:[g.jsx(Nf,{className:"h-4 w-4 mr-2"}),"Baixar Template CSV"]}),g.jsxs(Ir,{children:[g.jsx(u8,{className:"h-4 w-4"}),g.jsxs(Rr,{children:["Baixe o template CSV acima para ver o formato correto dos dados. Os campos ",g.jsx("strong",{children:"nome"})," e ",g.jsx("strong",{children:"codigo"})," são obrigatórios."]})]})]}),aM=({file:e,inputKey:t,handleFileChange:n,removeFile:r,importing:i})=>g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"csvFile",children:"Arquivo CSV"}),g.jsx(yt,{id:"csvFile",type:"file",accept:".csv",onChange:n,disabled:i,className:"cursor-pointer"},t)]}),e&&g.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"text-sm text-gray-600",children:[g.jsx("strong",{children:"Arquivo selecionado:"})," ",e.name]}),g.jsxs("p",{className:"text-sm text-gray-600",children:[g.jsx("strong",{children:"Tamanho:"})," ",(e.size/1024).toFixed(2)," KB"]})]}),g.jsxs(LD,{children:[g.jsx(BD,{asChild:!0,children:g.jsx("button",{type:"button",onClick:r,className:"ml-4 text-gray-400 hover:text-red-600 text-lg font-bold focus:outline-none","aria-label":"Remover arquivo",children:"×"})}),g.jsx(KE,{side:"left",align:"center",children:"Remover arquivo selecionado"})]})]})]}),lM=({progress:e})=>g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between text-sm",children:[g.jsx("span",{children:"Importando ativos..."}),g.jsxs("span",{children:[Math.round(e),"%"]})]}),g.jsx(nS,{value:e})]}),cM=({result:e})=>e?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center text-green-600",children:[g.jsx(d8,{className:"h-5 w-5 mr-2"}),g.jsxs("span",{className:"font-medium",children:[e.success," ativos importados com sucesso"]})]}),e.errors.length>0&&g.jsxs("div",{children:[g.jsxs("h4",{className:"font-medium text-red-600 mb-2",children:[e.errors.length," erros encontrados:"]}),g.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:e.errors.map((t,n)=>g.jsx(Ir,{variant:"destructive",children:g.jsxs(Rr,{children:[g.jsxs("strong",{children:["Linha ",t.row,":"]})," ",t.error,g.jsx("br",{}),g.jsxs("small",{children:["Dados: ",JSON.stringify(t.data)]})]})},n))})]})]}):null;function rS(){const{toast:e}=Or(),t=$D(),{file:n,inputKey:r,handleFileChange:i,removeFile:a}=GD(),[u,h]=C.useState(!1),[m,p]=C.useState(0),[y,v]=C.useState(null),E=()=>{n&&(h(!0),p(0),v(null),u5.parse(n,{header:!0,skipEmptyLines:!0,transformHeader:YD,complete:P=>{if(h(!1),P.errors.length>0){e({title:"Erro ao processar CSV",description:"Verifique o formato do arquivo",variant:"destructive"});return}t.mutate(P.data,{onSuccess:T=>{v(T)}})},error:P=>{h(!1),e({title:"Erro ao ler arquivo",description:P.message,variant:"destructive"})}}))},N=()=>{a(),v(null)};return g.jsx(jD,{delayDuration:500,children:g.jsx("div",{className:"space-y-6",children:g.jsxs(dt,{className:"border-0 shadow-md",children:[g.jsx(Qt,{children:g.jsxs(qt,{className:"flex items-center",children:[g.jsx(Nf,{className:"h-5 w-5 mr-2 text-blue-600"}),"Importar Ativos por CSV"]})}),g.jsxs(pt,{className:"space-y-6",children:[g.jsx(oM,{}),g.jsx(aM,{file:n,inputKey:r,handleFileChange:i,removeFile:N,importing:u}),u&&g.jsx(lM,{progress:m}),g.jsxs(Ue,{onClick:E,disabled:!n||u||t.isPending,className:"w-full",children:[g.jsx(pg,{className:"h-4 w-4 mr-2"}),u||t.isPending?"Importando...":"Importar Ativos"]}),g.jsx(cM,{result:y})]})]})})})}function uM({canEdit:e,isMobileOrTablet:t,isDesktop:n,loading:r,exportLoading:i,onScannerOpen:a,onExportCSV:u}){return e?g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Ativos"}),g.jsx("p",{className:"mt-2 text-gray-600",children:"Gerencie todos os ativos patrimoniais da empresa"})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[t&&g.jsxs(Ue,{variant:"outline",onClick:a,className:"w-full sm:w-auto",children:[g.jsx(Sb,{className:"h-4 w-4 mr-2"}),"Buscar por Código"]}),n&&g.jsxs(g.Fragment,{children:[g.jsxs(Ue,{variant:"outline",onClick:u,className:"w-full sm:w-auto",disabled:r||i,children:[g.jsx(Nf,{className:"h-4 w-4 mr-2"}),"Exportar CSV"]}),g.jsxs(Jc,{children:[g.jsx(Vf,{asChild:!0,children:g.jsxs(Ue,{variant:"outline",className:"w-full sm:w-auto",children:[g.jsx(pg,{className:"h-4 w-4 mr-2"}),"Importar CSV"]})}),g.jsx(gl,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:g.jsx(rS,{})})]})]}),g.jsx(Ue,{asChild:!0,className:"w-full sm:w-auto",children:g.jsxs(ko,{to:"/assets/new",children:[g.jsx(Tf,{className:"h-4 w-4 mr-2"}),"Novo Ativo"]})})]})]}):g.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Ativos"}),g.jsx("p",{className:"mt-2 text-gray-600",children:"Gerencie todos os ativos patrimoniais da empresa"})]})})}function qg(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var dM=[" ","Enter","ArrowUp","ArrowDown"],fM=[" ","Enter"],ru="Select",[Zf,Jf,hM]=Q2(ru),[wl,xj]=qi(ru,[hM,qf]),eh=qf(),[pM,Yi]=wl(ru),[gM,mM]=wl(ru),sS=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:u,defaultValue:h,onValueChange:m,dir:p,name:y,autoComplete:v,disabled:E,required:N,form:P}=e,T=eh(t),[O,I]=C.useState(null),[_,S]=C.useState(null),[D,W]=C.useState(!1),V=$C(p),[F=!1,L]=Do({prop:r,defaultProp:i,onChange:a}),[M,H]=Do({prop:u,defaultProp:h,onChange:m}),ee=C.useRef(null),q=O?P||!!O.closest("form"):!0,[se,re]=C.useState(new Set),X=Array.from(se).map(fe=>fe.props.value).join(";");return g.jsx(BE,{...T,children:g.jsxs(pM,{required:N,scope:t,trigger:O,onTriggerChange:I,valueNode:_,onValueNodeChange:S,valueNodeHasChildren:D,onValueNodeHasChildrenChange:W,contentId:Eo(),value:M,onValueChange:H,open:F,onOpenChange:L,dir:V,triggerPointerDownPosRef:ee,disabled:E,children:[g.jsx(Zf.Provider,{scope:t,children:g.jsx(gM,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(fe=>{re(ne=>new Set(ne).add(fe))},[]),onNativeOptionRemove:C.useCallback(fe=>{re(ne=>{const Q=new Set(ne);return Q.delete(fe),Q})},[]),children:n})}),q?g.jsxs(IS,{"aria-hidden":!0,required:N,tabIndex:-1,name:y,autoComplete:v,value:M,onChange:fe=>H(fe.target.value),disabled:E,form:P,children:[M===void 0?g.jsx("option",{value:""}):null,Array.from(se)]},X):null]})})};sS.displayName=ru;var iS="SelectTrigger",oS=C.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=eh(n),u=Yi(iS,n),h=u.disabled||r,m=it(t,u.onTriggerChange),p=Jf(n),y=C.useRef("touch"),[v,E,N]=RS(T=>{const O=p().filter(S=>!S.disabled),I=O.find(S=>S.value===u.value),_=OS(O,T,I);_!==void 0&&u.onValueChange(_.value)}),P=T=>{h||(u.onOpenChange(!0),N()),T&&(u.triggerPointerDownPosRef.current={x:Math.round(T.pageX),y:Math.round(T.pageY)})};return g.jsx(FE,{asChild:!0,...a,children:g.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":TS(u.value)?"":void 0,...i,ref:m,onClick:Me(i.onClick,T=>{T.currentTarget.focus(),y.current!=="mouse"&&P(T)}),onPointerDown:Me(i.onPointerDown,T=>{y.current=T.pointerType;const O=T.target;O.hasPointerCapture(T.pointerId)&&O.releasePointerCapture(T.pointerId),T.button===0&&T.ctrlKey===!1&&T.pointerType==="mouse"&&(P(T),T.preventDefault())}),onKeyDown:Me(i.onKeyDown,T=>{const O=v.current!=="";!(T.ctrlKey||T.altKey||T.metaKey)&&T.key.length===1&&E(T.key),!(O&&T.key===" ")&&dM.includes(T.key)&&(P(),T.preventDefault())})})})});oS.displayName=iS;var aS="SelectValue",lS=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:u="",...h}=e,m=Yi(aS,n),{onValueNodeHasChildrenChange:p}=m,y=a!==void 0,v=it(t,m.onValueNodeChange);return En(()=>{p(y)},[p,y]),g.jsx(Ve.span,{...h,ref:v,style:{pointerEvents:"none"},children:TS(m.value)?g.jsx(g.Fragment,{children:u}):a})});lS.displayName=aS;var xM="SelectIcon",cS=C.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return g.jsx(Ve.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});cS.displayName=xM;var wM="SelectPortal",uS=e=>g.jsx(Sf,{asChild:!0,...e});uS.displayName=wM;var Lo="SelectContent",dS=C.forwardRef((e,t)=>{const n=Yi(Lo,e.__scopeSelect),[r,i]=C.useState();if(En(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Uo.createPortal(g.jsx(fS,{scope:e.__scopeSelect,children:g.jsx(Zf.Slot,{scope:e.__scopeSelect,children:g.jsx("div",{children:e.children})})}),a):null}return g.jsx(hS,{...e,ref:t})});dS.displayName=Lo;var Br=10,[fS,Ki]=wl(Lo),yM="SelectContentImpl",hS=C.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:u,side:h,sideOffset:m,align:p,alignOffset:y,arrowPadding:v,collisionBoundary:E,collisionPadding:N,sticky:P,hideWhenDetached:T,avoidCollisions:O,...I}=e,_=Yi(Lo,n),[S,D]=C.useState(null),[W,V]=C.useState(null),F=it(t,Ee=>D(Ee)),[L,M]=C.useState(null),[H,ee]=C.useState(null),q=Jf(n),[se,re]=C.useState(!1),X=C.useRef(!1);C.useEffect(()=>{if(S)return EC(S)},[S]),pC();const fe=C.useCallback(Ee=>{const[xe,...Pe]=q().map(Te=>Te.ref.current),[Oe]=Pe.slice(-1),ge=document.activeElement;for(const Te of Ee)if(Te===ge||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===xe&&W&&(W.scrollTop=0),Te===Oe&&W&&(W.scrollTop=W.scrollHeight),Te==null||Te.focus(),document.activeElement!==ge))return},[q,W]),ne=C.useCallback(()=>fe([L,S]),[fe,L,S]);C.useEffect(()=>{se&&ne()},[se,ne]);const{onOpenChange:Q,triggerPointerDownPosRef:te}=_;C.useEffect(()=>{if(S){let Ee={x:0,y:0};const xe=Oe=>{var ge,Te;Ee={x:Math.abs(Math.round(Oe.pageX)-(((ge=te.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(Oe.pageY)-(((Te=te.current)==null?void 0:Te.y)??0))}},Pe=Oe=>{Ee.x<=10&&Ee.y<=10?Oe.preventDefault():S.contains(Oe.target)||Q(!1),document.removeEventListener("pointermove",xe),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[S,Q,te]),C.useEffect(()=>{const Ee=()=>Q(!1);return window.addEventListener("blur",Ee),window.addEventListener("resize",Ee),()=>{window.removeEventListener("blur",Ee),window.removeEventListener("resize",Ee)}},[Q]);const[he,ue]=RS(Ee=>{const xe=q().filter(ge=>!ge.disabled),Pe=xe.find(ge=>ge.ref.current===document.activeElement),Oe=OS(xe,Ee,Pe);Oe&&setTimeout(()=>Oe.ref.current.focus())}),me=C.useCallback((Ee,xe,Pe)=>{const Oe=!X.current&&!Pe;(_.value!==void 0&&_.value===xe||Oe)&&(M(Ee),Oe&&(X.current=!0))},[_.value]),we=C.useCallback(()=>S==null?void 0:S.focus(),[S]),Re=C.useCallback((Ee,xe,Pe)=>{const Oe=!X.current&&!Pe;(_.value!==void 0&&_.value===xe||Oe)&&ee(Ee)},[_.value]),nt=r==="popper"?Y1:pS,de=nt===Y1?{side:h,sideOffset:m,align:p,alignOffset:y,arrowPadding:v,collisionBoundary:E,collisionPadding:N,sticky:P,hideWhenDetached:T,avoidCollisions:O}:{};return g.jsx(fS,{scope:n,content:S,viewport:W,onViewportChange:V,itemRefCallback:me,selectedItem:L,onItemLeave:we,itemTextRefCallback:Re,focusSelectedItem:ne,selectedItemText:H,position:r,isPositioned:se,searchRef:he,children:g.jsx(Eg,{as:Po,allowPinchZoom:!0,children:g.jsx(Cg,{asChild:!0,trapped:_.open,onMountAutoFocus:Ee=>{Ee.preventDefault()},onUnmountAutoFocus:Me(i,Ee=>{var xe;(xe=_.trigger)==null||xe.focus({preventScroll:!0}),Ee.preventDefault()}),children:g.jsx(zc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:Ee=>Ee.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:g.jsx(nt,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:Ee=>Ee.preventDefault(),...I,...de,onPlaced:()=>re(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...I.style},onKeyDown:Me(I.onKeyDown,Ee=>{const xe=Ee.ctrlKey||Ee.altKey||Ee.metaKey;if(Ee.key==="Tab"&&Ee.preventDefault(),!xe&&Ee.key.length===1&&ue(Ee.key),["ArrowUp","ArrowDown","Home","End"].includes(Ee.key)){let Oe=q().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(Ee.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ee.key)){const ge=Ee.target,Te=Oe.indexOf(ge);Oe=Oe.slice(Te+1)}setTimeout(()=>fe(Oe)),Ee.preventDefault()}})})})})})})});hS.displayName=yM;var vM="SelectItemAlignedPosition",pS=C.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=Yi(Lo,n),u=Ki(Lo,n),[h,m]=C.useState(null),[p,y]=C.useState(null),v=it(t,F=>y(F)),E=Jf(n),N=C.useRef(!1),P=C.useRef(!0),{viewport:T,selectedItem:O,selectedItemText:I,focusSelectedItem:_}=u,S=C.useCallback(()=>{if(a.trigger&&a.valueNode&&h&&p&&T&&O&&I){const F=a.trigger.getBoundingClientRect(),L=p.getBoundingClientRect(),M=a.valueNode.getBoundingClientRect(),H=I.getBoundingClientRect();if(a.dir!=="rtl"){const ge=H.left-L.left,Te=M.left-ge,Ae=F.left-Te,He=F.width+Ae,We=Math.max(He,L.width),Be=window.innerWidth-Br,Xe=V1(Te,[Br,Math.max(Br,Be-We)]);h.style.minWidth=He+"px",h.style.left=Xe+"px"}else{const ge=L.right-H.right,Te=window.innerWidth-M.right-ge,Ae=window.innerWidth-F.right-Te,He=F.width+Ae,We=Math.max(He,L.width),Be=window.innerWidth-Br,Xe=V1(Te,[Br,Math.max(Br,Be-We)]);h.style.minWidth=He+"px",h.style.right=Xe+"px"}const ee=E(),q=window.innerHeight-Br*2,se=T.scrollHeight,re=window.getComputedStyle(p),X=parseInt(re.borderTopWidth,10),fe=parseInt(re.paddingTop,10),ne=parseInt(re.borderBottomWidth,10),Q=parseInt(re.paddingBottom,10),te=X+fe+se+Q+ne,he=Math.min(O.offsetHeight*5,te),ue=window.getComputedStyle(T),me=parseInt(ue.paddingTop,10),we=parseInt(ue.paddingBottom,10),Re=F.top+F.height/2-Br,nt=q-Re,de=O.offsetHeight/2,Ee=O.offsetTop+de,xe=X+fe+Ee,Pe=te-xe;if(xe<=Re){const ge=ee.length>0&&O===ee[ee.length-1].ref.current;h.style.bottom="0px";const Te=p.clientHeight-T.offsetTop-T.offsetHeight,Ae=Math.max(nt,de+(ge?we:0)+Te+ne),He=xe+Ae;h.style.height=He+"px"}else{const ge=ee.length>0&&O===ee[0].ref.current;h.style.top="0px";const Ae=Math.max(Re,X+T.offsetTop+(ge?me:0)+de)+Pe;h.style.height=Ae+"px",T.scrollTop=xe-Re+T.offsetTop}h.style.margin=`${Br}px 0`,h.style.minHeight=he+"px",h.style.maxHeight=q+"px",r==null||r(),requestAnimationFrame(()=>N.current=!0)}},[E,a.trigger,a.valueNode,h,p,T,O,I,a.dir,r]);En(()=>S(),[S]);const[D,W]=C.useState();En(()=>{p&&W(window.getComputedStyle(p).zIndex)},[p]);const V=C.useCallback(F=>{F&&P.current===!0&&(S(),_==null||_(),P.current=!1)},[S,_]);return g.jsx(CM,{scope:n,contentWrapper:h,shouldExpandOnScrollRef:N,onScrollButtonChange:V,children:g.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:g.jsx(Ve.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});pS.displayName=vM;var bM="SelectPopperPosition",Y1=C.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Br,...a}=e,u=eh(n);return g.jsx(UE,{...u,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Y1.displayName=bM;var[CM,Xg]=wl(Lo,{}),K1="SelectViewport",gS=C.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=Ki(K1,n),u=Xg(K1,n),h=it(t,a.onViewportChange),m=C.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),g.jsx(Zf.Slot,{scope:n,children:g.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Me(i.onScroll,p=>{const y=p.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:E}=u;if(E!=null&&E.current&&v){const N=Math.abs(m.current-y.scrollTop);if(N>0){const P=window.innerHeight-Br*2,T=parseFloat(v.style.minHeight),O=parseFloat(v.style.height),I=Math.max(T,O);if(I<P){const _=I+N,S=Math.min(P,_),D=_-S;v.style.height=S+"px",v.style.bottom==="0px"&&(y.scrollTop=D>0?D:0,v.style.justifyContent="flex-end")}}}m.current=y.scrollTop})})})]})});gS.displayName=K1;var mS="SelectGroup",[EM,SM]=wl(mS),AM=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Eo();return g.jsx(EM,{scope:n,id:i,children:g.jsx(Ve.div,{role:"group","aria-labelledby":i,...r,ref:t})})});AM.displayName=mS;var xS="SelectLabel",wS=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=SM(xS,n);return g.jsx(Ve.div,{id:i.id,...r,ref:t})});wS.displayName=xS;var Jd="SelectItem",[_M,yS]=wl(Jd),vS=C.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...u}=e,h=Yi(Jd,n),m=Ki(Jd,n),p=h.value===r,[y,v]=C.useState(a??""),[E,N]=C.useState(!1),P=it(t,_=>{var S;return(S=m.itemRefCallback)==null?void 0:S.call(m,_,r,i)}),T=Eo(),O=C.useRef("touch"),I=()=>{i||(h.onValueChange(r),h.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(_M,{scope:n,value:r,disabled:i,textId:T,isSelected:p,onItemTextChange:C.useCallback(_=>{v(S=>S||((_==null?void 0:_.textContent)??"").trim())},[]),children:g.jsx(Zf.ItemSlot,{scope:n,value:r,disabled:i,textValue:y,children:g.jsx(Ve.div,{role:"option","aria-labelledby":T,"data-highlighted":E?"":void 0,"aria-selected":p&&E,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:P,onFocus:Me(u.onFocus,()=>N(!0)),onBlur:Me(u.onBlur,()=>N(!1)),onClick:Me(u.onClick,()=>{O.current!=="mouse"&&I()}),onPointerUp:Me(u.onPointerUp,()=>{O.current==="mouse"&&I()}),onPointerDown:Me(u.onPointerDown,_=>{O.current=_.pointerType}),onPointerMove:Me(u.onPointerMove,_=>{var S;O.current=_.pointerType,i?(S=m.onItemLeave)==null||S.call(m):O.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Me(u.onPointerLeave,_=>{var S;_.currentTarget===document.activeElement&&((S=m.onItemLeave)==null||S.call(m))}),onKeyDown:Me(u.onKeyDown,_=>{var D;((D=m.searchRef)==null?void 0:D.current)!==""&&_.key===" "||(fM.includes(_.key)&&I(),_.key===" "&&_.preventDefault())})})})})});vS.displayName=Jd;var ql="SelectItemText",bS=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,u=Yi(ql,n),h=Ki(ql,n),m=yS(ql,n),p=mM(ql,n),[y,v]=C.useState(null),E=it(t,I=>v(I),m.onItemTextChange,I=>{var _;return(_=h.itemTextRefCallback)==null?void 0:_.call(h,I,m.value,m.disabled)}),N=y==null?void 0:y.textContent,P=C.useMemo(()=>g.jsx("option",{value:m.value,disabled:m.disabled,children:N},m.value),[m.disabled,m.value,N]),{onNativeOptionAdd:T,onNativeOptionRemove:O}=p;return En(()=>(T(P),()=>O(P)),[T,O,P]),g.jsxs(g.Fragment,{children:[g.jsx(Ve.span,{id:m.textId,...a,ref:E}),m.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Uo.createPortal(a.children,u.valueNode):null]})});bS.displayName=ql;var CS="SelectItemIndicator",ES=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return yS(CS,n).isSelected?g.jsx(Ve.span,{"aria-hidden":!0,...r,ref:t}):null});ES.displayName=CS;var Q1="SelectScrollUpButton",SS=C.forwardRef((e,t)=>{const n=Ki(Q1,e.__scopeSelect),r=Xg(Q1,e.__scopeSelect),[i,a]=C.useState(!1),u=it(t,r.onScrollButtonChange);return En(()=>{if(n.viewport&&n.isPositioned){let h=function(){const p=m.scrollTop>0;a(p)};const m=n.viewport;return h(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),i?g.jsx(_S,{...e,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:m}=n;h&&m&&(h.scrollTop=h.scrollTop-m.offsetHeight)}}):null});SS.displayName=Q1;var Z1="SelectScrollDownButton",AS=C.forwardRef((e,t)=>{const n=Ki(Z1,e.__scopeSelect),r=Xg(Z1,e.__scopeSelect),[i,a]=C.useState(!1),u=it(t,r.onScrollButtonChange);return En(()=>{if(n.viewport&&n.isPositioned){let h=function(){const p=m.scrollHeight-m.clientHeight,y=Math.ceil(m.scrollTop)<p;a(y)};const m=n.viewport;return h(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),i?g.jsx(_S,{...e,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:m}=n;h&&m&&(h.scrollTop=h.scrollTop+m.offsetHeight)}}):null});AS.displayName=Z1;var _S=C.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=Ki("SelectScrollButton",n),u=C.useRef(null),h=Jf(n),m=C.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return C.useEffect(()=>()=>m(),[m]),En(()=>{var y;const p=h().find(v=>v.ref.current===document.activeElement);(y=p==null?void 0:p.ref.current)==null||y.scrollIntoView({block:"nearest"})},[h]),g.jsx(Ve.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Me(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(r,50))}),onPointerMove:Me(i.onPointerMove,()=>{var p;(p=a.onItemLeave)==null||p.call(a),u.current===null&&(u.current=window.setInterval(r,50))}),onPointerLeave:Me(i.onPointerLeave,()=>{m()})})}),NM="SelectSeparator",NS=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return g.jsx(Ve.div,{"aria-hidden":!0,...r,ref:t})});NS.displayName=NM;var J1="SelectArrow",TM=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=eh(n),a=Yi(J1,n),u=Ki(J1,n);return a.open&&u.position==="popper"?g.jsx(WE,{...i,...r,ref:t}):null});TM.displayName=J1;function TS(e){return e===""||e===void 0}var IS=C.forwardRef((e,t)=>{const{value:n,...r}=e,i=C.useRef(null),a=it(t,i),u=qg(n);return C.useEffect(()=>{const h=i.current,m=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(m,"value").set;if(u!==n&&y){const v=new Event("change",{bubbles:!0});y.call(h,n),h.dispatchEvent(v)}},[u,n]),g.jsx(Hc,{asChild:!0,children:g.jsx("select",{...r,ref:a,defaultValue:n})})});IS.displayName="BubbleSelect";function RS(e){const t=en(e),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(u=>{const h=n.current+u;t(h),function m(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>m(""),1e3))}(h)},[t]),a=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function OS(e,t,n){const i=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let u=IM(e,Math.max(a,0));i.length===1&&(u=u.filter(p=>p!==n));const m=u.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return m!==n?m:void 0}function IM(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var RM=sS,kS=oS,OM=lS,kM=cS,PM=uS,PS=dS,DM=gS,DS=wS,MS=vS,MM=bS,jM=ES,jS=SS,LS=AS,BS=NS;const ef=RM,tf=OM,kc=C.forwardRef(({className:e,children:t,...n},r)=>g.jsxs(kS,{ref:r,className:ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,g.jsx(kM,{asChild:!0,children:g.jsx(Ab,{className:"h-4 w-4 opacity-50"})})]}));kc.displayName=kS.displayName;const FS=C.forwardRef(({className:e,...t},n)=>g.jsx(jS,{ref:n,className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:g.jsx(c8,{className:"h-4 w-4"})}));FS.displayName=jS.displayName;const US=C.forwardRef(({className:e,...t},n)=>g.jsx(LS,{ref:n,className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:g.jsx(Ab,{className:"h-4 w-4"})}));US.displayName=LS.displayName;const Pc=C.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>g.jsx(PM,{children:g.jsxs(PS,{ref:i,className:ke("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[g.jsx(FS,{}),g.jsx(DM,{className:ke("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),g.jsx(US,{})]})}));Pc.displayName=PS.displayName;const LM=C.forwardRef(({className:e,...t},n)=>g.jsx(DS,{ref:n,className:ke("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));LM.displayName=DS.displayName;const lr=C.forwardRef(({className:e,children:t,...n},r)=>g.jsxs(MS,{ref:r,className:ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(jM,{children:g.jsx(ug,{className:"h-4 w-4"})})}),g.jsx(MM,{children:t})]}));lr.displayName=MS.displayName;const BM=C.forwardRef(({className:e,...t},n)=>g.jsx(BS,{ref:n,className:ke("-mx-1 my-1 h-px bg-muted",e),...t}));BM.displayName=BS.displayName;function FM({search:e,statusFilter:t,locationFilter:n,locations:r,onSearchChange:i,onStatusFilterChange:a,onLocationFilterChange:u}){return g.jsxs(dt,{className:"border-0 shadow-md",children:[g.jsx(Qt,{children:g.jsx(qt,{className:"text-lg",children:"Filtros"})}),g.jsx(pt,{children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"relative",children:[g.jsx(x8,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),g.jsx(yt,{placeholder:"Buscar por nome ou código...",value:e,onChange:h=>i(h.target.value),className:"pl-10 pr-8"}),e&&g.jsx("button",{type:"button",onClick:()=>i(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":"Limpar busca",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),g.jsxs(ef,{value:t,onValueChange:a,children:[g.jsx(kc,{children:g.jsx(tf,{placeholder:"Status"})}),g.jsxs(Pc,{children:[g.jsx(lr,{value:"all",children:"Todos os status"}),g.jsx(lr,{value:"ativo",children:g.jsx(nr,{className:"bg-green-100 text-green-800",children:"ATIVO"})}),g.jsx(lr,{value:"manutenção",children:g.jsx(nr,{className:"bg-yellow-100 text-yellow-800",children:"MANUTENÇÃO"})}),g.jsx(lr,{value:"baixado",children:g.jsx(nr,{className:"bg-red-100 text-red-800",children:"BAIXADO"})})]})]}),g.jsxs(ef,{value:n,onValueChange:u,children:[g.jsx(kc,{children:g.jsx(tf,{placeholder:"Localização"})}),g.jsxs(Pc,{children:[g.jsx(lr,{value:"all",children:"Todas as localizações"}),r==null?void 0:r.map(h=>g.jsx(lr,{value:h,children:h},h))]})]})]})})]})}const UM={ativo:"bg-green-100 text-green-800",manutenção:"bg-yellow-100 text-yellow-800",baixado:"bg-red-100 text-red-800"};function WM({asset:e,isLast:t=!1,onIntersect:n}){const r=a=>g.jsx(nr,{className:UM[a],children:a.toUpperCase()}),i=t?n:void 0;return g.jsx(dt,{className:"border-0 shadow-md hover:shadow-lg transition-shadow group",ref:i,children:g.jsxs(pt,{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors truncate",children:e.name}),g.jsxs("p",{className:"text-sm text-gray-500",children:["#",e.code]})]}),r(e.status)]}),g.jsxs("div",{className:"space-y-2 mb-4",children:[g.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[g.jsx(hg,{className:"h-4 w-4 mr-2 flex-shrink-0"}),g.jsx("span",{className:"truncate",children:e.location?e.location:"-"})]}),g.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[g.jsx(dg,{className:"h-4 w-4 mr-2 flex-shrink-0"}),g.jsx("span",{children:e.value?Ud(e.value):"-"})]}),g.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[g.jsx(cg,{className:"h-4 w-4 mr-2 flex-shrink-0"}),g.jsx("span",{children:e.acquisition_date?"Adiquirido em: "+O1(e.acquisition_date+"T00:00:00"):"Adicionado em: "+O1(e.created_at)})]})]}),g.jsx("div",{className:"flex justify-between items-center",children:g.jsx(Ue,{variant:"outline",size:"sm",asChild:!0,children:g.jsxs(ko,{to:`/assets/${e.id}`,children:[g.jsx(Nb,{className:"h-4 w-4 mr-2"}),"Ver Detalhes"]})})})]})})}function VM({assets:e,loading:t,loadingMore:n,hasMore:r,canEdit:i,isDesktop:a,onLoadMore:u}){const h=C.useRef(null),m=C.useRef(null),p=C.useCallback(y=>{!r||n||(h.current&&h.current.disconnect(),h.current=new IntersectionObserver(v=>{v[0].isIntersecting&&r&&!n&&u()}),y&&h.current.observe(y))},[r,n,u]);return t?g.jsx("div",{className:"col-span-full flex justify-center py-12",children:g.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),g.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[g.jsx(Yt,{className:"h-5 w-5 animate-pulse"}),g.jsx("span",{className:"text-base",children:"Carregando ativos..."})]})]})}):e.length===0?g.jsx("div",{className:"col-span-full",children:g.jsx(dt,{className:"border-0 shadow-md",children:g.jsxs(pt,{className:"text-center py-12",children:[g.jsx(Yt,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum ativo encontrado"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"Comece adicionando seus primeiros ativos ao sistema"}),i&&g.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[a&&g.jsxs(Jc,{children:[g.jsx(Vf,{asChild:!0,children:g.jsxs(Ue,{variant:"outline",children:[g.jsx(pg,{className:"h-4 w-4 mr-2"}),"Importar CSV"]})}),g.jsxs(gl,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[g.jsx(eu,{children:g.jsx(tu,{children:"Importar Ativos"})}),g.jsx(rS,{})]})]}),g.jsx(Ue,{asChild:!0,children:g.jsxs(ko,{to:"/assets/new",children:[g.jsx(Tf,{className:"h-4 w-4 mr-2"}),"Adicionar Primeiro Ativo"]})})]})]})})}):g.jsxs(g.Fragment,{children:[e.map((y,v)=>g.jsx(WM,{asset:y,isLast:v===e.length-1,onIntersect:p},y.id)),r&&n&&g.jsx("div",{ref:m,className:"col-span-full flex justify-center py-8",children:g.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),g.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[g.jsx(Yt,{className:"h-4 w-4 animate-pulse"}),g.jsx("span",{className:"text-sm",children:"Carregando mais ativos..."})]})]})})]})}var Ce;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ce||(Ce={}));var $w=new Map([[Ce.QR_CODE,"QR_CODE"],[Ce.AZTEC,"AZTEC"],[Ce.CODABAR,"CODABAR"],[Ce.CODE_39,"CODE_39"],[Ce.CODE_93,"CODE_93"],[Ce.CODE_128,"CODE_128"],[Ce.DATA_MATRIX,"DATA_MATRIX"],[Ce.MAXICODE,"MAXICODE"],[Ce.ITF,"ITF"],[Ce.EAN_13,"EAN_13"],[Ce.EAN_8,"EAN_8"],[Ce.PDF_417,"PDF_417"],[Ce.RSS_14,"RSS_14"],[Ce.RSS_EXPANDED,"RSS_EXPANDED"],[Ce.UPC_A,"UPC_A"],[Ce.UPC_E,"UPC_E"],[Ce.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Gw;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Gw||(Gw={}));function zM(e){return Object.values(Ce).includes(e)}var nf;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(nf||(nf={}));var HM=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[nf.SCAN_TYPE_CAMERA,nf.SCAN_TYPE_FILE],e}(),WS=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!$w.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,$w.get(t))},e}(),qw=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),ep;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(ep||(ep={}));var $M=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:ep.UNKWOWN_ERROR}},e}(),GM=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Ss(e){return typeof e>"u"||e===null}var va=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),VS=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),u=Object.keys(t),h=0,m=u;h<m.length;h++){var p=m[h];if(a.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),tp={exports:{}};(function(e,t){(function(n,r){r(t)})(pn,function(n){function r(R){return R==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,s){R.__proto__=s}||function(R,s){for(var o in s)s.hasOwnProperty(o)&&(R[o]=s[o])};function a(R,s){i(R,s);function o(){this.constructor=R}R.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}function u(R,s){var o=Object.setPrototypeOf;o?o(R,s):R.__proto__=s}function h(R,s){s===void 0&&(s=R.constructor);var o=Error.captureStackTrace;o&&o(R,s)}var m=function(R){a(s,R);function s(o){var l=this.constructor,c=R.call(this,o)||this;return Object.defineProperty(c,"name",{value:l.name,enumerable:!1}),u(c,l.prototype),h(c),c}return s}(Error);class p extends m{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}p.kind="Exception";class y extends p{}y.kind="ArgumentException";class v extends p{}v.kind="IllegalArgumentException";class E{constructor(s){if(this.binarizer=s,s===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,o){return this.binarizer.getBlackRow(s,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,o,l,c){const d=this.binarizer.getLuminanceSource().crop(s,o,l,c);return new E(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class N extends p{static getChecksumInstance(){return new N}}N.kind="ChecksumException";class P{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class T{static arraycopy(s,o,l,c,d){for(;d--;)l[c++]=s[o++]}static currentTimeMillis(){return Date.now()}}class O extends p{}O.kind="IndexOutOfBoundsException";class I extends O{constructor(s=void 0,o=void 0){super(o),this.index=s,this.message=o}}I.kind="ArrayIndexOutOfBoundsException";class _{static fill(s,o){for(let l=0,c=s.length;l<c;l++)s[l]=o}static fillWithin(s,o,l,c){_.rangeCheck(s.length,o,l);for(let d=o;d<l;d++)s[d]=c}static rangeCheck(s,o,l){if(o>l)throw new v("fromIndex("+o+") > toIndex("+l+")");if(o<0)throw new I(o);if(l>s)throw new I(l)}static asList(...s){return s}static create(s,o,l){return Array.from({length:s}).map(d=>Array.from({length:o}).fill(l))}static createInt32Array(s,o,l){return Array.from({length:s}).map(d=>Int32Array.from({length:o}).fill(l))}static equals(s,o){if(!s||!o||!s.length||!o.length||s.length!==o.length)return!1;for(let l=0,c=s.length;l<c;l++)if(s[l]!==o[l])return!1;return!0}static hashCode(s){if(s===null)return 0;let o=1;for(const l of s)o=31*o+l;return o}static fillUint8Array(s,o){for(let l=0;l!==s.length;l++)s[l]=o}static copyOf(s,o){return s.slice(0,o)}static copyOfUint8Array(s,o){if(s.length<=o){const l=new Uint8Array(o);return l.set(s),l}return s.slice(0,o)}static copyOfRange(s,o,l){const c=l-o,d=new Int32Array(c);return T.arraycopy(s,o,d,0,c),d}static binarySearch(s,o,l){l===void 0&&(l=_.numberComparator);let c=0,d=s.length-1;for(;c<=d;){const f=d+c>>1,x=l(o,s[f]);if(x>0)c=f+1;else if(x<0)d=f-1;else return f}return-c-1}static numberComparator(s,o){return s-o}}class S{static numberOfTrailingZeros(s){let o;if(s===0)return 32;let l=31;return o=s<<16,o!==0&&(l-=16,s=o),o=s<<8,o!==0&&(l-=8,s=o),o=s<<4,o!==0&&(l-=4,s=o),o=s<<2,o!==0&&(l-=2,s=o),l-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let o=1;return s>>>16||(o+=16,s<<=16),s>>>24||(o+=8,s<<=8),s>>>28||(o+=4,s<<=4),s>>>30||(o+=2,s<<=2),o-=s>>>31,o}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,o){return Math.trunc(s/o)}static parseInt(s,o=void 0){return parseInt(s,o)}}S.MIN_VALUE_32_BITS=-2147483648,S.MAX_VALUE=Number.MAX_SAFE_INTEGER;class D{constructor(s,o){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,o==null?this.bits=D.makeArray(s):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const o=D.makeArray(s);T.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const o=this.size;if(s>=o)return o;const l=this.bits;let c=Math.floor(s/32),d=l[c];d&=~((1<<(s&31))-1);const f=l.length;for(;d===0;){if(++c===f)return o;d=l[c]}const x=c*32+S.numberOfTrailingZeros(d);return x>o?o:x}getNextUnset(s){const o=this.size;if(s>=o)return o;const l=this.bits;let c=Math.floor(s/32),d=~l[c];d&=~((1<<(s&31))-1);const f=l.length;for(;d===0;){if(++c===f)return o;d=~l[c]}const x=c*32+S.numberOfTrailingZeros(d);return x>o?o:x}setBulk(s,o){this.bits[Math.floor(s/32)]=o}setRange(s,o){if(o<s||s<0||o>this.size)throw new v;if(o===s)return;o--;const l=Math.floor(s/32),c=Math.floor(o/32),d=this.bits;for(let f=l;f<=c;f++){const x=f>l?0:s&31,b=(2<<(f<c?31:o&31))-(1<<x);d[f]|=b}}clear(){const s=this.bits.length,o=this.bits;for(let l=0;l<s;l++)o[l]=0}isRange(s,o,l){if(o<s||s<0||o>this.size)throw new v;if(o===s)return!0;o--;const c=Math.floor(s/32),d=Math.floor(o/32),f=this.bits;for(let x=c;x<=d;x++){const w=x>c?0:s&31,A=(2<<(x<d?31:o&31))-(1<<w)&4294967295;if((f[x]&A)!==(l?A:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,o){if(o<0||o>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let l=o;l>0;l--)this.appendBit((s>>l-1&1)===1)}appendBitArray(s){const o=s.size;this.ensureCapacity(this.size+o);for(let l=0;l<o;l++)this.appendBit(s.get(l))}xor(s){if(this.size!==s.size)throw new v("Sizes don't match");const o=this.bits;for(let l=0,c=o.length;l<c;l++)o[l]^=s.bits[l]}toBytes(s,o,l,c){for(let d=0;d<c;d++){let f=0;for(let x=0;x<8;x++)this.get(s)&&(f|=1<<7-x),s++;o[l+d]=f}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),l=o+1,c=this.bits;for(let d=0;d<l;d++){let f=c[d];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,s[o-d]=f}if(this.size!==l*32){const d=l*32-this.size;let f=s[0]>>>d;for(let x=1;x<l;x++){const w=s[x];f|=w<<32-d,s[x-1]=f,f=w>>>d}s[l-1]=f}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof D))return!1;const o=s;return this.size===o.size&&_.equals(this.bits,o.bits)}hashCode(){return 31*this.size+_.hashCode(this.bits)}toString(){let s="";for(let o=0,l=this.size;o<l;o++)o&7||(s+=" "),s+=this.get(o)?"X":".";return s}clone(){return new D(this.size,this.bits.slice())}}var W;(function(R){R[R.OTHER=0]="OTHER",R[R.PURE_BARCODE=1]="PURE_BARCODE",R[R.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",R[R.TRY_HARDER=3]="TRY_HARDER",R[R.CHARACTER_SET=4]="CHARACTER_SET",R[R.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",R[R.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",R[R.ASSUME_GS1=7]="ASSUME_GS1",R[R.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",R[R.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",R[R.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(W||(W={}));var V=W;class F extends p{static getFormatInstance(){return new F}}F.kind="FormatException";var L;(function(R){R[R.Cp437=0]="Cp437",R[R.ISO8859_1=1]="ISO8859_1",R[R.ISO8859_2=2]="ISO8859_2",R[R.ISO8859_3=3]="ISO8859_3",R[R.ISO8859_4=4]="ISO8859_4",R[R.ISO8859_5=5]="ISO8859_5",R[R.ISO8859_6=6]="ISO8859_6",R[R.ISO8859_7=7]="ISO8859_7",R[R.ISO8859_8=8]="ISO8859_8",R[R.ISO8859_9=9]="ISO8859_9",R[R.ISO8859_10=10]="ISO8859_10",R[R.ISO8859_11=11]="ISO8859_11",R[R.ISO8859_13=12]="ISO8859_13",R[R.ISO8859_14=13]="ISO8859_14",R[R.ISO8859_15=14]="ISO8859_15",R[R.ISO8859_16=15]="ISO8859_16",R[R.SJIS=16]="SJIS",R[R.Cp1250=17]="Cp1250",R[R.Cp1251=18]="Cp1251",R[R.Cp1252=19]="Cp1252",R[R.Cp1256=20]="Cp1256",R[R.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",R[R.UTF8=22]="UTF8",R[R.ASCII=23]="ASCII",R[R.Big5=24]="Big5",R[R.GB18030=25]="GB18030",R[R.EUC_KR=26]="EUC_KR"})(L||(L={}));class M{constructor(s,o,l,...c){this.valueIdentifier=s,this.name=l,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=c,M.VALUE_IDENTIFIER_TO_ECI.set(s,this),M.NAME_TO_ECI.set(l,this);const d=this.values;for(let f=0,x=d.length;f!==x;f++){const w=d[f];M.VALUES_TO_ECI.set(w,this)}for(const f of c)M.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new F("incorect value");const o=M.VALUES_TO_ECI.get(s);if(o===void 0)throw new F("incorect value");return o}static getCharacterSetECIByName(s){const o=M.NAME_TO_ECI.get(s);if(o===void 0)throw new F("incorect value");return o}equals(s){if(!(s instanceof M))return!1;const o=s;return this.getName()===o.getName()}}M.VALUE_IDENTIFIER_TO_ECI=new Map,M.VALUES_TO_ECI=new Map,M.NAME_TO_ECI=new Map,M.Cp437=new M(L.Cp437,Int32Array.from([0,2]),"Cp437"),M.ISO8859_1=new M(L.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),M.ISO8859_2=new M(L.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),M.ISO8859_3=new M(L.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),M.ISO8859_4=new M(L.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),M.ISO8859_5=new M(L.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),M.ISO8859_6=new M(L.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),M.ISO8859_7=new M(L.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),M.ISO8859_8=new M(L.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),M.ISO8859_9=new M(L.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),M.ISO8859_10=new M(L.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),M.ISO8859_11=new M(L.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),M.ISO8859_13=new M(L.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),M.ISO8859_14=new M(L.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),M.ISO8859_15=new M(L.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),M.ISO8859_16=new M(L.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),M.SJIS=new M(L.SJIS,20,"SJIS","Shift_JIS"),M.Cp1250=new M(L.Cp1250,21,"Cp1250","windows-1250"),M.Cp1251=new M(L.Cp1251,22,"Cp1251","windows-1251"),M.Cp1252=new M(L.Cp1252,23,"Cp1252","windows-1252"),M.Cp1256=new M(L.Cp1256,24,"Cp1256","windows-1256"),M.UnicodeBigUnmarked=new M(L.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),M.UTF8=new M(L.UTF8,26,"UTF8","UTF-8"),M.ASCII=new M(L.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),M.Big5=new M(L.Big5,28,"Big5"),M.GB18030=new M(L.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),M.EUC_KR=new M(L.EUC_KR,30,"EUC_KR","EUC-KR");class H extends p{}H.kind="UnsupportedOperationException";class ee{static decode(s,o){const l=this.encodingName(o);return this.customDecoder?this.customDecoder(s,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(s,l):new TextDecoder(l).decode(s)}static shouldDecodeOnFallback(s){return!ee.isBrowser()&&s==="ISO-8859-1"}static encode(s,o){const l=this.encodingName(o);return this.customEncoder?this.customEncoder(s,l):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof M?s:M.getCharacterSetECIByName(s)}static decodeFallback(s,o){const l=this.encodingCharacterSet(o);if(ee.isDecodeFallbackSupported(l)){let c="";for(let d=0,f=s.length;d<f;d++){let x=s[d].toString(16);x.length<2&&(x="0"+x),c+="%"+x}return decodeURIComponent(c)}if(l.equals(M.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new H(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(M.UTF8)||s.equals(M.ISO8859_1)||s.equals(M.ASCII)}static encodeFallback(s){const l=btoa(unescape(encodeURIComponent(s))).split(""),c=[];for(let d=0;d<l.length;d++)c.push(l[d].charCodeAt(0));return new Uint8Array(c)}}class q{static castAsNonUtf8Char(s,o=null){const l=o?o.getName():this.ISO88591;return ee.decode(new Uint8Array([s]),l)}static guessEncoding(s,o){if(o!=null&&o.get(V.CHARACTER_SET)!==void 0)return o.get(V.CHARACTER_SET).toString();const l=s.length;let c=!0,d=!0,f=!0,x=0,w=0,b=0,A=0,k=0,j=0,U=0,z=0,G=0,Y=0,J=0;const le=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let ce=0;ce<l&&(c||d||f);ce++){const oe=s[ce]&255;f&&(x>0?oe&128?x--:f=!1:oe&128&&(oe&64?(x++,oe&32?(x++,oe&16?(x++,oe&8?f=!1:A++):b++):w++):f=!1)),c&&(oe>127&&oe<160?c=!1:oe>159&&(oe<192||oe===215||oe===247)&&J++),d&&(k>0?oe<64||oe===127||oe>252?d=!1:k--:oe===128||oe===160||oe>239?d=!1:oe>160&&oe<224?(j++,z=0,U++,U>G&&(G=U)):oe>127?(k++,U=0,z++,z>Y&&(Y=z)):(U=0,z=0))}return f&&x>0&&(f=!1),d&&k>0&&(d=!1),f&&(le||w+b+A>0)?q.UTF8:d&&(q.ASSUME_SHIFT_JIS||G>=3||Y>=3)?q.SHIFT_JIS:c&&d?G===2&&j===2||J*10>=l?q.SHIFT_JIS:q.ISO88591:c?q.ISO88591:d?q.SHIFT_JIS:f?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(s,...o){let l=-1;function c(f,x,w,b,A,k){if(f==="%%")return"%";if(o[++l]===void 0)return;f=b?parseInt(b.substr(1)):void 0;let j=A?parseInt(A.substr(1)):void 0,U;switch(k){case"s":U=o[l];break;case"c":U=o[l][0];break;case"f":U=parseFloat(o[l]).toFixed(f);break;case"p":U=parseFloat(o[l]).toPrecision(f);break;case"e":U=parseFloat(o[l]).toExponential(f);break;case"x":U=parseInt(o[l]).toString(j||16);break;case"d":U=parseFloat(parseInt(o[l],j||10).toPrecision(f)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(j);let z=parseInt(w),G=w&&w[0]+""=="0"?"0":" ";for(;U.length<z;)U=x!==void 0?U+G:G+U;return U}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(d,c)}static getBytes(s,o){return ee.encode(s,o)}static getCharCode(s,o=0){return s.charCodeAt(o)}static getCharAt(s){return String.fromCharCode(s)}}q.SHIFT_JIS=M.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=M.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=M.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class se{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=q.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,o,l){for(let c=o;o<o+l;c++)this.append(s[c]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+1)}substring(s,o){return this.value.substring(s,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+o.length)}}class re{constructor(s,o,l,c){if(this.width=s,this.height=o,this.rowSize=l,this.bits=c,o==null&&(o=s),this.height=o,s<1||o<1)throw new v("Both dimensions must be greater than 0");l==null&&(l=Math.floor((s+31)/32)),this.rowSize=l,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const o=s.length,l=s[0].length,c=new re(l,o);for(let d=0;d<o;d++){const f=s[d];for(let x=0;x<l;x++)f[x]&&c.set(x,d)}return c}static parseFromString(s,o,l){if(s===null)throw new v("stringRepresentation cannot be null");const c=new Array(s.length);let d=0,f=0,x=-1,w=0,b=0;for(;b<s.length;)if(s.charAt(b)===`
`||s.charAt(b)==="\r"){if(d>f){if(x===-1)x=d-f;else if(d-f!==x)throw new v("row lengths do not match");f=d,w++}b++}else if(s.substring(b,b+o.length)===o)b+=o.length,c[d]=!0,d++;else if(s.substring(b,b+l.length)===l)b+=l.length,c[d]=!1,d++;else throw new v("illegal character encountered: "+s.substring(b));if(d>f){if(x===-1)x=d-f;else if(d-f!==x)throw new v("row lengths do not match");w++}const A=new re(x,w);for(let k=0;k<d;k++)c[k]&&A.set(Math.floor(k%x),Math.floor(k/x));return A}get(s,o){const l=o*this.rowSize+Math.floor(s/32);return(this.bits[l]>>>(s&31)&1)!==0}set(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]|=1<<(s&31)&4294967295}unset(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]&=~(1<<(s&31)&4294967295)}flip(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new v("input matrix dimensions do not match");const o=new D(Math.floor(this.width/32)+1),l=this.rowSize,c=this.bits;for(let d=0,f=this.height;d<f;d++){const x=d*l,w=s.getRow(d,o).getBitArray();for(let b=0;b<l;b++)c[x+b]^=w[b]}}clear(){const s=this.bits,o=s.length;for(let l=0;l<o;l++)s[l]=0}setRegion(s,o,l,c){if(o<0||s<0)throw new v("Left and top must be nonnegative");if(c<1||l<1)throw new v("Height and width must be at least 1");const d=s+l,f=o+c;if(f>this.height||d>this.width)throw new v("The region must fit inside the matrix");const x=this.rowSize,w=this.bits;for(let b=o;b<f;b++){const A=b*x;for(let k=s;k<d;k++)w[A+Math.floor(k/32)]|=1<<(k&31)&4294967295}}getRow(s,o){o==null||o.getSize()<this.width?o=new D(this.width):o.clear();const l=this.rowSize,c=this.bits,d=s*l;for(let f=0;f<l;f++)o.setBulk(f*32,c[d+f]);return o}setRow(s,o){T.arraycopy(o.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),o=this.getHeight();let l=new D(s),c=new D(s);for(let d=0,f=Math.floor((o+1)/2);d<f;d++)l=this.getRow(d,l),c=this.getRow(o-1-d,c),l.reverse(),c.reverse(),this.setRow(d,c),this.setRow(o-1-d,l)}getEnclosingRectangle(){const s=this.width,o=this.height,l=this.rowSize,c=this.bits;let d=s,f=o,x=-1,w=-1;for(let b=0;b<o;b++)for(let A=0;A<l;A++){const k=c[b*l+A];if(k!==0){if(b<f&&(f=b),b>w&&(w=b),A*32<d){let j=0;for(;!(k<<31-j&4294967295);)j++;A*32+j<d&&(d=A*32+j)}if(A*32+31>x){let j=31;for(;!(k>>>j);)j--;A*32+j>x&&(x=A*32+j)}}}return x<d||w<f?null:Int32Array.from([d,f,x-d+1,w-f+1])}getTopLeftOnBit(){const s=this.rowSize,o=this.bits;let l=0;for(;l<o.length&&o[l]===0;)l++;if(l===o.length)return null;const c=l/s;let d=l%s*32;const f=o[l];let x=0;for(;!(f<<31-x&4294967295);)x++;return d+=x,Int32Array.from([d,c])}getBottomRightOnBit(){const s=this.rowSize,o=this.bits;let l=o.length-1;for(;l>=0&&o[l]===0;)l--;if(l<0)return null;const c=Math.floor(l/s);let d=Math.floor(l%s)*32;const f=o[l];let x=31;for(;!(f>>>x);)x--;return d+=x,Int32Array.from([d,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof re))return!1;const o=s;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&_.equals(this.bits,o.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+_.hashCode(this.bits),s}toString(s="X ",o="  ",l=`
`){return this.buildToString(s,o,l)}buildToString(s,o,l){let c=new se;for(let d=0,f=this.height;d<f;d++){for(let x=0,w=this.width;x<w;x++)c.append(this.get(x,d)?s:o);c.append(l)}return c.toString()}clone(){return new re(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends p{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class fe extends P{constructor(s){super(s),this.luminances=fe.EMPTY,this.buckets=new Int32Array(fe.LUMINANCE_BUCKETS)}getBlackRow(s,o){const l=this.getLuminanceSource(),c=l.getWidth();o==null||o.getSize()<c?o=new D(c):o.clear(),this.initArrays(c);const d=l.getRow(s,this.luminances),f=this.buckets;for(let w=0;w<c;w++)f[(d[w]&255)>>fe.LUMINANCE_SHIFT]++;const x=fe.estimateBlackPoint(f);if(c<3)for(let w=0;w<c;w++)(d[w]&255)<x&&o.set(w);else{let w=d[0]&255,b=d[1]&255;for(let A=1;A<c-1;A++){const k=d[A+1]&255;(b*4-w-k)/2<x&&o.set(A),w=b,b=k}}return o}getBlackMatrix(){const s=this.getLuminanceSource(),o=s.getWidth(),l=s.getHeight(),c=new re(o,l);this.initArrays(o);const d=this.buckets;for(let w=1;w<5;w++){const b=Math.floor(l*w/5),A=s.getRow(b,this.luminances),k=Math.floor(o*4/5);for(let j=Math.floor(o/5);j<k;j++){const U=A[j]&255;d[U>>fe.LUMINANCE_SHIFT]++}}const f=fe.estimateBlackPoint(d),x=s.getMatrix();for(let w=0;w<l;w++){const b=w*o;for(let A=0;A<o;A++)(x[b+A]&255)<f&&c.set(A,w)}return c}createBinarizer(s){return new fe(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const o=this.buckets;for(let l=0;l<fe.LUMINANCE_BUCKETS;l++)o[l]=0}static estimateBlackPoint(s){const o=s.length;let l=0,c=0,d=0;for(let A=0;A<o;A++)s[A]>d&&(c=A,d=s[A]),s[A]>l&&(l=s[A]);let f=0,x=0;for(let A=0;A<o;A++){const k=A-c,j=s[A]*k*k;j>x&&(f=A,x=j)}if(c>f){const A=c;c=f,f=A}if(f-c<=o/16)throw new X;let w=f-1,b=-1;for(let A=f-1;A>c;A--){const k=A-c,j=k*k*(f-A)*(l-s[A]);j>b&&(w=A,b=j)}return w<<fe.LUMINANCE_SHIFT}}fe.LUMINANCE_BITS=5,fe.LUMINANCE_SHIFT=8-fe.LUMINANCE_BITS,fe.LUMINANCE_BUCKETS=1<<fe.LUMINANCE_BITS,fe.EMPTY=Uint8ClampedArray.from([0]);class ne extends fe{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),o=s.getWidth(),l=s.getHeight();if(o>=ne.MINIMUM_DIMENSION&&l>=ne.MINIMUM_DIMENSION){const c=s.getMatrix();let d=o>>ne.BLOCK_SIZE_POWER;o&ne.BLOCK_SIZE_MASK&&d++;let f=l>>ne.BLOCK_SIZE_POWER;l&ne.BLOCK_SIZE_MASK&&f++;const x=ne.calculateBlackPoints(c,d,f,o,l),w=new re(o,l);ne.calculateThresholdForBlock(c,d,f,o,l,x,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new ne(s)}static calculateThresholdForBlock(s,o,l,c,d,f,x){const w=d-ne.BLOCK_SIZE,b=c-ne.BLOCK_SIZE;for(let A=0;A<l;A++){let k=A<<ne.BLOCK_SIZE_POWER;k>w&&(k=w);const j=ne.cap(A,2,l-3);for(let U=0;U<o;U++){let z=U<<ne.BLOCK_SIZE_POWER;z>b&&(z=b);const G=ne.cap(U,2,o-3);let Y=0;for(let le=-2;le<=2;le++){const ce=f[j+le];Y+=ce[G-2]+ce[G-1]+ce[G]+ce[G+1]+ce[G+2]}const J=Y/25;ne.thresholdBlock(s,z,k,J,c,x)}}}static cap(s,o,l){return s<o?o:s>l?l:s}static thresholdBlock(s,o,l,c,d,f){for(let x=0,w=l*d+o;x<ne.BLOCK_SIZE;x++,w+=d)for(let b=0;b<ne.BLOCK_SIZE;b++)(s[w+b]&255)<=c&&f.set(o+b,l+x)}static calculateBlackPoints(s,o,l,c,d){const f=d-ne.BLOCK_SIZE,x=c-ne.BLOCK_SIZE,w=new Array(l);for(let b=0;b<l;b++){w[b]=new Int32Array(o);let A=b<<ne.BLOCK_SIZE_POWER;A>f&&(A=f);for(let k=0;k<o;k++){let j=k<<ne.BLOCK_SIZE_POWER;j>x&&(j=x);let U=0,z=255,G=0;for(let J=0,le=A*c+j;J<ne.BLOCK_SIZE;J++,le+=c){for(let ce=0;ce<ne.BLOCK_SIZE;ce++){const oe=s[le+ce]&255;U+=oe,oe<z&&(z=oe),oe>G&&(G=oe)}if(G-z>ne.MIN_DYNAMIC_RANGE)for(J++,le+=c;J<ne.BLOCK_SIZE;J++,le+=c)for(let ce=0;ce<ne.BLOCK_SIZE;ce++)U+=s[le+ce]&255}let Y=U>>ne.BLOCK_SIZE_POWER*2;if(G-z<=ne.MIN_DYNAMIC_RANGE&&(Y=z/2,b>0&&k>0)){const J=(w[b-1][k]+2*w[b][k-1]+w[b-1][k-1])/4;z<J&&(Y=J)}w[b][k]=Y}}return w}}ne.BLOCK_SIZE_POWER=3,ne.BLOCK_SIZE=1<<ne.BLOCK_SIZE_POWER,ne.BLOCK_SIZE_MASK=ne.BLOCK_SIZE-1,ne.MINIMUM_DIMENSION=ne.BLOCK_SIZE*5,ne.MIN_DYNAMIC_RANGE=24;class Q{constructor(s,o){this.width=s,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,o,l,c){throw new H("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new H("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new H("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let o=new se;for(let l=0;l<this.height;l++){const c=this.getRow(l,s);for(let d=0;d<this.width;d++){const f=c[d]&255;let x;f<64?x="#":f<128?x="+":f<192?x=".":x=" ",o.append(x)}o.append(`
`)}return o.toString()}}class te extends Q{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,o){const l=this.delegate.getRow(s,o),c=this.getWidth();for(let d=0;d<c;d++)l[d]=255-(l[d]&255);return l}getMatrix(){const s=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(o);for(let c=0;c<o;c++)l[c]=255-(s[c]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(s,o,l,c){return new te(this.delegate.crop(s,o,l,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new te(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new te(this.delegate.rotateCounterClockwise45())}}class he extends Q{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=he.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const o=s.getContext("2d").getImageData(0,0,s.width,s.height);return he.toGrayscaleBuffer(o.data,s.width,s.height)}static toGrayscaleBuffer(s,o,l){const c=new Uint8ClampedArray(o*l);for(let d=0,f=0,x=s.length;d<x;d+=4,f++){let w;if(s[d+3]===0)w=255;else{const A=s[d],k=s[d+1],j=s[d+2];w=306*A+601*k+117*j+512>>10}c[f]=w}return c}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const l=this.getWidth(),c=s*l;return o===null?o=this.buffer.slice(c,c+l):(o.length<l&&(o=new Uint8ClampedArray(l)),o.set(this.buffer.slice(c,c+l))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,o,l,c){return super.crop(s,o,l,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const o=this.getTempCanvasElement(),l=o.getContext("2d"),c=s*he.DEGREE_TO_RADIANS,d=this.canvas.width,f=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(c))*d+Math.abs(Math.sin(c))*f),w=Math.ceil(Math.abs(Math.sin(c))*d+Math.abs(Math.cos(c))*f);return o.width=x,o.height=w,l.translate(x/2,w/2),l.rotate(c),l.drawImage(this.canvas,d/-2,f/-2),this.buffer=he.makeBufferFromCanvasImageData(o),this}invert(){return new te(this)}}he.DEGREE_TO_RADIANS=Math.PI/180;class ue{constructor(s,o,l){this.deviceId=s,this.label=o,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var me=(globalThis||pn||self||window||void 0)&&(globalThis||pn||self||window||void 0).__awaiter||function(R,s,o,l){function c(d){return d instanceof o?d:new o(function(f){f(d)})}return new(o||(o=Promise))(function(d,f){function x(A){try{b(l.next(A))}catch(k){f(k)}}function w(A){try{b(l.throw(A))}catch(k){f(k)}}function b(A){A.done?d(A.value):c(A.value).then(x,w)}b((l=l.apply(R,s||[])).next())})};class we{constructor(s,o=500,l){this.reader=s,this.timeBetweenScansMillis=o,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return me(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const l of s){const c=l.kind==="video"?"videoinput":l.kind;if(c!=="videoinput")continue;const d=l.deviceId||l.id,f=l.label||`Video device ${o.length+1}`,x=l.groupId,w={deviceId:d,label:f,kind:c,groupId:x};o.push(w)}return o})}getVideoInputDevices(){return me(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new ue(o.deviceId,o.label))})}findDeviceById(s){return me(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(l=>l.deviceId===s):null})}decodeFromInputVideoDevice(s,o){return me(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,o)})}decodeOnceFromVideoDevice(s,o){return me(this,void 0,void 0,function*(){this.reset();let l;s?l={deviceId:{exact:s}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeOnceFromConstraints(c,o)})}decodeOnceFromConstraints(s,o){return me(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(l,o)})}decodeOnceFromStream(s,o){return me(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(s,o);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(s,o,l){return me(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,o,l)})}decodeFromVideoDevice(s,o,l){return me(this,void 0,void 0,function*(){let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const d={video:c};return yield this.decodeFromConstraints(d,o,l)})}decodeFromConstraints(s,o,l){return me(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(c,o,l)})}decodeFromStream(s,o,l){return me(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,o);return yield this.decodeContinuously(c,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,o){return me(this,void 0,void 0,function*(){const l=this.prepareVideoElement(o);return this.addVideoSource(l,s),this.videoElement=l,this.stream=s,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(s){return new Promise((o,l)=>this.playVideoOnLoad(s,()=>o()))}playVideoOnLoad(s,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",o),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return me(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,o){const l=document.getElementById(s);if(!l)throw new y(`element with id '${s}' not found`);if(l.nodeName.toLowerCase()!==o.toLowerCase())throw new y(`element with id '${s}' must be an ${o} element`);return l}decodeFromImage(s,o){if(!s&&!o)throw new y("either imageElement with a src set or an url must be provided");return o&&!s?this.decodeFromImageUrl(o):this.decodeFromImageElement(s)}decodeFromVideo(s,o){if(!s&&!o)throw new y("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,o,l){if(s===void 0&&o===void 0)throw new y("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrlContinuously(o,l):this.decodeFromVideoElementContinuously(s,l)}decodeFromImageElement(s){if(!s)throw new y("An image element must be provided.");this.reset();const o=this.prepareImageElement(s);this.imageElement=o;let l;return this.isImageLoaded(o)?l=this.decodeOnce(o,!1,!0):l=this._decodeOnLoadImage(o),l}decodeFromVideoElement(s){const o=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(s,o){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(l,o)}_decodeFromVideoElementSetup(s){if(!s)throw new y("A video element must be provided.");this.reset();const o=this.prepareVideoElement(s);return this.videoElement=o,o}decodeFromImageUrl(s){if(!s)throw new y("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const l=this._decodeOnLoadImage(o);return o.src=s,l}decodeFromVideoUrl(s){if(!s)throw new y("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElement(o);return o.src=s,l}decodeFromVideoUrlContinuously(s,o){if(!s)throw new y("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(l,o);return l.src=s,c}_decodeOnLoadImage(s){return new Promise((o,l)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(o,l),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return me(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,o){return me(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,o)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let o;return typeof s>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(o=s),o}prepareVideoElement(s){let o;return!s&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(o=s),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(s,o=!0,l=!0){this._stopAsyncDecode=!1;const c=(d,f)=>{if(this._stopAsyncDecode){f(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(s);d(x)}catch(x){const w=o&&x instanceof X,A=(x instanceof N||x instanceof F)&&l;if(w||A)return setTimeout(c,this._timeBetweenDecodingAttempts,d,f);f(x)}};return new Promise((d,f)=>c(d,f))}decodeContinuously(s,o){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(s);o(c,null),setTimeout(l,this.timeBetweenScansMillis)}catch(c){o(null,c);const d=c instanceof N||c instanceof F,f=c instanceof X;(d||f)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(s){const o=this.createBinaryBitmap(s);return this.decodeBitmap(o)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,o,l){o||(o={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(s,o,l=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const o=this.getCaptureCanvas(s),l=new he(o),c=new ne(l);return new E(c)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const o=this.createCaptureCanvas(s);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let l,c;return typeof s<"u"&&(s instanceof HTMLVideoElement?(l=s.videoWidth,c=s.videoHeight):s instanceof HTMLImageElement&&(l=s.naturalWidth||s.width,c=s.naturalHeight||s.height)),o.style.width=l+"px",o.style.height=c+"px",o.width=l,o.height=c,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,o){try{s.srcObject=o}catch{s.src=URL.createObjectURL(o)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Re{constructor(s,o,l=o==null?0:8*o.length,c,d,f=T.currentTimeMillis()){this.text=s,this.rawBytes=o,this.numBits=l,this.resultPoints=c,this.format=d,this.timestamp=f,this.text=s,this.rawBytes=o,l==null?this.numBits=o==null?0:8*o.length:this.numBits=l,this.resultPoints=c,this.format=d,this.resultMetadata=null,f==null?this.timestamp=T.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,o)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const o=this.resultPoints;if(o===null)this.resultPoints=s;else if(s!==null&&s.length>0){const l=new Array(o.length+s.length);T.arraycopy(o,0,l,0,o.length),T.arraycopy(s,0,l,o.length,s.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var nt;(function(R){R[R.AZTEC=0]="AZTEC",R[R.CODABAR=1]="CODABAR",R[R.CODE_39=2]="CODE_39",R[R.CODE_93=3]="CODE_93",R[R.CODE_128=4]="CODE_128",R[R.DATA_MATRIX=5]="DATA_MATRIX",R[R.EAN_8=6]="EAN_8",R[R.EAN_13=7]="EAN_13",R[R.ITF=8]="ITF",R[R.MAXICODE=9]="MAXICODE",R[R.PDF_417=10]="PDF_417",R[R.QR_CODE=11]="QR_CODE",R[R.RSS_14=12]="RSS_14",R[R.RSS_EXPANDED=13]="RSS_EXPANDED",R[R.UPC_A=14]="UPC_A",R[R.UPC_E=15]="UPC_E",R[R.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(nt||(nt={}));var de=nt,Ee;(function(R){R[R.OTHER=0]="OTHER",R[R.ORIENTATION=1]="ORIENTATION",R[R.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",R[R.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",R[R.ISSUE_NUMBER=4]="ISSUE_NUMBER",R[R.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",R[R.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",R[R.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",R[R.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",R[R.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",R[R.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ee||(Ee={}));var xe=Ee;class Pe{constructor(s,o,l,c,d=-1,f=-1){this.rawBytes=s,this.text=o,this.byteSegments=l,this.ecLevel=c,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=f,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Oe{exp(s){return this.expTable[s]}log(s){if(s===0)throw new v;return this.logTable[s]}static addOrSubtract(s,o){return s^o}}class ge{constructor(s,o){if(o.length===0)throw new v;this.field=s;const l=o.length;if(l>1&&o[0]===0){let c=1;for(;c<l&&o[c]===0;)c++;c===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-c),T.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const o=this.coefficients;let l;if(s===1){l=0;for(let f=0,x=o.length;f!==x;f++){const w=o[f];l=Oe.addOrSubtract(l,w)}return l}l=o[0];const c=o.length,d=this.field;for(let f=1;f<c;f++)l=Oe.addOrSubtract(d.multiply(s,l),o[f]);return l}addOrSubtract(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,l=s.coefficients;if(o.length>l.length){const f=o;o=l,l=f}let c=new Int32Array(l.length);const d=l.length-o.length;T.arraycopy(l,0,c,0,d);for(let f=d;f<l.length;f++)c[f]=Oe.addOrSubtract(o[f-d],l[f]);return new ge(this.field,c)}multiply(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const o=this.coefficients,l=o.length,c=s.coefficients,d=c.length,f=new Int32Array(l+d-1),x=this.field;for(let w=0;w<l;w++){const b=o[w];for(let A=0;A<d;A++)f[w+A]=Oe.addOrSubtract(f[w+A],x.multiply(b,c[A]))}return new ge(x,f)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const o=this.coefficients.length,l=this.field,c=new Int32Array(o),d=this.coefficients;for(let f=0;f<o;f++)c[f]=l.multiply(d[f],s);return new ge(l,c)}multiplyByMonomial(s,o){if(s<0)throw new v;if(o===0)return this.field.getZero();const l=this.coefficients,c=l.length,d=new Int32Array(c+s),f=this.field;for(let x=0;x<c;x++)d[x]=f.multiply(l[x],o);return new ge(f,d)}divide(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new v("Divide by 0");const o=this.field;let l=o.getZero(),c=this;const d=s.getCoefficient(s.getDegree()),f=o.inverse(d);for(;c.getDegree()>=s.getDegree()&&!c.isZero();){const x=c.getDegree()-s.getDegree(),w=o.multiply(c.getCoefficient(c.getDegree()),f),b=s.multiplyByMonomial(x,w),A=o.buildMonomial(x,w);l=l.addOrSubtract(A),c=c.addOrSubtract(b)}return[l,c]}toString(){let s="";for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);if(l!==0){if(l<0?(s+=" - ",l=-l):s.length>0&&(s+=" + "),o===0||l!==1){const c=this.field.log(l);c===0?s+="1":c===1?s+="a":(s+="a^",s+=c)}o!==0&&(o===1?s+="x":(s+="x^",s+=o))}}return s}}class Te extends p{}Te.kind="ArithmeticException";class Ae extends Oe{constructor(s,o,l){super(),this.primitive=s,this.size=o,this.generatorBase=l;const c=new Int32Array(o);let d=1;for(let x=0;x<o;x++)c[x]=d,d*=2,d>=o&&(d^=s,d&=o-1);this.expTable=c;const f=new Int32Array(o);for(let x=0;x<o-1;x++)f[c[x]]=x;this.logTable=f,this.zero=new ge(this,Int32Array.from([0])),this.one=new ge(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new v;if(o===0)return this.zero;const l=new Int32Array(s+1);return l[0]=o,new ge(this,l)}inverse(s){if(s===0)throw new Te;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+S.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}Ae.AZTEC_DATA_12=new Ae(4201,4096,1),Ae.AZTEC_DATA_10=new Ae(1033,1024,1),Ae.AZTEC_DATA_6=new Ae(67,64,1),Ae.AZTEC_PARAM=new Ae(19,16,1),Ae.QR_CODE_FIELD_256=new Ae(285,256,0),Ae.DATA_MATRIX_FIELD_256=new Ae(301,256,1),Ae.AZTEC_DATA_8=Ae.DATA_MATRIX_FIELD_256,Ae.MAXICODE_FIELD_64=Ae.AZTEC_DATA_6;class He extends p{}He.kind="ReedSolomonException";class We extends p{}We.kind="IllegalStateException";class Be{constructor(s){this.field=s}decode(s,o){const l=this.field,c=new ge(l,s),d=new Int32Array(o);let f=!0;for(let U=0;U<o;U++){const z=c.evaluateAt(l.exp(U+l.getGeneratorBase()));d[d.length-1-U]=z,z!==0&&(f=!1)}if(f)return;const x=new ge(l,d),w=this.runEuclideanAlgorithm(l.buildMonomial(o,1),x,o),b=w[0],A=w[1],k=this.findErrorLocations(b),j=this.findErrorMagnitudes(A,k);for(let U=0;U<k.length;U++){const z=s.length-1-l.log(k[U]);if(z<0)throw new He("Bad error location");s[z]=Ae.addOrSubtract(s[z],j[U])}}runEuclideanAlgorithm(s,o,l){if(s.getDegree()<o.getDegree()){const U=s;s=o,o=U}const c=this.field;let d=s,f=o,x=c.getZero(),w=c.getOne();for(;f.getDegree()>=(l/2|0);){let U=d,z=x;if(d=f,x=w,d.isZero())throw new He("r_{i-1} was zero");f=U;let G=c.getZero();const Y=d.getCoefficient(d.getDegree()),J=c.inverse(Y);for(;f.getDegree()>=d.getDegree()&&!f.isZero();){const le=f.getDegree()-d.getDegree(),ce=c.multiply(f.getCoefficient(f.getDegree()),J);G=G.addOrSubtract(c.buildMonomial(le,ce)),f=f.addOrSubtract(d.multiplyByMonomial(le,ce))}if(w=G.multiply(x).addOrSubtract(z),f.getDegree()>=d.getDegree())throw new We("Division algorithm failed to reduce polynomial?")}const b=w.getCoefficient(0);if(b===0)throw new He("sigmaTilde(0) was zero");const A=c.inverse(b),k=w.multiplyScalar(A),j=f.multiplyScalar(A);return[k,j]}findErrorLocations(s){const o=s.getDegree();if(o===1)return Int32Array.from([s.getCoefficient(1)]);const l=new Int32Array(o);let c=0;const d=this.field;for(let f=1;f<d.getSize()&&c<o;f++)s.evaluateAt(f)===0&&(l[c]=d.inverse(f),c++);if(c!==o)throw new He("Error locator degree does not match number of roots");return l}findErrorMagnitudes(s,o){const l=o.length,c=new Int32Array(l),d=this.field;for(let f=0;f<l;f++){const x=d.inverse(o[f]);let w=1;for(let b=0;b<l;b++)if(f!==b){const A=d.multiply(o[b],x),k=A&1?A&-2:A|1;w=d.multiply(w,k)}c[f]=d.multiply(s.evaluateAt(x),d.inverse(w)),d.getGeneratorBase()!==0&&(c[f]=d.multiply(c[f],x))}return c}}var Xe;(function(R){R[R.UPPER=0]="UPPER",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.DIGIT=3]="DIGIT",R[R.PUNCT=4]="PUNCT",R[R.BINARY=5]="BINARY"})(Xe||(Xe={}));class Ne{decode(s){this.ddata=s;let o=s.getBits(),l=this.extractBits(o),c=this.correctBits(l),d=Ne.convertBoolArrayToByteArray(c),f=Ne.getEncodedData(c),x=new Pe(d,f,null,null);return x.setNumBits(c.length),x}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let o=s.length,l=Xe.UPPER,c=Xe.UPPER,d="",f=0;for(;f<o;)if(c===Xe.BINARY){if(o-f<5)break;let x=Ne.readCode(s,f,5);if(f+=5,x===0){if(o-f<11)break;x=Ne.readCode(s,f,11)+31,f+=11}for(let w=0;w<x;w++){if(o-f<8){f=o;break}const b=Ne.readCode(s,f,8);d+=q.castAsNonUtf8Char(b),f+=8}c=l}else{let x=c===Xe.DIGIT?4:5;if(o-f<x)break;let w=Ne.readCode(s,f,x);f+=x;let b=Ne.getCharacter(c,w);b.startsWith("CTRL_")?(l=c,c=Ne.getTable(b.charAt(5)),b.charAt(6)==="L"&&(l=c)):(d+=b,c=l)}return d}static getTable(s){switch(s){case"L":return Xe.LOWER;case"P":return Xe.PUNCT;case"M":return Xe.MIXED;case"D":return Xe.DIGIT;case"B":return Xe.BINARY;case"U":default:return Xe.UPPER}}static getCharacter(s,o){switch(s){case Xe.UPPER:return Ne.UPPER_TABLE[o];case Xe.LOWER:return Ne.LOWER_TABLE[o];case Xe.MIXED:return Ne.MIXED_TABLE[o];case Xe.PUNCT:return Ne.PUNCT_TABLE[o];case Xe.DIGIT:return Ne.DIGIT_TABLE[o];default:throw new We("Bad table")}}correctBits(s){let o,l;this.ddata.getNbLayers()<=2?(l=6,o=Ae.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,o=Ae.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,o=Ae.AZTEC_DATA_10):(l=12,o=Ae.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),d=s.length/l;if(d<c)throw new F;let f=s.length%l,x=new Int32Array(d);for(let j=0;j<d;j++,f+=l)x[j]=Ne.readCode(s,f,l);try{new Be(o).decode(x,d-c)}catch(j){throw new F(j)}let w=(1<<l)-1,b=0;for(let j=0;j<c;j++){let U=x[j];if(U===0||U===w)throw new F;(U===1||U===w-1)&&b++}let A=new Array(c*l-b),k=0;for(let j=0;j<c;j++){let U=x[j];if(U===1||U===w-1)A.fill(U>1,k,k+l-1),k+=l-1;else for(let z=l-1;z>=0;--z)A[k++]=(U&1<<z)!==0}return A}extractBits(s){let o=this.ddata.isCompact(),l=this.ddata.getNbLayers(),c=(o?11:14)+l*4,d=new Int32Array(c),f=new Array(this.totalBitsInLayer(l,o));if(o)for(let x=0;x<d.length;x++)d[x]=x;else{let x=c+1+2*S.truncDivision(S.truncDivision(c,2)-1,15),w=c/2,b=S.truncDivision(x,2);for(let A=0;A<w;A++){let k=A+S.truncDivision(A,15);d[w-A-1]=b-k-1,d[w+A]=b+k+1}}for(let x=0,w=0;x<l;x++){let b=(l-x)*4+(o?9:12),A=x*2,k=c-1-A;for(let j=0;j<b;j++){let U=j*2;for(let z=0;z<2;z++)f[w+U+z]=s.get(d[A+z],d[A+j]),f[w+2*b+U+z]=s.get(d[A+j],d[k-z]),f[w+4*b+U+z]=s.get(d[k-z],d[k-j]),f[w+6*b+U+z]=s.get(d[k-j],d[A+z])}w+=b*8}return f}static readCode(s,o,l){let c=0;for(let d=o;d<o+l;d++)c<<=1,s[d]&&(c|=1);return c}static readByte(s,o){let l=s.length-o;return l>=8?Ne.readCode(s,o,8):Ne.readCode(s,o,l)<<8-l}static convertBoolArrayToByteArray(s){let o=new Uint8Array((s.length+7)/8);for(let l=0;l<o.length;l++)o[l]=Ne.readByte(s,8*l);return o}totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}Ne.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ne.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ne.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ne.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ne.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class _e{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,o,l,c){const d=s-l,f=o-c;return Math.sqrt(d*d+f*f)}static sum(s){let o=0;for(let l=0,c=s.length;l!==c;l++){const d=s[l];o+=d}return o}}class Dt{static floatToIntBits(s){return s}}Dt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ve{constructor(s,o){this.x=s,this.y=o}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof ve){const o=s;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Dt.floatToIntBits(this.x)+Dt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const o=this.distance(s[0],s[1]),l=this.distance(s[1],s[2]),c=this.distance(s[0],s[2]);let d,f,x;if(l>=o&&l>=c?(f=s[0],d=s[1],x=s[2]):c>=l&&c>=o?(f=s[1],d=s[0],x=s[2]):(f=s[2],d=s[0],x=s[1]),this.crossProductZ(d,f,x)<0){const w=d;d=x,x=w}s[0]=d,s[1]=f,s[2]=x}static distance(s,o){return _e.distance(s.x,s.y,o.x,o.y)}static crossProductZ(s,o,l){const c=o.x,d=o.y;return(l.x-c)*(s.y-d)-(l.y-d)*(s.x-c)}}class On{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Hs extends On{constructor(s,o,l,c,d){super(s,o),this.compact=l,this.nbDatablocks=c,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class St{constructor(s,o,l,c){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),o==null&&(o=St.INIT_SIZE),l==null&&(l=s.getWidth()/2|0),c==null&&(c=s.getHeight()/2|0);const d=o/2|0;if(this.leftInit=l-d,this.rightInit=l+d,this.upInit=c-d,this.downInit=c+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let s=this.leftInit,o=this.rightInit,l=this.upInit,c=this.downInit,d=!1,f=!0,x=!1,w=!1,b=!1,A=!1,k=!1;const j=this.width,U=this.height;for(;f;){f=!1;let z=!0;for(;(z||!w)&&o<j;)z=this.containsBlackPoint(l,c,o,!1),z?(o++,f=!0,w=!0):w||o++;if(o>=j){d=!0;break}let G=!0;for(;(G||!b)&&c<U;)G=this.containsBlackPoint(s,o,c,!0),G?(c++,f=!0,b=!0):b||c++;if(c>=U){d=!0;break}let Y=!0;for(;(Y||!A)&&s>=0;)Y=this.containsBlackPoint(l,c,s,!1),Y?(s--,f=!0,A=!0):A||s--;if(s<0){d=!0;break}let J=!0;for(;(J||!k)&&l>=0;)J=this.containsBlackPoint(s,o,l,!0),J?(l--,f=!0,k=!0):k||l--;if(l<0){d=!0;break}f&&(x=!0)}if(!d&&x){const z=o-s;let G=null;for(let ce=1;G===null&&ce<z;ce++)G=this.getBlackPointOnSegment(s,c-ce,s+ce,c);if(G==null)throw new X;let Y=null;for(let ce=1;Y===null&&ce<z;ce++)Y=this.getBlackPointOnSegment(s,l+ce,s+ce,l);if(Y==null)throw new X;let J=null;for(let ce=1;J===null&&ce<z;ce++)J=this.getBlackPointOnSegment(o,l+ce,o-ce,l);if(J==null)throw new X;let le=null;for(let ce=1;le===null&&ce<z;ce++)le=this.getBlackPointOnSegment(o,c-ce,o-ce,c);if(le==null)throw new X;return this.centerEdges(le,G,J,Y)}else throw new X}getBlackPointOnSegment(s,o,l,c){const d=_e.round(_e.distance(s,o,l,c)),f=(l-s)/d,x=(c-o)/d,w=this.image;for(let b=0;b<d;b++){const A=_e.round(s+b*f),k=_e.round(o+b*x);if(w.get(A,k))return new ve(A,k)}return null}centerEdges(s,o,l,c){const d=s.getX(),f=s.getY(),x=o.getX(),w=o.getY(),b=l.getX(),A=l.getY(),k=c.getX(),j=c.getY(),U=St.CORR;return d<this.width/2?[new ve(k-U,j+U),new ve(x+U,w+U),new ve(b-U,A-U),new ve(d+U,f-U)]:[new ve(k+U,j+U),new ve(x+U,w-U),new ve(b-U,A+U),new ve(d-U,f-U)]}containsBlackPoint(s,o,l,c){const d=this.image;if(c){for(let f=s;f<=o;f++)if(d.get(f,l))return!0}else for(let f=s;f<=o;f++)if(d.get(l,f))return!0;return!1}}St.INIT_SIZE=10,St.CORR=1;class Wn{static checkAndNudgePoints(s,o){const l=s.getWidth(),c=s.getHeight();let d=!0;for(let f=0;f<o.length&&d;f+=2){const x=Math.floor(o[f]),w=Math.floor(o[f+1]);if(x<-1||x>l||w<-1||w>c)throw new X;d=!1,x===-1?(o[f]=0,d=!0):x===l&&(o[f]=l-1,d=!0),w===-1?(o[f+1]=0,d=!0):w===c&&(o[f+1]=c-1,d=!0)}d=!0;for(let f=o.length-2;f>=0&&d;f-=2){const x=Math.floor(o[f]),w=Math.floor(o[f+1]);if(x<-1||x>l||w<-1||w>c)throw new X;d=!1,x===-1?(o[f]=0,d=!0):x===l&&(o[f]=l-1,d=!0),w===-1?(o[f+1]=0,d=!0):w===c&&(o[f+1]=c-1,d=!0)}}}class ft{constructor(s,o,l,c,d,f,x,w,b){this.a11=s,this.a21=o,this.a31=l,this.a12=c,this.a22=d,this.a32=f,this.a13=x,this.a23=w,this.a33=b}static quadrilateralToQuadrilateral(s,o,l,c,d,f,x,w,b,A,k,j,U,z,G,Y){const J=ft.quadrilateralToSquare(s,o,l,c,d,f,x,w);return ft.squareToQuadrilateral(b,A,k,j,U,z,G,Y).times(J)}transformPoints(s){const o=s.length,l=this.a11,c=this.a12,d=this.a13,f=this.a21,x=this.a22,w=this.a23,b=this.a31,A=this.a32,k=this.a33;for(let j=0;j<o;j+=2){const U=s[j],z=s[j+1],G=d*U+w*z+k;s[j]=(l*U+f*z+b)/G,s[j+1]=(c*U+x*z+A)/G}}transformPointsWithValues(s,o){const l=this.a11,c=this.a12,d=this.a13,f=this.a21,x=this.a22,w=this.a23,b=this.a31,A=this.a32,k=this.a33,j=s.length;for(let U=0;U<j;U++){const z=s[U],G=o[U],Y=d*z+w*G+k;s[U]=(l*z+f*G+b)/Y,o[U]=(c*z+x*G+A)/Y}}static squareToQuadrilateral(s,o,l,c,d,f,x,w){const b=s-l+d-x,A=o-c+f-w;if(b===0&&A===0)return new ft(l-s,d-l,s,c-o,f-c,o,0,0,1);{const k=l-d,j=x-d,U=c-f,z=w-f,G=k*z-j*U,Y=(b*z-j*A)/G,J=(k*A-b*U)/G;return new ft(l-s+Y*l,x-s+J*x,s,c-o+Y*c,w-o+J*w,o,Y,J,1)}}static quadrilateralToSquare(s,o,l,c,d,f,x,w){return ft.squareToQuadrilateral(s,o,l,c,d,f,x,w).buildAdjoint()}buildAdjoint(){return new ft(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new ft(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class mn extends Wn{sampleGrid(s,o,l,c,d,f,x,w,b,A,k,j,U,z,G,Y,J,le,ce){const oe=ft.quadrilateralToQuadrilateral(c,d,f,x,w,b,A,k,j,U,z,G,Y,J,le,ce);return this.sampleGridWithTransform(s,o,l,oe)}sampleGridWithTransform(s,o,l,c){if(o<=0||l<=0)throw new X;const d=new re(o,l),f=new Float32Array(2*o);for(let x=0;x<l;x++){const w=f.length,b=x+.5;for(let A=0;A<w;A+=2)f[A]=A/2+.5,f[A+1]=b;c.transformPoints(f),Wn.checkAndNudgePoints(s,f);try{for(let A=0;A<w;A+=2)s.get(Math.floor(f[A]),Math.floor(f[A+1]))&&d.set(A/2,x)}catch{throw new X}}return d}}class cn{static setGridSampler(s){cn.gridSampler=s}static getInstance(){return cn.gridSampler}}cn.gridSampler=new mn;class tn{constructor(s,o){this.x=s,this.y=o}toResultPoint(){return new ve(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class yl{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let o=this.getMatrixCenter(),l=this.getBullsEyeCorners(o);if(s){let f=l[0];l[0]=l[2],l[2]=f}this.extractParameters(l);let c=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),d=this.getMatrixCornerPoints(l);return new Hs(c,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new X;let o=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(s[0],s[1],o),this.sampleLine(s[1],s[2],o),this.sampleLine(s[2],s[3],o),this.sampleLine(s[3],s[0],o)]);this.shift=this.getRotation(l,o);let c=0;for(let f=0;f<4;f++){let x=l[(this.shift+f)%4];this.compact?(c<<=7,c+=x>>1&127):(c<<=10,c+=(x>>2&992)+(x>>1&31))}let d=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(d>>6)+1,this.nbDataBlocks=(d&63)+1):(this.nbLayers=(d>>11)+1,this.nbDataBlocks=(d&2047)+1)}getRotation(s,o){let l=0;s.forEach((c,d,f)=>{let x=(c>>o-2<<1)+(c&1);l=(l<<3)+x}),l=((l&1)<<11)+(l>>1);for(let c=0;c<4;c++)if(S.bitCount(l^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new X}getCorrectedParameterData(s,o){let l,c;o?(l=7,c=2):(l=10,c=4);let d=l-c,f=new Int32Array(l);for(let w=l-1;w>=0;--w)f[w]=s&15,s>>=4;try{new Be(Ae.AZTEC_PARAM).decode(f,d)}catch{throw new X}let x=0;for(let w=0;w<c;w++)x=(x<<4)+f[w];return x}getBullsEyeCorners(s){let o=s,l=s,c=s,d=s,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let k=this.getFirstDifferent(o,f,1,-1),j=this.getFirstDifferent(l,f,1,1),U=this.getFirstDifferent(c,f,-1,1),z=this.getFirstDifferent(d,f,-1,-1);if(this.nbCenterLayers>2){let G=this.distancePoint(z,k)*this.nbCenterLayers/(this.distancePoint(d,o)*(this.nbCenterLayers+2));if(G<.75||G>1.25||!this.isWhiteOrBlackRectangle(k,j,U,z))break}o=k,l=j,c=U,d=z,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let x=new ve(o.getX()+.5,o.getY()-.5),w=new ve(l.getX()+.5,l.getY()+.5),b=new ve(c.getX()-.5,c.getY()+.5),A=new ve(d.getX()-.5,d.getY()-.5);return this.expandSquare([x,w,b,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,o,l,c;try{let x=new St(this.image).detect();s=x[0],o=x[1],l=x[2],c=x[3]}catch{let w=this.image.getWidth()/2,b=this.image.getHeight()/2;s=this.getFirstDifferent(new tn(w+7,b-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new tn(w+7,b+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new tn(w-7,b+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new tn(w-7,b-7),!1,-1,-1).toResultPoint()}let d=_e.round((s.getX()+c.getX()+o.getX()+l.getX())/4),f=_e.round((s.getY()+c.getY()+o.getY()+l.getY())/4);try{let x=new St(this.image,15,d,f).detect();s=x[0],o=x[1],l=x[2],c=x[3]}catch{s=this.getFirstDifferent(new tn(d+7,f-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new tn(d+7,f+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new tn(d-7,f+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new tn(d-7,f-7),!1,-1,-1).toResultPoint()}return d=_e.round((s.getX()+c.getX()+o.getX()+l.getX())/4),f=_e.round((s.getY()+c.getY()+o.getY()+l.getY())/4),new tn(d,f)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,o,l,c,d){let f=cn.getInstance(),x=this.getDimension(),w=x/2-this.nbCenterLayers,b=x/2+this.nbCenterLayers;return f.sampleGrid(s,x,x,w,w,b,w,b,b,w,b,o.getX(),o.getY(),l.getX(),l.getY(),c.getX(),c.getY(),d.getX(),d.getY())}sampleLine(s,o,l){let c=0,d=this.distanceResultPoint(s,o),f=d/l,x=s.getX(),w=s.getY(),b=f*(o.getX()-s.getX())/d,A=f*(o.getY()-s.getY())/d;for(let k=0;k<l;k++)this.image.get(_e.round(x+k*b),_e.round(w+k*A))&&(c|=1<<l-k-1);return c}isWhiteOrBlackRectangle(s,o,l,c){let d=3;s=new tn(s.getX()-d,s.getY()+d),o=new tn(o.getX()-d,o.getY()-d),l=new tn(l.getX()+d,l.getY()-d),c=new tn(c.getX()+d,c.getY()+d);let f=this.getColor(c,s);if(f===0)return!1;let x=this.getColor(s,o);return x!==f||(x=this.getColor(o,l),x!==f)?!1:(x=this.getColor(l,c),x===f)}getColor(s,o){let l=this.distancePoint(s,o),c=(o.getX()-s.getX())/l,d=(o.getY()-s.getY())/l,f=0,x=s.getX(),w=s.getY(),b=this.image.get(s.getX(),s.getY()),A=Math.ceil(l);for(let j=0;j<A;j++)x+=c,w+=d,this.image.get(_e.round(x),_e.round(w))!==b&&f++;let k=f/l;return k>.1&&k<.9?0:k<=.1===b?1:-1}getFirstDifferent(s,o,l,c){let d=s.getX()+l,f=s.getY()+c;for(;this.isValid(d,f)&&this.image.get(d,f)===o;)d+=l,f+=c;for(d-=l,f-=c;this.isValid(d,f)&&this.image.get(d,f)===o;)d+=l;for(d-=l;this.isValid(d,f)&&this.image.get(d,f)===o;)f+=c;return f-=c,new tn(d,f)}expandSquare(s,o,l){let c=l/(2*o),d=s[0].getX()-s[2].getX(),f=s[0].getY()-s[2].getY(),x=(s[0].getX()+s[2].getX())/2,w=(s[0].getY()+s[2].getY())/2,b=new ve(x+c*d,w+c*f),A=new ve(x-c*d,w-c*f);d=s[1].getX()-s[3].getX(),f=s[1].getY()-s[3].getY(),x=(s[1].getX()+s[3].getX())/2,w=(s[1].getY()+s[3].getY())/2;let k=new ve(x+c*d,w+c*f),j=new ve(x-c*d,w-c*f);return[b,k,A,j]}isValid(s,o){return s>=0&&s<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(s){let o=_e.round(s.getX()),l=_e.round(s.getY());return this.isValid(o,l)}distancePoint(s,o){return _e.distance(s.getX(),s.getY(),o.getX(),o.getY())}distanceResultPoint(s,o){return _e.distance(s.getX(),s.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(S.truncDivision(this.nbLayers-4,8)+1)+15}}class Pr{decode(s,o=null){let l=null,c=new yl(s.getBlackMatrix()),d=null,f=null;try{let A=c.detectMirror(!1);d=A.getPoints(),this.reportFoundResultPoints(o,d),f=new Ne().decode(A)}catch(A){l=A}if(f==null)try{let A=c.detectMirror(!0);d=A.getPoints(),this.reportFoundResultPoints(o,d),f=new Ne().decode(A)}catch(A){throw l??A}let x=new Re(f.getText(),f.getRawBytes(),f.getNumBits(),d,de.AZTEC,T.currentTimeMillis()),w=f.getByteSegments();w!=null&&x.putMetadata(xe.BYTE_SEGMENTS,w);let b=f.getECLevel();return b!=null&&x.putMetadata(xe.ERROR_CORRECTION_LEVEL,b),x}reportFoundResultPoints(s,o){if(s!=null){let l=s.get(V.NEED_RESULT_POINT_CALLBACK);l!=null&&o.forEach((c,d,f)=>{l.foundPossibleResultPoint(c)})}}reset(){}}class gr extends we{constructor(s=500){super(new Pr,s)}}class At{decode(s,o){try{return this.doDecode(s,o)}catch{if(o&&o.get(V.TRY_HARDER)===!0&&s.isRotateSupported()){const d=s.rotateCounterClockwise(),f=this.doDecode(d,o),x=f.getResultMetadata();let w=270;x!==null&&x.get(xe.ORIENTATION)===!0&&(w=w+x.get(xe.ORIENTATION)%360),f.putMetadata(xe.ORIENTATION,w);const b=f.getResultPoints();if(b!==null){const A=d.getHeight();for(let k=0;k<b.length;k++)b[k]=new ve(A-b[k].getY()-1,b[k].getX())}return f}else throw new X}}reset(){}doDecode(s,o){const l=s.getWidth(),c=s.getHeight();let d=new D(l);const f=o&&o.get(V.TRY_HARDER)===!0,x=Math.max(1,c>>(f?8:5));let w;f?w=c:w=15;const b=Math.trunc(c/2);for(let A=0;A<w;A++){const k=Math.trunc((A+1)/2),j=(A&1)===0,U=b+x*(j?k:-k);if(U<0||U>=c)break;try{d=s.getBlackRow(U,d)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(d.reverse(),o&&o.get(V.NEED_RESULT_POINT_CALLBACK)===!0)){const G=new Map;o.forEach((Y,J)=>G.set(J,Y)),G.delete(V.NEED_RESULT_POINT_CALLBACK),o=G}try{const G=this.decodeRow(U,d,o);if(z===1){G.putMetadata(xe.ORIENTATION,180);const Y=G.getResultPoints();Y!==null&&(Y[0]=new ve(l-Y[0].getX()-1,Y[0].getY()),Y[1]=new ve(l-Y[1].getX()-1,Y[1].getY()))}return G}catch{}}}throw new X}static recordPattern(s,o,l){const c=l.length;for(let b=0;b<c;b++)l[b]=0;const d=s.getSize();if(o>=d)throw new X;let f=!s.get(o),x=0,w=o;for(;w<d;){if(s.get(w)!==f)l[x]++;else{if(++x===c)break;l[x]=1,f=!f}w++}if(!(x===c||x===c-1&&w===d))throw new X}static recordPatternInReverse(s,o,l){let c=l.length,d=s.get(o);for(;o>0&&c>=0;)s.get(--o)!==d&&(c--,d=!d);if(c>=0)throw new X;At.recordPattern(s,o+1,l)}static patternMatchVariance(s,o,l){const c=s.length;let d=0,f=0;for(let b=0;b<c;b++)d+=s[b],f+=o[b];if(d<f)return Number.POSITIVE_INFINITY;const x=d/f;l*=x;let w=0;for(let b=0;b<c;b++){const A=s[b],k=o[b]*x,j=A>k?A-k:k-A;if(j>l)return Number.POSITIVE_INFINITY;w+=j}return w/d}}class pe extends At{static findStartPattern(s){const o=s.getSize(),l=s.getNextSet(0);let c=0,d=Int32Array.from([0,0,0,0,0,0]),f=l,x=!1;const w=6;for(let b=l;b<o;b++)if(s.get(b)!==x)d[c]++;else{if(c===w-1){let A=pe.MAX_AVG_VARIANCE,k=-1;for(let j=pe.CODE_START_A;j<=pe.CODE_START_C;j++){const U=At.patternMatchVariance(d,pe.CODE_PATTERNS[j],pe.MAX_INDIVIDUAL_VARIANCE);U<A&&(A=U,k=j)}if(k>=0&&s.isRange(Math.max(0,f-(b-f)/2),f,!1))return Int32Array.from([f,b,k]);f+=d[0]+d[1],d=d.slice(2,d.length-1),d[c-1]=0,d[c]=0,c--}else c++;d[c]=1,x=!x}throw new X}static decodeCode(s,o,l){At.recordPattern(s,l,o);let c=pe.MAX_AVG_VARIANCE,d=-1;for(let f=0;f<pe.CODE_PATTERNS.length;f++){const x=pe.CODE_PATTERNS[f],w=this.patternMatchVariance(o,x,pe.MAX_INDIVIDUAL_VARIANCE);w<c&&(c=w,d=f)}if(d>=0)return d;throw new X}decodeRow(s,o,l){const c=l&&l.get(V.ASSUME_GS1)===!0,d=pe.findStartPattern(o),f=d[2];let x=0;const w=new Uint8Array(20);w[x++]=f;let b;switch(f){case pe.CODE_START_A:b=pe.CODE_CODE_A;break;case pe.CODE_START_B:b=pe.CODE_CODE_B;break;case pe.CODE_START_C:b=pe.CODE_CODE_C;break;default:throw new F}let A=!1,k=!1,j="",U=d[0],z=d[1];const G=Int32Array.from([0,0,0,0,0,0]);let Y=0,J=0,le=f,ce=0,oe=!0,tt=!1,$e=!1;for(;!A;){const Qo=k;switch(k=!1,Y=J,J=pe.decodeCode(o,G,z),w[x++]=J,J!==pe.CODE_STOP&&(oe=!0),J!==pe.CODE_STOP&&(ce++,le+=ce*J),U=z,z+=G.reduce((i3,o3)=>i3+o3,0),J){case pe.CODE_START_A:case pe.CODE_START_B:case pe.CODE_START_C:throw new F}switch(b){case pe.CODE_CODE_A:if(J<64)$e===tt?j+=String.fromCharCode(32+J):j+=String.fromCharCode(32+J+128),$e=!1;else if(J<96)$e===tt?j+=String.fromCharCode(J-64):j+=String.fromCharCode(J+64),$e=!1;else switch(J!==pe.CODE_STOP&&(oe=!1),J){case pe.CODE_FNC_1:c&&(j.length===0?j+="]C1":j+="");break;case pe.CODE_FNC_2:case pe.CODE_FNC_3:break;case pe.CODE_FNC_4_A:!tt&&$e?(tt=!0,$e=!1):tt&&$e?(tt=!1,$e=!1):$e=!0;break;case pe.CODE_SHIFT:k=!0,b=pe.CODE_CODE_B;break;case pe.CODE_CODE_B:b=pe.CODE_CODE_B;break;case pe.CODE_CODE_C:b=pe.CODE_CODE_C;break;case pe.CODE_STOP:A=!0;break}break;case pe.CODE_CODE_B:if(J<96)$e===tt?j+=String.fromCharCode(32+J):j+=String.fromCharCode(32+J+128),$e=!1;else switch(J!==pe.CODE_STOP&&(oe=!1),J){case pe.CODE_FNC_1:c&&(j.length===0?j+="]C1":j+="");break;case pe.CODE_FNC_2:case pe.CODE_FNC_3:break;case pe.CODE_FNC_4_B:!tt&&$e?(tt=!0,$e=!1):tt&&$e?(tt=!1,$e=!1):$e=!0;break;case pe.CODE_SHIFT:k=!0,b=pe.CODE_CODE_A;break;case pe.CODE_CODE_A:b=pe.CODE_CODE_A;break;case pe.CODE_CODE_C:b=pe.CODE_CODE_C;break;case pe.CODE_STOP:A=!0;break}break;case pe.CODE_CODE_C:if(J<100)J<10&&(j+="0"),j+=J;else switch(J!==pe.CODE_STOP&&(oe=!1),J){case pe.CODE_FNC_1:c&&(j.length===0?j+="]C1":j+="");break;case pe.CODE_CODE_A:b=pe.CODE_CODE_A;break;case pe.CODE_CODE_B:b=pe.CODE_CODE_B;break;case pe.CODE_STOP:A=!0;break}break}Qo&&(b=b===pe.CODE_CODE_A?pe.CODE_CODE_B:pe.CODE_CODE_A)}const $n=z-U;if(z=o.getNextUnset(z),!o.isRange(z,Math.min(o.getSize(),z+(z-U)/2),!1))throw new X;if(le-=ce*Y,le%103!==Y)throw new N;const Mr=j.length;if(Mr===0)throw new X;Mr>0&&oe&&(b===pe.CODE_CODE_C?j=j.substring(0,Mr-2):j=j.substring(0,Mr-1));const Gn=(d[1]+d[0])/2,Ct=U+$n/2,yn=w.length,rr=new Uint8Array(yn);for(let Qo=0;Qo<yn;Qo++)rr[Qo]=w[Qo];const Ko=[new ve(Gn,s),new ve(Ct,s)];return new Re(j,rr,0,Ko,de.CODE_128,new Date().getTime())}}pe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],pe.MAX_AVG_VARIANCE=.25,pe.MAX_INDIVIDUAL_VARIANCE=.7,pe.CODE_SHIFT=98,pe.CODE_CODE_C=99,pe.CODE_CODE_B=100,pe.CODE_CODE_A=101,pe.CODE_FNC_1=102,pe.CODE_FNC_2=97,pe.CODE_FNC_3=96,pe.CODE_FNC_4_A=101,pe.CODE_FNC_4_B=100,pe.CODE_START_A=103,pe.CODE_START_B=104,pe.CODE_START_C=105,pe.CODE_STOP=106;class nn extends At{constructor(s=!1,o=!1){super(),this.usingCheckDigit=s,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,o,l){let c=this.counters;c.fill(0),this.decodeRowResult="";let d=nn.findAsteriskPattern(o,c),f=o.getNextSet(d[1]),x=o.getSize(),w,b;do{nn.recordPattern(o,f,c);let G=nn.toNarrowWidePattern(c);if(G<0)throw new X;w=nn.patternToChar(G),this.decodeRowResult+=w,b=f;for(let Y of c)f+=Y;f=o.getNextSet(f)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let A=0;for(let G of c)A+=G;let k=f-b-A;if(f!==x&&k*2<A)throw new X;if(this.usingCheckDigit){let G=this.decodeRowResult.length-1,Y=0;for(let J=0;J<G;J++)Y+=nn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(J));if(this.decodeRowResult.charAt(G)!==nn.ALPHABET_STRING.charAt(Y%43))throw new N;this.decodeRowResult=this.decodeRowResult.substring(0,G)}if(this.decodeRowResult.length===0)throw new X;let j;this.extendedMode?j=nn.decodeExtended(this.decodeRowResult):j=this.decodeRowResult;let U=(d[1]+d[0])/2,z=b+A/2;return new Re(j,null,0,[new ve(U,s),new ve(z,s)],de.CODE_39,new Date().getTime())}static findAsteriskPattern(s,o){let l=s.getSize(),c=s.getNextSet(0),d=0,f=c,x=!1,w=o.length;for(let b=c;b<l;b++)if(s.get(b)!==x)o[d]++;else{if(d===w-1){if(this.toNarrowWidePattern(o)===nn.ASTERISK_ENCODING&&s.isRange(Math.max(0,f-Math.floor((b-f)/2)),f,!1))return[f,b];f+=o[0]+o[1],o.copyWithin(0,2,2+d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,x=!x}throw new X}static toNarrowWidePattern(s){let o=s.length,l=0,c;do{let d=2147483647;for(let w of s)w<d&&w>l&&(d=w);l=d,c=0;let f=0,x=0;for(let w=0;w<o;w++){let b=s[w];b>l&&(x|=1<<o-1-w,c++,f+=b)}if(c===3){for(let w=0;w<o&&c>0;w++){let b=s[w];if(b>l&&(c--,b*2>=f))return-1}return x}}while(c>3);return-1}static patternToChar(s){for(let o=0;o<nn.CHARACTER_ENCODINGS.length;o++)if(nn.CHARACTER_ENCODINGS[o]===s)return nn.ALPHABET_STRING.charAt(o);if(s===nn.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(s){let o=s.length,l="";for(let c=0;c<o;c++){let d=s.charAt(c);if(d==="+"||d==="$"||d==="%"||d==="/"){let f=s.charAt(c+1),x="\0";switch(d){case"+":if(f>="A"&&f<="Z")x=String.fromCharCode(f.charCodeAt(0)+32);else throw new F;break;case"$":if(f>="A"&&f<="Z")x=String.fromCharCode(f.charCodeAt(0)-64);else throw new F;break;case"%":if(f>="A"&&f<="E")x=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")x=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")x=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")x=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")x="\0";else if(f==="V")x="@";else if(f==="W")x="`";else if(f==="X"||f==="Y"||f==="Z")x="";else throw new F;break;case"/":if(f>="A"&&f<="O")x=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")x=":";else throw new F;break}l+=x,c++}else l+=d}return l}}nn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",nn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],nn.ASTERISK_ENCODING=148;class vt extends At{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,o,l){let c=this.decodeStart(o),d=this.decodeEnd(o),f=new se;vt.decodeMiddle(o,c[1],d[0],f);let x=f.toString(),w=null;l!=null&&(w=l.get(V.ALLOWED_LENGTHS)),w==null&&(w=vt.DEFAULT_ALLOWED_LENGTHS);let b=x.length,A=!1,k=0;for(let z of w){if(b===z){A=!0;break}z>k&&(k=z)}if(!A&&b>k&&(A=!0),!A)throw new F;const j=[new ve(c[1],s),new ve(d[0],s)];return new Re(x,null,0,j,de.ITF,new Date().getTime())}static decodeMiddle(s,o,l,c){let d=new Int32Array(10),f=new Int32Array(5),x=new Int32Array(5);for(d.fill(0),f.fill(0),x.fill(0);o<l;){At.recordPattern(s,o,d);for(let b=0;b<5;b++){let A=2*b;f[b]=d[A],x[b]=d[A+1]}let w=vt.decodeDigit(f);c.append(w.toString()),w=this.decodeDigit(x),c.append(w.toString()),d.forEach(function(b){o+=b})}}decodeStart(s){let o=vt.skipWhiteSpace(s),l=vt.findGuardPattern(s,o,vt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(s,l[0]),l}validateQuietZone(s,o){let l=this.narrowLineWidth*10;l=l<o?l:o;for(let c=o-1;l>0&&c>=0&&!s.get(c);c--)l--;if(l!==0)throw new X}static skipWhiteSpace(s){const o=s.getSize(),l=s.getNextSet(0);if(l===o)throw new X;return l}decodeEnd(s){s.reverse();try{let o=vt.skipWhiteSpace(s),l;try{l=vt.findGuardPattern(s,o,vt.END_PATTERN_REVERSED[0])}catch(d){d instanceof X&&(l=vt.findGuardPattern(s,o,vt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,l[0]);let c=l[0];return l[0]=s.getSize()-l[1],l[1]=s.getSize()-c,l}finally{s.reverse()}}static findGuardPattern(s,o,l){let c=l.length,d=new Int32Array(c),f=s.getSize(),x=!1,w=0,b=o;d.fill(0);for(let A=o;A<f;A++)if(s.get(A)!==x)d[w]++;else{if(w===c-1){if(At.patternMatchVariance(d,l,vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return[b,A];b+=d[0]+d[1],T.arraycopy(d,2,d,0,w-1),d[w-1]=0,d[w]=0,w--}else w++;d[w]=1,x=!x}throw new X}static decodeDigit(s){let o=vt.MAX_AVG_VARIANCE,l=-1,c=vt.PATTERNS.length;for(let d=0;d<c;d++){let f=vt.PATTERNS[d],x=At.patternMatchVariance(s,f,vt.MAX_INDIVIDUAL_VARIANCE);x<o?(o=x,l=d):x===o&&(l=-1)}if(l>=0)return l%10;throw new X}}vt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],vt.MAX_AVG_VARIANCE=.38,vt.MAX_INDIVIDUAL_VARIANCE=.5,vt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],vt.START_PATTERN=Int32Array.from([1,1,1,1]),vt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Vt extends At{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let o=!1,l,c=0,d=Int32Array.from([0,0,0]);for(;!o;){d=Int32Array.from([0,0,0]),l=Vt.findGuardPattern(s,c,!1,this.START_END_PATTERN,d);let f=l[0];c=l[1];let x=f-(c-f);x>=0&&(o=s.isRange(x,f,!1))}return l}static checkChecksum(s){return Vt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let l=parseInt(s.charAt(o-1),10);return Vt.getStandardUPCEANChecksum(s.substring(0,o-1))===l}static getStandardUPCEANChecksum(s){let o=s.length,l=0;for(let c=o-1;c>=0;c-=2){let d=s.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new F;l+=d}l*=3;for(let c=o-2;c>=0;c-=2){let d=s.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new F;l+=d}return(1e3-l)%10}static decodeEnd(s,o){return Vt.findGuardPattern(s,o,!1,Vt.START_END_PATTERN,new Int32Array(Vt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,o,l,c){return this.findGuardPattern(s,o,l,c,new Int32Array(c.length))}static findGuardPattern(s,o,l,c,d){let f=s.getSize();o=l?s.getNextUnset(o):s.getNextSet(o);let x=0,w=o,b=c.length,A=l;for(let k=o;k<f;k++)if(s.get(k)!==A)d[x]++;else{if(x===b-1){if(At.patternMatchVariance(d,c,Vt.MAX_INDIVIDUAL_VARIANCE)<Vt.MAX_AVG_VARIANCE)return Int32Array.from([w,k]);w+=d[0]+d[1];let j=d.slice(2,d.length-1);for(let U=0;U<x-1;U++)d[U]=j[U];d[x-1]=0,d[x]=0,x--}else x++;d[x]=1,A=!A}throw new X}static decodeDigit(s,o,l,c){this.recordPattern(s,l,o);let d=this.MAX_AVG_VARIANCE,f=-1,x=c.length;for(let w=0;w<x;w++){let b=c[w],A=At.patternMatchVariance(o,b,Vt.MAX_INDIVIDUAL_VARIANCE);A<d&&(d=A,f=w)}if(f>=0)return f;throw new X}}Vt.MAX_AVG_VARIANCE=.48,Vt.MAX_INDIVIDUAL_VARIANCE=.7,Vt.START_END_PATTERN=Int32Array.from([1,1,1]),Vt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Vt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Vt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class vl{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,l){let c=this.decodeRowStringBuffer,d=this.decodeMiddle(o,l,c),f=c.toString(),x=vl.parseExtensionString(f),w=[new ve((l[0]+l[1])/2,s),new ve(d,s)],b=new Re(f,null,0,w,de.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&b.putAllMetadata(x),b}decodeMiddle(s,o,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),f=o[1],x=0;for(let b=0;b<5&&f<d;b++){let A=Vt.decodeDigit(s,c,f,Vt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+A%10);for(let k of c)f+=k;A>=10&&(x|=1<<4-b),b!==4&&(f=s.getNextSet(f),f=s.getNextUnset(f))}if(l.length!==5)throw new X;let w=this.determineCheckDigit(x);if(vl.extensionChecksum(l.toString())!==w)throw new X;return f}static extensionChecksum(s){let o=s.length,l=0;for(let c=o-2;c>=0;c-=2)l+=s.charAt(c).charCodeAt(0)-48;l*=3;for(let c=o-1;c>=0;c-=2)l+=s.charAt(c).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(s){for(let o=0;o<10;o++)if(s===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new X}static parseExtensionString(s){if(s.length!==5)return null;let o=vl.parseExtension5String(s);return o==null?null:new Map([[xe.SUGGESTED_PRICE,o]])}static parseExtension5String(s){let o;switch(s.charAt(0)){case"0":o="£";break;case"5":o="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let l=parseInt(s.substring(1)),c=(l/100).toString(),d=l%100,f=d<10?"0"+d:d.toString();return o+c+"."+f}}class th{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,l){let c=this.decodeRowStringBuffer,d=this.decodeMiddle(o,l,c),f=c.toString(),x=th.parseExtensionString(f),w=[new ve((l[0]+l[1])/2,s),new ve(d,s)],b=new Re(f,null,0,w,de.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&b.putAllMetadata(x),b}decodeMiddle(s,o,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),f=o[1],x=0;for(let w=0;w<2&&f<d;w++){let b=Vt.decodeDigit(s,c,f,Vt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+b%10);for(let A of c)f+=A;b>=10&&(x|=1<<1-w),w!==1&&(f=s.getNextSet(f),f=s.getNextUnset(f))}if(l.length!==2)throw new X;if(parseInt(l.toString())%4!==x)throw new X;return f}static parseExtensionString(s){return s.length!==2?null:new Map([[xe.ISSUE_NUMBER,parseInt(s)]])}}class Zg{static decodeRow(s,o,l){let c=Vt.findGuardPattern(o,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new vl().decodeRow(s,o,c)}catch{return new th().decodeRow(s,o,c)}}}Zg.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class lt extends Vt{constructor(){super(),this.decodeRowStringBuffer="",lt.L_AND_G_PATTERNS=lt.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let o=lt.L_PATTERNS[s-10],l=new Int32Array(o.length);for(let c=0;c<o.length;c++)l[c]=o[o.length-c-1];lt.L_AND_G_PATTERNS[s]=l}}decodeRow(s,o,l){let c=lt.findStartGuardPattern(o),d=l==null?null:l.get(V.NEED_RESULT_POINT_CALLBACK);if(d!=null){const oe=new ve((c[0]+c[1])/2,s);d.foundPossibleResultPoint(oe)}let f=this.decodeMiddle(o,c,this.decodeRowStringBuffer),x=f.rowOffset,w=f.resultString;if(d!=null){const oe=new ve(x,s);d.foundPossibleResultPoint(oe)}let b=this.decodeEnd(o,x);if(d!=null){const oe=new ve((b[0]+b[1])/2,s);d.foundPossibleResultPoint(oe)}let A=b[1],k=A+(A-b[0]);if(k>=o.getSize()||!o.isRange(A,k,!1))throw new X;let j=w.toString();if(j.length<8)throw new F;if(!lt.checkChecksum(j))throw new N;let U=(c[1]+c[0])/2,z=(b[1]+b[0])/2,G=this.getBarcodeFormat(),Y=[new ve(U,s),new ve(z,s)],J=new Re(j,null,0,Y,G,new Date().getTime()),le=0;try{let oe=Zg.decodeRow(s,o,b[1]);J.putMetadata(xe.UPC_EAN_EXTENSION,oe.getText()),J.putAllMetadata(oe.getResultMetadata()),J.addResultPoints(oe.getResultPoints()),le=oe.getText().length}catch{}let ce=l==null?null:l.get(V.ALLOWED_EAN_EXTENSIONS);if(ce!=null){let oe=!1;for(let tt in ce)if(le.toString()===tt){oe=!0;break}if(!oe)throw new X}return J}decodeEnd(s,o){return lt.findGuardPattern(s,o,!1,lt.START_END_PATTERN,new Int32Array(lt.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return lt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let l=parseInt(s.charAt(o-1),10);return lt.getStandardUPCEANChecksum(s.substring(0,o-1))===l}static getStandardUPCEANChecksum(s){let o=s.length,l=0;for(let c=o-1;c>=0;c-=2){let d=s.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new F;l+=d}l*=3;for(let c=o-2;c>=0;c-=2){let d=s.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new F;l+=d}return(1e3-l)%10}}class Qi extends lt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),f=o[1],x=0;for(let b=0;b<6&&f<d;b++){let A=lt.decodeDigit(s,c,f,lt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+A%10);for(let k of c)f+=k;A>=10&&(x|=1<<5-b)}l=Qi.determineFirstDigit(l,x),f=lt.findGuardPattern(s,f,!0,lt.MIDDLE_PATTERN,new Int32Array(lt.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<6&&f<d;b++){let A=lt.decodeDigit(s,c,f,lt.L_PATTERNS);l+=String.fromCharCode(48+A);for(let k of c)f+=k}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return de.EAN_13}static determineFirstDigit(s,o){for(let l=0;l<10;l++)if(o===this.FIRST_DIGIT_ENCODINGS[l])return s=String.fromCharCode(48+l)+s,s;throw new X}}Qi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Jg extends lt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,l){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),f=o[1];for(let w=0;w<4&&f<d;w++){let b=lt.decodeDigit(s,c,f,lt.L_PATTERNS);l+=String.fromCharCode(48+b);for(let A of c)f+=A}f=lt.findGuardPattern(s,f,!0,lt.MIDDLE_PATTERN,new Int32Array(lt.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&f<d;w++){let b=lt.decodeDigit(s,c,f,lt.L_PATTERNS);l+=String.fromCharCode(48+b);for(let A of c)f+=A}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return de.EAN_8}}class em extends lt{constructor(){super(...arguments),this.ean13Reader=new Qi}getBarcodeFormat(){return de.UPC_A}decode(s,o){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,o,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,o,l))}decodeMiddle(s,o,l){return this.ean13Reader.decodeMiddle(s,o,l)}maybeReturnResult(s){let o=s.getText();if(o.charAt(0)==="0"){let l=new Re(o.substring(1),null,null,s.getResultPoints(),de.UPC_A);return s.getResultMetadata()!=null&&l.putAllMetadata(s.getResultMetadata()),l}else throw new X}reset(){this.ean13Reader.reset()}}class Dr extends lt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,o,l){const c=this.decodeMiddleCounters.map(b=>b);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const d=s.getSize();let f=o[1],x=0;for(let b=0;b<6&&f<d;b++){const A=Dr.decodeDigit(s,c,f,Dr.L_AND_G_PATTERNS);l+=String.fromCharCode(48+A%10);for(let k of c)f+=k;A>=10&&(x|=1<<5-b)}let w=Dr.determineNumSysAndCheckDigit(l,x);return{rowOffset:f,resultString:w}}decodeEnd(s,o){return Dr.findGuardPatternWithoutCounters(s,o,!0,Dr.MIDDLE_END_PATTERN)}checkChecksum(s){return lt.checkChecksum(Dr.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,o){for(let l=0;l<=1;l++)for(let c=0;c<10;c++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][c]){let d=String.fromCharCode(48+l),f=String.fromCharCode(48+c);return d+s+f}throw X.getNotFoundInstance()}getBarcodeFormat(){return de.UPC_E}static convertUPCEtoUPCA(s){const o=s.slice(1,7).split("").map(d=>d.charCodeAt(0)),l=new se;l.append(s.charAt(0));let c=o[5];switch(c){case 0:case 1:case 2:l.appendChars(o,0,2),l.append(c),l.append("0000"),l.appendChars(o,2,3);break;case 3:l.appendChars(o,0,3),l.append("00000"),l.appendChars(o,3,2);break;case 4:l.appendChars(o,0,4),l.append("00000"),l.append(o[4]);break;default:l.appendChars(o,0,5),l.append("0000"),l.append(c);break}return s.length>=8&&l.append(s.charAt(7)),l.toString()}}Dr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Dr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class nh extends At{constructor(s){super();let o=s==null?null:s.get(V.POSSIBLE_FORMATS),l=[];r(o)?(l.push(new Qi),l.push(new em),l.push(new Jg),l.push(new Dr)):(o.indexOf(de.EAN_13)>-1&&l.push(new Qi),o.indexOf(de.UPC_A)>-1&&l.push(new em),o.indexOf(de.EAN_8)>-1&&l.push(new Jg),o.indexOf(de.UPC_E)>-1&&l.push(new Dr)),this.readers=l}decodeRow(s,o,l){for(let c of this.readers)try{const d=c.decodeRow(s,o,l),f=d.getBarcodeFormat()===de.EAN_13&&d.getText().charAt(0)==="0",x=l==null?null:l.get(V.POSSIBLE_FORMATS),w=x==null||x.includes(de.UPC_A);if(f&&w){const b=d.getRawBytes(),A=new Re(d.getText().substring(1),b,b?b.length:null,d.getResultPoints(),de.UPC_A);return A.putAllMetadata(d.getResultMetadata()),A}return d}catch{}throw new X}reset(){for(let s of this.readers)s.reset()}}class Sn extends At{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,o){for(let l=0;l<o.length;l++)if(At.patternMatchVariance(s,o[l],Sn.MAX_INDIVIDUAL_VARIANCE)<Sn.MAX_AVG_VARIANCE)return l;throw new X}static count(s){return _e.sum(new Int32Array(s))}static increment(s,o){let l=0,c=o[0];for(let d=1;d<s.length;d++)o[d]>c&&(c=o[d],l=d);s[l]++}static decrement(s,o){let l=0,c=o[0];for(let d=1;d<s.length;d++)o[d]<c&&(c=o[d],l=d);s[l]--}static isFinderPattern(s){let o=s[0]+s[1],l=o+s[2]+s[3],c=o/l;if(c>=Sn.MIN_FINDER_PATTERN_RATIO&&c<=Sn.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let x of s)x>f&&(f=x),x<d&&(d=x);return f<10*d}return!1}}Sn.MAX_AVG_VARIANCE=.2,Sn.MAX_INDIVIDUAL_VARIANCE=.45,Sn.MIN_FINDER_PATTERN_RATIO=9.5/12,Sn.MAX_FINDER_PATTERN_RATIO=12.5/14;class zo{constructor(s,o){this.value=s,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof zo))return!1;const o=s;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class su{constructor(s,o,l,c,d){this.value=s,this.startEnd=o,this.value=s,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new ve(l,d)),this.resultPoints.push(new ve(c,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof su))return!1;const o=s;return this.value===o.value}hashCode(){return this.value}}class Zr{constructor(){}static getRSSvalue(s,o,l){let c=0;for(let w of s)c+=w;let d=0,f=0,x=s.length;for(let w=0;w<x-1;w++){let b;for(b=1,f|=1<<w;b<s[w];b++,f&=~(1<<w)){let A=Zr.combins(c-b-1,x-w-2);if(l&&f===0&&c-b-(x-w-1)>=x-w-1&&(A-=Zr.combins(c-b-(x-w),x-w-2)),x-w-1>1){let k=0;for(let j=c-b-(x-w-2);j>o;j--)k+=Zr.combins(c-b-j-1,x-w-3);A-=k*(x-1-w)}else c-b>o&&A--;d+=A}c-=b}return d}static combins(s,o){let l,c;s-o>o?(c=o,l=s-o):(c=s-o,l=o);let d=1,f=1;for(let x=s;x>l;x--)d*=x,f<=c&&(d/=f,f++);for(;f<=c;)d/=f,f++;return d}}class OA{static buildBitArray(s){let o=s.length*2-1;s[s.length-1].getRightChar()==null&&(o-=1);let l=12*o,c=new D(l),d=0,x=s[0].getRightChar().getValue();for(let w=11;w>=0;--w)x&1<<w&&c.set(d),d++;for(let w=1;w<s.length;++w){let b=s[w],A=b.getLeftChar().getValue();for(let k=11;k>=0;--k)A&1<<k&&c.set(d),d++;if(b.getRightChar()!=null){let k=b.getRightChar().getValue();for(let j=11;j>=0;--j)k&1<<j&&c.set(d),d++}}return c}}class Zi{constructor(s,o){o?this.decodedInformation=null:(this.finished=s,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class rh{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Vn extends rh{constructor(s,o){super(s),this.value=o}getValue(){return this.value}isFNC1(){return this.value===Vn.FNC1}}Vn.FNC1="$";class Ji extends rh{constructor(s,o,l){super(s),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class mr extends rh{constructor(s,o,l){if(super(s),o<0||o>10||l<0||l>10)throw new F;this.firstDigit=o,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===mr.FNC1}isSecondDigitFNC1(){return this.secondDigit===mr.FNC1}isAnyFNC1(){return this.firstDigit===mr.FNC1||this.secondDigit===mr.FNC1}}mr.FNC1=10;class be{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new X;let o=s.substring(0,2);for(let d of be.TWO_DIGIT_DATA_LENGTH)if(d[0]===o)return d[1]===be.VARIABLE_LENGTH?be.processVariableAI(2,d[2],s):be.processFixedAI(2,d[1],s);if(s.length<3)throw new X;let l=s.substring(0,3);for(let d of be.THREE_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===be.VARIABLE_LENGTH?be.processVariableAI(3,d[2],s):be.processFixedAI(3,d[1],s);for(let d of be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===be.VARIABLE_LENGTH?be.processVariableAI(4,d[2],s):be.processFixedAI(4,d[1],s);if(s.length<4)throw new X;let c=s.substring(0,4);for(let d of be.FOUR_DIGIT_DATA_LENGTH)if(d[0]===c)return d[1]===be.VARIABLE_LENGTH?be.processVariableAI(4,d[2],s):be.processFixedAI(4,d[1],s);throw new X}static processFixedAI(s,o,l){if(l.length<s)throw new X;let c=l.substring(0,s);if(l.length<s+o)throw new X;let d=l.substring(s,s+o),f=l.substring(s+o),x="("+c+")"+d,w=be.parseFieldsInGeneralPurpose(f);return w==null?x:x+w}static processVariableAI(s,o,l){let c=l.substring(0,s),d;l.length<s+o?d=l.length:d=s+o;let f=l.substring(s,d),x=l.substring(d),w="("+c+")"+f,b=be.parseFieldsInGeneralPurpose(x);return b==null?w:w+b}}be.VARIABLE_LENGTH=[],be.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",be.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",be.VARIABLE_LENGTH,20],["22",be.VARIABLE_LENGTH,29],["30",be.VARIABLE_LENGTH,8],["37",be.VARIABLE_LENGTH,8],["90",be.VARIABLE_LENGTH,30],["91",be.VARIABLE_LENGTH,30],["92",be.VARIABLE_LENGTH,30],["93",be.VARIABLE_LENGTH,30],["94",be.VARIABLE_LENGTH,30],["95",be.VARIABLE_LENGTH,30],["96",be.VARIABLE_LENGTH,30],["97",be.VARIABLE_LENGTH,3],["98",be.VARIABLE_LENGTH,30],["99",be.VARIABLE_LENGTH,30]],be.THREE_DIGIT_DATA_LENGTH=[["240",be.VARIABLE_LENGTH,30],["241",be.VARIABLE_LENGTH,30],["242",be.VARIABLE_LENGTH,6],["250",be.VARIABLE_LENGTH,30],["251",be.VARIABLE_LENGTH,30],["253",be.VARIABLE_LENGTH,17],["254",be.VARIABLE_LENGTH,20],["400",be.VARIABLE_LENGTH,30],["401",be.VARIABLE_LENGTH,30],["402",17],["403",be.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",be.VARIABLE_LENGTH,20],["421",be.VARIABLE_LENGTH,15],["422",3],["423",be.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",be.VARIABLE_LENGTH,15],["391",be.VARIABLE_LENGTH,18],["392",be.VARIABLE_LENGTH,15],["393",be.VARIABLE_LENGTH,18],["703",be.VARIABLE_LENGTH,30]],be.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",be.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",be.VARIABLE_LENGTH,20],["8003",be.VARIABLE_LENGTH,30],["8004",be.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",be.VARIABLE_LENGTH,30],["8008",be.VARIABLE_LENGTH,12],["8018",18],["8020",be.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",be.VARIABLE_LENGTH,70],["8200",be.VARIABLE_LENGTH,70]];class Ho{constructor(s){this.buffer=new se,this.information=s}decodeAllCodes(s,o){let l=o,c=null;do{let d=this.decodeGeneralPurposeField(l,c),f=be.parseFieldsInGeneralPurpose(d.getNewString());if(f!=null&&s.append(f),d.isRemaining()?c=""+d.getRemainingValue():c=null,l===d.getNewPosition())break;l=d.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let o=s;o<s+3;++o)if(this.information.get(o))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(s,4);return d===0?new mr(this.information.getSize(),mr.FNC1,mr.FNC1):new mr(this.information.getSize(),d-1,mr.FNC1)}let o=this.extractNumericValueFromBitArray(s,7),l=(o-8)/11,c=(o-8)%11;return new mr(s+7,l,c)}extractNumericValueFromBitArray(s,o){return Ho.extractNumericValueFromBitArray(this.information,s,o)}static extractNumericValueFromBitArray(s,o,l){let c=0;for(let d=0;d<l;++d)s.get(o+d)&&(c|=1<<l-d-1);return c}decodeGeneralPurposeField(s,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(s);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Ji(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Ji(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,o;do{let l=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),s=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),s=o.isFinished()):(o=this.parseNumericBlock(),s=o.isFinished()),!(l!==this.current.getPosition())&&!s)break}while(!s);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let o;return s.isSecondDigitFNC1()?o=new Ji(this.current.getPosition(),this.buffer.toString()):o=new Ji(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Zi(!0,o)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let o=new Ji(this.current.getPosition(),this.buffer.toString());return new Zi(!0,o)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Zi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new Ji(this.current.getPosition(),this.buffer.toString());return new Zi(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Zi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new Ji(this.current.getPosition(),this.buffer.toString());return new Zi(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Zi(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<116)return!0;if(s+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,8);return c>=232&&c<253}decodeIsoIec646(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new Vn(s+5,Vn.FNC1);if(o>=5&&o<15)return new Vn(s+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<90)return new Vn(s+7,""+(l+1));if(l>=90&&l<116)return new Vn(s+7,""+(l+7));let c=this.extractNumericValueFromBitArray(s,8),d;switch(c){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new F}return new Vn(s+8,d)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,6);return l>=16&&l<63}decodeAlphanumeric(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new Vn(s+5,Vn.FNC1);if(o>=5&&o<15)return new Vn(s+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(s,6);if(l>=32&&l<58)return new Vn(s+6,""+(l+33));let c;switch(l){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new We("Decoding invalid alphanumeric value: "+l)}return new Vn(s+6,c)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<5&&o+s<this.information.getSize();++o)if(o===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+o))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let o=s;o<s+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<4&&o+s<this.information.getSize();++o)if(this.information.get(s+o))return!1;return!0}}class sh{constructor(s){this.information=s,this.generalDecoder=new Ho(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class zn extends sh{constructor(s){super(s)}encodeCompressedGtin(s,o){s.append("(01)");let l=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,o,l)}encodeCompressedGtinWithoutAI(s,o,l){for(let c=0;c<4;++c){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*c,10);d/100===0&&s.append("0"),d/10===0&&s.append("0"),s.append(d)}zn.appendCheckDigit(s,l)}static appendCheckDigit(s,o){let l=0;for(let c=0;c<13;c++){let d=s.charAt(c+o).charCodeAt(0)-48;l+=c&1?d:3*d}l=10-l%10,l===10&&(l=0),s.append(l)}}zn.GTIN_SIZE=40;class $o extends zn{constructor(s){super(s)}parseInformation(){let s=new se;s.append("(01)");let o=s.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray($o.HEADER_SIZE,4);return s.append(l),this.encodeCompressedGtinWithoutAI(s,$o.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(s,$o.HEADER_SIZE+44)}}$o.HEADER_SIZE=4;class iu extends sh{constructor(s){super(s)}parseInformation(){let s=new se;return this.getGeneralDecoder().decodeAllCodes(s,iu.HEADER_SIZE)}}iu.HEADER_SIZE=5;class ou extends zn{constructor(s){super(s)}encodeCompressedWeight(s,o,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,l);this.addWeightCode(s,c);let d=this.checkWeight(c),f=1e5;for(let x=0;x<5;++x)d/f===0&&s.append("0"),f/=10;s.append(d)}}class Jr extends ou{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=Jr.HEADER_SIZE+ou.GTIN_SIZE+Jr.WEIGHT_SIZE)throw new X;let s=new se;return this.encodeCompressedGtin(s,Jr.HEADER_SIZE),this.encodeCompressedWeight(s,Jr.HEADER_SIZE+ou.GTIN_SIZE,Jr.WEIGHT_SIZE),s.toString()}}Jr.HEADER_SIZE=5,Jr.WEIGHT_SIZE=15;class kA extends Jr{constructor(s){super(s)}addWeightCode(s,o){s.append("(3103)")}checkWeight(s){return s}}class PA extends Jr{constructor(s){super(s)}addWeightCode(s,o){o<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class es extends zn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<es.HEADER_SIZE+zn.GTIN_SIZE)throw new X;let s=new se;this.encodeCompressedGtin(s,es.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(es.HEADER_SIZE+zn.GTIN_SIZE,es.LAST_DIGIT_SIZE);s.append("(392"),s.append(o),s.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(es.HEADER_SIZE+zn.GTIN_SIZE+es.LAST_DIGIT_SIZE,null);return s.append(l.getNewString()),s.toString()}}es.HEADER_SIZE=8,es.LAST_DIGIT_SIZE=2;class kn extends zn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<kn.HEADER_SIZE+zn.GTIN_SIZE)throw new X;let s=new se;this.encodeCompressedGtin(s,kn.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(kn.HEADER_SIZE+zn.GTIN_SIZE,kn.LAST_DIGIT_SIZE);s.append("(393"),s.append(o),s.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(kn.HEADER_SIZE+zn.GTIN_SIZE+kn.LAST_DIGIT_SIZE,kn.FIRST_THREE_DIGITS_SIZE);l/100==0&&s.append("0"),l/10==0&&s.append("0"),s.append(l);let c=this.getGeneralDecoder().decodeGeneralPurposeField(kn.HEADER_SIZE+zn.GTIN_SIZE+kn.LAST_DIGIT_SIZE+kn.FIRST_THREE_DIGITS_SIZE,null);return s.append(c.getNewString()),s.toString()}}kn.HEADER_SIZE=8,kn.LAST_DIGIT_SIZE=2,kn.FIRST_THREE_DIGITS_SIZE=10;class Mt extends ou{constructor(s,o,l){super(s),this.dateCode=l,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Mt.HEADER_SIZE+Mt.GTIN_SIZE+Mt.WEIGHT_SIZE+Mt.DATE_SIZE)throw new X;let s=new se;return this.encodeCompressedGtin(s,Mt.HEADER_SIZE),this.encodeCompressedWeight(s,Mt.HEADER_SIZE+Mt.GTIN_SIZE,Mt.WEIGHT_SIZE),this.encodeCompressedDate(s,Mt.HEADER_SIZE+Mt.GTIN_SIZE+Mt.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Mt.DATE_SIZE);if(l==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let c=l%32;l/=32;let d=l%12+1;l/=12;let f=l;f/10==0&&s.append("0"),s.append(f),d/10==0&&s.append("0"),s.append(d),c/10==0&&s.append("0"),s.append(c)}addWeightCode(s,o){s.append("("),s.append(this.firstAIdigits),s.append(o/1e5),s.append(")")}checkWeight(s){return s%1e5}}Mt.HEADER_SIZE=8,Mt.WEIGHT_SIZE=20,Mt.DATE_SIZE=16;function tm(R){try{if(R.get(1))return new $o(R);if(!R.get(2))return new iu(R);switch(Ho.extractNumericValueFromBitArray(R,1,4)){case 4:return new kA(R);case 5:return new PA(R)}switch(Ho.extractNumericValueFromBitArray(R,1,5)){case 12:return new es(R);case 13:return new kn(R)}switch(Ho.extractNumericValueFromBitArray(R,1,7)){case 56:return new Mt(R,"310","11");case 57:return new Mt(R,"320","11");case 58:return new Mt(R,"310","13");case 59:return new Mt(R,"320","13");case 60:return new Mt(R,"310","15");case 61:return new Mt(R,"320","15");case 62:return new Mt(R,"310","17");case 63:return new Mt(R,"320","17")}}catch(s){throw console.log(s),new We("unknown decoder: "+R)}}class $s{constructor(s,o,l,c){this.leftchar=s,this.rightchar=o,this.finderpattern=l,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,o){return s instanceof $s?$s.equalsOrNull(s.leftchar,o.leftchar)&&$s.equalsOrNull(s.rightchar,o.rightchar)&&$s.equalsOrNull(s.finderpattern,o.finderpattern):!1}static equalsOrNull(s,o){return s===null?o===null:$s.equals(s,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ih{constructor(s,o,l){this.pairs=s,this.rowNumber=o,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,o){return s instanceof ih?this.checkEqualitity(s,o)&&s.wasReversed===o.wasReversed:!1}checkEqualitity(s,o){if(!s||!o)return;let l;return s.forEach((c,d)=>{o.forEach(f=>{c.getLeftChar().getValue()===f.getLeftChar().getValue()&&c.getRightChar().getValue()===f.getRightChar().getValue()&&c.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(l=!0)})}),l}}class ie extends Sn{constructor(s){super(...arguments),this.pairs=new Array(ie.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,o,l){this.pairs.length=0,this.startFromEven=!1;try{return ie.constructResult(this.decodeRow2pairs(s,o))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,ie.constructResult(this.decodeRow2pairs(s,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,o){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,s))}catch(d){if(d instanceof X){if(!this.pairs.length)throw new X;l=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(s,!1),c){let d=this.checkRowsBoolean(!1);if(d!=null||(d=this.checkRowsBoolean(!0),d!=null))return d}throw new X}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return s&&(this.rows=this.rows.reverse()),o}checkRows(s,o){for(let l=o;l<this.rows.length;l++){let c=this.rows[l];this.pairs.length=0;for(let f of s)this.pairs.push(f.getPairs());if(this.pairs.push(c.getPairs()),!ie.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(s);d.push(c);try{return this.checkRows(d,l+1)}catch(f){this.verbose&&console.log(f)}}throw new X}static isValidSequence(s){for(let o of ie.FINDER_PATTERN_SEQUENCES){if(s.length>o.length)continue;let l=!0;for(let c=0;c<s.length;c++)if(s[c].getFinderPattern().getValue()!=o[c]){l=!1;break}if(l)return!0}return!1}storeRow(s,o){let l=0,c=!1,d=!1;for(;l<this.rows.length;){let f=this.rows[l];if(f.getRowNumber()>s){d=f.isEquivalent(this.pairs);break}c=f.isEquivalent(this.pairs),l++}d||c||ie.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new ih(this.pairs,s,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,o){for(let l of o)if(l.getPairs().length!==s.length){for(let c of l.getPairs())for(let d of s)if($s.equals(c,d))break}}static isPartialRow(s,o){for(let l of o){let c=!0;for(let d of s){let f=!1;for(let x of l.getPairs())if(d.equals(x)){f=!0;break}if(!f){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(s){let o=OA.buildBitArray(s),c=tm(o).parseInformation(),d=s[0].getFinderPattern().getResultPoints(),f=s[s.length-1].getFinderPattern().getResultPoints(),x=[d[0],d[1],f[0],f[1]];return new Re(c,null,null,x,de.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),o=s.getLeftChar(),l=s.getRightChar();if(l==null)return!1;let c=l.getChecksumPortion(),d=2;for(let x=1;x<this.pairs.size();++x){let w=this.pairs.get(x);c+=w.getLeftChar().getChecksumPortion(),d++;let b=w.getRightChar();b!=null&&(c+=b.getChecksumPortion(),d++)}return c%=211,211*(d-4)+c==o.getValue()}static getNextSecondBar(s,o){let l;return s.get(o)?(l=s.getNextUnset(o),l=s.getNextSet(l)):(l=s.getNextSet(o),l=s.getNextUnset(l)),l}retrieveNextPair(s,o,l){let c=o.length%2==0;this.startFromEven&&(c=!c);let d,f=!0,x=-1;do this.findNextPair(s,o,x),d=this.parseFoundFinderPattern(s,l,c),d==null?x=ie.getNextSecondBar(s,this.startEnd[0]):f=!1;while(f);let w=this.decodeDataCharacter(s,d,c,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new X;let b;try{b=this.decodeDataCharacter(s,d,c,!1)}catch(A){b=null,this.verbose&&console.log(A)}return new $s(w,b,d,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,o,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),f;l>=0?f=l:this.isEmptyPair(o)?f=0:f=o[o.length-1].getFinderPattern().getStartEnd()[1];let x=o.length%2!=0;this.startFromEven&&(x=!x);let w=!1;for(;f<d&&(w=!s.get(f),!!w);)f++;let b=0,A=f;for(let k=f;k<d;k++)if(s.get(k)!=w)c[b]++;else{if(b==3){if(x&&ie.reverseCounters(c),ie.isFinderPattern(c)){this.startEnd[0]=A,this.startEnd[1]=k;return}x&&ie.reverseCounters(c),A+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,b--}else b++;c[b]=1,w=!w}throw new X}static reverseCounters(s){let o=s.length;for(let l=0;l<o/2;++l){let c=s[l];s[l]=s[o-l-1],s[o-l-1]=c}}parseFoundFinderPattern(s,o,l){let c,d,f;if(l){let b=this.startEnd[0]-1;for(;b>=0&&!s.get(b);)b--;b++,c=this.startEnd[0]-b,d=b,f=this.startEnd[1]}else d=this.startEnd[0],f=s.getNextUnset(this.startEnd[1]+1),c=f-this.startEnd[1];let x=this.getDecodeFinderCounters();T.arraycopy(x,0,x,1,x.length-1),x[0]=c;let w;try{w=this.parseFinderValue(x,ie.FINDER_PATTERNS)}catch{return null}return new su(w,[d,f],d,f,o)}decodeDataCharacter(s,o,l,c){let d=this.getDataCharacterCounters();for(let Ct=0;Ct<d.length;Ct++)d[Ct]=0;if(c)ie.recordPatternInReverse(s,o.getStartEnd()[0],d);else{ie.recordPattern(s,o.getStartEnd()[1],d);for(let Ct=0,yn=d.length-1;Ct<yn;Ct++,yn--){let rr=d[Ct];d[Ct]=d[yn],d[yn]=rr}}let f=17,x=_e.sum(new Int32Array(d))/f,w=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(x-w)/w>.3)throw new X;let b=this.getOddCounts(),A=this.getEvenCounts(),k=this.getOddRoundingErrors(),j=this.getEvenRoundingErrors();for(let Ct=0;Ct<d.length;Ct++){let yn=1*d[Ct]/x,rr=yn+.5;if(rr<1){if(yn<.3)throw new X;rr=1}else if(rr>8){if(yn>8.7)throw new X;rr=8}let Ko=Ct/2;Ct&1?(A[Ko]=rr,j[Ko]=yn-rr):(b[Ko]=rr,k[Ko]=yn-rr)}this.adjustOddEvenCounts(f);let U=4*o.getValue()+(l?0:2)+(c?0:1)-1,z=0,G=0;for(let Ct=b.length-1;Ct>=0;Ct--){if(ie.isNotA1left(o,l,c)){let yn=ie.WEIGHTS[U][2*Ct];G+=b[Ct]*yn}z+=b[Ct]}let Y=0;for(let Ct=A.length-1;Ct>=0;Ct--)if(ie.isNotA1left(o,l,c)){let yn=ie.WEIGHTS[U][2*Ct+1];Y+=A[Ct]*yn}let J=G+Y;if(z&1||z>13||z<4)throw new X;let le=(13-z)/2,ce=ie.SYMBOL_WIDEST[le],oe=9-ce,tt=Zr.getRSSvalue(b,ce,!0),$e=Zr.getRSSvalue(A,oe,!1),$n=ie.EVEN_TOTAL_SUBSET[le],Mr=ie.GSUM[le],Gn=tt*$n+$e+Mr;return new zo(Gn,J)}static isNotA1left(s,o,l){return!(s.getValue()==0&&o&&l)}adjustOddEvenCounts(s){let o=_e.sum(new Int32Array(this.getOddCounts())),l=_e.sum(new Int32Array(this.getEvenCounts())),c=!1,d=!1;o>13?d=!0:o<4&&(c=!0);let f=!1,x=!1;l>13?x=!0:l<4&&(f=!0);let w=o+l-s,b=(o&1)==1,A=(l&1)==0;if(w==1)if(b){if(A)throw new X;d=!0}else{if(!A)throw new X;x=!0}else if(w==-1)if(b){if(A)throw new X;c=!0}else{if(!A)throw new X;f=!0}else if(w==0){if(b){if(!A)throw new X;o<l?(c=!0,x=!0):(d=!0,f=!0)}else if(A)throw new X}else throw new X;if(c){if(d)throw new X;ie.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&ie.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(x)throw new X;ie.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&ie.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ie.SYMBOL_WIDEST=[7,5,4,3,1],ie.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ie.GSUM=[0,348,1388,2948,3988],ie.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ie.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ie.FINDER_PAT_A=0,ie.FINDER_PAT_B=1,ie.FINDER_PAT_C=2,ie.FINDER_PAT_D=3,ie.FINDER_PAT_E=4,ie.FINDER_PAT_F=5,ie.FINDER_PATTERN_SEQUENCES=[[ie.FINDER_PAT_A,ie.FINDER_PAT_A],[ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B],[ie.FINDER_PAT_A,ie.FINDER_PAT_C,ie.FINDER_PAT_B,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_C],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F]],ie.MAX_PAIRS=11;class DA extends zo{constructor(s,o,l){super(s,o),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class zt extends Sn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,o,l){const c=this.decodePair(o,!1,s,l);zt.addOrTally(this.possibleLeftPairs,c),o.reverse();let d=this.decodePair(o,!0,s,l);zt.addOrTally(this.possibleRightPairs,d),o.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&zt.checkChecksum(f,x))return zt.constructResult(f,x)}throw new X}static addOrTally(s,o){if(o==null)return;let l=!1;for(let c of s)if(c.getValue()===o.getValue()){c.incrementCount(),l=!0;break}l||s.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,o){let l=4537077*s.getValue()+o.getValue(),c=new String(l).toString(),d=new se;for(let b=13-c.length;b>0;b--)d.append("0");d.append(c);let f=0;for(let b=0;b<13;b++){let A=d.charAt(b).charCodeAt(0)-48;f+=b&1?A:3*A}f=10-f%10,f===10&&(f=0),d.append(f.toString());let x=s.getFinderPattern().getResultPoints(),w=o.getFinderPattern().getResultPoints();return new Re(d.toString(),null,0,[x[0],x[1],w[0],w[1]],de.RSS_14,new Date().getTime())}static checkChecksum(s,o){let l=(s.getChecksumPortion()+16*o.getChecksumPortion())%79,c=9*s.getFinderPattern().getValue()+o.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,l===c}decodePair(s,o,l,c){try{let d=this.findFinderPattern(s,o),f=this.parseFoundFinderPattern(s,l,o,d),x=c==null?null:c.get(V.NEED_RESULT_POINT_CALLBACK);if(x!=null){let A=(d[0]+d[1])/2;o&&(A=s.getSize()-1-A),x.foundPossibleResultPoint(new ve(A,l))}let w=this.decodeDataCharacter(s,f,!0),b=this.decodeDataCharacter(s,f,!1);return new DA(1597*w.getValue()+b.getValue(),w.getChecksumPortion()+4*b.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(s,o,l){let c=this.getDataCharacterCounters();for(let Y=0;Y<c.length;Y++)c[Y]=0;if(l)At.recordPatternInReverse(s,o.getStartEnd()[0],c);else{At.recordPattern(s,o.getStartEnd()[1]+1,c);for(let Y=0,J=c.length-1;Y<J;Y++,J--){let le=c[Y];c[Y]=c[J],c[J]=le}}let d=l?16:15,f=_e.sum(new Int32Array(c))/d,x=this.getOddCounts(),w=this.getEvenCounts(),b=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let Y=0;Y<c.length;Y++){let J=c[Y]/f,le=Math.floor(J+.5);le<1?le=1:le>8&&(le=8);let ce=Math.floor(Y/2);Y&1?(w[ce]=le,A[ce]=J-le):(x[ce]=le,b[ce]=J-le)}this.adjustOddEvenCounts(l,d);let k=0,j=0;for(let Y=x.length-1;Y>=0;Y--)j*=9,j+=x[Y],k+=x[Y];let U=0,z=0;for(let Y=w.length-1;Y>=0;Y--)U*=9,U+=w[Y],z+=w[Y];let G=j+3*U;if(l){if(k&1||k>12||k<4)throw new X;let Y=(12-k)/2,J=zt.OUTSIDE_ODD_WIDEST[Y],le=9-J,ce=Zr.getRSSvalue(x,J,!1),oe=Zr.getRSSvalue(w,le,!0),tt=zt.OUTSIDE_EVEN_TOTAL_SUBSET[Y],$e=zt.OUTSIDE_GSUM[Y];return new zo(ce*tt+oe+$e,G)}else{if(z&1||z>10||z<4)throw new X;let Y=(10-z)/2,J=zt.INSIDE_ODD_WIDEST[Y],le=9-J,ce=Zr.getRSSvalue(x,J,!0),oe=Zr.getRSSvalue(w,le,!1),tt=zt.INSIDE_ODD_TOTAL_SUBSET[Y],$e=zt.INSIDE_GSUM[Y];return new zo(oe*tt+ce+$e,G)}}findFinderPattern(s,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=s.getSize(),d=!1,f=0;for(;f<c&&(d=!s.get(f),o!==d);)f++;let x=0,w=f;for(let b=f;b<c;b++)if(s.get(b)!==d)l[x]++;else{if(x===3){if(Sn.isFinderPattern(l))return[w,b];w+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,x--}else x++;l[x]=1,d=!d}throw new X}parseFoundFinderPattern(s,o,l,c){let d=s.get(c[0]),f=c[0]-1;for(;f>=0&&d!==s.get(f);)f--;f++;const x=c[0]-f,w=this.getDecodeFinderCounters(),b=new Int32Array(w.length);T.arraycopy(w,0,b,1,w.length-1),b[0]=x;const A=this.parseFinderValue(b,zt.FINDER_PATTERNS);let k=f,j=c[1];return l&&(k=s.getSize()-1-k,j=s.getSize()-1-j),new su(A,[f,c[1]],k,j,o)}adjustOddEvenCounts(s,o){let l=_e.sum(new Int32Array(this.getOddCounts())),c=_e.sum(new Int32Array(this.getEvenCounts())),d=!1,f=!1,x=!1,w=!1;s?(l>12?f=!0:l<4&&(d=!0),c>12?w=!0:c<4&&(x=!0)):(l>11?f=!0:l<5&&(d=!0),c>10?w=!0:c<4&&(x=!0));let b=l+c-o,A=(l&1)===(s?1:0),k=(c&1)===1;if(b===1)if(A){if(k)throw new X;f=!0}else{if(!k)throw new X;w=!0}else if(b===-1)if(A){if(k)throw new X;d=!0}else{if(!k)throw new X;x=!0}else if(b===0){if(A){if(!k)throw new X;l<c?(d=!0,w=!0):(f=!0,x=!0)}else if(k)throw new X}else throw new X;if(d){if(f)throw new X;Sn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Sn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(w)throw new X;Sn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&Sn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}zt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],zt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],zt.OUTSIDE_GSUM=[0,161,961,2015,2715],zt.INSIDE_GSUM=[0,336,1036,1516],zt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],zt.INSIDE_ODD_WIDEST=[2,4,6,8],zt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Go extends At{constructor(s,o){super(),this.readers=[],this.verbose=o===!0;const l=s?s.get(V.POSSIBLE_FORMATS):null,c=s&&s.get(V.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(de.EAN_13)||l.includes(de.UPC_A)||l.includes(de.EAN_8)||l.includes(de.UPC_E))&&this.readers.push(new nh(s)),l.includes(de.CODE_39)&&this.readers.push(new nn(c)),l.includes(de.CODE_128)&&this.readers.push(new pe),l.includes(de.ITF)&&this.readers.push(new vt),l.includes(de.RSS_14)&&this.readers.push(new zt),l.includes(de.RSS_EXPANDED)&&this.readers.push(new ie(this.verbose))):(this.readers.push(new nh(s)),this.readers.push(new nn),this.readers.push(new nh(s)),this.readers.push(new pe),this.readers.push(new vt),this.readers.push(new zt),this.readers.push(new ie(this.verbose)))}decodeRow(s,o,l){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(s,o,l)}catch{}throw new X}reset(){this.readers.forEach(s=>s.reset())}}class MA extends we{constructor(s=500,o){super(new Go(o),s,o)}}class ht{constructor(s,o,l){this.ecCodewords=s,this.ecBlocks=[o],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ct{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class rt{constructor(s,o,l,c,d,f){this.versionNumber=s,this.symbolSizeRows=o,this.symbolSizeColumns=l,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=d,this.ecBlocks=f;let x=0;const w=f.getECCodewords(),b=f.getECBlocks();for(let A of b)x+=A.getCount()*(A.getDataCodewords()+w);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,o){if(s&1||o&1)throw new F;for(let l of rt.VERSIONS)if(l.symbolSizeRows===s&&l.symbolSizeColumns===o)return l;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new rt(1,10,10,8,8,new ht(5,new ct(1,3))),new rt(2,12,12,10,10,new ht(7,new ct(1,5))),new rt(3,14,14,12,12,new ht(10,new ct(1,8))),new rt(4,16,16,14,14,new ht(12,new ct(1,12))),new rt(5,18,18,16,16,new ht(14,new ct(1,18))),new rt(6,20,20,18,18,new ht(18,new ct(1,22))),new rt(7,22,22,20,20,new ht(20,new ct(1,30))),new rt(8,24,24,22,22,new ht(24,new ct(1,36))),new rt(9,26,26,24,24,new ht(28,new ct(1,44))),new rt(10,32,32,14,14,new ht(36,new ct(1,62))),new rt(11,36,36,16,16,new ht(42,new ct(1,86))),new rt(12,40,40,18,18,new ht(48,new ct(1,114))),new rt(13,44,44,20,20,new ht(56,new ct(1,144))),new rt(14,48,48,22,22,new ht(68,new ct(1,174))),new rt(15,52,52,24,24,new ht(42,new ct(2,102))),new rt(16,64,64,14,14,new ht(56,new ct(2,140))),new rt(17,72,72,16,16,new ht(36,new ct(4,92))),new rt(18,80,80,18,18,new ht(48,new ct(4,114))),new rt(19,88,88,20,20,new ht(56,new ct(4,144))),new rt(20,96,96,22,22,new ht(68,new ct(4,174))),new rt(21,104,104,24,24,new ht(56,new ct(6,136))),new rt(22,120,120,18,18,new ht(68,new ct(6,175))),new rt(23,132,132,20,20,new ht(62,new ct(8,163))),new rt(24,144,144,22,22,new ht(62,new ct(8,156),new ct(2,155))),new rt(25,8,18,6,16,new ht(7,new ct(1,5))),new rt(26,8,32,6,14,new ht(11,new ct(1,10))),new rt(27,12,26,10,24,new ht(14,new ct(1,16))),new rt(28,12,36,10,16,new ht(18,new ct(1,22))),new rt(29,16,36,14,16,new ht(24,new ct(1,32))),new rt(30,16,48,14,22,new ht(28,new ct(1,49)))]}}rt.VERSIONS=rt.buildVersions();class oh{constructor(s){const o=s.getHeight();if(o<8||o>144||o&1)throw new F;this.version=oh.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new re(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const o=s.getHeight(),l=s.getWidth();return rt.getVersionForDimensions(o,l)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let o=0,l=4,c=0;const d=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let x=!1,w=!1,b=!1,A=!1;do if(l===d&&c===0&&!x)s[o++]=this.readCorner1(d,f)&255,l-=2,c+=2,x=!0;else if(l===d-2&&c===0&&f&3&&!w)s[o++]=this.readCorner2(d,f)&255,l-=2,c+=2,w=!0;else if(l===d+4&&c===2&&!(f&7)&&!b)s[o++]=this.readCorner3(d,f)&255,l-=2,c+=2,b=!0;else if(l===d-2&&c===0&&(f&7)===4&&!A)s[o++]=this.readCorner4(d,f)&255,l-=2,c+=2,A=!0;else{do l<d&&c>=0&&!this.readMappingMatrix.get(c,l)&&(s[o++]=this.readUtah(l,c,d,f)&255),l-=2,c+=2;while(l>=0&&c<f);l+=1,c+=3;do l>=0&&c<f&&!this.readMappingMatrix.get(c,l)&&(s[o++]=this.readUtah(l,c,d,f)&255),l+=2,c-=2;while(l<d&&c>=0);l+=3,c+=1}while(l<d||c<f);if(o!==this.version.getTotalCodewords())throw new F;return s}readModule(s,o,l,c){return s<0&&(s+=l,o+=4-(l+4&7)),o<0&&(o+=c,s+=4-(c+4&7)),this.readMappingMatrix.set(o,s),this.mappingBitMatrix.get(o,s)}readUtah(s,o,l,c){let d=0;return this.readModule(s-2,o-2,l,c)&&(d|=1),d<<=1,this.readModule(s-2,o-1,l,c)&&(d|=1),d<<=1,this.readModule(s-1,o-2,l,c)&&(d|=1),d<<=1,this.readModule(s-1,o-1,l,c)&&(d|=1),d<<=1,this.readModule(s-1,o,l,c)&&(d|=1),d<<=1,this.readModule(s,o-2,l,c)&&(d|=1),d<<=1,this.readModule(s,o-1,l,c)&&(d|=1),d<<=1,this.readModule(s,o,l,c)&&(d|=1),d}readCorner1(s,o){let l=0;return this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,1,s,o)&&(l|=1),l<<=1,this.readModule(s-1,2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(2,o-1,s,o)&&(l|=1),l<<=1,this.readModule(3,o-1,s,o)&&(l|=1),l}readCorner2(s,o){let l=0;return this.readModule(s-3,0,s,o)&&(l|=1),l<<=1,this.readModule(s-2,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(0,o-4,s,o)&&(l|=1),l<<=1,this.readModule(0,o-3,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l}readCorner3(s,o){let l=0;return this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(0,o-3,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-3,s,o)&&(l|=1),l<<=1,this.readModule(1,o-2,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l}readCorner4(s,o){let l=0;return this.readModule(s-3,0,s,o)&&(l|=1),l<<=1,this.readModule(s-2,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(2,o-1,s,o)&&(l|=1),l<<=1,this.readModule(3,o-1,s,o)&&(l|=1),l}extractDataRegion(s){const o=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(s.getHeight()!==o)throw new v("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),f=o/c|0,x=l/d|0,w=f*c,b=x*d,A=new re(b,w);for(let k=0;k<f;++k){const j=k*c;for(let U=0;U<x;++U){const z=U*d;for(let G=0;G<c;++G){const Y=k*(c+2)+1+G,J=j+G;for(let le=0;le<d;++le){const ce=U*(d+2)+1+le;if(s.get(ce,Y)){const oe=z+le;A.set(oe,J)}}}}}return A}}class ah{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o){const l=o.getECBlocks();let c=0;const d=l.getECBlocks();for(let G of d)c+=G.getCount();const f=new Array(c);let x=0;for(let G of d)for(let Y=0;Y<G.getCount();Y++){const J=G.getDataCodewords(),le=l.getECCodewords()+J;f[x++]=new ah(J,new Uint8Array(le))}const b=f[0].codewords.length-l.getECCodewords(),A=b-1;let k=0;for(let G=0;G<A;G++)for(let Y=0;Y<x;Y++)f[Y].codewords[G]=s[k++];const j=o.getVersionNumber()===24,U=j?8:x;for(let G=0;G<U;G++)f[G].codewords[b-1]=s[k++];const z=f[0].codewords.length;for(let G=b;G<z;G++)for(let Y=0;Y<x;Y++){const J=j?(Y+8)%x:Y,le=j&&J>7?G-1:G;f[J].codewords[le]=s[k++]}if(k!==s.length)throw new v;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class lh{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new v(""+s);let o=0,l=this.bitOffset,c=this.byteOffset;const d=this.bytes;if(l>0){const f=8-l,x=s<f?s:f,w=f-x,b=255>>8-x<<w;o=(d[c]&b)>>w,s-=x,l+=x,l===8&&(l=0,c++)}if(s>0){for(;s>=8;)o=o<<8|d[c]&255,c++,s-=8;if(s>0){const f=8-s,x=255>>f<<f;o=o<<s|(d[c]&x)>>f,l+=s}}return this.bitOffset=l,this.byteOffset=c,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var rn;(function(R){R[R.PAD_ENCODE=0]="PAD_ENCODE",R[R.ASCII_ENCODE=1]="ASCII_ENCODE",R[R.C40_ENCODE=2]="C40_ENCODE",R[R.TEXT_ENCODE=3]="TEXT_ENCODE",R[R.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",R[R.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",R[R.BASE256_ENCODE=6]="BASE256_ENCODE"})(rn||(rn={}));class Gs{static decode(s){const o=new lh(s),l=new se,c=new se,d=new Array;let f=rn.ASCII_ENCODE;do if(f===rn.ASCII_ENCODE)f=this.decodeAsciiSegment(o,l,c);else{switch(f){case rn.C40_ENCODE:this.decodeC40Segment(o,l);break;case rn.TEXT_ENCODE:this.decodeTextSegment(o,l);break;case rn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,l);break;case rn.EDIFACT_ENCODE:this.decodeEdifactSegment(o,l);break;case rn.BASE256_ENCODE:this.decodeBase256Segment(o,l,d);break;default:throw new F}f=rn.ASCII_ENCODE}while(f!==rn.PAD_ENCODE&&o.available()>0);return c.length()>0&&l.append(c.toString()),new Pe(s,l.toString(),d.length===0?null:d,null)}static decodeAsciiSegment(s,o,l){let c=!1;do{let d=s.readBits(8);if(d===0)throw new F;if(d<=128)return c&&(d+=128),o.append(String.fromCharCode(d-1)),rn.ASCII_ENCODE;if(d===129)return rn.PAD_ENCODE;if(d<=229){const f=d-130;f<10&&o.append("0"),o.append(""+f)}else switch(d){case 230:return rn.C40_ENCODE;case 231:return rn.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:o.append("[)>05"),l.insert(0,"");break;case 237:o.append("[)>06"),l.insert(0,"");break;case 238:return rn.ANSIX12_ENCODE;case 239:return rn.TEXT_ENCODE;case 240:return rn.EDIFACT_ENCODE;case 241:break;default:if(d!==254||s.available()!==0)throw new F;break}}while(s.available()>0);return rn.ASCII_ENCODE}static decodeC40Segment(s,o){let l=!1;const c=[];let d=0;do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let x=0;x<3;x++){const w=c[x];switch(d){case 0:if(w<3)d=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const b=this.C40_BASIC_SET_CHARS[w];l?(o.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):o.append(b)}else throw new F;break;case 1:l?(o.append(String.fromCharCode(w+128)),l=!1):o.append(String.fromCharCode(w)),d=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const b=this.C40_SHIFT2_SET_CHARS[w];l?(o.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):o.append(b)}else switch(w){case 27:o.append("");break;case 30:l=!0;break;default:throw new F}d=0;break;case 3:l?(o.append(String.fromCharCode(w+224)),l=!1):o.append(String.fromCharCode(w+96)),d=0;break;default:throw new F}}}while(s.available()>0)}static decodeTextSegment(s,o){let l=!1,c=[],d=0;do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let x=0;x<3;x++){const w=c[x];switch(d){case 0:if(w<3)d=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const b=this.TEXT_BASIC_SET_CHARS[w];l?(o.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):o.append(b)}else throw new F;break;case 1:l?(o.append(String.fromCharCode(w+128)),l=!1):o.append(String.fromCharCode(w)),d=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const b=this.TEXT_SHIFT2_SET_CHARS[w];l?(o.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):o.append(b)}else switch(w){case 27:o.append("");break;case 30:l=!0;break;default:throw new F}d=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const b=this.TEXT_SHIFT3_SET_CHARS[w];l?(o.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):o.append(b),d=0}else throw new F;break;default:throw new F}}}while(s.available()>0)}static decodeAnsiX12Segment(s,o){const l=[];do{if(s.available()===8)return;const c=s.readBits(8);if(c===254)return;this.parseTwoBytes(c,s.readBits(8),l);for(let d=0;d<3;d++){const f=l[d];switch(f){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(f<14)o.append(String.fromCharCode(f+44));else if(f<40)o.append(String.fromCharCode(f+51));else throw new F;break}}}while(s.available()>0)}static parseTwoBytes(s,o,l){let c=(s<<8)+o-1,d=Math.floor(c/1600);l[0]=d,c-=d*1600,d=Math.floor(c/40),l[1]=d,l[2]=c-d*40}static decodeEdifactSegment(s,o){do{if(s.available()<=16)return;for(let l=0;l<4;l++){let c=s.readBits(6);if(c===31){const d=8-s.getBitOffset();d!==8&&s.readBits(d);return}c&32||(c|=64),o.append(String.fromCharCode(c))}}while(s.available()>0)}static decodeBase256Segment(s,o,l){let c=1+s.getByteOffset();const d=this.unrandomize255State(s.readBits(8),c++);let f;if(d===0?f=s.available()/8|0:d<250?f=d:f=250*(d-249)+this.unrandomize255State(s.readBits(8),c++),f<0)throw new F;const x=new Uint8Array(f);for(let w=0;w<f;w++){if(s.available()<8)throw new F;x[w]=this.unrandomize255State(s.readBits(8),c++)}l.push(x);try{o.append(ee.decode(x,q.ISO88591))}catch(w){throw new We("Platform does not support required encoding: "+w.message)}}static unrandomize255State(s,o){const l=149*o%255+1,c=s-l;return c>=0?c:c+256}}Gs.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Gs.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Gs.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Gs.TEXT_SHIFT2_SET_CHARS=Gs.C40_SHIFT2_SET_CHARS,Gs.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class jA{constructor(){this.rsDecoder=new Be(Ae.DATA_MATRIX_FIELD_256)}decode(s){const o=new oh(s),l=o.getVersion(),c=o.readCodewords(),d=ah.getDataBlocks(c,l);let f=0;for(let b of d)f+=b.getNumDataCodewords();const x=new Uint8Array(f),w=d.length;for(let b=0;b<w;b++){const A=d[b],k=A.getCodewords(),j=A.getNumDataCodewords();this.correctErrors(k,j);for(let U=0;U<j;U++)x[U*w+b]=k[U]}return Gs.decode(x)}correctErrors(s,o){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-o)}catch{throw new N}for(let c=0;c<o;c++)s[c]=l[c]}}class Xt{constructor(s){this.image=s,this.rectangleDetector=new St(this.image)}detect(){const s=this.rectangleDetector.detect();let o=this.detectSolid1(s);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new X;o=this.shiftToModuleCenter(o);const l=o[0],c=o[1],d=o[2],f=o[3];let x=this.transitionsBetween(l,f)+1,w=this.transitionsBetween(d,f)+1;(x&1)===1&&(x+=1),(w&1)===1&&(w+=1),4*x<7*w&&4*w<7*x&&(x=w=Math.max(x,w));let b=Xt.sampleGrid(this.image,l,c,d,f,x,w);return new On(b,[l,c,d,f])}static shiftPoint(s,o,l){let c=(o.getX()-s.getX())/(l+1),d=(o.getY()-s.getY())/(l+1);return new ve(s.getX()+c,s.getY()+d)}static moveAway(s,o,l){let c=s.getX(),d=s.getY();return c<o?c-=1:c+=1,d<l?d-=1:d+=1,new ve(c,d)}detectSolid1(s){let o=s[0],l=s[1],c=s[3],d=s[2],f=this.transitionsBetween(o,l),x=this.transitionsBetween(l,c),w=this.transitionsBetween(c,d),b=this.transitionsBetween(d,o),A=f,k=[d,o,l,c];return A>x&&(A=x,k[0]=o,k[1]=l,k[2]=c,k[3]=d),A>w&&(A=w,k[0]=l,k[1]=c,k[2]=d,k[3]=o),A>b&&(k[0]=c,k[1]=d,k[2]=o,k[3]=l),k}detectSolid2(s){let o=s[0],l=s[1],c=s[2],d=s[3],f=this.transitionsBetween(o,d),x=Xt.shiftPoint(l,c,(f+1)*4),w=Xt.shiftPoint(c,l,(f+1)*4),b=this.transitionsBetween(x,o),A=this.transitionsBetween(w,d);return b<A?(s[0]=o,s[1]=l,s[2]=c,s[3]=d):(s[0]=l,s[1]=c,s[2]=d,s[3]=o),s}correctTopRight(s){let o=s[0],l=s[1],c=s[2],d=s[3],f=this.transitionsBetween(o,d),x=this.transitionsBetween(l,d),w=Xt.shiftPoint(o,l,(x+1)*4),b=Xt.shiftPoint(c,l,(f+1)*4);f=this.transitionsBetween(w,d),x=this.transitionsBetween(b,d);let A=new ve(d.getX()+(c.getX()-l.getX())/(f+1),d.getY()+(c.getY()-l.getY())/(f+1)),k=new ve(d.getX()+(o.getX()-l.getX())/(x+1),d.getY()+(o.getY()-l.getY())/(x+1));if(!this.isValid(A))return this.isValid(k)?k:null;if(!this.isValid(k))return A;let j=this.transitionsBetween(w,A)+this.transitionsBetween(b,A),U=this.transitionsBetween(w,k)+this.transitionsBetween(b,k);return j>U?A:k}shiftToModuleCenter(s){let o=s[0],l=s[1],c=s[2],d=s[3],f=this.transitionsBetween(o,d)+1,x=this.transitionsBetween(c,d)+1,w=Xt.shiftPoint(o,l,x*4),b=Xt.shiftPoint(c,l,f*4);f=this.transitionsBetween(w,d)+1,x=this.transitionsBetween(b,d)+1,(f&1)===1&&(f+=1),(x&1)===1&&(x+=1);let A=(o.getX()+l.getX()+c.getX()+d.getX())/4,k=(o.getY()+l.getY()+c.getY()+d.getY())/4;o=Xt.moveAway(o,A,k),l=Xt.moveAway(l,A,k),c=Xt.moveAway(c,A,k),d=Xt.moveAway(d,A,k);let j,U;return w=Xt.shiftPoint(o,l,x*4),w=Xt.shiftPoint(w,d,f*4),j=Xt.shiftPoint(l,o,x*4),j=Xt.shiftPoint(j,c,f*4),b=Xt.shiftPoint(c,d,x*4),b=Xt.shiftPoint(b,l,f*4),U=Xt.shiftPoint(d,c,x*4),U=Xt.shiftPoint(U,o,f*4),[w,j,b,U]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,o,l,c,d,f,x){return cn.getInstance().sampleGrid(s,f,x,.5,.5,f-.5,.5,f-.5,x-.5,.5,x-.5,o.getX(),o.getY(),d.getX(),d.getY(),c.getX(),c.getY(),l.getX(),l.getY())}transitionsBetween(s,o){let l=Math.trunc(s.getX()),c=Math.trunc(s.getY()),d=Math.trunc(o.getX()),f=Math.trunc(o.getY()),x=Math.abs(f-c)>Math.abs(d-l);if(x){let G=l;l=c,c=G,G=d,d=f,f=G}let w=Math.abs(d-l),b=Math.abs(f-c),A=-w/2,k=c<f?1:-1,j=l<d?1:-1,U=0,z=this.image.get(x?c:l,x?l:c);for(let G=l,Y=c;G!==d;G+=j){let J=this.image.get(x?Y:G,x?G:Y);if(J!==z&&(U++,z=J),A+=b,A>0){if(Y===f)break;Y+=k,A-=w}}return U}}class qs{constructor(){this.decoder=new jA}decode(s,o=null){let l,c;if(o!=null&&o.has(V.PURE_BARCODE)){const b=qs.extractPureBits(s.getBlackMatrix());l=this.decoder.decode(b),c=qs.NO_POINTS}else{const b=new Xt(s.getBlackMatrix()).detect();l=this.decoder.decode(b.getBits()),c=b.getPoints()}const d=l.getRawBytes(),f=new Re(l.getText(),d,8*d.length,c,de.DATA_MATRIX,T.currentTimeMillis()),x=l.getByteSegments();x!=null&&f.putMetadata(xe.BYTE_SEGMENTS,x);const w=l.getECLevel();return w!=null&&f.putMetadata(xe.ERROR_CORRECTION_LEVEL,w),f}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(o==null||l==null)throw new X;const c=this.moduleSize(o,s);let d=o[1];const f=l[1];let x=o[0];const b=(l[0]-x+1)/c,A=(f-d+1)/c;if(b<=0||A<=0)throw new X;const k=c/2;d+=k,x+=k;const j=new re(b,A);for(let U=0;U<A;U++){const z=d+U*c;for(let G=0;G<b;G++)s.get(x+G*c,z)&&j.set(G,U)}return j}static moduleSize(s,o){const l=o.getWidth();let c=s[0];const d=s[1];for(;c<l&&o.get(c,d);)c++;if(c===l)throw new X;const f=c-s[0];if(f===0)throw new X;return f}}qs.NO_POINTS=[];class LA extends we{constructor(s=500){super(new qs,s)}}var qo;(function(R){R[R.L=0]="L",R[R.M=1]="M",R[R.Q=2]="Q",R[R.H=3]="H"})(qo||(qo={}));class _t{constructor(s,o,l){this.value=s,this.stringValue=o,this.bits=l,_t.FOR_BITS.set(l,this),_t.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return _t.L;case"M":return _t.M;case"Q":return _t.Q;case"H":return _t.H;default:throw new y(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof _t))return!1;const o=s;return this.value===o.value}static forBits(s){if(s<0||s>=_t.FOR_BITS.size)throw new v;return _t.FOR_BITS.get(s)}}_t.FOR_BITS=new Map,_t.FOR_VALUE=new Map,_t.L=new _t(qo.L,"L",1),_t.M=new _t(qo.M,"M",0),_t.Q=new _t(qo.Q,"Q",3),_t.H=new _t(qo.H,"H",2);class An{constructor(s){this.errorCorrectionLevel=_t.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,o){return S.bitCount(s^o)}static decodeFormatInformation(s,o){const l=An.doDecodeFormatInformation(s,o);return l!==null?l:An.doDecodeFormatInformation(s^An.FORMAT_INFO_MASK_QR,o^An.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,o){let l=Number.MAX_SAFE_INTEGER,c=0;for(const d of An.FORMAT_INFO_DECODE_LOOKUP){const f=d[0];if(f===s||f===o)return new An(d[1]);let x=An.numBitsDiffering(s,f);x<l&&(c=d[1],l=x),s!==o&&(x=An.numBitsDiffering(o,f),x<l&&(c=d[1],l=x))}return l<=3?new An(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof An))return!1;const o=s;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}An.FORMAT_INFO_MASK_QR=21522,An.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class K{constructor(s,...o){this.ecCodewordsPerBlock=s,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const o=this.ecBlocks;for(const l of o)s+=l.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class B{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ie{constructor(s,o,...l){this.versionNumber=s,this.alignmentPatternCenters=o,this.ecBlocks=l;let c=0;const d=l[0].getECCodewordsPerBlock(),f=l[0].getECBlocks();for(const x of f)c+=x.getCount()*(x.getDataCodewords()+d);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new F;try{return this.getVersionForNumber((s-17)/4)}catch{throw new F}}static getVersionForNumber(s){if(s<1||s>40)throw new v;return Ie.VERSIONS[s-1]}static decodeVersionInformation(s){let o=Number.MAX_SAFE_INTEGER,l=0;for(let c=0;c<Ie.VERSION_DECODE_INFO.length;c++){const d=Ie.VERSION_DECODE_INFO[c];if(d===s)return Ie.getVersionForNumber(c+7);const f=An.numBitsDiffering(s,d);f<o&&(l=c+7,o=f)}return o<=3?Ie.getVersionForNumber(l):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),o=new re(s);o.setRegion(0,0,9,9),o.setRegion(s-8,0,8,9),o.setRegion(0,s-8,9,8);const l=this.alignmentPatternCenters.length;for(let c=0;c<l;c++){const d=this.alignmentPatternCenters[c]-2;for(let f=0;f<l;f++)c===0&&(f===0||f===l-1)||c===l-1&&f===0||o.setRegion(this.alignmentPatternCenters[f]-2,d,5,5)}return o.setRegion(6,9,1,s-17),o.setRegion(9,6,s-17,1),this.versionNumber>6&&(o.setRegion(s-11,0,3,6),o.setRegion(0,s-11,6,3)),o}toString(){return""+this.versionNumber}}Ie.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ie.VERSIONS=[new Ie(1,new Int32Array(0),new K(7,new B(1,19)),new K(10,new B(1,16)),new K(13,new B(1,13)),new K(17,new B(1,9))),new Ie(2,Int32Array.from([6,18]),new K(10,new B(1,34)),new K(16,new B(1,28)),new K(22,new B(1,22)),new K(28,new B(1,16))),new Ie(3,Int32Array.from([6,22]),new K(15,new B(1,55)),new K(26,new B(1,44)),new K(18,new B(2,17)),new K(22,new B(2,13))),new Ie(4,Int32Array.from([6,26]),new K(20,new B(1,80)),new K(18,new B(2,32)),new K(26,new B(2,24)),new K(16,new B(4,9))),new Ie(5,Int32Array.from([6,30]),new K(26,new B(1,108)),new K(24,new B(2,43)),new K(18,new B(2,15),new B(2,16)),new K(22,new B(2,11),new B(2,12))),new Ie(6,Int32Array.from([6,34]),new K(18,new B(2,68)),new K(16,new B(4,27)),new K(24,new B(4,19)),new K(28,new B(4,15))),new Ie(7,Int32Array.from([6,22,38]),new K(20,new B(2,78)),new K(18,new B(4,31)),new K(18,new B(2,14),new B(4,15)),new K(26,new B(4,13),new B(1,14))),new Ie(8,Int32Array.from([6,24,42]),new K(24,new B(2,97)),new K(22,new B(2,38),new B(2,39)),new K(22,new B(4,18),new B(2,19)),new K(26,new B(4,14),new B(2,15))),new Ie(9,Int32Array.from([6,26,46]),new K(30,new B(2,116)),new K(22,new B(3,36),new B(2,37)),new K(20,new B(4,16),new B(4,17)),new K(24,new B(4,12),new B(4,13))),new Ie(10,Int32Array.from([6,28,50]),new K(18,new B(2,68),new B(2,69)),new K(26,new B(4,43),new B(1,44)),new K(24,new B(6,19),new B(2,20)),new K(28,new B(6,15),new B(2,16))),new Ie(11,Int32Array.from([6,30,54]),new K(20,new B(4,81)),new K(30,new B(1,50),new B(4,51)),new K(28,new B(4,22),new B(4,23)),new K(24,new B(3,12),new B(8,13))),new Ie(12,Int32Array.from([6,32,58]),new K(24,new B(2,92),new B(2,93)),new K(22,new B(6,36),new B(2,37)),new K(26,new B(4,20),new B(6,21)),new K(28,new B(7,14),new B(4,15))),new Ie(13,Int32Array.from([6,34,62]),new K(26,new B(4,107)),new K(22,new B(8,37),new B(1,38)),new K(24,new B(8,20),new B(4,21)),new K(22,new B(12,11),new B(4,12))),new Ie(14,Int32Array.from([6,26,46,66]),new K(30,new B(3,115),new B(1,116)),new K(24,new B(4,40),new B(5,41)),new K(20,new B(11,16),new B(5,17)),new K(24,new B(11,12),new B(5,13))),new Ie(15,Int32Array.from([6,26,48,70]),new K(22,new B(5,87),new B(1,88)),new K(24,new B(5,41),new B(5,42)),new K(30,new B(5,24),new B(7,25)),new K(24,new B(11,12),new B(7,13))),new Ie(16,Int32Array.from([6,26,50,74]),new K(24,new B(5,98),new B(1,99)),new K(28,new B(7,45),new B(3,46)),new K(24,new B(15,19),new B(2,20)),new K(30,new B(3,15),new B(13,16))),new Ie(17,Int32Array.from([6,30,54,78]),new K(28,new B(1,107),new B(5,108)),new K(28,new B(10,46),new B(1,47)),new K(28,new B(1,22),new B(15,23)),new K(28,new B(2,14),new B(17,15))),new Ie(18,Int32Array.from([6,30,56,82]),new K(30,new B(5,120),new B(1,121)),new K(26,new B(9,43),new B(4,44)),new K(28,new B(17,22),new B(1,23)),new K(28,new B(2,14),new B(19,15))),new Ie(19,Int32Array.from([6,30,58,86]),new K(28,new B(3,113),new B(4,114)),new K(26,new B(3,44),new B(11,45)),new K(26,new B(17,21),new B(4,22)),new K(26,new B(9,13),new B(16,14))),new Ie(20,Int32Array.from([6,34,62,90]),new K(28,new B(3,107),new B(5,108)),new K(26,new B(3,41),new B(13,42)),new K(30,new B(15,24),new B(5,25)),new K(28,new B(15,15),new B(10,16))),new Ie(21,Int32Array.from([6,28,50,72,94]),new K(28,new B(4,116),new B(4,117)),new K(26,new B(17,42)),new K(28,new B(17,22),new B(6,23)),new K(30,new B(19,16),new B(6,17))),new Ie(22,Int32Array.from([6,26,50,74,98]),new K(28,new B(2,111),new B(7,112)),new K(28,new B(17,46)),new K(30,new B(7,24),new B(16,25)),new K(24,new B(34,13))),new Ie(23,Int32Array.from([6,30,54,78,102]),new K(30,new B(4,121),new B(5,122)),new K(28,new B(4,47),new B(14,48)),new K(30,new B(11,24),new B(14,25)),new K(30,new B(16,15),new B(14,16))),new Ie(24,Int32Array.from([6,28,54,80,106]),new K(30,new B(6,117),new B(4,118)),new K(28,new B(6,45),new B(14,46)),new K(30,new B(11,24),new B(16,25)),new K(30,new B(30,16),new B(2,17))),new Ie(25,Int32Array.from([6,32,58,84,110]),new K(26,new B(8,106),new B(4,107)),new K(28,new B(8,47),new B(13,48)),new K(30,new B(7,24),new B(22,25)),new K(30,new B(22,15),new B(13,16))),new Ie(26,Int32Array.from([6,30,58,86,114]),new K(28,new B(10,114),new B(2,115)),new K(28,new B(19,46),new B(4,47)),new K(28,new B(28,22),new B(6,23)),new K(30,new B(33,16),new B(4,17))),new Ie(27,Int32Array.from([6,34,62,90,118]),new K(30,new B(8,122),new B(4,123)),new K(28,new B(22,45),new B(3,46)),new K(30,new B(8,23),new B(26,24)),new K(30,new B(12,15),new B(28,16))),new Ie(28,Int32Array.from([6,26,50,74,98,122]),new K(30,new B(3,117),new B(10,118)),new K(28,new B(3,45),new B(23,46)),new K(30,new B(4,24),new B(31,25)),new K(30,new B(11,15),new B(31,16))),new Ie(29,Int32Array.from([6,30,54,78,102,126]),new K(30,new B(7,116),new B(7,117)),new K(28,new B(21,45),new B(7,46)),new K(30,new B(1,23),new B(37,24)),new K(30,new B(19,15),new B(26,16))),new Ie(30,Int32Array.from([6,26,52,78,104,130]),new K(30,new B(5,115),new B(10,116)),new K(28,new B(19,47),new B(10,48)),new K(30,new B(15,24),new B(25,25)),new K(30,new B(23,15),new B(25,16))),new Ie(31,Int32Array.from([6,30,56,82,108,134]),new K(30,new B(13,115),new B(3,116)),new K(28,new B(2,46),new B(29,47)),new K(30,new B(42,24),new B(1,25)),new K(30,new B(23,15),new B(28,16))),new Ie(32,Int32Array.from([6,34,60,86,112,138]),new K(30,new B(17,115)),new K(28,new B(10,46),new B(23,47)),new K(30,new B(10,24),new B(35,25)),new K(30,new B(19,15),new B(35,16))),new Ie(33,Int32Array.from([6,30,58,86,114,142]),new K(30,new B(17,115),new B(1,116)),new K(28,new B(14,46),new B(21,47)),new K(30,new B(29,24),new B(19,25)),new K(30,new B(11,15),new B(46,16))),new Ie(34,Int32Array.from([6,34,62,90,118,146]),new K(30,new B(13,115),new B(6,116)),new K(28,new B(14,46),new B(23,47)),new K(30,new B(44,24),new B(7,25)),new K(30,new B(59,16),new B(1,17))),new Ie(35,Int32Array.from([6,30,54,78,102,126,150]),new K(30,new B(12,121),new B(7,122)),new K(28,new B(12,47),new B(26,48)),new K(30,new B(39,24),new B(14,25)),new K(30,new B(22,15),new B(41,16))),new Ie(36,Int32Array.from([6,24,50,76,102,128,154]),new K(30,new B(6,121),new B(14,122)),new K(28,new B(6,47),new B(34,48)),new K(30,new B(46,24),new B(10,25)),new K(30,new B(2,15),new B(64,16))),new Ie(37,Int32Array.from([6,28,54,80,106,132,158]),new K(30,new B(17,122),new B(4,123)),new K(28,new B(29,46),new B(14,47)),new K(30,new B(49,24),new B(10,25)),new K(30,new B(24,15),new B(46,16))),new Ie(38,Int32Array.from([6,32,58,84,110,136,162]),new K(30,new B(4,122),new B(18,123)),new K(28,new B(13,46),new B(32,47)),new K(30,new B(48,24),new B(14,25)),new K(30,new B(42,15),new B(32,16))),new Ie(39,Int32Array.from([6,26,54,82,110,138,166]),new K(30,new B(20,117),new B(4,118)),new K(28,new B(40,47),new B(7,48)),new K(30,new B(43,24),new B(22,25)),new K(30,new B(10,15),new B(67,16))),new Ie(40,Int32Array.from([6,30,58,86,114,142,170]),new K(30,new B(19,118),new B(6,119)),new K(28,new B(18,47),new B(31,48)),new K(30,new B(34,24),new B(34,25)),new K(30,new B(20,15),new B(61,16)))];var un;(function(R){R[R.DATA_MASK_000=0]="DATA_MASK_000",R[R.DATA_MASK_001=1]="DATA_MASK_001",R[R.DATA_MASK_010=2]="DATA_MASK_010",R[R.DATA_MASK_011=3]="DATA_MASK_011",R[R.DATA_MASK_100=4]="DATA_MASK_100",R[R.DATA_MASK_101=5]="DATA_MASK_101",R[R.DATA_MASK_110=6]="DATA_MASK_110",R[R.DATA_MASK_111=7]="DATA_MASK_111"})(un||(un={}));class xr{constructor(s,o){this.value=s,this.isMasked=o}unmaskBitMatrix(s,o){for(let l=0;l<o;l++)for(let c=0;c<o;c++)this.isMasked(l,c)&&s.flip(c,l)}}xr.values=new Map([[un.DATA_MASK_000,new xr(un.DATA_MASK_000,(R,s)=>(R+s&1)===0)],[un.DATA_MASK_001,new xr(un.DATA_MASK_001,(R,s)=>(R&1)===0)],[un.DATA_MASK_010,new xr(un.DATA_MASK_010,(R,s)=>s%3===0)],[un.DATA_MASK_011,new xr(un.DATA_MASK_011,(R,s)=>(R+s)%3===0)],[un.DATA_MASK_100,new xr(un.DATA_MASK_100,(R,s)=>(Math.floor(R/2)+Math.floor(s/3)&1)===0)],[un.DATA_MASK_101,new xr(un.DATA_MASK_101,(R,s)=>R*s%6===0)],[un.DATA_MASK_110,new xr(un.DATA_MASK_110,(R,s)=>R*s%6<3)],[un.DATA_MASK_111,new xr(un.DATA_MASK_111,(R,s)=>(R+s+R*s%3&1)===0)]]);class BA{constructor(s){const o=s.getHeight();if(o<21||(o&3)!==1)throw new F;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let d=0;d<6;d++)s=this.copyBit(d,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let d=5;d>=0;d--)s=this.copyBit(8,d,s);const o=this.bitMatrix.getHeight();let l=0;const c=o-7;for(let d=o-1;d>=c;d--)l=this.copyBit(8,d,l);for(let d=o-8;d<o;d++)l=this.copyBit(d,8,l);if(this.parsedFormatInfo=An.decodeFormatInformation(s,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),o=Math.floor((s-17)/4);if(o<=6)return Ie.getVersionForNumber(o);let l=0;const c=s-11;for(let f=5;f>=0;f--)for(let x=s-9;x>=c;x--)l=this.copyBit(x,f,l);let d=Ie.decodeVersionInformation(l);if(d!==null&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;l=0;for(let f=5;f>=0;f--)for(let x=s-9;x>=c;x--)l=this.copyBit(f,x,l);if(d=Ie.decodeVersionInformation(l),d!==null&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;throw new F}copyBit(s,o,l){return(this.isMirror?this.bitMatrix.get(o,s):this.bitMatrix.get(s,o))?l<<1|1:l<<1}readCodewords(){const s=this.readFormatInformation(),o=this.readVersion(),l=xr.values.get(s.getDataMask()),c=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,c);const d=o.buildFunctionPattern();let f=!0;const x=new Uint8Array(o.getTotalCodewords());let w=0,b=0,A=0;for(let k=c-1;k>0;k-=2){k===6&&k--;for(let j=0;j<c;j++){const U=f?c-1-j:j;for(let z=0;z<2;z++)d.get(k-z,U)||(A++,b<<=1,this.bitMatrix.get(k-z,U)&&(b|=1),A===8&&(x[w++]=b,A=0,b=0))}f=!f}if(w!==o.getTotalCodewords())throw new F;return x}remask(){if(this.parsedFormatInfo===null)return;const s=xr.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let o=0,l=s.getWidth();o<l;o++)for(let c=o+1,d=s.getHeight();c<d;c++)s.get(o,c)!==s.get(c,o)&&(s.flip(c,o),s.flip(o,c))}}class ch{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o,l){if(s.length!==o.getTotalCodewords())throw new v;const c=o.getECBlocksForLevel(l);let d=0;const f=c.getECBlocks();for(const z of f)d+=z.getCount();const x=new Array(d);let w=0;for(const z of f)for(let G=0;G<z.getCount();G++){const Y=z.getDataCodewords(),J=c.getECCodewordsPerBlock()+Y;x[w++]=new ch(Y,new Uint8Array(J))}const b=x[0].codewords.length;let A=x.length-1;for(;A>=0&&x[A].codewords.length!==b;)A--;A++;const k=b-c.getECCodewordsPerBlock();let j=0;for(let z=0;z<k;z++)for(let G=0;G<w;G++)x[G].codewords[z]=s[j++];for(let z=A;z<w;z++)x[z].codewords[k]=s[j++];const U=x[0].codewords.length;for(let z=k;z<U;z++)for(let G=0;G<w;G++){const Y=G<A?z:z+1;x[G].codewords[Y]=s[j++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var wr;(function(R){R[R.TERMINATOR=0]="TERMINATOR",R[R.NUMERIC=1]="NUMERIC",R[R.ALPHANUMERIC=2]="ALPHANUMERIC",R[R.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",R[R.BYTE=4]="BYTE",R[R.ECI=5]="ECI",R[R.KANJI=6]="KANJI",R[R.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",R[R.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",R[R.HANZI=9]="HANZI"})(wr||(wr={}));class De{constructor(s,o,l,c){this.value=s,this.stringValue=o,this.characterCountBitsForVersions=l,this.bits=c,De.FOR_BITS.set(c,this),De.FOR_VALUE.set(s,this)}static forBits(s){const o=De.FOR_BITS.get(s);if(o===void 0)throw new v;return o}getCharacterCountBits(s){const o=s.getVersionNumber();let l;return o<=9?l=0:o<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof De))return!1;const o=s;return this.value===o.value}toString(){return this.stringValue}}De.FOR_BITS=new Map,De.FOR_VALUE=new Map,De.TERMINATOR=new De(wr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),De.NUMERIC=new De(wr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),De.ALPHANUMERIC=new De(wr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),De.STRUCTURED_APPEND=new De(wr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),De.BYTE=new De(wr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),De.ECI=new De(wr.ECI,"ECI",Int32Array.from([0,0,0]),7),De.KANJI=new De(wr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),De.FNC1_FIRST_POSITION=new De(wr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),De.FNC1_SECOND_POSITION=new De(wr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),De.HANZI=new De(wr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Lt{static decode(s,o,l,c){const d=new lh(s);let f=new se;const x=new Array;let w=-1,b=-1;try{let A=null,k=!1,j;do{if(d.available()<4)j=De.TERMINATOR;else{const U=d.readBits(4);j=De.forBits(U)}switch(j){case De.TERMINATOR:break;case De.FNC1_FIRST_POSITION:case De.FNC1_SECOND_POSITION:k=!0;break;case De.STRUCTURED_APPEND:if(d.available()<16)throw new F;w=d.readBits(8),b=d.readBits(8);break;case De.ECI:const U=Lt.parseECIValue(d);if(A=M.getCharacterSetECIByValue(U),A===null)throw new F;break;case De.HANZI:const z=d.readBits(4),G=d.readBits(j.getCharacterCountBits(o));z===Lt.GB2312_SUBSET&&Lt.decodeHanziSegment(d,f,G);break;default:const Y=d.readBits(j.getCharacterCountBits(o));switch(j){case De.NUMERIC:Lt.decodeNumericSegment(d,f,Y);break;case De.ALPHANUMERIC:Lt.decodeAlphanumericSegment(d,f,Y,k);break;case De.BYTE:Lt.decodeByteSegment(d,f,Y,A,x,c);break;case De.KANJI:Lt.decodeKanjiSegment(d,f,Y);break;default:throw new F}break}}while(j!==De.TERMINATOR)}catch{throw new F}return new Pe(s,f.toString(),x.length===0?null:x,l===null?null:l.toString(),w,b)}static decodeHanziSegment(s,o,l){if(l*13>s.available())throw new F;const c=new Uint8Array(2*l);let d=0;for(;l>0;){const f=s.readBits(13);let x=f/96<<8&4294967295|f%96;x<959?x+=41377:x+=42657,c[d]=x>>8&255,c[d+1]=x&255,d+=2,l--}try{o.append(ee.decode(c,q.GB2312))}catch(f){throw new F(f)}}static decodeKanjiSegment(s,o,l){if(l*13>s.available())throw new F;const c=new Uint8Array(2*l);let d=0;for(;l>0;){const f=s.readBits(13);let x=f/192<<8&4294967295|f%192;x<7936?x+=33088:x+=49472,c[d]=x>>8,c[d+1]=x,d+=2,l--}try{o.append(ee.decode(c,q.SHIFT_JIS))}catch(f){throw new F(f)}}static decodeByteSegment(s,o,l,c,d,f){if(8*l>s.available())throw new F;const x=new Uint8Array(l);for(let b=0;b<l;b++)x[b]=s.readBits(8);let w;c===null?w=q.guessEncoding(x,f):w=c.getName();try{o.append(ee.decode(x,w))}catch(b){throw new F(b)}d.push(x)}static toAlphaNumericChar(s){if(s>=Lt.ALPHANUMERIC_CHARS.length)throw new F;return Lt.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,o,l,c){const d=o.length();for(;l>1;){if(s.available()<11)throw new F;const f=s.readBits(11);o.append(Lt.toAlphaNumericChar(Math.floor(f/45))),o.append(Lt.toAlphaNumericChar(f%45)),l-=2}if(l===1){if(s.available()<6)throw new F;o.append(Lt.toAlphaNumericChar(s.readBits(6)))}if(c)for(let f=d;f<o.length();f++)o.charAt(f)==="%"&&(f<o.length()-1&&o.charAt(f+1)==="%"?o.deleteCharAt(f+1):o.setCharAt(f,""))}static decodeNumericSegment(s,o,l){for(;l>=3;){if(s.available()<10)throw new F;const c=s.readBits(10);if(c>=1e3)throw new F;o.append(Lt.toAlphaNumericChar(Math.floor(c/100))),o.append(Lt.toAlphaNumericChar(Math.floor(c/10)%10)),o.append(Lt.toAlphaNumericChar(c%10)),l-=3}if(l===2){if(s.available()<7)throw new F;const c=s.readBits(7);if(c>=100)throw new F;o.append(Lt.toAlphaNumericChar(Math.floor(c/10))),o.append(Lt.toAlphaNumericChar(c%10))}else if(l===1){if(s.available()<4)throw new F;const c=s.readBits(4);if(c>=10)throw new F;o.append(Lt.toAlphaNumericChar(c))}}static parseECIValue(s){const o=s.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const l=s.readBits(8);return(o&63)<<8&4294967295|l}if((o&224)===192){const l=s.readBits(16);return(o&31)<<16&4294967295|l}throw new F}}Lt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Lt.GB2312_SUBSET=1;class nm{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const o=s[0];s[0]=s[2],s[2]=o}}class FA{constructor(){this.rsDecoder=new Be(Ae.QR_CODE_FIELD_256)}decodeBooleanArray(s,o){return this.decodeBitMatrix(re.parseFromBooleanArray(s),o)}decodeBitMatrix(s,o){const l=new BA(s);let c=null;try{return this.decodeBitMatrixParser(l,o)}catch(d){c=d}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const d=this.decodeBitMatrixParser(l,o);return d.setOther(new nm(!0)),d}catch(d){throw c!==null?c:d}}decodeBitMatrixParser(s,o){const l=s.readVersion(),c=s.readFormatInformation().getErrorCorrectionLevel(),d=s.readCodewords(),f=ch.getDataBlocks(d,l,c);let x=0;for(const A of f)x+=A.getNumDataCodewords();const w=new Uint8Array(x);let b=0;for(const A of f){const k=A.getCodewords(),j=A.getNumDataCodewords();this.correctErrors(k,j);for(let U=0;U<j;U++)w[b++]=k[U]}return Lt.decode(w,l,c,o)}correctErrors(s,o){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-o)}catch{throw new N}for(let c=0;c<o;c++)s[c]=l[c]}}class uh extends ve{constructor(s,o,l){super(s,o),this.estimatedModuleSize=l}aboutEquals(s,o,l){if(Math.abs(o-this.getY())<=s&&Math.abs(l-this.getX())<=s){const c=Math.abs(s-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(s,o,l){const c=(this.getX()+o)/2,d=(this.getY()+s)/2,f=(this.estimatedModuleSize+l)/2;return new uh(c,d,f)}}class au{constructor(s,o,l,c,d,f,x){this.image=s,this.startX=o,this.startY=l,this.width=c,this.height=d,this.moduleSize=f,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,o=this.height,l=this.width,c=s+l,d=this.startY+o/2,f=new Int32Array(3),x=this.image;for(let w=0;w<o;w++){const b=d+(w&1?-Math.floor((w+1)/2):Math.floor((w+1)/2));f[0]=0,f[1]=0,f[2]=0;let A=s;for(;A<c&&!x.get(A,b);)A++;let k=0;for(;A<c;){if(x.get(A,b))if(k===1)f[1]++;else if(k===2){if(this.foundPatternCross(f)){const j=this.handlePossibleCenter(f,b,A);if(j!==null)return j}f[0]=f[2],f[1]=1,f[2]=0,k=1}else f[++k]++;else k===1&&k++,f[k]++;A++}if(this.foundPatternCross(f)){const j=this.handlePossibleCenter(f,b,c);if(j!==null)return j}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(s,o){return o-s[2]-s[1]/2}foundPatternCross(s){const o=this.moduleSize,l=o/2;for(let c=0;c<3;c++)if(Math.abs(o-s[c])>=l)return!1;return!0}crossCheckVertical(s,o,l,c){const d=this.image,f=d.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let w=s;for(;w>=0&&d.get(o,w)&&x[1]<=l;)x[1]++,w--;if(w<0||x[1]>l)return NaN;for(;w>=0&&!d.get(o,w)&&x[0]<=l;)x[0]++,w--;if(x[0]>l)return NaN;for(w=s+1;w<f&&d.get(o,w)&&x[1]<=l;)x[1]++,w++;if(w===f||x[1]>l)return NaN;for(;w<f&&!d.get(o,w)&&x[2]<=l;)x[2]++,w++;if(x[2]>l)return NaN;const b=x[0]+x[1]+x[2];return 5*Math.abs(b-c)>=2*c?NaN:this.foundPatternCross(x)?au.centerFromEnd(x,w):NaN}handlePossibleCenter(s,o,l){const c=s[0]+s[1]+s[2],d=au.centerFromEnd(s,l),f=this.crossCheckVertical(o,d,2*s[1],c);if(!isNaN(f)){const x=(s[0]+s[1]+s[2])/3;for(const b of this.possibleCenters)if(b.aboutEquals(x,f,d))return b.combineEstimate(f,d,x);const w=new uh(d,f,x);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class dh extends ve{constructor(s,o,l,c){super(s,o),this.estimatedModuleSize=l,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,o,l){if(Math.abs(o-this.getY())<=s&&Math.abs(l-this.getX())<=s){const c=Math.abs(s-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(s,o,l){const c=this.count+1,d=(this.count*this.getX()+o)/c,f=(this.count*this.getY()+s)/c,x=(this.count*this.estimatedModuleSize+l)/c;return new dh(d,f,x,c)}}class UA{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class dn{constructor(s,o){this.image=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const o=s!=null&&s.get(V.TRY_HARDER)!==void 0,l=s!=null&&s.get(V.PURE_BARCODE)!==void 0,c=this.image,d=c.getHeight(),f=c.getWidth();let x=Math.floor(3*d/(4*dn.MAX_MODULES));(x<dn.MIN_SKIP||o)&&(x=dn.MIN_SKIP);let w=!1;const b=new Int32Array(5);for(let k=x-1;k<d&&!w;k+=x){b[0]=0,b[1]=0,b[2]=0,b[3]=0,b[4]=0;let j=0;for(let U=0;U<f;U++)if(c.get(U,k))(j&1)===1&&j++,b[j]++;else if(j&1)b[j]++;else if(j===4)if(dn.foundPatternCross(b)){if(this.handlePossibleCenter(b,k,U,l)===!0)if(x=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const G=this.findRowSkip();G>b[2]&&(k+=G-b[2]-x,U=f-1)}else{b[0]=b[2],b[1]=b[3],b[2]=b[4],b[3]=1,b[4]=0,j=3;continue}j=0,b[0]=0,b[1]=0,b[2]=0,b[3]=0,b[4]=0}else b[0]=b[2],b[1]=b[3],b[2]=b[4],b[3]=1,b[4]=0,j=3;else b[++j]++;dn.foundPatternCross(b)&&this.handlePossibleCenter(b,k,f,l)===!0&&(x=b[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const A=this.selectBestPatterns();return ve.orderBestPatterns(A),new UA(A)}static centerFromEnd(s,o){return o-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let o=0;for(let d=0;d<5;d++){const f=s[d];if(f===0)return!1;o+=f}if(o<7)return!1;const l=o/7,c=l/2;return Math.abs(l-s[0])<c&&Math.abs(l-s[1])<c&&Math.abs(3*l-s[2])<3*c&&Math.abs(l-s[3])<c&&Math.abs(l-s[4])<c}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,o,l,c){const d=this.getCrossCheckStateCount();let f=0;const x=this.image;for(;s>=f&&o>=f&&x.get(o-f,s-f);)d[2]++,f++;if(s<f||o<f)return!1;for(;s>=f&&o>=f&&!x.get(o-f,s-f)&&d[1]<=l;)d[1]++,f++;if(s<f||o<f||d[1]>l)return!1;for(;s>=f&&o>=f&&x.get(o-f,s-f)&&d[0]<=l;)d[0]++,f++;if(d[0]>l)return!1;const w=x.getHeight(),b=x.getWidth();for(f=1;s+f<w&&o+f<b&&x.get(o+f,s+f);)d[2]++,f++;if(s+f>=w||o+f>=b)return!1;for(;s+f<w&&o+f<b&&!x.get(o+f,s+f)&&d[3]<l;)d[3]++,f++;if(s+f>=w||o+f>=b||d[3]>=l)return!1;for(;s+f<w&&o+f<b&&x.get(o+f,s+f)&&d[4]<l;)d[4]++,f++;if(d[4]>=l)return!1;const A=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(A-c)<2*c&&dn.foundPatternCross(d)}crossCheckVertical(s,o,l,c){const d=this.image,f=d.getHeight(),x=this.getCrossCheckStateCount();let w=s;for(;w>=0&&d.get(o,w);)x[2]++,w--;if(w<0)return NaN;for(;w>=0&&!d.get(o,w)&&x[1]<=l;)x[1]++,w--;if(w<0||x[1]>l)return NaN;for(;w>=0&&d.get(o,w)&&x[0]<=l;)x[0]++,w--;if(x[0]>l)return NaN;for(w=s+1;w<f&&d.get(o,w);)x[2]++,w++;if(w===f)return NaN;for(;w<f&&!d.get(o,w)&&x[3]<l;)x[3]++,w++;if(w===f||x[3]>=l)return NaN;for(;w<f&&d.get(o,w)&&x[4]<l;)x[4]++,w++;if(x[4]>=l)return NaN;const b=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(b-c)>=2*c?NaN:dn.foundPatternCross(x)?dn.centerFromEnd(x,w):NaN}crossCheckHorizontal(s,o,l,c){const d=this.image,f=d.getWidth(),x=this.getCrossCheckStateCount();let w=s;for(;w>=0&&d.get(w,o);)x[2]++,w--;if(w<0)return NaN;for(;w>=0&&!d.get(w,o)&&x[1]<=l;)x[1]++,w--;if(w<0||x[1]>l)return NaN;for(;w>=0&&d.get(w,o)&&x[0]<=l;)x[0]++,w--;if(x[0]>l)return NaN;for(w=s+1;w<f&&d.get(w,o);)x[2]++,w++;if(w===f)return NaN;for(;w<f&&!d.get(w,o)&&x[3]<l;)x[3]++,w++;if(w===f||x[3]>=l)return NaN;for(;w<f&&d.get(w,o)&&x[4]<l;)x[4]++,w++;if(x[4]>=l)return NaN;const b=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(b-c)>=c?NaN:dn.foundPatternCross(x)?dn.centerFromEnd(x,w):NaN}handlePossibleCenter(s,o,l,c){const d=s[0]+s[1]+s[2]+s[3]+s[4];let f=dn.centerFromEnd(s,l),x=this.crossCheckVertical(o,Math.floor(f),s[2],d);if(!isNaN(x)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(x),s[2],d),!isNaN(f)&&(!c||this.crossCheckDiagonal(Math.floor(x),Math.floor(f),s[2],d)))){const w=d/7;let b=!1;const A=this.possibleCenters;for(let k=0,j=A.length;k<j;k++){const U=A[k];if(U.aboutEquals(w,x,f)){A[k]=U.combineEstimate(x,f,w),b=!0;break}}if(!b){const k=new dh(f,x,w);A.push(k),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(k)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const l of this.possibleCenters)if(l.getCount()>=dn.CENTER_QUORUM)if(o==null)o=l;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-l.getX())-Math.abs(o.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,o=0;const l=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=dn.CENTER_QUORUM&&(s++,o+=f.getEstimatedModuleSize());if(s<3)return!1;const c=o/l;let d=0;for(const f of this.possibleCenters)d+=Math.abs(f.getEstimatedModuleSize()-c);return d<=.05*o}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new X;const o=this.possibleCenters;let l;if(s>3){let c=0,d=0;for(const w of this.possibleCenters){const b=w.getEstimatedModuleSize();c+=b,d+=b*b}l=c/s;let f=Math.sqrt(d/s-l*l);o.sort((w,b)=>{const A=Math.abs(b.getEstimatedModuleSize()-l),k=Math.abs(w.getEstimatedModuleSize()-l);return A<k?-1:A>k?1:0});const x=Math.max(.2*l,f);for(let w=0;w<o.length&&o.length>3;w++){const b=o[w];Math.abs(b.getEstimatedModuleSize()-l)>x&&(o.splice(w,1),w--)}}if(o.length>3){let c=0;for(const d of o)c+=d.getEstimatedModuleSize();l=c/o.length,o.sort((d,f)=>{if(f.getCount()===d.getCount()){const x=Math.abs(f.getEstimatedModuleSize()-l),w=Math.abs(d.getEstimatedModuleSize()-l);return x<w?1:x>w?-1:0}else return f.getCount()-d.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}dn.CENTER_QUORUM=2,dn.MIN_SKIP=3,dn.MAX_MODULES=57;class bl{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(V.NEED_RESULT_POINT_CALLBACK);const l=new dn(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(l)}processFinderPatternInfo(s){const o=s.getTopLeft(),l=s.getTopRight(),c=s.getBottomLeft(),d=this.calculateModuleSize(o,l,c);if(d<1)throw new X("No pattern found in proccess finder.");const f=bl.computeDimension(o,l,c,d),x=Ie.getProvisionalVersionForDimension(f),w=x.getDimensionForVersion()-7;let b=null;if(x.getAlignmentPatternCenters().length>0){const U=l.getX()-o.getX()+c.getX(),z=l.getY()-o.getY()+c.getY(),G=1-3/w,Y=Math.floor(o.getX()+G*(U-o.getX())),J=Math.floor(o.getY()+G*(z-o.getY()));for(let le=4;le<=16;le<<=1)try{b=this.findAlignmentInRegion(d,Y,J,le);break}catch(ce){if(!(ce instanceof X))throw ce}}const A=bl.createTransform(o,l,c,b,f),k=bl.sampleGrid(this.image,A,f);let j;return b===null?j=[c,o,l]:j=[c,o,l,b],new On(k,j)}static createTransform(s,o,l,c,d){const f=d-3.5;let x,w,b,A;return c!==null?(x=c.getX(),w=c.getY(),b=f-3,A=b):(x=o.getX()-s.getX()+l.getX(),w=o.getY()-s.getY()+l.getY(),b=f,A=f),ft.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,b,A,3.5,f,s.getX(),s.getY(),o.getX(),o.getY(),x,w,l.getX(),l.getY())}static sampleGrid(s,o,l){return cn.getInstance().sampleGridWithTransform(s,l,l,o)}static computeDimension(s,o,l,c){const d=_e.round(ve.distance(s,o)/c),f=_e.round(ve.distance(s,l)/c);let x=Math.floor((d+f)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new X("Dimensions could be not found.")}return x}calculateModuleSize(s,o,l){return(this.calculateModuleSizeOneWay(s,o)+this.calculateModuleSizeOneWay(s,l))/2}calculateModuleSizeOneWay(s,o){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(o.getX()),Math.floor(o.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(l)?c/7:isNaN(c)?l/7:(l+c)/14}sizeOfBlackWhiteBlackRunBothWays(s,o,l,c){let d=this.sizeOfBlackWhiteBlackRun(s,o,l,c),f=1,x=s-(l-s);x<0?(f=s/(s-x),x=0):x>=this.image.getWidth()&&(f=(this.image.getWidth()-1-s)/(x-s),x=this.image.getWidth()-1);let w=Math.floor(o-(c-o)*f);return f=1,w<0?(f=o/(o-w),w=0):w>=this.image.getHeight()&&(f=(this.image.getHeight()-1-o)/(w-o),w=this.image.getHeight()-1),x=Math.floor(s+(x-s)*f),d+=this.sizeOfBlackWhiteBlackRun(s,o,x,w),d-1}sizeOfBlackWhiteBlackRun(s,o,l,c){const d=Math.abs(c-o)>Math.abs(l-s);if(d){let U=s;s=o,o=U,U=l,l=c,c=U}const f=Math.abs(l-s),x=Math.abs(c-o);let w=-f/2;const b=s<l?1:-1,A=o<c?1:-1;let k=0;const j=l+b;for(let U=s,z=o;U!==j;U+=b){const G=d?z:U,Y=d?U:z;if(k===1===this.image.get(G,Y)){if(k===2)return _e.distance(U,z,s,o);k++}if(w+=x,w>0){if(z===c)break;z+=A,w-=f}}return k===2?_e.distance(l+b,c,s,o):NaN}findAlignmentInRegion(s,o,l,c){const d=Math.floor(c*s),f=Math.max(0,o-d),x=Math.min(this.image.getWidth()-1,o+d);if(x-f<s*3)throw new X("Alignment top exceeds estimated module size.");const w=Math.max(0,l-d),b=Math.min(this.image.getHeight()-1,l+d);if(b-w<s*3)throw new X("Alignment bottom exceeds estimated module size.");return new au(this.image,f,w,x-f,b-w,s,this.resultPointCallback).find()}}class Xs{constructor(){this.decoder=new FA}getDecoder(){return this.decoder}decode(s,o){let l,c;if(o!=null&&o.get(V.PURE_BARCODE)!==void 0){const w=Xs.extractPureBits(s.getBlackMatrix());l=this.decoder.decodeBitMatrix(w,o),c=Xs.NO_POINTS}else{const w=new bl(s.getBlackMatrix()).detect(o);l=this.decoder.decodeBitMatrix(w.getBits(),o),c=w.getPoints()}l.getOther()instanceof nm&&l.getOther().applyMirroredCorrection(c);const d=new Re(l.getText(),l.getRawBytes(),void 0,c,de.QR_CODE,void 0),f=l.getByteSegments();f!==null&&d.putMetadata(xe.BYTE_SEGMENTS,f);const x=l.getECLevel();return x!==null&&d.putMetadata(xe.ERROR_CORRECTION_LEVEL,x),l.hasStructuredAppend()&&(d.putMetadata(xe.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),d.putMetadata(xe.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),d}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(o===null||l===null)throw new X;const c=this.moduleSize(o,s);let d=o[1],f=l[1],x=o[0],w=l[0];if(x>=w||d>=f)throw new X;if(f-d!==w-x&&(w=x+(f-d),w>=s.getWidth()))throw new X;const b=Math.round((w-x+1)/c),A=Math.round((f-d+1)/c);if(b<=0||A<=0)throw new X;if(A!==b)throw new X;const k=Math.floor(c/2);d+=k,x+=k;const j=x+Math.floor((b-1)*c)-w;if(j>0){if(j>k)throw new X;x-=j}const U=d+Math.floor((A-1)*c)-f;if(U>0){if(U>k)throw new X;d-=U}const z=new re(b,A);for(let G=0;G<A;G++){const Y=d+Math.floor(G*c);for(let J=0;J<b;J++)s.get(x+Math.floor(J*c),Y)&&z.set(J,G)}return z}static moduleSize(s,o){const l=o.getHeight(),c=o.getWidth();let d=s[0],f=s[1],x=!0,w=0;for(;d<c&&f<l;){if(x!==o.get(d,f)){if(++w===5)break;x=!x}d++,f++}if(d===c||f===l)throw new X;return(d-s[0])/7}}Xs.NO_POINTS=new Array;class Fe{PDF417Common(){}static getBitCountSum(s){return _e.sum(s)}static toIntArray(s){if(s==null||!s.length)return Fe.EMPTY_INT_ARRAY;const o=new Int32Array(s.length);let l=0;for(const c of s)o[l++]=c;return o}static getCodeword(s){const o=_.binarySearch(Fe.SYMBOL_TABLE,s&262143);return o<0?-1:(Fe.CODEWORD_TABLE[o]-1)%Fe.NUMBER_OF_CODEWORDS}}Fe.NUMBER_OF_CODEWORDS=929,Fe.MAX_CODEWORDS_IN_BARCODE=Fe.NUMBER_OF_CODEWORDS-1,Fe.MIN_ROWS_IN_BARCODE=3,Fe.MAX_ROWS_IN_BARCODE=90,Fe.MODULES_IN_CODEWORD=17,Fe.MODULES_IN_STOP_PATTERN=18,Fe.BARS_IN_MODULE=8,Fe.EMPTY_INT_ARRAY=new Int32Array([]),Fe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Fe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class WA{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Ye{static detectMultiple(s,o,l){let c=s.getBlackMatrix(),d=Ye.detect(l,c);return d.length||(c=c.clone(),c.rotate180(),d=Ye.detect(l,c)),new WA(c,d)}static detect(s,o){const l=new Array;let c=0,d=0,f=!1;for(;c<o.getHeight();){const x=Ye.findVertices(o,c,d);if(x[0]==null&&x[3]==null){if(!f)break;f=!1,d=0;for(const w of l)w[1]!=null&&(c=Math.trunc(Math.max(c,w[1].getY()))),w[3]!=null&&(c=Math.max(c,Math.trunc(w[3].getY())));c+=Ye.ROW_STEP;continue}if(f=!0,l.push(x),!s)break;x[2]!=null?(d=Math.trunc(x[2].getX()),c=Math.trunc(x[2].getY())):(d=Math.trunc(x[4].getX()),c=Math.trunc(x[4].getY()))}return l}static findVertices(s,o,l){const c=s.getHeight(),d=s.getWidth(),f=new Array(8);return Ye.copyToResult(f,Ye.findRowsWithPattern(s,c,d,o,l,Ye.START_PATTERN),Ye.INDEXES_START_PATTERN),f[4]!=null&&(l=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY())),Ye.copyToResult(f,Ye.findRowsWithPattern(s,c,d,o,l,Ye.STOP_PATTERN),Ye.INDEXES_STOP_PATTERN),f}static copyToResult(s,o,l){for(let c=0;c<l.length;c++)s[l[c]]=o[c]}static findRowsWithPattern(s,o,l,c,d,f){const x=new Array(4);let w=!1;const b=new Int32Array(f.length);for(;c<o;c+=Ye.ROW_STEP){let k=Ye.findGuardPattern(s,d,c,l,!1,f,b);if(k!=null){for(;c>0;){const j=Ye.findGuardPattern(s,d,--c,l,!1,f,b);if(j!=null)k=j;else{c++;break}}x[0]=new ve(k[0],c),x[1]=new ve(k[1],c),w=!0;break}}let A=c+1;if(w){let k=0,j=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;A<o;A++){const U=Ye.findGuardPattern(s,j[0],A,l,!1,f,b);if(U!=null&&Math.abs(j[0]-U[0])<Ye.MAX_PATTERN_DRIFT&&Math.abs(j[1]-U[1])<Ye.MAX_PATTERN_DRIFT)j=U,k=0;else{if(k>Ye.SKIPPED_ROW_COUNT_MAX)break;k++}}A-=k+1,x[2]=new ve(j[0],A),x[3]=new ve(j[1],A)}return A-c<Ye.BARCODE_MIN_HEIGHT&&_.fill(x,null),x}static findGuardPattern(s,o,l,c,d,f,x){_.fillWithin(x,0,x.length,0);let w=o,b=0;for(;s.get(w,l)&&w>0&&b++<Ye.MAX_PIXEL_DRIFT;)w--;let A=w,k=0,j=f.length;for(let U=d;A<c;A++)if(s.get(A,l)!==U)x[k]++;else{if(k===j-1){if(Ye.patternMatchVariance(x,f,Ye.MAX_INDIVIDUAL_VARIANCE)<Ye.MAX_AVG_VARIANCE)return new Int32Array([w,A]);w+=x[0]+x[1],T.arraycopy(x,2,x,0,k-1),x[k-1]=0,x[k]=0,k--}else k++;x[k]=1,U=!U}return k===j-1&&Ye.patternMatchVariance(x,f,Ye.MAX_INDIVIDUAL_VARIANCE)<Ye.MAX_AVG_VARIANCE?new Int32Array([w,A-1]):null}static patternMatchVariance(s,o,l){let c=s.length,d=0,f=0;for(let b=0;b<c;b++)d+=s[b],f+=o[b];if(d<f)return 1/0;let x=d/f;l*=x;let w=0;for(let b=0;b<c;b++){let A=s[b],k=o[b]*x,j=A>k?A-k:k-A;if(j>l)return 1/0;w+=j}return w/d}}Ye.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ye.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ye.MAX_AVG_VARIANCE=.42,Ye.MAX_INDIVIDUAL_VARIANCE=.8,Ye.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ye.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ye.MAX_PIXEL_DRIFT=3,Ye.MAX_PATTERN_DRIFT=5,Ye.SKIPPED_ROW_COUNT_MAX=25,Ye.ROW_STEP=5,Ye.BARCODE_MIN_HEIGHT=10;class xn{constructor(s,o){if(o.length===0)throw new v;this.field=s;let l=o.length;if(l>1&&o[0]===0){let c=1;for(;c<l&&o[c]===0;)c++;c===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-c),T.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let c=0;for(let d of this.coefficients)c=this.field.add(c,d);return c}let o=this.coefficients[0],l=this.coefficients.length;for(let c=1;c<l;c++)o=this.field.add(this.field.multiply(s,o),this.coefficients[c]);return o}add(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,l=s.coefficients;if(o.length>l.length){let f=o;o=l,l=f}let c=new Int32Array(l.length),d=l.length-o.length;T.arraycopy(l,0,c,0,d);for(let f=d;f<l.length;f++)c[f]=this.field.add(o[f-d],l[f]);return new xn(this.field,c)}subtract(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof xn?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new xn(this.field,new Int32Array([0]));let o=this.coefficients,l=o.length,c=s.coefficients,d=c.length,f=new Int32Array(l+d-1);for(let x=0;x<l;x++){let w=o[x];for(let b=0;b<d;b++)f[x+b]=this.field.add(f[x+b],this.field.multiply(w,c[b]))}return new xn(this.field,f)}negative(){let s=this.coefficients.length,o=new Int32Array(s);for(let l=0;l<s;l++)o[l]=this.field.subtract(0,this.coefficients[l]);return new xn(this.field,o)}multiplyScalar(s){if(s===0)return new xn(this.field,new Int32Array([0]));if(s===1)return this;let o=this.coefficients.length,l=new Int32Array(o);for(let c=0;c<o;c++)l[c]=this.field.multiply(this.coefficients[c],s);return new xn(this.field,l)}multiplyByMonomial(s,o){if(s<0)throw new v;if(o===0)return new xn(this.field,new Int32Array([0]));let l=this.coefficients.length,c=new Int32Array(l+s);for(let d=0;d<l;d++)c[d]=this.field.multiply(this.coefficients[d],o);return new xn(this.field,c)}toString(){let s=new se;for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);l!==0&&(l<0?(s.append(" - "),l=-l):s.length()>0&&s.append(" + "),(o===0||l!==1)&&s.append(l),o!==0&&(o===1?s.append("x"):(s.append("x^"),s.append(o))))}return s.toString()}}class VA{add(s,o){return(s+o)%this.modulus}subtract(s,o){return(this.modulus+s-o)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new v;return this.logTable[s]}inverse(s){if(s===0)throw new Te;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class fh extends VA{constructor(s,o){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let l=1;for(let c=0;c<s;c++)this.expTable[c]=l,l=l*o%s;for(let c=0;c<s-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new xn(this,new Int32Array([0])),this.one=new xn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new v;if(o===0)return this.zero;let l=new Int32Array(s+1);return l[0]=o,new xn(this,l)}}fh.PDF417_GF=new fh(Fe.NUMBER_OF_CODEWORDS,3);class rm{constructor(){this.field=fh.PDF417_GF}decode(s,o,l){let c=new xn(this.field,s),d=new Int32Array(o),f=!1;for(let z=o;z>0;z--){let G=c.evaluateAt(this.field.exp(z));d[o-z]=G,G!==0&&(f=!0)}if(!f)return 0;let x=this.field.getOne();if(l!=null)for(const z of l){let G=this.field.exp(s.length-1-z),Y=new xn(this.field,new Int32Array([this.field.subtract(0,G),1]));x=x.multiply(Y)}let w=new xn(this.field,d),b=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),w,o),A=b[0],k=b[1],j=this.findErrorLocations(A),U=this.findErrorMagnitudes(k,A,j);for(let z=0;z<j.length;z++){let G=s.length-1-this.field.log(j[z]);if(G<0)throw N.getChecksumInstance();s[G]=this.field.subtract(s[G],U[z])}return j.length}runEuclideanAlgorithm(s,o,l){if(s.getDegree()<o.getDegree()){let j=s;s=o,o=j}let c=s,d=o,f=this.field.getZero(),x=this.field.getOne();for(;d.getDegree()>=Math.round(l/2);){let j=c,U=f;if(c=d,f=x,c.isZero())throw N.getChecksumInstance();d=j;let z=this.field.getZero(),G=c.getCoefficient(c.getDegree()),Y=this.field.inverse(G);for(;d.getDegree()>=c.getDegree()&&!d.isZero();){let J=d.getDegree()-c.getDegree(),le=this.field.multiply(d.getCoefficient(d.getDegree()),Y);z=z.add(this.field.buildMonomial(J,le)),d=d.subtract(c.multiplyByMonomial(J,le))}x=z.multiply(f).subtract(U).negative()}let w=x.getCoefficient(0);if(w===0)throw N.getChecksumInstance();let b=this.field.inverse(w),A=x.multiply(b),k=d.multiply(b);return[A,k]}findErrorLocations(s){let o=s.getDegree(),l=new Int32Array(o),c=0;for(let d=1;d<this.field.getSize()&&c<o;d++)s.evaluateAt(d)===0&&(l[c]=this.field.inverse(d),c++);if(c!==o)throw N.getChecksumInstance();return l}findErrorMagnitudes(s,o,l){let c=o.getDegree(),d=new Int32Array(c);for(let b=1;b<=c;b++)d[c-b]=this.field.multiply(b,o.getCoefficient(b));let f=new xn(this.field,d),x=l.length,w=new Int32Array(x);for(let b=0;b<x;b++){let A=this.field.inverse(l[b]),k=this.field.subtract(0,s.evaluateAt(A)),j=this.field.inverse(f.evaluateAt(A));w[b]=this.field.multiply(k,j)}return w}}class eo{constructor(s,o,l,c,d){s instanceof eo?this.constructor_2(s):this.constructor_1(s,o,l,c,d)}constructor_1(s,o,l,c,d){const f=o==null||l==null,x=c==null||d==null;if(f&&x)throw new X;f?(o=new ve(0,c.getY()),l=new ve(0,d.getY())):x&&(c=new ve(s.getWidth()-1,o.getY()),d=new ve(s.getWidth()-1,l.getY())),this.image=s,this.topLeft=o,this.bottomLeft=l,this.topRight=c,this.bottomRight=d,this.minX=Math.trunc(Math.min(o.getX(),l.getX())),this.maxX=Math.trunc(Math.max(c.getX(),d.getX())),this.minY=Math.trunc(Math.min(o.getY(),c.getY())),this.maxY=Math.trunc(Math.max(l.getY(),d.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,o){return s==null?o:o==null?s:new eo(s.image,s.topLeft,s.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(s,o,l){let c=this.topLeft,d=this.bottomLeft,f=this.topRight,x=this.bottomRight;if(s>0){let w=l?this.topLeft:this.topRight,b=Math.trunc(w.getY()-s);b<0&&(b=0);let A=new ve(w.getX(),b);l?c=A:f=A}if(o>0){let w=l?this.bottomLeft:this.bottomRight,b=Math.trunc(w.getY()+o);b>=this.image.getHeight()&&(b=this.image.getHeight()-1);let A=new ve(w.getX(),b);l?d=A:x=A}return new eo(this.image,c,d,f,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class zA{constructor(s,o,l,c){this.columnCount=s,this.errorCorrectionLevel=c,this.rowCountUpperPart=o,this.rowCountLowerPart=l,this.rowCount=o+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Cl{constructor(){this.buffer=""}static form(s,o){let l=-1;function c(f,x,w,b,A,k){if(f==="%%")return"%";if(o[++l]===void 0)return;f=b?parseInt(b.substr(1)):void 0;let j=A?parseInt(A.substr(1)):void 0,U;switch(k){case"s":U=o[l];break;case"c":U=o[l][0];break;case"f":U=parseFloat(o[l]).toFixed(f);break;case"p":U=parseFloat(o[l]).toPrecision(f);break;case"e":U=parseFloat(o[l]).toExponential(f);break;case"x":U=parseInt(o[l]).toString(j||16);break;case"d":U=parseFloat(parseInt(o[l],j||10).toPrecision(f)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(j);let z=parseInt(w),G=w&&w[0]+""=="0"?"0":" ";for(;U.length<z;)U=x!==void 0?U+G:G+U;return U}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(d,c)}format(s,...o){this.buffer+=Cl.form(s,o)}toString(){return this.buffer}}class El{constructor(s){this.boundingBox=new eo(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let o=this.getCodeword(s);if(o!=null)return o;for(let l=1;l<El.MAX_NEARBY_DISTANCE;l++){let c=this.imageRowToCodewordIndex(s)-l;if(c>=0&&(o=this.codewords[c],o!=null)||(c=this.imageRowToCodewordIndex(s)+l,c<this.codewords.length&&(o=this.codewords[c],o!=null)))return o}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,o){this.codewords[this.imageRowToCodewordIndex(s)]=o}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Cl;let o=0;for(const l of this.codewords){if(l==null){s.format("%3d:    |   %n",o++);continue}s.format("%3d: %3d|%3d%n",o++,l.getRowNumber(),l.getValue())}return s.toString()}}El.MAX_NEARBY_DISTANCE=5;class Sl{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let o=this.values.get(s);o==null&&(o=0),o++,this.values.set(s,o)}getValue(){let s=-1,o=new Array;for(const[l,c]of this.values.entries()){const d={getKey:()=>l,getValue:()=>c};d.getValue()>s?(s=d.getValue(),o=[],o.push(d.getKey())):d.getValue()===s&&o.push(d.getKey())}return Fe.toIntArray(o)}getConfidence(s){return this.values.get(s)}}class sm extends El{constructor(s,o){super(s),this._isLeft=o}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,s);let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),d=this._isLeft?l.getBottomLeft():l.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),x=this.imageRowToCodewordIndex(Math.trunc(d.getY())),w=-1,b=1,A=0;for(let k=f;k<x;k++){if(o[k]==null)continue;let j=o[k],U=j.getRowNumber()-w;if(U===0)A++;else if(U===1)b=Math.max(b,A),A=1,w=j.getRowNumber();else if(U<0||j.getRowNumber()>=s.getRowCount()||U>k)o[k]=null;else{let z;b>2?z=(b-2)*U:z=U;let G=z>=k;for(let Y=1;Y<=z&&!G;Y++)G=o[k-Y]!=null;G?o[k]=null:(w=j.getRowNumber(),A=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let o=new Int32Array(s.getRowCount());for(let l of this.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=o.length)continue;o[c]++}return o}adjustIncompleteIndicatorColumnRowNumbers(s){let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),x=this.getCodewords(),w=-1;for(let b=d;b<f;b++){if(x[b]==null)continue;let A=x[b];A.setRowNumberAsRowIndicatorColumn();let k=A.getRowNumber()-w;k===0||(k===1?w=A.getRowNumber():A.getRowNumber()>=s.getRowCount()?x[b]=null:w=A.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),o=new Sl,l=new Sl,c=new Sl,d=new Sl;for(let x of s){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let w=x.getValue()%30,b=x.getRowNumber();switch(this._isLeft||(b+=2),b%3){case 0:l.setValue(w*3+1);break;case 1:d.setValue(w/3),c.setValue(w%3);break;case 2:o.setValue(w+1);break}}if(o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||d.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+c.getValue()[0]<Fe.MIN_ROWS_IN_BARCODE||l.getValue()[0]+c.getValue()[0]>Fe.MAX_ROWS_IN_BARCODE)return null;let f=new zA(o.getValue()[0],l.getValue()[0],c.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(s,f),f}removeIncorrectCodewords(s,o){for(let l=0;l<s.length;l++){let c=s[l];if(s[l]==null)continue;let d=c.getValue()%30,f=c.getRowNumber();if(f>o.getRowCount()){s[l]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:d*3+1!==o.getRowCountUpperPart()&&(s[l]=null);break;case 1:(Math.trunc(d/3)!==o.getErrorCorrectionLevel()||d%3!==o.getRowCountLowerPart())&&(s[l]=null);break;case 2:d+1!==o.getColumnCount()&&(s[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Al{constructor(s,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Fe.MAX_CODEWORDS_IN_BARCODE,o;do o=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let l=this.detectionResultColumns[o].getCodewords();for(let c=0;c<l.length;c++)l[c]!=null&&(l[c].hasValidRowNumber()||this.adjustRowNumbers(o,c,l))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++)if(s[l]!=null&&o[l]!=null&&s[l].getRowNumber()===o[l].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let d=this.detectionResultColumns[c].getCodewords()[l];d!=null&&(d.setRowNumber(s[l].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let c=o[l].getRowNumber(),d=0;for(let f=this.barcodeColumnCount+1;f>0&&d<this.ADJUST_ROW_NUMBER_SKIP;f--){let x=this.detectionResultColumns[f].getCodewords()[l];x!=null&&(d=Al.adjustRowNumberIfValid(c,d,x),x.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,o=this.detectionResultColumns[0].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let c=o[l].getRowNumber(),d=0;for(let f=1;f<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;f++){let x=this.detectionResultColumns[f].getCodewords()[l];x!=null&&(d=Al.adjustRowNumberIfValid(c,d,x),x.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,o,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(s)?(l.setRowNumber(s),o=0):++o),o}adjustRowNumbers(s,o,l){if(!this.detectionResultColumns[s-1])return;let c=l[o],d=this.detectionResultColumns[s-1].getCodewords(),f=d;this.detectionResultColumns[s+1]!=null&&(f=this.detectionResultColumns[s+1].getCodewords());let x=new Array(14);x[2]=d[o],x[3]=f[o],o>0&&(x[0]=l[o-1],x[4]=d[o-1],x[5]=f[o-1]),o>1&&(x[8]=l[o-2],x[10]=d[o-2],x[11]=f[o-2]),o<l.length-1&&(x[1]=l[o+1],x[6]=d[o+1],x[7]=f[o+1]),o<l.length-2&&(x[9]=l[o+2],x[12]=d[o+2],x[13]=f[o+2]);for(let w of x)if(Al.adjustRowNumber(c,w))return}static adjustRowNumber(s,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===s.getBucket()?(s.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,o){this.detectionResultColumns[s]=o}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Cl;for(let l=0;l<s.getCodewords().length;l++){o.format("CW %3d:",l);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){o.format("    |   ");continue}let d=this.detectionResultColumns[c].getCodewords()[l];if(d==null){o.format("    |   ");continue}o.format(" %3d|%3d",d.getRowNumber(),d.getValue())}o.format("%n")}return o.toString()}}class _l{constructor(s,o,l,c){this.rowNumber=_l.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(o),this.bucket=Math.trunc(l),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==_l.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}_l.BARCODE_ROW_UNKNOWN=-1;class Hn{static initialize(){for(let s=0;s<Fe.SYMBOL_TABLE.length;s++){let o=Fe.SYMBOL_TABLE[s],l=o&1;for(let c=0;c<Fe.BARS_IN_MODULE;c++){let d=0;for(;(o&1)===l;)d+=1,o>>=1;l=o&1,Hn.RATIOS_TABLE[s]||(Hn.RATIOS_TABLE[s]=new Array(Fe.BARS_IN_MODULE)),Hn.RATIOS_TABLE[s][Fe.BARS_IN_MODULE-c-1]=Math.fround(d/Fe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let o=Hn.getDecodedCodewordValue(Hn.sampleBitCounts(s));return o!==-1?o:Hn.getClosestDecodedValue(s)}static sampleBitCounts(s){let o=_e.sum(s),l=new Int32Array(Fe.BARS_IN_MODULE),c=0,d=0;for(let f=0;f<Fe.MODULES_IN_CODEWORD;f++){let x=o/(2*Fe.MODULES_IN_CODEWORD)+f*o/Fe.MODULES_IN_CODEWORD;d+s[c]<=x&&(d+=s[c],c++),l[c]++}return l}static getDecodedCodewordValue(s){let o=Hn.getBitValue(s);return Fe.getCodeword(o)===-1?-1:o}static getBitValue(s){let o=0;for(let l=0;l<s.length;l++)for(let c=0;c<s[l];c++)o=o<<1|(l%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(s){let o=_e.sum(s),l=new Array(Fe.BARS_IN_MODULE);if(o>1)for(let f=0;f<l.length;f++)l[f]=Math.fround(s[f]/o);let c=Dt.MAX_VALUE,d=-1;this.bSymbolTableReady||Hn.initialize();for(let f=0;f<Hn.RATIOS_TABLE.length;f++){let x=0,w=Hn.RATIOS_TABLE[f];for(let b=0;b<Fe.BARS_IN_MODULE;b++){let A=Math.fround(w[b]-l[b]);if(x+=Math.fround(A*A),x>=c)break}x<c&&(c=x,d=Fe.SYMBOL_TABLE[f])}return d}}Hn.bSymbolTableReady=!1,Hn.RATIOS_TABLE=new Array(Fe.SYMBOL_TABLE.length).map(R=>new Array(Fe.BARS_IN_MODULE));class im{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class om{static parseLong(s,o=void 0){return parseInt(s,o)}}class am extends p{}am.kind="NullPointerException";class HA{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,o,l){if(s==null)throw new am;if(o<0||o>s.length||l<0||o+l>s.length||o+l<0)throw new O;if(l===0)return;for(let c=0;c<l;c++)this.write(s[o+c])}flush(){}close(){}}class $A extends p{}class GA extends HA{constructor(s=32){if(super(),this.count=0,s<0)throw new v("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let l=this.buf.length<<1;if(l-s<0&&(l=s),l<0){if(s<0)throw new $A;l=S.MAX_VALUE}this.buf=_.copyOfUint8Array(this.buf,l)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,o,l){if(o<0||o>s.length||l<0||o+l-s.length>0)throw new O;this.ensureCapacity(this.count+l),T.arraycopy(s,o,this.buf,this.count,l),this.count+=l}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return _.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var wt;(function(R){R[R.ALPHA=0]="ALPHA",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.PUNCT=3]="PUNCT",R[R.ALPHA_SHIFT=4]="ALPHA_SHIFT",R[R.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(wt||(wt={}));function lm(){if(typeof window<"u")return window.BigInt||null;if(typeof pn<"u")return pn.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let lu;function Ys(R){if(typeof lu>"u"&&(lu=lm()),lu===null)throw new Error("BigInt is not supported!");return lu(R)}function qA(){let R=[];R[0]=Ys(1);let s=Ys(900);R[1]=s;for(let o=2;o<16;o++)R[o]=R[o-1]*s;return R}class Z{static decode(s,o){let l=new se(""),c=M.ISO8859_1;l.enableDecoding(c);let d=1,f=s[d++],x=new im;for(;d<s[0];){switch(f){case Z.TEXT_COMPACTION_MODE_LATCH:d=Z.textCompaction(s,d,l);break;case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:d=Z.byteCompaction(f,s,c,d,l);break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[d++]);break;case Z.NUMERIC_COMPACTION_MODE_LATCH:d=Z.numericCompaction(s,d,l);break;case Z.ECI_CHARSET:M.getCharacterSetECIByValue(s[d++]);break;case Z.ECI_GENERAL_PURPOSE:d+=2;break;case Z.ECI_USER_DEFINED:d++;break;case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=Z.decodeMacroBlock(s,d,x);break;case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:throw new F;default:d--,d=Z.textCompaction(s,d,l);break}if(d<s.length)f=s[d++];else throw F.getFormatInstance()}if(l.length()===0)throw F.getFormatInstance();let w=new Pe(null,l.toString(),null,o);return w.setOther(x),w}static decodeMacroBlock(s,o,l){if(o+Z.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw F.getFormatInstance();let c=new Int32Array(Z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<Z.NUMBER_OF_SEQUENCE_CODEWORDS;x++,o++)c[x]=s[o];l.setSegmentIndex(S.parseInt(Z.decodeBase900toBase10(c,Z.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new se;o=Z.textCompaction(s,o,d),l.setFileId(d.toString());let f=-1;for(s[o]===Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=o+1);o<s[0];)switch(s[o]){case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,s[o]){case Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new se;o=Z.textCompaction(s,o+1,x),l.setFileName(x.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new se;o=Z.textCompaction(s,o+1,w),l.setSender(w.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let b=new se;o=Z.textCompaction(s,o+1,b),l.setAddressee(b.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let A=new se;o=Z.numericCompaction(s,o+1,A),l.setSegmentCount(S.parseInt(A.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let k=new se;o=Z.numericCompaction(s,o+1,k),l.setTimestamp(om.parseLong(k.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let j=new se;o=Z.numericCompaction(s,o+1,j),l.setChecksum(S.parseInt(j.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let U=new se;o=Z.numericCompaction(s,o+1,U),l.setFileSize(om.parseLong(U.toString()));break;default:throw F.getFormatInstance()}break;case Z.MACRO_PDF417_TERMINATOR:o++,l.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(f!==-1){let x=o-f;l.isLastSegment()&&x--,l.setOptionalData(_.copyOfRange(s,f,f+x))}return o}static textCompaction(s,o,l){let c=new Int32Array((s[0]-o)*2),d=new Int32Array((s[0]-o)*2),f=0,x=!1;for(;o<s[0]&&!x;){let w=s[o++];if(w<Z.TEXT_COMPACTION_MODE_LATCH)c[f]=w/30,c[f+1]=w%30,f+=2;else switch(w){case Z.TEXT_COMPACTION_MODE_LATCH:c[f++]=Z.TEXT_COMPACTION_MODE_LATCH;break;case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:o--,x=!0;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[f]=Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=s[o++],d[f]=w,f++;break}}return Z.decodeTextCompaction(c,d,f,l),o}static decodeTextCompaction(s,o,l,c){let d=wt.ALPHA,f=wt.ALPHA,x=0;for(;x<l;){let w=s[x],b="";switch(d){case wt.ALPHA:if(w<26)b=String.fromCharCode(65+w);else switch(w){case 26:b=" ";break;case Z.LL:d=wt.LOWER;break;case Z.ML:d=wt.MIXED;break;case Z.PS:f=d,d=wt.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case Z.TEXT_COMPACTION_MODE_LATCH:d=wt.ALPHA;break}break;case wt.LOWER:if(w<26)b=String.fromCharCode(97+w);else switch(w){case 26:b=" ";break;case Z.AS:f=d,d=wt.ALPHA_SHIFT;break;case Z.ML:d=wt.MIXED;break;case Z.PS:f=d,d=wt.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case Z.TEXT_COMPACTION_MODE_LATCH:d=wt.ALPHA;break}break;case wt.MIXED:if(w<Z.PL)b=Z.MIXED_CHARS[w];else switch(w){case Z.PL:d=wt.PUNCT;break;case 26:b=" ";break;case Z.LL:d=wt.LOWER;break;case Z.AL:d=wt.ALPHA;break;case Z.PS:f=d,d=wt.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case Z.TEXT_COMPACTION_MODE_LATCH:d=wt.ALPHA;break}break;case wt.PUNCT:if(w<Z.PAL)b=Z.PUNCT_CHARS[w];else switch(w){case Z.PAL:d=wt.ALPHA;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case Z.TEXT_COMPACTION_MODE_LATCH:d=wt.ALPHA;break}break;case wt.ALPHA_SHIFT:if(d=f,w<26)b=String.fromCharCode(65+w);else switch(w){case 26:b=" ";break;case Z.TEXT_COMPACTION_MODE_LATCH:d=wt.ALPHA;break}break;case wt.PUNCT_SHIFT:if(d=f,w<Z.PAL)b=Z.PUNCT_CHARS[w];else switch(w){case Z.PAL:d=wt.ALPHA;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[x]);break;case Z.TEXT_COMPACTION_MODE_LATCH:d=wt.ALPHA;break}break}b!==""&&c.append(b),x++}}static byteCompaction(s,o,l,c,d){let f=new GA,x=0,w=0,b=!1;switch(s){case Z.BYTE_COMPACTION_MODE_LATCH:let A=new Int32Array(6),k=o[c++];for(;c<o[0]&&!b;)switch(A[x++]=k,w=900*w+k,k=o[c++],k){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:c--,b=!0;break;default:if(x%5===0&&x>0){for(let j=0;j<6;++j)f.write(Number(Ys(w)>>Ys(8*(5-j))));w=0,x=0}break}c===o[0]&&k<Z.TEXT_COMPACTION_MODE_LATCH&&(A[x++]=k);for(let j=0;j<x;j++)f.write(A[j]);break;case Z.BYTE_COMPACTION_MODE_LATCH_6:for(;c<o[0]&&!b;){let j=o[c++];if(j<Z.TEXT_COMPACTION_MODE_LATCH)x++,w=900*w+j;else switch(j){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:c--,b=!0;break}if(x%5===0&&x>0){for(let U=0;U<6;++U)f.write(Number(Ys(w)>>Ys(8*(5-U))));w=0,x=0}}break}return d.append(ee.decode(f.toByteArray(),l)),c}static numericCompaction(s,o,l){let c=0,d=!1,f=new Int32Array(Z.MAX_NUMERIC_CODEWORDS);for(;o<s[0]&&!d;){let x=s[o++];if(o===s[0]&&(d=!0),x<Z.TEXT_COMPACTION_MODE_LATCH)f[c]=x,c++;else switch(x){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:o--,d=!0;break}(c%Z.MAX_NUMERIC_CODEWORDS===0||x===Z.NUMERIC_COMPACTION_MODE_LATCH||d)&&c>0&&(l.append(Z.decodeBase900toBase10(f,c)),c=0)}return o}static decodeBase900toBase10(s,o){let l=Ys(0);for(let d=0;d<o;d++)l+=Z.EXP900[o-d-1]*Ys(s[d]);let c=l.toString();if(c.charAt(0)!=="1")throw new F;return c.substring(1)}}Z.TEXT_COMPACTION_MODE_LATCH=900,Z.BYTE_COMPACTION_MODE_LATCH=901,Z.NUMERIC_COMPACTION_MODE_LATCH=902,Z.BYTE_COMPACTION_MODE_LATCH_6=924,Z.ECI_USER_DEFINED=925,Z.ECI_GENERAL_PURPOSE=926,Z.ECI_CHARSET=927,Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Z.MACRO_PDF417_TERMINATOR=922,Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Z.MAX_NUMERIC_CODEWORDS=15,Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Z.PL=25,Z.LL=27,Z.AS=27,Z.ML=28,Z.AL=28,Z.PS=29,Z.PAL=29,Z.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Z.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Z.EXP900=lm()?qA():[],Z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Qe{constructor(){}static decode(s,o,l,c,d,f,x){let w=new eo(s,o,l,c,d),b=null,A=null,k;for(let z=!0;;z=!1){if(o!=null&&(b=Qe.getRowIndicatorColumn(s,w,o,!0,f,x)),c!=null&&(A=Qe.getRowIndicatorColumn(s,w,c,!1,f,x)),k=Qe.merge(b,A),k==null)throw X.getNotFoundInstance();let G=k.getBoundingBox();if(z&&G!=null&&(G.getMinY()<w.getMinY()||G.getMaxY()>w.getMaxY()))w=G;else break}k.setBoundingBox(w);let j=k.getBarcodeColumnCount()+1;k.setDetectionResultColumn(0,b),k.setDetectionResultColumn(j,A);let U=b!=null;for(let z=1;z<=j;z++){let G=U?z:j-z;if(k.getDetectionResultColumn(G)!==void 0)continue;let Y;G===0||G===j?Y=new sm(w,G===0):Y=new El(w),k.setDetectionResultColumn(G,Y);let J=-1,le=J;for(let ce=w.getMinY();ce<=w.getMaxY();ce++){if(J=Qe.getStartColumn(k,G,ce,U),J<0||J>w.getMaxX()){if(le===-1)continue;J=le}let oe=Qe.detectCodeword(s,w.getMinX(),w.getMaxX(),U,J,ce,f,x);oe!=null&&(Y.setCodeword(ce,oe),le=J,f=Math.min(f,oe.getWidth()),x=Math.max(x,oe.getWidth()))}}return Qe.createDecoderResult(k)}static merge(s,o){if(s==null&&o==null)return null;let l=Qe.getBarcodeMetadata(s,o);if(l==null)return null;let c=eo.merge(Qe.adjustBoundingBox(s),Qe.adjustBoundingBox(o));return new Al(l,c)}static adjustBoundingBox(s){if(s==null)return null;let o=s.getRowHeights();if(o==null)return null;let l=Qe.getMax(o),c=0;for(let x of o)if(c+=l-x,x>0)break;let d=s.getCodewords();for(let x=0;c>0&&d[x]==null;x++)c--;let f=0;for(let x=o.length-1;x>=0&&(f+=l-o[x],!(o[x]>0));x--);for(let x=d.length-1;f>0&&d[x]==null;x--)f--;return s.getBoundingBox().addMissingRows(c,f,s.isLeft())}static getMax(s){let o=-1;for(let l of s)o=Math.max(o,l);return o}static getBarcodeMetadata(s,o){let l;if(s==null||(l=s.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let c;return o==null||(c=o.getBarcodeMetadata())==null?l:l.getColumnCount()!==c.getColumnCount()&&l.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&l.getRowCount()!==c.getRowCount()?null:l}static getRowIndicatorColumn(s,o,l,c,d,f){let x=new sm(o,c);for(let w=0;w<2;w++){let b=w===0?1:-1,A=Math.trunc(Math.trunc(l.getX()));for(let k=Math.trunc(Math.trunc(l.getY()));k<=o.getMaxY()&&k>=o.getMinY();k+=b){let j=Qe.detectCodeword(s,0,s.getWidth(),c,A,k,d,f);j!=null&&(x.setCodeword(k,j),c?A=j.getStartX():A=j.getEndX())}}return x}static adjustCodewordCount(s,o){let l=o[0][1],c=l.getValue(),d=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Qe.getNumberOfECCodeWords(s.getBarcodeECLevel());if(c.length===0){if(d<1||d>Fe.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();l.setValue(d)}else c[0]!==d&&l.setValue(d)}static createDecoderResult(s){let o=Qe.createBarcodeMatrix(s);Qe.adjustCodewordCount(s,o);let l=new Array,c=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),d=[],f=new Array;for(let w=0;w<s.getBarcodeRowCount();w++)for(let b=0;b<s.getBarcodeColumnCount();b++){let A=o[w][b+1].getValue(),k=w*s.getBarcodeColumnCount()+b;A.length===0?l.push(k):A.length===1?c[k]=A[0]:(f.push(k),d.push(A))}let x=new Array(d.length);for(let w=0;w<x.length;w++)x[w]=d[w];return Qe.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),c,Fe.toIntArray(l),Fe.toIntArray(f),x)}static createDecoderResultFromAmbiguousValues(s,o,l,c,d){let f=new Int32Array(c.length),x=100;for(;x-- >0;){for(let w=0;w<f.length;w++)o[c[w]]=d[w][f[w]];try{return Qe.decodeCodewords(o,s,l)}catch(w){if(!(w instanceof N))throw w}if(f.length===0)throw N.getChecksumInstance();for(let w=0;w<f.length;w++)if(f[w]<d[w].length-1){f[w]++;break}else if(f[w]=0,w===f.length-1)throw N.getChecksumInstance()}throw N.getChecksumInstance()}static createBarcodeMatrix(s){let o=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let c=0;c<o.length;c++)for(let d=0;d<o[c].length;d++)o[c][d]=new Sl;let l=0;for(let c of s.getDetectionResultColumns()){if(c!=null){for(let d of c.getCodewords())if(d!=null){let f=d.getRowNumber();if(f>=0){if(f>=o.length)continue;o[f][l].setValue(d.getValue())}}}l++}return o}static isValidBarcodeColumn(s,o){return o>=0&&o<=s.getBarcodeColumnCount()+1}static getStartColumn(s,o,l,c){let d=c?1:-1,f=null;if(Qe.isValidBarcodeColumn(s,o-d)&&(f=s.getDetectionResultColumn(o-d).getCodeword(l)),f!=null)return c?f.getEndX():f.getStartX();if(f=s.getDetectionResultColumn(o).getCodewordNearby(l),f!=null)return c?f.getStartX():f.getEndX();if(Qe.isValidBarcodeColumn(s,o-d)&&(f=s.getDetectionResultColumn(o-d).getCodewordNearby(l)),f!=null)return c?f.getEndX():f.getStartX();let x=0;for(;Qe.isValidBarcodeColumn(s,o-d);){o-=d;for(let w of s.getDetectionResultColumn(o).getCodewords())if(w!=null)return(c?w.getEndX():w.getStartX())+d*x*(w.getEndX()-w.getStartX());x++}return c?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,o,l,c,d,f,x,w){d=Qe.adjustCodewordStartColumn(s,o,l,c,d,f);let b=Qe.getModuleBitCount(s,o,l,c,d,f);if(b==null)return null;let A,k=_e.sum(b);if(c)A=d+k;else{for(let z=0;z<b.length/2;z++){let G=b[z];b[z]=b[b.length-1-z],b[b.length-1-z]=G}A=d,d=A-k}if(!Qe.checkCodewordSkew(k,x,w))return null;let j=Hn.getDecodedValue(b),U=Fe.getCodeword(j);return U===-1?null:new _l(d,A,Qe.getCodewordBucketNumber(j),U)}static getModuleBitCount(s,o,l,c,d,f){let x=d,w=new Int32Array(8),b=0,A=c?1:-1,k=c;for(;(c?x<l:x>=o)&&b<w.length;)s.get(x,f)===k?(w[b]++,x+=A):(b++,k=!k);return b===w.length||x===(c?l:o)&&b===w.length-1?w:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,o,l,c,d,f){let x=d,w=c?-1:1;for(let b=0;b<2;b++){for(;(c?x>=o:x<l)&&c===s.get(x,f);){if(Math.abs(d-x)>Qe.CODEWORD_SKEW_SIZE)return d;x+=w}w=-w,c=!c}return x}static checkCodewordSkew(s,o,l){return o-Qe.CODEWORD_SKEW_SIZE<=s&&s<=l+Qe.CODEWORD_SKEW_SIZE}static decodeCodewords(s,o,l){if(s.length===0)throw F.getFormatInstance();let c=1<<o+1,d=Qe.correctErrors(s,l,c);Qe.verifyCodewordCount(s,c);let f=Z.decode(s,""+o);return f.setErrorsCorrected(d),f.setErasures(l.length),f}static correctErrors(s,o,l){if(o!=null&&o.length>l/2+Qe.MAX_ERRORS||l<0||l>Qe.MAX_EC_CODEWORDS)throw N.getChecksumInstance();return Qe.errorCorrection.decode(s,l,o)}static verifyCodewordCount(s,o){if(s.length<4)throw F.getFormatInstance();let l=s[0];if(l>s.length)throw F.getFormatInstance();if(l===0)if(o<s.length)s[0]=s.length-o;else throw F.getFormatInstance()}static getBitCountForCodeword(s){let o=new Int32Array(8),l=0,c=o.length-1;for(;!((s&1)!==l&&(l=s&1,c--,c<0));)o[c]++,s>>=1;return o}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Qe.getCodewordBucketNumber(Qe.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let o=new Cl;for(let l=0;l<s.length;l++){o.format("Row %2d: ",l);for(let c=0;c<s[l].length;c++){let d=s[l][c];d.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}o.format("%n")}return o.toString()}}Qe.CODEWORD_SKEW_SIZE=2,Qe.MAX_ERRORS=3,Qe.MAX_EC_CODEWORDS=512,Qe.errorCorrection=new rm;class wn{decode(s,o=null){let l=wn.decode(s,o,!1);if(l==null||l.length===0||l[0]==null)throw X.getNotFoundInstance();return l[0]}decodeMultiple(s,o=null){try{return wn.decode(s,o,!0)}catch(l){throw l instanceof F||l instanceof N?X.getNotFoundInstance():l}}static decode(s,o,l){const c=new Array,d=Ye.detectMultiple(s,o,l);for(const f of d.getPoints()){const x=Qe.decode(d.getBits(),f[4],f[5],f[6],f[7],wn.getMinCodewordWidth(f),wn.getMaxCodewordWidth(f)),w=new Re(x.getText(),x.getRawBytes(),void 0,f,de.PDF_417);w.putMetadata(xe.ERROR_CORRECTION_LEVEL,x.getECLevel());const b=x.getOther();b!=null&&w.putMetadata(xe.PDF417_EXTRA_METADATA,b),c.push(w)}return c.map(f=>f)}static getMaxWidth(s,o){return s==null||o==null?0:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMinWidth(s,o){return s==null||o==null?S.MAX_VALUE:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(wn.getMaxWidth(s[0],s[4]),wn.getMaxWidth(s[6],s[2])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN),Math.max(wn.getMaxWidth(s[1],s[5]),wn.getMaxWidth(s[7],s[3])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(wn.getMinWidth(s[0],s[4]),wn.getMinWidth(s[6],s[2])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN),Math.min(wn.getMinWidth(s[1],s[5]),wn.getMinWidth(s[7],s[3])*Fe.MODULES_IN_CODEWORD/Fe.MODULES_IN_STOP_PATTERN)))}reset(){}}class cu extends p{}cu.kind="ReaderException";class cm{constructor(s,o){this.verbose=s===!0,o&&this.setHints(o)}decode(s,o){return o&&this.setHints(o),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const o=!r(s)&&s.get(V.TRY_HARDER)===!0,l=r(s)?null:s.get(V.POSSIBLE_FORMATS),c=new Array;if(!r(l)){const d=l.some(f=>f===de.UPC_A||f===de.UPC_E||f===de.EAN_13||f===de.EAN_8||f===de.CODABAR||f===de.CODE_39||f===de.CODE_93||f===de.CODE_128||f===de.ITF||f===de.RSS_14||f===de.RSS_EXPANDED);d&&!o&&c.push(new Go(s,this.verbose)),l.includes(de.QR_CODE)&&c.push(new Xs),l.includes(de.DATA_MATRIX)&&c.push(new qs),l.includes(de.AZTEC)&&c.push(new Pr),l.includes(de.PDF_417)&&c.push(new wn),d&&o&&c.push(new Go(s,this.verbose))}c.length===0&&(o||c.push(new Go(s,this.verbose)),c.push(new Xs),c.push(new qs),c.push(new Pr),c.push(new wn),o&&c.push(new Go(s,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new cu("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(s,this.hints)}catch(l){if(l instanceof cu)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class XA extends we{constructor(s=null,o=500){const l=new cm;l.setHints(s),super(l,o)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class YA extends we{constructor(s=500){super(new wn,s)}}class KA extends we{constructor(s=500){super(new Xs,s)}}var hh;(function(R){R[R.ERROR_CORRECTION=0]="ERROR_CORRECTION",R[R.CHARACTER_SET=1]="CHARACTER_SET",R[R.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",R[R.MIN_SIZE=3]="MIN_SIZE",R[R.MAX_SIZE=4]="MAX_SIZE",R[R.MARGIN=5]="MARGIN",R[R.PDF417_COMPACT=6]="PDF417_COMPACT",R[R.PDF417_COMPACTION=7]="PDF417_COMPACTION",R[R.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",R[R.AZTEC_LAYERS=9]="AZTEC_LAYERS",R[R.QR_VERSION=10]="QR_VERSION"})(hh||(hh={}));var sn=hh;class ph{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new ge(s,Int32Array.from([1])))}buildGenerator(s){const o=this.cachedGenerators;if(s>=o.length){let l=o[o.length-1];const c=this.field;for(let d=o.length;d<=s;d++){const f=l.multiply(new ge(c,Int32Array.from([1,c.exp(d-1+c.getGeneratorBase())])));o.push(f),l=f}}return o[s]}encode(s,o){if(o===0)throw new v("No error correction bytes");const l=s.length-o;if(l<=0)throw new v("No data bytes provided");const c=this.buildGenerator(o),d=new Int32Array(l);T.arraycopy(s,0,d,0,l);let f=new ge(this.field,d);f=f.multiplyByMonomial(o,1);const w=f.divide(c)[1].getCoefficients(),b=o-w.length;for(let A=0;A<b;A++)s[l+A]=0;T.arraycopy(w,0,s,l+b,w.length)}}class Ht{constructor(){}static applyMaskPenaltyRule1(s){return Ht.applyMaskPenaltyRule1Internal(s,!0)+Ht.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let o=0;const l=s.getArray(),c=s.getWidth(),d=s.getHeight();for(let f=0;f<d-1;f++){const x=l[f];for(let w=0;w<c-1;w++){const b=x[w];b===x[w+1]&&b===l[f+1][w]&&b===l[f+1][w+1]&&o++}}return Ht.N2*o}static applyMaskPenaltyRule3(s){let o=0;const l=s.getArray(),c=s.getWidth(),d=s.getHeight();for(let f=0;f<d;f++)for(let x=0;x<c;x++){const w=l[f];x+6<c&&w[x]===1&&w[x+1]===0&&w[x+2]===1&&w[x+3]===1&&w[x+4]===1&&w[x+5]===0&&w[x+6]===1&&(Ht.isWhiteHorizontal(w,x-4,x)||Ht.isWhiteHorizontal(w,x+7,x+11))&&o++,f+6<d&&l[f][x]===1&&l[f+1][x]===0&&l[f+2][x]===1&&l[f+3][x]===1&&l[f+4][x]===1&&l[f+5][x]===0&&l[f+6][x]===1&&(Ht.isWhiteVertical(l,x,f-4,f)||Ht.isWhiteVertical(l,x,f+7,f+11))&&o++}return o*Ht.N3}static isWhiteHorizontal(s,o,l){o=Math.max(o,0),l=Math.min(l,s.length);for(let c=o;c<l;c++)if(s[c]===1)return!1;return!0}static isWhiteVertical(s,o,l,c){l=Math.max(l,0),c=Math.min(c,s.length);for(let d=l;d<c;d++)if(s[d][o]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let o=0;const l=s.getArray(),c=s.getWidth(),d=s.getHeight();for(let w=0;w<d;w++){const b=l[w];for(let A=0;A<c;A++)b[A]===1&&o++}const f=s.getHeight()*s.getWidth();return Math.floor(Math.abs(o*2-f)*10/f)*Ht.N4}static getDataMaskBit(s,o,l){let c,d;switch(s){case 0:c=l+o&1;break;case 1:c=l&1;break;case 2:c=o%3;break;case 3:c=(l+o)%3;break;case 4:c=Math.floor(l/2)+Math.floor(o/3)&1;break;case 5:d=l*o,c=(d&1)+d%3;break;case 6:d=l*o,c=(d&1)+d%3&1;break;case 7:d=l*o,c=d%3+(l+o&1)&1;break;default:throw new v("Invalid mask pattern: "+s)}return c===0}static applyMaskPenaltyRule1Internal(s,o){let l=0;const c=o?s.getHeight():s.getWidth(),d=o?s.getWidth():s.getHeight(),f=s.getArray();for(let x=0;x<c;x++){let w=0,b=-1;for(let A=0;A<d;A++){const k=o?f[x][A]:f[A][x];k===b?w++:(w>=5&&(l+=Ht.N1+(w-5)),w=1,b=k)}w>=5&&(l+=Ht.N1+(w-5))}return l}}Ht.N1=3,Ht.N2=3,Ht.N3=40,Ht.N4=10;class uu{constructor(s,o){this.width=s,this.height=o;const l=new Array(o);for(let c=0;c!==o;c++)l[c]=new Uint8Array(s);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(s,o){return this.bytes[o][s]}getArray(){return this.bytes}setNumber(s,o,l){this.bytes[o][s]=l}setBoolean(s,o,l){this.bytes[o][s]=l?1:0}clear(s){for(const o of this.bytes)_.fill(o,s)}equals(s){if(!(s instanceof uu))return!1;const o=s;if(this.width!==o.width||this.height!==o.height)return!1;for(let l=0,c=this.height;l<c;++l){const d=this.bytes[l],f=o.bytes[l];for(let x=0,w=this.width;x<w;++x)if(d[x]!==f[x])return!1}return!0}toString(){const s=new se;for(let o=0,l=this.height;o<l;++o){const c=this.bytes[o];for(let d=0,f=this.width;d<f;++d)switch(c[d]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class to{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new se;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<to.NUM_MASK_PATTERNS}}to.NUM_MASK_PATTERNS=8;class bt extends p{}bt.kind="WriterException";class je{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,o,l,c,d){je.clearMatrix(d),je.embedBasicPatterns(l,d),je.embedTypeInfo(o,c,d),je.maybeEmbedVersionInfo(l,d),je.embedDataBits(s,c,d)}static embedBasicPatterns(s,o){je.embedPositionDetectionPatternsAndSeparators(o),je.embedDarkDotAtLeftBottomCorner(o),je.maybeEmbedPositionAdjustmentPatterns(s,o),je.embedTimingPatterns(o)}static embedTypeInfo(s,o,l){const c=new D;je.makeTypeInfoBits(s,o,c);for(let d=0,f=c.getSize();d<f;++d){const x=c.get(c.getSize()-1-d),w=je.TYPE_INFO_COORDINATES[d],b=w[0],A=w[1];if(l.setBoolean(b,A,x),d<8){const k=l.getWidth()-d-1;l.setBoolean(k,8,x)}else{const j=l.getHeight()-7+(d-8);l.setBoolean(8,j,x)}}}static maybeEmbedVersionInfo(s,o){if(s.getVersionNumber()<7)return;const l=new D;je.makeVersionInfoBits(s,l);let c=6*3-1;for(let d=0;d<6;++d)for(let f=0;f<3;++f){const x=l.get(c);c--,o.setBoolean(d,o.getHeight()-11+f,x),o.setBoolean(o.getHeight()-11+f,d,x)}}static embedDataBits(s,o,l){let c=0,d=-1,f=l.getWidth()-1,x=l.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);x>=0&&x<l.getHeight();){for(let w=0;w<2;++w){const b=f-w;if(!je.isEmpty(l.get(b,x)))continue;let A;c<s.getSize()?(A=s.get(c),++c):A=!1,o!==255&&Ht.getDataMaskBit(o,b,x)&&(A=!A),l.setBoolean(b,x,A)}x+=d}d=-d,x+=d,f-=2}if(c!==s.getSize())throw new bt("Not all bits consumed: "+c+"/"+s.getSize())}static findMSBSet(s){return 32-S.numberOfLeadingZeros(s)}static calculateBCHCode(s,o){if(o===0)throw new v("0 polynomial");const l=je.findMSBSet(o);for(s<<=l-1;je.findMSBSet(s)>=l;)s^=o<<je.findMSBSet(s)-l;return s}static makeTypeInfoBits(s,o,l){if(!to.isValidMaskPattern(o))throw new bt("Invalid mask pattern");const c=s.getBits()<<3|o;l.appendBits(c,5);const d=je.calculateBCHCode(c,je.TYPE_INFO_POLY);l.appendBits(d,10);const f=new D;if(f.appendBits(je.TYPE_INFO_MASK_PATTERN,15),l.xor(f),l.getSize()!==15)throw new bt("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(s,o){o.appendBits(s.getVersionNumber(),6);const l=je.calculateBCHCode(s.getVersionNumber(),je.VERSION_INFO_POLY);if(o.appendBits(l,12),o.getSize()!==18)throw new bt("should not happen but we got: "+o.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let o=8;o<s.getWidth()-8;++o){const l=(o+1)%2;je.isEmpty(s.get(o,6))&&s.setNumber(o,6,l),je.isEmpty(s.get(6,o))&&s.setNumber(6,o,l)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new bt;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,o,l){for(let c=0;c<8;++c){if(!je.isEmpty(l.get(s+c,o)))throw new bt;l.setNumber(s+c,o,0)}}static embedVerticalSeparationPattern(s,o,l){for(let c=0;c<7;++c){if(!je.isEmpty(l.get(s,o+c)))throw new bt;l.setNumber(s,o+c,0)}}static embedPositionAdjustmentPattern(s,o,l){for(let c=0;c<5;++c){const d=je.POSITION_ADJUSTMENT_PATTERN[c];for(let f=0;f<5;++f)l.setNumber(s+f,o+c,d[f])}}static embedPositionDetectionPattern(s,o,l){for(let c=0;c<7;++c){const d=je.POSITION_DETECTION_PATTERN[c];for(let f=0;f<7;++f)l.setNumber(s+f,o+c,d[f])}}static embedPositionDetectionPatternsAndSeparators(s){const o=je.POSITION_DETECTION_PATTERN[0].length;je.embedPositionDetectionPattern(0,0,s),je.embedPositionDetectionPattern(s.getWidth()-o,0,s),je.embedPositionDetectionPattern(0,s.getWidth()-o,s);const l=8;je.embedHorizontalSeparationPattern(0,l-1,s),je.embedHorizontalSeparationPattern(s.getWidth()-l,l-1,s),je.embedHorizontalSeparationPattern(0,s.getWidth()-l,s);const c=7;je.embedVerticalSeparationPattern(c,0,s),je.embedVerticalSeparationPattern(s.getHeight()-c-1,0,s),je.embedVerticalSeparationPattern(c,s.getHeight()-c,s)}static maybeEmbedPositionAdjustmentPatterns(s,o){if(s.getVersionNumber()<2)return;const l=s.getVersionNumber()-1,c=je.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let d=0,f=c.length;d!==f;d++){const x=c[d];if(x>=0)for(let w=0;w!==f;w++){const b=c[w];b>=0&&je.isEmpty(o.get(b,x))&&je.embedPositionAdjustmentPattern(b-2,x-2,o)}}}}je.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),je.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),je.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),je.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),je.VERSION_INFO_POLY=7973,je.TYPE_INFO_POLY=1335,je.TYPE_INFO_MASK_PATTERN=21522;class QA{constructor(s,o){this.dataBytes=s,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class It{constructor(){}static calculateMaskPenalty(s){return Ht.applyMaskPenaltyRule1(s)+Ht.applyMaskPenaltyRule2(s)+Ht.applyMaskPenaltyRule3(s)+Ht.applyMaskPenaltyRule4(s)}static encode(s,o,l=null){let c=It.DEFAULT_BYTE_MODE_ENCODING;const d=l!==null&&l.get(sn.CHARACTER_SET)!==void 0;d&&(c=l.get(sn.CHARACTER_SET).toString());const f=this.chooseMode(s,c),x=new D;if(f===De.BYTE&&(d||It.DEFAULT_BYTE_MODE_ENCODING!==c)){const ce=M.getCharacterSetECIByName(c);ce!==void 0&&this.appendECI(ce,x)}this.appendModeInfo(f,x);const w=new D;this.appendBytes(s,f,w,c);let b;if(l!==null&&l.get(sn.QR_VERSION)!==void 0){const ce=Number.parseInt(l.get(sn.QR_VERSION).toString(),10);b=Ie.getVersionForNumber(ce);const oe=this.calculateBitsNeeded(f,x,w,b);if(!this.willFit(oe,b,o))throw new bt("Data too big for requested version")}else b=this.recommendVersion(o,f,x,w);const A=new D;A.appendBitArray(x);const k=f===De.BYTE?w.getSizeInBytes():s.length;this.appendLengthInfo(k,b,f,A),A.appendBitArray(w);const j=b.getECBlocksForLevel(o),U=b.getTotalCodewords()-j.getTotalECCodewords();this.terminateBits(U,A);const z=this.interleaveWithECBytes(A,b.getTotalCodewords(),U,j.getNumBlocks()),G=new to;G.setECLevel(o),G.setMode(f),G.setVersion(b);const Y=b.getDimensionForVersion(),J=new uu(Y,Y),le=this.chooseMaskPattern(z,o,b,J);return G.setMaskPattern(le),je.buildMatrix(z,o,b,le,J),G.setMatrix(J),G}static recommendVersion(s,o,l,c){const d=this.calculateBitsNeeded(o,l,c,Ie.getVersionForNumber(1)),f=this.chooseVersion(d,s),x=this.calculateBitsNeeded(o,l,c,f);return this.chooseVersion(x,s)}static calculateBitsNeeded(s,o,l,c){return o.getSize()+s.getCharacterCountBits(c)+l.getSize()}static getAlphanumericCode(s){return s<It.ALPHANUMERIC_TABLE.length?It.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,o=null){if(M.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(s))return De.KANJI;let l=!1,c=!1;for(let d=0,f=s.length;d<f;++d){const x=s.charAt(d);if(It.isDigit(x))l=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)c=!0;else return De.BYTE}return c?De.ALPHANUMERIC:l?De.NUMERIC:De.BYTE}static isOnlyDoubleByteKanji(s){let o;try{o=ee.encode(s,M.SJIS)}catch{return!1}const l=o.length;if(l%2!==0)return!1;for(let c=0;c<l;c+=2){const d=o[c]&255;if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(s,o,l,c){let d=Number.MAX_SAFE_INTEGER,f=-1;for(let x=0;x<to.NUM_MASK_PATTERNS;x++){je.buildMatrix(s,o,l,x,c);let w=this.calculateMaskPenalty(c);w<d&&(d=w,f=x)}return f}static chooseVersion(s,o){for(let l=1;l<=40;l++){const c=Ie.getVersionForNumber(l);if(It.willFit(s,c,o))return c}throw new bt("Data too big")}static willFit(s,o,l){const c=o.getTotalCodewords(),f=o.getECBlocksForLevel(l).getTotalECCodewords(),x=c-f,w=(s+7)/8;return x>=w}static terminateBits(s,o){const l=s*8;if(o.getSize()>l)throw new bt("data bits cannot fit in the QR Code"+o.getSize()+" > "+l);for(let f=0;f<4&&o.getSize()<l;++f)o.appendBit(!1);const c=o.getSize()&7;if(c>0)for(let f=c;f<8;f++)o.appendBit(!1);const d=s-o.getSizeInBytes();for(let f=0;f<d;++f)o.appendBits(f&1?17:236,8);if(o.getSize()!==l)throw new bt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,o,l,c,d,f){if(c>=l)throw new bt("Block ID too large");const x=s%l,w=l-x,b=Math.floor(s/l),A=b+1,k=Math.floor(o/l),j=k+1,U=b-k,z=A-j;if(U!==z)throw new bt("EC bytes mismatch");if(l!==w+x)throw new bt("RS blocks mismatch");if(s!==(k+U)*w+(j+z)*x)throw new bt("Total bytes mismatch");c<w?(d[0]=k,f[0]=U):(d[0]=j,f[0]=z)}static interleaveWithECBytes(s,o,l,c){if(s.getSizeInBytes()!==l)throw new bt("Number of bits and data bytes does not match");let d=0,f=0,x=0;const w=new Array;for(let A=0;A<c;++A){const k=new Int32Array(1),j=new Int32Array(1);It.getNumDataBytesAndNumECBytesForBlockID(o,l,c,A,k,j);const U=k[0],z=new Uint8Array(U);s.toBytes(8*d,z,0,U);const G=It.generateECBytes(z,j[0]);w.push(new QA(z,G)),f=Math.max(f,U),x=Math.max(x,G.length),d+=k[0]}if(l!==d)throw new bt("Data bytes does not match offset");const b=new D;for(let A=0;A<f;++A)for(const k of w){const j=k.getDataBytes();A<j.length&&b.appendBits(j[A],8)}for(let A=0;A<x;++A)for(const k of w){const j=k.getErrorCorrectionBytes();A<j.length&&b.appendBits(j[A],8)}if(o!==b.getSizeInBytes())throw new bt("Interleaving error: "+o+" and "+b.getSizeInBytes()+" differ.");return b}static generateECBytes(s,o){const l=s.length,c=new Int32Array(l+o);for(let f=0;f<l;f++)c[f]=s[f]&255;new ph(Ae.QR_CODE_FIELD_256).encode(c,o);const d=new Uint8Array(o);for(let f=0;f<o;f++)d[f]=c[l+f];return d}static appendModeInfo(s,o){o.appendBits(s.getBits(),4)}static appendLengthInfo(s,o,l,c){const d=l.getCharacterCountBits(o);if(s>=1<<d)throw new bt(s+" is bigger than "+((1<<d)-1));c.appendBits(s,d)}static appendBytes(s,o,l,c){switch(o){case De.NUMERIC:It.appendNumericBytes(s,l);break;case De.ALPHANUMERIC:It.appendAlphanumericBytes(s,l);break;case De.BYTE:It.append8BitBytes(s,l,c);break;case De.KANJI:It.appendKanjiBytes(s,l);break;default:throw new bt("Invalid mode: "+o)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const o=It.getDigit(s);return o>=0&&o<=9}static appendNumericBytes(s,o){const l=s.length;let c=0;for(;c<l;){const d=It.getDigit(s.charAt(c));if(c+2<l){const f=It.getDigit(s.charAt(c+1)),x=It.getDigit(s.charAt(c+2));o.appendBits(d*100+f*10+x,10),c+=3}else if(c+1<l){const f=It.getDigit(s.charAt(c+1));o.appendBits(d*10+f,7),c+=2}else o.appendBits(d,4),c++}}static appendAlphanumericBytes(s,o){const l=s.length;let c=0;for(;c<l;){const d=It.getAlphanumericCode(s.charCodeAt(c));if(d===-1)throw new bt;if(c+1<l){const f=It.getAlphanumericCode(s.charCodeAt(c+1));if(f===-1)throw new bt;o.appendBits(d*45+f,11),c+=2}else o.appendBits(d,6),c++}}static append8BitBytes(s,o,l){let c;try{c=ee.encode(s,l)}catch(d){throw new bt(d)}for(let d=0,f=c.length;d!==f;d++){const x=c[d];o.appendBits(x,8)}}static appendKanjiBytes(s,o){let l;try{l=ee.encode(s,M.SJIS)}catch(d){throw new bt(d)}const c=l.length;for(let d=0;d<c;d+=2){const f=l[d]&255,x=l[d+1]&255,w=f<<8&4294967295|x;let b=-1;if(w>=33088&&w<=40956?b=w-33088:w>=57408&&w<=60351&&(b=w-49472),b===-1)throw new bt("Invalid byte sequence");const A=(b>>8)*192+(b&255);o.appendBits(A,13)}}static appendECI(s,o){o.appendBits(De.ECI.getBits(),4),o.appendBits(s.getValue(),8)}}It.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),It.DEFAULT_BYTE_MODE_ENCODING=M.UTF8.getName();class no{write(s,o,l,c=null){if(s.length===0)throw new v("Found empty contents");if(o<0||l<0)throw new v("Requested dimensions are too small: "+o+"x"+l);let d=_t.L,f=no.QUIET_ZONE_SIZE;c!==null&&(c.get(sn.ERROR_CORRECTION)!==void 0&&(d=_t.fromString(c.get(sn.ERROR_CORRECTION).toString())),c.get(sn.MARGIN)!==void 0&&(f=Number.parseInt(c.get(sn.MARGIN).toString(),10)));const x=It.encode(s,d,c);return this.renderResult(x,o,l,f)}writeToDom(s,o,l,c,d=null){typeof s=="string"&&(s=document.querySelector(s));const f=this.write(o,l,c,d);s&&s.appendChild(f)}renderResult(s,o,l,c){const d=s.getMatrix();if(d===null)throw new We;const f=d.getWidth(),x=d.getHeight(),w=f+c*2,b=x+c*2,A=Math.max(o,w),k=Math.max(l,b),j=Math.min(Math.floor(A/w),Math.floor(k/b)),U=Math.floor((A-f*j)/2),z=Math.floor((k-x*j)/2),G=this.createSVGElement(A,k);for(let Y=0,J=z;Y<x;Y++,J+=j)for(let le=0,ce=U;le<f;le++,ce+=j)if(d.get(le,Y)===1){const oe=this.createSvgRectElement(ce,J,j,j);G.appendChild(oe)}return G}createSVGElement(s,o){const l=document.createElementNS(no.SVG_NS,"svg");return l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",o.toString()),l}createSvgRectElement(s,o,l,c){const d=document.createElementNS(no.SVG_NS,"rect");return d.setAttributeNS(null,"x",s.toString()),d.setAttributeNS(null,"y",o.toString()),d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",c.toString()),d.setAttributeNS(null,"fill","#000000"),d}}no.QUIET_ZONE_SIZE=4,no.SVG_NS="http://www.w3.org/2000/svg";class Xo{encode(s,o,l,c,d){if(s.length===0)throw new v("Found empty contents");if(o!==de.QR_CODE)throw new v("Can only encode QR_CODE, but got "+o);if(l<0||c<0)throw new v(`Requested dimensions are too small: ${l}x${c}`);let f=_t.L,x=Xo.QUIET_ZONE_SIZE;d!==null&&(d.get(sn.ERROR_CORRECTION)!==void 0&&(f=_t.fromString(d.get(sn.ERROR_CORRECTION).toString())),d.get(sn.MARGIN)!==void 0&&(x=Number.parseInt(d.get(sn.MARGIN).toString(),10)));const w=It.encode(s,f,d);return Xo.renderResult(w,l,c,x)}static renderResult(s,o,l,c){const d=s.getMatrix();if(d===null)throw new We;const f=d.getWidth(),x=d.getHeight(),w=f+c*2,b=x+c*2,A=Math.max(o,w),k=Math.max(l,b),j=Math.min(Math.floor(A/w),Math.floor(k/b)),U=Math.floor((A-f*j)/2),z=Math.floor((k-x*j)/2),G=new re(A,k);for(let Y=0,J=z;Y<x;Y++,J+=j)for(let le=0,ce=U;le<f;le++,ce+=j)d.get(le,Y)===1&&G.setRegion(ce,J,j,j);return G}}Xo.QUIET_ZONE_SIZE=4;class ZA{encode(s,o,l,c,d){let f;switch(o){case de.QR_CODE:f=new Xo;break;default:throw new v("No encoder available for format "+o)}return f.encode(s,o,l,c,d)}}class ts extends Q{constructor(s,o,l,c,d,f,x,w){if(super(f,x),this.yuvData=s,this.dataWidth=o,this.dataHeight=l,this.left=c,this.top=d,c+f>o||d+x>l)throw new v("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(f,x)}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const c=(s+this.top)*this.dataWidth+this.left;return T.arraycopy(this.yuvData,c,o,0,l),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.yuvData;const l=s*o,c=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return T.arraycopy(this.yuvData,d,c,0,l),c;for(let f=0;f<o;f++){const x=f*s;T.arraycopy(this.yuvData,d,c,x,s),d+=this.dataWidth}return c}isCropSupported(){return!0}crop(s,o,l,c){return new ts(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+o,l,c,!1)}renderThumbnail(){const s=this.getWidth()/ts.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/ts.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(s*o),c=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let f=0;f<o;f++){const x=f*s;for(let w=0;w<s;w++){const b=c[d+w*ts.THUMBNAIL_SCALE_FACTOR]&255;l[x+w]=4278190080|b*65793}d+=this.dataWidth*ts.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/ts.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ts.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,o){const l=this.yuvData;for(let c=0,d=this.top*this.dataWidth+this.left;c<o;c++,d+=this.dataWidth){const f=d+s/2;for(let x=d,w=d+s-1;x<f;x++,w--){const b=l[x];l[x]=l[w],l[w]=b}}}invert(){return new te(this)}}ts.THUMBNAIL_SCALE_FACTOR=2;class gh extends Q{constructor(s,o,l,c,d,f,x){if(super(o,l),this.dataWidth=c,this.dataHeight=d,this.left=f,this.top=x,s.BYTES_PER_ELEMENT===4){const w=o*l,b=new Uint8ClampedArray(w);for(let A=0;A<w;A++){const k=s[A],j=k>>16&255,U=k>>7&510,z=k&255;b[A]=(j+U+z)/4&255}this.luminances=b}else this.luminances=s;if(c===void 0&&(this.dataWidth=o),d===void 0&&(this.dataHeight=l),f===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+l>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const c=(s+this.top)*this.dataWidth+this.left;return T.arraycopy(this.luminances,c,o,0,l),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.luminances;const l=s*o,c=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return T.arraycopy(this.luminances,d,c,0,l),c;for(let f=0;f<o;f++){const x=f*s;T.arraycopy(this.luminances,d,c,x,s),d+=this.dataWidth}return c}isCropSupported(){return!0}crop(s,o,l,c){return new gh(this.luminances,l,c,this.dataWidth,this.dataHeight,this.left+s,this.top+o)}invert(){return new te(this)}}class um extends M{static forName(s){return this.getCharacterSetECIByName(s)}}class mh{}mh.ISO_8859_1=M.ISO8859_1;class dm{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class fm{static singletonList(s){return[s]}static min(s,o){return s.sort(o)[0]}}class JA{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Yo extends JA{constructor(s,o,l){super(s),this.value=o,this.bitCount=l}appendTo(s,o){s.appendBits(this.value,this.bitCount)}add(s,o){return new Yo(this,s,o)}addBinaryShift(s,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Yo(this,s,o)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+S.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class xh extends Yo{constructor(s,o,l){super(s,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=l}appendTo(s,o){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):l===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(o[this.binaryShiftStart+l],8)}addBinaryShift(s,o){return new xh(this,s,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function e3(R,s,o){return new xh(R,s,o)}function Nl(R,s,o){return new Yo(R,s,o)}const t3=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ks=0,du=1,yr=2,hm=3,ns=4,n3=new Yo(null,0,0),wh=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function r3(R){for(let s of R)_.fill(s,-1);return R[Ks][ns]=0,R[du][ns]=0,R[du][Ks]=28,R[hm][ns]=0,R[yr][ns]=0,R[yr][Ks]=15,R}const pm=r3(_.createInt32Array(6,6));class rs{constructor(s,o,l,c){this.token=s,this.mode=o,this.binaryShiftByteCount=l,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,o){let l=this.bitCount,c=this.token;if(s!==this.mode){let f=wh[this.mode][s];c=Nl(c,f&65535,f>>16),l+=f>>16}let d=s===yr?4:5;return c=Nl(c,o,d),new rs(c,s,0,l+d)}shiftAndAppend(s,o){let l=this.token,c=this.mode===yr?4:5;return l=Nl(l,pm[this.mode][s],c),l=Nl(l,o,5),new rs(l,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(s){let o=this.token,l=this.mode,c=this.bitCount;if(this.mode===ns||this.mode===yr){let x=wh[l][Ks];o=Nl(o,x&65535,x>>16),c+=x>>16,l=Ks}let d=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new rs(o,l,this.binaryShiftByteCount+1,c+d);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(s+1)),f}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=e3(o,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new rs(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let o=this.bitCount+(wh[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?o+=rs.calculateBinaryShiftCost(s)-rs.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(o+=10),o<=s.bitCount}toBitArray(s){let o=[];for(let c=this.endBinaryShift(s.length).token;c!==null;c=c.getPrevious())o.unshift(c);let l=new D;for(const c of o)c.appendTo(l,s);return l}toString(){return q.format("%s bits=%d bytes=%d",t3[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}rs.INITIAL_STATE=new rs(n3,Ks,0,0);function s3(R){const s=q.getCharCode(" "),o=q.getCharCode("."),l=q.getCharCode(",");R[Ks][s]=1;const c=q.getCharCode("Z"),d=q.getCharCode("A");for(let j=d;j<=c;j++)R[Ks][j]=j-d+2;R[du][s]=1;const f=q.getCharCode("z"),x=q.getCharCode("a");for(let j=x;j<=f;j++)R[du][j]=j-x+2;R[yr][s]=1;const w=q.getCharCode("9"),b=q.getCharCode("0");for(let j=b;j<=w;j++)R[yr][j]=j-b+2;R[yr][l]=12,R[yr][o]=13;const A=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let j=0;j<A.length;j++)R[hm][q.getCharCode(A[j])]=j;const k=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let j=0;j<k.length;j++)q.getCharCode(k[j])>0&&(R[ns][q.getCharCode(k[j])]=j);return R}const yh=s3(_.createInt32Array(5,256));class Tl{constructor(s){this.text=s}encode(){const s=q.getCharCode(" "),o=q.getCharCode(`
`);let l=fm.singletonList(rs.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let f,x=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case q.getCharCode("\r"):f=x===o?2:0;break;case q.getCharCode("."):f=x===s?3:0;break;case q.getCharCode(","):f=x===s?4:0;break;case q.getCharCode(":"):f=x===s?5:0;break;default:f=0}f>0?(l=Tl.updateStateListForPair(l,d,f),d++):l=this.updateStateListForChar(l,d)}return fm.min(l,(d,f)=>d.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,o){const l=[];for(let c of s)this.updateStateForChar(c,o,l);return Tl.simplifyStates(l)}updateStateForChar(s,o,l){let c=this.text[o]&255,d=yh[s.getMode()][c]>0,f=null;for(let x=0;x<=ns;x++){let w=yh[x][c];if(w>0){if(f==null&&(f=s.endBinaryShift(o)),!d||x===s.getMode()||x===yr){const b=f.latchAndAppend(x,w);l.push(b)}if(!d&&pm[s.getMode()][x]>=0){const b=f.shiftAndAppend(x,w);l.push(b)}}}if(s.getBinaryShiftByteCount()>0||yh[s.getMode()][c]===0){let x=s.addBinaryShiftChar(o);l.push(x)}}static updateStateListForPair(s,o,l){const c=[];for(let d of s)this.updateStateForPair(d,o,l,c);return this.simplifyStates(c)}static updateStateForPair(s,o,l,c){let d=s.endBinaryShift(o);if(c.push(d.latchAndAppend(ns,l)),s.getMode()!==ns&&c.push(d.shiftAndAppend(ns,l)),l===3||l===4){let f=d.latchAndAppend(yr,16-l).latchAndAppend(yr,1);c.push(f)}if(s.getBinaryShiftByteCount()>0){let f=s.addBinaryShiftChar(o).addBinaryShiftChar(o+1);c.push(f)}}static simplifyStates(s){let o=[];for(const l of s){let c=!0;for(const d of o){if(d.isBetterThanOrEqualTo(l)){c=!1;break}l.isBetterThanOrEqualTo(d)&&(o=o.filter(f=>f!==d))}c&&o.push(l)}return o}}class ot{constructor(){}static encodeBytes(s){return ot.encode(s,ot.DEFAULT_EC_PERCENT,ot.DEFAULT_AZTEC_LAYERS)}static encode(s,o,l){let c=new Tl(s).encode(),d=S.truncDivision(c.getSize()*o,100)+11,f=c.getSize()+d,x,w,b,A,k;if(l!==ot.DEFAULT_AZTEC_LAYERS){if(x=l<0,w=Math.abs(l),w>(x?ot.MAX_NB_BITS_COMPACT:ot.MAX_NB_BITS))throw new v(q.format("Illegal value %s for layers",l));b=ot.totalBitsInLayer(w,x),A=ot.WORD_SIZE[w];let oe=b-b%A;if(k=ot.stuffBits(c,A),k.getSize()+d>oe)throw new v("Data to large for user specified layer");if(x&&k.getSize()>A*64)throw new v("Data to large for user specified layer")}else{A=0,k=null;for(let oe=0;;oe++){if(oe>ot.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(x=oe<=3,w=x?oe+1:oe,b=ot.totalBitsInLayer(w,x),f>b)continue;(k==null||A!==ot.WORD_SIZE[w])&&(A=ot.WORD_SIZE[w],k=ot.stuffBits(c,A));let tt=b-b%A;if(!(x&&k.getSize()>A*64)&&k.getSize()+d<=tt)break}}let j=ot.generateCheckWords(k,b,A),U=k.getSize()/A,z=ot.generateModeMessage(x,w,U),G=(x?11:14)+w*4,Y=new Int32Array(G),J;if(x){J=G;for(let oe=0;oe<Y.length;oe++)Y[oe]=oe}else{J=G+1+2*S.truncDivision(S.truncDivision(G,2)-1,15);let oe=S.truncDivision(G,2),tt=S.truncDivision(J,2);for(let $e=0;$e<oe;$e++){let $n=$e+S.truncDivision($e,15);Y[oe-$e-1]=tt-$n-1,Y[oe+$e]=tt+$n+1}}let le=new re(J);for(let oe=0,tt=0;oe<w;oe++){let $e=(w-oe)*4+(x?9:12);for(let $n=0;$n<$e;$n++){let Mr=$n*2;for(let Gn=0;Gn<2;Gn++)j.get(tt+Mr+Gn)&&le.set(Y[oe*2+Gn],Y[oe*2+$n]),j.get(tt+$e*2+Mr+Gn)&&le.set(Y[oe*2+$n],Y[G-1-oe*2-Gn]),j.get(tt+$e*4+Mr+Gn)&&le.set(Y[G-1-oe*2-Gn],Y[G-1-oe*2-$n]),j.get(tt+$e*6+Mr+Gn)&&le.set(Y[G-1-oe*2-$n],Y[oe*2+Gn])}tt+=$e*8}if(ot.drawModeMessage(le,x,J,z),x)ot.drawBullsEye(le,S.truncDivision(J,2),5);else{ot.drawBullsEye(le,S.truncDivision(J,2),7);for(let oe=0,tt=0;oe<S.truncDivision(G,2)-1;oe+=15,tt+=16)for(let $e=S.truncDivision(J,2)&1;$e<J;$e+=2)le.set(S.truncDivision(J,2)-tt,$e),le.set(S.truncDivision(J,2)+tt,$e),le.set($e,S.truncDivision(J,2)-tt),le.set($e,S.truncDivision(J,2)+tt)}let ce=new dm;return ce.setCompact(x),ce.setSize(J),ce.setLayers(w),ce.setCodeWords(U),ce.setMatrix(le),ce}static drawBullsEye(s,o,l){for(let c=0;c<l;c+=2)for(let d=o-c;d<=o+c;d++)s.set(d,o-c),s.set(d,o+c),s.set(o-c,d),s.set(o+c,d);s.set(o-l,o-l),s.set(o-l+1,o-l),s.set(o-l,o-l+1),s.set(o+l,o-l),s.set(o+l,o-l+1),s.set(o+l,o+l-1)}static generateModeMessage(s,o,l){let c=new D;return s?(c.appendBits(o-1,2),c.appendBits(l-1,6),c=ot.generateCheckWords(c,28,4)):(c.appendBits(o-1,5),c.appendBits(l-1,11),c=ot.generateCheckWords(c,40,4)),c}static drawModeMessage(s,o,l,c){let d=S.truncDivision(l,2);if(o)for(let f=0;f<7;f++){let x=d-3+f;c.get(f)&&s.set(x,d-5),c.get(f+7)&&s.set(d+5,x),c.get(20-f)&&s.set(x,d+5),c.get(27-f)&&s.set(d-5,x)}else for(let f=0;f<10;f++){let x=d-5+f+S.truncDivision(f,5);c.get(f)&&s.set(x,d-7),c.get(f+10)&&s.set(d+7,x),c.get(29-f)&&s.set(x,d+7),c.get(39-f)&&s.set(d-7,x)}}static generateCheckWords(s,o,l){let c=s.getSize()/l,d=new ph(ot.getGF(l)),f=S.truncDivision(o,l),x=ot.bitsToWords(s,l,f);d.encode(x,f-c);let w=o%l,b=new D;b.appendBits(0,w);for(const A of Array.from(x))b.appendBits(A,l);return b}static bitsToWords(s,o,l){let c=new Int32Array(l),d,f;for(d=0,f=s.getSize()/o;d<f;d++){let x=0;for(let w=0;w<o;w++)x|=s.get(d*o+w)?1<<o-w-1:0;c[d]=x}return c}static getGF(s){switch(s){case 4:return Ae.AZTEC_PARAM;case 6:return Ae.AZTEC_DATA_6;case 8:return Ae.AZTEC_DATA_8;case 10:return Ae.AZTEC_DATA_10;case 12:return Ae.AZTEC_DATA_12;default:throw new v("Unsupported word size "+s)}}static stuffBits(s,o){let l=new D,c=s.getSize(),d=(1<<o)-2;for(let f=0;f<c;f+=o){let x=0;for(let w=0;w<o;w++)(f+w>=c||s.get(f+w))&&(x|=1<<o-1-w);(x&d)===d?(l.appendBits(x&d,o),f--):x&d?l.appendBits(x,o):(l.appendBits(x|1,o),f--)}return l}static totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}ot.DEFAULT_EC_PERCENT=33,ot.DEFAULT_AZTEC_LAYERS=0,ot.MAX_NB_BITS=32,ot.MAX_NB_BITS_COMPACT=4,ot.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class fu{encode(s,o,l,c){return this.encodeWithHints(s,o,l,c,null)}encodeWithHints(s,o,l,c,d){let f=mh.ISO_8859_1,x=ot.DEFAULT_EC_PERCENT,w=ot.DEFAULT_AZTEC_LAYERS;return d!=null&&(d.has(sn.CHARACTER_SET)&&(f=um.forName(d.get(sn.CHARACTER_SET).toString())),d.has(sn.ERROR_CORRECTION)&&(x=S.parseInt(d.get(sn.ERROR_CORRECTION).toString())),d.has(sn.AZTEC_LAYERS)&&(w=S.parseInt(d.get(sn.AZTEC_LAYERS).toString()))),fu.encodeLayers(s,o,l,c,f,x,w)}static encodeLayers(s,o,l,c,d,f,x){if(o!==de.AZTEC)throw new v("Can only encode AZTEC, but got "+o);let w=ot.encode(q.getBytes(s,d),f,x);return fu.renderResult(w,l,c)}static renderResult(s,o,l){let c=s.getMatrix();if(c==null)throw new We;let d=c.getWidth(),f=c.getHeight(),x=Math.max(o,d),w=Math.max(l,f),b=Math.min(x/d,w/f),A=(x-d*b)/2,k=(w-f*b)/2,j=new re(x,w);for(let U=0,z=k;U<f;U++,z+=b)for(let G=0,Y=A;G<d;G++,Y+=b)c.get(G,U)&&j.setRegion(Y,z,b,b);return j}}n.AbstractExpandedDecoder=sh,n.ArgumentException=y,n.ArithmeticException=Te,n.AztecCode=dm,n.AztecCodeReader=Pr,n.AztecCodeWriter=fu,n.AztecDecoder=Ne,n.AztecDetector=yl,n.AztecDetectorResult=Hs,n.AztecEncoder=ot,n.AztecHighLevelEncoder=Tl,n.AztecPoint=tn,n.BarcodeFormat=de,n.Binarizer=P,n.BinaryBitmap=E,n.BitArray=D,n.BitMatrix=re,n.BitSource=lh,n.BrowserAztecCodeReader=gr,n.BrowserBarcodeReader=MA,n.BrowserCodeReader=we,n.BrowserDatamatrixCodeReader=LA,n.BrowserMultiFormatReader=XA,n.BrowserPDF417Reader=YA,n.BrowserQRCodeReader=KA,n.BrowserQRCodeSvgWriter=no,n.CharacterSetECI=M,n.ChecksumException=N,n.Code128Reader=pe,n.Code39Reader=nn,n.DataMatrixDecodedBitStreamParser=Gs,n.DataMatrixReader=qs,n.DecodeHintType=V,n.DecoderResult=Pe,n.DefaultGridSampler=mn,n.DetectorResult=On,n.EAN13Reader=Qi,n.EncodeHintType=sn,n.Exception=p,n.FormatException=F,n.GenericGF=Ae,n.GenericGFPoly=ge,n.GlobalHistogramBinarizer=fe,n.GridSampler=Wn,n.GridSamplerInstance=cn,n.HTMLCanvasElementLuminanceSource=he,n.HybridBinarizer=ne,n.ITFReader=vt,n.IllegalArgumentException=v,n.IllegalStateException=We,n.InvertedLuminanceSource=te,n.LuminanceSource=Q,n.MathUtils=_e,n.MultiFormatOneDReader=Go,n.MultiFormatReader=cm,n.MultiFormatWriter=ZA,n.NotFoundException=X,n.OneDReader=At,n.PDF417DecodedBitStreamParser=Z,n.PDF417DecoderErrorCorrection=rm,n.PDF417Reader=wn,n.PDF417ResultMetadata=im,n.PerspectiveTransform=ft,n.PlanarYUVLuminanceSource=ts,n.QRCodeByteMatrix=uu,n.QRCodeDataMask=xr,n.QRCodeDecodedBitStreamParser=Lt,n.QRCodeDecoderErrorCorrectionLevel=_t,n.QRCodeDecoderFormatInformation=An,n.QRCodeEncoder=It,n.QRCodeEncoderQRCode=to,n.QRCodeMaskUtil=Ht,n.QRCodeMatrixUtil=je,n.QRCodeMode=De,n.QRCodeReader=Xs,n.QRCodeVersion=Ie,n.QRCodeWriter=Xo,n.RGBLuminanceSource=gh,n.RSS14Reader=zt,n.RSSExpandedReader=ie,n.ReaderException=cu,n.ReedSolomonDecoder=Be,n.ReedSolomonEncoder=ph,n.ReedSolomonException=He,n.Result=Re,n.ResultMetadataType=xe,n.ResultPoint=ve,n.StringUtils=q,n.UnsupportedOperationException=H,n.VideoInputDevice=ue,n.WhiteRectangleDetector=St,n.WriterException=bt,n.ZXingArrays=_,n.ZXingCharset=um,n.ZXingInteger=S,n.ZXingStandardCharsets=mh,n.ZXingStringBuilder=se,n.ZXingStringEncoding=ee,n.ZXingSystem=T,n.createAbstractExpandedDecoder=tm,Object.defineProperty(n,"__esModule",{value:!0})})})(tp,tp.exports);var kt=tp.exports;const qM=of(kt),XM=dy({__proto__:null,default:qM},[kt]);var Xw=function(){function e(t,n,r){if(this.formatMap=new Map([[Ce.QR_CODE,kt.BarcodeFormat.QR_CODE],[Ce.AZTEC,kt.BarcodeFormat.AZTEC],[Ce.CODABAR,kt.BarcodeFormat.CODABAR],[Ce.CODE_39,kt.BarcodeFormat.CODE_39],[Ce.CODE_93,kt.BarcodeFormat.CODE_93],[Ce.CODE_128,kt.BarcodeFormat.CODE_128],[Ce.DATA_MATRIX,kt.BarcodeFormat.DATA_MATRIX],[Ce.MAXICODE,kt.BarcodeFormat.MAXICODE],[Ce.ITF,kt.BarcodeFormat.ITF],[Ce.EAN_13,kt.BarcodeFormat.EAN_13],[Ce.EAN_8,kt.BarcodeFormat.EAN_8],[Ce.PDF_417,kt.BarcodeFormat.PDF_417],[Ce.RSS_14,kt.BarcodeFormat.RSS_14],[Ce.RSS_EXPANDED,kt.BarcodeFormat.RSS_EXPANDED],[Ce.UPC_A,kt.BarcodeFormat.UPC_A],[Ce.UPC_E,kt.BarcodeFormat.UPC_E],[Ce.UPC_EAN_EXTENSION,kt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!XM)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),a=new Map;a.set(kt.DecodeHintType.POSSIBLE_FORMATS,i),a.set(kt.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var n=new kt.MultiFormatReader(this.verbose,this.hints),r=new kt.HTMLCanvasElementLuminanceSource(t),i=new kt.BinaryBitmap(new kt.HybridBinarizer(r)),a=n.decode(i);return{text:a.text,format:WS.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),YM=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{p(r.next(y))}catch(v){u(v)}}function m(y){try{p(r.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):i(y.value).then(h,m)}p((r=r.apply(e,t||[])).next())})},KM=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],i=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Yw=function(){function e(t,n,r){if(this.formatMap=new Map([[Ce.QR_CODE,"qr_code"],[Ce.AZTEC,"aztec"],[Ce.CODABAR,"codabar"],[Ce.CODE_39,"code_39"],[Ce.CODE_93,"code_93"],[Ce.CODE_128,"code_128"],[Ce.DATA_MATRIX,"data_matrix"],[Ce.ITF,"itf"],[Ce.EAN_13,"ean_13"],[Ce.EAN_8,"ean_8"],[Ce.PDF_417,"pdf417"],[Ce.UPC_A,"upc_a"],[Ce.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return YM(this,void 0,void 0,function(){var n,r;return KM(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:WS.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,a=t;i<a.length;i++){var u=a[i],h=u.boundingBox.width*u.boundingBox.height;h>r&&(r=h,n=u)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Kw=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{p(r.next(y))}catch(v){u(v)}}function m(y){try{p(r.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):i(y.value).then(h,m)}p((r=r.apply(e,t||[])).next())})},Qw=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],i=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},QM=function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Yw.isSupported()?(this.primaryDecoder=new Yw(t,r,i),this.secondaryDecoder=new Xw(t,r,i)):this.primaryDecoder=new Xw(t,r,i)}return e.prototype.decodeAsync=function(t){return Kw(this,void 0,void 0,function(){var n;return Qw(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Kw(this,void 0,void 0,function(){var n,r;return Qw(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Yg=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rf=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{p(r.next(y))}catch(v){u(v)}}function m(y){try{p(r.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):i(y.value).then(h,m)}p((r=r.apply(e,t||[])).next())})},sf=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],i=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},zS=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),ZM=function(e){Yg(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(zS),JM=function(e){Yg(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(ZM),e7=function(e){Yg(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(zS),t7=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new JM(this.track)},e.prototype.torchFeature=function(){return new e7(this.track)},e}(),n7=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return rf(this,void 0,void 0,function(){var a,u;return sf(this,function(h){switch(h.label){case 0:return a=new e(t,n,i),r.aspectRatio?(u={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(u)]):[3,2];case 1:h.sent(),h.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return rf(this,void 0,void 0,function(){return sf(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),a=i.length,u=0;t.mediaStream.getVideoTracks().forEach(function(h){t.mediaStream.removeTrack(h),h.stop(),++u,u>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new t7(this.getFirstTrackOrFail())},e}(),r7=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return rf(this,void 0,void 0,function(){return sf(this,function(i){return[2,n7.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return rf(this,void 0,void 0,function(){var n,r;return sf(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e}(),Zw=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{p(r.next(y))}catch(v){u(v)}}function m(y){try{p(r.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):i(y.value).then(h,m)}p((r=r.apply(e,t||[])).next())})},Jw=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],i=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},s7=function(){function e(){}return e.failIfNotSupported=function(){return Zw(this,void 0,void 0,function(){return Jw(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Zw(this,void 0,void 0,function(){return Jw(this,function(n){return[2,r7.create(t)]})})},e}(),i7=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{p(r.next(y))}catch(v){u(v)}}function m(y){try{p(r.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):i(y.value).then(h,m)}p((r=r.apply(e,t||[])).next())})},o7=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],i=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},a7=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=va.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=va.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return i7(this,void 0,void 0,function(){var t,n,r,i,a,u,h;return o7(this,function(m){switch(m.label){case 0:return t=function(p){for(var y=p.getVideoTracks(),v=0,E=y;v<E.length;v++){var N=E[v];N.enabled=!1,N.stop(),p.removeTrack(N)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=m.sent(),i=[],a=0,u=r;a<u.length;a++)h=u[a],h.kind==="videoinput"&&i.push({id:h.deviceId,label:h.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(a){for(var u=[],h=0,m=a;h<m.length;h++){var p=m[h];p.kind==="video"&&u.push({id:p.id,label:p.label})}t(u)},i=MediaStreamTrack;i.getSources(r)})},e}(),Bt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Bt||(Bt={}));var l7=function(){function e(){this.state=Bt.NOT_STARTED,this.onGoingTransactionNewState=Bt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Bt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Bt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Bt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Bt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Bt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Bt.UNKNOWN:throw"Transition from unknown is not allowed";case Bt.NOT_STARTED:this.failIfNewStateIs(t,[Bt.PAUSED]);break;case Bt.SCANNING:break;case Bt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),c7=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Bt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Bt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Bt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Bt.PAUSED},e}(),u7=function(){function e(){}return e.create=function(){return new c7(new l7)},e}(),d7=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),sr=function(e){d7(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(HM),f7=function(){function e(t,n){this.logger=n,this.fps=sr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=sr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?VS.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Ss(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),h7=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new GM(this.verbose),this.qrcode=new QM(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=u7.create()}return e.prototype.start=function(t,n,r,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var u;i?u=i:u=this.verbose?this.logger.log:function(){};var h=f7.create(n,this.logger);this.clearElement();var m=!1;h.videoConstraints&&(h.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=m,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:sr.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var v=this,E=this.stateManagerProxy.startTransition(Bt.SCANNING);return new Promise(function(N,P){var T=p?h.videoConstraints:v.createVideoConstraints(t);if(!T){E.cancel(),P("videoConstraints should be defined");return}var O={};(!p||h.aspectRatio)&&(O.aspectRatio=h.aspectRatio);var I={onRenderSurfaceReady:function(_,S){v.setupUi(_,S,h),v.isScanning=!0,v.foreverScan(h,r,u)}};s7.failIfNotSupported().then(function(_){_.create(T).then(function(S){return S.render(a.element,O,I).then(function(D){v.renderedCamera=D,E.execute(),N(null)}).catch(function(D){E.cancel(),P(D)})}).catch(function(S){E.cancel(),P(va.errorGettingUserMedia(S))})}).catch(function(_){E.cancel(),P(va.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Bt.PAUSED),this.showPausedState(),(Ss(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Bt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Bt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById(sr.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ss(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var u=new Image;u.onload=function(){var h=u.width,m=u.height,p=document.getElementById(r.elementId),y=p.clientWidth?p.clientWidth:sr.DEFAULT_WIDTH,v=Math.max(p.clientHeight?p.clientHeight:m,sr.FILE_SCAN_MIN_HEIGHT),E=r.computeCanvasDrawConfig(h,m,y,v);if(n){var N=r.createCanvasElement(y,v,"qr-canvas-visible");N.style.display="inline-block",p.appendChild(N);var P=N.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=y,P.canvas.height=v,P.drawImage(u,0,0,h,m,E.x,E.y,E.width,E.height)}var T=sr.FILE_SCAN_HIDDEN_CANVAS_PADDING,O=Math.max(u.width,E.width),I=Math.max(u.height,E.height),_=O+2*T,S=I+2*T,D=r.createCanvasElement(_,S);p.appendChild(D);var W=D.getContext("2d");if(!W)throw"Unable to get 2d context from canvas";W.canvas.width=_,W.canvas.height=S,W.drawImage(u,0,0,h,m,T,T,O,I);try{r.qrcode.decodeRobustlyAsync(D).then(function(V){i(qw.createFromQrcodeResult(V))}).catch(a)}catch(V){a("QR code parse error, error = ".concat(V))}},u.onerror=a,u.onabort=a,u.onstalled=a,u.onsuspend=a,u.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return a7.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!VS.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Ce.QR_CODE,Ce.AZTEC,Ce.CODABAR,Ce.CODE_39,Ce.CODE_93,Ce.CODE_128,Ce.DATA_MATRIX,Ce.MAXICODE,Ce.ITF,Ce.EAN_13,Ce.EAN_8,Ce.PDF_417,Ce.RSS_14,Ce.RSS_EXPANDED,Ce.UPC_A,Ce.UPC_E,Ce.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=t.formatsToSupport;i<a.length;i++){var u=a[i];zM(u)?r.push(u):this.logger.warn("Invalid format: ".concat(u," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Ss(t))return!0;if(!Ss(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Ss(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return Ss(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,a=r.qrbox;this.validateQrboxConfig(a);var u=this.toQrdimensions(t,n,a),h=function(p){if(p<sr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(sr.MIN_QR_BOX_SIZE,"px.")},m=function(p){return p>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};h(u.width),h(u.height),u.width=m(u.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=Ss(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,n,i);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var u=r.isShadedBoxEnabled()&&a.height<=n,h={x:0,y:0,width:t,height:n},m=u?this.getShadedRegionBounds(t,n,a):h,p=this.createCanvasElement(m.width,m.height),y={willReadFrequently:!0},v=p.getContext("2d",y);v.canvas.width=m.width,v.canvas.height=m.height,this.element.append(p),u&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=v,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=va.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,qw.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=va.codeParseError(i);return n(a,$M.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),u=a.videoWidth/a.clientWidth,h=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*u,p=this.qrRegion.height*h,y=this.qrRegion.x*u,v=this.qrRegion.y*h;this.context.drawImage(a,y,v,m,p,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(N){!N&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){E()})):E()}).catch(function(N){i.logger.logError("Error happend while scanning context",N),E()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",u=function(P){if(P in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(P,"'")},h=Object.keys(t);if(h.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(h.length," keys");var m=Object.keys(t)[0];if(m!==n&&m!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(m===n){var p=t.facingMode;if(typeof p=="string"){if(u(p))return{facingMode:p}}else if(typeof p=="object")if(a in p){if(u(p["".concat(a)]))return{facingMode:{exact:p["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var y=typeof p;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(a in v)return{deviceId:{exact:v["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var E=typeof v;throw"Invalid type of 'deviceId' = ".concat(E)}}}var N=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(N)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var a=(r-t)/2,u=(i-n)/2;return{x:a,y:u,width:t,height:n}}else{var h=t,m=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(h,"X").concat(m)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?sr.BORDER_SHADER_MATCH_COLOR:sr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,a=n,u=document.createElement("canvas");return u.style.width="".concat(i,"px"),u.style.height="".concat(a,"px"),u.style.display="none",u.id=Ss(r)?"qr-canvas":r,u},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var u=(n-i.width)/2,h=(r-i.height)/2;if(a.style.borderLeft="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(sr.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var m=5,p=40;this.insertShaderBorders(a,p,m,-m,null,0,!0),this.insertShaderBorders(a,p,m,-m,null,0,!1),this.insertShaderBorders(a,p,m,null,-m,0,!0),this.insertShaderBorders(a,p,m,null,-m,0,!1),this.insertShaderBorders(a,m,p+m,-m,null,-m,!0),this.insertShaderBorders(a,m,p+m,null,-m,-m,!0),this.insertShaderBorders(a,m,p+m,-m,null,-m,!1),this.insertShaderBorders(a,m,p+m,null,-m,-m,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,i,a,u,h){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=sr.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(n,"px"),m.style.height="".concat(r,"px"),i!==null&&(m.style.top="".concat(i,"px")),a!==null&&(m.style.bottom="".concat(a,"px")),h?m.style.left="".concat(u,"px"):m.style.right="".concat(u,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),t.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),ey;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ey||(ey={}));function p7({isOpen:e,onClose:t,onScan:n}){const r=C.useRef(null),i="html5qr-code-full-region",[a,u]=C.useState(null),h=async()=>{if(!r.current)try{r.current=new h7(i),await r.current.start({facingMode:"environment"},{fps:10},p=>{n(p),m(),t()},p=>{})}catch(p){console.error(p),u("Não foi possível acessar a câmera.")}},m=async()=>{var p,y,v;((p=r.current)==null?void 0:p.getState())===Bt.SCANNING&&await((y=r.current)==null?void 0:y.stop()),(v=r.current)==null||v.clear(),r.current=null};return C.useEffect(()=>{let p;const y=()=>{document.getElementById(i)?h():p=requestAnimationFrame(y)};return e?y():m(),()=>{cancelAnimationFrame(p),m()}},[e]),g.jsx(Jc,{open:e,onOpenChange:t,children:g.jsxs(gl,{className:"max-w-md",children:[g.jsxs(eu,{children:[g.jsxs(tu,{className:"flex items-center gap-2",children:[g.jsx(Sb,{className:"h-5 w-5"}),"Escanear Código"]}),g.jsx(zf,{children:"Suporta QR code e códigos de barras comuns."})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{id:i,className:"relative aspect-square bg-black rounded-lg overflow-hidden"}),a&&g.jsx("p",{className:"text-sm text-red-600 bg-red-50 p-3 rounded",children:a}),g.jsxs(Ue,{variant:"outline",onClick:()=>{m(),t()},className:"w-full flex items-center justify-center gap-2",children:[g.jsx(Wo,{className:"h-4 w-4"}),"Fechar"]})]})]})})}function g7(){const{profile:e,company:t}=Un(),{isMobileOrTablet:n,isDesktop:r}=wE(),i=C.useContext(hE),[a,u]=C.useState(""),[h,m]=C.useState("all"),[p,y]=C.useState("all"),[v,E]=C.useState(!1),{assets:N,loading:P,loadingMore:T,hasMore:O,loadMore:I,locations:_}=i5({search:a,statusFilter:h,locationFilter:p}),{exportLoading:S,exportToCSV:D}=a5(),{showScrollToTop:W,scrollToTop:V}=l5(i==null?void 0:i.current),F=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="editor",L=H=>{u(H)},M=()=>{D({search:a,statusFilter:h,locationFilter:p,companyName:t.name})};return g.jsxs("div",{id:"assets-scroll-container",className:"space-y-6 pb-10 overflow-y-auto",children:[S&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",children:g.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600"})}),g.jsx(uM,{canEdit:F,isMobileOrTablet:n,isDesktop:r,loading:P,exportLoading:S,onScannerOpen:()=>E(!0),onExportCSV:M}),g.jsx(FM,{search:a,statusFilter:h,locationFilter:p,locations:_,onSearchChange:u,onStatusFilterChange:m,onLocationFilterChange:y}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:g.jsx(VM,{assets:N,loading:P,loadingMore:T,hasMore:O,canEdit:F,isDesktop:r,onLoadMore:I})}),W&&g.jsx(Ue,{onClick:V,className:"fixed bottom-6 right-6 z-50 rounded-full w-12 h-12 shadow-lg hover:shadow-xl transition-all duration-200",size:"icon",children:g.jsx(o8,{className:"h-5 w-5"})}),g.jsx(p7,{isOpen:v,onClose:()=>E(!1),onScan:L})]})}var HS="AlertDialog",[m7,wj]=qi(HS,[AC]),zs=AC(),$S=e=>{const{__scopeAlertDialog:t,...n}=e,r=zs(t);return g.jsx(Tg,{...r,...n,modal:!0})};$S.displayName=HS;var x7="AlertDialogTrigger",GS=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=zs(n);return g.jsx(Ig,{...i,...r,ref:t})});GS.displayName=x7;var w7="AlertDialogPortal",qS=e=>{const{__scopeAlertDialog:t,...n}=e,r=zs(t);return g.jsx(Rg,{...r,...n})};qS.displayName=w7;var y7="AlertDialogOverlay",XS=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=zs(n);return g.jsx(Xc,{...i,...r,ref:t})});XS.displayName=y7;var Da="AlertDialogContent",[v7,b7]=m7(Da),YS=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,a=zs(n),u=C.useRef(null),h=it(t,u),m=C.useRef(null);return g.jsx(AO,{contentName:Da,titleName:KS,docsSlug:"alert-dialog",children:g.jsx(v7,{scope:n,cancelRef:m,children:g.jsxs(Yc,{role:"alertdialog",...a,...i,ref:h,onOpenAutoFocus:Me(i.onOpenAutoFocus,p=>{var y;p.preventDefault(),(y=m.current)==null||y.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[g.jsx(sg,{children:r}),g.jsx(E7,{contentRef:u})]})})})});YS.displayName=Da;var KS="AlertDialogTitle",QS=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=zs(n);return g.jsx(Kc,{...i,...r,ref:t})});QS.displayName=KS;var ZS="AlertDialogDescription",JS=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=zs(n);return g.jsx(Qc,{...i,...r,ref:t})});JS.displayName=ZS;var C7="AlertDialogAction",eA=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=zs(n);return g.jsx(Lf,{...i,...r,ref:t})});eA.displayName=C7;var tA="AlertDialogCancel",nA=C.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=b7(tA,n),a=zs(n),u=it(t,i);return g.jsx(Lf,{...a,...r,ref:u})});nA.displayName=tA;var E7=({contentRef:e})=>{const t=`\`${Da}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Da}\` by passing a \`${ZS}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Da}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return C.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},S7=$S,A7=GS,_7=qS,rA=XS,sA=YS,iA=eA,oA=nA,aA=QS,lA=JS;const N7=S7,T7=A7,I7=_7,cA=C.forwardRef(({className:e,...t},n)=>g.jsx(rA,{className:ke("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));cA.displayName=rA.displayName;const uA=C.forwardRef(({className:e,...t},n)=>g.jsxs(I7,{children:[g.jsx(cA,{}),g.jsx(sA,{ref:n,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));uA.displayName=sA.displayName;const dA=({className:e,...t})=>g.jsx("div",{className:ke("flex flex-col space-y-2 text-center sm:text-left",e),...t});dA.displayName="AlertDialogHeader";const fA=({className:e,...t})=>g.jsx("div",{className:ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});fA.displayName="AlertDialogFooter";const hA=C.forwardRef(({className:e,...t},n)=>g.jsx(aA,{ref:n,className:ke("text-lg font-semibold",e),...t}));hA.displayName=aA.displayName;const pA=C.forwardRef(({className:e,...t},n)=>g.jsx(lA,{ref:n,className:ke("text-sm text-muted-foreground",e),...t}));pA.displayName=lA.displayName;const gA=C.forwardRef(({className:e,...t},n)=>g.jsx(iA,{ref:n,className:ke(bg(),e),...t}));gA.displayName=iA.displayName;const mA=C.forwardRef(({className:e,...t},n)=>g.jsx(oA,{ref:n,className:ke(bg({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));mA.displayName=oA.displayName;function R7(){const{id:e}=G2(),t=Vs(),{profile:n}=Un(),{toast:r}=Or(),i=Us(),{data:a,isLoading:u}=Li({queryKey:["asset",e],queryFn:async()=>{if(!e)throw new Error("Asset ID is required");const{data:N,error:P}=await Ze.from("assets").select("*").eq("id",e).single();if(P)throw P;return N},enabled:!!e}),h=ms({mutationFn:async()=>{if(!e)throw new Error("Asset ID is required");const{error:N}=await Ze.from("assets").delete().eq("id",e);if(N)throw N},onSuccess:()=>{i.invalidateQueries({queryKey:["assets"]}),i.invalidateQueries({queryKey:["dashboard-stats"]}),i.invalidateQueries({queryKey:["recent-assets"]}),r({title:"Ativo deletado com sucesso!",description:"O ativo foi removido do sistema"}),t("/assets")},onError:N=>{r({title:"Erro ao deletar ativo",description:N.message||"Erro ao deletar o ativo",variant:"destructive"})}}),m=()=>{h.mutate()},p=N=>{const P={ativo:"bg-green-100 text-green-800",manutenção:"bg-yellow-100 text-yellow-800",baixado:"bg-red-100 text-red-800"};return g.jsx(nr,{className:P[N],children:N.toLocaleUpperCase()})},y=N=>{switch(N){case"ativo":return g.jsx(Yt,{className:"h-5 w-5 text-green-600"});case"manutenção":return g.jsx(Nc,{className:"h-5 w-5 text-yellow-600"});case"baixado":return g.jsx(Yt,{className:"h-5 w-5 text-red-600"});default:return g.jsx(Yt,{className:"h-5 w-5 text-gray-600"})}},v=(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="editor",E=(n==null?void 0:n.role)==="admin";return u?g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"flex items-center space-x-4",children:g.jsxs(Ue,{variant:"ghost",onClick:()=>t("/assets"),children:[g.jsx(Co,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),g.jsx("div",{className:"animate-pulse max-w-4xl",children:g.jsx(dt,{className:"border-0 shadow-md",children:g.jsxs(pt,{className:"p-8",children:[g.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),g.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-8"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsx("div",{className:"space-y-4",children:Array.from({length:4}).map((N,P)=>g.jsx("div",{className:"h-12 bg-gray-200 rounded"},P))}),g.jsx("div",{className:"space-y-4",children:Array.from({length:4}).map((N,P)=>g.jsx("div",{className:"h-12 bg-gray-200 rounded"},P))})]})]})})})]}):a?g.jsxs("div",{className:"space-y-6 max-w-6xl pb-10",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsxs(Ue,{variant:"ghost",onClick:()=>t("/assets"),children:[g.jsx(Co,{className:"h-4 w-4 mr-2"}),"Voltar"]}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:a.name}),g.jsx("p",{className:"mt-2 text-gray-600",children:"Detalhes do ativo"})]})]}),v&&g.jsxs("div",{className:"flex gap-2",children:[g.jsx(Ue,{asChild:!0,children:g.jsxs(ko,{to:`/assets/${a.id}/edit`,children:[g.jsx(Rb,{className:"h-4 w-4 mr-2"}),"Editar"]})}),E&&g.jsxs(N7,{children:[g.jsx(T7,{asChild:!0,children:g.jsxs(Ue,{variant:"destructive",children:[g.jsx(w8,{className:"h-4 w-4 mr-2"}),"Apagar"]})}),g.jsxs(uA,{children:[g.jsxs(dA,{children:[g.jsx(hA,{children:"Confirmar exclusão"}),g.jsxs(pA,{children:['Tem certeza que deseja apagar o ativo "',a.name,'"? Esta ação não pode ser desfeita e todos os dados do ativo serão perdidos permanentemente.']})]}),g.jsxs(fA,{children:[g.jsx(mA,{children:"Cancelar"}),g.jsx(gA,{onClick:m,className:"bg-red-600 hover:bg-red-700",disabled:h.isPending,children:h.isPending?"Deletando...":"Deletar Ativo"})]})]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsxs(dt,{className:"border-0 shadow-md",children:[g.jsx(Qt,{children:g.jsxs(qt,{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[y(a.status),g.jsx("span",{className:"ml-3",children:"Informações Básicas"})]}),p(a.status)]})}),g.jsxs(pt,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(Kx,{className:"h-5 w-5 text-gray-400"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Código"}),g.jsx("p",{className:"text-lg text-gray-900",children:a.code})]})]}),a.serial_number&&g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(Kx,{className:"h-5 w-5 text-gray-400"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Número de Série"}),g.jsx("p",{className:"text-lg text-gray-900",children:a.serial_number})]})]}),a.location&&g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(hg,{className:"h-5 w-5 text-gray-400"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Localização"}),g.jsx("p",{className:"text-lg text-gray-900",children:a.location})]})]}),a.holder&&g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(y8,{className:"h-5 w-5 text-gray-400"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Detentor"}),g.jsx("p",{className:"text-lg text-gray-900",children:a.holder})]})]})]})]}),(a.manufacturer||a.model||a.color||a.capacity||a.voltage||a.condition)&&g.jsxs(dt,{className:"border-0 shadow-md",children:[g.jsx(Qt,{children:g.jsxs(qt,{className:"flex items-center",children:[g.jsx(Yx,{className:"h-5 w-5 mr-3 text-blue-600"}),"Especificações Técnicas"]})}),g.jsxs(pt,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.manufacturer&&g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(Yt,{className:"h-5 w-5 text-gray-400"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Fabricante"}),g.jsx("p",{className:"text-lg text-gray-900",children:a.manufacturer})]})]}),a.model&&g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(Yt,{className:"h-5 w-5 text-gray-400"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Modelo"}),g.jsx("p",{className:"text-lg text-gray-900",children:a.model})]})]}),a.color&&g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(m8,{className:"h-5 w-5 text-gray-400"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Cor"}),g.jsx("p",{className:"text-lg text-gray-900",children:a.color})]})]}),a.capacity&&g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(Yx,{className:"h-5 w-5 text-gray-400"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Capacidade"}),g.jsx("p",{className:"text-lg text-gray-900",children:a.capacity})]})]}),a.voltage&&g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(b8,{className:"h-5 w-5 text-gray-400"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Voltagem"}),g.jsx("p",{className:"text-lg text-gray-900",children:a.voltage})]})]}),a.condition&&g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(Yt,{className:"h-5 w-5 text-gray-400"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Condições"}),g.jsx("p",{className:"text-lg text-gray-900",children:a.condition})]})]})]})]}),a.notes&&g.jsxs(dt,{className:"border-0 shadow-md",children:[g.jsx(Qt,{children:g.jsxs(qt,{className:"flex items-center",children:[g.jsx(Nf,{className:"h-5 w-5 mr-3 text-blue-600"}),"Observações"]})}),g.jsx(pt,{children:g.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:a.notes})})]})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs(dt,{className:"border-0 shadow-md",children:[g.jsx(Qt,{children:g.jsxs(qt,{className:"flex items-center",children:[g.jsx(dg,{className:"h-5 w-5 mr-3 text-green-600"}),"Informações Financeiras"]})}),g.jsxs(pt,{className:"space-y-4",children:[a.value&&g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor"}),g.jsx("p",{className:"text-2xl font-semibold text-green-700",children:Ud(a.value)})]}),a.origin&&g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Origem"}),g.jsx("p",{className:"text-lg text-gray-900 capitalize",children:a.origin})]}),a.inalienable&&g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(Nc,{className:"h-5 w-5 text-orange-500"}),g.jsx("span",{className:"text-sm font-medium text-orange-700",children:"Inalienável"})]})]})]}),g.jsxs(dt,{className:"border-0 shadow-md",children:[g.jsx(Qt,{children:g.jsxs(qt,{className:"flex items-center",children:[g.jsx(cg,{className:"h-5 w-5 mr-3 text-blue-600"}),"Datas"]})}),g.jsxs(pt,{className:"space-y-4",children:[a.acquisition_date&&g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Data de Aquisição"}),g.jsx("p",{className:"text-lg text-gray-900",children:ka(new Date(a.acquisition_date+"T00:00:00"),"dd/MM/yyyy",{locale:So})})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Adicionado em"}),g.jsx("p",{className:"text-lg text-gray-900",children:ka(new Date(a.created_at),"dd/MM/yyyy HH:mm",{locale:So})})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Última atualização"}),g.jsx("p",{className:"text-lg text-gray-900",children:ka(new Date(a.updated_at),"dd/MM/yyyy HH:mm",{locale:So})})]}),a.updated_by_user_name&&g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Modificado por"}),g.jsx("p",{className:"text-sm text-gray-900",children:a.updated_by_user_name})]})]})]})]})]})]}):g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"flex items-center space-x-4",children:g.jsxs(Ue,{variant:"ghost",onClick:()=>t("/assets"),children:[g.jsx(Co,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),g.jsx(dt,{className:"border-0 shadow-md",children:g.jsxs(pt,{className:"text-center py-12",children:[g.jsx(Yt,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ativo não encontrado"}),g.jsx("p",{className:"text-gray-600",children:"O ativo solicitado não existe ou foi removido"})]})})]})}const xA=C.forwardRef(({className:e,...t},n)=>g.jsx("textarea",{className:ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));xA.displayName="Textarea";var Kg="Checkbox",[O7,yj]=qi(Kg),[k7,P7]=O7(Kg),wA=C.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:u,disabled:h,value:m="on",onCheckedChange:p,form:y,...v}=e,[E,N]=C.useState(null),P=it(t,D=>N(D)),T=C.useRef(!1),O=E?y||!!E.closest("form"):!0,[I=!1,_]=Do({prop:i,defaultProp:a,onChange:p}),S=C.useRef(I);return C.useEffect(()=>{const D=E==null?void 0:E.form;if(D){const W=()=>_(S.current);return D.addEventListener("reset",W),()=>D.removeEventListener("reset",W)}},[E,_]),g.jsxs(k7,{scope:n,state:I,disabled:h,children:[g.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":Di(I)?"mixed":I,"aria-required":u,"data-state":bA(I),"data-disabled":h?"":void 0,disabled:h,value:m,...v,ref:P,onKeyDown:Me(e.onKeyDown,D=>{D.key==="Enter"&&D.preventDefault()}),onClick:Me(e.onClick,D=>{_(W=>Di(W)?!0:!W),O&&(T.current=D.isPropagationStopped(),T.current||D.stopPropagation())})}),O&&g.jsx(D7,{control:E,bubbles:!T.current,name:r,value:m,checked:I,required:u,disabled:h,form:y,style:{transform:"translateX(-100%)"},defaultChecked:Di(a)?!1:a})]})});wA.displayName=Kg;var yA="CheckboxIndicator",vA=C.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,a=P7(yA,n);return g.jsx(Kr,{present:r||Di(a.state)||a.state===!0,children:g.jsx(Ve.span,{"data-state":bA(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});vA.displayName=yA;var D7=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:i,...a}=e,u=C.useRef(null),h=qg(n),m=Wg(t);C.useEffect(()=>{const y=u.current,v=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(v,"checked").set;if(h!==n&&N){const P=new Event("click",{bubbles:r});y.indeterminate=Di(n),N.call(y,Di(n)?!1:n),y.dispatchEvent(P)}},[h,n,r]);const p=C.useRef(Di(n)?!1:n);return g.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??p.current,...a,tabIndex:-1,ref:u,style:{...e.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Di(e){return e==="indeterminate"}function bA(e){return Di(e)?"indeterminate":e?"checked":"unchecked"}var CA=wA,M7=vA;const EA=C.forwardRef(({className:e,...t},n)=>g.jsx(CA,{ref:n,className:ke("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:g.jsx(M7,{className:ke("flex items-center justify-center text-current"),children:g.jsx(ug,{className:"h-4 w-4"})})}));EA.displayName=CA.displayName;function SA({asset:e,onSubmit:t,isSubmitting:n,submitLabel:r}){var m;const[i,a]=C.useState({name:(e==null?void 0:e.name)||"",code:(e==null?void 0:e.code)||"",location:(e==null?void 0:e.location)||"",status:(e==null?void 0:e.status)||"ativo",acquisition_date:(e==null?void 0:e.acquisition_date)||"",value:((m=e==null?void 0:e.value)==null?void 0:m.toString())||"",serial_number:(e==null?void 0:e.serial_number)||"",color:(e==null?void 0:e.color)||"",manufacturer:(e==null?void 0:e.manufacturer)||"",model:(e==null?void 0:e.model)||"",capacity:(e==null?void 0:e.capacity)||"",voltage:(e==null?void 0:e.voltage)||"",origin:(e==null?void 0:e.origin)||"",condition:(e==null?void 0:e.condition)||"",inalienable:(e==null?void 0:e.inalienable)||!1,holder:(e==null?void 0:e.holder)||"",notes:(e==null?void 0:e.notes)||""}),u=p=>{p.preventDefault(),t(i)},h=(p,y)=>{a(v=>({...v,[p]:y}))};return g.jsxs("form",{onSubmit:u,className:"space-y-6",children:[g.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Básicas"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"name",children:"Nome do Ativo *"}),g.jsx(yt,{id:"name",value:i.name,onChange:p=>h("name",p.target.value),placeholder:"Ex: Notebook Dell",required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"code",children:"Código do Ativo *"}),g.jsx(yt,{id:"code",value:i.code,onChange:p=>h("code",p.target.value),placeholder:"Ex: NB001",required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"serial_number",children:"Número de Série"}),g.jsx(yt,{id:"serial_number",value:i.serial_number,onChange:p=>h("serial_number",p.target.value),placeholder:"Ex: SN123456789"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"status",children:"Status"}),g.jsxs(ef,{value:i.status,onValueChange:p=>h("status",p),children:[g.jsx(kc,{children:g.jsx(tf,{})}),g.jsxs(Pc,{children:[g.jsx(lr,{value:"ativo",children:g.jsx(nr,{className:"bg-green-100 text-green-800",children:"ATIVO"})}),g.jsx(lr,{value:"manutenção",children:g.jsx(nr,{className:"bg-yellow-100 text-yellow-800",children:"MANUTENÇÃO"})}),g.jsx(lr,{value:"baixado",children:g.jsx(nr,{className:"bg-red-100 text-red-800",children:"BAIXADO"})})]})]})]})]})]}),g.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Especificações Técnicas"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"manufacturer",children:"Fabricante"}),g.jsx(yt,{id:"manufacturer",value:i.manufacturer,onChange:p=>h("manufacturer",p.target.value),placeholder:"Ex: Dell, HP, Samsung"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"model",children:"Modelo"}),g.jsx(yt,{id:"model",value:i.model,onChange:p=>h("model",p.target.value),placeholder:"Ex: Inspiron 15 3000"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"color",children:"Cor"}),g.jsx(yt,{id:"color",value:i.color,onChange:p=>h("color",p.target.value),placeholder:"Ex: Preto, Branco, Prata"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"capacity",children:"Capacidade"}),g.jsx(yt,{id:"capacity",value:i.capacity,onChange:p=>h("capacity",p.target.value),placeholder:"Ex: 500GB, 8GB RAM"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"voltage",children:"Voltagem"}),g.jsx(yt,{id:"voltage",value:i.voltage,onChange:p=>h("voltage",p.target.value),placeholder:"Ex: 110V, 220V, Bivolt"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"condition",children:"Condições"}),g.jsx(yt,{id:"condition",value:i.condition,onChange:p=>h("condition",p.target.value),placeholder:"Ex: Novo, Usado, Bom estado"})]})]})]}),g.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Localização e Patrimônio"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"location",children:"Localização"}),g.jsx(yt,{id:"location",value:i.location,onChange:p=>h("location",p.target.value),placeholder:"Ex: Sala 201, Almoxarifado"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"holder",children:"Detentor"}),g.jsx(yt,{id:"holder",value:i.holder,onChange:p=>h("holder",p.target.value),placeholder:"Ex: João Silva, Setor TI"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"origin",children:"Origem"}),g.jsx(yt,{id:"origin",value:i.origin,onChange:p=>h("origin",p.target.value),placeholder:"Ex: Compra, Doação, Transferência"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"acquisition_date",children:"Data de Aquisição"}),g.jsx(yt,{id:"acquisition_date",type:"date",value:i.acquisition_date,onChange:p=>h("acquisition_date",p.target.value)})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"value",children:"Valor (R$)"}),g.jsx(yt,{id:"value",type:"number",step:"0.01",value:i.value,onChange:p=>h("value",p.target.value),placeholder:"0,00"})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(EA,{id:"inalienable",checked:i.inalienable,onCheckedChange:p=>h("inalienable",p)}),g.jsx(ut,{htmlFor:"inalienable",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Inalienável"})]})]})]}),g.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Observações"}),g.jsx("div",{className:"space-y-2",children:g.jsx(xA,{id:"notes",value:i.notes,onChange:p=>h("notes",p.target.value),placeholder:"Observações adicionais sobre o ativo...",rows:4})})]}),g.jsx("div",{className:"flex space-x-4",children:g.jsx(Ue,{type:"submit",disabled:n,className:"flex-1",children:n?"Salvando...":r})})]})}function j7(){const e=Vs(),{profile:t}=Un(),{toast:n}=Or(),r=Us(),[i,a]=C.useState(""),u=ms({mutationFn:async m=>{if(!(t!=null&&t.company_id))throw new Error("Company ID not found");const{error:p}=await Ze.from("assets").insert({name:m.name,code:m.code,location:m.location||null,status:m.status,acquisition_date:m.acquisition_date||null,value:m.value?parseFloat(m.value):null,serial_number:m.serial_number||null,color:m.color||null,manufacturer:m.manufacturer||null,model:m.model||null,capacity:m.capacity||null,voltage:m.voltage||null,origin:m.origin&&m.origin!=="nao_informado"?m.origin:null,condition:m.condition||null,inalienable:m.inalienable,holder:m.holder||null,notes:m.notes||null,company_id:t.company_id});if(p)throw p},onSuccess:()=>{r.invalidateQueries({queryKey:["assets"]}),r.invalidateQueries({queryKey:["dashboard-stats"]}),r.invalidateQueries({queryKey:["recent-assets"]}),n({title:"Ativo criado com sucesso!",description:"O ativo foi adicionado ao sistema"}),e("/assets")},onError:m=>{a(m.message||"Erro ao criar ativo")}}),h=m=>{if(a(""),!m.name||!m.code){a("Nome e código são obrigatórios");return}u.mutate(m)};return g.jsxs("div",{className:"space-y-6 pb-10",children:[g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsxs(Ue,{variant:"ghost",onClick:()=>e("/assets"),children:[g.jsx(Co,{className:"h-4 w-4 mr-2"}),"Voltar"]}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Novo Ativo"}),g.jsx("p",{className:"mt-2 text-gray-600",children:"Adicionar um novo ativo ao patrimônio da empresa"})]})]}),g.jsxs("div",{className:"max-w-4xl",children:[i&&g.jsx(Ir,{variant:"destructive",className:"mb-6",children:g.jsx(Rr,{children:i})}),g.jsx(SA,{onSubmit:h,isSubmitting:u.isPending,submitLabel:"Salvar Ativo"})]})]})}function L7(){const{id:e}=G2(),t=Vs(),{profile:n}=Un(),{toast:r}=Or(),i=Us(),[a,u]=C.useState(""),{data:h,isLoading:m}=Li({queryKey:["asset",e],queryFn:async()=>{if(!e)throw new Error("Asset ID is required");const{data:v,error:E}=await Ze.from("assets").select("*").eq("id",e).single();if(E)throw E;return v},enabled:!!e}),p=ms({mutationFn:async v=>{if(!e)throw new Error("Asset ID is required");if(!(n!=null&&n.company_id))throw new Error("Company ID not found");const{error:E}=await Ze.from("assets").update({name:v.name,code:v.code,location:v.location||null,status:v.status,acquisition_date:v.acquisition_date||null,value:v.value?parseFloat(v.value):null,serial_number:v.serial_number||null,color:v.color||null,manufacturer:v.manufacturer||null,model:v.model||null,capacity:v.capacity||null,voltage:v.voltage||null,origin:v.origin||null,condition:v.condition||null,inalienable:v.inalienable,holder:v.holder||null,notes:v.notes||null}).eq("id",e);if(E)throw E},onSuccess:()=>{i.invalidateQueries({queryKey:["asset",e]}),i.invalidateQueries({queryKey:["assets"]}),i.invalidateQueries({queryKey:["dashboard-stats"]}),i.invalidateQueries({queryKey:["recent-assets"]}),r({title:"Ativo atualizado com sucesso!",description:"As alterações foram salvas"}),t(`/assets/${e}`)},onError:v=>{u(v.message||"Erro ao atualizar ativo")}}),y=v=>{if(u(""),!v.name||!v.code){u("Nome e código são obrigatórios");return}p.mutate(v)};return m?g.jsxs("div",{className:"space-y-6 pb-10",children:[g.jsx("div",{className:"flex items-center space-x-4",children:g.jsxs(Ue,{variant:"ghost",onClick:()=>t("/assets"),children:[g.jsx(Co,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),g.jsxs("div",{className:"animate-pulse max-w-4xl",children:[g.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),g.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-8"}),g.jsx("div",{className:"space-y-4",children:Array.from({length:6}).map((v,E)=>g.jsx("div",{className:"h-12 bg-gray-200 rounded"},E))})]})]}):h?g.jsxs("div",{className:"space-y-6 pb-10",children:[g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsxs(Ue,{variant:"ghost",onClick:()=>t(`/assets/${e}`),children:[g.jsx(Co,{className:"h-4 w-4 mr-2"}),"Voltar"]}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Editar Ativo"}),g.jsxs("p",{className:"mt-2 text-gray-600",children:["Modificar informações de ",g.jsx("strong",{children:h.name})]})]})]}),g.jsxs("div",{className:"max-w-4xl",children:[a&&g.jsx(Ir,{variant:"destructive",className:"mb-6",children:g.jsx(Rr,{children:a})}),g.jsx(SA,{asset:h,onSubmit:y,isSubmitting:p.isPending,submitLabel:"Salvar Alterações"})]})]}):g.jsxs("div",{className:"space-y-6 pb-10",children:[g.jsx("div",{className:"flex items-center space-x-4",children:g.jsxs(Ue,{variant:"ghost",onClick:()=>t("/assets"),children:[g.jsx(Co,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),g.jsx(Ir,{variant:"destructive",children:g.jsx(Rr,{children:"Ativo não encontrado"})})]})}function B7({user:e,onEdit:t}){const n=i=>{const a={admin:"bg-red-100 text-red-800",editor:"bg-yellow-100 text-yellow-800",viewer:"bg-green-100 text-green-800"},u={admin:"Administrador",editor:"Editor",viewer:"Visualizador"};return g.jsx(nr,{className:a[i],children:u[i]})},r=i=>g.jsx(nr,{className:i?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:i?"Ativo":"Inativo"});return g.jsx(dt,{className:"border-0 shadow-md hover:shadow-lg transition-shadow",children:g.jsxs(pt,{className:"p-6",children:[g.jsx("div",{className:"flex justify-between items-start mb-4",children:g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),g.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[g.jsx(Ib,{className:"h-3 w-3 mr-1"}),e.email]}),g.jsxs("div",{className:"flex flex-row gap-2 mt-2 justify-center",children:[n(e.role),r(e.is_active??!0)]})]})}),g.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-4",children:[g.jsx(cg,{className:"h-4 w-4 mr-2"}),"Desde ",O1(e.created_at)]}),g.jsx("div",{className:"flex space-x-2",children:g.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>t(e),className:"flex-1",children:[g.jsx(Rb,{className:"h-3 w-3 mr-1"}),"Editar"]})})]})})}function F7({users:e,isLoading:t,onEdit:n,onCreateUser:r}){return t?g.jsx("div",{className:"col-span-full flex justify-center py-12",children:g.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),g.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[g.jsx(Fd,{className:"h-5 w-5 animate-pulse"}),g.jsx("span",{className:"text-base",children:"Carregando usuários..."})]})]})}):!e||e.length===0?g.jsx("div",{className:"col-span-full",children:g.jsx(dt,{className:"border-0 shadow-md",children:g.jsxs(pt,{className:"text-center py-12",children:[g.jsx(Fd,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum usuário encontrado"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"Comece adicionando usuários à sua empresa"}),g.jsxs(Ue,{onClick:r,children:[g.jsx(Tf,{className:"h-4 w-4 mr-2"}),"Adicionar Primeiro Usuário"]})]})})}):g.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:e.map(i=>g.jsx(B7,{user:i,onEdit:n},i.id))})}var Qg="Switch",[U7,vj]=qi(Qg),[W7,V7]=U7(Qg),AA=C.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:u,disabled:h,value:m="on",onCheckedChange:p,form:y,...v}=e,[E,N]=C.useState(null),P=it(t,S=>N(S)),T=C.useRef(!1),O=E?y||!!E.closest("form"):!0,[I=!1,_]=Do({prop:i,defaultProp:a,onChange:p});return g.jsxs(W7,{scope:n,checked:I,disabled:h,children:[g.jsx(Ve.button,{type:"button",role:"switch","aria-checked":I,"aria-required":u,"data-state":TA(I),"data-disabled":h?"":void 0,disabled:h,value:m,...v,ref:P,onClick:Me(e.onClick,S=>{_(D=>!D),O&&(T.current=S.isPropagationStopped(),T.current||S.stopPropagation())})}),O&&g.jsx(z7,{control:E,bubbles:!T.current,name:r,value:m,checked:I,required:u,disabled:h,form:y,style:{transform:"translateX(-100%)"}})]})});AA.displayName=Qg;var _A="SwitchThumb",NA=C.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=V7(_A,n);return g.jsx(Ve.span,{"data-state":TA(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});NA.displayName=_A;var z7=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,a=C.useRef(null),u=qg(n),h=Wg(t);return C.useEffect(()=>{const m=a.current,p=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==n&&v){const E=new Event("click",{bubbles:r});v.call(m,n),m.dispatchEvent(E)}},[u,n,r]),g.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...e.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function TA(e){return e?"checked":"unchecked"}var IA=AA,H7=NA;const RA=C.forwardRef(({className:e,...t},n)=>g.jsx(IA,{className:ke("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:g.jsx(H7,{className:ke("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));RA.displayName=IA.displayName;function $7({formData:e,setFormData:t,onSubmit:n,onCancel:r,error:i,isLoading:a,isEditing:u,isEditingSelf:h}){return g.jsxs("form",{onSubmit:n,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"name",children:"Nome *"}),g.jsx(yt,{id:"name",value:e.name,onChange:m=>t(p=>({...p,name:m.target.value})),placeholder:"Nome completo",required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"email",children:"Email *"}),g.jsx(yt,{id:"email",type:"email",value:e.email,onChange:m=>t(p=>({...p,email:m.target.value})),placeholder:"email@exemplo.com",required:!0,disabled:u}),u&&g.jsx("p",{className:"text-xs text-gray-500",children:"O email não pode ser alterado"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"role",children:"Papel"}),g.jsxs(ef,{value:e.role,onValueChange:m=>t(p=>({...p,role:m})),children:[g.jsx(kc,{children:g.jsx(tf,{})}),g.jsxs(Pc,{children:[g.jsx(lr,{value:"viewer",children:"Viewer - Apenas visualização"}),g.jsx(lr,{value:"editor",children:"Editor - Pode criar e editar"}),g.jsx(lr,{value:"admin",children:"Admin - Controle total"})]})]})]}),!h&&g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(RA,{id:"is_active",checked:e.is_active,onCheckedChange:m=>t(p=>({...p,is_active:m}))}),g.jsx(ut,{htmlFor:"is_active",children:"Usuário ativo"})]}),h&&g.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:g.jsx("p",{className:"text-sm text-blue-700",children:"Você não pode alterar o status de ativação da sua própria conta."})}),i&&g.jsx(Ir,{variant:"destructive",children:g.jsx(Rr,{children:i})}),g.jsxs("div",{className:"flex space-x-4",children:[g.jsx(Ue,{type:"submit",disabled:a,className:"flex-1",children:a?"Salvando...":u?"Salvar Alterações":"Criar Usuário"}),g.jsx(Ue,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:"Cancelar"})]})]})}function G7(){const{profile:e}=Un(),{toast:t}=Or(),n=Us(),r=ms({mutationFn:async a=>{const{data:u,error:h}=await Ze.auth.signUp({email:a.email,password:Math.random().toString(36).slice(-12),options:{data:{name:a.name,company_id:e==null?void 0:e.company_id}}});if(h)throw h;if(u.user){const{error:m}=await Ze.from("profiles").update({role:a.role,company_id:e==null?void 0:e.company_id,is_active:a.is_active}).eq("id",u.user.id);if(m)throw m}return u},onSuccess:()=>{n.invalidateQueries({queryKey:["company-users"]}),t({title:"Usuário criado com sucesso!",description:"O usuário foi adicionado ao sistema. Ele receberá um email de confirmação."})}}),i=ms({mutationFn:async({userId:a,updates:u})=>{const{error:h}=await Ze.rpc("admin_update_user_profile",{user_id:a,new_name:u.name,new_role:u.role,new_is_active:u.is_active});if(h)throw h},onSuccess:()=>{n.invalidateQueries({queryKey:["company-users"]}),t({title:"Usuário atualizado com sucesso!",description:"As alterações foram salvas"})}});return{createUserMutation:r,updateUserMutation:i}}function q7(){const{profile:e}=Un(),{createUserMutation:t,updateUserMutation:n}=G7(),{isMobile:r,isMobileOrTablet:i}=wE(),[a,u]=C.useState(!1),[h,m]=C.useState(null),[p,y]=C.useState({email:"",name:"",role:"viewer",is_active:!0}),[v,E]=C.useState(""),{data:N,isLoading:P}=Li({queryKey:["company-users"],queryFn:async()=>{const{data:W,error:V}=await Ze.from("profiles").select("*").eq("company_id",e==null?void 0:e.company_id).order("created_at",{ascending:!1});if(V)throw console.error("Error fetching users:",V),V;return W||[]},enabled:!!(e!=null&&e.company_id)}),T=()=>{y({email:"",name:"",role:"viewer",is_active:!0}),E("")},O=W=>{m(W),y({email:W.email,name:W.name,role:W.role,is_active:W.is_active??!0}),u(!0)},I=W=>{if(W.preventDefault(),E(""),!p.name||!p.email){E("Nome e email são obrigatórios");return}h?n.mutate({userId:h.id,updates:{name:p.name,role:p.role,is_active:p.is_active}},{onSuccess:()=>{u(!1),m(null),T()},onError:V=>{console.error("Error updating user:",V),E(V.message||"Erro ao atualizar usuário")}}):t.mutate({email:p.email,name:p.name,role:p.role,is_active:p.is_active},{onSuccess:()=>{u(!1),T()},onError:V=>{console.error("Error creating user:",V),E(V.message||"Erro ao criar usuário")}})},_=()=>{u(!1),m(null),T()},S=()=>{T(),m(null),u(!0)},D=h&&h.id===(e==null?void 0:e.id);return g.jsxs("div",{className:"space-y-6 pb-10",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Usuários"}),g.jsx("p",{className:"mt-2 text-gray-600",children:"Gerencie os usuários da sua empresa"})]}),g.jsxs(Jc,{open:a,onOpenChange:u,children:[g.jsx(Vf,{asChild:!0,children:g.jsxs(Ue,{onClick:S,size:r?"icon":void 0,children:[g.jsx(Tf,{className:"h-4 w-4"}),!r&&g.jsx("span",{className:"ml-2",children:"Novo Usuário"})]})}),g.jsxs(gl,{children:[g.jsxs(eu,{children:[g.jsx(tu,{children:h?"Editar Usuário":"Novo Usuário"}),g.jsx(zf,{children:h?"Modifique as informações do usuário":"Adicione um novo usuário à empresa. O usuário receberá um convite por email."})]}),g.jsx($7,{formData:p,setFormData:y,onSubmit:I,onCancel:_,error:v,isLoading:t.isPending||n.isPending,isEditing:!!h,isEditingSelf:D})]})]})]}),g.jsx(F7,{users:N,isLoading:P,onEdit:O,onCreateUser:S})]})}function X7(){const{profile:e,company:t,user:n,updatePassword:r}=Un(),{toast:i}=Or(),a=Us(),[u,h]=C.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||""}),[m,p]=C.useState({newPassword:"",confirmPassword:""}),[y,v]=C.useState({profile:"",password:""}),E=ms({mutationFn:async S=>{if(!(e!=null&&e.id))throw new Error("Profile ID not found");const{error:D}=await Ze.from("profiles").update({name:S.name,email:S.email}).eq("id",e.id);if(D)throw D},onSuccess:()=>{a.invalidateQueries({queryKey:["profile"]}),i({title:"Perfil atualizado!",description:"Suas informações foram salvas com sucesso"}),v(S=>({...S,profile:""}))},onError:S=>{v(D=>({...D,profile:S.message||"Erro ao atualizar perfil"}))}}),N=ms({mutationFn:async S=>{const D=await r(S);if(!D.success)throw new Error(D.error||"Erro ao alterar senha");return D},onSuccess:()=>{i({title:"Senha alterada!",description:"Sua senha foi alterada com sucesso"}),p({newPassword:"",confirmPassword:""}),v(S=>({...S,password:""}))},onError:S=>{v(D=>({...D,password:S.message||"Erro ao alterar senha"}))}}),P=S=>{if(S.preventDefault(),v(D=>({...D,profile:""})),!u.name.trim()){v(D=>({...D,profile:"Nome é obrigatório"}));return}if(!u.email.trim()){v(D=>({...D,profile:"Email é obrigatório"}));return}E.mutate(u)},T=S=>{if(S.preventDefault(),v(D=>({...D,password:""})),!m.newPassword){v(D=>({...D,password:"Nova senha é obrigatória"}));return}if(m.newPassword.length<6){v(D=>({...D,password:"Nova senha deve ter pelo menos 6 caracteres"}));return}if(m.newPassword!==m.confirmPassword){v(D=>({...D,password:"Senhas não coincidem"}));return}N.mutate(m.newPassword)},O=(S,D)=>{h(W=>({...W,[S]:D}))},I=(S,D)=>{p(W=>({...W,[S]:D}))},_=S=>{switch(S){case"admin":return"Administrador";case"editor":return"Editor";case"viewer":return"Visualizador";default:return S}};return e?g.jsxs("div",{className:"space-y-6 max-w-4xl pb-10",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl m d:text-3xl font-bold text-gray-900",children:"Perfil"}),g.jsx("p",{className:"mt-2 text-gray-600",children:"Gerencie suas informações pessoais e configurações da conta"})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsxs(dt,{className:"border-0 shadow-md",children:[g.jsx(Qt,{children:g.jsxs(qt,{className:"flex items-center",children:[g.jsx(Bd,{className:"h-5 w-5 mr-3 text-blue-600"}),"Informações Pessoais"]})}),g.jsx(pt,{children:g.jsxs("form",{onSubmit:P,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"name",children:"Nome"}),g.jsx(yt,{id:"name",value:u.name,onChange:S=>O("name",S.target.value),placeholder:"Seu nome completo"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"email",children:"Email"}),g.jsx(yt,{disabled:!0,id:"email",type:"email",value:u.email,onChange:S=>O("email",S.target.value),placeholder:"seu@email.com"})]})]}),y.profile&&g.jsx(Ir,{variant:"destructive",children:g.jsx(Rr,{children:y.profile})}),g.jsx(Ue,{type:"submit",disabled:E.isPending,className:"w-full sm:w-auto",children:E.isPending?"Salvando...":"Salvar Alterações"})]})})]}),g.jsxs(dt,{className:"border-0 shadow-md",children:[g.jsx(Qt,{children:g.jsxs(qt,{className:"flex items-center",children:[g.jsx(p8,{className:"h-5 w-5 mr-3 text-blue-600"}),"Alterar Senha"]})}),g.jsx(pt,{children:g.jsxs("form",{onSubmit:T,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"newPassword",children:"Nova Senha"}),g.jsx(yt,{id:"newPassword",type:"password",value:m.newPassword,onChange:S=>I("newPassword",S.target.value),placeholder:"Digite a nova senha"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{htmlFor:"confirmPassword",children:"Confirmar Senha"}),g.jsx(yt,{id:"confirmPassword",type:"password",value:m.confirmPassword,onChange:S=>I("confirmPassword",S.target.value),placeholder:"Confirme a nova senha"})]})]}),y.password&&g.jsx(Ir,{variant:"destructive",children:g.jsx(Rr,{children:y.password})}),g.jsx(Ue,{type:"submit",disabled:N.isPending,className:"w-full sm:w-auto",children:N.isPending?"Alterando...":"Alterar Senha"})]})})]})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs(dt,{className:"border-0 shadow-md",children:[g.jsx(Qt,{children:g.jsxs(qt,{className:"flex items-center",children:[g.jsx(Qx,{className:"h-5 w-5 mr-3 text-green-600"}),"Informações da Conta"]})}),g.jsxs(pt,{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(Ib,{className:"h-5 w-5 text-gray-400"}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),g.jsx("p",{className:"text-sm text-gray-900 truncate",children:e.email})]})]}),g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(Qx,{className:"h-5 w-5 text-gray-400"}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Função"}),g.jsx("p",{className:"text-sm text-gray-900",children:_(e.role)})]})]}),t&&g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(lg,{className:"h-5 w-5 text-gray-400"}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Empresa"}),g.jsx("p",{className:"text-sm text-gray-900 break-words",children:t.name})]})]})]})]}),g.jsxs(dt,{className:"border-0 shadow-md",children:[g.jsx(Qt,{children:g.jsxs(qt,{className:"flex items-center",children:[g.jsx(_b,{className:"h-5 w-5 mr-3 text-blue-600"}),"Histórico"]})}),g.jsxs(pt,{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Conta criada em"}),g.jsx("p",{className:"text-sm text-gray-900",children:ka(new Date(e.created_at),"dd/MM/yyyy HH:mm",{locale:So})})]}),e.updated_by_user_name&&g.jsxs(g.Fragment,{children:[g.jsx(Bf,{}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Última modificação"}),g.jsx("p",{className:"text-sm text-gray-900",children:e.updated_by_user_name}),g.jsx("p",{className:"text-sm text-gray-900",children:ka(new Date(e.updated_at),"dd/MM/yyyy HH:mm",{locale:So})})]})]})]})]})]})]})]}):g.jsxs("div",{className:"space-y-6 pb-10",children:[g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Perfil"}),g.jsx(dt,{className:"border-0 shadow-md",children:g.jsxs(pt,{className:"text-center py-12",children:[g.jsx(Bd,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Perfil não encontrado"}),g.jsx("p",{className:"text-gray-600",children:"Não foi possível carregar as informações do perfil"})]})})]})}function Y7(){const{signOut:e}=Un();return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center p-4",children:g.jsxs(dt,{className:"max-w-md w-full",children:[g.jsxs(Qt,{className:"text-center",children:[g.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:g.jsx(Nc,{className:"h-8 w-8 text-red-600"})}),g.jsx(qt,{className:"text-xl text-gray-900",children:"Acesso Negado"})]}),g.jsxs(pt,{className:"text-center space-y-4",children:[g.jsx("p",{className:"text-gray-600",children:"Sua conta foi desativada ou não está mais vinculada a uma empresa. Entre em contato com o administrador da sua empresa."}),g.jsxs(Ue,{onClick:e,className:"w-full",children:[g.jsx(fg,{className:"h-4 w-4 mr-2"}),"Fazer Login com Outra Conta"]})]})]})})}function K7(){const{hash:e,pathname:t}=ws(),n=Vs();return C.useEffect(()=>{if(!(e!=null&&e.startsWith("#access_token")))return;const r=new URLSearchParams(e.substring(1)),i=r.get("access_token"),a=r.get("refresh_token"),u=r.get("type");i&&a&&Ze.auth.setSession({access_token:i,refresh_token:a}).then(()=>{u==="recovery"?n("/reset-password",{replace:!0}):n("/dashboard",{replace:!0})})},[e,t,n]),null}function Q7(){const[e,t]=C.useState(""),[n,r]=C.useState(""),[i,a]=C.useState(!1),[u,h]=C.useState(""),{toast:m}=Or(),p=Vs(),y=async()=>{if(h(""),e!==n){h("As senhas não coincidem.");return}if(e.length<6){h("A senha deve ter pelo menos 6 caracteres.");return}a(!0);const{error:v}=await Ze.auth.updateUser({password:e});if(a(!1),v){h(v.message);return}m({title:"Senha redefinida!",description:"Você será redirecionado para o login."}),setTimeout(()=>{p("/login",{replace:!0})},3e3)};return g.jsx("div",{className:"min-h-[85vh] flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50 px-4",children:g.jsxs("div",{className:"max-w-md w-full space-y-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"flex justify-center",children:g.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:g.jsx(Yt,{className:"h-8 w-8 text-white"})})}),g.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Armazena App"}),g.jsx("p",{className:"mt-2 text-xl font-semibold text-gray-900",children:"Definir nova senha"})]}),g.jsxs(dt,{className:"shadow-lg border-0",children:[g.jsxs(Qt,{children:[g.jsx(qt,{className:"text-2xl text-center",children:"Nova senha"}),g.jsx(Ff,{className:"text-center",children:"Digite e confirme sua nova senha"})]}),g.jsxs(pt,{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{children:"Nova senha"}),g.jsx(yt,{type:"password",value:e,onChange:v=>t(v.target.value),placeholder:"Mínimo 6 caracteres",required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ut,{children:"Confirmar senha"}),g.jsx(yt,{type:"password",value:n,onChange:v=>r(v.target.value),required:!0})]}),u&&g.jsx(Ir,{variant:"destructive",children:g.jsx(Rr,{children:u})}),g.jsx(Ue,{className:"w-full h-11",onClick:y,disabled:i,children:i?"Salvando…":"Salvar"})]})]})]})})}const Z7=new X4;function J7(){return g.jsx(J4,{client:Z7,children:g.jsxs(iT,{children:[g.jsx(K7,{}),g.jsxs(CR,{children:[g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:g.jsxs(ZN,{children:[g.jsx(vr,{path:"/reset-password",element:g.jsx(Q7,{})}),g.jsx(vr,{path:"/login",element:g.jsx(r5,{})}),g.jsx(vr,{path:"/acesso-negado",element:g.jsx(Y7,{})}),g.jsx(vr,{path:"/",element:g.jsx(ei,{children:g.jsx(ni,{children:g.jsx(b1,{to:"/dashboard",replace:!0})})})}),g.jsx(vr,{path:"/dashboard",element:g.jsx(ei,{children:g.jsx(ni,{children:g.jsx(s5,{})})})}),g.jsx(vr,{path:"/assets",element:g.jsx(ei,{children:g.jsx(ni,{children:g.jsx(g7,{})})})}),g.jsx(vr,{path:"/assets/new",element:g.jsx(ei,{children:g.jsx(ni,{children:g.jsx(j7,{})})})}),g.jsx(vr,{path:"/assets/:id",element:g.jsx(ei,{children:g.jsx(ni,{children:g.jsx(R7,{})})})}),g.jsx(vr,{path:"/assets/:id/edit",element:g.jsx(ei,{children:g.jsx(ni,{children:g.jsx(L7,{})})})}),g.jsx(vr,{path:"/users",element:g.jsx(ei,{requiredRole:"admin",children:g.jsx(ni,{children:g.jsx(q7,{})})})}),g.jsx(vr,{path:"/profile",element:g.jsx(ei,{children:g.jsx(ni,{children:g.jsx(X7,{})})})})]})}),g.jsx(JP,{}),g.jsx(KP,{}),g.jsx(XP,{}),g.jsx(rI,{})]})]})})}A2(document.getElementById("root")).render(g.jsx(J7,{}));
